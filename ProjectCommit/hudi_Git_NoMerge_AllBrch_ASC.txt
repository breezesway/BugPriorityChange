Revision: 0512da094bad2f3bcd2ddddc29e8abfec175dcfe
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/12/2016 06:03:59
Message:
Import from Hoodie private repo: Part 1 #MsgLength=40


----
Added: hoodie-cli/hoodie-cli.sh|4 0
Added: hoodie-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar|0 0
Added: hoodie-cli/pom.xml|208 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|54 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java|37 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|34 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|49 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java|55 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java|33 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|244 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|42 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|106 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RecordsCommand.java|78 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|94 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|136 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java|34 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|38 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|125 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java|56 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|75 0
Added: hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml|26 0
Added: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|179 0
Added: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|141 0
Added: hoodie-common/pom.xml|94 0
Added: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|54 0
Added: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|166 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java|100 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java|3826 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|190 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java|191 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFile.java|57 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java|73 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|153 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|69 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|57 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java|480 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java|35 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|158 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|117 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|140 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java|26 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|138 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|43 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|32 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java|55 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java|37 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java|34 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java|35 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java|32 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|45 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|96 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommits.java|48 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieTableMetadata.java|242 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|70 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java|35 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|92 0

Revision: 81874a84061fd7c5162b576fc1f60986e5cc7f2d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 17/12/2016 06:34:42
Message:
Importing Hoodie Client from internal repo #MsgLength=17494


----
Added: .gitignore|70 0
Added: LICENSE.txt|614 0
Added: README.md|205 0
Modified: hoodie-cli/pom.xml|0 10
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|1 1
Added: hoodie-client/pom.xml|142 0
Added: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|299 0
Added: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|556 0
Added: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|133 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java|49 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|175 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|107 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java|112 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|85 0
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|308 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java|32 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java|35 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java|30 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java|28 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java|32 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/InsertMapFunction.java|52 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|114 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java|128 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|229 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|422 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndexCheckFunction.java|193 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|101 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|109 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/IndexLookupResult.java|43 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|224 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|144 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|92 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|125 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|193 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java|66 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|107 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java|29 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|56 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|677 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/storage/SizeAwareFSDataOutputStream.java|59 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|148 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java|37 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|87 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java|95 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java|36 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java|48 0
Added: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java|26 0
Added: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|451 0
Added: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|98 0
Added: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|115 0
Added: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|67 0
Added: hoodie-client/src/main/resources/log4j.properties|23 0
Added: hoodie-client/src/test/java/HoodieClientExample.java|81 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|634 0
Added: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|81 0
Added: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|169 0
Added: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|107 0
Added: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|119 0
Added: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java|439 0
Added: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|44 0
Added: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java|175 0
Added: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|164 0
Added: hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java|45 0
Added: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|431 0
Added: hoodie-client/src/test/resources/exampleEvolvedSchema.txt|23 0
Added: hoodie-client/src/test/resources/exampleSchema.txt|19 0
Added: hoodie-client/src/test/resources/log4j.properties|23 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/GenericHoodiePayload.java|108 0
Added: pom.xml|395 0

Revision: 8e80c8d2eae5eaf306e07d6d27f26b4070d1dd42
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/12/2016 06:43:39
Message:
Final cleanup before open-source #MsgLength=33


----
Modified: hoodie-cli/pom.xml|10 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|0 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/GenericHoodiePayload.java|0 20

Revision: 41905b7903b6886abf2b6d39c72e259180518d7f
Author: prazanna <prasanna@uber.com>
Date: 20/12/2016 05:01:37
Message:
Added contributing section #MsgLength=26


----
Modified: README.md|6 0

Revision: 61200b1207abdec60420771b0ae367a7c6466720
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/12/2016 11:29:53
Message:
Adding hoodie-hadoop-mr module to add HoodieInputFormat #MsgLength=56


----
Added: hoodie-hadoop-mr/pom.xml|69 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|58 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|252 0
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|237 0
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|165 0
Added: hoodie-hadoop-mr/src/test/resources/sample1.avro|17 0
Modified: pom.xml|8 6


Revision: 388457b6b28ccfb6b91c0f1b35e921ffc913e8e3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 20/12/2016 15:04:39
Message:
Add hoodie-hive module to support hive registration of hoodie datasets #MsgLength=71


----
Modified: hoodie-hadoop-mr/pom.xml|26 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|1 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|1 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|1 1
Added: hoodie-hive/pom.xml|127 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveConfiguration.java|119 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetException.java|40 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java|181 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSchemaSyncTask.java|243 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java|56 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaStrategy.java|31 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/ColumnNameXLator.java|48 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java|206 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieHiveClient.java|365 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/SchemaUtil.java|436 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieDatasetExample.java|56 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java|78 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/ParseSchemaFromDataStrategy.java|43 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/HoodieDatasetReference.java|79 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/SchemaDifference.java|108 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java|51 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/TablePartition.java|38 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/DatasetSchemaTest.java|186 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java|98 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvParquetWriter.java|44 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvWriteSupport.java|94 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HdfsTestService.java|166 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|322 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java|199 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/ZookeeperTestService.java|241 0
Added: hoodie-hive/src/test/resources/nation.csv|25 0
Added: hoodie-hive/src/test/resources/nation.schema|6 0
Added: hoodie-hive/src/test/resources/nation_evolved.csv|25 0
Added: hoodie-hive/src/test/resources/nation_evolved.schema|7 0
Modified: pom.xml|45 1


Revision: e26813acca443a0321e50c474d560506d929bdbc
Author: prazanna <prasanna@uber.com>
Date: 21/12/2016 07:12:39
Message:
Added .travis.yml file #MsgLength=22


----
Added: travis.yml|1 0

Revision: e91cfe68e722403893b9d7ba317d28fc817fdada
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 21/12/2016 08:51:58
Message:
Update README.md #MsgLength=16


----
Modified: README.md|1 1

Revision: d9cead53fefbc0c60962bcd52e3602bcf143d1b9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/12/2016 07:38:50
Message:
Added .travis.yml file #MsgLength=23


----
Renamed: .travis.yml [from travis.yml]|1 1

Revision: 5d44ae3dbd6418c4d1dece9e74d19891da1faf1f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/12/2016 08:20:38
Message:
Make hoodie run on travis-ci #MsgLength=354


----
Modified: .travis.yml|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|0 8
Renamed: hoodie-client/src/test/resources/log4j-surefire.properties [from hoodie-client/src/test/resources/log4j.properties]|4 3
Added: hoodie-common/src/test/resources/log4j-surefire.properties|25 0
Added: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|25 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java|3 1
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java|2 1
Added: hoodie-hive/src/test/resources/log4j-surefire.properties|26 0
Modified: pom.xml|10 4


Revision: f8512782943d95a54b80690c41084dc4a0b1730d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/12/2016 16:26:56
Message:
Added needed section to deploy to maven central. Adding travis-settings to be able to publish to maven central (through oss.sonatype) on push to uber/hoodie master #MsgLength=164


----
Added: deploy/maven/sonatype-settings.xml|28 0
Added: deploy/pubring.gpg.enc|0 0
Added: deploy/scripts/publish.sh|8 0
Added: deploy/secring.gpg.enc|0 0
Modified: pom.xml|88 0


Revision: e59dd480190e5b1ba305e6c633e977f71408c4d9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 04:47:01
Message:
Add ossrh profile to publish maven artifacts to oss.sonatype.org (synced with maven central) #MsgLength=93


----
Modified: deploy/maven/sonatype-settings.xml|2 2
Deleted: deploy/scripts/publish.sh|0 8
Modified: pom.xml|1 1

Revision: 5362e9288602175283ab0501059c3152cd3d5688
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 06:45:31
Message:
[maven-release-plugin] prepare release hoodie-0.2.5 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|2 4
Modified: hoodie-hive/pom.xml|2 4
Modified: pom.xml|2 2

Revision: 5f9be585764a4a3d697131019b9e717611884d95
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 06:45:37
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 4b28ecae1b11bff3e92fb0b5a7a28eea710938f4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 08:44:04
Message:
Naming the release profile correctly #MsgLength=37


----
Modified: pom.xml|1 1

Revision: d42f235bbc1a29abc37979c4db0f2586af6fa757
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 08:48:30
Message:
[maven-release-plugin] prepare release hoodie-0.2.6 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 12885ab60a027972a8ca73520ad8717b07e90a23
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 08:48:36
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|2 2

Revision: b6d8e857f0adf70de5772b21310ade44470a7490
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 09:34:29
Message:
Fix javadoc issues. Prelude to pushing libs to maven central #MsgLength=61


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|1 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java|1 142
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java|3 6
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/SchemaUtil.java|1 1
Modified: pom.xml|4 4

Revision: 587aaffcf67e7d4ab1443a29c9d11b805075f5d4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 09:38:50
Message:
[maven-release-plugin] prepare release hoodie-0.2.7 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|2 2

Revision: ee854da9b2d9a2a8f3c92e28b9121887eeb82410
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/12/2016 09:38:57
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 0c854faebe22716ad024f6953f13bc62bad14604
Author: Vinoth Chandar <vinoth@uber.com>
Date: 29/12/2016 07:42:30
Message:
Adding hoodie-utilities module #MsgLength=31


----
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|2 3
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java [from hoodie-common/src/main/java/com/uber/hoodie/common/GenericHoodiePayload.java]|22 3
Added: hoodie-utilities/pom.xml|211 0
Added: hoodie-utilities/src/assembly/src.xml|50 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|337 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java|230 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|159 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java|31 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java|29 0
Added: hoodie-utilities/src/main/resources/IncrementalPull.sqltemplate|8 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|148 0
Modified: pom.xml|1 0


Revision: 84e0a7f68a632a41541e9ab51808aee49c5d1a36
Author: Vinoth Chandar <vinoth@uber.com>
Date: 29/12/2016 08:43:16
Message:
Fixing version in hoodie-utilities pom.xml #MsgLength=43


----
Modified: hoodie-utilities/pom.xml|1 1


Revision: e8e43a22db0f6dafa77c457a73abb26c46fbf1c7
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/12/2016 08:53:39
Message:
Set theme jekyll-theme-minimal #MsgLength=30


----
Added: _config.yml|1 0

Revision: e750506228c4feed195daee066b4af5ed8a55767
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/12/2016 08:54:37
Message:
Create CNAME #MsgLength=12


----
Added: CNAME|1 0

Revision: db72a33d9aaa53e3357780f2ecb47f189491fe96
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/12/2016 08:56:49
Message:
Delete CNAME #MsgLength=12


----
Deleted: CNAME|0 1

Revision: 2bf0db14c682a873473b3d9676a669ddea650b51
Author: Vinoth Chandar <vinoth@uber.com>
Date: 31/12/2016 03:05:22
Message:
Adding docs folder, with skeleton jekyll based site #MsgLength=143


----
Added: docs/.gitignore|4 0
Added: docs/404.md|6 0
Added: docs/Dockerfile|26 0
Added: docs/Gemfile|10 0
Added: docs/Gemfile.lock|150 0
Added: docs/_config.yml|87 0
Added: docs/_data/alerts.yml|15 0
Added: docs/_data/sidebars/mydoc_sidebar.yml|58 0
Added: docs/_data/strings.yml|5 0
Added: docs/_data/tags.yml|9 0
Added: docs/_data/topnav.yml|30 0
Added: docs/_includes/archive.html|15 0
Added: docs/_includes/callout.html|1 0
Added: docs/_includes/custom/getting_started_series.html|19 0
Added: docs/_includes/custom/getting_started_series_next.html|10 0
Added: docs/_includes/custom/series_acme.html|19 0
Added: docs/_includes/custom/series_acme_next.html|30 0
Added: docs/_includes/custom/sidebarconfigs.html|19 0
Added: docs/_includes/custom/usermap.html|14 0
Added: docs/_includes/custom/usermapcomplex.html|91 0
Added: docs/_includes/disqus.html|16 0
Added: docs/_includes/feedback.html|13 0
Added: docs/_includes/footer.html|9 0
Added: docs/_includes/google_analytics.html|6 0
Added: docs/_includes/head.html|36 0
Added: docs/_includes/head_print.html|33 0
Added: docs/_includes/image.html|1 0
Added: docs/_includes/important.html|1 0
Added: docs/_includes/initialize_shuffle.html|130 0
Added: docs/_includes/inline_image.html|1 0
Added: docs/_includes/links.html|44 0
Added: docs/_includes/note.html|1 0
Added: docs/_includes/sidebar.html|56 0
Added: docs/_includes/taglogic.html|32 0
Added: docs/_includes/tip.html|1 0
Added: docs/_includes/toc.html|21 0
Added: docs/_includes/topnav.html|75 0
Added: docs/_includes/warning.html|1 0
Added: docs/_layouts/default.html|80 0
Added: docs/_layouts/default_print.html|25 0
Added: docs/_layouts/none.html|3 0
Added: docs/_layouts/page.html|70 0
Added: docs/_layouts/page_print.html|15 0
Added: docs/_layouts/post.html|41 0
Added: docs/_posts/2016-12-30-strata-talk-2017.md|11 0
Added: docs/admin_guide.md|10 0
Added: docs/api_docs.md|10 0
Added: docs/code_structure.md|10 0
Added: docs/community.md|10 0
Added: docs/comparison.md|10 0
Added: docs/concepts.md|10 0
Added: docs/css/bootstrap.min.css|5 0
Added: docs/css/customstyles.css|1181 0
Added: docs/css/font-awesome.min.css|4 0
Added: docs/css/fonts/FontAwesome.otf|0 0
Added: docs/css/fonts/fontawesome-webfont.eot|0 0
Added: docs/css/fonts/fontawesome-webfont.svg|565 0
Added: docs/css/fonts/fontawesome-webfont.ttf|0 0
Added: docs/css/fonts/fontawesome-webfont.woff|0 0
Added: docs/css/fonts/fontawesome-webfont.woff2|0 0
Added: docs/css/lavish-bootstrap.css|5898 0
Added: docs/css/modern-business.css|93 0
Added: docs/css/printstyles.css|160 0
Added: docs/css/syntax.css|60 0
Added: docs/css/theme-blue.css|103 0
Added: docs/css/theme-green.css|99 0
Added: docs/dev_setup.md|10 0
Added: docs/feed.xml|32 0
Added: docs/fonts/FontAwesome.otf|0 0
Added: docs/fonts/fontawesome-webfont.eot|0 0
Added: docs/fonts/fontawesome-webfont.svg|520 0
Added: docs/fonts/fontawesome-webfont.ttf|0 0
Added: docs/fonts/fontawesome-webfont.woff|0 0
Added: docs/fonts/glyphicons-halflings-regular.eot|0 0
Added: docs/fonts/glyphicons-halflings-regular.svg|288 0
Added: docs/fonts/glyphicons-halflings-regular.ttf|0 0
Added: docs/fonts/glyphicons-halflings-regular.woff|0 0
Added: docs/fonts/glyphicons-halflings-regular.woff2|0 0
Added: docs/images/androidsdkmanagericon.png|0 0
Added: docs/images/authorizegithubscreen2.png|0 0
Added: docs/images/authorizeongithub.png|0 0
Added: docs/images/company_logo.png|0 0
Added: docs/images/company_logo_big.png|0 0
Added: docs/images/favicon.ico|0 0
Added: docs/images/helpapi-01.png|0 0
Added: docs/images/helpapi.svg|1661 0
Added: docs/images/illustratoroptions.png|0 0
Added: docs/images/itermexample.png|0 0
Added: docs/images/jekyll.png|0 0
Added: docs/images/killalljekyll.png|0 0
Added: docs/images/liningup.png|0 0
Added: docs/images/workflowarrow.png|0 0
Added: docs/incremental_processing.md|10 0
Added: docs/index.md|220 0
Added: docs/js/customscripts.js|55 0
Added: docs/js/jekyll-search.js|1 0
Added: docs/js/jquery.ba-throttle-debounce.min.js|9 0
Added: docs/js/jquery.localScroll.min.js|7 0
Added: docs/js/jquery.navgoco.min.js|8 0
Added: docs/js/jquery.scrollTo.min.js|7 0
Added: docs/js/jquery.shuffle.min.js|1588 0
Added: docs/js/mydoc_scroll.html|240 0
Added: docs/js/toc.js|82 0
Added: docs/licenses/LICENSE|21 0
Added: docs/licenses/LICENSE-BSD-NAVGOCO.txt|27 0
Added: docs/pages/news/news.html|32 0
Added: docs/pages/news/news_archive.html|41 0
Added: docs/performance.md|10 0
Added: docs/powered_by.md|9 0
Added: docs/quickstart.md|10 0
Added: docs/roadmap.md|10 0
Added: docs/search.json|33 0
Added: docs/sitemap.xml|24 0
Added: docs/sql_queries.md|10 0
Added: docs/use_cases.md|9 0


Revision: e73686be699ba01f0269497b385449f328d06fe6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 31/12/2016 03:24:24
Message:
Create CNAME #MsgLength=12


----
Added: docs/CNAME|1 0

Revision: d525687512d252d114bd99be83cce6960f22c653
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 31/12/2016 03:26:44
Message:
Delete CNAME #MsgLength=12


----
Deleted: docs/CNAME|0 1

Revision: 7da5e9a03adbd3a986dcd030cc8bb84e5814fef2
Author: prazanna <prasanna@uber.com>
Date: 04/01/2017 09:26:28
Message:
Create CNAME #MsgLength=12


----
Added: docs/CNAME|1 0

Revision: 040c7aa76628cea6933214e936f596a5df3b9e69
Author: prazanna <prasanna@uber.com>
Date: 04/01/2017 10:24:36
Message:
Delete CNAME #MsgLength=12


----
Deleted: docs/CNAME|0 1

Revision: dd8638c2cc83a99c0b2fdd3c07754e8ea8b1bac8
Author: Vinoth Chandar <vinoth@uber.com>
Date: 05/01/2017 03:18:05
Message:
Annotate HoodieInputFormat with UseFileSplitsFromInputFormat - Tested with corresponding Presto changes (pending PR) #MsgLength=118


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|1 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java|36 0
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java|38 0


Revision: 958f7ceda6adef8c8403722abbf74bdbc8e09304
Author: Vinoth Chandar <vinoth@uber.com>
Date: 05/01/2017 12:50:44
Message:
Adding Documentation for Getting Started Section #MsgLength=230


----
Modified: docs/_includes/head.html|1 1
Modified: docs/admin_guide.md|42 1
Modified: docs/code_structure.md|8 1
Modified: docs/community.md|6 1
Modified: docs/concepts.md|5 1
Added: docs/images/hoodie_intro_1.png|0 0
Modified: docs/index.md|11 202
Modified: docs/powered_by.md|3 1
Modified: docs/quickstart.md|145 1
Modified: docs/roadmap.md|5 1
Modified: docs/use_cases.md|71 1


Revision: 64858239d16ce6f8d66f103aa48afa81a65b9bee
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 05/01/2017 15:58:09
Message:
Update use_cases.md #MsgLength=19


----
Modified: docs/use_cases.md|1 1



Revision: 247561024679e64c97f6289ddf8dfd34e018bc65
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 05/01/2017 06:51:46
Message:
Build hoodie-hadoop-mr as a fat jar - include hoodie common #MsgLength=60


----
Modified: hoodie-hadoop-mr/pom.xml|22 0


Revision: 6dd603352ee59f20f376924e469ac653a27e9091
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 08:45:59
Message:
Make sure to fail with HoodieUpsertException if HoodieUpdateHandle is not properly initialized #MsgLength=95


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|3 0


Revision: b2c958519e0ff8da2e7136a1c9b7753618806b6c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 06/01/2017 09:26:47
Message:
Changing Update record failure semantics to be consistent with inserts - Don't skip, but writes the same old record again now - Marks the correspoinding HoodieRecord as failure to be handed back to the client #MsgLength=211


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|2 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|16 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|4 3


Revision: c1f2d1e456c385b6c1b5c07e95715acd0d5bdeb1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 11:43:25
Message:
[maven-release-plugin] prepare release hoodie-0.2.8 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 7171ea690970d7ec5fffa4b200862672836206da
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 11:43:31
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 1d72b164c80588786146283d67baad0ab075c693
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 11:56:41
Message:
Javadoc generation fails because of invalid html tags #MsgLength=54


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java|0 1

Revision: e9f0d4d0bfe006425d1b376020b29d4f4caf8f79
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 12:04:28
Message:
[maven-release-plugin] prepare release hoodie-0.2.9 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 1ced46ab3e385d0b458e031d15d8aba2913e54eb
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 06/01/2017 12:04:35
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 5a7d408c3c1780a1da52d3c640b2f1835969b910
Author: Vinoth Chandar <vinoth@uber.com>
Date: 06/01/2017 15:55:53
Message:
Fixing the eyesore red font color over sidebar for docs #MsgLength=56


----
Modified: docs/css/theme-blue.css|3 3
Modified: docs/css/theme-green.css|3 3


Revision: 1559a3826fa037cbe981962ec3255566b06e7669
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 06/01/2017 16:06:15
Message:
Minor fixes to use_cases.md #MsgLength=27


----
Modified: docs/use_cases.md|8 10

Revision: 40a63fcab414143edfdcddd90900fbe300f0241e
Author: Vinoth Chandar <vinoth@uber.com>
Date: 10/01/2017 03:30:46
Message:
Shorten README and point to site #MsgLength=33


----
Modified: README.md|4 209
Modified: docs/concepts.md|1 1


Revision: e4e3395f3e8edbe236ad49b72eafbb1dffdaefda
Author: prazanna <prasanna@uber.com>
Date: 11/01/2017 14:14:40
Message:
Make commit a public method. Introduce a auto-commit config. Relates issue https://github.com/uber/hoodie/issues/58 (#60) #MsgLength=123


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|17 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|15 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|35 5

Revision: e9866bb4d9f6ee868d9b9f6f27956996f52eadb7
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 11/01/2017 14:27:28
Message:
[maven-release-plugin] prepare release hoodie-0.2.10 #MsgLength=53


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 693d751506840ab811a1d93a0c39b7ab51c89e0f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 11/01/2017 14:27:35
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 8a39730273e0dbd3f9197de7a116d925f7ac13f9
Author: Zeeshan Qureshi <zeeshan.qureshi@shopify.com>
Date: 17/01/2017 11:14:30
Message:
Format param comment in HoodieKey #MsgLength=34


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java|2 2


Revision: 54409b07ea056df6a2b40452caa2641d5fd19fbe
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 27/01/2017 03:13:33
Message:
Implement HoodieROTablePathFilter for use with Spark 2.0 (#66) #MsgLength=126


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|7 2
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|159 0
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|75 0

Revision: 8e72ed69b430b67bc4d3fcaeeee580890c3e305a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 28/01/2017 02:51:00
Message:
Split insert() into insert() & bulkInsert() (#69) #MsgLength=436


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|189 136
Renamed: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java [from hoodie-client/src/main/java/com/uber/hoodie/func/InsertMapFunction.java]|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|9 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|11 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|90 14
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|3 0

Revision: 186d70713f6544ed3ead61952bbb75acf6f5b3ce
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/01/2017 07:22:57
Message:
Adding documentation around Hoodie concepts (#71) #MsgLength=51


----
Modified: docs/_data/sidebars/mydoc_sidebar.yml|4 4
Modified: docs/comparison.md|5 0
Modified: docs/concepts.md|111 4
Added: docs/images/hoodie_cow.png|0 0
Added: docs/images/hoodie_mor.png|0 0
Added: docs/images/hoodie_timeline.png|0 0
Renamed: docs/implementation.md [from docs/performance.md]|5 1

Revision: a725382549afefb84f72a4d1bb733390d3569834
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 07/02/2017 06:12:18
Message:
Add Configurations to Documentation #MsgLength=36


----
Modified: docs/_data/sidebars/mydoc_sidebar.yml|4 0
Modified: docs/_data/tags.yml|1 0
Added: docs/configurations.md|79 0

Revision: c7a8e15c7880c09edf3d7e4ab0882dc5209029cd
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 18/02/2017 00:25:17
Message:
Docs for impl & comparison (#79) #MsgLength=133


----
Modified: docs/comparison.md|47 1
Modified: docs/implementation.md|80 4
Modified: docs/powered_by.md|2 1

Revision: 66e272e9eb5249884658e217aca87ac610f3b14d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 18/02/2017 10:30:56
Message:
Docs for performance section  (#80) #MsgLength=99


----
Added: docs/images/hoodie_query_perf_hive.png|0 0
Added: docs/images/hoodie_query_perf_presto.png|0 0
Added: docs/images/hoodie_query_perf_spark.png|0 0
Added: docs/images/hoodie_upsert_perf1.png|0 0
Added: docs/images/hoodie_upsert_perf2.png|0 0
Modified: docs/implementation.md|20 3

Revision: dcc15d5d6f71f87d9f3055ef2e06ff3acc645bdc
Author: Vinoth Chandar <vinoth@uber.com>
Date: 18/02/2017 12:19:18
Message:
Adding docs for running sql queries on hoodie datasets #MsgLength=55


----
Modified: docs/sql_queries.md|59 1

Revision: 33a85900f806c1b10ec8115f8e298cdb5d7d6d14
Author: Vinoth Chandar <vinoth@uber.com>
Date: 20/02/2017 12:13:57
Message:
Adding admin guide, guide for sql queries and incr processing #MsgLength=62


----
Modified: docs/_includes/footer.html|1 1
Modified: docs/admin_guide.md|206 32
Modified: docs/community.md|1 0
Added: docs/images/hoodie_commit_duration.png|0 0
Added: docs/images/hoodie_upsert_dag.png|0 0
Modified: docs/incremental_processing.md|81 1
Modified: docs/sql_queries.md|1 1

Revision: 6e6f6efb94cfba342aa0bc7a29f02aeb461d771d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:00:16
Message:
[maven-release-plugin] prepare release hoodie-0.2.11 #MsgLength=53


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 8f1216316624f017a5e13f29236f06a9f1517595
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:00:35
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 9828bd8019de778233aa96da154999fc05ea0e73
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:35:03
Message:
[maven-release-plugin] prepare release hoodie-0.2.12 #MsgLength=53


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 57a0b7a781d5fdb0771f119a1d0863b9e17bebb3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:35:19
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 7178cb5a3fe1086b93e8d12a66674f7fc77a493d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:41:32
Message:
Fixing a javadoc lint issue #MsgLength=28


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 2

Revision: dd03038254b69438b5d3a5d74cef6ee7d193d263
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:49:20
Message:
[maven-release-plugin] prepare release hoodie-0.2.13 #MsgLength=53


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: cc58a4c3e0ef7ca90b388711d1a8a815ac6ae799
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:49:45
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 4a47d26818e6d44fec89b00430a439401d3cedb0
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 07:57:58
Message:
Fixing a javadoc lint issue #MsgLength=28


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|5 5
Modified: pom.xml|3 0

Revision: 2d49711cce43d305754027952b88d2f70ac31a17
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:01:24
Message:
Changing the current development version to 0.2.14-SNAPSHOT #MsgLength=60


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 47583e280f259db79d1e7f8607cb90cf55b9b453
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:08:45
Message:
[maven-release-plugin] prepare release hoodie-0.2.14 #MsgLength=53


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: be1dd9444f881b3e667501ce4ec980896729ca96
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:09:05
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 0e234ac0ef240d8930e99d46ce1d69f5004be315
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:47:52
Message:
Moving to Spark 2.1.0 #MsgLength=22


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|15 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|3 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|3 2
Modified: pom.xml|4 3

Revision: d5a5f2ddff7bbfc079da084f9637a5b119b6b220
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:52:04
Message:
[maven-release-plugin] prepare release hoodie-0.3.0 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 283269e57faae3c5c8620f0bc90d32a68075eff1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 21/02/2017 08:52:25
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 8ee777a9bbe2b995f3f1984c83db1de46e27c104
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 05/01/2017 06:40:26
Message:
Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0 #MsgLength=1412


----
Modified: hoodie-cli/pom.xml|1 8
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|4 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|4 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|46 39
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|6 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|29 20
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|15 11
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|6 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|7 7
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|16 5
Modified: hoodie-client/pom.xml|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|32 21
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|229 295
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|7 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|11 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|47 40
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|35 34
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|41 28
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|11 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|34 25
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|11 12
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|61 42
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|2 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|5 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java|12 12
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java|11 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|34 29
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|23 20
Modified: hoodie-common/pom.xml|11 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|5 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommits.java|0 191
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|71 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFile.java|0 57
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieStorageType.java|31 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableMetadata.java|0 477
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|138 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|275 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|190 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|93 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveCommitTimeline.java|77 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedCommitTimeline.java|121 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieCleanerTimeline.java|57 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|348 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieSavePointTimeline.java|50 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|192 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java|47 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|0 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|22 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java|5 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|10 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|68 30
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommits.java|0 48
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieTableMetadata.java|0 242
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|128 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieDefaultTimelineTest.java|104 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|66 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java|385 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|10 17
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java|10 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|10 10
Modified: hoodie-hadoop-mr/pom.xml|2 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|33 23
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|2 2
Modified: hoodie-utilities/pom.xml|2 10
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|13 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java|16 15
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|30 15
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|1 1
Modified: pom.xml|81 12

Revision: ccd8cb240726deda35fabd2860edcbf4adeb1013
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 18/01/2017 17:00:36
Message:
Take 2: Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0 - Refactored timelines to be a single timeline for all active events and one for archived events. CommitTimeline and other timelines can be inferred by applying a filter on the activeTimelime - Introduced HoodieInstant to abstract different types of action, commit time and if isInFlight - Implemented other review comments #MsgLength=409


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|5 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|39 27
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|16 11
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|8 5
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|5 3
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|17 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|26 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|6 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|42 38
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|25 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|13 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|15 16
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|31 20
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|2 2
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieStorageType.java]|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|9 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|30 81
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|100 81
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|6 6
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveCommitTimeline.java|0 77
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|252 0
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedCommitTimeline.java]|47 50
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieCleanerTimeline.java|0 57
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|45 243
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|121 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieSavePointTimeline.java|0 50
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|28 22
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|19 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|13 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|57 41
Renamed: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java [from hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieDefaultTimelineTest.java]|56 34
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|18 40
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java|18 12
Modified: hoodie-hadoop-mr/pom.xml|5 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|6 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|12 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|6 4

Revision: 48fbb0f4258499366477b00e164bccbfacccd792
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 24/01/2017 16:55:40
Message:
Implement reliable log file management for Merge on read, which is fault tolerant and allows random block level access on avro file #MsgLength=132


----
Modified: hoodie-client/pom.xml|39 0
Modified: hoodie-common/pom.xml|25 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java|228 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java|64 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java|92 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java|140 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogReader.java|82 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java|155 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java|87 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|171 3
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java|25 0
Renamed: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java [from hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HdfsTestService.java]|10 10
Added: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java|53 0
Renamed: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java [from hoodie-hive/src/test/java/com/uber/hoodie/hive/util/ZookeeperTestService.java]|10 10
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java|315 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|62 0
Added: hoodie-common/src/test/resources/sample.data|1000 0
Added: hoodie-common/src/test/resources/simple-test.avro|10 0
Modified: hoodie-hive/pom.xml|7 0
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java|2 0
Modified: hoodie-utilities/pom.xml|42 0
Modified: pom.xml|7 0

Revision: 11d2fd34281aa8a7365c46f033a65eab29898042
Author: prazanna <prasanna@uber.com>
Date: 07/02/2017 06:32:32
Message:
Introduce RealtimeTableView and Implement HoodieRealtimeTableCompactor (#73) #MsgLength=78


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|3 5
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionFilter.java|34 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|79 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionMetadata.java|26 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|53 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|169 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|4 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|2 1
Added: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|200 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|52 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|19 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|8 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|11 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java|12 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java|18 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|27 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|53 30
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java|3 13
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RealtimeTableView.java|80 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|70 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|33 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java|3 1
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java|31 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|60 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java|14 3

Revision: eb46e7c72bbbe3149ebf66a6d90167966ba65938
Author: prazanna <prasanna@uber.com>
Date: 22/02/2017 07:24:00
Message:
Implement Merge on Read Storage (#76) #MsgLength=242


----
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|16 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|37 30
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|1 1
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java|32 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|9 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|24 27
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|4 3
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|163 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|8 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|10 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|16 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|4 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|16 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|20 20
Added: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|62 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|136 27
Modified: hoodie-client/src/test/java/HoodieClientExample.java|8 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|24 11
Added: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|208 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java|18 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java|22 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|19 14
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|18 15
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java|45 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|12 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|15 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|15 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 0
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java]|38 4
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/ReadOptimizedTableView.java|0 37
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RealtimeTableView.java|0 80
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java|23 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|21 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java|15 15
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java|4 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|3 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|4 2

Revision: 1132f3533d0bf76c323a1728ef35301e3b55e38e
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/02/2017 09:53:28
Message:
Merge and pull master commits #MsgLength=30


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|144 85
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|16 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|8 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|10 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|11 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|19 7
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|3 1

Revision: fe5c5e80214493f39390e16f33366d12e895f63a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 22/02/2017 12:25:01
Message:
Test Failure in Travis-ci #MsgLength=26


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|5 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|7 7

Revision: c4fa585b27cb4e20de44879053ab46aa8e1ad040
Author: Wei Yan <ywskycn@gmail.com>
Date: 24/02/2017 12:12:36
Message:
Switch some info log to debug (#83) #MsgLength=123


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|6 2

Revision: 116a78094fd53fc13d3b613f422a9fb220b95f1f
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 28/02/2017 07:52:13
Message:
Cleanup code based on Java8 Lambdas (#84) #MsgLength=43


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|24 49
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|38 96
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|91 175

Revision: 8a2a9ae764b38369d252c57eaaa77b0dcf0061c3
Author: prazanna <prasanna@uber.com>
Date: 03/03/2017 03:35:09
Message:
Making minor documentation fixes #MsgLength=32


----
Modified: docs/index.md|2 5

Revision: d84aea35121ea59d48de75cebe8d03fbd82a50de
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 03/03/2017 03:39:40
Message:
Fixing minor documentation fixes #MsgLength=33


----
Modified: docs/index.md|1 1

Revision: 41e08018fc0bd8ceb740602a31781872338c9cc5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 03/03/2017 03:42:04
Message:
Fixing minor documentation fixes #MsgLength=33


----
Modified: docs/incremental_processing.md|2 2

Revision: 348a48aa8047b29d05dd0e08287a225ede008dae
Author: siddharthagunda <siddharthagunda@gmail.com>
Date: 04/03/2017 17:33:49
Message:
Add delete support to Hoodie (#85) #MsgLength=36


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|17 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|12 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|18 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|16 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|15 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|79 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|21 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|24 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java|4 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|9 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|5 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|14 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|2 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|1 1

Revision: 404726031d37211f149c241c731ecf9b5f528bbd
Author: prazanna <prasanna@uber.com>
Date: 04/03/2017 17:36:21
Message:
Adding Siddhartha Gunda as a contributor #MsgLength=80


----
Modified: pom.xml|4 0

Revision: b252633fab182ba248aa5ccbb9aea2e661c26b81
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/03/2017 10:39:58
Message:
Add analytics to site #MsgLength=22


----
Modified: docs/_includes/head.html|11 0

Revision: c3257b96806608a2f082313c743c90cfa4718e44
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/03/2017 11:28:27
Message:
Fix ugly favicon #MsgLength=17


----
Modified: docs/images/favicon.ico|0 0

Revision: 69d3950a325a9b3cb22b6948abba1b22145783cf
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 14/03/2017 03:41:29
Message:
Revamped Deltastreamer  (#93) #MsgLength=945


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|16 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|10 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|15 1
Modified: hoodie-utilities/pom.xml|43 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|11 9
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java|0 230
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|13 11
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|108 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerAvroPayload.java|67 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerPayload.java|49 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|359 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java|31 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java|7 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java|7 5
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/KeyGenerator.java|47 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/SimpleKeyGenerator.java|58 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|105 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|74 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java|39 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java|93 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|152 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|132 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|247 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|68 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/SourceDataFormat.java|29 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/hoodie-client.properties|19 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties|20 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/schema-provider.properties|20 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/source.avsc|30 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/source.properties|25 0
Added: hoodie-utilities/src/main/resources/delta-streamer-config/target.avsc|29 0

Revision: 6f36e1eaaf6d4a83de3f41e61e650c16db5b4120
Author: prazanna <prasanna@uber.com>
Date: 14/03/2017 06:12:03
Message:
Implement Savepoints and required metadata timeline (#86) #MsgLength=502


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|12 11
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|112 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|160 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|21 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|294 66
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|3 2
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java|28 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|38 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|32 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|217 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java|21 15
Modified: hoodie-common/pom.xml|4 0
Added: hoodie-common/src/main/avro/HoodieCleanMetadata.avsc|24 0
Added: hoodie-common/src/main/avro/HoodieRollbackMetadata.avsc|22 0
Added: hoodie-common/src/main/avro/HoodieSavePointMetadata.avsc|9 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|128 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java|84 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java|22 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|11 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|13 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|103 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|30 0
Modified: pom.xml|20 0

Revision: d83b671ada9981780257b10acabfce7b4e5a8403
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 14/03/2017 14:09:29
Message:
Implement Savepoints and required metadata timeline - Part 2 #MsgLength=61


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|1 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|43 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|16 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|37 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|2 4
Modified: hoodie-common/src/main/avro/HoodieSavePointMetadata.avsc|13 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|23 0

Revision: d835710c5196ae5a5272a513acb78913ef946b19
Author: prazanna <prasanna@uber.com>
Date: 18/03/2017 03:42:26
Message:
Metadata timeline marks an already complete instant as complete again (#98) #MsgLength=77


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|3 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|19 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java|2 2

Revision: 21898907c1d1dd1dd962b441db29c6663756cdb8
Author: ovj <omkar@uber.com>
Date: 22/03/2017 05:42:13
Message:
tool for importing hive tables (in parquet format) into hoodie dataset (#89) #MsgLength=206


----
Modified: hoodie-cli/hoodie-cli.sh|9 1
Modified: hoodie-cli/pom.xml|5 2
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|91 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|40 14
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|2 1
Modified: hoodie-client/pom.xml|0 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|13 28
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|14 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|10 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|15 0
Modified: hoodie-utilities/pom.xml|4 1
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|312 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|291 0
Added: hoodie-utilities/src/test/resources/log4j-surefire.properties|24 0
Modified: pom.xml|10 0

Revision: f1b7afad2143cba6a87e03207e0e45c7cfc8ef10
Author: prazanna <prasanna@uber.com>
Date: 22/03/2017 08:36:46
Message:
Add config for index parallelism and make clean public (#109) #MsgLength=168


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|19 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|4 1

Revision: b02910c588bc41d9235ff53ef766250b98673956
Author: ovj <omkar@uber.com>
Date: 23/03/2017 09:25:26
Message:
few fixes to quick start document (#112) #MsgLength=42


----
Modified: docs/quickstart.md|7 3

Revision: b7047ab4fbe5274d9cb01d5eee85edf8735051c1
Author: fishie9 <siyu.yang@gmail.com>
Date: 23/03/2017 19:31:30
Message:
Pass in String StroageLevel for WriteStatus (#113) #MsgLength=52


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|2 2

Revision: a94f3a638e82193e0243d8227b998046255efbb3
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date: 17/03/2017 11:04:36
Message:
Pass table path as argument to HoodieClientExample #MsgLength=51


----
Modified: hoodie-client/src/test/java/HoodieClientExample.java|3 2

Revision: 0e3f635adbc231ad513948c39e8b2d93573a035b
Author: prazanna <prasanna@uber.com>
Date: 24/03/2017 06:54:26
Message:
remove hardcoding of autoClean #MsgLength=30


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 1

Revision: a7cd021f266cdaa053fef4304f0794f539333170
Author: prazanna <prasanna@uber.com>
Date: 24/03/2017 07:20:54
Message:
Update incremental pull query documentation #MsgLength=43


----
Modified: docs/quickstart.md|4 3

Revision: d6f94b998dc3b98308b86c4a6cd11e2a250a8913
Author: Yash Sharma <yash360@gmail.com>
Date: 24/03/2017 11:42:10
Message:
Hoodie operability with S3 #MsgLength=27


----
Modified: README.md|1 0
Added: docs/s3_filesystem.md|47 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|2 1
Modified: hoodie-client/src/test/java/HoodieClientExample.java|41 10

Revision: bca7e7dae40570982155d05467e99446f8e80c44
Author: Yash Sharma <ysharma@atlassian.com>
Date: 27/03/2017 14:29:00
Message:
improve documentations #MsgLength=23


----
Modified: docs/configurations.md|3 0
Modified: docs/s3_filesystem.md|8 0
Modified: hoodie-client/pom.xml|5 0
Modified: hoodie-client/src/test/java/HoodieClientExample.java|14 33
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|0 1

Revision: e3b273e9fd33665e46a6fbccfbcf4504399f6f1a
Author: Yash Sharma <ysharma@atlassian.com>
Date: 28/03/2017 07:30:50
Message:
formatting for docs #MsgLength=20


----
Modified: docs/s3_filesystem.md|8 2

Revision: 77e54e78f8cf4f615f1b899703c85b00a8f8aad1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 28/03/2017 05:49:26
Message:
Create the partition path if it does not exist when listing data files in a partition #MsgLength=86


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|2 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|6 0

Revision: f4bb44c1b1ea3d2645fe209c30e20289a3b30d2c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 01/04/2017 05:54:54
Message:
Update snapshot version to 0.3.5-SNAPSHOT #MsgLength=42


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 803c635098bbcb4a761eec5cd73ae81965c2f1b4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 01/04/2017 05:58:46
Message:
[maven-release-plugin] prepare release hoodie-0.3.5 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 57ab7a2405f65de3e006c16268e71d992627d02a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 01/04/2017 05:58:55
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: aee136777be6606b51c95768df9f0575dd34bf8c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 31/03/2017 16:02:02
Message:
Fixes needed to run merge-on-read testing on production scale data #MsgLength=67


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|22 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|22 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|10 0
Added: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java|28 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAvroReader.java|99 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|21 1
Deleted: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionMetadata.java|0 26
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|127 111
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|9 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|36 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|11 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|4 3
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|1 0
Modified: hoodie-common/pom.xml|10 10
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java|108 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|4 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java|87 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java|4 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|11 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|28 21
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|5 0
Modified: hoodie-hive/pom.xml|10 0
Modified: pom.xml|2 1

Revision: 1e802ad4f2d3b6ba908c6488df7505ee7cb9415a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 04/04/2017 04:52:07
Message:
Move HoodieAvroReader to hoodie-common, it will be used for compaction and in the record reader #MsgLength=96


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 7
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/HoodieAvroReader.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAvroReader.java]|1 3

Revision: 3129770fd085c2390cf4da14e9d3de21482d1c35
Author: Vinoth Chandar <vinoth@uber.com>
Date: 22/03/2017 14:57:30
Message:
Create .hoodie_partition_metadata in each partition, linking back to basepath - Concurreny handled via taskID, failure recovery handled via renames - Falls back to search 3 levels up - Cli tool has command to add this to existing tables #MsgLength=240


----
Renamed: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RecordsCommand.java]|63 31
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|8 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|135 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|4 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|0 4
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|10 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|8 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|10 1

Revision: f9fd16069de086056145e85a1e4445f6b8d75324
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/03/2017 08:15:52
Message:
FSUtils.getAllPartitionsPaths() works based on .hoodie_partition_metadata #MsgLength=293


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|25 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|10 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|0 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|2 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|62 76
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|44 45
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|70 67

Revision: dce35ff0d74da19edf0e0ffdac3c5d01c3440b7d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/03/2017 08:40:20
Message:
Adding a config to control whether date partitioning can be assumed #MsgLength=191


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|10 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|6 3
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|2 2

Revision: e0fc4ec38e686e7a5634c267e978072af6bf35cc
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/03/2017 08:51:51
Message:
Documentation update + helper method for WriteConfig builder #MsgLength=61


----
Modified: docs/community.md|1 1
Modified: docs/configurations.md|2 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0

Revision: 2b6322318c769c63cff071bc8a373b1f476e9a89
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/04/2017 09:17:56
Message:
CR feedback #MsgLength=12


----
Modified: docs/community.md|1 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|3 1

Revision: 542d622e49a7f3947a2ebaf9d1c948b78e4807b7
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/04/2017 05:44:43
Message:
Adding HiveSyncTool to sync hoodie dataset schema/partitions to Hive #MsgLength=224


----
Modified: hoodie-hive/pom.xml|58 0
Added: hoodie-hive/src/assembly/src.xml|44 0
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|50 0
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieDatasetExample.java]|46 20
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java|4 3
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java|8 5
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java|4 26
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieHiveSyncExample.java|39 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java|19 19
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java|5 5

Revision: 848814beceb6103ba36aee9e5b7b05ec2f52eafe
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/04/2017 07:59:44
Message:
Adding docs for deltastreamer, hivesync tool usage #MsgLength=51


----
Modified: docs/incremental_processing.md|118 2
Modified: docs/quickstart.md|33 2

Revision: 82b211d2e629dcd9869d486f5af62a7063e6c87d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/04/2017 09:23:47
Message:
Rebase with generic partition support #MsgLength=38


----
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java|1 3

Revision: 91b088f29fe71fabbbd7602748f4f7d048b4d108
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 05/04/2017 03:37:28
Message:
Implement Compaction policy abstraction. Implement LogSizeBased Bounded IO Compaction as the default strategy #MsgLength=110


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|23 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|13 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|50 39
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 3
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|80 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|62 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|70 0
Renamed: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionFilter.java]|23 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|3 4
Added: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|123 0
Added: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java|57 0
Added: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|46 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java|3 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|18 0

Revision: 8974e1116129a4ce7778e29b4e9b84a4a55e7f37
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 28/04/2017 01:37:30
Message:
Make sure properties set in HoodieWriteConfig is propogated down to individual configs. Fix a race condition which lets InputFormat to think file size is 0 when it is actually not #MsgLength=180


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|6 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|7 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|9 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|20 0

Revision: de1bdad7566a3b9a1dce19a3ef54eee3ccb6b98f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 28/04/2017 02:00:45
Message:
[maven-release-plugin] prepare release hoodie-0.3.6 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: c3258039f089334c1549d57509d8c3b10ddb8309
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 28/04/2017 02:00:56
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 3f97bdcccf4f1452127cb810589961c25d8517ba
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 29/04/2017 03:40:58
Message:
Test to check if properties set are properly propogated #MsgLength=56


----
Added: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|42 0

Revision: 7bca428a0a4e047a35a67db7e9ab54caac066539
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 29/04/2017 03:47:14
Message:
Test to check if properties set are properly propogated #MsgLength=56


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|16 0

Revision: 9f526396a085e52308b85d4dbfc71102005b5366
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/04/2017 20:17:38
Message:
Add support for merge_on_read tables to HoodieClientExample #MsgLength=60


----
Modified: hoodie-client/src/test/java/HoodieClientExample.java|29 20
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|17 0

Revision: 7b1446548fc8fda9a2c1fcbac29331ad2c57f60e
Author: Vinoth Chandar <vinoth@uber.com>
Date: 24/04/2017 23:19:02
Message:
Initial impl of HoodieRealtimeInputFormat #MsgLength=173


----
Modified: hoodie-client/src/test/java/HoodieClientExample.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|6 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|7 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|37 5
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|13 8
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java|31 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|92 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|188 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|319 0
Added: hoodie-utilities/src/test/java/HoodieSparkSQLExample.java|43 0

Revision: bae0528013d125bbaad2b0fbba082fa03dbf93af
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/04/2017 02:00:50
Message:
Cleanup calls to HoodieTimeline.compareTimeStamps #MsgLength=50


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|2 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java|4 3
Modified: hoodie-client/src/test/java/HoodieClientExample.java|0 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|0 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|5 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|2 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|1 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|1 2

Revision: da17c5c6079bdcebde20edb5f5773d2d8eb2e96a
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/04/2017 04:36:49
Message:
Introduce getCommitsAndCompactionsTimeline() explicitly & adjust usage across code base #MsgLength=88


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|6 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|2 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|0 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|1 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|2 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|0 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|12 3
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|2 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|0 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|3 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|4 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: pom.xml|1 0

Revision: b4e787ce1de142a1eb82d22acd70a6d0f2054ccf
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/04/2017 05:03:06
Message:
Update docs #MsgLength=12


----
Modified: docs/quickstart.md|67 8
Modified: hoodie-client/src/test/java/HoodieClientExample.java|9 1

Revision: 1b0a0279428fc406d44db2fda6d6bf705cd1eb10
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 05/05/2017 08:25:54
Message:
Update community.md with committership guidelines #MsgLength=49


----
Modified: docs/community.md|3 0

Revision: 21e334592f30ef055097439ad5ca1fdf7debb78d
Author: prazanna <prasanna@uber.com>
Date: 18/05/2017 04:43:11
Message:
Update java version to 8 in travis.yml #MsgLength=38


----
Modified: .travis.yml|2 0

Revision: 43a55b09fdc64368f5bbaf17980233b84cf33760
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date: 17/03/2017 00:19:13
Message:
Add GCS to supported filesystems #MsgLength=33


----
Modified: docs/configurations.md|3 0
Added: docs/gcs_filesystem.md|62 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|4 0

Revision: 7014670795e03e16cc945af3dcc68c2d1baaf3fc
Author: Vinoth Chandar <vinoth@uber.com>
Date: 19/05/2017 01:45:26
Message:
Update contributor list #MsgLength=24


----
Modified: pom.xml|4 0

Revision: 70dd7a25eac67fa13fed3b08b02c48bba62aa878
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 20/05/2017 14:48:31
Message:
Clean should not create a .inflight file #MsgLength=41


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1

Revision: 3c984447da754e85bafeac81a790efdc5fee42dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 19/05/2017 06:10:28
Message:
view scheme added #MsgLength=18


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|2 1

Revision: 240c91241bf4a7175c37b25bdf3a1261d58965d5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 18/05/2017 03:52:36
Message:
Implement HoodieLogFormat replacing Avro as the default log format #MsgLength=67


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|16 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|7 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|1 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|207 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppendConfig.java|0 238
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogAppender.java|0 65
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java|1 6
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|193 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|201 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|164 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogAppender.java|0 143
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/AvroLogReader.java|0 82
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/CompositeAvroLogReader.java|0 155
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/HoodieAvroReader.java|0 97
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/avro/RollingAvroLogAppender.java|0 88
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|134 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|53 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|46 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|51 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|38 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|32 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/CorruptedLogFileException.java|24 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|12 22
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|580 0
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/avro/AvroLogAppenderTest.java|0 326
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|17 0
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java|3 3

Revision: e1d13f2bc8adf78f6413dda7fd3b38d711a1417a
Author: prazanna <prasanna@uber.com>
Date: 24/05/2017 03:05:01
Message:
https://repository.cloudera.com/artifactory/repo/ has been changed to https://repository.cloudera.com/artifactory/public/ #MsgLength=121


----
Modified: pom.xml|1 1

Revision: bae98efeee4778154db1454432471ff3d60f0007
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 19/05/2017 00:57:44
Message:
Delete other instant files (.clean) as well during commit archival #MsgLength=67


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|32 6

Revision: bebae06b5bd9cd08a291c085377594518c9acec4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 25/05/2017 05:02:41
Message:
[maven-release-plugin] prepare release hoodie-0.3.7 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 933cc8071f4b9b7c145804a7bc5984832e45aba3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 25/05/2017 05:02:50
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: ba050973e304defb67e789527e0868ea3f217002
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 01/06/2017 06:06:22
Message:
updated HoodieRealtimeRecordReader to use HoodieCompactedLogRecordScanner, added test for recordreader #MsgLength=103


----
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|6 1
Added: hoodie-common/src/test/resources/simple-test-evolved.avro|12 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|20 32
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|18 14
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|137 0
Modified: hoodie-hadoop-mr/src/test/resources/sample1.avro|1 1


Revision: c192dd60b4dbf13bbee12e3dbba5cbc39edddd29
Author: Danny Chen <dannyc@uber.com>
Date: 01/06/2017 08:41:27
Message:
Change from deprecated closeQuietly to try with resources #MsgLength=58


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|1 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|11 17

Revision: db6150c5ef02a9bc6feaf3f9f4e6cecba9a6a25b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 20/05/2017 14:47:27
Message:
Refactor hoodie-hive #MsgLength=21


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|4 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|41 9
Modified: hoodie-common/src/test/resources/simple-test-evolved.avro|3 2
Modified: hoodie-common/src/test/resources/simple-test.avro|1 1
Modified: hoodie-hive/pom.xml|10 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|29 14
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|140 43
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|607 0
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveConfiguration.java|0 119
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetSyncTask.java|0 182
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSchemaSyncTask.java|0 243
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveDatasetException.java]|5 5
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionStrategy.java|0 59
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaStrategy.java]|12 12
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/model/SchemaDifference.java]|1 1
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java]|32 53
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieFSClient.java|0 186
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/client/HoodieHiveClient.java|0 365
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/example/HoodieHiveSyncExample.java|0 39
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/impl/ParseSchemaFromDataStrategy.java|0 43
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/HoodieDatasetReference.java|0 79
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/StoragePartition.java|0 51
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/model/TablePartition.java|0 38
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/client/ColumnNameXLator.java]|1 1
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/client/SchemaUtil.java]|16 19
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/DatasetSchemaTest.java|0 186
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/HDroneDatasetTest.java|0 99
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|308 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|353 0
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvParquetWriter.java|0 44
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/CsvWriteSupport.java|0 94
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/TestUtil.java|0 201
Deleted: hoodie-hive/src/test/resources/nation.csv|0 25
Deleted: hoodie-hive/src/test/resources/nation.schema|0 6
Deleted: hoodie-hive/src/test/resources/nation_evolved.csv|0 25
Deleted: hoodie-hive/src/test/resources/nation_evolved.schema|0 7
Modified: pom.xml|5 0

Revision: dda28c0b4b6263e89ff24791f6f09dc553f4c19b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 14/06/2017 03:09:36
Message:
Rollback inflight commits as well when rolling back to savepoint #MsgLength=65


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1

Revision: 521555c576f35fbf6dc8be0a09d0b49607afc1c8
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date: 30/05/2017 06:36:12
Message:
Parallelize file version deletes during clean and related tests #MsgLength=64


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 17
Renamed: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleaner.java]|26 50
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|159 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|16 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|249 2
Deleted: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCleaner.java|0 198
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|7 9

Revision: 4b26be9f6178dde6cace2ed87ae3d2ae8b4ac827
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 15/06/2017 20:40:59
Message:
Fixes to RealtimeInputFormat and RealtimeRecordReader and update documentation for HiveSyncTool #MsgLength=96


----
Modified: docs/quickstart.md|12 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java|8 4
Modified: hoodie-hadoop-mr/pom.xml|5 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|55 30
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|54 27
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|1 1

Revision: e44f9b889b6b42d7feb89a0ebfa2e401dde5b0a4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/06/2017 01:47:25
Message:
Added CHANGELOG.md and updated community contributions guideline #MsgLength=65


----
Added: CHANGELOG.md|27 0
Modified: docs/community.md|1 0
Modified: pom.xml|5 1

Revision: 45732e440c48cf9513f7f39c0926e21f07532b9a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/06/2017 01:59:58
Message:
[maven-release-plugin] prepare release hoodie-0.3.8 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 0ed3fac5e3bb292f227ebc4c02a6e6585e4bd39f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 17/06/2017 02:03:17
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: db7311f85e2298d297202c5a8f4f6fc4e5e8ea28
Author: gekath <kathyge@gmail.com>
Date: 02/06/2017 23:28:47
Message:
Writes relative paths to .commit files instead of absolute paths #MsgLength=142


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|44 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|11 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|8 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|4 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|3 3
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|3 3

Revision: 52c507f83ed90ea37b1e64c82fca10b2909f2503
Author: gekath <kathyge@gmail.com>
Date: 14/06/2017 01:35:38
Message:
Writes relative paths to .commit files #MsgLength=128


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|3 4

Revision: 7ef76a4de0c1000abe81513472712cf5602ef97c
Author: prazanna <prasanna.raj@gmail.com>
Date: 17/06/2017 03:52:54
Message:
Adding Kathy Ge to the contributors list #MsgLength=40


----
Modified: pom.xml|4 0

Revision: 3aa80839132fa0fafefef66c242bdd426df92653
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date: 20/06/2017 15:16:54
Message:
Correct clean bug that causes clean failure when partitionPaths are empty #MsgLength=74


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|22 0

Revision: 649475c5cbad78130ac5a4973d0872082b21ecdf
Author: prazanna <prasanna.raj@gmail.com>
Date: 21/06/2017 06:47:05
Message:
Adding Kaushik to contributors list #MsgLength=35


----
Modified: pom.xml|4 0

Revision: b0a2a23372212f865fa559da1b128e4a2279784f
Author: prazanna <prasanna.raj@gmail.com>
Date: 21/06/2017 06:48:43
Message:
Adding Nishith to Contributors list #MsgLength=35


----
Modified: pom.xml|4 0

Revision: 23e7badd8ad31113ce8983c8666ff5509f9a847a
Author: Vinoth Chandar <vinoth@uber.com>
Date: 15/05/2017 00:44:44
Message:
Rename IO Handles & introduce stub for BucketedIndex #MsgLength=165


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|8 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|16 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|4 5
Added: hoodie-client/src/main/java/com/uber/hoodie/index/BucketedIndex.java|91 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|6 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|12 3
Renamed: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java]|3 3
Renamed: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java]|7 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|18 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|4 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|2 2

Revision: c00f1a9ed972dac9a8c4c238c762cb390b62f54c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 19/06/2017 15:34:37
Message:
Refactoring HoodieTableFileSystemView using FileGroups/FileSlices #MsgLength=318


----
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|4 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|11 22
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|10 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|4 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|2 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|22 28
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|8 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|14 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|1 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|2 2
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|97 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|1 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|246 0
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFile.java]|10 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|48 29
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|2 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|180 165
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|3 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|1 0
Renamed: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java [from hoodie-common/src/test/java/com/uber/hoodie/common/table/view/ReadOptimizedTableViewTest.java]|56 38
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|16 15
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|6 5
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|9 8
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|1 1
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|1 1
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|1 1

Revision: 754ab88a2d1e9fe5266d61472d96e34a70e7e888
Author: Vinoth Chandar <vinoth@uber.com>
Date: 20/06/2017 08:16:45
Message:
Introduce ReadOptimizedView & RealtimeView out of TableFileSystemView #MsgLength=203


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|18 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|8 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|6 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|46 76
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|3 14
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|146 29
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|21 18
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|1 1

Revision: 29b906b76329b85d2765c95be76afea8720e2022
Author: Jian Xu <jian@uber.com>
Date: 28/06/2017 03:00:37
Message:
Fix TimestampBasedKeyGenerator when DATE_STRING is used for partitionpath.field #MsgLength=80


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|1 1

Revision: 5cc071f74e518b5b37ce953434d6445c2a97024b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 23/06/2017 06:00:27
Message:
Savepoint should not create a hole in the commit timeline #MsgLength=58


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|10 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|20 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|33 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|0 1

Revision: e5d9b818bce3fcd9714a5973c68745cce0845fcc
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 23/06/2017 11:33:33
Message:
Sync Tool registers 2 tables, RO and RT Tables #MsgLength=47


----
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|39 25
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|55 0
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|2 0

Revision: 348250d9607c5441b13860f178308a3159b15e6b
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 30/06/2017 07:42:58
Message:
Using FsUtils instead of Files API to extract file extension #MsgLength=61


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 4

Revision: 06d44daea321b47476361d1a94f216288b083c6f
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 01/07/2017 02:16:58
Message:
[maven-release-plugin] prepare release hoodie-0.3.9 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 3eba812a1b53eba9df96fc164c6482bd08cf14ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 01/07/2017 02:17:07
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 7d3963b4abfa150a7175d284e3ac38085ccbc233
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date: 01/07/2017 02:41:23
Message:
Pushing master to 0.4.0 as we continue to make minor releases over 0.3.8 (MVP for MOR) #MsgLength=87


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|1 1

Revision: e8b3ddd7cbf4232d3e02fa9bcb71c100a5aea26f
Author: Vinoth Chandar <vinoth@uber.com>
Date: 09/07/2017 12:30:06
Message:
Add note on community engagement to committership guidelines #MsgLength=61


----
Modified: docs/community.md|2 1

Revision: cf1dde03231b54cacecf53e0f9b8320eba4a7590
Author: Vinoth Chandar <vinoth@uber.com>
Date: 09/07/2017 13:45:22
Message:
Add recent talks/presentations to documentation #MsgLength=48


----
Modified: docs/_data/sidebars/mydoc_sidebar.yml|1 1
Modified: docs/powered_by.md|25 3

Revision: 616c9a68c3168d927f08117014949df2f1a859ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 08/07/2017 03:50:01
Message:
Enabled deletes in merge_on_read #MsgLength=33


----
Modified: hoodie-client/pom.xml|11 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|21 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|137 6
Added: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java|98 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|4 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|4 0

Revision: 19c22b231ed69197fb8c932dab464d3f93ecc9ad
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 21/06/2017 14:50:23
Message:
1. Use HoodieLogFormat to archive commits and other actions 2. Introduced avro schema for commits and compactions and an avro wrapper schema #MsgLength=141


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|12 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|163 83
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|10 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|74 54
Modified: hoodie-common/pom.xml|10 0
Added: hoodie-common/src/main/avro/HoodieArchivedMetaEntry.avsc|55 0
Added: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|61 0
Added: hoodie-common/src/main/avro/HoodieCompactionMetadata.avsc|42 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/file/HoodieAppendLog.java|0 3685
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java|21 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java|40 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|5 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|9 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|30 0
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|2 1

Revision: 0b26b60a5c253717d890d658a6e6a55caa310518
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 29/06/2017 15:32:11
Message:
fix for cleaning log files(mor) #MsgLength=32


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|28 30
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|40 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|4 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|31 0

Revision: 86209640f76d64767a24c344ec0e2b22c2a381e6
Author: Vinoth Chandar <vinoth@uber.com>
Date: 15/07/2017 00:29:16
Message:
Adding range based pruning to bloom index #MsgLength=522


----
Modified: docs/configurations.md|8 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|18 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|4 2
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java|99 0
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java]|172 139
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java [from hoodie-client/src/main/java/com/uber/hoodie/index/HoodieBloomIndexCheckFunction.java]|8 6
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexLookupResult.java [from hoodie-client/src/main/java/com/uber/hoodie/index/IndexLookupResult.java]|8 6
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/BucketedIndex.java]|2 2
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/HBaseIndex.java]|9 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|3 19
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|11 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|3 0
Renamed: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java [from hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieBloomIndex.java]|128 55
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|3 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|1 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|24 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|30 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java|0 2
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java|32 0

Revision: 45dd8980c34b009c6609c0ebfb903b55cbecc2de
Author: Vinoth Chandar <vinoth@uber.com>
Date: 05/08/2017 08:00:40
Message:
Temporary fix for build break after rebase #MsgLength=43


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|4 3

Revision: 5ee4ac40ae479fc5558863ed425d8e26157f9b34
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 26/07/2017 08:25:41
Message:
Use CompletedFileSystemView instead of CompactedView considering deltacommits #MsgLength=78


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|3 3

Revision: 6a3c94aaa30cb00675ff416d0d33ba3a1e868ccc
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 15/08/2017 02:45:36
Message:
suppressing logs (under 4MB) for jenkins #MsgLength=41


----
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|3 0
Modified: hoodie-common/src/test/resources/log4j-surefire.properties|2 0

Revision: b1cf097b0cb685ebfb0e507ac8ad777de6baa8ac
Author: Jian Xu <jian@uber.com>
Date: 01/07/2017 08:03:44
Message:
Add nested fields support for MOR tables #MsgLength=41


----
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|5 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java|98 0
Added: hoodie-common/src/test/resources/complex-test-evolved.avro|17 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|16 4
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|11 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|121 1

Revision: e484e91807caeda5afd905b649c97902ec0cdde5
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 27/07/2017 02:49:22
Message:
adding new config to separate shuffle and write parallelism #MsgLength=60


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|12 1

Revision: 63f1b123554c9c350958beebb539a538bcd52cd2
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 26/08/2017 05:12:19
Message:
adding ability to read archived files written in log format #MsgLength=60


----
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|123 0

Revision: e2d13c63052a90ac109e26cad05b04c3678aa953
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 15/08/2017 02:57:38
Message:
Fix build failing issues #MsgLength=25


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|1 1
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|1 1

Revision: ec40d04d514aff1c33eda768651d7e007d629460
Author: Omkar Joshi <omkar@uber.com>
Date: 03/09/2017 05:59:10
Message:
Fixing UpsertPartitioner to ensure that input records are deterministically assigned to output partitions #MsgLength=106


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|17 35
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java|16 16

Revision: 5c639c0b05ecb6ae6fcffd6724d15a6c7329b37b
Author: Omkar Joshi <omkar@uber.com>
Date: 09/09/2017 07:09:39
Message:
Adding support for UserDefinedBulkInsertPartitioner #MsgLength=52


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|32 3
Added: hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java|32 0

Revision: 7e9a4a89dd65d7b3791b56284120f98833a31139
Author: Jian Xu <jian@uber.com>
Date: 07/09/2017 06:30:15
Message:
Use getFileStatus to get single FileStatus for single file #MsgLength=59


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|1 1

Revision: 6230e151916ce2f0f76a43c792528d7cabfabc57
Author: Eric Sayle <esayle@uber.com>
Date: 19/09/2017 07:14:09
Message:
Update deprecated hash function #MsgLength=212


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1

Revision: 9f98ae643b20203e8fbb9bf65248f9392e54bd3e
Author: Vinoth Chandar <vinoth@uber.com>
Date: 29/09/2017 00:57:28
Message:
Adding canIndexLogFiles(), isImplicitWithStorage(), isGlobal() to HoodieIndex #MsgLength=78


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|2 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|29 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|30 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|30 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java|33 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|30 0

Revision: f2980052cd2a1eba3ebd62a2683a417ff9484258
Author: Vinoth Chandar <vinoth@uber.com>
Date: 28/09/2017 22:24:39
Message:
Revert effects of PR #259 #MsgLength=26


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|3 2

Revision: c98ee057fcd9d2566e5cefcf15bd5d2e5ec9283e
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date: 23/08/2017 05:48:04
Message:
capture record metadata before deflating for record counting #MsgLength=61


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|30 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|14 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|5 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|5 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java|20 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|68 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|37 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|10 0

Revision: 64e0573aca01dfd07b23ec41e20acb307829733e
Author: Vinoth Chandar <vinoth@uber.com>
Date: 28/08/2017 16:28:08
Message:
Adding hoodie-spark to support Spark Datasource for Hoodie #MsgLength=641


----
Modified: docs/_data/sidebars/mydoc_sidebar.yml|2 2
Modified: docs/configurations.md|45 0
Modified: docs/incremental_processing.md|48 22
Modified: docs/quickstart.md|14 4
Modified: hoodie-cli/pom.xml|3 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|1 2
Modified: hoodie-client/pom.xml|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 117
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0
Modified: hoodie-client/src/test/java/HoodieClientExample.java|1 1
Renamed: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java [from hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java]|48 38
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|95 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|1 2
Renamed: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java [from hoodie-client/src/test/java/com/uber/hoodie/TestMergeOnReadTable.java]|18 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|6 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|1 1
Added: hoodie-spark/pom.xml|234 0
Renamed: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerPayload.java]|4 4
Added: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|148 0
Added: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|88 0
Renamed: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/KeyGenerator.java]|1 1
Renamed: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaStreamerAvroPayload.java]|5 4
Renamed: hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/SimpleKeyGenerator.java]|9 16
Added: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|126 0
Added: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|145 0
Added: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|244 0
Added: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|94 0
Renamed: hoodie-spark/src/main/scala/com/uber/hoodie/package.scala [from hoodie-utilities/src/test/java/HoodieSparkSQLExample.java]|15 22
Added: hoodie-spark/src/test/java/DataSourceTestUtils.java|50 0
Added: hoodie-spark/src/test/java/HoodieJavaApp.java|148 0
Added: hoodie-spark/src/test/resources/log4j-surefire.properties|28 0
Added: hoodie-spark/src/test/scala/DataSourceTest.scala|137 0
Modified: hoodie-utilities/pom.xml|12 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|1 24
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|7 9
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|2 2
Modified: hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties|2 2
Modified: pom.xml|6 3

Revision: 274aaf49fedc9afd97092e169b970d600eeda7b1
Author: Vinoth Chandar <vinoth@uber.com>
Date: 03/10/2017 11:29:07
Message:
Incorporating code review feedback for DataSource #MsgLength=50


----
Modified: docs/configurations.md|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|5 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|8 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|2 21
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|1 1
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|3 2
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|0 2
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|4 3
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|3 4
Added: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|110 0
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|3 3

Revision: 3768ad45fb7b59451cb2e8a2616deec1870b5b52
Author: Vinoth Chandar <vinoth@uber.com>
Date: 03/10/2017 13:24:21
Message:
Release notes for 0.4.0 #MsgLength=24


----
Added: RELEASE_NOTES.md|42 0

Revision: 50139fe9040fd4ad500f3faa1dafabe8e017ef9d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 03/10/2017 13:42:32
Message:
[maven-release-plugin] prepare release hoodie-0.4.0 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|2 4
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: e1fe3ab9374bffebae98b2af7e10245d4b4018de
Author: Vinoth Chandar <vinoth@uber.com>
Date: 03/10/2017 13:42:54
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: c7d63a7622f17d11f553bc269c04f3dc9d5af784
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 18/08/2017 08:31:55
Message:
1) Separated rollback as a table operation 2) Implement rollback for MOR #MsgLength=73


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|38 49
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|9 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|9 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|78 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|139 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|15 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|40 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|4 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|214 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java|16 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|112 54
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|9 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|34 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|29 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|39 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|33 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|87 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|4 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|6 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|246 51
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|7 9
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|6 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|1 1
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|18 14

Revision: abe964bebd1c4861a0756c2cf983fa7b7e0d8812
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 27/09/2017 02:16:35
Message:
Implementing custom payload/merge hooks abstractions for application specific merge logic #MsgLength=90


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|14 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|5 3
Modified: hoodie-client/src/test/java/HoodieClientExample.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|17 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|4 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|37 29
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|42 30
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|1 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|24 10
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|7 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|4 4
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|2 2
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|4 3
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|3 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|8 7

Revision: 5a62480a920f7e18bd67066df5516ddf4578525d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/11/2017 14:21:21
Message:
Update docs on code style setup #MsgLength=32


----
Modified: docs/code_structure.md|0 1
Modified: docs/dev_setup.md|5 1

Revision: e45679f5e28ea88c99479b8111b07421a956e9b8
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/11/2017 14:54:56
Message:
Reformatting code per Google Code Style all over #MsgLength=49


----
Modified: hoodie-cli/pom.xml|4 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|23 23
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java|7 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|7 8
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|20 21
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java|34 29
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java|9 11
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|81 77
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|69 68
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|211 198
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|13 13
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|49 48
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|86 82
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|65 64
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|106 106
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|93 92
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|98 96
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java|8 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|13 12
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|92 87
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java|28 25
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|38 43
Modified: hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml|4 4
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|24 19
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|5 5
Modified: hoodie-client/pom.xml|164 162
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|118 134
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|148 136
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|126 121
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java|19 17
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|216 208
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|116 117
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java|77 77
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|52 50
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|344 338
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java|9 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java|6 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java|10 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|19 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|78 76
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java|84 83
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|86 96
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|91 101
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java|58 57
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|349 342
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|148 138
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexLookupResult.java|12 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java|69 80
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|200 200
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|141 142
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|187 201
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|204 190
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|88 93
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|55 55
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|182 178
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|15 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|22 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java|35 35
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|61 62
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java|9 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|23 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|775 648
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/SizeAwareFSDataOutputStream.java|36 33
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|98 96
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java|11 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|43 44
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java|52 53
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java|10 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java|18 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|552 552
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|187 164
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|233 282
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|72 73
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|31 31
Modified: hoodie-client/src/main/resources/log4j.properties|0 1
Modified: hoodie-client/src/test/java/HoodieClientExample.java|64 64
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|1444 1367
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|135 129
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java|60 58
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|145 139
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|139 131
Modified: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|6 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|74 76
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|20 21
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|483 450
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|195 189
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|147 149
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|0 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java|0 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|0 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java|19 18
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|443 404
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|507 482
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|0 1
Modified: hoodie-common/pom.xml|123 121
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|37 38
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|118 121
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java|63 61
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|84 83
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java|72 69
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java|59 58
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java|3 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|52 56
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java|11 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|25 28
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|172 168
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java|4 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|37 39
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java|14 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|180 211
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java|37 36
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|73 72
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|105 102
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|124 123
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|35 34
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|41 40
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|147 139
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|117 124
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|199 214
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|193 206
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|52 58
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|52 55
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|22 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|11 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|6 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|19 22
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|4 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|6 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|5 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|15 22
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|261 274
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|67 68
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|118 117
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|90 91
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|68 73
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|134 137
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|329 319
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|139 128
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java|8 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|128 141
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|7 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|27 30
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java|22 27
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java|13 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java|8 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java|4 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java|9 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java|8 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java|4 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java|7 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java|10 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|19 19
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|116 125
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java|24 24
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java|181 185
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|246 217
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|107 108
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|92 79
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|97 95
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|15 15
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|480 475
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|78 78
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|36 37
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java|14 12
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|51 51
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java|64 59
Modified: hoodie-common/src/test/resources/log4j-surefire.properties|0 2
Modified: hoodie-hadoop-mr/pom.xml|5 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|37 36
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|203 206
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|124 128
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java|3 3
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java|3 3
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|51 49
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|161 154
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|241 251
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java|14 13
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|217 204
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|117 111
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|44 41
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|233 201
Modified: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|0 2
Modified: hoodie-hive/pom.xml|3 1
Modified: hoodie-hive/src/assembly/src.xml|2 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|0 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|16 18
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|17 21
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java|15 15
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java|4 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java|70 66
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java|4 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java|18 18
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|353 367
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|33 25
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|27 21
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|239 235
Modified: hoodie-hive/src/test/resources/log4j-surefire.properties|0 2
Modified: hoodie-spark/pom.xml|212 210
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|18 18
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|101 97
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|41 47
Modified: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java|9 14
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|32 32
Modified: hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java|18 17
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|2 2
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/package.scala|2 0
Modified: hoodie-spark/src/test/java/DataSourceTestUtils.java|15 17
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|108 98
Modified: hoodie-spark/src/test/resources/log4j-surefire.properties|0 1
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|4 3
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|4 4
Modified: hoodie-utilities/pom.xml|252 250
Modified: hoodie-utilities/src/assembly/src.xml|5 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|220 218
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|309 280
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|141 123
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|36 41
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|291 257
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java|7 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java|7 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java|7 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|61 58
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|34 32
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java|7 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java|43 45
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|113 100
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|80 74
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|171 165
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|23 27
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/SourceDataFormat.java|4 4
Modified: hoodie-utilities/src/main/resources/delta-streamer-config/hoodie-client.properties|0 1
Modified: hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties|0 1
Modified: hoodie-utilities/src/main/resources/delta-streamer-config/schema-provider.properties|0 2
Modified: hoodie-utilities/src/main/resources/delta-streamer-config/source.properties|0 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|226 223
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|127 116
Modified: hoodie-utilities/src/test/resources/log4j-surefire.properties|0 1
Modified: pom.xml|664 657

Revision: 9b610f82c736bf7d20348e6670880e16f3ccf457
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 14/11/2017 02:36:33
Message:
Separating out compaction() API #MsgLength=32


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|35 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|6 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|9 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|12 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|17 15

Revision: 051f600b7f14db4883bb0178a6a2089365375351
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 01/12/2017 09:21:34
Message:
Enable hive sync even if there is no compaction commit #MsgLength=55


----
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|13 8

Revision: 4aed5c7338701310ea7f71459b80a532ad5eccd7
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 26/10/2017 04:30:15
Message:
Adding a new Partition/Time based compaction strategy #MsgLength=54


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|62 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|34 5

Revision: a1c0d0dbad5f9bc3e020a83953668d00bfa574ef
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 10/12/2017 23:50:37
Message:
Update README.md #MsgLength=30


----
Modified: README.md|3 3

Revision: 44839b88c6e190ab4293425430c4070dd08958dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 05/12/2017 16:58:53
Message:
Removing compaction action type and associated compaction timeline operations, replace with commit action type #MsgLength=111


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|0 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|6 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|16 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|7 25
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|6 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|31 30
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|5 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|16 40
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|7 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|4 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|7 7
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|16 0
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionWriteStat.java|0 108
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|22 10
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCompactionMetadata.java|0 86
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|61 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|0 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|6 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|0 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|0 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|15 15
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|19 20
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|3 4
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|3 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: 0cd186c899fca8362c9c68eb63d171a13ff25af3
Author: Vinoth Chandar <vinoth@uber.com>
Date: 11/12/2017 15:31:54
Message:
Multi FS Support #MsgLength=490


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|2 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|5 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|4 5
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|2 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|2 0
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|2 2
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|55 43
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|7 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|13 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|0 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|17 25
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|26 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|15 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|10 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|8 8
Modified: hoodie-client/src/test/java/HoodieClientExample.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|75 65
Added: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|159 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java|6 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|6 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|12 14
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|7 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|18 20
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|15 12
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|46 45
Modified: hoodie-common/pom.xml|6 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|1 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java|56 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|21 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|23 27
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|8 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|2 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|22 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|20 24
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|3 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|10 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|4 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|2 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|20 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|6 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|3 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|4 3
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|11 5
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|2 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|1 1
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|2 1
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|1 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|3 2
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|21 30
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|11 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|6 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|2 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|3 4
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|2 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|16 11

Revision: cf7f7aabb97e4bbcfbfb84ec79f56458a731f582
Author: vinothchandar <vinoth@bytearray.io>
Date: 03/01/2018 20:32:21
Message:
Nicer handling of timeline archival for Cloud storage #MsgLength=447


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|8 19
Modified: hoodie-client/src/test/java/HoodieClientExample.java|4 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|26 28
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|11 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|24 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|10 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|3 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|30 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|1 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|1 0

Revision: 21ce846f1807ffb94063098e2e4f4e4f9e345f0c
Author: vinothchandar <vinoth@bytearray.io>
Date: 04/01/2018 08:05:30
Message:
Remove stateful fs member from HoodieTestUtils & FSUtils #MsgLength=57


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|9 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|13 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|7 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|6 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|0 13
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|2 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|10 13
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|3 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|1 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|8 11
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|6 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|2 3
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|0 3
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|1 1

Revision: 85d32930cd919ad8897efac1170c8ed6bf7b9a5c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 18/01/2018 16:05:22
Message:
Update Gemfile.lock #MsgLength=20


----
Modified: docs/Gemfile.lock|31 25

Revision: 937ae322bac73ac8d58f22ae2390cd4953e26139
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 16/12/2017 06:03:06
Message:
Reducing memory footprint required in HoodieAvroDataBlock and HoodieAppendHandle #MsgLength=81


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|5 2
Added: hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java|63 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|32 24
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|2 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|63 18

Revision: e10100fe327d775019de019e01e4cf566a940387
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 24/01/2018 07:10:43
Message:
Reducing list status calls from listing logfile versions, some associated refactoring #MsgLength=86


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|11 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|0 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|3 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|2 2

Revision: c874248f238401d90ff872396db7ad486a161b1d
Author: Jian Xu <jian@uber.com>
Date: 30/11/2017 08:59:28
Message:
Add FinalizeWrite in HoodieCreateHandle for COW tables #MsgLength=55


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|66 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|26 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|23 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|7 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|19 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|36 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|10 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|94 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|15 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|4 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|12 0

Revision: 2fe4fef62513f0a4f29042b1289ad7c1d7318b54
Author: Jian Xu <jian@uber.com>
Date: 07/12/2017 06:35:44
Message:
Incorporating code review feedback for finalizeWrite for COW #MsgLength=61


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|7 47
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|16 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|2 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|60 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|10 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|1 1

Revision: 37f2cdd7e43f94bdc89268755a7d3fbacdd57980
Author: Jian Xu <jian@uber.com>
Date: 15/12/2017 05:36:32
Message:
Incorporating code review feedback for finalizeWrite for COW #2 #MsgLength=64


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|0 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|0 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|0 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|0 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|11 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|5 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java|62 0

Revision: acae6586f3031a5969cdc51fcfa8fd0764f41f8e
Author: Jian Xu <jian@uber.com>
Date: 22/12/2017 01:58:51
Message:
Incorporating code review feedback for finalizeWrite for COW #3 #MsgLength=64


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|0 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|7 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|0 4

Revision: 363e35bb0f28d5f1a91229a82a9a15555da292be
Author: Jian Xu <jian@uber.com>
Date: 19/01/2018 03:29:10
Message:
Add finalizeWrite support for HoodieMergeHandle #MsgLength=48


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|13 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|19 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|0 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|1 0

Revision: 3736243fb32ae6d19fd5864e36aa0c3f6288b8bd
Author: Jian Xu <jian@uber.com>
Date: 19/01/2018 04:39:30
Message:
Rebases with latest upstream #MsgLength=29


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|4 6

Revision: 15e669c60c039589db4a0aaa81adeedfb196e514
Author: Jian Xu <jian@uber.com>
Date: 31/01/2018 03:18:00
Message:
Incorporating code review feedback for finalizeWrite for COW #4 #MsgLength=64


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|25 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|4 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|9 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|0 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|50 91

Revision: be0b1f3e571a803418fa4f182788403e41aed306
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 16/12/2017 13:29:02
Message:
Adding global indexing to HbaseIndex implementation - Adding tests or HbaseIndex - Enabling global index functionality #MsgLength=121


----
Modified: hoodie-client/pom.xml|29 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|18 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|135 54
Added: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|318 0

Revision: 2116815261cad10a350189f15e95318b33ab628d
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 15/12/2017 13:34:54
Message:
Fixing Rollback for compaction/commit operation, added check for null commit - Fallback to old way of rollback by listing all partitions - Added null check to ensure only partitions which are to be rolledback are considered - Added location (committime) to workload stat - Added checks in CompactedScanner to guard against task retries - Introduce new logic for rollback (bounded by instant_time and target_instant time) - Reversed logfiles order #MsgLength=460


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|4 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|88 98
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|5 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|83 39
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|160 15
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|1 1

Revision: 30049383f5a5c52d1e169dcd3b541ccaca96400f
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 11/01/2018 13:10:22
Message:
Small File Size correction handling for MOR table type #MsgLength=55


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|10 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|81 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|101 18

Revision: 7076c2e9f0cd5d27c1bf58ee80f6ecd9058d80bd
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 25/01/2018 05:34:14
Message:
refactor classes to accept Map passed by RealtimeCompactor to avoid multiple map creations in HoodieMergeHandle #MsgLength=112


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|74 56
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|19 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|9 5

Revision: 3bdd750982c8a8cd18d6e02040e7a00d7244c018
Author: Jian Xu <jian@uber.com>
Date: 31/01/2018 09:13:54
Message:
Use FastDateFormat for thread safety #MsgLength=869


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|2 2

Revision: eb3d0c470f1d477f25e40c337196ba68e017895d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 14/02/2018 09:40:09
Message:
Fix formatting in HoodieWriteClient #MsgLength=36


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|819 827

Revision: d4954843998c2934acc64fc0ae5573fcd727d77b
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 02/02/2018 04:36:12
Message:
Write smaller sized multiple blocks to log file instead of a large one - Use SizeEstimator to size number of records to write - Configurable block size - Configurable log file size #MsgLength=187


----
Modified: docs/configurations.md|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|20 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|9 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|78 62

Revision: 6fec9655a8394aeec6897ec16618acbd58b51e58
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 07/12/2017 05:11:27
Message:
Added support for Disk Spillable Compaction to prevent OOM issues #MsgLength=66


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|18 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|11 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|34 36
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|155 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|326 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|256 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|116 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java|69 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java|32 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|34 35
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|21 2
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|47 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|107 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|245 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|7 1

Revision: 5d5c306e647e192bcf97b9ef9c970ed4759f116f
Author: Jian Xu <jian@uber.com>
Date: 23/02/2018 03:20:54
Message:
Add new APIs in HoodieReadClient and HoodieWriteClient #MsgLength=55


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|42 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|122 39
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|9 12

Revision: dfd1979c511d365cad32c6e52238f7e27c1f917b
Author: Jian Xu <jian@uber.com>
Date: 02/03/2018 06:04:16
Message:
Handle inflight clean instants during Hoodie instants archiving #MsgLength=64


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|4 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|15 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|8 0

Revision: 5405a6287bca1f9b3692316367c0806ed21e5ba5
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 16/02/2018 03:01:25
Message:
Introducing HoodieLogFormat V2 with versioning support - HoodieLogFormat V2 has support for LogFormat evolution through versioning - LogVersion is associated with a LogBlock not a LogFile - Based on a version for a LogBlock, approporiate code path is executed - Implemented LazyReading of Hoodie Log Blocks with Memory / IO tradeoff - Implemented Reverse pointer to be able to traverse the log in reverse - Introduce new MAGIC for backwards compatibility with logs without versions #MsgLength=496


----
Modified: docs/_data/topnav.yml|1 1
Added: docs/code_and_design.md|38 0
Deleted: docs/code_structure.md|0 16
Modified: docs/configurations.md|8 0
Added: docs/images/hoodie_log_format_v2.png|0 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|10 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|25 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|10 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|10 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|7 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|6 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|13 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|139 118
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|410 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|22 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|45 152
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|58 8
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/LogFormatVersion.java|131 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|186 38
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|30 33
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|24 41
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|60 24
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|173 16
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/LogBlockVersion.java|79 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|4 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|526 163
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|9 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|4 3
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|2 1
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|4 3

Revision: 0eaa21111a1e1bcd9f0597c62b33d31866ac43c6
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 01/03/2018 07:58:19
Message:
Re-factoring Compaction as first level API in WriteClient similar to upsert/insert #MsgLength=83


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|108 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|74 100
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|7 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|11 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|6 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|9 25
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|99 28

Revision: f2e5c6f9f8abba77aa105fecec643fbaf9d39071
Author: Vinoth Chandar <vinoth@uber.com>
Date: 08/03/2018 13:04:00
Message:
[maven-release-plugin] prepare release hoodie-0.4.1 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|2 4
Modified: hoodie-client/pom.xml|2 4
Modified: hoodie-common/pom.xml|2 4
Modified: hoodie-hadoop-mr/pom.xml|2 4
Modified: hoodie-hive/pom.xml|2 4
Modified: hoodie-spark/pom.xml|2 4
Modified: hoodie-utilities/pom.xml|2 4
Modified: pom.xml|3 5

Revision: 73534d467f76d47f7ff3dd11e4d4e193798a82c5
Author: Vinoth Chandar <vinoth@uber.com>
Date: 08/03/2018 13:04:10
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 7f079632a6420f118aca3d7befe2c1593d0640aa
Author: Jian Xu <jian@uber.com>
Date: 09/03/2018 09:21:11
Message:
Use hadoopConf in HoodieTableMetaClient and related tests #MsgLength=58


----
Modified: hoodie-client/src/test/java/HoodieClientExample.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|2 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|6 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|6 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|7 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|6 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|1 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|2 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|6 4
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|3 3
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|2 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|4 2

Revision: ba7c258c618d9f08750609cc10e80f72550ad563
Author: Jian Xu <jian@uber.com>
Date: 07/03/2018 03:25:26
Message:
Add more options in HoodieWriteConfig #MsgLength=38


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|9 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|6 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java|3 3

Revision: 9dff8c2326bee74f2653b9bdc3fd917918b6b9d2
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 22/01/2018 13:09:52
Message:
Adding a tool to read/inspect a HoodieLogFile #MsgLength=46


----
Modified: hoodie-cli/hoodie-cli.sh|5 1
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|221 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|14 11
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|6 14
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|29 0

Revision: c5b4cb1b75e75b3ae9328dcf1b8fadaa0374abc1
Author: Omkar Joshi <omkar@uber.com>
Date: 15/03/2018 07:00:47
Message:
Spawning parallel writer thread to separate reading records from spark and writing records to parquet file #MsgLength=107


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|12 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java|221 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|68 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|10 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|5 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|3 1
Added: hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java|207 0

Revision: d3df32fa03e3b83a914ef9df9d56046dacb681bc
Author: Jian Xu <jian@uber.com>
Date: 15/03/2018 03:53:12
Message:
Add back UseTempFolder changes in HoodieMergeHandle #MsgLength=52


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|7 3

Revision: 123da020e209b1537a7b247a9991082071a862c2
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 14/03/2018 13:56:29
Message:
- Fixing memory leak due to HoodieLogFileReader holding on to a logblock - Removed inMemory HashMap usage in merge(..) code in LogScanner #MsgLength=138


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|11 31
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|6 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|2 0

Revision: 291a88ba941a6ededdbf6d06c5684ea38f90502a
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date: 13/03/2018 10:06:52
Message:
DeduplicateRecords based on recordKey if global index is used #MsgLength=62


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|16 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|34 1

Revision: 48643795b809ba748d4439ec602f38d6e77675c5
Author: Jian Xu <jian@uber.com>
Date: 21/03/2018 03:06:15
Message:
Checking storage level before persisting preppedRecords #MsgLength=56


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|6 1

Revision: 1b756db2219352b695b9da28f00f2449d2b1c4f5
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 24/03/2018 12:50:11
Message:
Adding config for parquet compression ratio #MsgLength=44


----
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java|7 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|1 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|3 1

Revision: fa787ab5ab422689ddef4956417b77863a26b2e6
Author: Xavier Jodoin <xavier@jodoin.me>
Date: 27/03/2018 23:36:01
Message:
Replace deprecated jackson version #MsgLength=35


----
Modified: hoodie-common/pom.xml|0 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java|4 4
Modified: hoodie-spark/pom.xml|0 4

Revision: 987f5d6b965b49e0ba86e5d06ef5e685fb465f2e
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 15/03/2018 15:20:16
Message:
 Making ExternalSpillableMap generic for any datatype - Introduced concept of converters to be able to serde generic datatype for SpillableMap - Fixed/Added configs to Hoodie Configs - Changed HoodieMergeHandle to start using SpillableMap #MsgLength=242


----
Modified: docs/configurations.md|8 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|4 16
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|147 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|44 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|26 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 2
Modified: hoodie-common/pom.xml|5 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|5 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|16 22
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|50 49
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|65 61
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|24 30
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java|39 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|107 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java|41 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSerializableException.java|37 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java|58 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|51 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|2 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|126 23
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|113 36
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|4 0

Revision: 788e4f2d2eeeeee685b9f5d2e09b56be230e34d4
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 21/03/2018 07:29:20
Message:
CodeStyle formatting to conform to basic Checkstyle rules. #MsgLength=286


----
Modified: docs/dev_setup.md|4 5
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|3 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java|12 16
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java|1 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|12 14
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|17 21
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|57 91
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|3 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|20 31
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|37 43
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|31 45
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|17 23
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|19 29
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|18 30
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|24 38
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java|1 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|4 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|16 23
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|4 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|19 27
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|153 211
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|10 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|45 52
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|15 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|14 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java|20 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|27 27
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java|55 41
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|3 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|42 41
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|20 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|23 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java|3 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|99 109
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|12 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|94 101
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|55 59
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|28 34
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|21 28
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|13 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|28 33
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|42 59
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|3 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|28 32
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|10 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|20 22
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|77 100
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|14 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java|7 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|493 513
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|109 106
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|23 24
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|4 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|1 2
Modified: hoodie-client/src/test/java/HoodieClientExample.java|8 14
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|216 353
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|9 14
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|24 45
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java|6 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|74 97
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|32 40
Modified: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java|156 164
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|17 26
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|43 53
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|5 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|118 135
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|25 41
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|23 32
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|31 43
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java|4 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java|1 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|84 120
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|76 121
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|8 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|9 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|5 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|7 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|4 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|1 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java|35 35
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|54 55
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|54 52
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|49 19
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|11 13
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/LogFormatVersion.java]|9 36
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|25 31
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|6 8
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlockVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/LogBlockVersion.java]|2 44
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|4 3
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlockVersion.java|28 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|8 6
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlockVersion.java|28 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|27 30
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlockVersion.java|33 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|17 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|5 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|13 18
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|179 179
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|8 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|4 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|15 43
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|101 105
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|28 34
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|2 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|0 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java|2 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|1 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|14 19
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java|4 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java|2 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|59 74
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java|4 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|13 24
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|221 323
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|23 35
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|3 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|88 163
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|19 31
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|3 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|5 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|7 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|12 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|18 27
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|1 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|27 34
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|14 18
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|18 20
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|35 35
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java|0 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|29 34
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|13 18
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|1 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|17 20
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|11 3
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|17 18
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|69 78
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java|3 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java|2 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|39 49
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|74 86
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|38 44
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|18 24
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|0 1
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|16 31
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|3 2
Modified: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java|2 1
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|1 2
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|5 4
Modified: hoodie-spark/src/test/java/DataSourceTestUtils.java|4 6
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|20 25
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|50 52
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|32 32
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|32 37
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|4 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|83 62
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|9 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|10 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|11 13
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|6 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|16 23
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|1 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|9 15
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|3 3
Modified: pom.xml|35 0
Added: style/checkstyle-suppressions.xml|12 0
Added: style/checkstyle.xml|246 0
Added: style/eclipse-java-google-style.xml|337 0
Added: style/intellij-java-google-style.xml|598 0

Revision: a4049329a5170aea4d7c73f6e6890ee05d16448e
Author: Vinoth Chandar <vinoth@uber.com>
Date: 03/04/2018 00:29:15
Message:
Update release notes for 0.4.1 (post) #MsgLength=38


----
Modified: RELEASE_NOTES.md|37 1

Revision: 6c226ca21a84b18bde0ff3a3c569f3e6957a480f
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 03/04/2018 01:08:06
Message:
Issue-329 : Refactoring TestHoodieClientOnCopyOnWriteStorage and adding test-cases #MsgLength=83


----
Added: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|700 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|320 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|436 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|234 1144
Added: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|195 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|64 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|13 0

Revision: 720e42f52a0e3a5e50e63ec39c46b758a7454b01
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 02/04/2018 12:43:05
Message:
Parallelized read-write operations in Hoodie Merge phase #MsgLength=57


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java|20 46
Added: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIteratorExecutor.java|89 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|42 49
Added: hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java|72 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/payload/AbstractBufferedIteratorPayload.java|42 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/payload/GenericRecordBufferedIteratorPayload.java|31 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/payload/HoodieRecordBufferedIteratorPayload.java|47 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|47 15
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java|14 10
Added: hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIteratorExecutor.java|79 0
Added: hoodie-client/src/test/java/com/uber/hoodie/func/TestParquetReaderIterator.java|61 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|4 1

Revision: c3c205fc02155d398e52d4395527c03c710c2bdb
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 03/04/2018 13:53:28
Message:
Using BufferedFsInputStream to wrap FSInputStream for FSDataInputStream #MsgLength=72


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|5 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|12 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|12 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|13 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|77 43
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|2 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|44 31
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|5 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|17 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|23 19
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|7 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|1 0

Revision: fa73a911cc3628e375816155c6951c5398b46d30
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 20/04/2018 05:20:50
Message:
Update Gemfile.lock #MsgLength=19


----
Modified: docs/Gemfile.lock|1 1

Revision: 4d1fba24c958c17652b693d22af378e6c2ceb749
Author: Sunil Ramaiah <sramaiah@uber.com>
Date: 24/04/2018 06:23:42
Message:
Fix for updating duplicate records in same/different files in same parition #MsgLength=76


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|7 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|11 3
Added: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java|276 0

Revision: b9b9b24993993051ba9378f4e8ed1b103d811795
Author: Sunil Ramaiah <sramaiah@uber.com>
Date: 26/04/2018 03:40:24
Message:
Added more comments and removed the extra new lines #MsgLength=52


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java|27 28

Revision: c66004d79a2b1d30584df5e99e782d399d0b8ce7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/04/2018 01:56:05
Message:
Add Support for ordering and limiting results in CLI show commands #MsgLength=67


----
Modified: docs/admin_guide.md|5 5
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|78 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java|175 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/TableHeader.java|69 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|25 23
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|41 15
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|85 30
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|21 9
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|64 26

Revision: 04655e9e85e8e4aacc8c66209ccd0f4fb0b28671
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 26/03/2018 02:12:41
Message:
Adding metrics for MOR and COW #MsgLength=31


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|26 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|8 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|3 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|39 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|1 33
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|41 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java|1 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|36 15
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|43 0
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|1 1
Modified: hoodie-common/src/main/avro/HoodieCompactionMetadata.avsc|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|87 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|149 25
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|38 8
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieTimer.java|70 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|22 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java|42 0

Revision: 75df72f575d67042dcbbfd2123fc304992048ae4
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 02/05/2018 15:41:03
Message:
Adding a fix/workaround when fs.append() unable to return a valid outputstream #MsgLength=79


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|20 3
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatAppendFailureTest.java|141 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|0 7

Revision: 93f345a032629367dc2e63b7b61712d6e201c5be
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 03/04/2018 13:53:28
Message:
Minor fixes for MergeOnRead MVP release readiness #MsgLength=50


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|8 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|8 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|42 30
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|6 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|1 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|12 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|6 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|17 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|6 1

Revision: dfc0c61eb7d8ef6e66e96252f0fc89c260786704
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 27/04/2018 01:18:05
Message:
Support union mode in HoodieRealtimeRecordReader for pure insert workloads Also Replace BufferedIteratorPayload abstraction with function passing #MsgLength=146


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|2 2
Deleted: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIterator.java|0 209
Deleted: hoodie-client/src/main/java/com/uber/hoodie/func/BufferedIteratorExecutor.java|0 89
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java|58 53
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java|2 1
Added: hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java|57 0
Deleted: hoodie-client/src/main/java/com/uber/hoodie/func/payload/AbstractBufferedIteratorPayload.java|0 42
Deleted: hoodie-client/src/main/java/com/uber/hoodie/func/payload/HoodieRecordBufferedIteratorPayload.java|0 47
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|4 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|36 37
Renamed: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java [from hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIteratorExecutor.java]|36 29
Added: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java|336 0
Deleted: hoodie-client/src/test/java/com/uber/hoodie/func/TestBufferedIterator.java|0 203
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieCompactedLogRecordScanner.java]|88 91
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|131 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java|55 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|2 1
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/util/DefaultSizeEstimator.java [from hoodie-client/src/main/java/com/uber/hoodie/func/payload/GenericRecordBufferedIteratorPayload.java]|9 9
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieRecordSizeEstimator.java|52 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/SizeEstimator.java|31 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|10 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java|0 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|0 13
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java|0 6
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|162 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java|273 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueConsumer.java|63 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueProducer.java|35 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/FunctionBasedQueueProducer.java|46 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/IteratorBasedQueueProducer.java|49 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|15 16
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|8 7
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|14 6
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/RecordReaderValueIterator.java|83 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java|91 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|282 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|33 287
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|129 0
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java|142 0
Added: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java|105 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|96 6

Revision: 23d53763c4db744fe936e2e609fe6abaf7bd9a82
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 02/05/2018 15:52:37
Message:
enabling global index for MOR #MsgLength=30


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|13 6

Revision: a97814462d1b7b2b7a1a880df1e30bc5a8c3544b
Author: Sunil Ramaiah <sramaiah@uber.com>
Date: 18/05/2018 06:40:47
Message:
Added a filter function to filter the record keys in a parquet file #MsgLength=68


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|4 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|41 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|48 16

Revision: 85dd265b7bb87fb19a9c8317fff97f24000367ee
Author: Vinoth Chandar <vinoth@uber.com>
Date: 06/01/2018 06:06:18
Message:
Improving out of box experience for data source #MsgLength=491


----
Modified: docs/configurations.md|43 1
Modified: docs/s3_filesystem.md|19 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|10 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|5 5
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|22 3
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|11 6

Revision: 8f1d362015aeff281c7327d657b0dd7d89ff3083
Author: vinothchandar <vinoth@bytearray.io>
Date: 11/06/2018 09:54:58
Message:
Fixing deps & serialization for RTView - hoodie-hadoop-mr now needs objectsize bundled - Also updated docs with additional tuning tips #MsgLength=137


----
Modified: docs/configurations.md|4 1
Modified: hoodie-hadoop-mr/pom.xml|6 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|8 8

Revision: 8ad8030f2a0b9da3cd3cdecc21992803ce8a37fc
Author: Xavier Jodoin <xavier@jodoin.me>
Date: 29/03/2018 01:09:57
Message:
Fix wrong use of TemporaryFolder junit rule #MsgLength=44


----
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|7 10
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|6 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|5 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|6 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|12 1

Revision: 4f76f2899e08935e89b6060a14cfbb8af0e83981
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 11/06/2018 23:41:11
Message:
Update Release notes for 0.4.2 release #MsgLength=38


----
Modified: RELEASE_NOTES.md|38 0

Revision: 43ef3857305dc4ebf56e8c574198f81ebd7844db
Author: Vinoth Chandar <vinoth@uber.com>
Date: 11/06/2018 23:59:02
Message:
[maven-release-plugin] prepare release hoodie-0.4.2 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 34827d50e174fc27be1c0b2cd11458294026fc3c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 11/06/2018 23:59:13
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 3da063f83b246f688304c6c40991482e6e1bdc9e
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 14/05/2018 07:25:11
Message:
Adding ability for inserts to be written to log files #MsgLength=54


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|7 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|42 40
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|1 1
Renamed: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java [from hoodie-client/src/main/java/com/uber/hoodie/func/LazyInsertIterable.java]|20 13
Added: hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java|73 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|11 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|22 22
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java|9 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|13 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|126 67
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|32 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|25 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|4 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java|22 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|19 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|7 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|5 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|36 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|66 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|14 51
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|34 28
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|5 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|8 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|19 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|25 26
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|37 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|32 31
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|25 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|7 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|12 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|173 29
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|51 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|3 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|7 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|4 7
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|5 2

Revision: a6fe96fdfe241cc944293159336228255f93ec7b
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 24/05/2018 05:26:11
Message:
Changing Day based compaction strategy to be IO agnostic #MsgLength=57


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|12 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|17 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|21 4

Revision: 34ab54a9d3bbb9bc1c405b4a621d1a98c0782cc4
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 10/07/2018 07:58:05
Message:
Fixing bug introducted in rollback for MOR table type with inserts into log files #MsgLength=82


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|9 12
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|71 24
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|10 0

Revision: f62890ca1f96375989650de04a85e63fd033cbd8
Author: Omkar Joshi <omkar@uber.com>
Date: 19/07/2018 02:11:32
Message:
adding setters so that subclasses can set it #MsgLength=45


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|8 0

Revision: 44caf0d40ca6b47fbf86701eff48fa9e8715b308
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 13/07/2018 08:45:10
Message:
Fixing missing hoodie record location in HoodieRecord when record is read from disk after being spilled #MsgLength=104


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|27 7
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|8 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|4 3

Revision: 6d01ae8ca0e31c83550faacf2eeb34d9672a7985
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 24/05/2018 07:54:53
Message:
FileSystemView and Timeline level changes to support Async Compaction #MsgLength=70


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|4 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|7 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|42 45
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|9 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|17 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|58 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|16 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|56 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|23 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|47 13
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|169 14
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|2 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|420 13
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|8 1

Revision: 1b61f04e05a3ef993229e07ff0872804d7d1d0a3
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 24/05/2018 11:49:24
Message:
(1) Define CompactionWorkload in avro to allow storing them in instant files. (2) Split APIs in HoodieRealtimeCompactor to separate generating compaction workload from running compaction #MsgLength=187


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|25 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|42 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|7 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|37 17
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|14 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|12 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|24 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|21 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|42 27
Added: hoodie-common/src/main/avro/HoodieCompactionOperation.avsc|66 0
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/CompactionOperation.java]|32 18
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|10 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|100 0

Revision: 9d9994256415a35a1e327c337ac621bbe68721eb
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/05/2018 02:19:40
Message:
Track fileIds with pending compaction in FileSystemView to provide correct API semantics #MsgLength=89


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|0 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|1 2
Modified: hoodie-common/src/main/avro/HoodieCompactionOperation.avsc|1 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|15 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|67 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|15 5
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|345 0

Revision: 0a0451a7655a2ffd998cd5302bf3e4272cd895ed
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 01/06/2018 05:11:43
Message:
Ensure Compaction workload is stored in write-once meta-data files separate from timeline files. This avoids concurrency issues when compactor(s) and ingestor are running in parallel. In the Next PR -> Safety concern regarding Cleaner retaining all meta-data and file-slices for pending compactions will be addressed #MsgLength=325


----
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionInstantWithPlan.java|42 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|18 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|45 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|82 39
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|3 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|4 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|8 4

Revision: 9b78523d62d83253068fcb545c6b60be516be5b4
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 01/06/2018 05:16:19
Message:
Ensure Cleaner and Archiver do not delete file-slices and workload marked for compaction #MsgLength=89


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|72 16
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|52 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|68 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|259 21
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|9 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|164 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|20 12
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|22 0

Revision: 2f8ce930306306807669cb19a60dfbf122008658
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 24/05/2018 14:09:25
Message:
Async Compaction Main API changes #MsgLength=34


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|17 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|245 116
Deleted: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactionInstantWithPlan.java|0 42
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|4 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|20 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|0 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|7 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|0 7
Added: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|508 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|16 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|14 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|21 16
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|2 6
Modified: hoodie-common/src/test/resources/log4j-surefire.properties|2 4
Modified: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|2 2
Modified: hoodie-hive/src/test/resources/log4j-surefire.properties|3 3
Modified: hoodie-spark/src/test/resources/log4j-surefire.properties|2 6

Revision: 2e12c86d01657bae892a891b4ece3b8089cc5375
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 27/05/2018 05:08:29
Message:
Ensure Compaction Operation compacts the data file as defined in the workload #MsgLength=78


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|10 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|5 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|14 14
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|6 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|2 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|6 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|16 0
Modified: hoodie-common/src/test/resources/log4j-surefire.properties|4 2
Modified: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|2 2
Modified: hoodie-hive/src/test/resources/log4j-surefire.properties|3 3
Modified: hoodie-spark/src/test/resources/log4j-surefire.properties|6 2

Revision: 594059a19c867ad425636be32d99e6284890a6d6
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/06/2018 09:26:01
Message:
Add CLI support inspect, schedule and run compaction #MsgLength=53


----
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|229 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|12 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|34 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|4 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|136 171
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|129 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|109 0

Revision: ea23c9b7a0a9fcd749ef25b827efff87737d9b6e
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/08/2018 07:40:58
Message:
Minor bug fixes found during testing #MsgLength=37


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 1
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|3 2

Revision: 989afddd54a3a99d8243cb10d509e616b5b6257b
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 08/08/2018 06:57:01
Message:
BUGFIX - Use Guava Optional (which is Serializable) in CompactionOperation wcached to avoid NoSerializableException #MsgLength=116


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|6 5

Revision: 88274b82617b8f8880bf913a2670e7fcf308216c
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 08/08/2018 06:51:46
Message:
Adding another metric to HoodieWriteStat to determine if there were inserts converted to updates, added one test for this #MsgLength=122


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|3 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|12 4
Renamed: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java [from hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandleDuplicateRecords.java]|81 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|2 2
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|5 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|13 0

Revision: 3746ace76a21d94e46f1cdd031d4e62d0364f5d3
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 22/08/2018 08:27:56
Message:
Fixing Null pointer exception in finally block #MsgLength=47


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|1 0

Revision: e6244802598a44db17a70babdcbe02cc89a271a2
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date: 20/07/2018 04:46:33
Message:
Throttling to limit QPS from HbaseIndex #MsgLength=40


----
Added: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java|175 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|5 36
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|27 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|154 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|72 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|3 1

Revision: 6fffda5c705154add0908eb60b67fc1579b12c65
Author: Vinoth Chandar <vinoth@uber.com>
Date: 23/08/2018 12:11:43
Message:
Update Release notes for 0.4.3 release #MsgLength=39


----
Modified: RELEASE_NOTES.md|22 0

Revision: 8d305c5a8615d8f6abd40291b7dded656d884dd5
Author: Vinoth Chandar <vinoth@uber.com>
Date: 23/08/2018 12:29:53
Message:
[maven-release-plugin] prepare release hoodie-0.4.3 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 89cd6b072687b056324f34e1b2c9e59ff50d8c40
Author: Vinoth Chandar <vinoth@uber.com>
Date: 23/08/2018 12:30:05
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 2eaa42abdeb336150eb59159e3fcf1b37f060ac1
Author: Saravanan Elumalai <sarav.sars@gmail.com>
Date: 30/08/2018 02:12:06
Message:
Updated jcommander version to fix NPE in HoodieDeltaStreamer tool #MsgLength=66


----
Modified: pom.xml|1 1

Revision: 324de298bc51e3cc8a0edad891dfa76a89c2f76b
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 04/09/2018 17:05:15
Message:
Removing dependency on apache-commons lang 3, adding necessary classes as needed #MsgLength=81


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|1 1
Modified: hoodie-common/pom.xml|0 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|1 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|171 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java|51 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutablePair.java|109 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutableTriple.java|112 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Pair.java|179 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Triple.java|162 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|2 2
Renamed: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieSerializationException.java [from hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSerializableException.java]|7 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|1 1
Modified: hoodie-spark/pom.xml|0 5
Modified: pom.xml|0 5

Revision: 459e523d9e33d01db206d525ebacc6d78c876b79
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 12/06/2018 11:27:56
Message:
1. Small file size handling for inserts into log files. In summary, the total size of the log file is compared with the parquet max file size and if there is scope to add inserts the add it. #MsgLength=191


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|6 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|2 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|42 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|5 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|13 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|6 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|14 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|210 91
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|80 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|210 0
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|12 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|10 6
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStat.java|98 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStatMetadata.java|101 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java|2 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|4 4
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|3 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: fad4b513ea9a0bb816ad68f2bb22982d1789fb8a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 06/09/2018 08:54:32
Message:
Update Gemfile.lock with higher ffi version #MsgLength=43


----
Modified: docs/Gemfile.lock|1 1

Revision: e2dee68ccd49d634cfcffa250338a015619d33a1
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 07/09/2018 03:02:09
Message:
Simplify and fix CLI to schedule and run compactions #MsgLength=53


----
Modified: hoodie-cli/hoodie-cli.sh|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|14 20
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|10 10
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|2 9

Revision: 0fe92dee558631873c01c22f254f59af57120282
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 07/09/2018 15:17:49
Message:
Fix a failing test case intermittenly in TestMergeOnRead due to incorrect prev commit time #MsgLength=91


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|0 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|1 0

Revision: fb95dbdedbfa5b153b24fb91eaec25437c7e87c8
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 07/09/2018 01:24:32
Message:
CLI to create and desc hoodie table #MsgLength=36


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|7 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|71 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|7 0

Revision: d58ddbd999ab111e4cbb8f2b75efc7bba5160019
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/08/2018 18:35:30
Message:
Reworking the deltastreamer tool #MsgLength=751


----
Modified: docs/comparison.md|1 1
Modified: docs/incremental_processing.md|92 91
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|1 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|5 6
Modified: hoodie-common/pom.xml|1 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java|102 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|36 17
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java|87 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestDFSPropertiesConfiguration.java|138 0
Modified: hoodie-spark/pom.xml|4 1
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|4 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|8 9
Modified: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java|3 3
Modified: hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java|18 7
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|6 6
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|19 13
Modified: hoodie-utilities/pom.xml|76 46
Deleted: hoodie-utilities/src/assembly/src.xml|0 50
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|3 18
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|1 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|3 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|40 38
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|66 173
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|22 21
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java|12 5
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java|71 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java|5 1
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java|47 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|47 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|17 49
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|18 14
Renamed: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/SourceDataFormat.java]|17 6
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|45 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|81 77
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|7 16
Deleted: hoodie-utilities/src/main/resources/delta-streamer-config/schema-provider.properties|0 18
Deleted: hoodie-utilities/src/main/resources/delta-streamer-config/target.avsc|0 29
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|162 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java|137 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java|104 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|99 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java|186 0
Renamed: hoodie-utilities/src/test/resources/IncrementalPull.sqltemplate [from hoodie-utilities/src/main/resources/IncrementalPull.sqltemplate]|0 0
Renamed: hoodie-utilities/src/test/resources/delta-streamer-config/base.properties [from hoodie-utilities/src/main/resources/delta-streamer-config/hoodie-client.properties]|3 0
Renamed: hoodie-utilities/src/test/resources/delta-streamer-config/dfs-source.properties [from hoodie-utilities/src/main/resources/delta-streamer-config/key-generator.properties]|8 0
Renamed: hoodie-utilities/src/test/resources/delta-streamer-config/kafka-source.properties [from hoodie-utilities/src/main/resources/delta-streamer-config/source.properties]|10 3
Renamed: hoodie-utilities/src/test/resources/delta-streamer-config/source.avsc [from hoodie-utilities/src/main/resources/delta-streamer-config/source.avsc]|5 1
Modified: pom.xml|85 1

Revision: ea7823a9dda531e13a8e72c540dd6c520c1e7da6
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/09/2018 15:49:38
Message:
Docs for describing async compaction and how to operate it #MsgLength=59


----
Modified: docs/admin_guide.md|148 1
Modified: docs/concepts.md|17 0
Added: docs/images/async_compac_1.png|0 0
Added: docs/images/async_compac_2.png|0 0
Added: docs/images/async_compac_3.png|0 0
Added: docs/images/async_compac_4.png|0 0
Modified: docs/implementation.md|174 6

Revision: 2b1af18941224344194abe6e43ac77e2a7340a39
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 09/09/2018 03:26:54
Message:
Adding check for rolling stats not present to handle backwards compatibility of existing timeline #MsgLength=98


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|6 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|7 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|9 2

Revision: a5359662be5741bde6eb851e090b7678b1867843
Author: Vinoth Chandar <vinoth@uber.com>
Date: 16/07/2018 13:34:02
Message:
Moving depedencies off cdh to apache + Hive2 support #MsgLength=396


----
Modified: docs/quickstart.md|50 13
Modified: docs/sql_queries.md|3 3
Modified: hoodie-cli/pom.xml|18 0
Modified: hoodie-client/pom.xml|41 7
Modified: hoodie-common/pom.xml|8 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|9 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|23 1
Modified: hoodie-hadoop-mr/pom.xml|66 33
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|0 74
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|97 15
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|16 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|9 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java|7 7
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|4 5
Modified: hoodie-hive/pom.xml|85 54
Added: hoodie-hive/run_sync_tool.sh|39 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|16 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|88 13
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|24 7
Modified: hoodie-spark/pom.xml|73 2
Added: hoodie-spark/run_hoodie_app.sh|24 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|7 2
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|25 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|46 3
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|65 19
Modified: hoodie-utilities/pom.xml|58 23
Added: packaging/hoodie-hadoop-mr-bundle/pom.xml|299 0
Added: packaging/hoodie-hive-bundle/pom.xml|263 0
Added: packaging/hoodie-spark-bundle/pom.xml|345 0
Modified: pom.xml|174 117

Revision: eca49a255e9f291010c2a00424d49087ea22dd59
Author: Vinoth Chandar <vinoth@uber.com>
Date: 08/09/2018 03:52:49
Message:
Rebasing and fixing conflicts against master #MsgLength=45


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|1 1
Modified: hoodie-hadoop-mr/pom.xml|0 4
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|5 0
Modified: packaging/hoodie-hive-bundle/pom.xml|4 0
Modified: packaging/hoodie-spark-bundle/pom.xml|1 0

Revision: 18a39715c9796be40be93759a47d7cefc2cd4417
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 08/09/2018 09:30:49
Message:
Bump up versions in packaging modules and remove commons-lang3 dep #MsgLength=67


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|1 0
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|2 9
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 7
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 5

Revision: 605af8a82f2cb0c5ea92ba4a12d0684571a17599
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 11/09/2018 01:59:59
Message:
Reduce minimum delta-commits required for compaction #MsgLength=53


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 1

Revision: cce88b36d2861da21ddc719f1228be7e5e5d34e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 11/09/2018 07:06:31
Message:
Use spark Master from environment if set #MsgLength=41


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|4 1

Revision: 0b1a949a872d3fec4bba969f8106cd316827a613
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/09/2018 02:08:00
Message:
Release notes for 0.4.4 #MsgLength=24


----
Modified: RELEASE_NOTES.md|28 0

Revision: b748bc836d407f92b72e29308191567a10655c91
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/09/2018 02:29:34
Message:
[maven-release-plugin] prepare release hoodie-0.4.4 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|2 2
Modified: packaging/hoodie-hive-bundle/pom.xml|2 2
Modified: packaging/hoodie-spark-bundle/pom.xml|2 2
Modified: pom.xml|2 2

Revision: d1cc864a4349889953546dd95461ca90f07e4d62
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/09/2018 02:29:47
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: bd5af89f121d80e78872e23566a762f572f1448b
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/09/2018 17:31:53
Message:
[maven-release-plugin] rollback the release of hoodie-0.4.4 #MsgLength=60


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|2 2
Modified: packaging/hoodie-hive-bundle/pom.xml|2 2
Modified: packaging/hoodie-spark-bundle/pom.xml|2 2
Modified: pom.xml|1 1

Revision: f44bcc5b0312aa254f5bb89af0be5704501d9ae1
Author: Vinoth Chandar <vinoth@uber.com>
Date: 14/09/2018 15:21:27
Message:
Fix bug with incrementally pulling older data #MsgLength=46


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|4 0
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|14 2

Revision: 2728f9650531f6ee472c0832e0d9a2202b6c90b3
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 17/09/2018 15:25:24
Message:
Add dummy classes to dump all classes loaded as part of packaging modules to ensure javadoc and sources jars are getting created #MsgLength=129


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|17 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|0 1
Added: packaging/hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop/bundle/Main.java|36 0
Added: packaging/hoodie-hive-bundle/src/main/java/com/uber/hoodie/hive/bundle/Main.java|36 0
Added: packaging/hoodie-spark-bundle/src/main/java/com/uber/hoodie/spark/bundle/Main.java|36 0

Revision: 5cb28e7b1ff09149ca88fc761d0e19369c6c3505
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 20/09/2018 04:13:04
Message:
Explicitly release resources in LogFileReader and TestHoodieClientBase #MsgLength=71


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|1 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|2 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|5 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|5 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|6 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|34 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|6 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|6 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|12 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|7 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|23 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|9 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|1 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|1 0

Revision: 460e24e84bad37a51602b0de6b49962e05d18106
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/09/2018 23:06:30
Message:
Hive Sync handling must work for datasets with multi-partition keys #MsgLength=68


----
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|14 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|24 27
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|31 0
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|4 0
Added: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/MultiPartKeysValueExtractor.java|33 0

Revision: faf93b6340388ec5b2558a950e5fd4582be068b1
Author: Yishuang Lu <luystu@gmail.com>
Date: 24/09/2018 08:23:35
Message:
Fix the name of avro schema file in Test #MsgLength=132


----
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|3 3
Renamed: hoodie-common/src/test/resources/complex-test-evolved.avsc [from hoodie-common/src/test/resources/complex-test-evolved.avro]|0 0
Renamed: hoodie-common/src/test/resources/simple-test-evolved.avsc [from hoodie-common/src/test/resources/simple-test-evolved.avro]|0 0
Renamed: hoodie-common/src/test/resources/simple-test.avsc [from hoodie-common/src/test/resources/simple-test.avro]|0 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|1 1
Renamed: hoodie-hadoop-mr/src/test/resources/sample1.avsc [from hoodie-hadoop-mr/src/test/resources/sample1.avro]|0 0
Modified: pom.xml|1 1

Revision: 4c74dd4cad147a3e7780bf6d99585db199d027c9
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/09/2018 08:09:51
Message:
Travis CI tests needs to be run in quieter mode (WARN log level) to avoid max log-size errors #MsgLength=94


----
Modified: .travis.yml|4 0
Added: hoodie-client/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-common/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-hive/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-integ-test/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-spark/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-utilities/src/test/resources/log4j-surefire-quiet.properties|21 0
Modified: pom.xml|13 1

Revision: 9ca6f91e97d542eebf91756c3c78fa20f41d4247
Author: vinothchandar <vinoth@bytearray.io>
Date: 20/09/2018 20:20:27
Message:
Perform consistency checks during write finalize #MsgLength=287


----
Modified: docs/configurations.md|2 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|27 24
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|13 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java|112 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|31 36
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|5 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|26 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|3 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|2 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|39 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|2 3
Added: hoodie-client/src/test/java/com/uber/hoodie/io/TestConsistencyCheck.java|91 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|14 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|4 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|6 6
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|1 0
Modified: pom.xml|1 1

Revision: 05bf14a42ef4059f0de2fe20670d601dbcdeeeb1
Author: vinothchandar <vinoth@bytearray.io>
Date: 28/09/2018 13:33:08
Message:
Update RELEASE_NOTES for release 0.4.4 #MsgLength=39


----
Modified: RELEASE_NOTES.md|8 0

Revision: 5847b61f443d81301158ce38fbd9925b7a507932
Author: vinothchandar <vinoth@bytearray.io>
Date: 28/09/2018 13:56:15
Message:
[maven-release-plugin] prepare release hoodie-0.4.4 #MsgLength=52


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|2 2
Modified: packaging/hoodie-hive-bundle/pom.xml|2 2
Modified: packaging/hoodie-spark-bundle/pom.xml|2 2
Modified: pom.xml|2 2

Revision: 7ba842c0fe2d3ccc5f0e3f9a644a9561b6011a0e
Author: vinothchandar <vinoth@bytearray.io>
Date: 28/09/2018 13:57:00
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 98fd97b65fdf136212fd16366c7ae2af48c86bd6
Author: jiale.tan <jiale.tan@vungle.com>
Date: 14/08/2018 08:35:21
Message:
feature(HoodieGlobalBloomIndex): adds a new type of bloom index to allow global record key lookup #MsgLength=98


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|4 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|5 4
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|110 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|69 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|30 68
Added: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java|308 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|4 0

Revision: b5a75fdd910e907f308c5a404a722baf98db825d
Author: vinothchandar <vinoth@bytearray.io>
Date: 29/09/2018 22:44:35
Message:
Adding Jiale & Anbu to contributors list #MsgLength=41


----
Modified: pom.xml|8 0

Revision: 06bdba3cef187d4b7ca906dc7012b880bbc7fe93
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 29/09/2018 23:20:03
Message:
Update Gemfile.lock with newer jekyll version #MsgLength=45


----
Modified: docs/Gemfile.lock|3 3

Revision: 9710b5a3a63633a3487431219b6af16b8753598f
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/09/2018 12:41:28
Message:
Ensure Hoodie metadata folder and files are filtered out when constructing Parquet Data Source #MsgLength=95


----
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|10 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|10 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|15 0

Revision: f3418e47181edfcbd2db778ad4c7af7312ec9c65
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/08/2018 13:54:57
Message:
Docker Container Build and Run setup with foundations for adding docker integration tests. Docker images built with Hadoop 2.8.4 Hive 2.3.3 and Spark 2.3.1 and published to docker-hub Look at quickstart document for how to setup docker and run demo #MsgLength=249


----
Added: docker/build_local_docker_images.sh|13 0
Added: docker/compose/docker-compose_hadoop284_hive233_spark231.yml|217 0
Added: docker/compose/hadoop.env|33 0
Added: docker/demo/config/base.properties|21 0
Added: docker/demo/config/kafka-source.properties|29 0
Added: docker/demo/config/schema.avsc|41 0
Added: docker/demo/config/spark-defaults.conf|26 0
Added: docker/demo/data/batch_1.json|3482 0
Added: docker/demo/data/batch_2.json|1668 0
Added: docker/demo/setup_demo_container.sh|6 0
Added: docker/hoodie/hadoop/base/Dockerfile|45 0
Added: docker/hoodie/hadoop/base/entrypoint.sh|91 0
Added: docker/hoodie/hadoop/base/export_container_ip.sh|13 0
Added: docker/hoodie/hadoop/base/pom.xml|90 0
Added: docker/hoodie/hadoop/datanode/Dockerfile|14 0
Added: docker/hoodie/hadoop/datanode/pom.xml|89 0
Added: docker/hoodie/hadoop/datanode/run_dn.sh|9 0
Added: docker/hoodie/hadoop/historyserver/Dockerfile|14 0
Added: docker/hoodie/hadoop/historyserver/pom.xml|89 0
Added: docker/hoodie/hadoop/historyserver/run_history.sh|3 0
Added: docker/hoodie/hadoop/hive_base/Dockerfile|51 0
Added: docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties|45 0
Added: docker/hoodie/hadoop/hive_base/conf/hive-env.sh|54 0
Added: docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties|66 0
Added: docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties|73 0
Added: docker/hoodie/hadoop/hive_base/conf/hive-site.xml|18 0
Added: docker/hoodie/hadoop/hive_base/conf/ivysettings.xml|45 0
Added: docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties|93 0
Added: docker/hoodie/hadoop/hive_base/entrypoint.sh|118 0
Added: docker/hoodie/hadoop/hive_base/pom.xml|113 0
Added: docker/hoodie/hadoop/hive_base/startup.sh|10 0
Added: docker/hoodie/hadoop/namenode/Dockerfile|14 0
Added: docker/hoodie/hadoop/namenode/pom.xml|89 0
Added: docker/hoodie/hadoop/namenode/run_nn.sh|19 0
Added: docker/hoodie/hadoop/pom.xml|78 0
Added: docker/hoodie/hadoop/spark_base/Dockerfile|46 0
Added: docker/hoodie/hadoop/spark_base/execute-step.sh|14 0
Added: docker/hoodie/hadoop/spark_base/finish-step.sh|16 0
Added: docker/hoodie/hadoop/spark_base/pom.xml|89 0
Added: docker/hoodie/hadoop/spark_base/wait-for-step.sh|13 0
Added: docker/hoodie/hadoop/sparkadhoc/Dockerfile|12 0
Added: docker/hoodie/hadoop/sparkadhoc/adhoc.sh|13 0
Added: docker/hoodie/hadoop/sparkadhoc/pom.xml|89 0
Added: docker/hoodie/hadoop/sparkmaster/Dockerfile|14 0
Added: docker/hoodie/hadoop/sparkmaster/master.sh|16 0
Added: docker/hoodie/hadoop/sparkmaster/pom.xml|89 0
Added: docker/hoodie/hadoop/sparkworker/Dockerfile|14 0
Added: docker/hoodie/hadoop/sparkworker/pom.xml|89 0
Added: docker/hoodie/hadoop/sparkworker/worker.sh|16 0
Added: docker/setup_demo.sh|16 0
Modified: docs/quickstart.md|943 2
Modified: hoodie-hive/run_sync_tool.sh|0 0
Renamed: hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java [from hoodie-hive/src/test/java/com/uber/hoodie/hive/util/MultiPartKeysValueExtractor.java]|1 2
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|0 1
Added: hoodie-integ-test/pom.xml|212 0
Added: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestBase.java|178 0
Added: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java|139 0
Added: hoodie-integ-test/src/test/resources/log4j-surefire.properties|23 0
Modified: hoodie-spark/pom.xml|15 0
Modified: hoodie-spark/run_hoodie_app.sh|1 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|1 1
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|12 2
Modified: pom.xml|2 0

Revision: 0a200c32e5043eca194c0dc287ba7114067c1851
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 02/10/2018 13:00:39
Message:
Reflect new committership, id changes for devs #MsgLength=46


----
Modified: pom.xml|7 6

Revision: 1fca9b21cc020294dd65bcec542969b6145b3048
Author: Vinoth Chandar <vinoth@uber.com>
Date: 04/10/2018 01:02:09
Message:
Add --filter-dupes to DeltaStreamer #MsgLength=109


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|16 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|17 1
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|32 0

Revision: 8485b9e2630a0619ad59ffb29739477b46d6a527
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/10/2018 02:35:32
Message:
Fix regression which broke HudiInputFormat handling of non-hoodie datasets #MsgLength=75


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|2 1
Modified: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java|30 0

Revision: 1628d044ac5b2197fd8a565961f68b3aa7936f67
Author: jiale.tan <jiale.tan@vungle.com>
Date: 05/10/2018 08:56:51
Message:
feat(SparkDataSource): add additional feature to drop later arriving dups #MsgLength=74


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|10 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|11 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|7 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|99 70
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|43 0

Revision: 48aa026dc4887eaf78eacb8ceb428f8534c6d03b
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 26/09/2018 07:04:50
Message:
Adding documentation for migration guide and COW vs MOR tradeoffs, moving some docs around for more clarity #MsgLength=108


----
Modified: docs/_data/sidebars/mydoc_sidebar.yml|8 4
Modified: docs/concepts.md|38 17
Modified: docs/configurations.md|2 1
Modified: docs/incremental_processing.md|1 1
Added: docs/migration_guide.md|71 0
Modified: docs/powered_by.md|6 0
Modified: docs/quickstart.md|17 9

Revision: d904fe69ca003260f871ea4e099b1bd564951a70
Author: Xinli shang <shangx@uber.com>
Date: 12/10/2018 04:48:04
Message:
Fix addMetadataFields() to carry over 'props' #MsgLength=46


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|7 1
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestHoodieAvroUtils.java|57 0

Revision: 07324e7a20fb40ed8179c47a1dc213e56d51c229
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/10/2018 01:39:10
Message:
Compaction validate, unschedule and repair #MsgLength=43


----
Modified: docs/admin_guide.md|76 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|284 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|93 1
Added: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|546 0
Added: hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java|77 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|363 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|14 5
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|207 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|16 144
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java|154 0

Revision: 25cd05b24e2f324b66873d812ecbc8fbd966ac6b
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 03/10/2018 01:12:20
Message:
Useful Hudi CLI commands to debug/analyze production workloads #MsgLength=63


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|25 9
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java|273 0
Added: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RollbacksCommand.java|130 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|4 0

Revision: 1362942aa3dc69c7daecdd3f270d423f53890c6c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 08/11/2018 09:14:53
Message:
Enabling auto tuning of insert splits by default #MsgLength=49


----
Modified: docs/configurations.md|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|1 1

Revision: d0fde474589aaf17bb840dbf86e2809eddc60e1d
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 14/11/2018 07:42:36
Message:
Fixing number of insert buckets to be generated by rounding off to the closest greater integer #MsgLength=95


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|32 16

Revision: fa65db9c4cd8ce1c71d46789c9bb8e0fb03de98a
Author: Vinoth Chandar <vinoth@uber.com>
Date: 28/11/2018 08:54:46
Message:
Explicitly handle lack of append() support during LogWriting #MsgLength=61


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|2 17
Added: hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java|66 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|21 14
Added: hoodie-common/src/test/java/com/uber/hoodie/common/storage/TestStorageSchemes.java|41 0

Revision: f999e4960c9c5e901c3e44ebf716e3eaaa173522
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 28/11/2018 15:21:34
Message:
Avoid WriteStatus collect() call when committing batch #MsgLength=55


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|12 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|6 5

Revision: 0015c9b00e46bde88089680e790a7fb3ad12e5ef
Author: Vinoth Chandar <vinoth@uber.com>
Date: 01/12/2018 08:21:20
Message:
Update committership for balaji #MsgLength=32


----
Modified: pom.xml|5 4

Revision: e83dde3b9591d0ff52c453331e80a5d6ae91bb11
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 27/11/2018 15:17:32
Message:
Returning empty Statues for an empty spark partition caused due to incorrect bin packing #MsgLength=89


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|10 0

Revision: 7243ce40c93f60e8d3e47c2405dc92b4e38e1b10
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 05/11/2018 08:03:56
Message:
Serializing the complete payload object instead of serializing just the GenericRecord Removing Converter hierarchy as we now depend purely on JavaSerialization and require the payload to be java serializable #MsgLength=208


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|10 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|0 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|8 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|3 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|5 12
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/Converter.java|0 34
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/HoodieRecordConverter.java|0 109
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/converter/StringConverter.java|0 35
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|0 214
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|6 14
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|16 3
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|2 1
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|2 2

Revision: bf65219b730d99f98f78fa7cb3f016249a57fe49
Author: jiale.tan <jiale.tan@vungle.com>
Date: 12/10/2018 08:40:32
Message:
feat(SparkDataSource): add structured streaming #MsgLength=48


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|4 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|22 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|17 215
Added: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|266 0
Added: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala|117 0
Added: hoodie-spark/src/test/java/HoodieJavaStreamingApp.java|279 0
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|94 2

Revision: 466ff73ffbbfcffd5b22763245098951575788e5
Author: xubo245 <xubo29@huawei.com>
Date: 11/12/2018 09:16:37
Message:
fix some spell errorin Hudi #MsgLength=28


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|10 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|2 2
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|2 2

Revision: 30c5f8b7bd051271de7f9012221c2a47d9f92ea9
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/12/2018 03:42:38
Message:
Ensure Hoodie works for non-partitioned Hive table #MsgLength=51


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|9 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|1 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|10 8
Added: hoodie-hive/src/main/java/com/uber/hoodie/hive/NonPartitionedExtractor.java|31 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|2 1
Modified: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java|31 5
Added: hoodie-spark/src/main/java/com/uber/hoodie/NonpartitionedKeyGenerator.java|41 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|1 2
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|26 3

Revision: 6946dd75576cecceffdeb0bf06299f483ddeb444
Author: arukavytsia <artem.rukavitsya@gmail.com>
Date: 12/12/2018 09:19:43
Message:
General enhancements #MsgLength=21


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|2 3
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|19 23
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|5 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|7 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|10 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|4 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|2 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|5 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|2 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|2 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|4 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|92 111
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|5 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|5 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|33 44
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|3 15
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|3 3
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|1 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|1 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|5 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|1 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|2 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|3 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java|3 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|1 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java|6 12
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java|30 24
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|1 1
Modified: pom.xml|23 5
Added: style/scalastyle-config.xml|98 0

Revision: 345aaa31aaefa3abd7bcd7ea038821da298ac6b4
Author: Manu Sridharan <msridhar@gmail.com>
Date: 17/12/2018 01:27:27
Message:
Add m2 directory to Travis cache #MsgLength=33


----
Modified: .travis.yml|3 0

Revision: 110df7190b9c414d25ab7f7012bcbb524db8b0b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 22/12/2018 06:51:44
Message:
Enabling hard deletes for MergeOnRead table type #MsgLength=49


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|4 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|8 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|3 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|7 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java|2 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|7 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|11 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|38 9
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|21 7

Revision: d1bb804577168107f347b10913538e13b180d004
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 05/01/2019 07:01:49
Message:
Passing a path filter to avoid including folders under .hoodie directory as partition paths #MsgLength=92


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|10 1

Revision: 169e3f66bbdc2a8c4163e8966461b1d891e0ca11
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 29/12/2018 02:24:23
Message:
Filtering partition paths before performing a list status on all partitions #MsgLength=76


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|3 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|11 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|8 0

Revision: 68723764ed276556b8bf1a1c3f2ea3d695586544
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 16/01/2019 05:51:47
Message:
Adding compaction to HoodieClient example #MsgLength=42


----
Modified: hoodie-client/src/test/java/HoodieClientExample.java|12 0

Revision: 994d42d3079b347946c3888fa9962274b89888f1
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 27/12/2018 05:37:22
Message:
cleaner should now use commit timeline and not include deltacomits #MsgLength=67


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|10 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|8 8

Revision: 7985eb72b5e5a71372196f2510db68982c6761aa
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 23/01/2019 05:04:15
Message:
Fixing behavior of Merge/CreateHandle for invalid/wrong schema records #MsgLength=71


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|26 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java|4 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|0 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|15 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|17 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|0 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java|4 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java|20 18

Revision: 2b55f0751fea7a10ac0d3520f8fba30e463981e6
Author: Kent Yao <yaooqinn@hotmail.com>
Date: 29/01/2019 10:01:25
Message:
Using immutable map instead of mutables to generate parameters #MsgLength=63


----
Modified: hoodie-spark/pom.xml|18 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|7 22
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|29 33
Added: hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala|41 0

Revision: c70dbc13e94c8917967924bf7a8b950a085ad160
Author: Vinoth Chandar <vinoth@uber.com>
Date: 07/02/2019 05:50:16
Message:
Updating new slack signup link #MsgLength=31


----
Modified: docs/community.md|1 1

Revision: 3a0044216cb2f707639d48e2869f4ee6f25cfc19
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 11/10/2018 01:31:34
Message:
New Features in DeltaStreamer : (1) Apply transformation when using delta-streamer to ingest data. (2) Add Hudi Incremental Source for Delta Streamer (3) Allow delta-streamer config-property to be passed as command-line (4) Add Hive Integration to Delta-Streamer and address Review comments (5) Ensure MultiPartKeysValueExtractor  handle hive style partition description (6) Reuse same spark session on both source and transformer (7) Support extracting partition fields from _hoodie_partition_path for HoodieIncrSource (8) Reuse Binary Avro coders (9) Add push down filter for Incremental source (10) Add Hoodie DeltaStreamer metrics to track total time taken #MsgLength=671


----
Modified: docs/incremental_processing.md|6 2
Modified: docs/quickstart.md|2 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|88 0
Modified: hoodie-client/pom.xml|7 35
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|2 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|16 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|2 2
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|28 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|10 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java|15 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|9 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java|10 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|209 0
Modified: hoodie-hadoop-mr/pom.xml|16 54
Modified: hoodie-hive/pom.xml|21 63
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|16 10
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java|11 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java|2 1
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java|9 2
Modified: hoodie-spark/pom.xml|24 63
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|40 0
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|203 3
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|8 1
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|27 10
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|0 1
Modified: hoodie-utilities/pom.xml|82 56
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java|115 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|26 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|196 34
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|61 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java|112 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java|25 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java|23 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java|22 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|35 7
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroSource.java|36 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|12 13
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java|144 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java|54 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java|22 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|30 7
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonSource.java|35 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java|51 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|43 12
Renamed: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/AvroConvertor.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroConvertor.java]|5 1
Renamed: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/DFSSource.java]|12 21
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java|88 0
Renamed: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java [from hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/KafkaSource.java]|26 36
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/IdentityTransformer.java|37 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/SqlQueryBasedTransformer.java|66 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/Transformer.java|43 0
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|232 6
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java|60 0
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java|35 18
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|8 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java|34 17
Added: hoodie-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|19 0
Added: hoodie-utilities/src/test/resources/delta-streamer-config/target.avsc|37 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|42 112
Modified: packaging/hoodie-hive-bundle/pom.xml|20 69
Modified: packaging/hoodie-spark-bundle/pom.xml|20 69
Modified: pom.xml|49 108

Revision: defcf6a0b9d8894aa9efd1c9515c1d1d11512e60
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/02/2019 03:39:29
Message:
Fix Hoodie Record Reader to work with non-partitioned dataset #MsgLength=62


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|5 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|16 3
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|15 3

Revision: 8adaca34548ffdb89615dfbb4a2d44d8f71bff55
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/02/2019 08:54:31
Message:
Table rollback for inflight compactions MUST not delete instant files at any time to avoid race conditions #MsgLength=107


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|21 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|60 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|2 2

Revision: ef0d6f2218cd8604507e53e36b390e8f71ef698e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 16/02/2019 13:28:39
Message:
Update site url in README #MsgLength=25


----
Modified: README.md|1 1

Revision: a16aa2a78fbe6c7d4ab784ea7d5431d2d73d8a86
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 16/02/2019 13:53:08
Message:
Create CNAME #MsgLength=12


----
Added: docs/CNAME|1 0

Revision: 8dddecf00f377f1e72a0e0119af97972bfd6059f
Author: Kent Yao <yaooqinn@hotmail.com>
Date: 14/02/2019 16:50:46
Message:
handle no such element exception in HoodieSparkSqlWriter #MsgLength=57


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|3 4
Modified: hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala|11 0

Revision: 639c287cab4876f3b5951e5bcd7d4e940f16223f
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 14/02/2019 04:54:01
Message:
Close FSDataInputStream for meta file open in HoodiePartitionMetadata #MsgLength=70


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|7 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|2 1

Revision: 09f203d324d75aea1166b344ef9b5054fdb78380
Author: Kent Yao <yaooqinn@hotmail.com>
Date: 13/02/2019 16:46:11
Message:
typo: bundle jar with unrecongnized variables #MsgLength=46


----
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1


Revision: 75c7a2622bb65e09a9dac15ba4ed02f91c8dbb75
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 13/02/2019 09:13:49
Message:
Create hoodie-presto bundle jar #MsgLength=90


----
Added: packaging/hoodie-presto-bundle/pom.xml|189 0
Added: packaging/hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto/bundle/Main.java|36 0
Modified: pom.xml|1 0

Revision: 080b7d4d9b12baa93744744ec82facced847622a
Author: vinothchandar <vinoth@bytearray.io>
Date: 27/02/2019 22:46:22
Message:
Update RELEASE_NOTES for 0.4.5 #MsgLength=31


----
Modified: RELEASE_NOTES.md|60 0

Revision: bbf40ef9878af05fc2f92d2382a582f52fc4f209
Author: vinothchandar <vinoth@bytearray.io>
Date: 27/02/2019 23:16:15
Message:
[maven-release-plugin] prepare release hoodie-0.4.5 #MsgLength=52


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|5 9
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|2 3
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 687395e40f71f12f130640a9db048bea77a20d8c
Author: vinothchandar <vinoth@bytearray.io>
Date: 27/02/2019 23:16:27
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 363df2c12e520c5e1a5afc14391154707650524b
Author: Vinoth Chandar <vinoth@uber.com>
Date: 14/02/2019 11:53:28
Message:
Upgrade various jar, gem versions for maintenance #MsgLength=50


----
Modified: docs/Gemfile.lock|22 22
Modified: hoodie-hive/pom.xml|1 1
Modified: pom.xml|3 8

Revision: 3ae6cb4ed5820d6407663ffa74c6d201feaa8b45
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/02/2019 13:29:14
Message:
FileSystem View must treat same fileIds present in different partitions as different file-groups and handle pending compaction correctly #MsgLength=137


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|15 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|3 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|7 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|6 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|7 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|10 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|18 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|15 17
Added: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroupId.java|69 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|33 22
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|11 8
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|162 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|8 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|10 9
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java|5 1

Revision: b514e1ab18415e3d369e3b836c14c7b1a9498cea
Author: kaka11chen <kaka11.chen@gmail.com>
Date: 06/03/2019 12:29:03
Message:
Fix avro doesn't have short and byte byte. #MsgLength=43


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|5 1

Revision: 4a8bec7ea58950c7450f5edec93e9dd00cef2972
Author: Omkar Joshi <omkar@uber.com>
Date: 02/03/2019 07:34:46
Message:
Handling duplicate record update for single partition (duplicates in single or different parquet files) #MsgLength=104


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|6 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|3 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|6 0

Revision: 3c647a99cf50a8148aeabc950d7d33dbc080e226
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 09/03/2019 02:16:22
Message:
Fix quickstart documentation for querying via Presto #MsgLength=53


----
Modified: docs/quickstart.md|1 1

Revision: adc8cac74378c16f2508adbf16a6a51d241a3e35
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/03/2019 03:17:53
Message:
Fix hive sync (libfb version mismatch) and deltastreamer issue (missing cmdline argument) in demo #MsgLength=98


----
Modified: docs/quickstart.md|5 4
Modified: hoodie-hive/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|6 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: pom.xml|1 0

Revision: 57bbed21de888b4b58f20fe753630c231547a40d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 15/03/2019 08:23:36
Message:
Removing docs folder from master branch #MsgLength=121


----
Deleted: docs/.gitignore|0 4
Deleted: docs/404.md|0 6
Deleted: docs/CNAME|0 1
Deleted: docs/Dockerfile|0 26
Deleted: docs/Gemfile|0 10
Deleted: docs/Gemfile.lock|0 156
Deleted: docs/_config.yml|0 87
Deleted: docs/_data/alerts.yml|0 15
Deleted: docs/_data/sidebars/mydoc_sidebar.yml|0 66
Deleted: docs/_data/strings.yml|0 5
Deleted: docs/_data/tags.yml|0 10
Deleted: docs/_data/topnav.yml|0 30
Deleted: docs/_includes/archive.html|0 15
Deleted: docs/_includes/callout.html|0 1
Deleted: docs/_includes/custom/getting_started_series.html|0 19
Deleted: docs/_includes/custom/getting_started_series_next.html|0 10
Deleted: docs/_includes/custom/series_acme.html|0 19
Deleted: docs/_includes/custom/series_acme_next.html|0 30
Deleted: docs/_includes/custom/sidebarconfigs.html|0 19
Deleted: docs/_includes/custom/usermap.html|0 14
Deleted: docs/_includes/custom/usermapcomplex.html|0 91
Deleted: docs/_includes/disqus.html|0 16
Deleted: docs/_includes/feedback.html|0 13
Deleted: docs/_includes/footer.html|0 9
Deleted: docs/_includes/google_analytics.html|0 6
Deleted: docs/_includes/head.html|0 47
Deleted: docs/_includes/head_print.html|0 33
Deleted: docs/_includes/image.html|0 1
Deleted: docs/_includes/important.html|0 1
Deleted: docs/_includes/initialize_shuffle.html|0 130
Deleted: docs/_includes/inline_image.html|0 1
Deleted: docs/_includes/links.html|0 44
Deleted: docs/_includes/note.html|0 1
Deleted: docs/_includes/sidebar.html|0 56
Deleted: docs/_includes/taglogic.html|0 32
Deleted: docs/_includes/tip.html|0 1
Deleted: docs/_includes/toc.html|0 21
Deleted: docs/_includes/topnav.html|0 75
Deleted: docs/_includes/warning.html|0 1
Deleted: docs/_layouts/default.html|0 80
Deleted: docs/_layouts/default_print.html|0 25
Deleted: docs/_layouts/none.html|0 3
Deleted: docs/_layouts/page.html|0 70
Deleted: docs/_layouts/page_print.html|0 15
Deleted: docs/_layouts/post.html|0 41
Deleted: docs/_posts/2016-12-30-strata-talk-2017.md|0 11
Deleted: docs/admin_guide.md|0 444
Deleted: docs/api_docs.md|0 10
Deleted: docs/code_and_design.md|0 38
Deleted: docs/community.md|0 22
Deleted: docs/comparison.md|0 61
Deleted: docs/concepts.md|0 159
Deleted: docs/configurations.md|0 203
Deleted: docs/css/bootstrap.min.css|0 5
Deleted: docs/css/customstyles.css|0 1181
Deleted: docs/css/font-awesome.min.css|0 4
Deleted: docs/css/fonts/FontAwesome.otf|0 0
Deleted: docs/css/fonts/fontawesome-webfont.eot|0 0
Deleted: docs/css/fonts/fontawesome-webfont.svg|0 565
Deleted: docs/css/fonts/fontawesome-webfont.ttf|0 0
Deleted: docs/css/fonts/fontawesome-webfont.woff|0 0
Deleted: docs/css/fonts/fontawesome-webfont.woff2|0 0
Deleted: docs/css/lavish-bootstrap.css|0 5898
Deleted: docs/css/modern-business.css|0 93
Deleted: docs/css/printstyles.css|0 160
Deleted: docs/css/syntax.css|0 60
Deleted: docs/css/theme-blue.css|0 103
Deleted: docs/css/theme-green.css|0 99
Deleted: docs/dev_setup.md|0 13
Deleted: docs/feed.xml|0 32
Deleted: docs/fonts/FontAwesome.otf|0 0
Deleted: docs/fonts/fontawesome-webfont.eot|0 0
Deleted: docs/fonts/fontawesome-webfont.svg|0 520
Deleted: docs/fonts/fontawesome-webfont.ttf|0 0
Deleted: docs/fonts/fontawesome-webfont.woff|0 0
Deleted: docs/fonts/glyphicons-halflings-regular.eot|0 0
Deleted: docs/fonts/glyphicons-halflings-regular.svg|0 288
Deleted: docs/fonts/glyphicons-halflings-regular.ttf|0 0
Deleted: docs/fonts/glyphicons-halflings-regular.woff|0 0
Deleted: docs/fonts/glyphicons-halflings-regular.woff2|0 0
Deleted: docs/gcs_filesystem.md|0 62
Deleted: docs/images/androidsdkmanagericon.png|0 0
Deleted: docs/images/async_compac_1.png|0 0
Deleted: docs/images/async_compac_2.png|0 0
Deleted: docs/images/async_compac_3.png|0 0
Deleted: docs/images/async_compac_4.png|0 0
Deleted: docs/images/authorizegithubscreen2.png|0 0
Deleted: docs/images/authorizeongithub.png|0 0
Deleted: docs/images/company_logo.png|0 0
Deleted: docs/images/company_logo_big.png|0 0
Deleted: docs/images/favicon.ico|0 0
Deleted: docs/images/helpapi-01.png|0 0
Deleted: docs/images/helpapi.svg|0 1661
Deleted: docs/images/hoodie_commit_duration.png|0 0
Deleted: docs/images/hoodie_cow.png|0 0
Deleted: docs/images/hoodie_intro_1.png|0 0
Deleted: docs/images/hoodie_log_format_v2.png|0 0
Deleted: docs/images/hoodie_mor.png|0 0
Deleted: docs/images/hoodie_query_perf_hive.png|0 0
Deleted: docs/images/hoodie_query_perf_presto.png|0 0
Deleted: docs/images/hoodie_query_perf_spark.png|0 0
Deleted: docs/images/hoodie_timeline.png|0 0
Deleted: docs/images/hoodie_upsert_dag.png|0 0
Deleted: docs/images/hoodie_upsert_perf1.png|0 0
Deleted: docs/images/hoodie_upsert_perf2.png|0 0
Deleted: docs/images/illustratoroptions.png|0 0
Deleted: docs/images/itermexample.png|0 0
Deleted: docs/images/jekyll.png|0 0
Deleted: docs/images/killalljekyll.png|0 0
Deleted: docs/images/liningup.png|0 0
Deleted: docs/images/workflowarrow.png|0 0
Deleted: docs/implementation.md|0 275
Deleted: docs/incremental_processing.md|0 237
Deleted: docs/index.md|0 26
Deleted: docs/js/customscripts.js|0 55
Deleted: docs/js/jekyll-search.js|0 1
Deleted: docs/js/jquery.ba-throttle-debounce.min.js|0 9
Deleted: docs/js/jquery.localScroll.min.js|0 7
Deleted: docs/js/jquery.navgoco.min.js|0 8
Deleted: docs/js/jquery.scrollTo.min.js|0 7
Deleted: docs/js/jquery.shuffle.min.js|0 1588
Deleted: docs/js/mydoc_scroll.html|0 240
Deleted: docs/js/toc.js|0 82
Deleted: docs/licenses/LICENSE|0 21
Deleted: docs/licenses/LICENSE-BSD-NAVGOCO.txt|0 27
Deleted: docs/migration_guide.md|0 71
Deleted: docs/pages/news/news.html|0 32
Deleted: docs/pages/news/news_archive.html|0 41
Deleted: docs/powered_by.md|0 40
Deleted: docs/quickstart.md|0 1248
Deleted: docs/roadmap.md|0 14
Deleted: docs/s3_filesystem.md|0 79
Deleted: docs/search.json|0 33
Deleted: docs/sitemap.xml|0 24
Deleted: docs/sql_queries.md|0 68
Deleted: docs/use_cases.md|0 77

Revision: 621f2b878d1bcd259d5c1361ef0ad686b5e5b5af
Author: smarthi <smarthi@apache.org>
Date: 15/03/2019 02:11:01
Message:
HUDI-75: Add KEYS #MsgLength=18


----
Added: KEYS|68 0

Revision: 48797b1ae1bf3ad08908d43e3fdc5824e3d79eee
Author: kaka11chen <kaka11.chen@gmail.com>
Date: 16/03/2019 01:52:41
Message:
Add compression codec configurations for HoodieParquetWriter. #MsgLength=62


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|10 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|1 2

Revision: a6c45feb2c6d81c4cba5c0e345aca3d1e517c9d6
Author: Omkar Joshi <omkar@uber.com>
Date: 19/03/2019 02:29:45
Message:
Replacing Apache commons-lang3 object serializer with Kryo serializer #MsgLength=70


----
Modified: hoodie-common/pom.xml|5 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|49 117
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|3 2
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java|70 0
Modified: hoodie-utilities/pom.xml|5 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|5 0
Modified: packaging/hoodie-hive-bundle/pom.xml|4 0
Modified: packaging/hoodie-presto-bundle/pom.xml|4 0
Modified: packaging/hoodie-spark-bundle/pom.xml|4 0

Revision: 0dd4a90b0334d819fa8e080c5fae9ad21947156d
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 03/01/2019 11:13:55
Message:
Enable multi/nested rollbacks for MOR table type #MsgLength=49


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|89 45
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|24 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|52 9
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|173 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|2 1

Revision: 9e59da7fd96d8af0587efa2f34c89f56320d4c91
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 28/02/2019 15:43:06
Message:
Refactor HoodieTable Rollback to write one rollback instant for a batch of commits to rollback #MsgLength=95


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|153 100
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|23 24
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|18 23
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|4 12
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|1 1
Modified: hoodie-common/pom.xml|1 0
Added: hoodie-common/src/main/avro/HoodieRestoreMetadata.avsc|17 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|11 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|10 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|3 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|22 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|14 0

Revision: a2a052abd9b8955817eb4438db68998ab83d81c1
Author: Jing Chen <milantracy@gmail.com>
Date: 19/03/2019 10:06:39
Message:
add a script that shuts down demo cluster gracefully #MsgLength=53


----
Added: docker/stop_demo.sh|8 0

Revision: 194d904c99ebd013af55eac7509e3e79193dce77
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/03/2019 00:03:36
Message:
run_hive_sync tool must be able to handle case where there are multiple standalone jdbc jars in hive installation dir #MsgLength=118


----
Modified: hoodie-hive/run_sync_tool.sh|5 5

Revision: 395806fc684d8f6c3fa1b6b0f29e601cb6f4bbd0
Author: ambition119 <1269223860@qq.com>
Date: 20/03/2019 12:25:51
Message:
[HUDI-63] Removed unused BucketedIndex code #MsgLength=44


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|1 4
Deleted: hoodie-client/src/main/java/com/uber/hoodie/index/bucketed/BucketedIndex.java|0 115

Revision: 3d9041e2165bb0de0aaf71ad04cee16daa7d74b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 23/03/2019 07:27:51
Message:
Fixing source schema and writer schema distinction in payloads #MsgLength=63


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|7 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|13 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|19 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|15 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|36 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|20 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|1 2
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|1 2

Revision: 372fbc4733824d6f61db7f4b7d5e289dc902e634
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/03/2019 09:52:33
Message:
Fixes HUDI-9 : Check precondition minInstantsToKeep > cleanerCommitsRetained #MsgLength=286


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|21 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|5 5

Revision: e56c1612e46ba831f45c1ce8ee9fc2694933e2d5
Author: Vinoth Chandar <vinoth@uber.com>
Date: 28/03/2019 06:47:49
Message:
Fixed HUDI-87 : Remove schemastr from BaseAvroPayload #MsgLength=54


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|4 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|3 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|0 7

Revision: f1410bfdcde0745625d46b9f3f5e996eb368663f
Author: Vinoth Chandar <vinoth@uber.com>
Date: 27/03/2019 05:31:19
Message:
Fixes HUDI-38: Reduce memory overhead of WriteStatus #MsgLength=329


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|22 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|16 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|6 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|3 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|2 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestWriteStatus.java|53 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|4 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|5 5

Revision: 5847f0c934a8ce2ead96c8adc8c0259dda6b1283
Author: Vinoth Chandar <vinoth@uber.com>
Date: 28/03/2019 09:19:41
Message:
Fix HUDI-27 : Support num_cores > 1 for writing through spark #MsgLength=374


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|3 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|9 4

Revision: 51f490898913db5964c208c57ab14794b42fa44d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 30/03/2019 13:05:03
Message:
Follow up HUDI-27 : Call super.close() in HoodieWraperFileSystem::close() #MsgLength=74


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java|3 2

Revision: b34a204a527a156406908686e54484a0c3d8a3d7
Author: Vinoth Chandar <vinoth@uber.com>
Date: 13/03/2019 06:59:41
Message:
Fixing small file handling, inline compaction defaults #MsgLength=205


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|3 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|2 2
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|7 0
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|2 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|8 2

Revision: d1d33f725ecbef51cec05be805094b6bb1733c3e
Author: Jing Chen <milantracy@gmail.com>
Date: 02/04/2019 18:29:25
Message:
[HUDI-66] FSUtils.getRelativePartitionPath does not handle repeated folder names #MsgLength=81


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|9 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|29 0

Revision: 2577014617220abe3def503e931f811d238c1a10
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 04/04/2019 03:25:35
Message:
1. Minor changes to fix compaction 2. Adding 2 compaction policies #MsgLength=67


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|4 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|71 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|2 2
Added: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java|63 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|96 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|4 4

Revision: b07110b9fdb7d25c0cb737bef6fe0628fdfb147d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 10/04/2019 01:06:22
Message:
Essential Hive packages missing in hoodie spark bundle #MsgLength=55


----
Modified: packaging/hoodie-spark-bundle/pom.xml|4 0

Revision: a8feee929394194922405bd12b330e40e9b710fe
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 08/04/2019 02:12:22
Message:
Performing commit archiving in batches to avoid keeping a huge chunk in memory #MsgLength=79


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|9 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|5 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|14 4

Revision: 83b6aa5e9163d9e5bc79ef45a950faed202a4ba6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 12/04/2019 08:39:13
Message:
Fix multiple issues when using build_local_docker_images for setting up the demo #MsgLength=143


----
Modified: docker/hoodie/hadoop/base/Dockerfile|1 1
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|1 1
Modified: hoodie-utilities/pom.xml|1 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|2 6

Revision: 9e7ce19b06c5b6235857e22dc039bb726b61f8ca
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 17/04/2019 03:47:09
Message:
Read and apply schema for each log block from the metadata header instead of the latest schema #MsgLength=95


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|7 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|45 0

Revision: e35d24f31dc7a8d60bc63efc5ee5020880119dea
Author: Omkar Joshi <omkar@uber.com>
Date: 17/04/2019 09:35:25
Message:
Revert "Replacing Apache commons-lang3 object serializer with Kryo serializer" #MsgLength=142


----
Modified: hoodie-common/pom.xml|0 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|117 49
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|2 3
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java|0 70
Modified: hoodie-utilities/pom.xml|0 6
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|0 7
Modified: packaging/hoodie-hive-bundle/pom.xml|0 4
Modified: packaging/hoodie-presto-bundle/pom.xml|0 4
Modified: packaging/hoodie-spark-bundle/pom.xml|0 4

Revision: 36ef94004ec8443d980342e3b69ca729d105af4d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/04/2019 02:49:01
Message:
Fix Hive RT query failure in hoodie demo #MsgLength=41


----
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|6 0

Revision: 243c58f77cfc875159a0ac568efb0e3dfff199a6
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/04/2019 00:53:22
Message:
Move to apachehudi dockerhub repository & use openjdk docker containers #MsgLength=72


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark231.yml|9 9
Modified: docker/hoodie/hadoop/base/Dockerfile|2 4
Modified: docker/hoodie/hadoop/base/pom.xml|2 2
Modified: docker/hoodie/hadoop/datanode/Dockerfile|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|2 2
Modified: docker/hoodie/hadoop/historyserver/Dockerfile|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|2 2
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/namenode/Dockerfile|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|2 2
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkmaster/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkworker/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|2 2

Revision: 9ef51deb841765e85a1d1c8ab337677a687dfb66
Author: lyogev <lyogev@yotpo.com>
Date: 11/04/2019 20:14:53
Message:
Add empty payload class to support deletes via apache spark #MsgLength=60


----
Added: hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java|48 0
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|15 1

Revision: 2f1e3e15fb5844edf406b03085309d2135f47177
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/04/2019 15:44:01
Message:
Revert "Read and apply schema for each log block from the metadata header instead of the latest schema" #MsgLength=167


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|2 7
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|0 45

Revision: 26f24b6728343b2788125edf8de94a4800fd8c0e
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 20/04/2019 02:21:45
Message:
Removing OLD MAGIC header since a) it's no longer used b) causes issues when the data actually has OLD MAGIC #MsgLength=109


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|5 34
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|4 13
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|1 78

Revision: 461ce18bd1177a54ca737acab879361f680960d8
Author: Naoki Takezoe <takezoe@gmail.com>
Date: 27/04/2019 00:09:38
Message:
Fix to enable hoodie.datasource.read.incr.filters #MsgLength=50


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|2 1

Revision: 7129dc5bb7dded620141c868cefd64ab18bac139
Author: Sivabalan Narayanan <sivabala>
Date: 29/11/2018 03:00:02
Message:
Improving Tag location using interval trees for index files #MsgLength=163


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|31 54
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|26 34
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexFileFilter.java|38 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|68 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java|82 0
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexLookupResult.java]|5 7
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeLookupTree.java|156 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeNode.java|153 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleGlobalIndexFileFilter.java|53 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleIndexFileFilter.java|65 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|99 91
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java|4 4
Added: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestKeyRangeLookupTree.java|176 0

Revision: ea20d4724813990c87159be0dd10b40f6ac71542
Author: Vinoth Chandar <vinoth@uber.com>
Date: 19/04/2019 06:21:52
Message:
Introduce config to control interval tree pruning #MsgLength=115


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|40 41
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|5 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|4 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java|9 15
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleGlobalIndexFileFilter.java]|3 3
Renamed: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/SimpleIndexFileFilter.java]|3 3

Revision: 57a8b9cc8c6a1526bd9e2174321a5b675d716943
Author: vinothchandar <vinoth@apache.org>
Date: 01/05/2019 20:06:34
Message:
Making DataSource/DeltaStreamer use defaults for combining #MsgLength=269


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|8 4
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|2 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|2 2

Revision: 978470af336c1efd04864c2f0c1eb6a963233f39
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/05/2019 08:20:35
Message:
Rollback inflights when using Spark [Streaming] write #MsgLength=54


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|1 1

Revision: f47f0eb6cba5ae861a8c9e8eb06b6acdb68d159f
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date: 02/05/2019 03:45:39
Message:
HUDI-101: added mevn-shade plugin with filters. #MsgLength=48


----
Modified: pom.xml|30 0

Revision: ee1feb7c75fda1e3d28cb8635694ad69d849fa74
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/05/2019 09:30:22
Message:
Revert "HUDI-101: added mevn-shade plugin with filters." Creates fat jars for all hoodie packages #MsgLength=161


----
Modified: pom.xml|0 30

Revision: a33a55fcb59c9de341bc3169defda94df2910e65
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 06/05/2019 12:26:16
Message:
Caching Avro Binary encoder/decoder to avoid creating new one for every record #MsgLength=79


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|9 3

Revision: 738635306bef3d5e7c9395d71409bc4dc8feb2cc
Author: Omkar Joshi <omkar@uber.com>
Date: 01/05/2019 10:00:30
Message:
migrating kryo's dependency from twitter chill to plain kryo library #MsgLength=69


----
Modified: hoodie-common/pom.xml|5 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|108 116
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|3 2
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java|79 0
Modified: hoodie-utilities/pom.xml|15 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|15 0
Modified: packaging/hoodie-presto-bundle/pom.xml|12 0
Modified: packaging/hoodie-spark-bundle/pom.xml|12 0

Revision: e2dcef860672c140e4b66091292ff3bee3d20110
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date: 08/05/2019 03:17:36
Message:
HUDI-101: added exclusion filters for signature files. #MsgLength=55


----
Modified: hoodie-utilities/pom.xml|9 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|9 0
Modified: packaging/hoodie-hive-bundle/pom.xml|9 0
Modified: packaging/hoodie-presto-bundle/pom.xml|9 0
Modified: packaging/hoodie-spark-bundle/pom.xml|9 0

Revision: 4b27cc72bbb87b74c47950a2bd24ef94cfecac8d
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date: 08/05/2019 09:16:58
Message:
Don't raise when spark-defaults.conf doesn't exist #MsgLength=51


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|9 2

Revision: a0e62b79192874808193247053b502746a8bef1d
Author: Vinoth Chandar <vinoth@uber.com>
Date: 09/05/2019 11:20:58
Message:
Bucketized Bloom Filter checking #MsgLength=216


----
Modified: .gitignore|7 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|23 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java|155 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|46 45
Added: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestBucketizedBloomCheckPartitioner.java|83 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|150 120

Revision: 9cce9abf4de340c095760431301d369e364c5b34
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/05/2019 02:57:04
Message:
Fix various errors found by long running delta-streamer tests 1. Parquet Avro schema mismatch errors when ingesting are sometimes silently ignored due to race-condition in BoundedInMemoryExecutor. This was reproducible when running long-running delta-streamer with wrong schema and it caused data-loss 2. Fix behavior of Delta-Streamer to error out by default if there are any error records 3. Fix a bug in tracking write errors in WriteStats. Earlier the write errors were tracking sampled errors as opposed to total errors. 4. Delta Streamer does not commit the changes done as part of inline compaction as auto-commit is force disabled. Fix this behavior to always auto-commit inline compaction as it would not otherwise commit. #MsgLength=740


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java|3 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|38 17

Revision: af46078a828abb45e9e90915fd7e5f6f2a83d1ee
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 14/05/2019 11:30:30
Message:
converting map task memory from mb to bytes #MsgLength=44


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|2 1

Revision: 6e1e62635731d73ccc424df88d9c7c9a2e57ec8d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/05/2019 13:18:20
Message:
Minor CLI documentation change in delta-streamer #MsgLength=49


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: 7002ca6775b66521bbd926e3aab4f6c2f3c537e0
Author: Vinoth Chandar <vinoth@uber.com>
Date: 14/05/2019 20:15:29
Message:
Update release notes for 0.4.6 release #MsgLength=39


----
Modified: RELEASE_NOTES.md|60 0

Revision: cc38abecc8944135bb7b9475ff36890aa0a96680
Author: vinothchandar <vinoth@apache.org>
Date: 14/05/2019 22:29:11
Message:
[maven-release-plugin] prepare release hoodie-0.4.6 #MsgLength=52


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 446f99aa0f3456380215538eac27ab72b2aa5452
Author: vinothchandar <vinoth@apache.org>
Date: 14/05/2019 22:29:22
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 64fec640975b42b0645c75416eb8bbf0b8092c66
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/02/2019 13:29:14
Message:
Timeline Service with Incremental View Syncing support #MsgLength=55


----
Modified: docker/demo/config/base.properties|2 0
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|5 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|1 1
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java|9 12
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|3 3
Modified: hoodie-client/pom.xml|5 0
Added: hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java|100 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|8 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|2 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|11 18
Added: hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java|100 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|52 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|10 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|27 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|5 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|1 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|7 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|3 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|7 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|22 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|19 16
Added: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java|56 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|3 3
Added: hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java|45 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|24 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|11 6
Added: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java|45 0
Added: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java|55 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|13 9
Added: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java|36 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|3 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|31 23
Added: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java|56 0
Modified: hoodie-common/pom.xml|18 1
Modified: hoodie-common/src/main/avro/HoodieCommitMetadata.avsc|5 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|58 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|30 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|46 17
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|23 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|50 24
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|13 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|4 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|26 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|15 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/SyncableFileSystemView.java|44 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|55 13
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|10 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|35 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|3 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/CompactionOpDTO.java|75 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/DataFileDTO.java|60 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FSPermissionDTO.java|61 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileGroupDTO.java|56 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FilePathDTO.java|51 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileSliceDTO.java|55 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileStatusDTO.java|97 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/InstantDTO.java|53 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/LogFileDTO.java|48 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/TimelineDTO.java|44 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|823 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java|216 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageConfig.java|197 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageType.java|34 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|101 331
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java|338 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java|238 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java|469 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java|341 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemView.java|109 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|14 11
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/Functions.java|38 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/NetworkUtils.java|42 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/Option.java|312 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java|389 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBSchemaHelper.java|124 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java|4 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java|134 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|66 24
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|48 21
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|41 19
Renamed: hoodie-common/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java]|0 0
Added: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRemoteException.java|27 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|7 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|2 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|255 151
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java|783 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|33 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemViewTest.java|30 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemViewTest.java|29 0
Added: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java|30 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|4 4
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java|183 0
Added: hoodie-timeline-service/pom.xml|237 0
Added: hoodie-timeline-service/run_server.sh|14 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java|351 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java|161 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/DataFileHandler.java|76 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java|92 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/Handler.java|35 0
Added: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/TimelineHandler.java|46 0
Added: hoodie-timeline-service/src/test/java/com/uber/hoodie/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java|57 0
Added: hoodie-timeline-service/src/test/resources/log4j-surefire-quiet.properties|21 0
Added: hoodie-timeline-service/src/test/resources/log4j-surefire.properties|25 0
Modified: hoodie-utilities/pom.xml|38 2
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieWithTimelineServer.java|129 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/perf/TimelineServerPerf.java|308 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|12 2
Modified: packaging/hoodie-spark-bundle/pom.xml|4 0
Modified: pom.xml|24 4

Revision: e43efa042fe04f1bbb29a9794cddbd47eff62248
Author: Vinoth Chandar <vinoth@uber.com>
Date: 16/05/2019 10:54:19
Message:
Downgrading fasterxml jackson to 2.6.7 to be spark compatible #MsgLength=62


----
Modified: pom.xml|1 1

Revision: a7e6cf51974f96c6b4bc945db25658cbb4bc48c7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 15/05/2019 10:59:04
Message:
Support nested types for recordKey, partitionPath and combineKey #MsgLength=65


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|9 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|2 2

Revision: 3fd2fd6e9dbf8c03bcc742b883fa2a0598ad99be
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date: 10/05/2019 22:10:51
Message:
Remove redundant string from file comp rdd #MsgLength=43


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|33 30
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|10 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java|16 16

Revision: 145034c5faebefe51b6f1557f156bc19c787d671
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 09/03/2019 07:05:33
Message:
Spark Stage retry handling #MsgLength=27


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|4 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|37 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|50 43
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|6 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|12 20
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java|4 4
Deleted: hoodie-client/src/main/java/com/uber/hoodie/io/ConsistencyCheck.java|0 112
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|10 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|8 18
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|54 31
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|15 26
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|24 101
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|6 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|131 17
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|20 14
Added: hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java|108 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|54 46
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|2 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|72 43
Deleted: hoodie-client/src/test/java/com/uber/hoodie/io/TestConsistencyCheck.java|0 91
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|5 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|58 67
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java]|47 20
Renamed: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/SizeAwareFSDataOutputStream.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/SizeAwareFSDataOutputStream.java]|18 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|5 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|39 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|1 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|17 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|44 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|17 8
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuard.java|89 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|132 50
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java|200 0
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/NoOpConsistencyGuard.java|46 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|0 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|34 21
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java|4 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|65 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|117 99
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java|4 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|3 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|10 8
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|51 18
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|10 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|6 4
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|3 3
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|1 2
Modified: hoodie-timeline-service/pom.xml|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java|1 1
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|11 9

Revision: 2fe526d5485963493e44d9c6cb2a80cb84244c1f
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 24/05/2019 07:35:30
Message:
Allow users to set hoodie configs figs for Compactor, Cleaner and HDFSParquetImporter utility scripts #MsgLength=102


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|17 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java|5 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|17 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|14 1

Revision: f120427607986de82f99f2ba9a2eb0ff136c2bae
Author: leiline <lamlee1993@outlook.com>
Date: 24/05/2019 10:32:31
Message:
HUDI-105 : Fix up offsets not available on leader exception (#650) #MsgLength=120


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java|22 1

Revision: 4074c5eb234f643ed0d79efff090138b50ad99ea
Author: Vinoth Chandar <vinoth@uber.com>
Date: 22/05/2019 09:59:10
Message:
Fixed HUDI-116 :  Handle duplicate record keys across partitions #MsgLength=232


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|37 37
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|22 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java|7 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|14 49

Revision: 99b0c72aa6e02a86517bc674bdd6b18f7842c7d8
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/05/2019 07:51:09
Message:
HUDI-131 Zero FIle Listing in Compactor run #MsgLength=44


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|5 0

Revision: f2d91a455ec17e66ad319f47a2d5ad45d62c9ca3
Author: Venkat <33071342+v3nkatesh@users.noreply.github.com>
Date: 25/05/2019 09:43:46
Message:
default implementation for HBase index qps allocator (#685) #MsgLength=200


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java|103 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|32 0
Added: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/DefaultHBaseQPSResourceAllocator.java|52 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|60 14
Added: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndexQPSResourceAllocator.java|51 0
Added: hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java|144 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|19 1

Revision: d0d2fa03379525e8156d5dc0adae9eb852603899
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/05/2019 13:20:10
Message:
Reduce logging in unit-test runs #MsgLength=33


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|4 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|0 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|5 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java|1 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|5 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java|9 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java|0 5

Revision: 9c8f8212ef0979add9f5fba7d5c7c6be58869aab
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 28/05/2019 11:44:19
Message:
HUDI-134 - Disable inline compaction for Hoodie Demo #MsgLength=53


----
Modified: docker/demo/config/base.properties|1 0

Revision: 33f5208c1e95067606cd24ea90c05cd33626a243
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/05/2019 06:17:54
Message:
Only inflight commit timeline (.commit/.deltacommit) must be used when checking for sanity during compaction scheduling #MsgLength=120


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|3 2

Revision: 93f8f12a30a05cd8c6862d0f895e4bd9a9b3336a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/05/2019 03:54:23
Message:
HUDI-135 - Skip Meta folder when looking for partitions #MsgLength=56


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|53 20
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|72 0

Revision: a1f287d359f9c5e55b6d3d19871feca5cf3d250c
Author: Vinoth Chandar <vinoth@uber.com>
Date: 29/05/2019 09:26:40
Message:
Release notes for 0.4.7 #MsgLength=24


----
Modified: RELEASE_NOTES.md|26 1

Revision: 227785c022939cd2ba153c2a4f7791ab3394c6c7
Author: vinothchandar <vinoth@apache.org>
Date: 29/05/2019 10:17:15
Message:
[maven-release-plugin] prepare release hoodie-0.4.7 #MsgLength=52


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-timeline-service/pom.xml|3 3
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: 66c0b81b49ceb12d35c23b659e8599d37987e8e5
Author: vinothchandar <vinoth@apache.org>
Date: 29/05/2019 10:17:26
Message:
[maven-release-plugin] prepare for next development iteration #MsgLength=62


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hoodie-cli/pom.xml|1 1
Modified: hoodie-client/pom.xml|1 1
Modified: hoodie-common/pom.xml|1 1
Modified: hoodie-hadoop-mr/pom.xml|1 1
Modified: hoodie-hive/pom.xml|1 1
Modified: hoodie-integ-test/pom.xml|1 1
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-timeline-service/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hoodie-hive-bundle/pom.xml|1 1
Modified: packaging/hoodie-presto-bundle/pom.xml|1 1
Modified: packaging/hoodie-spark-bundle/pom.xml|1 1
Modified: pom.xml|2 2

Revision: d860fb18b6248abfa911e6188d1105f2afc4e582
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 30/05/2019 03:00:35
Message:
HUDI-139 Compaction running twice due to duplicate "map" transformation while finalizing compaction #MsgLength=100


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|2 5

Revision: 6b5abb5d92043b5360d4059280a1f39e35974eae
Author: guanjianhui <guanjianhui@xhqb.com>
Date: 22/05/2019 11:44:32
Message:
fix maven pom #MsgLength=14


----
Modified: hoodie-client/pom.xml|0 6
Modified: hoodie-spark/pom.xml|0 4
Modified: pom.xml|8 6

Revision: 3b916ec1af070f00f43ceb4d3b41c8209739bb42
Author: Vinoth Chandar <vinoth@uber.com>
Date: 31/05/2019 09:53:56
Message:
Add support for maven deploy plugin to make snapshot releases #MsgLength=62


----
Modified: pom.xml|13 0

Revision: a5e24395149fcabca5e93d15654b036f8e91020a
Author: Vinoth Chandar <vinoth@uber.com>
Date: 31/05/2019 11:21:54
Message:
Turn off noisy test #MsgLength=20


----
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|2 1

Revision: acd74129cd97f24c0dde9bf032a4048f2ce27b5f
Author: Vinoth Chandar <vinoth@uber.com>
Date: 31/05/2019 11:06:26
Message:
Create hoodie-utilities-bundle to host the shaded jar #MsgLength=312


----
Modified: docker/hoodie/hadoop/hive_base/pom.xml|3 1
Modified: hoodie-utilities/pom.xml|0 125
Added: packaging/hoodie-utilities-bundle/pom.xml|461 0
Added: packaging/hoodie-utilities-bundle/src/main/java/com/uber/hoodie/utilities/bundle/Main.java|36 0
Modified: pom.xml|1 0

Revision: 7b4a28ecf8d6a51c30c989df6e3cad64c58bf985
Author: Vinoth Chandar <vinoth@uber.com>
Date: 01/06/2019 10:21:41
Message:
Move depedency repos to https urls #MsgLength=35


----
Modified: hoodie-cli/pom.xml|3 3
Modified: hoodie-spark/pom.xml|1 1
Modified: hoodie-utilities/pom.xml|1 1
Modified: packaging/hoodie-utilities-bundle/pom.xml|1 1

Revision: 66893bfef21ef4644536688595f685f4e1a95051
Author: Thinking <744417972@qq.com>
Date: 02/06/2019 21:25:21
Message:
fix spark-shell add jar problem #MsgLength=1416


----
Modified: packaging/hoodie-spark-bundle/pom.xml|1 0

Revision: a0391b7c0183316d35862ae73ca8e1c8c4931fef
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/06/2019 09:18:44
Message:
LogFile comparator must handle log file names without write token for backwards compatibility #MsgLength=94


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|4 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|42 0

Revision: 5ae34db76481d19932e0e250b1601f1a041ce709
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 07/06/2019 08:15:45
Message:
Replace Non-Compliant dnl.utils package with Apache 2.0 licensed alternative #MsgLength=77


----
Modified: hoodie-cli/pom.xml|3 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|14 18

Revision: 45e65cc2f7f2bdebbd51222854033719deba9288
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/06/2019 10:34:11
Message:
Auto generated Slack Channel Notifications setup #MsgLength=49


----
Modified: .travis.yml|9 4

Revision: b325cbff1018cd25534fc4564593fbb3c5bf53cd
Author: guanjianhui <guanjianhui@xhqb.com>
Date: 03/06/2019 10:16:06
Message:
set codehaus.jackson modules to the same version 1.9.13 #MsgLength=56


----
Modified: pom.xml|16 2

Revision: 173e0b6be4f835c6f0f3b8354d6d402f20dd4903
Author: guanjianhui <guanjianhui@xhqb.com>
Date: 06/06/2019 16:51:16
Message:
exlude fasterxml and parquet  from presto bundle #MsgLength=49


----
Modified: packaging/hoodie-presto-bundle/pom.xml|4 0

Revision: 30b0f2636fa8a24232096b9e6efcb895850d7ba5
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 06/06/2019 09:17:55
Message:
Changes related to Licensing work 1. Go through dependencies list one round to ensure compliance. Generated current NOTICE list in all submodules (other apache projects like flink does this). To be on conservative side regarding licensing, NOTICE.txt lists all dependencies including transitive. Pending Compliance questions reported in https://issues.apache.org/jira/browse/LEGAL-461 2. Automate generating NOTICE.txt files to allow future package compliance issues be identified early as part of code-review process. 3. Added NOTICE.txt and LICENSE.txt to all HUDI jars #MsgLength=575


----
Added: NOTICE.txt|373 0
Added: docker/hoodie/hadoop/NOTICE.txt|231 0
Added: docker/hoodie/hadoop/base/NOTICE.txt|223 0
Added: docker/hoodie/hadoop/datanode/NOTICE.txt|224 0
Added: docker/hoodie/hadoop/historyserver/NOTICE.txt|224 0
Added: docker/hoodie/hadoop/hive_base/NOTICE.txt|224 0
Added: docker/hoodie/hadoop/namenode/NOTICE.txt|224 0
Added: docker/hoodie/hadoop/spark_base/NOTICE.txt|225 0
Added: docker/hoodie/hadoop/sparkadhoc/NOTICE.txt|226 0
Added: docker/hoodie/hadoop/sparkmaster/NOTICE.txt|226 0
Added: docker/hoodie/hadoop/sparkworker/NOTICE.txt|226 0
Modified: hoodie-cli/pom.xml|6 0
Added: hoodie-cli/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-cli/src/main/resources/META-INF/NOTICE.txt|287 0
Modified: hoodie-client/pom.xml|5 0
Added: hoodie-client/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-client/src/main/resources/META-INF/NOTICE.txt|284 0
Modified: hoodie-common/pom.xml|9 0
Added: hoodie-common/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-common/src/main/resources/META-INF/NOTICE.txt|118 0
Modified: hoodie-hadoop-mr/pom.xml|9 0
Added: hoodie-hadoop-mr/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|181 0
Modified: hoodie-hive/pom.xml|9 0
Added: hoodie-hive/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-hive/src/main/resources/META-INF/NOTICE.txt|187 0
Modified: hoodie-integ-test/pom.xml|1 0
Added: hoodie-integ-test/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-integ-test/src/main/resources/META-INF/NOTICE.txt|271 0
Modified: hoodie-spark/pom.xml|6 0
Added: hoodie-spark/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-spark/src/main/resources/META-INF/NOTICE.txt|278 0
Modified: hoodie-timeline-service/pom.xml|5 0
Added: hoodie-timeline-service/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-timeline-service/src/main/resources/META-INF/NOTICE.txt|140 0
Modified: hoodie-utilities/pom.xml|4 0
Added: hoodie-utilities/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hoodie-utilities/src/main/resources/META-INF/NOTICE.txt|289 0
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|11 0
Added: packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|180 0
Modified: packaging/hoodie-hive-bundle/pom.xml|11 0
Added: packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|184 0
Modified: packaging/hoodie-presto-bundle/pom.xml|11 0
Added: packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|128 0
Modified: packaging/hoodie-spark-bundle/pom.xml|10 0
Added: packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|280 0
Modified: packaging/hoodie-utilities-bundle/pom.xml|6 0
Added: packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|290 0
Modified: pom.xml|26 0
Added: release/config/NOTICE.template|11 0
Added: release/config/license-mappings.xml|93 0

Revision: 479908fd20a97c5f7007f06ba7ee3904967e1050
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 09/06/2019 13:31:47
Message:
HUDI-125 : Change License for all source files and update RAT configurations #MsgLength=77


----
Modified: deploy/maven/sonatype-settings.xml|0 16
Modified: docker/build_local_docker_images.sh|18 0
Modified: docker/demo/config/base.properties|15 15
Modified: docker/demo/config/kafka-source.properties|15 14
Modified: docker/demo/setup_demo_container.sh|18 0
Modified: docker/hoodie/hadoop/base/Dockerfile|18 0
Modified: docker/hoodie/hadoop/base/entrypoint.sh|18 0
Modified: docker/hoodie/hadoop/base/export_container_ip.sh|18 0
Modified: docker/hoodie/hadoop/base/pom.xml|14 14
Modified: docker/hoodie/hadoop/datanode/Dockerfile|18 0
Modified: docker/hoodie/hadoop/datanode/pom.xml|14 14
Modified: docker/hoodie/hadoop/datanode/run_dn.sh|18 0
Modified: docker/hoodie/hadoop/historyserver/Dockerfile|18 0
Modified: docker/hoodie/hadoop/historyserver/pom.xml|14 14
Modified: docker/hoodie/hadoop/historyserver/run_history.sh|18 0
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|18 0
Modified: docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties|14 12
Modified: docker/hoodie/hadoop/hive_base/conf/hive-env.sh|14 12
Modified: docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties|14 12
Modified: docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties|14 12
Modified: docker/hoodie/hadoop/hive_base/conf/ivysettings.xml|14 15
Modified: docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties|14 12
Modified: docker/hoodie/hadoop/hive_base/entrypoint.sh|18 0
Modified: docker/hoodie/hadoop/hive_base/pom.xml|14 14
Modified: docker/hoodie/hadoop/hive_base/startup.sh|18 0
Modified: docker/hoodie/hadoop/namenode/Dockerfile|18 0
Modified: docker/hoodie/hadoop/namenode/pom.xml|14 14
Modified: docker/hoodie/hadoop/namenode/run_nn.sh|18 0
Modified: docker/hoodie/hadoop/pom.xml|14 14
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|18 0
Modified: docker/hoodie/hadoop/spark_base/execute-step.sh|18 0
Modified: docker/hoodie/hadoop/spark_base/finish-step.sh|18 0
Modified: docker/hoodie/hadoop/spark_base/pom.xml|14 14
Modified: docker/hoodie/hadoop/spark_base/wait-for-step.sh|18 0
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|18 0
Modified: docker/hoodie/hadoop/sparkadhoc/adhoc.sh|18 0
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|14 14
Modified: docker/hoodie/hadoop/sparkmaster/Dockerfile|18 0
Modified: docker/hoodie/hadoop/sparkmaster/master.sh|18 0
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|14 14
Modified: docker/hoodie/hadoop/sparkworker/Dockerfile|18 0
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|14 14
Modified: docker/hoodie/hadoop/sparkworker/worker.sh|18 0
Modified: docker/setup_demo.sh|18 0
Modified: docker/stop_demo.sh|18 0
Modified: hoodie-cli/pom.xml|15 15
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/TableHeader.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|9 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RollbacksCommand.java|9 7
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java|8 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java|8 6
Modified: hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml|15 13
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala|7 6
Modified: hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala|7 6
Modified: hoodie-client/pom.xml|15 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java|8 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java|9 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|9 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|9 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java|8 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexFileFilter.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeLookupTree.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeNode.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/DefaultHBaseQPSResourceAllocator.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|9 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndexQPSResourceAllocator.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java|14 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java|14 12
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java|13 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|8 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|8 6
Modified: hoodie-client/src/main/resources/log4j.properties|10 9
Modified: hoodie-client/src/test/java/HoodieClientExample.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestWriteStatus.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java|9 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestParquetReaderIterator.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java|9 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestBucketizedBloomCheckPartitioner.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestKeyRangeLookupTree.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java|13 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java|8 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|9 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|8 8
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java|9 9
Modified: hoodie-client/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-client/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-common/pom.xml|14 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/SizeAwareFSDataOutputStream.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroupId.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStat.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStatMetadata.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/SyncableFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatVersion.java|9 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlockVersion.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlockVersion.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlockVersion.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlockVersion.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/CompactionOpDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/DataFileDTO.java|9 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FSPermissionDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileGroupDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FilePathDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileSliceDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileStatusDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/InstantDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/LogFileDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/TimelineDTO.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageConfig.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageType.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemView.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuard.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/DefaultSizeEstimator.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/Functions.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieRecordSizeEstimator.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieTimer.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/NetworkUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/NoOpConsistencyGuard.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/Option.java|14 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBSchemaHelper.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SizeEstimator.java|14 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|14 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|14 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutablePair.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutableTriple.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Pair.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Triple.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java|14 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueConsumer.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueProducer.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/FunctionBasedQueueProducer.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/IteratorBasedQueueProducer.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/CorruptedLogFileException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRemoteException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieSerializationException.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java|8 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java|13 11
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java|8 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java|14 12
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|14 12
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/storage/TestStorageSchemes.java|8 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatAppendFailureTest.java|8 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java|14 12
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemViewTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemViewTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestDFSPropertiesConfiguration.java|8 8
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestHoodieAvroUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|13 11
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|13 11
Modified: hoodie-common/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-common/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-hadoop-mr/pom.xml|14 14
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|8 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|8 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|8 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/RecordReaderValueIterator.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java|8 6
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|8 8
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java|8 8
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java|8 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|8 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|8 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|8 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java|8 8
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|8 8
Modified: hoodie-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-hive/pom.xml|15 15
Modified: hoodie-hive/src/assembly/src.xml|15 13
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|8 8
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|8 8
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|8 8
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java|8 6
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java|9 7
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/NonPartitionedExtractor.java|8 6
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java|8 8
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java|8 6
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java|8 8
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java|8 6
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|8 6
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|8 8
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|8 6
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|8 6
Modified: hoodie-hive/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-hive/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-integ-test/pom.xml|0 16
Modified: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestBase.java|8 6
Modified: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java|8 6
Modified: hoodie-integ-test/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-integ-test/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-spark/pom.xml|14 16
Modified: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/NonpartitionedKeyGenerator.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|8 8
Modified: hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java|8 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|8 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|7 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|7 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|8 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala|7 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|7 8
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/package.scala|8 8
Modified: hoodie-spark/src/test/java/DataSourceTestUtils.java|8 8
Modified: hoodie-spark/src/test/java/HoodieJavaApp.java|8 8
Modified: hoodie-spark/src/test/java/HoodieJavaStreamingApp.java|8 8
Modified: hoodie-spark/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-spark/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|7 8
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|7 8
Modified: hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala|8 8
Modified: hoodie-timeline-service/pom.xml|14 14
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java|8 6
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java|8 6
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/DataFileHandler.java|8 6
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java|9 7
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/Handler.java|8 6
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/TimelineHandler.java|8 6
Modified: hoodie-timeline-service/src/test/java/com/uber/hoodie/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java|13 11
Modified: hoodie-timeline-service/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-timeline-service/src/test/resources/log4j-surefire.properties|10 8
Modified: hoodie-utilities/pom.xml|15 15
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|8 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java|8 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java|18 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieWithTimelineServer.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|18 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/perf/TimelineServerPerf.java|18 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java|18 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java|18 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/AvroConvertor.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java|18 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/IdentityTransformer.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/SqlQueryBasedTransformer.java|8 8
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/Transformer.java|8 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|8 6
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|8 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|8 6
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java|8 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java|9 9
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|8 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java|8 8
Modified: hoodie-utilities/src/test/resources/delta-streamer-config/base.properties|10 11
Modified: hoodie-utilities/src/test/resources/delta-streamer-config/dfs-source.properties|10 10
Modified: hoodie-utilities/src/test/resources/delta-streamer-config/kafka-source.properties|10 10
Modified: hoodie-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|11 11
Modified: hoodie-utilities/src/test/resources/log4j-surefire-quiet.properties|10 8
Modified: hoodie-utilities/src/test/resources/log4j-surefire.properties|10 8
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|14 14
Modified: packaging/hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop/bundle/Main.java|8 8
Modified: packaging/hoodie-hive-bundle/pom.xml|14 14
Modified: packaging/hoodie-hive-bundle/src/main/java/com/uber/hoodie/hive/bundle/Main.java|8 8
Modified: packaging/hoodie-presto-bundle/pom.xml|14 14
Modified: packaging/hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto/bundle/Main.java|8 8
Added: packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Modified: packaging/hoodie-spark-bundle/pom.xml|14 16
Modified: packaging/hoodie-spark-bundle/src/main/java/com/uber/hoodie/spark/bundle/Main.java|8 8
Modified: packaging/hoodie-utilities-bundle/pom.xml|15 15
Modified: packaging/hoodie-utilities-bundle/src/main/java/com/uber/hoodie/utilities/bundle/Main.java|8 8
Modified: pom.xml|50 15

Revision: 065173211e2d884e22d48173f75763c8f6b6c7e3
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 08/06/2019 16:45:19
Message:
HUDI-147 Compaction Inflight Rollback not deleting Marker directory #MsgLength=68


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|5 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|19 5

Revision: 51d122b5c39525720ce946755f57326ce24f6e38
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/06/2019 03:58:58
Message:
Close Hoodie Clients which are opened to properly shutdown embedded timeline service #MsgLength=85


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|6 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java|46 41

Revision: b791473a6d663cd4ac2ce535aaa62bcd89fea3af
Author: Vinoth Chandar <vinoth@uber.com>
Date: 22/05/2019 06:37:38
Message:
Introduce HoodieReadHandle abstraction into index #MsgLength=255


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|15 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|2 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|4 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java|11 11
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|47 48
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java|26 112
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|3 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|3 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java|5 147
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieKeyLookupHandle.java|158 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|68 8
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieRangeInfoHandle.java|43 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieReadHandle.java|59 0
Added: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java|183 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|14 13
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java|23 18
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java|8 8
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|2 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|1 1

Revision: 1c943ab2305a06467cb039b534ee0915e4ef7453
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/06/2019 10:06:06
Message:
Ensure log files are consistently ordered when scanning #MsgLength=56


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|1 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|2 1
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|110 49

Revision: 04fc86b43d0afc39b76a7d85e82e8b94dee42923
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/06/2019 07:50:13
Message:
Turn on embedded server for all client tests #MsgLength=45


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|6 5
Deleted: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompactionWithEmbeddedTimelineServer.java|0 56
Deleted: hoodie-client/src/test/java/com/uber/hoodie/TestCleanerWithEmbeddedTimelineServer.java|0 47
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|13 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|0 4
Deleted: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClientWithEmbeddedServer.java|0 47
Deleted: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieWriteClientWithEmbeddedServer.java|0 57
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|2 2
Deleted: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFSWithEmbeddedServer.java|0 38

Revision: 136f8478a3d8deb1e2c00ee2bf45dd5f25fcb87f
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/06/2019 09:28:49
Message:
TestMergeOnReadTable must use embedded timeline server #MsgLength=55


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|2 0
Deleted: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeonReadTableWithEmbeddedServer.java|0 56

Revision: cd7623e2160abd43ea44f48a9640ea8fa0bb6db3
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/06/2019 09:28:49
Message:
All Opened hoodie clients in tests needs to be closed TestMergeOnReadTable must use embedded timeline server #MsgLength=109


----
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|27 10
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|7 7
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|6 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java|21 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|18 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java|16 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java|16 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|31 17

Revision: 129e4336413fd2290e137804cf16c515c502c2f7
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 11/05/2019 04:09:09
Message:
- Ugrading to Hive 2.x - Eliminating in-memory deltaRecordsMap - Use writerSchema to generate generic record needed by custom payloads - changes to make tests work with hive 2.x #MsgLength=178


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java|0 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|2 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|20 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|10 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|18 4
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/LogReaderUtils.java|81 0
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|2 1
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java|6 5
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|61 71
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|21 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|8 7
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|40 43
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java|7 6
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|3 2
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|44 0
Modified: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|133 26
Modified: hoodie-hive/pom.xml|15 0
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|6 3
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|3 0
Modified: hoodie-utilities/pom.xml|43 8
Modified: pom.xml|1 1
Modified: release/config/license-mappings.xml|30 10

Revision: 8e08d498c9c822e5d23ef2392863a97ce6fc1a96
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 15/06/2019 05:22:48
Message:
Reading baseCommitTime from the latest file slice as opposed to the tagged record value #MsgLength=88


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|6 9

Revision: 8c9980f4f5aab1f7d576567595d4cc0e4745308a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 18/06/2019 09:19:34
Message:
Update README.md #MsgLength=16


----
Modified: README.md|4 3

Revision: a1483f2c5f3b921d1117d31f75453e45e5717259
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 09/06/2019 03:40:08
Message:
HUDI-148 Small File selection logic for MOR must skip fileIds selected for pending compaction correctly #MsgLength=104


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|4 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|1 1
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java|6 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|9 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java|4 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java|7 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|9 4
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java|2 1
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java|3 3

Revision: 3a210ef08e178d4cb41f7d7a0ab774a04d0e8eab
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 19/06/2019 02:28:20
Message:
Disable Notice Plugin #MsgLength=22


----
Modified: pom.xml|2 1

Revision: a0d7ab238473f22347e140b0e1e273ab80583eb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/05/2019 04:21:55
Message:
HUDI-70 : Making DeltaStreamer run in continuous mode with concurrent compaction #MsgLength=81


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java|32 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|21 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|12 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java|4 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|70 29
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|1 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|8 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java|86 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|2 1
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/RocksDBBasedMap.java|125 0
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java|1 1
Added: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestRocksDbBasedMap.java|56 0
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|8 4
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|17 16
Modified: hoodie-spark/src/test/scala/DataSourceTest.scala|2 1
Modified: hoodie-utilities/pom.xml|16 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|14 3
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/AbstractDeltaStreamerService.java|146 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/Compactor.java|62 0
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|495 0
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|365 309
Added: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java|94 0
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|106 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java|103 0
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java|79 0
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|6 40
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/config/TestSourceConfig.java|43 0
Modified: packaging/hoodie-utilities-bundle/pom.xml|5 0
Modified: pom.xml|5 0

Revision: 2c40e8419e209767653e2741e653a71bb429d31d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 20/06/2019 23:34:56
Message:
Ensure TableMetaClient and FileSystem instances have exclusive copy of Configuration #MsgLength=85


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java|6 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java|1 1
Modified: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java|7 2

Revision: 822312761113baea86145279a156c9c63d1a331d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 21/06/2019 03:34:14
Message:
Add maprfs to storage schemes #MsgLength=30


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java|2 0

Revision: 66c7fa2322d0dce8ebb29f9b15a711f5f7b72884
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 20/06/2019 05:15:02
Message:
Reword confusing message and reducing the severity level #MsgLength=57


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|4 1

Revision: 1b61eb45e0643a76cfc949e61d2ddd51f7d7183e
Author: Ron Barabash <rbarabash@yotpo.com>
Date: 19/06/2019 14:46:53
Message:
Adding support for optional skipping single archiving failures #MsgLength=63


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|8 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|10 3

Revision: 17e878f721c110f274251d2ba6c7c50fcd58cb8f
Author: Jaimin Shah <shahjaimin03@gmail.com>
Date: 21/06/2019 15:25:06
Message:
adding support for complex keys (#728) #MsgLength=204


----
Added: hoodie-spark/src/main/java/com/uber/hoodie/ComplexKeyGenerator.java|81 0
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|54 1

Revision: e48e35385a91cf6d03a0a91d71aabfe78fe82928
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date: 25/06/2019 00:42:31
Message:
Added preemptive check for 'spark.scheduler.mode' #MsgLength=262


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|1 23
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java|31 2
Added: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/SchedulerConfGeneratorTest.java|36 0

Revision: 9f18a1ca80ec1d08253688d9b4d4538a86068559
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/06/2019 08:49:23
Message:
Fixing bugs found during running hoodie demo (#760) #MsgLength=53


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|24 2

Revision: 62ecb2da62117e65117f7f6070469ac27a3ea5dd
Author: Thinking Chen <744417972@qq.com>
Date: 09/07/2019 07:13:22
Message:
when column type is decimal, should add precision and scale (#753) #MsgLength=68


----
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|5 0

Revision: 11c4121f739d1d00a4ec66b4e243e47602d6ffb4
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date: 13/07/2019 00:17:16
Message:
Fixed TableNotFoundException when write with structured streaming (#778) #MsgLength=290


----
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|5 5

Revision: 621c246fa9ea607a3cd8f33fdc3d8b528315e327
Author: Yihua Guo <yhguo@umich.edu>
Date: 13/07/2019 04:45:49
Message:
[HUDI-161] Remove --key-generator-class CLI arg in HoodieDeltaStreamer and use key generator class specified in datasource properties. (#781) #MsgLength=143


----
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|10 3
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|1 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|0 6
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|50 8

Revision: 5823c1ebd7e12a48805eed05532edfd25b69c6fe
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 21/06/2019 09:05:01
Message:
HUDI-138 - Meta Files handling also need to support consistency guard #MsgLength=70


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java|23 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java|2 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java|2 3
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java|21 6
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java|2 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java|6 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|24 35
Added: hoodie-client/src/main/java/com/uber/hoodie/client/utils/ClientUtils.java|39 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|22 27
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieReadHandle.java|0 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java|1 14
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java|5 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|6 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java|16 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|6 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|8 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java|126 25
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java|33 5
Added: hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuardConfig.java|121 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java|15 17

Revision: ae3c02fb3fff47da8f20c4f9c8012a257a3df792
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/07/2019 09:19:12
Message:
HUDI-162 : File System view must be built with correct timeline actions #MsgLength=72


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|1 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|6 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|8 0
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|28 10
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|0 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java|15 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java|2 1
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|25 7

Revision: c0593e7a13b6c0bdb35c944e3ed67a79f3ce9b9b
Author: eisig <eisig.g@live.com>
Date: 16/07/2019 04:25:55
Message:
fix HoodieLogFileReader (#787) #MsgLength=32


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|11 3

Revision: 3d408ee96b7cc8eb15756276dbab031eb549e6e2
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 17/07/2019 08:33:34
Message:
HUDI-168 Ensure getFileStatus calls for files getting written is done after close() is called (#788) #MsgLength=102


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|9 4

Revision: 6efa16317c0f0f13798d739d9615dda24bf91bcf
Author: n3nash <nagarwal@uber.com>
Date: 17/07/2019 18:25:54
Message:
Fixing default value for avro 1.7 which assumes NULL value instead of a jsonnode that is null (#792) #MsgLength=102


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|7 7

Revision: 9857c4b21ccb77a97817e1e448c4c54bdd409562
Author: eisig <eisig.g@live.com>
Date: 19/07/2019 20:01:45
Message:
add jssc.stop() (#797) #MsgLength=24


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|9 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|5 1

Revision: 0b451b3a58cabe25c0cecd3fd8847a8597e2313a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/07/2019 08:29:34
Message:
HUDI-140 : GCS: Log File Reading not working due to difference in seek() behavior for EOF #MsgLength=90


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|6 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|21 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|12 0

Revision: 83dab21ae13137270df79c1b731b131ed3a24aa1
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/07/2019 12:31:46
Message:
Allow HoodieWrapperFileSystem to wrap other proxy file-system implementations with no getScheme implementation (#793) #MsgLength=119


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java|5 3

Revision: 9265c7cc36381591d92fca60517d1c64f7481709
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/07/2019 11:05:29
Message:
Add balaji gpg key to KEYS file #MsgLength=32


----
Modified: KEYS|60 0

Revision: e0648de2ef89ec55481a185a520a79b325236e28
Author: eisig <eisig.g@live.com>
Date: 30/07/2019 01:40:02
Message:
HUDI-175 - add an option to   manually override the DeltaStreamer checkpoint (#798) #MsgLength=214


----
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|11 1
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|7 0

Revision: 68464c7d027462eb481b3edffc980c4d0a0bd643
Author: vinoyang <yanghua1127@gmail.com>
Date: 30/07/2019 18:47:53
Message:
[HUDI-181] Fix the Bold markdown grammar issue of README file (#808) #MsgLength=70


----
Modified: README.md|1 1

Revision: e20b77be3b1e14039d659cd56bec163708e1b24d
Author: Vinoth Chandar <vinoth@apache.org>
Date: 19/07/2019 19:53:28
Message:
HUDI-92 : Making deltastreamer with DistributedTestSource also run locally #MsgLength=187


----
Modified: .gitignore|1 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|16 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|4 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|14 8
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java|20 18
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java|5 5
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|3 4

Revision: 6e0ff3a235602c6181e90ffe77de76a36fd21af4
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 31/07/2019 09:17:14
Message:
Generate Source Jars for bundle packages (#810) #MsgLength=49


----
Modified: packaging/hoodie-hadoop-mr-bundle/pom.xml|1 0
Modified: packaging/hoodie-hive-bundle/pom.xml|1 0
Modified: packaging/hoodie-presto-bundle/pom.xml|1 0
Modified: packaging/hoodie-spark-bundle/pom.xml|1 0
Modified: packaging/hoodie-utilities-bundle/pom.xml|1 0

Revision: 171901a9d0bfe6d405a10e8774d74b88a87edf0b
Author: Luke Zhu <luke.l.zhu@gmail.com>
Date: 01/08/2019 23:51:57
Message:
Fix typo in hoodie-presto-bundle (#818) #MsgLength=41


----
Modified: packaging/hoodie-presto-bundle/pom.xml|3 3

Revision: 69d2afd0a9d5fc59091429770da48869d146b05b
Author: Anbu Cheeralan <alunarbeach@gmail.com>
Date: 02/08/2019 02:05:06
Message:
Update Keys with anchee@apache.org #MsgLength=34


----
Modified: KEYS|60 0

Revision: 8ddfa2ecda33830d30bf53bdf6a926a2a88855c9
Author: vinothchandar <vinoth@apache.org>
Date: 02/08/2019 19:11:53
Message:
HUDI-178 : Add keys for vinoth to KEYS file #MsgLength=44


----
Modified: KEYS|49 0

Revision: 8139ffd94cae2b924477d3bd4fd4781929662b04
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/08/2019 20:12:47
Message:
HUDI-197 Hive Sync and othe CLIs using bundle picking sources jar instead of binary jar #MsgLength=88


----
Modified: hoodie-cli/hoodie-cli.sh|1 1
Modified: hoodie-hive/run_sync_tool.sh|1 1
Modified: hoodie-spark/run_hoodie_app.sh|1 1

Revision: 86b5fcdd332f8d7f1c079dbc54756173ca4b7c94
Author: venkatr <venkatr@uber.com>
Date: 25/07/2019 08:55:38
Message:
Cache RDD to avoid recomputing data ingestion. Return result RDD after updating index so that this step is not skipped by chained actions on the same RDD #MsgLength=154


----
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|6 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java|29 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|4 0
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|18 13
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|1 0
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java|51 0

Revision: 1a29d46a5707d58a33f170ce6877ebbe814715e2
Author: n3nash <nagarwal@uber.com>
Date: 03/08/2019 07:06:34
Message:
- Fix realtime queries by removing COLUMN_ID and COLUMN_NAME cache in inputformat (#814) #MsgLength=150


----
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|1 15

Revision: a066865bd6e1bbdae145324d70fbfb8b5b69b2ab
Author: n3nash <nagarwal@uber.com>
Date: 03/08/2019 23:44:01
Message:
- Adding HoodieCombineHiveInputFormat for COW tables (#811) #MsgLength=200


----
Added: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java|933 0

Revision: ec965892b042b123e985db5676fdf599d934404c
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 01/08/2019 23:54:09
Message:
HUDI-149 - Remove platform dependencies and update NOTICE plugin #MsgLength=65


----
Modified: NOTICE.txt|48 15
Modified: docker/hoodie/hadoop/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/base/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/datanode/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/historyserver/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/hive_base/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/namenode/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/spark_base/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/sparkadhoc/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/sparkmaster/NOTICE.txt|66 21
Modified: docker/hoodie/hadoop/sparkworker/NOTICE.txt|66 21
Modified: hoodie-cli/src/main/resources/META-INF/NOTICE.txt|1 42
Modified: hoodie-client/pom.xml|4 0
Modified: hoodie-client/src/main/resources/META-INF/NOTICE.txt|31 20
Modified: hoodie-common/src/main/resources/META-INF/NOTICE.txt|0 4
Modified: hoodie-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|72 18
Modified: hoodie-hive/pom.xml|5 1
Modified: hoodie-hive/src/main/resources/META-INF/NOTICE.txt|67 17
Modified: hoodie-integ-test/src/main/resources/META-INF/NOTICE.txt|65 18
Modified: hoodie-spark/src/main/resources/META-INF/NOTICE.txt|57 18
Modified: hoodie-timeline-service/src/main/resources/META-INF/NOTICE.txt|0 4
Modified: hoodie-utilities/pom.xml|6 0
Modified: hoodie-utilities/src/main/resources/META-INF/NOTICE.txt|58 15
Modified: packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|72 17
Modified: packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|69 17
Modified: packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 4
Modified: packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|59 20
Modified: packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|56 15
Modified: pom.xml|122 1

Revision: d288e328339f29b8d5acffea416c9bd1281e6010
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date: 18/07/2019 12:58:01
Message:
HUDI-171 delete tmp file in addShutDownHook #MsgLength=44


----
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|17 13

Revision: 722b6be04a0083f96438fe026cafd4cec5ef6093
Author: yanghua <yanghua1127@gmail.com>
Date: 06/08/2019 14:20:42
Message:
[HUDI-153] Use com.uber.hoodie.common.util.Option instead of Java and Guava Optional #MsgLength=85


----
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java|4 4
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java|8 8
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java|3 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java|2 2
Modified: hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java|7 7
Modified: hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java|29 29
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java|15 15
Modified: hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java|36 37
Modified: hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java|10 9
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java|2 1
Modified: hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java|9 10
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java|5 5
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java|6 6
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java|3 3
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java|4 4
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java|1 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java|2 2
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java|8 8
Modified: hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java|3 3
Modified: hoodie-client/src/test/java/HoodieClientExample.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java|25 25
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java|4 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java|2 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java|3 3
Modified: hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java|11 11
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java|5 5
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java|6 6
Modified: hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java|4 4
Modified: hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java|2 2
Modified: hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java|29 29
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java|4 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java|1 1
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java|16 16
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java|2 2
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java|7 7
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|5 5
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|6 6
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java|9 9
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java|23 23
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|4 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|14 14
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java|27 27
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java|3 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|11 12
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|3 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java|7 8
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java|2 3
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|4 4
Modified: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java|8 8
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java|5 5
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|6 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|3 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|9 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java|22 22
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java|6 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|8 9
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|3 4
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|1 2
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|5 6
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|3 3
Modified: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|3 3
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|4 4
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|2 2
Modified: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java|2 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|2 2
Modified: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java|8 8
Modified: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|2 2
Modified: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|3 3
Modified: hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java|5 5
Modified: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|5 5
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|5 5
Modified: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala|8 2
Modified: hoodie-spark/src/test/java/DataSourceTestUtils.java|4 4
Modified: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|2 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/Compactor.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|20 20
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|2 2
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java|7 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java|7 7
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java|5 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|9 9
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java|6 6
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java|5 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java|5 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java|4 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|3 3
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java|5 4
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java|8 5
Modified: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java|3 3
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|2 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java|2 2
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java|4 4
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java|9 9
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|4 4
Modified: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java|10 10

Revision: a4f9d7575f39bb79089714049ffea12ba5f25ec8
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/08/2019 08:48:17
Message:
HUDI-123 Rename code packages/constants to org.apache.hudi (#830) #MsgLength=415


----
Modified: docker/demo/setup_demo_container.sh|1 1
Modified: docker/hoodie/hadoop/base/pom.xml|7 7
Modified: docker/hoodie/hadoop/datanode/pom.xml|6 6
Modified: docker/hoodie/hadoop/historyserver/pom.xml|6 6
Modified: docker/hoodie/hadoop/hive_base/pom.xml|10 10
Modified: docker/hoodie/hadoop/namenode/pom.xml|6 6
Modified: docker/hoodie/hadoop/pom.xml|6 6
Modified: docker/hoodie/hadoop/spark_base/pom.xml|6 6
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|6 6
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|6 6
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|6 6
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatReader.java|0 132
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieMergedLogRecordScanner.java|0 131
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCorruptBlock.java|0 68
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlock.java|0 118
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieArchivedTimeline.java|0 112
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java|0 216
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieInstant.java|0 172
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/CompactionOpDTO.java|0 77
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileSliceDTO.java|0 57
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileStatusDTO.java|0 99
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewManager.java|0 218
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageConfig.java|0 199
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemView.java|0 218
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/PriorityBasedFileSystemView.java|0 241
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemView.java|0 111
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/AvroUtils.java|0 221
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/CompactionUtils.java|0 184
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuard.java|0 89
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/ConsistencyGuardConfig.java|0 121
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/DFSPropertiesConfiguration.java|0 114
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/FailSafeConsistencyGuard.java|0 198
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieAvroUtils.java|0 242
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieTimer.java|0 72
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/LogReaderUtils.java|0 81
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/Option.java|0 314
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/ParquetUtils.java|0 208
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/ReflectionUtils.java|0 104
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBDAO.java|0 472
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/RocksDBSchemaHelper.java|0 126
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/SerializationUtils.java|0 165
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/SpillableMapUtils.java|0 132
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/StringUtils.java|0 57
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/TimelineDiffHelper.java|0 135
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/TypedProperties.java|0 97
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/DiskBasedMap.java|0 363
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ExternalSpillableMap.java|0 283
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutablePair.java|0 111
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/ImmutableTriple.java|0 114
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/LazyFileIterable.java|0 126
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Pair.java|0 181
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/RocksDBBasedMap.java|0 125
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/Triple.java|0 164
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/collection/io/storage/SizeAwareDataOutputStream.java|0 72
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryExecutor.java|0 164
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueue.java|0 278
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueConsumer.java|0 63
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/BoundedInMemoryQueueProducer.java|0 35
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/FunctionBasedQueueProducer.java|0 46
Deleted: hoodie-common/src/main/java/com/uber/hoodie/common/util/queue/IteratorBasedQueueProducer.java|0 49
Deleted: hoodie-common/src/main/java/com/uber/hoodie/config/DefaultHoodieConfig.java|0 53
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/CorruptedLogFileException.java|0 26
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/DatasetNotFoundException.java|0 57
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieCorruptedDataException.java|0 35
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieException.java|0 54
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIOException.java|0 42
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieIndexException.java|0 33
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieNotSupportedException.java|0 26
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRecordMissingException.java|0 35
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieRemoteException.java|0 29
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/HoodieSerializationException.java|0 43
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidDatasetException.java|0 33
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/InvalidHoodiePathException.java|0 28
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/MetadataNotFoundException.java|0 33
Deleted: hoodie-common/src/main/java/com/uber/hoodie/exception/SchemaCompatabilityException.java|0 34
Deleted: hoodie-common/src/main/resources/META-INF/NOTICE.txt|0 114
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/TestBloomFilter.java|0 45
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/HdfsTestService.java|0 151
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/MiniClusterUtil.java|0 55
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/minicluster/ZookeeperTestService.java|0 237
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/AvroBinaryTestPayload.java|0 61
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/HoodieTestUtils.java|0 413
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieCommitMetadata.java|0 45
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/model/TestHoodieWriteStat.java|0 57
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/storage/TestStorageSchemes.java|0 43
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/HoodieTableMetaClientTest.java|0 136
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatAppendFailureTest.java|0 143
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/HoodieActiveTimelineTest.java|0 124
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/string/MockHoodieTimeline.java|0 43
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|0 35
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemViewTest.java|0 32
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedFileSystemViewTest.java|0 31
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java|0 32
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/CompactionTestUtils.java|0 212
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java|0 185
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/SpillableMapTestUtils.java|0 53
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestCompactionUtils.java|0 225
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestDFSPropertiesConfiguration.java|0 138
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestFSUtils.java|0 273
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestHoodieAvroUtils.java|0 59
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestNumericUtils.java|0 39
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestParquetUtils.java|0 127
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRecord.java|0 105
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestRocksDBManager.java|0 180
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/TestSerializationUtils.java|0 81
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestDiskBasedMap.java|0 211
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestExternalSpillableMap.java|0 320
Deleted: hoodie-common/src/test/java/com/uber/hoodie/common/util/collection/TestRocksDbBasedMap.java|0 56
Deleted: hoodie-common/src/test/resources/complex-test-evolved.avsc|0 17
Deleted: hoodie-common/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-common/src/test/resources/log4j-surefire.properties|0 27
Deleted: hoodie-hadoop-mr/pom.xml|0 133
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieHiveUtil.java|0 70
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|0 224
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java|0 183
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/RecordReaderValueIterator.java|0 83
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/SafeParquetRecordReaderWrapper.java|0 92
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/UseFileSplitsFromInputFormat.java|0 38
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java|0 359
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieParquetSerde.java|0 31
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java|0 110
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|0 241
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java|0 103
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeCompactedRecordReader.java|0 147
Deleted: hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/RealtimeUnmergedRecordReader.java|0 143
Deleted: hoodie-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|0 235
Deleted: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/AnnotationTest.java|0 40
Deleted: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java|0 248
Deleted: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/InputFormatTestUtil.java|0 221
Deleted: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestHoodieROTablePathFilter.java|0 109
Deleted: hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java|0 105
Deleted: hoodie-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-hadoop-mr/src/test/resources/log4j-surefire.properties|0 25
Deleted: hoodie-hive/pom.xml|0 227
Deleted: hoodie-hive/run_sync_tool.sh|0 39
Deleted: hoodie-hive/src/assembly/src.xml|0 46
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncConfig.java|0 102
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HiveSyncTool.java|0 191
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveSyncException.java|0 42
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/MultiPartKeysValueExtractor.java|0 44
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/NonPartitionedExtractor.java|0 33
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/PartitionValueExtractor.java|0 35
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/SchemaDifference.java|0 114
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/SlashEncodedDayPartitionValueExtractor.java|0 64
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/ColumnNameXLator.java|0 50
Deleted: hoodie-hive/src/main/java/com/uber/hoodie/hive/util/SchemaUtil.java|0 459
Deleted: hoodie-hive/src/main/resources/META-INF/NOTICE.txt|0 237
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/HiveSyncToolTest.java|0 389
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java|0 366
Deleted: hoodie-hive/src/test/java/com/uber/hoodie/hive/util/HiveTestService.java|0 326
Deleted: hoodie-hive/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-hive/src/test/resources/log4j-surefire.properties|0 26
Deleted: hoodie-integ-test/pom.xml|0 196
Deleted: hoodie-integ-test/src/main/resources/META-INF/NOTICE.txt|0 318
Deleted: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestBase.java|0 180
Deleted: hoodie-integ-test/src/test/java/com/uber/hoodie/integ/ITTestHoodieSanity.java|0 197
Deleted: hoodie-integ-test/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-integ-test/src/test/resources/log4j-surefire.properties|0 25
Deleted: hoodie-spark/pom.xml|0 291
Deleted: hoodie-spark/run_hoodie_app.sh|0 24
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java|0 58
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/ComplexKeyGenerator.java|0 81
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java|0 247
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/EmptyHoodieRecordPayload.java|0 48
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/HoodieDataSourceHelpers.java|0 77
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/KeyGenerator.java|0 43
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/NonpartitionedKeyGenerator.java|0 41
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java|0 71
Deleted: hoodie-spark/src/main/java/com/uber/hoodie/SimpleKeyGenerator.java|0 63
Deleted: hoodie-spark/src/main/resources/META-INF/NOTICE.txt|0 317
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/AvroConversionUtils.scala|0 353
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/DataSourceOptions.scala|0 206
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/DefaultSource.scala|0 107
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala|0 255
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/HoodieStreamingSink.scala|0 122
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala|0 120
Deleted: hoodie-spark/src/main/scala/com/uber/hoodie/package.scala|0 38
Deleted: hoodie-spark/src/test/java/DataSourceTestUtils.java|0 46
Deleted: hoodie-spark/src/test/java/HoodieJavaApp.java|0 231
Deleted: hoodie-spark/src/test/java/HoodieJavaStreamingApp.java|0 279
Deleted: hoodie-spark/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-spark/src/test/resources/log4j-surefire.properties|0 29
Deleted: hoodie-spark/src/test/scala/DataSourceDefaultsTest.scala|0 181
Deleted: hoodie-spark/src/test/scala/DataSourceTest.scala|0 278
Deleted: hoodie-spark/src/test/scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala|0 52
Deleted: hoodie-timeline-service/pom.xml|0 242
Deleted: hoodie-timeline-service/run_server.sh|0 14
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/FileSystemViewHandler.java|0 354
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/TimelineService.java|0 168
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/DataFileHandler.java|0 78
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/FileSliceHandler.java|0 94
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/Handler.java|0 37
Deleted: hoodie-timeline-service/src/main/java/com/uber/hoodie/timeline/service/handlers/TimelineHandler.java|0 48
Deleted: hoodie-timeline-service/src/main/resources/META-INF/NOTICE.txt|0 136
Deleted: hoodie-timeline-service/src/test/java/com/uber/hoodie/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java|0 59
Deleted: hoodie-timeline-service/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-timeline-service/src/test/resources/log4j-surefire.properties|0 27
Deleted: hoodie-utilities/pom.xml|0 382
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HDFSParquetImporter.java|0 277
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java|0 372
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCleaner.java|0 115
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactionAdminTool.java|0 176
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieCompactor.java|0 138
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java|0 195
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/HoodieWithTimelineServer.java|0 129
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/UtilHelpers.java|0 227
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/AbstractDeltaStreamerService.java|0 146
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/Compactor.java|0 62
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/DeltaSync.java|0 505
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java|0 572
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|0 79
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SchedulerConfGenerator.java|0 127
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/deltastreamer/SourceFormatAdapter.java|0 112
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieDeltaStreamerException.java|0 32
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullException.java|0 33
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/exception/HoodieIncrementalPullSQLException.java|0 32
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java|0 112
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/perf/TimelineServerPerf.java|0 323
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/FilebasedSchemaProvider.java|0 83
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/RowBasedSchemaProvider.java|0 43
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaProvider.java|0 46
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/schema/SchemaRegistryProvider.java|0 90
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroDFSSource.java|0 65
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroKafkaSource.java|0 74
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/AvroSource.java|0 36
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HiveIncrPullSource.java|0 141
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/HoodieIncrSource.java|0 158
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/InputBatch.java|0 54
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonDFSSource.java|0 56
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonKafkaSource.java|0 68
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/JsonSource.java|0 35
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/RowSource.java|0 51
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/Source.java|0 85
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/AvroConvertor.java|0 99
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/DFSPathSelector.java|0 117
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/IncrSourceHelper.java|0 103
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/sources/helpers/KafkaOffsetGen.java|0 266
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/IdentityTransformer.java|0 37
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/SqlQueryBasedTransformer.java|0 66
Deleted: hoodie-utilities/src/main/java/com/uber/hoodie/utilities/transform/Transformer.java|0 43
Deleted: hoodie-utilities/src/main/resources/META-INF/LICENSE.txt|0 614
Deleted: hoodie-utilities/src/main/resources/META-INF/NOTICE.txt|0 332
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/SchedulerConfGeneratorTest.java|0 36
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java|0 287
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieDeltaStreamer.java|0 569
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java|0 173
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/UtilitiesTestBase.java|0 197
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/AbstractBaseTestSource.java|0 105
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/DistributedTestDataSource.java|0 79
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDFSSource.java|0 121
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestDataSource.java|0 64
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/TestKafkaSource.java|0 203
Deleted: hoodie-utilities/src/test/java/com/uber/hoodie/utilities/sources/config/TestSourceConfig.java|0 43
Deleted: hoodie-utilities/src/test/resources/IncrementalPull.sqltemplate|0 8
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/base.properties|0 20
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/dfs-source.properties|0 27
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/kafka-source.properties|0 30
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/source.avsc|0 34
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|0 19
Deleted: hoodie-utilities/src/test/resources/delta-streamer-config/target.avsc|0 37
Deleted: hoodie-utilities/src/test/resources/log4j-surefire-quiet.properties|0 23
Deleted: hoodie-utilities/src/test/resources/log4j-surefire.properties|0 25
Renamed: hudi-cli/hudi-cli.sh [from hoodie-cli/hoodie-cli.sh]|3 2
Renamed: hudi-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar [from hoodie-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar]|0 0
Renamed: hudi-cli/pom.xml [from hoodie-cli/pom.xml]|12 12
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieCLI.java]|4 4
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieHistoryFileNameProvider.java]|1 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrintHelper.java]|2 2
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodiePrompt.java]|6 6
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/HoodieSplashScreen.java]|11 7
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/Main.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/Main.java]|3 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java]|2 2
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/TableHeader.java]|1 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/ArchivedCommitsCommand.java]|13 12
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CleansCommand.java]|11 11
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CommitsCommand.java]|14 14
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/CompactionCommand.java]|21 23
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/DatasetsCommand.java]|13 9
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/FileSystemViewCommand.java]|12 12
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HDFSParquetImportCommand.java]|7 7
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieLogFileCommand.java]|20 19
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java]|7 7
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java]|7 7
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/RollbacksCommand.java]|13 13
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SavepointsCommand.java]|13 13
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/SparkMain.java]|16 15
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/StatsCommand.java]|10 10
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/commands/UtilsCommand.java]|1 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/CommitUtil.java]|5 5
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/HiveUtil.java]|2 2
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/InputStreamConsumer.java]|1 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java [from hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java]|4 5
Renamed: hudi-cli/src/main/resources/META-INF/LICENSE.txt [from hoodie-cli/src/main/resources/META-INF/LICENSE.txt]|0 0
Renamed: hudi-cli/src/main/resources/META-INF/NOTICE.txt [from hoodie-cli/src/main/resources/META-INF/NOTICE.txt]|0 0
Renamed: hudi-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml [from hoodie-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml]|1 1
Renamed: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala [from hoodie-cli/src/main/scala/com/uber/hoodie/cli/DedupeSparkJob.scala]|6 6
Renamed: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala [from hoodie-cli/src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala]|9 9
Renamed: hudi-client/pom.xml [from hoodie-client/pom.xml]|12 12
Renamed: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java [from hoodie-client/src/main/java/com/uber/hoodie/AbstractHoodieClient.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java [from hoodie-client/src/main/java/com/uber/hoodie/CompactionAdminClient.java]|25 25
Renamed: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java [from hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java]|18 18
Renamed: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java [from hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java]|45 45
Renamed: hudi-client/src/main/java/org/apache/hudi/WriteStatus.java [from hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java]|5 5
Renamed: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java [from hoodie-client/src/main/java/com/uber/hoodie/client/embedded/EmbeddedTimelineService.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java [from hoodie-client/src/main/java/com/uber/hoodie/client/utils/ClientUtils.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java]|5 5
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieHBaseIndexConfig.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMemoryConfig.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieMetricsConfig.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieStorageConfig.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java]|11 10
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieAppendException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCommitException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieCompactionException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieCompactionException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieDependentSystemUnavailableException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieInsertException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieRollbackException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieRollbackException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieSavepointException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieSavepointException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java [from hoodie-client/src/main/java/com/uber/hoodie/exception/HoodieUpsertException.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java [from hoodie-client/src/main/java/com/uber/hoodie/func/BulkInsertMapFunction.java]|6 6
Renamed: hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java [from hoodie-client/src/main/java/com/uber/hoodie/func/CopyOnWriteLazyInsertIterable.java]|14 14
Renamed: hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java [from hoodie-client/src/main/java/com/uber/hoodie/func/LazyIterableIterator.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java [from hoodie-client/src/main/java/com/uber/hoodie/func/MergeOnReadLazyInsertIterable.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java [from hoodie-client/src/main/java/com/uber/hoodie/func/OperationResult.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java [from hoodie-client/src/main/java/com/uber/hoodie/func/ParquetReaderIterator.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java [from hoodie-client/src/main/java/com/uber/hoodie/func/SparkBoundedInMemoryExecutor.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/HoodieIndex.java]|16 15
Renamed: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/InMemoryHashIndex.java]|10 10
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BloomIndexFileInfo.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/BucketizedBloomCheckPartitioner.java]|2 3
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java]|16 15
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieBloomIndexCheckFunction.java]|11 11
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/HoodieGlobalBloomIndex.java]|11 11
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IndexFileFilter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/IntervalTreeBasedIndexFileFilter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyLookupResult.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyLookupResult.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeLookupTree.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/KeyRangeNode.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedGlobalIndexFileFilter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java [from hoodie-client/src/main/java/com/uber/hoodie/index/bloom/ListBasedIndexFileFilter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java [from hoodie-client/src/main/java/com/uber/hoodie/index/hbase/DefaultHBaseQPSResourceAllocator.java]|2 3
Renamed: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java [from hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndex.java]|18 18
Renamed: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java [from hoodie-client/src/main/java/com/uber/hoodie/index/hbase/HBaseIndexQPSResourceAllocator.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java]|27 26
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java]|18 17
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java]|36 37
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java]|16 16
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieIOHandle.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieKeyLookupHandle.java]|12 12
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java]|22 22
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieRangeInfoHandle.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieReadHandle.java]|6 6
Renamed: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java [from hoodie-client/src/main/java/com/uber/hoodie/io/HoodieWriteHandle.java]|14 14
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieCompactor.java]|6 6
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java]|24 24
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedIOCompactionStrategy.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/CompactionStrategy.java]|10 9
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/DayBasedCompactionStrategy.java]|5 5
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedCompactionStrategy.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java [from hoodie-client/src/main/java/com/uber/hoodie/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetConfig.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieParquetWriter.java]|7 7
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriter.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriter.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java [from hoodie-client/src/main/java/com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java]|6 6
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/HoodieMetrics.java]|25 27
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/InMemoryMetricsReporter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/Metrics.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsGraphiteReporter.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterFactory.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java [from hoodie-client/src/main/java/com/uber/hoodie/metrics/MetricsReporterType.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java [from hoodie-client/src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java]|31 31
Renamed: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java [from hoodie-client/src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java]|35 34
Renamed: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java [from hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java]|31 31
Renamed: hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java [from hoodie-client/src/main/java/com/uber/hoodie/table/UserDefinedBulkInsertPartitioner.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java [from hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadProfile.java]|5 5
Renamed: hudi-client/src/main/java/org/apache/hudi/table/WorkloadStat.java [from hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java]|3 3
Renamed: hudi-client/src/main/resources/META-INF/LICENSE.txt [from hoodie-client/src/main/resources/META-INF/LICENSE.txt]|0 0
Renamed: hudi-client/src/main/resources/META-INF/NOTICE.txt [from hoodie-client/src/main/resources/META-INF/NOTICE.txt]|0 0
Renamed: hudi-client/src/main/resources/log4j.properties [from hoodie-client/src/main/resources/log4j.properties]|0 0
Renamed: hudi-client/src/test/java/HoodieClientExample.java [from hoodie-client/src/test/java/HoodieClientExample.java]|13 13
Renamed: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java [from hoodie-client/src/test/java/com/uber/hoodie/TestAsyncCompaction.java]|33 32
Renamed: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java [from hoodie-client/src/test/java/com/uber/hoodie/TestCleaner.java]|226 141
Renamed: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java [from hoodie-client/src/test/java/com/uber/hoodie/TestClientRollback.java]|19 19
Renamed: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java [from hoodie-client/src/test/java/com/uber/hoodie/TestCompactionAdminClient.java]|17 18
Renamed: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java [from hoodie-client/src/test/java/com/uber/hoodie/TestConsistencyGuard.java]|6 6
Renamed: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java [from hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientBase.java]|28 28
Renamed: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java [from hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java]|33 33
Renamed: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java [from hoodie-client/src/test/java/com/uber/hoodie/TestHoodieReadClient.java]|4 4
Renamed: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java [from hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java]|15 15
Renamed: hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java [from hoodie-client/src/test/java/com/uber/hoodie/TestWriteStatus.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java [from hoodie-client/src/test/java/com/uber/hoodie/common/HoodieClientTestUtils.java]|21 21
Renamed: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java [from hoodie-client/src/test/java/com/uber/hoodie/common/HoodieMergeOnReadTestUtils.java]|5 7
Renamed: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java [from hoodie-client/src/test/java/com/uber/hoodie/common/HoodieTestDataGenerator.java]|17 17
Renamed: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java [from hoodie-client/src/test/java/com/uber/hoodie/common/TestRawTripPayload.java]|6 6
Renamed: hudi-client/src/test/java/org/apache/hudi/config/HoodieWriteConfigTest.java [from hoodie-client/src/test/java/com/uber/hoodie/config/HoodieWriteConfigTest.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java [from hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryExecutor.java]|9 9
Renamed: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java [from hoodie-client/src/test/java/com/uber/hoodie/func/TestBoundedInMemoryQueue.java]|14 14
Renamed: hudi-client/src/test/java/org/apache/hudi/func/TestParquetReaderIterator.java [from hoodie-client/src/test/java/com/uber/hoodie/func/TestParquetReaderIterator.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java [from hoodie-client/src/test/java/com/uber/hoodie/func/TestUpdateMapFunction.java]|15 15
Renamed: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java [from hoodie-client/src/test/java/com/uber/hoodie/index/TestHBaseQPSResourceAllocator.java]|13 13
Renamed: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java [from hoodie-client/src/test/java/com/uber/hoodie/index/TestHbaseIndex.java]|19 20
Renamed: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java [from hoodie-client/src/test/java/com/uber/hoodie/index/TestHoodieIndex.java]|8 8
Renamed: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java [from hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestBucketizedBloomCheckPartitioner.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java [from hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java]|16 16
Renamed: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java [from hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestHoodieGlobalBloomIndex.java]|12 12
Renamed: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java [from hoodie-client/src/test/java/com/uber/hoodie/index/bloom/TestKeyRangeLookupTree.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java [from hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java]|60 60
Renamed: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java [from hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java]|23 23
Renamed: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java [from hoodie-client/src/test/java/com/uber/hoodie/io/TestHoodieMergeHandle.java]|22 22
Renamed: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java [from hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java]|14 14
Renamed: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieDataFile.java [from hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieDataFile.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieLogFile.java [from hoodie-client/src/test/java/com/uber/hoodie/io/strategy/TestHoodieLogFile.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java [from hoodie-client/src/test/java/com/uber/hoodie/metrics/TestHoodieMetrics.java]|3 3
Renamed: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java [from hoodie-client/src/test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java]|22 22
Renamed: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java [from hoodie-client/src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java]|46 45
Renamed: hudi-client/src/test/resources/exampleEvolvedSchema.txt [from hoodie-client/src/test/resources/exampleEvolvedSchema.txt]|0 0
Renamed: hudi-client/src/test/resources/exampleSchema.txt [from hoodie-client/src/test/resources/exampleSchema.txt]|0 0
Renamed: hudi-client/src/test/resources/log4j-surefire-quiet.properties [from hoodie-client/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-client/src/test/resources/log4j-surefire.properties [from hoodie-client/src/test/resources/log4j-surefire.properties]|0 0
Renamed: hudi-common/pom.xml [from hoodie-common/pom.xml]|4 4
Renamed: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc [from hoodie-common/src/main/avro/HoodieArchivedMetaEntry.avsc]|2 2
Renamed: hudi-common/src/main/avro/HoodieCleanMetadata.avsc [from hoodie-common/src/main/avro/HoodieCleanMetadata.avsc]|1 1
Renamed: hudi-common/src/main/avro/HoodieCommitMetadata.avsc [from hoodie-common/src/main/avro/HoodieCommitMetadata.avsc]|1 1
Renamed: hudi-common/src/main/avro/HoodieCompactionMetadata.avsc [from hoodie-common/src/main/avro/HoodieCompactionMetadata.avsc]|2 2
Renamed: hudi-common/src/main/avro/HoodieCompactionOperation.avsc [from hoodie-common/src/main/avro/HoodieCompactionOperation.avsc]|1 1
Renamed: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc [from hoodie-common/src/main/avro/HoodieRestoreMetadata.avsc]|1 1
Renamed: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc [from hoodie-common/src/main/avro/HoodieRollbackMetadata.avsc]|1 1
Renamed: hudi-common/src/main/avro/HoodieSavePointMetadata.avsc [from hoodie-common/src/main/avro/HoodieSavePointMetadata.avsc]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java [from hoodie-common/src/main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java [from hoodie-common/src/main/java/com/uber/hoodie/avro/MercifulJsonConverter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java [from hoodie-common/src/main/java/com/uber/hoodie/common/BloomFilter.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/HoodieCleanStat.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java [from hoodie-common/src/main/java/com/uber/hoodie/common/HoodieJsonPayload.java]|5 5
Renamed: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/HoodieRollbackStat.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java [from hoodie-common/src/main/java/com/uber/hoodie/common/SerializableConfiguration.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java [from hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java]|8 8
Renamed: hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java [from hoodie-common/src/main/java/com/uber/hoodie/common/io/storage/SizeAwareFSDataOutputStream.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/ActionType.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/CompactionOperation.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/FileSlice.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieArchivedLogFile.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieArchivedLogFile.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieAvroPayload.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCleaningPolicy.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieCommitMetadata.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDataFile.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieDeltaWriteStat.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileFormat.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroup.java]|8 5
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieFileGroupId.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieKey.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieLogFile.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecord.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordLocation.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRecordPayload.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStat.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieRollingStatMetadata.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieTableType.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/model/HoodieWriteStat.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/storage/SizeAwareDataInputStream.java [from hoodie-common/src/main/java/com/uber/hoodie/common/storage/SizeAwareDataInputStream.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java [from hoodie-common/src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableConfig.java]|9 6
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTableMetaClient.java]|14 16
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/HoodieTimeline.java]|7 7
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/SyncableFileSystemView.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/TableFileSystemView.java]|9 9
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/AbstractHoodieLogRecordScanner.java]|15 15
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFileReader.java]|14 14
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormat.java]|6 6
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|132 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatVersion.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java]|9 9
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|131 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/HoodieUnMergedLogRecordScanner.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlock.java]|6 6
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlockVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieAvroDataBlockVersion.java]|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|78 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlockVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlockVersion.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieCommandBlock.java]|22 32
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|118 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlockVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieDeleteBlockVersion.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlock.java]|7 7
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlockVersion.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/log/block/HoodieLogBlockVersion.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java]|6 6
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|112 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|216 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|172 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|77 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java|62 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FSPermissionDTO.java|63 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java|58 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FilePathDTO.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FilePathDTO.java]|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java|57 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java|99 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/InstantDTO.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/LogFileDTO.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/DataFileDTO.java]|18 30
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FileGroupDTO.java]|14 26
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/AbstractTableFileSystemView.java]|17 17
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|218 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|199 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageType.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/FileSystemViewStorageType.java]|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|218 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/IncrementalTimelineSyncFileSystemView.java]|20 20
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|241 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RemoteHoodieTableFileSystemView.java]|19 19
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/view/RocksDbBasedFileSystemView.java]|13 13
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|111 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|221 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|184 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java|89 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java|121 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|114 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/DefaultSizeEstimator.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java]|15 17
Added: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|198 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/Functions.java]|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|242 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|55 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|72 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|82 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|44 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/FSPermissionDTO.java]|20 37
Added: hudi-common/src/main/java/org/apache/hudi/common/util/NumericUtils.java|31 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|314 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|206 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|104 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|472 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|126 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|165 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/SizeEstimator.java|33 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|132 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|57 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|135 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java|97 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|363 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|283 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutablePair.java|111 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutableTriple.java|114 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|126 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java|181 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|125 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java|164 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java|72 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|164 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|278 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java|63 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java|35 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/FunctionBasedQueueProducer.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java|49 0
Added: hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java|53 0
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/CorruptedLogFileException.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/NumericUtils.java]|4 9
Added: hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java|57 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieCorruptedDataException.java|35 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java|54 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIOException.java|42 0
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIndexException.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/HoodieRecordSizeEstimator.java]|7 28
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/HoodieNotSupportedException.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/LogFileDTO.java]|4 28
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieRecordMissingException.java|35 0
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/HoodieRemoteException.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/NetworkUtils.java]|5 20
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieSerializationException.java|43 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java|33 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/InvalidHoodiePathException.java|28 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/MetadataNotFoundException.java|33 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/SchemaCompatabilityException.java|34 0
Renamed: hudi-common/src/main/resources/META-INF/LICENSE.txt [from hoodie-common/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-common/src/main/resources/META-INF/NOTICE.txt|114 0
Added: hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java|45 0
Added: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|151 0
Added: hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java|55 0
Added: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|237 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java|61 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|413 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|45 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|57 0
Added: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|43 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java|136 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatAppendFailureTest.java|143 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java [from hoodie-common/src/test/java/com/uber/hoodie/common/table/log/HoodieLogFormatTest.java]|22 22
Added: hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java|124 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java|43 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java [from hoodie-common/src/test/java/com/uber/hoodie/common/table/view/HoodieTableFileSystemViewTest.java]|22 22
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java [from hoodie-common/src/test/java/com/uber/hoodie/common/table/view/IncrementalFSViewSyncTest.java]|29 29
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|35 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java|32 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemViewTest.java|31 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java|32 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|212 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|185 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|53 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|225 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|138 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|273 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|58 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|39 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|127 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java|105 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|180 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java|81 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|211 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|320 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|56 0
Added: hudi-common/src/test/resources/complex-test-evolved.avsc|17 0
Added: hudi-common/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-common/src/test/resources/log4j-surefire.properties|27 0
Renamed: hudi-common/src/test/resources/sample.data [from hoodie-common/src/test/resources/sample.data]|0 0
Renamed: hudi-common/src/test/resources/simple-test-evolved.avsc [from hoodie-common/src/test/resources/simple-test-evolved.avsc]|0 0
Renamed: hudi-common/src/test/resources/simple-test.avsc [from hoodie-common/src/test/resources/simple-test.avsc]|0 0
Added: hudi-hadoop-mr/pom.xml|133 0
Renamed: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/SizeEstimator.java]|3 10
Added: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|26 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|70 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieInputFormat.java|224 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|183 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java|83 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java|92 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseFileSplitsFromInputFormat.java|38 0
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java [from hoodie-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java]|4 4
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|359 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetSerde.java|31 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|110 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeInputFormat.java|241 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|103 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|147 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|143 0
Renamed: hudi-hadoop-mr/src/main/resources/META-INF/LICENSE.txt [from hoodie-hadoop-mr/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|235 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/AnnotationTest.java|40 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java|248 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|221 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|109 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|105 0
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java [from hoodie-hadoop-mr/src/test/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReaderTest.java]|24 23
Added: hudi-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-hadoop-mr/src/test/resources/log4j-surefire.properties|25 0
Renamed: hudi-hadoop-mr/src/test/resources/sample1.avsc [from hoodie-hadoop-mr/src/test/resources/sample1.avsc]|1 1
Added: hudi-hive/pom.xml|227 0
Added: hudi-hive/run_sync_tool.sh|39 0
Added: hudi-hive/src/assembly/src.xml|46 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|110 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|197 0
Renamed: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java [from hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java]|14 14
Added: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java|42 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|44 0
Renamed: hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java [from hoodie-common/src/main/java/com/uber/hoodie/common/util/NoOpConsistencyGuard.java]|6 19
Added: hudi-hive/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java|35 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|114 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|64 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java|50 0
Added: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|459 0
Renamed: hudi-hive/src/main/resources/META-INF/LICENSE.txt [from hoodie-hive/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-hive/src/main/resources/META-INF/NOTICE.txt|237 0
Added: hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java|377 0
Added: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|368 0
Added: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|326 0
Added: hudi-hive/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-hive/src/test/resources/log4j-surefire.properties|26 0
Added: hudi-integ-test/pom.xml|196 0
Renamed: hudi-integ-test/src/main/resources/META-INF/LICENSE.txt [from hoodie-integ-test/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-integ-test/src/main/resources/META-INF/NOTICE.txt|318 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|180 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|197 0
Added: hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-integ-test/src/test/resources/log4j-surefire.properties|25 0
Added: hudi-spark/pom.xml|291 0
Added: hudi-spark/run_hoodie_app.sh|24 0
Added: hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java|58 0
Added: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|81 0
Added: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|250 0
Added: hudi-spark/src/main/java/org/apache/hudi/EmptyHoodieRecordPayload.java|48 0
Added: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|77 0
Added: hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java|43 0
Added: hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java|41 0
Added: hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java|71 0
Added: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|63 0
Renamed: hudi-spark/src/main/resources/META-INF/LICENSE.txt [from hoodie-spark/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-spark/src/main/resources/META-INF/NOTICE.txt|317 0
Added: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|353 0
Added: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|208 0
Added: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|108 0
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|256 0
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|122 0
Added: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|120 0
Added: hudi-spark/src/main/scala/org/apache/hudi/package.scala|38 0
Added: hudi-spark/src/test/java/DataSourceTestUtils.java|46 0
Added: hudi-spark/src/test/java/HoodieJavaApp.java|231 0
Added: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|280 0
Added: hudi-spark/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-spark/src/test/resources/log4j-surefire.properties|29 0
Added: hudi-spark/src/test/scala/DataSourceDefaultsTest.scala|181 0
Added: hudi-spark/src/test/scala/DataSourceTest.scala|278 0
Added: hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|52 0
Added: hudi-timeline-service/pom.xml|242 0
Added: hudi-timeline-service/run_server.sh|14 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|373 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|168 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java|78 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|94 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/Handler.java|37 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|48 0
Renamed: hudi-timeline-service/src/main/resources/META-INF/LICENSE.txt [from hoodie-timeline-service/src/main/resources/META-INF/LICENSE.txt]|0 0
Added: hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt|136 0
Added: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java|59 0
Added: hudi-timeline-service/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-timeline-service/src/test/resources/log4j-surefire.properties|27 0
Added: hudi-utilities/pom.xml|382 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|277 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|372 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|115 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|176 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|138 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|195 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|129 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|227 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|114 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|146 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|62 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|505 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|572 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|77 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|127 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|112 0
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieDeltaStreamerException.java [from hoodie-common/src/main/java/com/uber/hoodie/common/table/timeline/dto/TimelineDTO.java]|7 21
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieIncrementalPullException.java|33 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieIncrementalPullSQLException.java|32 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|112 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|323 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|82 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java|43 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|46 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|89 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|65 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|74 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java|36 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|142 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|158 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|54 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|56 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|68 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java|35 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|51 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|85 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|99 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|120 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|103 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|266 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java|37 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|66 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|43 0
Added: hudi-utilities/src/main/resources/META-INF/LICENSE.txt|614 0
Added: hudi-utilities/src/main/resources/META-INF/NOTICE.txt|332 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java|35 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|287 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|569 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|173 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|198 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|105 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|79 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|121 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|64 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|203 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java|43 0
Added: hudi-utilities/src/test/resources/IncrementalPull.sqltemplate|8 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/base.properties|20 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/dfs-source.properties|27 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/kafka-source.properties|30 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|34 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|19 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|37 0
Added: hudi-utilities/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-utilities/src/test/resources/log4j-surefire.properties|25 0
Deleted: packaging/hoodie-hadoop-mr-bundle/pom.xml|0 273
Deleted: packaging/hoodie-hadoop-mr-bundle/src/main/java/com/uber/hoodie/hadoop/bundle/Main.java|0 36
Deleted: packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hoodie-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 235
Deleted: packaging/hoodie-hive-bundle/pom.xml|0 244
Deleted: packaging/hoodie-hive-bundle/src/main/java/com/uber/hoodie/hive/bundle/Main.java|0 36
Deleted: packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hoodie-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 236
Deleted: packaging/hoodie-presto-bundle/pom.xml|0 226
Deleted: packaging/hoodie-presto-bundle/src/main/java/com/uber/hoodie/presto/bundle/Main.java|0 36
Deleted: packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hoodie-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 124
Deleted: packaging/hoodie-spark-bundle/pom.xml|0 332
Deleted: packaging/hoodie-spark-bundle/src/main/java/com/uber/hoodie/spark/bundle/Main.java|0 36
Deleted: packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hoodie-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 319
Deleted: packaging/hoodie-utilities-bundle/pom.xml|0 473
Deleted: packaging/hoodie-utilities-bundle/src/main/java/com/uber/hoodie/utilities/bundle/Main.java|0 36
Deleted: packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hoodie-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 331
Added: packaging/hudi-hadoop-mr-bundle/pom.xml|273 0
Added: packaging/hudi-hadoop-mr-bundle/src/main/java/org/apache/hudi/hadoop/bundle/Main.java|36 0
Added: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|235 0
Added: packaging/hudi-hive-bundle/pom.xml|244 0
Added: packaging/hudi-hive-bundle/src/main/java/org/apache/hudi/hive/bundle/Main.java|36 0
Added: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|236 0
Added: packaging/hudi-presto-bundle/pom.xml|226 0
Added: packaging/hudi-presto-bundle/src/main/java/org/apache/hudi/presto/bundle/Main.java|36 0
Added: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|124 0
Added: packaging/hudi-spark-bundle/pom.xml|333 0
Added: packaging/hudi-spark-bundle/src/main/java/org/apache/hudi/spark/bundle/Main.java|36 0
Added: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|319 0
Added: packaging/hudi-utilities-bundle/pom.xml|473 0
Added: packaging/hudi-utilities-bundle/src/main/java/org/apache/hudi/utilities/bundle/Main.java|36 0
Added: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|331 0
Modified: pom.xml|26 26

Revision: 8d37fbf0db8aa1a65225aba95d2f6b485e869567
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 13/08/2019 02:03:25
Message:
Adding GPG Keys #MsgLength=16


----
Modified: KEYS|38 0

Revision: 4787076c6d87488c0087ac0cfb7fa86596b1357a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/08/2019 08:13:30
Message:
HUDI-204 : Make MOR rollback idempotent and disable using rolling stats for small file selection (#833) #MsgLength=105


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|29 63
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|23 2

Revision: 8f5e7ad5d96302905c09cfae9d28bfe684782fc7
Author: vinoyang <yanghua1127@gmail.com>
Date: 14/08/2019 08:13:52
Message:
[HUDI-205] Let checkstyle ban Java and Guava Optional instead of using Option provided by Hudi (#834) #MsgLength=103


----
Modified: style/checkstyle-suppressions.xml|1 0
Modified: style/checkstyle.xml|3 0

Revision: 1b79ef7672031301b6269e3a7b3587ddb7c793d9
Author: leesf <490081539@qq.com>
Date: 16/08/2019 23:27:19
Message:
HUDI-212: Specify Charset to UTF-8 for IOUtils.toString (#837) #MsgLength=64


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|1 1

Revision: 92eed6aca81d69c7fb91107b19366d03f7f4a944
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 23/08/2019 10:40:36
Message:
[HUDI-82] Adds Presto integration in Docker demo (#847) #MsgLength=57


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark231.yml|38 0
Modified: docker/hoodie/hadoop/pom.xml|2 0
Added: docker/hoodie/hadoop/prestobase/Dockerfile|69 0
Added: docker/hoodie/hadoop/prestobase/bin/entrypoint.sh|52 0
Added: docker/hoodie/hadoop/prestobase/bin/mustache.sh|15 0
Added: docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties|18 0
Added: docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties|4 0
Added: docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties|3 0
Added: docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache|6 0
Added: docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache|9 0
Added: docker/hoodie/hadoop/prestobase/etc/log.properties|1 0
Added: docker/hoodie/hadoop/prestobase/etc/node.properties.mustache|3 0
Added: docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache|4 0
Added: docker/hoodie/hadoop/prestobase/lib/mustache.sh|252 0
Added: docker/hoodie/hadoop/prestobase/pom.xml|106 0
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|6 0
Modified: docker/hoodie/hadoop/sparkadhoc/adhoc.sh|2 0

Revision: 6edf0b9defe8c82b0ef0076a6300c00c1641a6e6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/08/2019 11:18:50
Message:
[HUDI-68] Pom cleanup & demo automation (#846) #MsgLength=763


----
Modified: .gitignore|2 2
Modified: .travis.yml|8 4
Added: docker/demo/compaction.commands|5 0
Added: docker/demo/config/dfs-source.properties|27 0
Added: docker/demo/get_min_commit_time.sh|21 0
Added: docker/demo/hive-batch1.commands|11 0
Added: docker/demo/hive-batch2-after-compaction.commands|9 0
Added: docker/demo/hive-incremental.commands|10 0
Added: docker/demo/hive-table-check.commands|10 0
Added: docker/demo/sparksql-batch1.commands|30 0
Added: docker/demo/sparksql-batch2.commands|29 0
Added: docker/demo/sparksql-incremental.commands|59 0
Modified: hudi-cli/hudi-cli.sh|2 3
Modified: hudi-cli/pom.xml|46 46
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|13 2
Modified: hudi-client/pom.xml|93 84
Modified: hudi-common/pom.xml|63 50
Modified: hudi-hadoop-mr/pom.xml|50 41
Modified: hudi-hive/pom.xml|76 61
Modified: hudi-integ-test/pom.xml|64 49
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|116 25
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|271 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|40 103
Modified: hudi-spark/pom.xml|69 59
Modified: hudi-timeline-service/pom.xml|49 37
Modified: hudi-utilities/pom.xml|161 162
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|55 49
Modified: packaging/hudi-hive-bundle/pom.xml|67 60
Modified: packaging/hudi-presto-bundle/pom.xml|39 29
Modified: packaging/hudi-spark-bundle/pom.xml|102 55
Modified: packaging/hudi-utilities-bundle/pom.xml|156 158
Modified: pom.xml|276 266
Added: tools/run_travis_tests.sh|17 0

Revision: cd090871a18210ac311c02009b27bd7cfcf2bb44
Author: vinoth chandar <vchandar@confluent.io>
Date: 25/08/2019 20:34:51
Message:
[HUDI-159]: Pom cleanup and removal of com.twitter.parquet #MsgLength=287


----
Modified: hudi-cli/pom.xml|5 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|2 2
Modified: hudi-client/pom.xml|7 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|2 2
Modified: hudi-common/pom.xml|5 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|0 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|478 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|1 1
Modified: hudi-hadoop-mr/pom.xml|0 22
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|3 3
Modified: hudi-hive/pom.xml|8 29
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|4 4
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|4 4
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|9 7
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java|20 19
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|3 3
Modified: hudi-spark/pom.xml|8 8
Modified: hudi-timeline-service/pom.xml|0 59
Modified: hudi-utilities/pom.xml|18 46
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|5 19
Modified: packaging/hudi-hive-bundle/pom.xml|0 6
Modified: packaging/hudi-presto-bundle/pom.xml|0 6
Modified: packaging/hudi-spark-bundle/pom.xml|0 4
Modified: packaging/hudi-utilities-bundle/pom.xml|13 6
Modified: pom.xml|2 34

Revision: c265b4948fd78b2d9050b67d18c20b4caa8aceab
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 26/08/2019 23:52:36
Message:
HUDI-128 Preparing POM for release and snapshot builds (#851) #MsgLength=63


----
Modified: hudi-cli/pom.xml|0 5
Modified: hudi-spark/pom.xml|0 8
Modified: pom.xml|6 49

Revision: 78e07215070106176902b57108a5689dce3cf606
Author: Vinoth Chandar <vinoth@apache.org>
Date: 27/08/2019 08:41:00
Message:
[HUDI-159] Precursor cleanup to reduce build warnings #MsgLength=54


----
Modified: docker/hoodie/hadoop/base/pom.xml|13 9
Modified: docker/hoodie/hadoop/datanode/pom.xml|11 9
Modified: docker/hoodie/hadoop/historyserver/pom.xml|11 9
Modified: docker/hoodie/hadoop/hive_base/pom.xml|11 9
Modified: docker/hoodie/hadoop/namenode/pom.xml|11 9
Modified: docker/hoodie/hadoop/prestobase/pom.xml|11 9
Modified: docker/hoodie/hadoop/spark_base/pom.xml|11 9
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|11 9
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|2 0
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|11 9
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 2
Modified: hudi-integ-test/pom.xml|1 1
Modified: pom.xml|2 3

Revision: e0ab89b3ac22207ff45cf3cae782d64b8be01bf1
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 28/08/2019 19:48:38
Message:
[HUDI-223] Adding a way to infer target schema from the dataset after the transformation (#854) #MsgLength=193


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|15 5
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java|40 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|83 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java|56 0

Revision: baea4f3b82661747f574eda24cfb7dac89ddd72b
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date: 28/08/2019 05:44:54
Message:
Ignore dublicate of a compaction file #MsgLength=38


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|11 4

Revision: b5d4da79586192f17c0db458c1d4fcdbb334c3e2
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date: 28/08/2019 06:31:04
Message:
Addressing comments #MsgLength=20


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|3 2

Revision: 41dbac69037ddd770a94cf41f39beff92aec9568
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date: 28/08/2019 10:19:52
Message:
Fixed unit test #MsgLength=16


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|16 1

Revision: b44f8521f2b25928bccce9a6ba5c89fb76e5330e
Author: leesf <490081539@qq.com>
Date: 28/08/2019 16:14:15
Message:
[HUDI-222] Rename main class path to org.apache.hudi.timeline.service.TimelineService in run_server.sh #MsgLength=103


----
Modified: hudi-timeline-service/run_server.sh|2 2

Revision: 00cfe72c5d56dbaa2e170a087cf04b1e56a87bc3
Author: leesf <490081539@qq.com>
Date: 28/08/2019 16:42:18
Message:
[hotfix] change hoodie-timeline-*.jar to hudi-timeline-*.jar #MsgLength=61


----
Modified: hudi-timeline-service/run_server.sh|1 1

Revision: 5f9fa82f47e1cc14a22b869250fe23c8f9c033cd
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/08/2019 07:20:47
Message:
HUDI-124 : Exclude jdk.tools from hadoop-common and update Notice files (#858) #MsgLength=80


----
Modified: NOTICE.txt|35 47
Modified: docker/hoodie/hadoop/NOTICE.txt|20 27
Modified: docker/hoodie/hadoop/base/NOTICE.txt|10 19
Modified: docker/hoodie/hadoop/datanode/NOTICE.txt|10 20
Modified: docker/hoodie/hadoop/historyserver/NOTICE.txt|10 20
Modified: docker/hoodie/hadoop/hive_base/NOTICE.txt|10 20
Modified: docker/hoodie/hadoop/namenode/NOTICE.txt|10 20
Modified: docker/hoodie/hadoop/spark_base/NOTICE.txt|10 21
Modified: docker/hoodie/hadoop/sparkadhoc/NOTICE.txt|10 22
Modified: docker/hoodie/hadoop/sparkmaster/NOTICE.txt|10 22
Modified: docker/hoodie/hadoop/sparkworker/NOTICE.txt|10 22
Modified: hudi-cli/src/main/resources/META-INF/NOTICE.txt|11 24
Modified: hudi-client/src/main/resources/META-INF/NOTICE.txt|7 16
Modified: hudi-common/src/main/resources/META-INF/NOTICE.txt|3 6
Modified: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|3 14
Modified: hudi-hive/src/main/resources/META-INF/NOTICE.txt|4 14
Modified: hudi-integ-test/src/main/resources/META-INF/NOTICE.txt|14 30
Modified: hudi-spark/src/main/resources/META-INF/NOTICE.txt|9 17
Modified: hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt|2 5
Modified: hudi-utilities/src/main/resources/META-INF/NOTICE.txt|8 19
Modified: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|6 13
Modified: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|7 15
Modified: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|5 14
Modified: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|8 18
Modified: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|9 20
Modified: pom.xml|10 0

Revision: 5c2da6051effb38795011fc1d296ef9bd38f1208
Author: leesf <490081539@qq.com>
Date: 29/08/2019 16:26:34
Message:
[HUDI-225] Create Hudi Timeline Server Fat Jar #MsgLength=47


----
Modified: NOTICE.txt|2 1
Added: packaging/hudi-timeline-server-bundle/pom.xml|208 0
Renamed: packaging/hudi-timeline-server-bundle/run_server.sh [from hudi-timeline-service/run_server.sh]|17 0
Added: packaging/hudi-timeline-server-bundle/src/main/java/org/apache/hudi/timeline/server/bundle/Main.java|36 0
Added: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|614 0
Added: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|134 0
Modified: pom.xml|1 0

Revision: 40dd4dd637a44f532af9143bf588dc36a3ced729
Author: leesf <490081539@qq.com>
Date: 30/08/2019 12:36:21
Message:
[HUDI-229] Fix mvn notice:generate issue in windows #MsgLength=52


----
Modified: pom.xml|2 2

Revision: a6908ef44dc21898ed53785fe0bd5f1e373ae779
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 31/08/2019 00:03:37
Message:
HUDI-170 Updating hoodie record before inserting it into ExternalSpillableMap (#866) #MsgLength=86


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|20 2

Revision: 376b59ae5ff46a77941c6e6608a82b8ceb6523ef
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 31/08/2019 00:13:34
Message:
[HUDI-227] : DeltaStreamer Improvements : Commit empty input batch with progressing checkpoints and allow users to override configs through properties. Original PR : PR-805 and PR-806 (#863) #MsgLength=192


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|30 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|44 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|1 1

Revision: 8b150a3c6bf76e8029fda82a8a4e181b7a026980
Author: leesf <490081539@qq.com>
Date: 30/08/2019 17:09:47
Message:
[HUDI-230] Add missing Apache License in some files #MsgLength=52


----
Modified: .travis.yml|15 0
Modified: _config.yml|15 0
Modified: deploy/maven/sonatype-settings.xml|16 0
Modified: docker/compose/docker-compose_hadoop284_hive233_spark231.yml|15 0
Modified: docker/setup_demo.sh|2 0
Modified: docker/stop_demo.sh|2 0
Modified: hudi-cli/hudi-cli.sh|18 0
Modified: hudi-hive/run_sync_tool.sh|18 0
Modified: hudi-spark/run_hoodie_app.sh|18 0
Modified: release/config/license-mappings.xml|16 0
Modified: style/checkstyle-suppressions.xml|16 1
Modified: style/checkstyle.xml|16 0
Modified: style/eclipse-java-google-style.xml|16 0
Modified: style/intellij-java-google-style.xml|16 0
Modified: style/scalastyle-config.xml|16 0
Modified: tools/run_travis_tests.sh|18 0

Revision: 555dd55c16b2df504214f2bdfe84a6b106f61904
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date: 30/08/2019 07:22:01
Message:
Support nested ordering fields #MsgLength=31


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1

Revision: 821e0dcffcd7d0ca5b0140ebe585639fc0c32e22
Author: leesf <490081539@qq.com>
Date: 03/09/2019 15:07:23
Message:
[HUDI-236] Failed to close stream #MsgLength=34


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|12 16
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|7 2

Revision: 07a0ea87ab8239889149e462864acee66fa9547d
Author: leesf <490081539@qq.com>
Date: 06/09/2019 07:25:28
Message:
[hotfix] fix typo #MsgLength=18


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|1 1

Revision: 0e6f078ec4648fc0abc7f0453b2ba1837480cfb9
Author: Mehrotra <uditme@amazon.com>
Date: 06/09/2019 04:47:24
Message:
Fix logging in HoodieSparkSqlWriter #MsgLength=36


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1

Revision: 7a973a694488930627028b3175a731a23e3d3f32
Author: vinoth chandar <vchandar@confluent.io>
Date: 03/09/2019 07:15:55
Message:
[HUDI-159] Redesigning bundles for lighter-weight integrations #MsgLength=676


----
Modified: hudi-cli/pom.xml|0 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|3 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|13 5
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|3 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|5 6
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|4 6
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|12 11
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|2 2
Modified: hudi-common/pom.xml|0 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|2 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|0 48
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|97 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java|20 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java|17 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|3 3
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|63 0
Modified: hudi-hadoop-mr/pom.xml|0 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieInputFormat.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|4 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeInputFormat.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|4 0
Modified: hudi-hive/pom.xml|0 14
Modified: hudi-hive/run_sync_tool.sh|3 3
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|14 68
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|3 3
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|3 3
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|2 2
Modified: hudi-integ-test/pom.xml|2 6
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|20 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|1 1
Modified: hudi-utilities/pom.xml|0 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|7 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|11 33
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java|18 0
Added: packaging/README.md|18 0
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|52 186
Modified: packaging/hudi-hive-bundle/pom.xml|46 175
Modified: packaging/hudi-presto-bundle/pom.xml|53 159
Modified: packaging/hudi-spark-bundle/pom.xml|81 189
Modified: packaging/hudi-utilities-bundle/pom.xml|28 251
Modified: pom.xml|7 63
Modified: style/checkstyle.xml|1 0

Revision: d0b9b56b7de3a70cc24475fd552ebe00ad07ab39
Author: Vinoth Chandar <vinoth@apache.org>
Date: 03/09/2019 10:46:10
Message:
[HUDI-143] Excluding javax.* from utilities and spark bundles #MsgLength=98


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|1 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|1 1
Modified: hudi-hive/run_sync_tool.sh|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 2
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0

Revision: 93bc5e2153c90e44d35dafc468466196306f4227
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/09/2019 02:31:07
Message:
HUDI-243 Rename HoodieInputFormat and HoodieRealtimeInputFormat to HoodieParquetInputFormat and HoodieParquetRealtimeInputFormat #MsgLength=129


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|4 4
Modified: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|3 1
Modified: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|3 1
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieInputFormat.java]|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|7 7
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeInputFormat.java]|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/AnnotationTest.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java|2 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|4 4

Revision: 64df98fc4a15d5b80dfbb2843e919effa99c4ec2
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 31/08/2019 07:29:23
Message:
[HUDI-164] Fixes incorrect averageBytesPerRecord #MsgLength=391


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|31 25
Added: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|119 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|9 0

Revision: 6f2b166005043b85056e23c420195a9e569e443b
Author: yanghua <yanghua1127@gmail.com>
Date: 22/08/2019 19:29:42
Message:
[HUDI-217] Provide a unified resource management class to standardize the resource allocation and release for hudi client test cases #MsgLength=133


----
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|206 0
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|141 123
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|109 92
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|202 183
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|14 10
Modified: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java|10 19
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|3 88
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|80 62
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|81 64
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|56 99
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|26 17
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|12 16
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|8 23
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|27 43
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|48 67
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|11 25
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|8 22
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|8 22
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|12 58
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|73 89
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|235 257
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|20 23
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1022 1116

Revision: 90bfb900aa47d4e77873fafe89e4d8bdd0ec4d96
Author: yanghua <yanghua1127@gmail.com>
Date: 03/09/2019 07:24:11
Message:
revert setting jsc spark configuration #MsgLength=39


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|0 4

Revision: 80c27f23510e9c4232ee87e06475d8af4823bb38
Author: yanghua <yanghua1127@gmail.com>
Date: 03/09/2019 19:00:37
Message:
Optimize hoodie client after implementat auto closeable interface #MsgLength=66


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|2 23
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|1 6
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|1 11
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|1 6
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1 7

Revision: 5f04241fce99f47abfb7ef9f03292472b3ee23fb
Author: yanghua <yanghua1127@gmail.com>
Date: 10/09/2019 15:42:54
Message:
refactor code: add docs and init/cleanup resource group for hoodie client test base #MsgLength=84


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|120 20
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|0 18
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|0 20
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|0 20
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|12 0
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|0 20
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|0 20

Revision: 895d732a1423f3a113d9630aa3c56e4b0837effd
Author: yanghua <yanghua1127@gmail.com>
Date: 12/09/2019 13:02:59
Message:
refactor code #MsgLength=14


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|2 2

Revision: 58623631d4cbe016e0a3142ca931f412a181d8b2
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/09/2019 10:02:39
Message:
[HUDI-249] Update Release-notes. Add sign-artifacts to POM and release related scripts. Add missing license headers #MsgLength=116


----
Modified: RELEASE_NOTES.md|104 0
Modified: docker/compose/hadoop.env|18 0
Modified: docker/demo/compaction.commands|18 0
Modified: docker/demo/config/schema.avsc|17 0
Modified: docker/demo/hive-batch1.commands|18 0
Modified: docker/demo/hive-batch2-after-compaction.commands|18 0
Modified: docker/demo/hive-incremental.commands|18 0
Modified: docker/demo/hive-table-check.commands|18 0
Modified: docker/hoodie/hadoop/prestobase/bin/entrypoint.sh|18 0
Modified: docker/hoodie/hadoop/prestobase/bin/mustache.sh|19 1
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache|18 1
Modified: docker/hoodie/hadoop/prestobase/etc/log.properties|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/node.properties.mustache|17 0
Modified: docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache|17 0
Modified: docker/hoodie/hadoop/prestobase/lib/mustache.sh|19 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|18 0
Modified: hudi-client/src/test/resources/exampleEvolvedSchema.txt|17 0
Modified: hudi-client/src/test/resources/exampleSchema.txt|17 0
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieCleanMetadata.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieCommitMetadata.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieCompactionMetadata.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieCompactionOperation.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|17 0
Modified: hudi-common/src/main/avro/HoodieSavePointMetadata.avsc|17 0
Modified: hudi-common/src/test/resources/complex-test-evolved.avsc|17 0
Modified: hudi-common/src/test/resources/simple-test-evolved.avsc|17 0
Modified: hudi-common/src/test/resources/simple-test.avsc|17 0
Modified: hudi-hadoop-mr/src/test/resources/sample1.avsc|17 0
Modified: hudi-integ-test/pom.xml|18 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|8 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|18 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java|8 8
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|17 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|17 0
Modified: pom.xml|14 0
Added: release/scripts/create_source_release.sh|82 0
Added: release/scripts/cut_release_branch.sh|138 0
Added: release/scripts/deploy_staging_jars.sh|44 0
Added: release/scripts/preparation_before_release.sh|104 0

Revision: 117a68d5038960fa0cb14e00c0e27b9a772e1bf2
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 00:45:19
Message:
Add missing commit in release notes #MsgLength=36


----
Modified: RELEASE_NOTES.md|1 0

Revision: 36c74c8a160660f8f3790dbb5da7e30dd7c4b32a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 00:54:39
Message:
[HUDI-249] Fix cut_release_branch script #MsgLength=41


----
Modified: release/scripts/cut_release_branch.sh|7 7

Revision: d2525c31b7dad7bae2d4899d8df2a353ca39af50
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 00:58:29
Message:
Moving to 0.6.0-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hive/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 0b032b2761fcc23a3bcedaf654431635ec7e7f03
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 03/09/2019 01:20:41
Message:
Fix requested eompaction rollback during restore command #MsgLength=57


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|6 10
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|6 1

Revision: 3ee16b5439837f6bb03052a7d57edd8bc67db7d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 01:00:16
Message:
[HUDI-250]  Ensure Hudi CLI wrapper works with non snapshot jars too. Also Fix bug in cut_release_branch script #MsgLength=112


----
Modified: RELEASE_NOTES.md|2 2
Modified: hudi-cli/hudi-cli.sh|1 1
Modified: release/scripts/cut_release_branch.sh|1 1

Revision: b1446be2b4d50e60b54146c66a6e6412d41b3a17
Author: Vinoth Chandar <vinoth@apache.org>
Date: 12/09/2019 06:47:22
Message:
[HUDI-244] : Hive sync should escape partition field name #MsgLength=115


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|1 1

Revision: 1a61d6bc4df2d0c45515c41210b1e48e4d2c1d1b
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 03:48:38
Message:
[HUDI-249] Fix RELEASE-NOTES to match correct state #MsgLength=52


----
Modified: RELEASE_NOTES.md|2 1

Revision: 7190c022bb741fe78418b13efb6fe13fcbd128b0
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 04:49:31
Message:
[HUDI-249] Updating Notice files #MsgLength=33


----
Modified: NOTICE.txt|4 7
Modified: docker/hoodie/hadoop/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/base/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/datanode/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/historyserver/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/hive_base/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/namenode/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/spark_base/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/sparkadhoc/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/sparkmaster/NOTICE.txt|5 8
Modified: docker/hoodie/hadoop/sparkworker/NOTICE.txt|5 8
Modified: hudi-cli/src/main/resources/META-INF/NOTICE.txt|2 6
Modified: hudi-client/src/main/resources/META-INF/NOTICE.txt|2 3
Modified: hudi-common/src/main/resources/META-INF/NOTICE.txt|3 7
Modified: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|4 6
Modified: hudi-hive/src/main/resources/META-INF/NOTICE.txt|4 6
Modified: hudi-integ-test/src/main/resources/META-INF/NOTICE.txt|4 7
Modified: hudi-spark/src/main/resources/META-INF/NOTICE.txt|3 4
Modified: hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt|2 14
Modified: hudi-utilities/src/main/resources/META-INF/NOTICE.txt|2 3
Modified: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|3 168
Modified: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|4 134
Modified: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|3 54
Modified: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|5 60
Modified: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|2 14
Modified: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|5 13

Revision: 63cc455d9c273af0dda8a07f2293d350da36c851
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/09/2019 04:58:29
Message:
[HUDI-121] ASF Release : Ensure NOTICE.txt is generated as part of cutting release branch #MsgLength=90


----
Modified: RELEASE_NOTES.md|1 1
Modified: release/scripts/cut_release_branch.sh|26 1

Revision: c0f42afa35768cf191dcc061feac2e7396457058
Author: Taher Koitawala <taherk77@gmail.com>
Date: 03/09/2019 23:05:42
Message:
[HUDI-62] Index Lookup Timer added to HoodieWriteClient #MsgLength=56


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|14 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|20 1

Revision: 629698d54fbc17c32fd321913e9441fb0487a991
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/09/2019 16:40:40
Message:
[HUDI-252] Add Disclaimer and cleanup NOTICE and LICENSE files in hudi #MsgLength=71


----
Added: DISCLAIMER|6 0
Renamed: LICENSE [from LICENSE.txt]|102 385
Added: NOTICE|120 0
Deleted: NOTICE.txt|0 392

Revision: 96a46d870122914dd7cc1f9f20a5489b8fe03187
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 17/09/2019 07:19:59
Message:
[HUDI-252] Identify packages which are under non-apache license in LICENSE file #MsgLength=80


----
Modified: LICENSE|11 10

Revision: 2c6da09d9d17f33ebc025c9ec9fa949605288bb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 17/09/2019 14:42:14
Message:
[HUDI-257] Fix Bloom Index unit-test failures #MsgLength=46


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|2 0

Revision: c1e7d0e5a6ebc6fa416fc463ea6526f64a39afc5
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/09/2019 00:50:00
Message:
[HUDI-121] Update Release notes and fix master version #MsgLength=55


----
Modified: RELEASE_NOTES.md|3 0
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hive/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: e217db56ab30ec9630411aefc16516747b3112e0
Author: Vinoth Chandar <vinoth@apache.org>
Date: 18/09/2019 03:00:41
Message:
[HUDI-254]: Bundle and shade databricks/avro with spark bundle #MsgLength=232


----
Modified: hudi-spark/pom.xml|0 1
Modified: packaging/hudi-spark-bundle/pom.xml|6 0

Revision: 4bda742a938a344fb667d5d86ef1007de5c29365
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/09/2019 03:41:54
Message:
Updating release notes and preparing for 0.5.0-incubating-rc2 release #MsgLength=70


----
Modified: RELEASE_NOTES.md|1 0

Revision: 2e75a6973df26625ef0b5b44ad1cbbc7989bbea0
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 19/09/2019 15:09:14
Message:
Adding mailmap to allow mapping of defunct emailIds to active emailIds #MsgLength=71


----
Added: .mailmap|6 0

Revision: 69ca45b2da0f1791d4d8f049726a31ba3d90dcd7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 19/09/2019 15:15:08
Message:
Fix  mailmap to allow mapping of defunct emailIds to active emailIds #MsgLength=69


----
Modified: .mailmap|3 3

Revision: 1104f9526fcd05270ed5cd084228f023f1a01c46
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 31/08/2019 03:30:56
Message:
HUDI-180 : Adding support for hive registration using metastore along with JDBC #MsgLength=80


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|22 18
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|128 33
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java|23 0

Revision: f020d029c406008b7342f1117b95b68b4a90d401
Author: vinoyang <yanghua1127@gmail.com>
Date: 22/09/2019 00:05:02
Message:
HUDI-267 Refactor bad method name HoodieTestUtils#initTableType and HoodieTableMetaClient#initializePathAsHoodieDataset (#916) #MsgLength=128


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1

Revision: 635154c43930ddf57c31446897b41df3178f9f6a
Author: PanXing <starpkpk@sina.com>
Date: 22/09/2019 21:47:23
Message:
[MINOR] support reading cfg file in another s3 bucket (#914) #MsgLength=62


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1

Revision: 1e6dd1ca1de576bc090c67ba0abdf466ada5cb3e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/09/2019 08:26:04
Message:
[MINOR] : Further updates to .mailmap for vinoth (#919) #MsgLength=57


----
Modified: .mailmap|3 0

Revision: bf05f954133da5b760a66906557df0305dbd0eaf
Author: Xing Pan <panxscu@163.com>
Date: 24/09/2019 20:30:35
Message:
[HUDI-269] Limit sync frequency (#921) #MsgLength=87


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|11 0

Revision: 2ea8b0c3f1eeb19f4dc1e9946331c8fd93e6daab
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/09/2019 21:20:56
Message:
[HUDI-279] Fix regression in Schema Evolution due to PR-755 #MsgLength=60


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java|6 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2

Revision: 01e803b00e5acf9bb1dbe38340e38e8feb8d037d
Author: vinoyang <yanghua1127@gmail.com>
Date: 30/09/2019 20:38:52
Message:
[HUDI-247] Unify the re-initialization of HoodieTableMetaClient in test for hoodie-client module (#930) #MsgLength=105


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|7 6
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|34 42
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|9 10
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|17 17
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|11 10
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|7 8
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|11 12
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|16 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|10 0

Revision: 50a073ff57c20eef2a80a44532ed5536c6435ac6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 28/09/2019 15:45:25
Message:
[HUDI-271] Create QuickstartUtils for simplifying quickstart guide #MsgLength=378


----
Added: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|206 0

Revision: 6e8a28bcaee173f703132f52f525d1568596ac3d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 21/09/2019 14:01:32
Message:
HUDI-121 : Address comments during RC2 voting #MsgLength=367


----
Modified: .travis.yml|1 1
Deleted: CHANGELOG.md|0 27
Modified: LICENSE|0 155
Modified: NOTICE|3 118
Modified: README.md|17 0
Modified: RELEASE_NOTES.md|18 0
Deleted: deploy/maven/sonatype-settings.xml|0 28
Deleted: deploy/pubring.gpg.enc|0 0
Deleted: deploy/secring.gpg.enc|0 0
Added: docker/hoodie/hadoop/NOTICE|5 0
Deleted: docker/hoodie/hadoop/NOTICE.txt|0 266
Added: docker/hoodie/hadoop/base/NOTICE|5 0
Deleted: docker/hoodie/hadoop/base/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/datanode/NOTICE|5 0
Deleted: docker/hoodie/hadoop/datanode/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/historyserver/NOTICE|5 0
Deleted: docker/hoodie/hadoop/historyserver/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/hive_base/NOTICE|5 0
Deleted: docker/hoodie/hadoop/hive_base/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/namenode/NOTICE|5 0
Deleted: docker/hoodie/hadoop/namenode/NOTICE.txt|0 256
Modified: docker/hoodie/hadoop/prestobase/Dockerfile|19 0
Added: docker/hoodie/hadoop/prestobase/NOTICE|5 0
Modified: docker/hoodie/hadoop/prestobase/pom.xml|0 17
Added: docker/hoodie/hadoop/spark_base/NOTICE|5 0
Deleted: docker/hoodie/hadoop/spark_base/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/sparkadhoc/NOTICE|5 0
Deleted: docker/hoodie/hadoop/sparkadhoc/NOTICE.txt|0 256
Added: docker/hoodie/hadoop/sparkmaster/NOTICE|5 0
Deleted: docker/hoodie/hadoop/sparkmaster/NOTICE.txt|0 256
Modified: docker/hoodie/hadoop/sparkworker/NOTICE.txt|3 254
Deleted: hudi-cli/lib/dnl/utils/textutils/0.3.3/textutils-0.3.3.jar|0 0
Added: hudi-cli/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-cli/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-cli/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-cli/src/main/resources/META-INF/NOTICE.txt|0 229
Added: hudi-client/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-client/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-client/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-client/src/main/resources/META-INF/NOTICE.txt|0 285
Modified: hudi-common/pom.xml|2 1
Added: hudi-common/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-common/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-common/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-common/src/main/resources/META-INF/NOTICE.txt|0 107
Added: hudi-hadoop-mr/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-hadoop-mr/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE.txt|0 222
Added: hudi-hive/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-hive/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-hive/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-hive/src/main/resources/META-INF/NOTICE.txt|0 225
Added: hudi-integ-test/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-integ-test/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-integ-test/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-integ-test/src/main/resources/META-INF/NOTICE.txt|0 299
Added: hudi-spark/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-spark/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-spark/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-spark/src/main/resources/META-INF/NOTICE.txt|0 308
Modified: hudi-timeline-service/pom.xml|1 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1
Added: hudi-timeline-service/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-timeline-service/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-timeline-service/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-timeline-service/src/main/resources/META-INF/NOTICE.txt|0 121
Added: hudi-utilities/src/main/resources/META-INF/LICENSE|177 0
Deleted: hudi-utilities/src/main/resources/META-INF/LICENSE.txt|0 614
Added: hudi-utilities/src/main/resources/META-INF/NOTICE|5 0
Deleted: hudi-utilities/src/main/resources/META-INF/NOTICE.txt|0 320
Modified: packaging/README.md|19 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|12 4
Deleted: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 63
Added: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/NOTICE|6 0
Modified: packaging/hudi-hive-bundle/pom.xml|12 3
Deleted: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-hive-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 98
Added: packaging/hudi-hive-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-hive-bundle/src/main/resources/META-INF/NOTICE|5 0
Modified: packaging/hudi-presto-bundle/pom.xml|12 3
Deleted: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-presto-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 64
Added: packaging/hudi-presto-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-presto-bundle/src/main/resources/META-INF/NOTICE|6 0
Modified: packaging/hudi-spark-bundle/pom.xml|11 3
Deleted: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-spark-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 254
Added: packaging/hudi-spark-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-spark-bundle/src/main/resources/META-INF/NOTICE|5 0
Modified: packaging/hudi-timeline-server-bundle/pom.xml|46 17
Modified: packaging/hudi-timeline-server-bundle/run_server.sh|26 4
Deleted: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 122
Added: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/NOTICE|5 0
Modified: packaging/hudi-utilities-bundle/pom.xml|11 3
Deleted: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_LICENSE.txt|0 614
Deleted: packaging/hudi-utilities-bundle/src/main/resources/META-INF/HUDI_NOTICE.txt|0 312
Added: packaging/hudi-utilities-bundle/src/main/resources/META-INF/LICENSE|177 0
Added: packaging/hudi-utilities-bundle/src/main/resources/META-INF/NOTICE|5 0
Modified: pom.xml|8 34
Deleted: release/config/NOTICE.template|0 11
Renamed: scripts/release/create_source_release.sh [from release/scripts/create_source_release.sh]|1 1
Renamed: scripts/release/cut_release_branch.sh [from release/scripts/cut_release_branch.sh]|0 0
Renamed: scripts/release/deploy_staging_jars.sh [from release/scripts/deploy_staging_jars.sh]|1 1
Added: scripts/release/generate_jar_path.py|39 0
Added: scripts/release/generate_notice.sh|36 0
Renamed: scripts/release/preparation_before_release.sh [from release/scripts/preparation_before_release.sh]|9 9
Added: scripts/release/validate_staged_release.sh|125 0
Renamed: scripts/run_travis_tests.sh [from tools/run_travis_tests.sh]|0 0

Revision: 1d2e3dcc65187d1bf90cc9c05d85ba4d27124270
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 01/10/2019 07:24:45
Message:
[HUDI-121] Update Release notes #MsgLength=32


----
Modified: RELEASE_NOTES.md|12 0

Revision: e41835fd912d35c52bf339fcef626ca7df06da62
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/10/2019 04:48:05
Message:
[HUDI-121] Fix bugs in Release Scripts found during RC creation #MsgLength=64


----
Modified: scripts/release/cut_release_branch.sh|10 28
Modified: scripts/release/validate_staged_release.sh|55 31

Revision: 6da2f9ac7c51117c9cd76e82ce01d4c0a0c69477
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 03/10/2019 00:33:11
Message:
[HUDI-287] Address comments during review of release candidate 1. Remove LICENSE and NOTICE files in hoodie child modules. 2. Remove developers and contributor section from pom 3. Also ensure any failures in validation script is reported appropriately 4. Make hoodie parent pom consistent with that of its parent apache-21 (https://github.com/apache/maven-apache-parent/blob/apache-21/pom.xml) #MsgLength=402


----
Deleted: docker/hoodie/hadoop/NOTICE|0 5
Deleted: docker/hoodie/hadoop/base/NOTICE|0 5
Deleted: docker/hoodie/hadoop/datanode/NOTICE|0 5
Deleted: docker/hoodie/hadoop/historyserver/NOTICE|0 5
Deleted: docker/hoodie/hadoop/hive_base/NOTICE|0 5
Deleted: docker/hoodie/hadoop/namenode/NOTICE|0 5
Deleted: docker/hoodie/hadoop/prestobase/NOTICE|0 5
Deleted: docker/hoodie/hadoop/spark_base/NOTICE|0 5
Deleted: docker/hoodie/hadoop/sparkadhoc/NOTICE|0 5
Deleted: docker/hoodie/hadoop/sparkmaster/NOTICE|0 5
Deleted: hudi-cli/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-cli/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-client/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-client/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-common/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-common/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-hadoop-mr/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-hadoop-mr/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-hive/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-hive/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-integ-test/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-integ-test/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-spark/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-spark/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-timeline-service/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-timeline-service/src/main/resources/META-INF/NOTICE|0 5
Deleted: hudi-utilities/src/main/resources/META-INF/LICENSE|0 177
Deleted: hudi-utilities/src/main/resources/META-INF/NOTICE|0 5
Deleted: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-hadoop-mr-bundle/src/main/resources/META-INF/NOTICE|0 6
Deleted: packaging/hudi-hive-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-hive-bundle/src/main/resources/META-INF/NOTICE|0 5
Deleted: packaging/hudi-presto-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-presto-bundle/src/main/resources/META-INF/NOTICE|0 6
Deleted: packaging/hudi-spark-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-spark-bundle/src/main/resources/META-INF/NOTICE|0 5
Deleted: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-timeline-server-bundle/src/main/resources/META-INF/NOTICE|0 5
Deleted: packaging/hudi-utilities-bundle/src/main/resources/META-INF/LICENSE|0 177
Deleted: packaging/hudi-utilities-bundle/src/main/resources/META-INF/NOTICE|0 5
Modified: pom.xml|0 62
Modified: scripts/release/validate_staged_release.sh|7 9

Revision: e78ba598c549d51a3e7ce4231acebe46f9828001
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/10/2019 00:11:37
Message:
Update Release notes #MsgLength=21


----
Modified: RELEASE_NOTES.md|3 1

Revision: e75fa070f85ed1e0f72f9718a715a08a76679140
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/10/2019 00:20:12
Message:
[HUDI-121] Fix bug in validation in create_source_release.sh #MsgLength=61


----
Modified: scripts/release/create_source_release.sh|2 2

Revision: cef06c1e4849ea93644c17af89b56b3f17d322fc
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/10/2019 00:42:30
Message:
[HUDI-121] Fix bug in validation in deploy_staging_jars.sh #MsgLength=59


----
Modified: scripts/release/deploy_staging_jars.sh|2 2

Revision: 3dedc7e5fdd5f885915e81e47e110b845a905dbf
Author: leesf <490081539@qq.com>
Date: 04/10/2019 00:48:13
Message:
[HUDI-265] Failed to delete tmp dirs created in unit tests (#928) #MsgLength=67


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|3 45
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java|2 4
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|2 2
Added: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|89 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java|3 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java|5 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java|5 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java|15 23
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java|24 44
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|8 12
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|8 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|3 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|4 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|8 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|10 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|14 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|8 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|5 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|13 19

Revision: 7dd9c74b1bb28c3a934e46d560abbb4c5b6d4586
Author: leesf <490081539@qq.com>
Date: 04/10/2019 22:45:16
Message:
[HUDI-285] Implement HoodieStorageWriter based on actual file type (#936) #MsgLength=75


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|10 3
Added: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|62 0

Revision: 9b66ea41fd4e4e08eeb426bc1b698766284e71e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/10/2019 12:12:55
Message:
[HUDI-121] Remove leftover notice file and replace com.uber.hoodie with org.apache.hudi in log4j properties #MsgLength=108


----
Deleted: .mailmap|0 9
Modified: RELEASE_NOTES.md|1 0
Deleted: docker/hoodie/hadoop/sparkworker/NOTICE.txt|0 5
Modified: hudi-cli/pom.xml|0 1
Modified: hudi-client/pom.xml|0 4
Modified: hudi-client/src/test/resources/log4j-surefire.properties|5 5
Modified: hudi-common/pom.xml|0 4
Modified: hudi-common/src/test/resources/log4j-surefire.properties|3 3
Modified: hudi-hadoop-mr/pom.xml|0 4
Modified: hudi-hadoop-mr/src/test/resources/log4j-surefire.properties|1 1
Modified: hudi-hive/pom.xml|0 4
Modified: hudi-hive/src/test/resources/log4j-surefire.properties|1 1
Modified: hudi-integ-test/pom.xml|0 1
Modified: hudi-integ-test/src/test/resources/log4j-surefire.properties|1 1
Modified: hudi-spark/pom.xml|0 4
Modified: hudi-spark/src/test/resources/log4j-surefire.properties|5 5
Modified: hudi-timeline-service/pom.xml|0 4
Modified: hudi-timeline-service/src/test/resources/log4j-surefire.properties|3 3
Modified: hudi-utilities/pom.xml|0 4
Modified: hudi-utilities/src/test/resources/log4j-surefire.properties|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|0 2
Modified: packaging/hudi-hive-bundle/pom.xml|0 2
Modified: packaging/hudi-presto-bundle/pom.xml|0 2
Modified: packaging/hudi-spark-bundle/pom.xml|0 2
Modified: packaging/hudi-timeline-server-bundle/pom.xml|0 2
Modified: packaging/hudi-utilities-bundle/pom.xml|0 2
Modified: pom.xml|0 2
Deleted: release/config/license-mappings.xml|0 129

Revision: eb4cc05c1beb48da99c21ce10140d70b9fbb5454
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 05/10/2019 00:22:36
Message:
[HUDI-121] Prepare for 0.5.0-incubating-rc5 #MsgLength=44


----
Modified: RELEASE_NOTES.md|1 0

Revision: 8a55938ca18b24b9f6bbfa16a8ef55077663844d
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 05/10/2019 11:56:29
Message:
[HUDI-293] Remove KEYS file from github repository #MsgLength=51


----
Deleted: KEYS|0 275

Revision: d050d980715c0d8649531a3ed5ca7a7472b29760
Author: leesf <490081539@qq.com>
Date: 08/10/2019 01:56:46
Message:
[HUDI-232] Implement sealing/unsealing for HoodieRecord class (#938) #MsgLength=70


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|23 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|74 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|2 0

Revision: e655cfba3018359457d2f3911ec5f7e78a5f2a56
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 09/10/2019 03:06:47
Message:
[HOTFIX] Move to openjdk to get travis passing (#944) #MsgLength=55


----
Modified: .travis.yml|2 1

Revision: 834c591955cfa8a9c5f286967d693932564b6764
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 10/10/2019 09:32:03
Message:
[MINOR] Add incubating to NOTICE and README.md #MsgLength=113


----
Modified: NOTICE|1 1
Modified: README.md|1 1
Modified: pom.xml|1 1

Revision: b19bed442d84c1cb1e48d184c9554920735bcb6c
Author: leesf <490081539@qq.com>
Date: 10/10/2019 20:19:40
Message:
[HUDI-296] Explore use of spotless to auto fix formatting errors (#945) #MsgLength=230


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 0
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 0
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 0
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 0
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 0
Modified: docker/hoodie/hadoop/pom.xml|1 0
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 0
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 0
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 0
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 0
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 0
Modified: hudi-cli/pom.xml|1 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|8 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|7 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|24 36
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|16 22
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|36 59
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|90 119
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|14 16
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|39 53
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|12 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|37 43
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|16 19
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|19 19
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|15 21
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|10 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|19 30
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|3 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|2 2
Modified: hudi-client/pom.xml|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|5 6
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|124 142
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|23 30
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|225 304
Modified: hudi-client/src/main/java/org/apache/hudi/WriteStatus.java|8 14
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|35 53
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|31 37
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|13 17
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|21 38
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|13 14
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|48 78
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java|3 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java|13 18
Modified: hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java|10 11
Modified: hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java|3 8
Modified: hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java|4 8
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|14 15
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|68 71
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|6 10
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|7 8
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java|8 17
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java|6 11
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java|1 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|121 144
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|19 27
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|45 48
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|32 48
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|8 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|9 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|29 38
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java|7 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|66 82
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|14 17
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|18 20
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|6 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|8 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java|16 17
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|17 19
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|11 14
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|12 17
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|5 8
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|1 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|106 138
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|208 205
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|31 36
Modified: hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java|4 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|4 6
Modified: hudi-client/src/test/java/HoodieClientExample.java|6 8
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|8 8
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|55 66
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|246 283
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|12 13
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|53 73
Modified: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java|8 12
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|26 61
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|73 83
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|17 26
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|9 12
Modified: hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|22 39
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|16 24
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|4 6
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|19 23
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|9 13
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|19 30
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|6 9
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|84 97
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|60 71
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|71 77
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|9 10
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|43 53
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|60 62
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|31 49
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|35 42
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|5 10
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|147 136
Modified: hudi-common/pom.xml|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|7 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|6 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|4 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java|61 83
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|14 22
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|7 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|4 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|2 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java|1 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|14 27
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java|2 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|2 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|8 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|7 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|17 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|9 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|17 25
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|50 62
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|27 29
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java|8 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|27 34
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|26 40
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|16 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|8 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatVersion.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|23 30
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|16 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|25 40
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlockVersion.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|8 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlockVersion.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java|9 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|8 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlockVersion.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|26 41
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|32 43
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|16 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|17 25
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|4 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|79 109
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|33 32
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|17 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|8 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|36 36
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|45 71
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|44 44
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|17 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|35 53
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|15 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|61 79
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|1 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|23 28
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|33 55
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|19 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|20 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|6 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|9 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|10 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|18 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SizeEstimator.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|13 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|10 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|11 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|19 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutablePair.java|24 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutableTriple.java|18 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|3 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java|67 38
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java|52 29
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|21 27
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|20 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieCorruptedDataException.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java|7 3
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIOException.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIndexException.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieRecordMissingException.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|6 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|22 30
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java|5 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatAppendFailureTest.java|7 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java|250 249
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java|4 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java|154 164
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java|85 102
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java|2 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemViewTest.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|27 33
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|20 32
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|11 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|48 56
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|12 15
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|20 27
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|3 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|7 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java|3 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|5 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|18 26
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|12 19
Modified: hudi-hadoop-mr/pom.xml|4 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|36 45
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|13 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java|7 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseFileSplitsFromInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|66 102
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|35 43
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|33 45
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|5 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|4 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|10 12
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|10 11
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java|33 56
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|29 38
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|18 20
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|3 10
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|95 131
Modified: hudi-hive/pom.xml|4 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|18 36
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|20 23
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|76 111
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|1 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java|3 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|5 8
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|3 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java|2 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|64 77
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java|78 116
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|53 78
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|12 20
Modified: hudi-integ-test/pom.xml|1 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|32 41
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|79 104
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|18 23
Modified: hudi-spark/pom.xml|4 0
Modified: hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|4 6
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|42 57
Modified: hudi-spark/src/main/java/org/apache/hudi/EmptyHoodieRecordPayload.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|7 10
Modified: hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java|1 3
Modified: hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java|3 4
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|24 32
Modified: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|3 6
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|3 4
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|41 41
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|20 34
Modified: hudi-timeline-service/pom.xml|4 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|80 91
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|3 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java|5 6
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|12 12
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|3 4
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java|4 6
Modified: hudi-utilities/pom.xml|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|40 59
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|36 53
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|3 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|7 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|13 18
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|27 41
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|2 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|27 33
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|7 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|8 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|3 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|29 44
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|36 36
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|14 27
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|25 22
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|9 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|7 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|5 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java|2 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|5 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|5 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java|1 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|12 20
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|26 39
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|3 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java|1 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|2 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|4 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|11 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|14 21
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|29 39
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|3 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|1 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java|9 12
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|19 29
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|38 55
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|13 23
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|4 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|3 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|15 15
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|11 15
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|3 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|19 35
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 0
Modified: packaging/hudi-hive-bundle/pom.xml|1 0
Modified: packaging/hudi-presto-bundle/pom.xml|1 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 0
Modified: packaging/hudi-timeline-server-bundle/src/main/java/org/apache/hudi/timeline/server/bundle/Main.java|3 3
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: pom.xml|29 1
Modified: style/checkstyle-suppressions.xml|1 0
Modified: style/checkstyle.xml|9 2
Modified: style/eclipse-java-google-style.xml|335 335

Revision: e10e06918e4758917513c55f9bc02c35dad99128
Author: leesf <490081539@qq.com>
Date: 11/10/2019 20:28:45
Message:
[HUDI-292] Avoid consuming more entries from kafka than specified sourceLimit. (#947) #MsgLength=159


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|5 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|10 0

Revision: c052167c064b453ba5761f1137dc68104414121a
Author: Anurag870 <f2005870@gmail.com>
Date: 14/10/2019 12:02:25
Message:
[Docs] Update README.md (#955) #MsgLength=32


----
Modified: README.md|2 2

Revision: 12523c379fe9d0bcf298fba80d9c2ca08e1a0d56
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 16/10/2019 17:05:53
Message:
[HUDI-298] Fix issue with incorrect column mapping casusing bad data, during on-the-fly merge of Real Time tables (#956) #MsgLength=228


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|14 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|4 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|44 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java|24 29

Revision: 1c09f5b055cc78fabb4881cac75f43734f3dcf61
Author: Wenning Ding <wenningd@amazon.com>
Date: 11/10/2019 14:21:00
Message:
[HUDI-301] fix path error when update a non-partition MOR table #MsgLength=64


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 1

Revision: 8c133400627db55570183c9d478098f339fd4977
Author: Mehrotra <uditme@amazon.com>
Date: 20/09/2019 10:00:03
Message:
Shade and relocate Avro dependency in hadoop-mr-bundle #MsgLength=55


----
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|21 0
Modified: pom.xml|9 0

Revision: 77f4e73615d0949eec70187e397ef17f62e908a0
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/10/2019 14:00:55
Message:
[HUDI-121] Fix licensing issues found during RC voting by general incubator group #MsgLength=82


----
Deleted: DISCLAIMER|0 6
Added: DISCLAIMER-WIP|26 0
Modified: LICENSE|118 0
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 7
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|234 66
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|0 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|48 217
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|19 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|2 2
Added: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|302 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|8 281
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|9 22
Modified: pom.xml|4 3
Deleted: style/eclipse-java-google-style.xml|0 353
Deleted: style/intellij-java-google-style.xml|0 614

Revision: 603df66938ebf1a72ceab5a055d911e0caa438f5
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/10/2019 17:19:29
Message:
Update RELEASE Notes in master #MsgLength=31


----
Modified: RELEASE_NOTES.md|13 0

Revision: 7381b661942dad9c650e43179a478a57b530a606
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 16/10/2019 18:32:57
Message:
[HUDI-121] Fix issues in release scripts #MsgLength=41


----
Modified: pom.xml|1 0
Modified: scripts/release/validate_staged_release.sh|6 6

Revision: ed745dfdbf254bfc2ec6d9c7baed8ccbf571abab
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date: 17/10/2019 12:11:59
Message:
[HUDI-40] Add parquet support for the Delta Streamer (#949) #MsgLength=61


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|15 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|60 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetSource.java|34 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|35 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|79 4

Revision: dfdc0e40e1f85c49e580b31204621758e3d76ac5
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 21/10/2019 12:00:04
Message:
[HUDI-283] : Ensure a sane minimum for merge buffer memory (#964) #MsgLength=179


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|11 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|5 3

Revision: 14dd649d06009e99f0d687edd0763c27e3df0389
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/10/2019 04:04:22
Message:
[MINOR] Remove release notes and move confluent repository to hoodie parent pom #MsgLength=80


----
Deleted: RELEASE_NOTES.md|0 476
Modified: hudi-utilities/pom.xml|0 7
Modified: pom.xml|4 0

Revision: 4529f535b26496ec838bd6cd6673a53f42b766e2
Author: Amit Prabhu <amit.dp180@gmail.com>
Date: 23/10/2019 11:16:16
Message:
[MINOR] Add backtick escape while syncing partition fields (#967) #MsgLength=67


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1

Revision: 031b067a3ab77afb55f8f48b06eead27f551e12e
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date: 23/10/2019 11:17:13
Message:
[MINOR] Move all repository declarations to parent pom (#966) #MsgLength=63


----
Modified: hudi-cli/pom.xml|0 11
Modified: packaging/hudi-utilities-bundle/pom.xml|0 7
Modified: pom.xml|8 0

Revision: e4c91ed13f16e1d0d55d9d690395bb62ab2b4fa0
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/10/2019 11:19:11
Message:
[HUDI-290] Normalize test class name of all test classes (#951) #MsgLength=65


----
Renamed: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java [from hudi-client/src/test/java/org/apache/hudi/config/HoodieWriteConfigTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java [from hudi-common/src/test/java/org/apache/hudi/common/table/HoodieTableMetaClientTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java [from hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatTest.java]|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java [from hudi-common/src/test/java/org/apache/hudi/common/table/log/HoodieLogFormatAppendFailureTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java [from hudi-common/src/test/java/org/apache/hudi/common/table/string/HoodieActiveTimelineTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/HoodieTableFileSystemViewTest.java]|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/IncrementalFSViewSyncTest.java]|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDBBasedIncrementalFSViewSyncTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemViewTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemViewTest.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java [from hudi-common/src/test/java/org/apache/hudi/common/table/view/SpillableMapBasedIncrementalFSViewSyncTest.java]|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/AnnotationTest.java]|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/HoodieInputFormatTest.java]|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java]|1 1
Renamed: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java [from hudi-hive/src/test/java/org/apache/hudi/hive/HiveSyncToolTest.java]|2 2
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|1 1
Renamed: hudi-spark/src/test/scala/TestDataSource.scala [from hudi-spark/src/test/scala/DataSourceTest.scala]|1 1
Renamed: hudi-spark/src/test/scala/TestDataSourceDefaults.scala [from hudi-spark/src/test/scala/DataSourceDefaultsTest.scala]|1 1
Renamed: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java [from hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/RemoteHoodieTableFileSystemViewTest.java]|4 4
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/SchedulerConfGeneratorTest.java]|1 1

Revision: d8be818ac9b7b7674918e59eac270e067a2c52a2
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 23/10/2019 16:03:29
Message:
[HUDI-130] Paths written in compaction plan needs to be relative to base-path #MsgLength=78


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|4 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|27 20
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|37 24
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|4 1
Modified: hudi-common/pom.xml|2 0
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|5 0
Modified: hudi-common/src/main/avro/HoodieCleanMetadata.avsc|5 0
Modified: hudi-common/src/main/avro/HoodieCommitMetadata.avsc|5 0
Modified: hudi-common/src/main/avro/HoodieCompactionOperation.avsc|5 0
Modified: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc|6 1
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|5 0
Modified: hudi-common/src/main/avro/HoodieSavePointMetadata.avsc|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|29 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|8 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|15 5
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/AbstractMigratorBase.java|31 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java|104 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java|48 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java|36 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java|86 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java|76 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|47 16

Revision: c23da694ccbbf1f0ebcc5ed770dd56c74c1e06d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 25/10/2019 10:34:00
Message:
[HUDI-169] Speed up rolling back of instants (#968) #MsgLength=53


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|13 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|18 52
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|133 195
Added: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|233 0
Added: hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java|109 0

Revision: ef5001e432c12a2812d5a2e48621e9845666c3d1
Author: leesf <490081539@qq.com>
Date: 29/10/2019 07:25:07
Message:
[MINOR] Fix vm crashes (#979) #MsgLength=31


----
Modified: pom.xml|1 0

Revision: b0838d25f7280784e8707a3528c8b8f3c0defb04
Author: leesf <490081539@qq.com>
Date: 30/10/2019 12:17:45
Message:
[MINOR] Fix no output in travis (#984) #MsgLength=40


----
Modified: .travis.yml|4 1

Revision: 7c7403a59dedc012fe2945e230a50f90139fce4b
Author: leesf <490081539@qq.com>
Date: 31/10/2019 22:59:35
Message:
[MINOR] fix annotation in teardown (#990) #MsgLength=43


----
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|2 1

Revision: eda472adb09ce82063f58200eafcb7be361b4cb8
Author: Guru107 <guruak107@gmail.com>
Date: 30/10/2019 14:18:29
Message:
[MINOR] Fix avro schema warnings in build #MsgLength=42


----
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|9 7
Modified: hudi-common/src/main/avro/HoodieCommitMetadata.avsc|4 2
Modified: hudi-common/src/main/avro/HoodieCompactionMetadata.avsc|10 5
Modified: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc|2 2

Revision: 3251d62bd3c740b25139029a1913d1cf5a57173f
Author: Wenning Ding <wenningd@amazon.com>
Date: 24/10/2019 04:53:57
Message:
[HUDI-313] Fix select count star error when querying a realtime table #MsgLength=70


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|17 0

Revision: ee0fd06de73e0191365549fa7c4f6c71c1bbc08d
Author: Wenning Ding <wenningd@amazon.com>
Date: 31/10/2019 02:48:21
Message:
synchronized lock on conf object instead of class #MsgLength=50


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|10 7

Revision: 74d8e625c51e0f469bf0e387d30c950a8d135276
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date: 01/11/2019 20:06:03
Message:
Bump checkstyle from 8.8 to 8.18 (#981) #MsgLength=340


----
Modified: pom.xml|1 1

Revision: 144ea4eedf74e2204c2482afb1baf725363a8a67
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date: 01/11/2019 20:22:31
Message:
Bump httpclient from 4.3.2 to 4.3.6 (#980) #MsgLength=136


----
Modified: pom.xml|1 1

Revision: a6390aefc41482ba224a4524fe216c277e4f5e79
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 31/10/2019 21:57:25
Message:
[HUDI-312] Make docker hdfs cluster ephemeral. This is needed to fix flakiness in integration tests. Also, Fix DeltaStreamer hanging issue due to uncaught exception #MsgLength=165


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark231.yml|0 4
Modified: docker/hoodie/hadoop/base/Dockerfile|1 1
Modified: docker/setup_demo.sh|0 6
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|9 3

Revision: b6057c5e0e60945e7731367381d190dad47f710d
Author: Wenning Ding <wenningd@amazon.com>
Date: 29/10/2019 01:44:16
Message:
[HUDI-314] Fix multi partition keys error when querying a realtime table #MsgLength=73


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1

Revision: bd77dc792c723eed9958596be36c86c6d00e4065
Author: Wenning Ding <wenningd@amazon.com>
Date: 01/11/2019 03:39:21
Message:
Add MOR integration testing #MsgLength=28


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|65 14

Revision: 91740635b2cf02ef9e34a603dea31bd246f5b436
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 03/11/2019 14:12:44
Message:
[HUDI-321] Support bulkinsert in HDFSParquetImporter (#987) #MsgLength=111


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|44 24
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|3 1

Revision: 04834817c89ef22cc71362702b675548e637b603
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 03/11/2019 17:48:06
Message:
[MINOR] Add features and instructions to build Hudi in README (#992) #MsgLength=70


----
Modified: README.md|30 4

Revision: 71ac2c0d5e8bffdbb11f7789a7805575736049c1
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date: 05/11/2019 20:22:14
Message:
[HUDI-324] TimestampKeyGenerator should support milliseconds (#993) #MsgLength=69


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|3 2

Revision: 20871a17b2ec2b0998b80d941bac51434b0854d5
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date: 07/11/2019 04:56:09
Message:
[HUDI-302]: simplified countInstants() method in HoodieDefaultTimeline (#997) #MsgLength=79


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1

Revision: 0863b1cfd947402c66221afa8d1f18fd2bd8273b
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date: 08/11/2019 00:42:48
Message:
[HUDI-245]: replaced instances of getInstants() and reverse() with getReverseOrderedInstants() (#1000) #MsgLength=104


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|1 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|1 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|4 6

Revision: 1ce3d891cea49990922b8e17080aa496ec22d4f1
Author: Jeff G <32751606+Pahtoe@users.noreply.github.com>
Date: 11/11/2019 04:38:13
Message:
[DOCS] Update to align with original Uber whitepaper (#999) #MsgLength=61


----
Modified: README.md|1 1

Revision: 1483b97018646f1cc8d6bbed357d7115c9079ea2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 11/11/2019 04:39:58
Message:
[DOCS] Change Hudi acronyms to plural #MsgLength=37


----
Modified: README.md|1 1

Revision: 5f1309407aba9c7df3a53ce5b30168cce2f20fcc
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 11/11/2019 22:03:44
Message:
[HUDI-253]: added validations for schema provider class (#995) #MsgLength=64


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|4 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|51 6

Revision: 23b303e4b17c5f7b603900ee5b0d2e6718118014
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/11/2019 22:21:49
Message:
[HUDI-218] Adding Presto support to Integration Test (#1003) #MsgLength=64


----
Added: docker/demo/presto-batch1.commands|4 0
Added: docker/demo/presto-batch2-after-compaction.commands|2 0
Added: docker/demo/presto-table-check.commands|1 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|24 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|57 2

Revision: 1032fc3e549aa70a8817fd4782e971de976b682a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 29/10/2019 09:54:48
Message:
[HUDI-137] Hudi cleaning state changes should be consistent with compaction actions #MsgLength=900


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 2
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|23 26
Added: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|182 0
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|14 43
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|6 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|25 32
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|1 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|87 57
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|107 106
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|22 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|8 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java|3 5
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|6 0
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|106 99
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|5 0
Added: hudi-common/src/main/avro/HoodieCleanerPlan.avsc|69 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|4 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|25 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|66 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java|9 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java|5 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java|5 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|15 17
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|23 18
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|2 0

Revision: 0bb5999f7950d010649e082f6f056f44d92c91f9
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 12/11/2019 09:27:31
Message:
[HUDI-306] Support Glue catalog and other hive metastore implementations (#961) #MsgLength=252


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|7 5
Modified: packaging/hudi-spark-bundle/pom.xml|23 46
Modified: packaging/hudi-utilities-bundle/pom.xml|22 12
Modified: pom.xml|4 0

Revision: 8ff06ddb0fdc8325382dbca4bd9dd4884b4e1110
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 12/11/2019 22:12:44
Message:
[HUDI-80] Leverage Commit metadata to figure out partitions to be cleaned for Cleaning by commits mode (#1008) #MsgLength=112


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|9 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|44 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|4 5
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|90 15
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|13 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 1

Revision: 045fa87a3db5d9954d1ca88c8a2ef28c11214330
Author: lamber-ken <xl38154@qq.com>
Date: 14/11/2019 02:39:05
Message:
[HUDI-330] add EmptyStatement java checkstyle rule #MsgLength=51


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|3 3
Modified: style/checkstyle.xml|2 0

Revision: 92c69f57038d055e680f75627426e97679196ce0
Author: Mehrotra <uditme@amazon.com>
Date: 13/11/2019 08:16:32
Message:
Migrate integration tests to spark 2.4.4 #MsgLength=41


----
Renamed: docker/compose/docker-compose_hadoop284_hive233_spark244.yml [from docker/compose/docker-compose_hadoop284_hive233_spark231.yml]|7 7
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkmaster/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkworker/Dockerfile|1 1
Modified: docker/setup_demo.sh|3 3
Modified: docker/stop_demo.sh|1 1
Modified: hudi-integ-test/pom.xml|3 3

Revision: f7c2f8cedc999ddfbd3e29718442a507cf526cf0
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 14/11/2019 00:56:36
Message:
[HUDI-329] Presto Containers for integration test must allow newly built local jars to override #MsgLength=96


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|5 1
Modified: docker/hoodie/hadoop/prestobase/bin/entrypoint.sh|3 0

Revision: 22315a887f5bf277007bdfcec24bc014982a6d4b
Author:  <2217232293@qq.com>
Date: 14/11/2019 13:18:46
Message:
[HOTFIX] fix missing version of rat-plugin (#1015) #MsgLength=52


----
Modified: pom.xml|2 0

Revision: 3a05edab01f72a0e7e9efb890691d938bca4d795
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 04/11/2019 15:09:15
Message:
- Fixing RT queries for HiveOnSpark that causes race conditions - Adding more comments to understand usage of reader/writer schema #MsgLength=131


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|27 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|32 21
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|7 3

Revision: f82e58994e046d92916d45f7ec921e2fb6ba26ef
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 06/11/2019 03:53:19
Message:
- Ensure that rollback instant is always created before the next commit instant. This especially affects IncrementalPull for MOR tables since we can end up pulling in log blocks for uncommitted data - Ensure that generated commit instants are 1 second apart #MsgLength=262


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|14 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|17 5

Revision: e806eb797f4839017dfa87d2cc31a0b01570b061
Author: b_rousseau <26170335+broussea1901@users.noreply.github.com>
Date: 18/11/2019 06:29:24
Message:
[HUDI-339] Add support of Azure cloud storage (#1019) #MsgLength=175


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|3 0

Revision: 66492498f702e9224da838d1869e9376111939ce
Author:  <lamberken@163.com>
Date: 19/11/2019 14:06:01
Message:
[HUDI-342] add pull request template for hudi project (#1022) #MsgLength=63


----
Added: .github/PULL_REQUEST_TEMPLATE.md|44 0

Revision: 804e348d0e8176ceced046fa9e87963907aecc38
Author:  <lamberken@163.com>
Date: 19/11/2019 18:44:42
Message:
[HUDI-346] Set allowMultipleEmptyLines to false for EmptyLineSeparator rule (#1025) #MsgLength=87


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|0 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|0 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|0 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|0 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|0 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|0 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java|0 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|0 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|0 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|0 4
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java|0 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|0 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|0 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|0 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|0 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|0 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|0 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java|0 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|0 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|0 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|0 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|0 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|0 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|0 3
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|0 2
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|0 1
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|0 3
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|0 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|0 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|0 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|0 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|0 2
Modified: pom.xml|1 1
Modified: style/checkstyle.xml|3 0

Revision: d9fbe33339cce5e5577eff5257bd9b683daed194
Author: lamber-ken <lamberken@163.com>
Date: 18/11/2019 23:18:16
Message:
[HOTFIX] Fix error configuration item of dockerfile-maven-plugin #MsgLength=65


----
Modified: docker/hoodie/hadoop/base/pom.xml|2 2
Modified: docker/hoodie/hadoop/datanode/pom.xml|2 2
Modified: docker/hoodie/hadoop/historyserver/pom.xml|2 2
Modified: docker/hoodie/hadoop/hive_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/namenode/pom.xml|2 2
Modified: docker/hoodie/hadoop/prestobase/pom.xml|2 2
Modified: docker/hoodie/hadoop/spark_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|2 2
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|2 2

Revision: 1e14390719cc9e79cc67272a50e7e0bf95b38d87
Author: Pratyaksh Sharma <pratyakshsharma@MacBook-Pro-2.local>
Date: 20/11/2019 22:16:27
Message:
[HUDI-350]: updated default value of config.getCleanerCommitsRetained() in javadocs #MsgLength=84


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|4 3

Revision: 17eaf41c54411344916fdf4ace80163438e9bee2
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date: 22/11/2019 19:25:52
Message:
[HUDI-348] Add Issue template for the project (#1029) #MsgLength=57


----
Added: .github/ISSUE_TEMPLATE/SUPPORT_REQUEST.md|56 0
Added: .github/ISSUE_TEMPLATE/config.yml|9 0

Revision: 7bc08cbfdce337ad980bb544ec9fc3dbdf9cffff
Author: hongdd <jn_hdd@163.com>
Date: 22/11/2019 19:32:09
Message:
[HUDI-345] Fix used deprecated function (#1024) #MsgLength=130


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|2 2

Revision: c3355109b1fa8f3055a2ba57d6e2b49679581db5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 23/11/2019 07:05:25
Message:
[HUDI-328] Adding delete api to HoodieWriteClient (#1004) #MsgLength=133


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|113 24
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|18 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|18 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|145 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|181 4
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|24 0
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|42 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java [from hudi-spark/src/main/java/org/apache/hudi/EmptyHoodieRecordPayload.java]|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|1 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|5 5
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|9 4
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|5 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|16 15
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|190 105
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|7 0
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|35 7
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|2 1

Revision: 845a0509b327c3187c036d2b9668048a25ccf423
Author: filippo balicchia <fbalicchia@gmail.com>
Date: 25/11/2019 18:49:13
Message:
[MINOR] Some minor optimizations in HoodieJavaStreamingApp (#1046) #MsgLength=70


----
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|11 16

Revision: 44823041a37601fed8163502272a8fcb7a5be45d
Author: hongdd <jn_hdd@163.com>
Date: 26/11/2019 03:31:07
Message:
[HUDI-362] Adds a check for the existence of field (#1047) #MsgLength=60


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|4 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java|4 0

Revision: 212282c8aaf623f451e3f72674ed4d3ed550602d
Author:  <lamberken@163.com>
Date: 26/11/2019 03:36:23
Message:
[HUDI-358] Add Java-doc and importOrder checkstyle rule (#1043) #MsgLength=155


----
Modified: style/checkstyle.xml|26 5

Revision: a7e07cd910425b5cfe9886677e780bfb2ae96c52
Author: hongdd <jn_hdd@163.com>
Date: 26/11/2019 05:25:42
Message:
[HUDI-359] Add hudi-env for hudi-cli module (#1042) #MsgLength=55


----
Added: hudi-cli/conf/hudi-env.sh|24 0
Modified: hudi-cli/hudi-cli.sh|5 9

Revision: 2a4cfb47c76a0c8800d4998453ec356711807c83
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 26/11/2019 18:34:02
Message:
[HUDI-340]: made max events to read from kafka source configurable (#1039) #MsgLength=76


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|9 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|87 6

Revision: 60fed21dc7e4cb66b154ae9be77dfada0f3071a5
Author: bschell <bdscheller@gmail.com>
Date: 26/11/2019 18:37:16
Message:
[HUDI-327] Add null/empty checks to key generators (#1040) #MsgLength=173


----
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieKeyException.java|35 0
Modified: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|28 11
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|11 0
Modified: hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java|5 1
Modified: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|9 8
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|65 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|6 2

Revision: d6e83e8f49828940159cd34711cc88ee7b42dc1c
Author: wenningd <wenningding95@gmail.com>
Date: 27/11/2019 13:18:39
Message:
[HUDI-325] Fix Hive partition error for updated HDFS Hudi table (#1001) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|7 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|6 2

Revision: b77fad39b53049279bba1ba367f43cce73f48bfa
Author:  <lamberken@163.com>
Date: 27/11/2019 16:30:37
Message:
[HUDI-364] Refactor hudi-hive based on new ImportOrder code style rule (#1048) #MsgLength=152


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|11 10
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|2 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|1 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|2 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|2 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java|1 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|12 10
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|13 11
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|25 23
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|11 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: style/checkstyle.xml|1 1

Revision: f9139c0f616775f4b3d0df95772f2621f0e7c9f1
Author:  <lamberken@163.com>
Date: 27/11/2019 21:32:43
Message:
[HUDI-366] Refactor some module codes based on new ImportOrder code style rule (#1055) #MsgLength=238


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|18 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|11 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java|6 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java|2 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|20 18
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|18 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|24 22
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|2 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|4 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|10 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|11 9
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|15 13
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java|3 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java|6 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|9 7
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|7 5
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|31 28
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|10 8
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|4 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|1 0
Modified: hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java|5 3
Modified: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|5 3
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|10 8
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|6 4
Modified: hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java|4 2
Modified: hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java|2 1
Modified: hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java|6 4
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|10 8
Modified: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|2 1
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|4 3
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|7 5
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|10 8
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|13 11
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|9 7
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java|5 3
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|7 5
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/Handler.java|4 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|6 4
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|23 20
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|17 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|10 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|10 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|9 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|14 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|6 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|14 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|11 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|4 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|23 19
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|26 24
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|7 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|6 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieIncrementalPullException.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|10 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|19 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|7 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|4 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|7 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|5 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|4 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|15 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetSource.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|14 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|10 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|1 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|21 19
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|19 17
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|11 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java|6 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|17 15
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|9 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|6 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|12 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|5 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|8 6

Revision: da8d1334eecd65f2896613b1143d6ba31bae03b7
Author: lamber-ken <lamberken@163.com>
Date: 28/11/2019 09:25:56
Message:
[HUDI-373] Refactor hudi-client based on new ImportOrder code style rule (#1056) #MsgLength=82


----
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|15 13
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|7 5
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|7 4
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|18 15
Modified: hudi-client/src/main/java/org/apache/hudi/WriteStatus.java|5 4
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|8 5
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|5 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|11 8
Modified: hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java|8 6
Modified: hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java|4 3
Modified: hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|3 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|7 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|13 10
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|6 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|10 7
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|22 19
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|12 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|16 14
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|7 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|8 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|11 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|8 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|17 15
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|5 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java|4 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriter.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|20 17
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|14 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|14 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|15 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|7 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadStat.java|3 2
Modified: hudi-client/src/test/java/HoodieClientExample.java|8 6
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|13 11
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|15 13
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|25 23
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|10 8
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|11 9
Modified: hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java|5 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|15 13
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|25 23
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|8 6
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|19 17
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|10 8
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|24 22
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|10 8
Modified: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|5 3
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|9 6
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|19 16
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestParquetReaderIterator.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|11 9
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|20 17
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|23 20
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|19 16
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|16 14
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|8 6
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|9 7
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|7 5
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|15 13
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieDataFile.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieLogFile.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|16 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|14 12
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|19 17

Revision: 0b52ae3ac2685c5afa7821d663854b526b5a1cff
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/11/2019 19:17:34
Message:
[HUDI-209] Implement JMX metrics reporter (#1045) #MsgLength=51


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|8 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|8 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|85 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|52 0
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|1 3
Modified: pom.xml|1 1

Revision: 024230fbd23173db38e2c0f66808606481223003
Author: lamber-ken <lamberken@163.com>
Date: 01/12/2019 00:02:33
Message:
[HUDI-372] Support the shortName for Hudi DataSource (#1054) #MsgLength=111


----
Added: hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|20 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1
Modified: hudi-spark/src/test/scala/TestDataSource.scala|13 0

Revision: b65a897856259e7872e39a9e3e68661926592d7b
Author: hongdd <jn_hdd@163.com>
Date: 01/12/2019 03:11:00
Message:
[HUDI-374] Unable to generateUpdates in QuickstartUtils (#1059) #MsgLength=65


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1

Revision: 75132c139f0faf9ef68bb461b3a551238a377455
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date: 01/12/2019 03:12:41
Message:
[HUDI-357] Refactor hudi-cli based on new comment and code style rules (#1051) #MsgLength=80


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|6 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|6 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Main.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|5 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java|6 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|5 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|4 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|4 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|4 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|4 1

Revision: 784e3ad0b65ce8f7e0de2e2935032fb2573d5a26
Author: lamber-ken <lamberken@163.com>
Date: 02/12/2019 06:59:09
Message:
[HUDI-370] Refactor hudi-common based on new ImportOrder code style rule (#1063) #MsgLength=82


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java|7 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java|17 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStat.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|12 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|18 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|19 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|13 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|10 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|19 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|12 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|13 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|11 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|10 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FSPermissionDTO.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FilePathDTO.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/LogFileDTO.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|20 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|11 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|14 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|12 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|18 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|22 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|17 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|14 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|14 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|10 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/FunctionBasedQueueProducer.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|6 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|8 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java|6 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|35 33
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|8 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|8 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|15 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|28 27
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|16 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|8 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|21 19
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|20 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|18 16
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|13 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|7 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|18 16
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|7 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|16 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|7 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|15 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|8 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|19 17
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|15 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|9 7

Revision: ff688107fa99742cccaa0a80075f58efb017ebab
Author: lamber-ken <lamberken@163.com>
Date: 03/12/2019 01:25:43
Message:
[DOCS] Update Hudi Readme (#1058) #MsgLength=75


----
Modified: README.md|19 9

Revision: 89f09680976de6d677cc9739160a206ca9ae9ff3
Author: lamber-ken <lamberken@163.com>
Date: 03/12/2019 09:56:09
Message:
[DOCS] Update the build source link (#1071) #MsgLength=45


----
Modified: README.md|1 1

Revision: 845e26165848c97798ba5dd8fc534fdfa9552552
Author: leesf <490081539@qq.com>
Date: 03/12/2019 17:35:27
Message:
[MINOR] Update some urls from http to https in the README file (#1074) #MsgLength=72


----
Modified: README.md|2 2

Revision: 98ab33bb6e1637d18c8fab7a9ddd50daeaf56962
Author: leesf <490081539@qq.com>
Date: 04/12/2019 02:11:03
Message:
[HUDI-294] Delete Paths written in Cleaner plan needs to be relative to partition-path (#1062) #MsgLength=182


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|4 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|102 0
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|0 22
Added: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|60 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanMetadataMigrator.java|34 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java|102 0
Added: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java|98 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|8 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|3 1

Revision: 84602c888298e70ea5e64029c14e862172d32f99
Author: vinoyang <yanghua1127@gmail.com>
Date: 04/12/2019 12:49:14
Message:
[HUDI-355] Refactor hudi-common based on new comment and code style rules (#1049) #MsgLength=158


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieArchivedLogFile.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|15 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStat.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|20 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/storage/SizeAwareDataInputStream.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|14 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|13 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java|16 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|20 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FSPermissionDTO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileGroupDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FilePathDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/LogFileDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|35 35
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageType.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|13 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java|15 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NumericUtils.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|5 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|19 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SizeEstimator.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|10 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutablePair.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ImmutableTriple.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Pair.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/Triple.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/AbstractMigratorBase.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/CorruptedLogFileException.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieCorruptedDataException.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieNotSupportedException.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieRemoteException.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieSerializationException.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/exception/InvalidHoodiePathException.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/MetadataNotFoundException.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/SchemaCompatabilityException.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|4 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|17 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|6 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|3 0

Revision: b2d9638bea43f6b0a9c3412362dc4cb08e214957
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date: 04/12/2019 15:10:40
Message:
[HUDI-365] Refactor hudi-cli based on new ImportOrder code style rule (#1076) #MsgLength=79


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|5 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|4 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Main.java|2 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|2 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|12 10
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|8 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|9 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|15 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|6 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|15 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|2 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|17 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|4 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|5 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|10 8
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|5 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|16 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|3 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|4 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|4 2

Revision: b3e0ebbc4ae61b7e21d63f5e6548b86547f6bf06
Author: lamber-ken <lamberken@163.com>
Date: 04/12/2019 18:59:15
Message:
[checkstyle] Add ConstantName java checkstyle rule (#1066) #MsgLength=156


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|16 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|12 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|13 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/FunctionBasedQueueProducer.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/IteratorBasedQueueProducer.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|3 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|9 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|3 3
Modified: style/checkstyle.xml|6 0
Modified: style/scalastyle-config.xml|18 18

Revision: c06d89b648bbdaaad9c68fb9d3c6d53b4d68541c
Author: lamber-ken <lamberken@163.com>
Date: 05/12/2019 17:25:03
Message:
[HUDI-378] Refactor the rest codes based on new ImportOrder code style rule (#1078) #MsgLength=85


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|9 7
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanMetadataMigrator.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java|2 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|30 28
Modified: style/checkstyle.xml|0 1

Revision: 2745b7552f2f2ee7a61d3ea49139ef2af3ffe13f
Author: lamber-ken <lamberken@163.com>
Date: 06/12/2019 12:59:28
Message:
[HUDI-379] Refactor the codes based on new JavadocStyle code style rule (#1079) #MsgLength=81


----
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|12 12
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|12 12
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyLookupResult.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|4 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|12 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|26 26
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|23 23
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|18 18
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|26 26
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|10 10
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseFileSplitsFromInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|6 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetSerde.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|10 10
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|8 8
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java|3 3
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|4 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|6 6
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|1 1
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|21 22
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|14 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|6 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java|1 1
Modified: style/checkstyle.xml|2 3

Revision: 63e330b17cdd4ce367484120d6ec82262fe540d0
Author: lamber-ken <lamberken@163.com>
Date: 08/12/2019 01:51:28
Message:
[MINOR] add *.log to .gitignore file (#1086) #MsgLength=46


----
Modified: .gitignore|1 0

Revision: e555aa516de867a4faf0322e79defa1f52d887ef
Author: Wenning Ding <wenningd@amazon.com>
Date: 31/10/2019 01:41:04
Message:
[HUDI-353] Add hive style partitioning path #MsgLength=44


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|12 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|3 3
Modified: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|7 2
Modified: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|7 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|8 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|29 19
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|4 1

Revision: 70a1040998deb4585f6622e23f887dba21556cbd
Author: lamber-ken <lamberken@163.com>
Date: 10/12/2019 05:24:42
Message:
[MINOR] Beautify the cli banner (#1089) #MsgLength=118


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java|15 11

Revision: d447e2d7518fc6ee87f1620542e45f1454a5ba0f
Author: lamber-ken <lamberken@163.com>
Date: 10/12/2019 19:23:38
Message:
[checkstyle] Unify LOG form (#1092) #MsgLength=37


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|9 9
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|31 31
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|22 22
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|9 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|24 24
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|5 5
Modified: hudi-client/src/test/java/HoodieClientExample.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|5 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|5 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|10 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|21 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|12 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RecordReaderValueIterator.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|6 6
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|9 9
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|4 4
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|6 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|20 20
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|11 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|7 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|7 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|17 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|18 18
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|6 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|7 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|9 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|6 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|2 2

Revision: 8df4b83017f74173b8289ab50b0f723a38e8eebe
Author: Nisheet Kumar <nisheetkmr@outlook.com>
Date: 10/12/2019 23:42:33
Message:
[HUDI-390] Add backtick character in hive queries to support hive identifier as tablename (#1090) #MsgLength=99


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|11 6
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|3 1

Revision: 24a09c775f6d4b855e2096001f5e034da80158a8
Author: lamber-ken <lamberken@163.com>
Date: 11/12/2019 00:00:53
Message:
[HUDI-387] Fix NPE when create savepoint via hudi-cli (#1085) #MsgLength=63


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|10 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|5 1

Revision: 3790b75e059a06e6f5467c8b8d549ef38cd6b98a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 11/12/2019 05:52:41
Message:
[HUDI-368] code clean up in TestAsyncCompaction class (#1050) #MsgLength=63


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|34 55

Revision: ba514cfea0fbb3a71a93fc7b5d5fe06dc1fdfffd
Author: lamber-ken <lamberken@163.com>
Date: 12/12/2019 05:42:05
Message:
[MINOR] Remove redundant plus operator (#1097) #MsgLength=48


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java|2 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|4 4
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|18 18
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1

Revision: a405d3873b176a410abc5ef5239066f94214454c
Author: lamber-ken <lamberken@163.com>
Date: 12/12/2019 11:29:17
Message:
[MINOR] replace scala map add operator (#1093) #MsgLength=67


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1

Revision: f324057b6e27075833673b09b5c92d9c53ed2b58
Author: lamber-ken <lamberken@163.com>
Date: 13/12/2019 13:42:18
Message:
[MINOR] Unify Lists import (#1103) #MsgLength=36


----
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|3 2

Revision: 8963a68e6a3f4875de6787dfc206543e9ca824d9
Author: hongdd <jn_hdd@163.com>
Date: 14/12/2019 14:13:00
Message:
[HUDI-398]Add spark env set/get for spark launcher (#1096) #MsgLength=64


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|68 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|4 2

Revision: 9a1f698eef1044443adadbf7a1bf7b5eb94fb84e
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 04/12/2019 17:02:17
Message:
[HUDI-308] Avoid Renames for tracking state transitions of all actions on dataset #MsgLength=82


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|13 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|16 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|7 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|17 9
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|70 55
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|3 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|19 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|34 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|66 62
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|24 18
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|20 11
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|4 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|45 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|24 13
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|9 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|17 17
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|9 3
Modified: hudi-common/pom.xml|1 0
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|22 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java|79 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|64 25
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|23 2
Added: hudi-common/src/main/java/org/apache/hudi/common/table/TimelineLayout.java|79 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|148 60
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|3 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|30 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|31 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|39 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|2 2
Added: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java|77 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|24 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|35 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|17 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|5 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|3 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|1 1

Revision: 7498ca71cb8cfc95c2bd987030f23b75be23b84d
Author: lamber-ken <lamberken@163.com>
Date: 17/12/2019 15:15:03
Message:
[MINOR] Add slack invite icon in README (#1108) #MsgLength=53


----
Modified: README.md|1 0

Revision: 14881e99e0aff5ffd72ed26d2beddef23d7a77c7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 18/12/2019 11:06:24
Message:
[HUDI-106] Adding support for DynamicBloomFilter (#976) #MsgLength=250


----
Modified: LICENSE|28 0
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 6
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|10 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|6 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|11 7
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|6 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|6 1
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilter.java|50 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterFactory.java|63 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterTypeCode.java [from hudi-common/src/test/java/org/apache/hudi/common/TestBloomFilter.java]|6 27
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterUtils.java|45 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/HoodieDynamicBoundedBloomFilter.java|109 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java|249 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalFilter.java|178 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/BloomFilter.java]|49 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|23 9
Added: hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java|110 0
Added: hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestInternalDynamicBloomFilter.java|60 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|36 2
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|9 6

Revision: 36b3b6f5dd913d3f1c9aa116aff8daf6540fed65
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date: 20/12/2019 14:19:06
Message:
[HUDI-415] Get commit time when Spark start (#1113) #MsgLength=53


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 3

Revision: b284091783af44341f20af11825ea9b6e3ba23da
Author: lamber-ken <lamberken@163.com>
Date: 22/12/2019 07:30:07
Message:
[HUDI-386] Refactor hudi scala checkstyle rules (#1099) #MsgLength=59


----
Modified: pom.xml|1 1
Modified: style/checkstyle.xml|1 1
Renamed: style/scalastyle.xml [from style/scalastyle-config.xml]|53 33

Revision: 313fab5fd1ef715f98a123d0e09f6010daacab68
Author: lamber-ken <lamberken@163.com>
Date: 24/12/2019 07:05:54
Message:
[HUDI-444] Refactor the codes based on scala codestyle ReturnChecker rule (#1121) #MsgLength=83


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: style/scalastyle.xml|1 1

Revision: 350b0ecb4d137411c6231a1568add585c6d7b7d5
Author: vinoth chandar <vchandar@confluent.io>
Date: 23/12/2019 15:33:35
Message:
[HUDI-311] : Support for AWS Database Migration Service in DeltaStreamer #MsgLength=422


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java|11 4
Added: hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|68 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|13 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|0 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|8 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetSource.java]|24 8
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestAWSDatabaseMigrationServiceSource.java|107 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|0 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|1 1

Revision: 8172197c353ff6cda491120c41b2d14b412ad709
Author: Thinking Chen <744417972@qq.com>
Date: 24/12/2019 14:29:28
Message:
Fix Error: java.lang.IllegalArgumentException: Can not create a Path from an empty string in HoodieCopyOnWrite#deleteFilesFunc (#1126) #MsgLength=256


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|1 1

Revision: 4b1b3fc28cc68c61e2042029a80211dcbe0fcfb4
Author: lamber-ken <lamberken@163.com>
Date: 24/12/2019 19:07:04
Message:
[MINOR] Set info servity for ImportOrder temporarily (#1127) #MsgLength=171


----
Modified: style/checkstyle.xml|1 0

Revision: 41f36770e09b41aee8f5c8789f2b5f8bf151fb3c
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 25/12/2019 06:48:15
Message:
[MINOR] fix typo #MsgLength=18


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1

Revision: dd06660183d49211408fa2851c06f1a4d8946749
Author: comsir <1573282335@qq.com>
Date: 25/12/2019 11:37:09
Message:
[MINOR] fix typo #MsgLength=17


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|1 1

Revision: 94aec965f533fdf724ca433233e67ce2374e26df
Author: dengziming <dengziming1993@gmail.com>
Date: 25/12/2019 12:44:11
Message:
[minor] Fix few typos in the java docs (#1132) #MsgLength=48


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java|1 1

Revision: 9c4217a3e1b9b728690282c914db2067117f4cfb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 25/12/2019 12:56:30
Message:
[HUDI-389] Fixing Index look up to return right partitions for a given key along with fileId with Global Bloom (#1091) #MsgLength=315


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|23 17
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java|7 4
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|20 8
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java|8 4
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java|9 10
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java|5 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|99 83
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|64 10
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|18 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|5 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|11 4

Revision: 8affdf8bcbb4c7b236283e97c3afad186d5b6a3e
Author: hongdd <jn_hdd@163.com>
Date: 25/12/2019 20:19:12
Message:
[HUDI-416] Improve hint information for cli (#1110) #MsgLength=55


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|14 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|2 8
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|3 19
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|8 39
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|149 161
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|6 11
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|4 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|8 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|5 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|6 15
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|13 28
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|2 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 2

Revision: 3c811ec29be12b3084c0ff4b77774d9ea527bcea
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 25/12/2019 20:26:16
Message:
[MINOR] fix typos #MsgLength=19


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|1 1

Revision: def18a5086cac23266dec4e285cc7850ef8ac011
Author: SteNicholas <programgeek@163.com>
Date: 26/12/2019 06:40:25
Message:
[MINOR] optimize hudi timeline service (#1137) #MsgLength=48


----
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|4 6
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|1 1

Revision: 842eabb27fc7b4295a6ad8a44fb21ba0394c7aa8
Author: lamber-ken <lamberken@163.com>
Date: 26/12/2019 15:40:38
Message:
[HUDI-470] Fix NPE when print result via hudi-cli (#1138) #MsgLength=59


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1

Revision: f20a130e3ac3cf5434bf58cc6b0b64cd4d9a6931
Author: yungthuis66 <59256868+yungthuis66@users.noreply.github.com>
Date: 27/12/2019 01:03:43
Message:
[MINOR] typo fix (#1142) #MsgLength=26


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: 01c25d6afff703156c31c4f4c12138113dca494a
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 29/12/2019 09:57:19
Message:
[MINOR] Update the java doc of HoodieTableType (#1148) #MsgLength=56


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java|3 3

Revision: 58c5bed40a76189a28dd72bbd67fcefaac587184
Author: lamber-ken <lamberken@163.com>
Date: 24/12/2019 23:22:37
Message:
[HUDI-453] Fix throw failed to archive commits error when writing data to MOR/COW table #MsgLength=88


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|7 0

Revision: 179837e8ef1d624c8805c4af8896589193481ad0
Author: lamber-ken <lamberken@163.com>
Date: 24/12/2019 23:31:28
Message:
Fix checkstyle #MsgLength=15


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|1 1

Revision: 2f254163d49a89c4a2d89ad1aac8f2217d159edf
Author: lamber-ken <lamberken@163.com>
Date: 28/12/2019 07:57:05
Message:
Skip setting commit metadata #MsgLength=29


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|6 10

Revision: 84404829777dafb68b8b9903015016a1549d54a4
Author: lamber-ken <lamberken@163.com>
Date: 29/12/2019 07:27:59
Message:
Fix empty content clean plan #MsgLength=29


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|4 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|2 2

Revision: e4ea7a2971ce20d89a46556e19f2ad22014d9123
Author: lamber-ken <lamberken@163.com>
Date: 29/12/2019 12:46:14
Message:
Update comment #MsgLength=15


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 1

Revision: 2a823f32ee161d3e366979f2060cb93536e8059d
Author: dengziming <dengziming1993@gmail.com>
Date: 30/12/2019 20:39:03
Message:
[MINOR]: alter some wrong params which bring fatal exception #MsgLength=61


----
Modified: hudi-client/src/test/java/HoodieClientExample.java|1 1

Revision: ab6ae5cebb43ffffa9ea47feeda36e955bc6b470
Author: lamber-ken <lamberken@163.com>
Date: 31/12/2019 11:44:56
Message:
[HUDI-482] Fix missing @Override annotation on methods (#1156) #MsgLength=124


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java|1 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|1 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|2 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 0

Revision: e637d9ed26fea1a336f2fd6139cde0dd192c429d
Author: hejinbiao123 <38057507+hejinbiao123@users.noreply.github.com>
Date: 31/12/2019 13:49:34
Message:
[HUDI-455] Redo hudi-client log statements using SLF4J (#1145) #MsgLength=120


----
Modified: hudi-client/pom.xml|5 0
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|9 8
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|28 28
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|21 21
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|7 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|8 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|9 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|19 20
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|14 14
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|7 10
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|26 26
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|13 14
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|7 7

Revision: bb90dedfc84dc3a1aa7c3eb2e64320346f5e192c
Author: lamber-ken <lamberken@163.com>
Date: 27/12/2019 01:13:47
Message:
[MINOR] Fix out of limits for results #MsgLength=38


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|5 3

Revision: 36c0e6bae142d18dd0c4ede9c04dc20005380562
Author: lamber-ken <lamberken@163.com>
Date: 27/12/2019 01:16:24
Message:
[MINOR] Fix out of limits for results #MsgLength=38


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|1 1

Revision: 74b00d1f954b5146611f26e55c567861898b084f
Author: lamber-ken <lamberken@163.com>
Date: 27/12/2019 02:06:26
Message:
trigger rebuild #MsgLength=16


----

Revision: 619f5010549220c98cb6849ebcfb3592a811c679
Author: lamber-ken <lamberken@163.com>
Date: 31/12/2019 13:59:26
Message:
Clean up code #MsgLength=14


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|4 6


Revision: 47c1f746e2ddd061064af6026de9125c65bf114a
Author: Suneel Marthi <smarthi@apache.org>
Date: 31/12/2019 15:05:21
Message:
[HUDI-343]: Create a DOAP file for Hudi #MsgLength=40


----
Added: doap_HUDI.rdf|59 0


Revision: dde21e7315739c108567307813f4b816dd9f1920
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date: 29/12/2019 17:30:06
Message:
[HUDI-402]: code clean up in test cases #MsgLength=40


----
Modified: hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java|2 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|20 39
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|2 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|21 20
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|11 44
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|3 5
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|3 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|7 15
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|14 14
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|41 92
Modified: hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java|3 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|3 20
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|9 33
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|0 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|6 23
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java|2 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|3 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|16 35
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|23 46
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|7 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|10 17
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|9 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|0 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java|10 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|3 6
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|0 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|4 5
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|30 30
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|8 8
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|0 25
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 2
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|4 16
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|1 3

Revision: e1e5fe33249bf511486073dd9cf48e5b7ea14816
Author: lamber-ken <lamberken@163.com>
Date: 02/01/2020 09:11:15
Message:
[MINOR] Fix error usage of String.format (#1169) #MsgLength=50


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1

Revision: ff1113f3b730a68dd0a1a7bd219ad20e5166f8ca
Author: hongdongdong <hongdongdong@cmss.chinamobile.com>
Date: 03/01/2020 11:25:15
Message:
[HUDI-492]Fix show env all in hudi-cli #MsgLength=39


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|1 1

Revision: 290278fc6cd90c6dad09618275d2016c295c0b0d
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date: 29/12/2019 02:16:09
Message:
[HUDI-118]: Options provided for passing properties to Cleaner, compactor and importer commands #MsgLength=96


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|36 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|15 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|8 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|71 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|7 1

Revision: a733f4ef723865738d8541282c0c7234d64668db
Author: SteNicholas <programgeek@163.com>
Date: 05/01/2020 01:05:50
Message:
[MINOR] Optimize hudi-cli module (#1136) #MsgLength=44


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|14 22
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|22 31
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|6 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|6 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|15 16
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java|6 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|9 8
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|14 15
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|20 25
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|12 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|3 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|6 6

Revision: 726ae47ce250309710f88e17d1ee89d6fff9b386
Author: SteNicholas <programgeek@163.com>
Date: 05/01/2020 02:57:08
Message:
[MINOR]Optimize hudi-client module (#1139) #MsgLength=44


----
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|3 4
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|21 24
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|10 9
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|1 4
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|3 6
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|1 4
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|1 4
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 12
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|4 6
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java|5 7
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|14 17
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|16 18
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|5 8
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|5 8
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|3 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|7 10
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|14 21
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|10 12
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|5 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|2 2

Revision: 7031445eb3cae5a4557786c7eb080944320609aa
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 05/01/2020 03:07:31
Message:
[HUDI-377] Adding Delete() support to DeltaStreamer (#1073) #MsgLength=258


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|70 13
Modified: hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java|4 3
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|8 8
Modified: hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java|9 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|7 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|2 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|15 16
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|18 7
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|7 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|9 3

Revision: 28ccf8c5216eaedf16b16b0220f03311fcba6787
Author: lamber-ken <lamberken@163.com>
Date: 05/01/2020 15:53:47
Message:
[HUDI-484] Fix NPE when reading IncrementalPull.sqltemplate in HiveIncrementalPuller (#1167) #MsgLength=94


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|1 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|27 0

Revision: b9fab0b933315d88e059a07a0dcf2397d5b69d14
Author: hejinbiao123 <38057507+hejinbiao123@users.noreply.github.com>
Date: 06/01/2020 21:13:29
Message:
Revert "[HUDI-455] Redo hudi-client log statements using SLF4J (#1145)" (#1181) #MsgLength=142


----
Modified: hudi-client/pom.xml|0 5
Modified: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|8 9
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|28 28
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|21 21
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|9 8
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|10 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|20 19
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|14 14
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|10 7
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|26 26
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|14 13
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|7 7

Revision: 2d5b79d96fa23571da5003fd4460d2d6d3998275
Author: hongdd <jn_hdd@163.com>
Date: 06/01/2020 22:51:22
Message:
[HUDI-438] Merge duplicated code fragment in HoodieSparkSqlWriter (#1114) #MsgLength=75


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|63 102

Revision: 8f935e779a7d9dd082d305b2c21fdf273c2ba338
Author: Pratyaksh Sharma <pratyakshsharma@FG2000257590.local>
Date: 03/01/2020 19:21:39
Message:
[HUDI-406]: added default partition path in TimestampBasedKeyGenerator #MsgLength=71


----
Modified: hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|11 17
Modified: hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|6 3

Revision: c78092d2d3660aadb270fc514a46f831e47c1340
Author: yuehan124 <yuehan124@163.com>
Date: 06/01/2020 15:21:55
Message:
[HUDI-501] Execute docker/setup_demo.sh in any directory #MsgLength=57


----
Modified: docker/setup_demo.sh|5 4
Modified: docker/stop_demo.sh|3 2

Revision: 75c3f630d4dadda24a95f5d65031e462561d47f1
Author: lamber-ken <lamberken@163.com>
Date: 02/01/2020 12:31:00
Message:
[HUDI-405] Remove HIVE_ASSUME_DATE_PARTITION_OPT_KEY config from DataSource #MsgLength=76


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|0 3
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|0 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|0 1

Revision: b5df6723a21e39fd7676921edb758afc7200c0c7
Author: Abhishek Modi <abhishek.modi95@gmail.com>
Date: 07/01/2020 08:32:55
Message:
[HUDI-464] Use Hive Exec Core for tests (#1125) #MsgLength=49


----
Modified: hudi-client/pom.xml|7 0
Modified: hudi-hadoop-mr/pom.xml|1 0
Modified: hudi-utilities/pom.xml|1 0
Modified: pom.xml|2 0

Revision: 8306f749a2bd3e8f2fff5034cdb6fd3773a881f8
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 07/01/2020 12:11:48
Message:
[HUDI-417] Refactor HoodieWriteClient so that commit logic can be shareable by both bootstrap and normal write operations (#1166) #MsgLength=131


----
Added: hudi-client/src/main/java/org/apache/hudi/AbstractHoodieWriteClient.java|421 0
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|30 336

Revision: 9706f659dba8f2abd501464a96254c052d100c72
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 08/01/2020 04:52:32
Message:
[HUDI-508] Standardizing on "Table" instead of "Dataset" across code (#1197) #MsgLength=361


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|6 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java [from hudi-cli/src/main/java/org/apache/hudi/cli/commands/DatasetsCommand.java]|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|1 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|10 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|11 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIOException.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/InvalidTableException.java [from hudi-common/src/main/java/org/apache/hudi/exception/InvalidDatasetException.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java [from hudi-common/src/main/java/org/apache/hudi/exception/DatasetNotFoundException.java]|10 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|5 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|5 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|4 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java|5 5
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|5 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|5 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|9 9
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|1 1
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|14 14
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|3 3
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|3 3
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 5
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|2 2
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|3 3
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|88 88

Revision: 9884972a3a1d1158b657e2f012a886b319f99002
Author: lamber-ken <lamberken@163.com>
Date: 08/01/2020 08:45:19
Message:
[MINOR] Remove old jekyll config file (#1198) #MsgLength=47


----
Deleted: _config.yml|0 16

Revision: aba83876e7c20e8c2402c74c2465ef3ebc93ef85
Author: Wenning Ding <wenningd@amazon.com>
Date: 04/01/2020 04:36:14
Message:
Update deprecated HBase API #MsgLength=28


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|16 28

Revision: 480fc7869d4d69e1219bf278fd9a37f27ac260f6
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 09/01/2020 02:38:10
Message:
[HUDI-319] Add a new maven profile to generate unified Javadoc for all Java and Scala classes (#1195) #MsgLength=237


----
Modified: README.md|6 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|1 1
Modified: pom.xml|114 4

Revision: d09eacdc13b9f19f69a317c8d08bda69a43678bc
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 18/07/2019 02:51:49
Message:
[HUDI-25] Optimize HoodieInputformat.listStatus() for faster Hive incremental queries on Hoodie #MsgLength=433


----
Modified: hudi-hadoop-mr/pom.xml|12 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|25 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|192 94
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|139 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java|181 0
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieInputFormat.java]|52 16

Revision: 5af3dc6aedcfc8d7d4cd5da21300d9cfb92c16ba
Author: hongdd <jn_hdd@163.com>
Date: 09/01/2020 16:00:53
Message:
[HUDI-331]Fix java docs for all public apis in HoodieWriteClient (#1111) #MsgLength=74


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|63 17

Revision: 3c90d252cc464fbd4ec3554fc930e41a0fcaa29f
Author: pratyakshsharma <pratyaksh13@gmail.com>
Date: 09/01/2020 21:13:36
Message:
[HUDI-114]: added option to overwrite payload implementation in hoodie.properties file #MsgLength=87


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java [from hudi-spark/src/main/java/org/apache/hudi/BaseAvroPayload.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java [from hudi-spark/src/main/java/org/apache/hudi/OverwriteWithLatestAvroPayload.java]|9 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|11 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|16 7
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 0
Modified: hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|76 8

Revision: 04afac977d4bd615c217349083b5f86cfa8060c4
Author: leesf <490081539@qq.com>
Date: 09/01/2020 17:43:34
Message:
[HUDI-248] CLI doesn't allow rolling back a Delta commit #MsgLength=57


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|4 5

Revision: b95367d82a4e0c31a526cf8b292388355847e274
Author: Thinking <744417972@qq.com>
Date: 10/01/2020 16:29:51
Message:
[HUDI-469] Fix: HoodieCommitMetadata only show first commit insert rows. #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|2 1

Revision: e1031650833e3d359e00473884ceac272eac3afa
Author: lamber-ken <lamberken@163.com>
Date: 08/01/2020 11:12:10
Message:
[CLEAN] replace utf-8 constant with StandardCharsets.UTF_8 #MsgLength=59


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|3 2

Revision: 017ee8e66193fd7056c08ec1f36a1d9d6ee58969
Author: lamber-ken <lamberken@163.com>
Date: 12/01/2020 09:35:55
Message:
[MINOR] Fix partition typo (#1209) #MsgLength=38


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1

Revision: d9675c4ec0be3f342c30e17a4779c8319b207681
Author: lamber-ken <lamberken@163.com>
Date: 13/01/2020 02:48:52
Message:
[HUDI-522] Use the same version jcommander uniformly (#1214) #MsgLength=62


----
Modified: hudi-client/pom.xml|0 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Modified: hudi-timeline-service/pom.xml|0 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|0 1

Revision: ad50008a5946f15ee4ba4dd69ac514f11fed2034
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 13/01/2020 07:03:11
Message:
[HUDI-91][HUDI-12]Migrate to spark 2.4.4, migrate to spark-avro library instead of databricks-avro, add support for Decimal/Date types #MsgLength=518


----
Modified: LICENSE|6 16
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|2 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: hudi-spark/pom.xml|14 3
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|83 20
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|12 6
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 0
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|2 12
Modified: packaging/hudi-spark-bundle/pom.xml|0 6
Modified: pom.xml|6 14

Revision: 971c7d41bd912b0e00ae8606adbe36548e2c49b3
Author: harveyyue <yw_yuewei@126.com>
Date: 10/01/2020 15:22:44
Message:
[HUDI-322] DeltaSteamer should pick checkpoints off only deltacommits for MOR tables #MsgLength=85


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|11 2

Revision: a44c61b81356e93340710ccc0022e576b7b6e077
Author: openopen2 <a261049174@outlook.com>
Date: 13/01/2020 07:45:23
Message:
[HUDI-502] provide a custom time zone definition for TimestampBasedKeyGenerator (#1188) #MsgLength=89


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|4 0
Added: hudi-common/src/test/resources/timestamp-test-evolved.avsc|26 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|9 2
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java|83 0

Revision: c1f8acab344fa632f1cce6268d2fc765c45e8b22
Author: liujianhui <liujianhui@bytedance.com>
Date: 13/01/2020 19:16:32
Message:
[HUDI-526] fix the HoodieAppendHandle #MsgLength=38


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|5 0

Revision: fd8f1c70c07dec3e6670d460fcd887f9d5842b6d
Author: lamber-ken <lamberken@163.com>
Date: 14/01/2020 10:26:04
Message:
[MINOR] Reuse random object (#1222) #MsgLength=37


----
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 1

Revision: 2bb0c21a3dd29687e49d362ed34f050380ff47ae
Author: Mehrotra <uditme@amazon.com>
Date: 03/01/2020 08:16:27
Message:
Fix conversion of Spark struct type to Avro schema #MsgLength=99


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|10 3
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|1 1
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|3 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|2 2
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|14 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|14 1

Revision: 9b2944a9a261eb41bd841f080b5d9aeeec18589c
Author: lamber-ken <lamberken@163.com>
Date: 15/01/2020 11:27:53
Message:
[MINOR] Refactor unnecessary boxing inside TypedProperties code (#1227) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java|8 8

Revision: 87fdb769f0020414f500805838fbe5cb99159515
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/01/2020 12:10:26
Message:
Adding util methods to assist in adding deletion support to Quick Start #MsgLength=72


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|16 0

Revision: 2b2f23aa60bde21ab6ef2404ece1cbfa6ab1324c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 15/01/2020 12:32:20
Message:
Fixing delete util method #MsgLength=26


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|18 11

Revision: 2248fd9aea4d28f9c264d4bd6a4ead63c706b9b7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 16/01/2020 03:23:02
Message:
Fixing checkstyle issues #MsgLength=25


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1

Revision: 7aa3ce31e6a662af2da4584b881043061a216d2e
Author: lamber-ken <lamberken@163.com>
Date: 16/01/2020 08:30:14
Message:
[MINOR] Fix redundant judgment statement (#1231) #MsgLength=50


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|4 1

Revision: dd09abb56d9e4074f5c2558fcfd001a33570e98c
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date: 14/01/2020 04:40:06
Message:
[HUDI-335] Improvements to DiskBasedMap used by ExternalSpillableMap, for write and random/sequential read paths, by introducing bufferedRandmomAccessFile #MsgLength=155


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|5 3
Added: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|411 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|29 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java|3 2

Revision: 1daba24065959dcab3606836bd1d789b3d74cc15
Author: Scheller <bschelle@8c8590210d37.ant.amazon.com>
Date: 08/01/2020 08:51:28
Message:
Add GlobalDeleteKeyGenerator #MsgLength=162


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|1 0
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/ComplexKeyGenerator.java]|6 3
Added: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|74 0
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/KeyGenerator.java]|1 1
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/NonpartitionedKeyGenerator.java]|2 1
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/SimpleKeyGenerator.java]|3 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|64 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|1 1

Revision: b39458b008250f1a5bfe4316ce96fc3ec3cc7cfa
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/01/2020 12:42:30
Message:
[MINOR] Make constant fields final in HoodieTestDataGenerator (#1234) #MsgLength=71


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|20 19
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java|9 9
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|1 1

Revision: 8a3a50309b425d70df1b5753e06aa2b9ac2a004a
Author: lamber-ken <lamberken@163.com>
Date: 17/01/2020 03:14:39
Message:
[MINOR] Fix missing @Override annotation on BufferedRandomAccessFile method (#1236) #MsgLength=85


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|10 0

Revision: c2c0f6b13d5b72b3098ed1b343b0a89679f854b3
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 17/01/2020 15:58:47
Message:
[HUDI-509] Renaming code in sync with cWiki restructuring (#1212) #MsgLength=693


----
Modified: README.md|4 4
Modified: doap_HUDI.rdf|1 2
Modified: docker/demo/hive-batch1.commands|2 2
Modified: docker/demo/hive-batch2-after-compaction.commands|2 2
Modified: docker/demo/hive-table-check.commands|1 1
Modified: docker/demo/presto-batch1.commands|2 2
Modified: docker/demo/presto-batch2-after-compaction.commands|2 2
Modified: docker/demo/sparksql-batch1.commands|2 2
Modified: docker/demo/sparksql-batch2.commands|2 2
Modified: docker/demo/sparksql-incremental.commands|5 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|21 21
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieMergeOnReadTableCompactor.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieRealtimeTableCompactor.java]|9 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|15 14
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|10 10
Modified: hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java|12 12
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|9 9
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieBaseFile.java [from hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieDataFile.java]|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|55 55
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|9 9
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java [from hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDataFile.java]|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java|0 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|20 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java|5 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java|16 16
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/BaseFileDTO.java [from hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/DataFileDTO.java]|10 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileSliceDTO.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|70 70
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|16 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|30 30
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|12 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|63 62
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|7 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|8 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|2 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|10 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|10 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|3 0
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|48 38
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|50 51
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|2 2
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|51 47
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|6 7
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|11 8
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|22 13
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|60 7
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|8 8
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 4
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|8 8
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|2 2
Modified: hudi-spark/src/test/scala/TestDataSource.scala|6 6
Modified: hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|11 11
Renamed: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/BaseFileHandler.java [from hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/DataFileHandler.java]|25 25
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|7 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|7 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java|3 3

Revision: baa6b5e8899eb976b8b8cce92b1ba2cefaee8501
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 17/01/2020 17:21:44
Message:
[HUDI-537] Introduce `repair overwrite-hoodie-props` CLI command (#1241) #MsgLength=74


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|38 0

Revision: 0a07752dc03c51e16d7bb4239523b0181d819708
Author: Prashant Wason <pwason@uber.com>
Date: 14/01/2020 03:38:59
Message:
[HUDI-527] scalastyle-maven-plugin moved to pluginManagement as it is only used in hoodie-spark and hoodie-cli modules. #MsgLength=244


----
Modified: hudi-cli/pom.xml|7 0
Modified: hudi-spark/pom.xml|4 0
Modified: pom.xml|23 23

Revision: 923e2b4a1ef0645596eabcd41832cdf8acba4b9a
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/01/2020 02:56:35
Message:
[HUDI-535] Ensure Compaction Plan is always written in .aux folder to avoid 0.5.0/0.5.1 reader-writer compatibility issues (#1229) #MsgLength=132


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|21 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|29 1

Revision: 292c1e2ff436a711cbbb53ad9b1f6232121d53ec
Author: wenningd <wenningding95@gmail.com>
Date: 18/01/2020 06:02:21
Message:
[HUDI-238] Make Hudi support Scala 2.12 (#1226) #MsgLength=137


----
Modified: LICENSE|2 0
Added: dev/change-scala-version.sh|66 0
Modified: docker/demo/config/kafka-source.properties|2 2
Modified: docker/hoodie/hadoop/hive_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: hudi-cli/pom.xml|9 3
Modified: hudi-client/pom.xml|2 2
Modified: hudi-integ-test/pom.xml|2 2
Modified: hudi-spark/pom.xml|13 6
Modified: hudi-spark/run_hoodie_app.sh|1 1
Modified: hudi-utilities/pom.xml|29 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|9 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|8 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|43 77
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|11 11
Modified: hudi-utilities/src/test/resources/delta-streamer-config/kafka-source.properties|2 2
Modified: packaging/hudi-spark-bundle/pom.xml|6 6
Modified: packaging/hudi-utilities-bundle/pom.xml|9 9
Modified: pom.xml|44 6

Revision: 5471d8f0c2ed43435622069bee8b68a8ba5141f4
Author: leesf <490081539@qq.com>
Date: 18/01/2020 09:22:55
Message:
[MINOR] Add toString method to TimelineLayoutVersion to make it more readable (#1244) #MsgLength=87


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java|5 0

Revision: 3f4966ddeaef02ee95a5e873387dad0c81c14fb6
Author: Suneel Marthi <smarthi@apache.org>
Date: 19/01/2020 00:03:29
Message:
[MINOR] Fix PMC in DOAP] (#1247) #MsgLength=34


----
Modified: doap_HUDI.rdf|1 1

Revision: d0ee95ed16de6c3568f575169cb993b9c10ced3d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/01/2020 08:40:56
Message:
[HUDI-552] Fix the schema mismatch in Row-to-Avro conversion (#1246) #MsgLength=72


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|13 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|12 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|74 2

Revision: 9489d0fb844208443a18964be878102e9560bd0d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/01/2020 18:50:12
Message:
[HUDI-551] Abstract a test case class for DFS Source to make it extensible (#1239) #MsgLength=84


----
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java|178 0
Deleted: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDFSSource.java|0 194
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java|55 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|53 0

Revision: 7087e7d7668e39e5c0ce98c965750d228481748f
Author: leesf <490081539@qq.com>
Date: 19/01/2020 19:13:43
Message:
[HUDI-556] Add lisence for PR#1233 #MsgLength=35


----
Modified: LICENSE|10 0

Revision: ba54a7e9731a8371a8a85e04570d2c951a74ce53
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 20/01/2020 10:51:56
Message:
[HUDI-559] : Make the timeline layout version default to be null version #MsgLength=73


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|8 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|5 1

Revision: 6e59c1c77798e53f74f581856a3609239f50a877
Author: leesf <490081539@qq.com>
Date: 20/01/2020 18:57:26
Message:
Moving to 0.5.2-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hive/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 924bf514e27f126c5fa9a8beca5f3011f4d646ac
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 21/01/2020 09:20:47
Message:
[MINOR] Download KEYS file when validating release candidate (#1259) #MsgLength=70


----
Modified: scripts/release/validate_staged_release.sh|3 0

Revision: b6e2993ceb03d7bf17a08ef3c6698df5b21954a7
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 21/01/2020 15:50:40
Message:
[MINOR] Update the javadoc of HoodieTableMetaClient#scanFiles (#1263) #MsgLength=136


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|9 1

Revision: a54535ed5a0247854660ace3a022db4891c6966d
Author: lamber-ken <lamberken@163.com>
Date: 21/01/2020 20:41:59
Message:
[MINOR] Fix invalid maven repo address (#1265) #MsgLength=48


----
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|1 1

Revision: a46fea9ff46342f6bba7c1c26e8c2354b1307a1f
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/01/2020 14:19:47
Message:
[MINOR] Change deploy_staging_jars script to take in scala version (#1269) #MsgLength=76


----
Modified: scripts/release/deploy_staging_jars.sh|17 3

Revision: 8e3d81cff118f81a29e286053ba48a1a33eb658c
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 22/01/2020 14:28:30
Message:
[MINOR] Change deploy_staging_jars script to take in scala version (#1270) #MsgLength=76


----
Modified: scripts/release/deploy_staging_jars.sh|1 1

Revision: ed54eb20a5c9c82c348bc39387ef73f835ad6821
Author: leesf <490081539@qq.com>
Date: 22/01/2020 21:06:45
Message:
[MINOR] Add missing licenses (#1271) #MsgLength=38


----
Modified: docker/demo/presto-batch1.commands|18 0
Modified: docker/demo/presto-batch2-after-compaction.commands|18 0
Modified: docker/demo/presto-table-check.commands|18 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|18 0

Revision: fc8d4a71add3b27e7b3b07a1c513bdc223c640a0
Author: leesf <490081539@qq.com>
Date: 23/01/2020 02:03:49
Message:
[MINOR] fix license issue (#1273) #MsgLength=35


----
Modified: docker/demo/presto-batch1.commands|17 17
Modified: docker/demo/presto-batch2-after-compaction.commands|17 17
Modified: docker/demo/presto-table-check.commands|17 17

Revision: 1e79cbc259b92f75e5fd387c0271b163532aebb9
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 23/01/2020 15:43:50
Message:
[HUDI-549] update Github README with instructions to build with Scala 2.12 (#1275) #MsgLength=84


----
Modified: README.md|10 0

Revision: cdb028f1f3493123310acd6fce59fd251a4fddd9
Author: lamber-ken <lamberken@163.com>
Date: 23/01/2020 00:45:14
Message:
[MINOR] Fix missing groupId / version property of dependency #MsgLength=61


----
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 0
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 0
Modified: hudi-integ-test/pom.xml|1 1
Modified: pom.xml|10 0

Revision: 56a4e0d56c226781d3dd1beb42af1efa77199ccd
Author: lamber-ken <lamberken@163.com>
Date: 27/01/2020 16:53:03
Message:
[MINOR] Fix invalid issue url & quickstart url (#1282) #MsgLength=56


----
Modified: README.md|1 1
Modified: pom.xml|1 1

Revision: 362a9b9aab9a3f8bed0ac3a8c9e0ac5c2f487f32
Author: hmatu <3480388484@qq.com>
Date: 26/01/2020 20:08:07
Message:
[MINOR] Remove junit-dep dependency #MsgLength=36


----
Modified: hudi-common/pom.xml|6 0
Modified: pom.xml|0 1

Revision: c06ec8bfc78fa9fed966c3d5bbb0ebc65e8771de
Author: lamber-ken <lamberken@163.com>
Date: 30/01/2020 06:18:35
Message:
[MINOR] Fix assigning to configuration more times (#1291) #MsgLength=59


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|19 22

Revision: 6f34be1b8dd55304317c40565dad23c09ddda5bf
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date: 29/01/2020 07:53:57
Message:
HUDI-117 Close file handle before throwing an exception due to append failure. Add test cases to handle/verify stage failure scenarios. #MsgLength=136


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|41 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|93 0

Revision: 652224edc882c083ac46cff095324975e2457004
Author: leesf <490081539@qq.com>
Date: 30/01/2020 08:26:26
Message:
[HUDI-578] Trim recordKeyFields and partitionPathFields in ComplexKeyGenerator (#1281) #MsgLength=185


----
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|5 2
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|11 0

Revision: f27c7a16c6d437efaa83e50a7117b83e5201ac49
Author: Prashant Wason <pwason@uber.com>
Date: 28/01/2020 07:31:36
Message:
[HUDI-564] Added new test cases for HoodieLogFormat and HoodieLogFormatVersion. #MsgLength=80


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|33 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatVersion.java|84 0

Revision: 5b7bb142dc6712c41fd8ada208ab3186369431f9
Author: Suneel Marthi <smarthi@apache.org>
Date: 02/02/2020 18:03:44
Message:
[HUDI-583] Code Cleanup, remove redundant code, and other changes (#1237) #MsgLength=75


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|9 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java|14 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TimelineLayout.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|4 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|92 96
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|20 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java|1 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|6 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|3 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|4 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|1 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|23 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|47 57
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|2 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|11 13
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|36 50
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|6 12
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|3 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|7 18
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|3 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|5 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|3 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|5 11
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|19 27
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|6 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|5 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|8 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|6 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|3 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|21 24
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|1 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java|1 2

Revision: 00262340115986676fef8bbda0b8f08000c06442
Author: Suneel Marthi <smarthi@apache.org>
Date: 02/02/2020 22:13:24
Message:
[MINOR] Updated DOAP with 0.5.1 release (#1300) #MsgLength=49


----
Modified: doap_HUDI.rdf|5 0

Revision: fcf9e4aded13a1a6306d6cbbc26d7f71ecbf08a9
Author: Suneel Marthi <smarthi@apache.org>
Date: 02/02/2020 22:41:30
Message:
[MINOR] Updated DOAP with 0.5.1 release (#1301) #MsgLength=49


----
Modified: doap_HUDI.rdf|1 1

Revision: d07ac588ac30e80f59522d51e939cc125edcff52
Author: Satish Kotha <satishkotha@uber.com>
Date: 01/02/2020 09:17:03
Message:
Increase test coverage for HoodieReadClient #MsgLength=44


----
Modified: hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java|28 21
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java|38 0

Revision: 347e297ac19ed55172e84e13075e19ce060954c6
Author: dengziming <dengziming1993@gmail.com>
Date: 04/02/2020 15:42:21
Message:
[HUDI-596] Close KafkaConsumer every time (#1303) #MsgLength=51


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|26 24

Revision: 594da28fbf64fb20432e718a409577fd10516c4a
Author: Suneel Marthi <smarthi@apache.org>
Date: 04/02/2020 21:52:03
Message:
[HUDI-595] code cleanup, refactoring code out of PR# 1159 (#1302) #MsgLength=67


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|5 18
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|7 10
Modified: hudi-client/src/test/java/org/apache/hudi/TestCleaner.java|19 18
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|4 10
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|32 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|1 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|14 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|6 20
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|4 5
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|2 3
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|13 18
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 3
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|3 8
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|29 29
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|3 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|8 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|2 5

Revision: 4de0fcfcb54ac76ed3b6852917588c32fec9bea8
Author: Prashant Wason <pwason@uber.com>
Date: 28/01/2020 07:38:33
Message:
[HUDI-566] Added new test cases for class HoodieTimeline, HoodieDefaultTimeline and HoodieActiveTimeline. #MsgLength=106


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|275 1

Revision: 425e3e6c78b9be00fc3fecfc335c94e05a1c70e5
Author: lamber-ken <lamberken@163.com>
Date: 05/02/2020 23:13:10
Message:
[HUDI-585] Optimize the steps of building with scala-2.12 (#1293) #MsgLength=67


----
Modified: LICENSE|0 2
Modified: README.md|2 4
Deleted: dev/change-scala-version.sh|0 66
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|5 0

Revision: 46842f4e92202bca9a3a4f972f481c93ccc29a3c
Author: lamber-ken <lamberken@163.com>
Date: 05/02/2020 23:23:20
Message:
[MINOR] Remove the declaration of thrown RuntimeException (#1305) #MsgLength=67


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|13 26
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java|1 2
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|1 1

Revision: c1516df8ac55757ebd07d8aa459a0ceedeccab7b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/02/2020 01:33:33
Message:
[HUDI-499] Allow update partition path with GLOBAL_BLOOM (#1187) #MsgLength=318


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|18 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|20 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|89 0

Revision: 462fd025563b0ae8a4d4f28d366a9bbfca070d3f
Author: Satish Kotha <satishkotha@uber.com>
Date: 23/01/2020 05:50:34
Message:
[HUDI-571] Add 'commits show archived' command to CLI #MsgLength=54


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|86 19
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|41 32
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|0 89
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|169 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|79 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|0 35

Revision: 1fb0b001a38ddc940995e45f5cd53701d0110c3b
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date: 05/02/2020 05:14:47
Message:
[HUDI-570] - Improve test coverage for FSUtils.java #MsgLength=52


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|96 3

Revision: d26dc0b229043afa5aefca239e72f40d80446917
Author: Prashant Wason <pwason@uber.com>
Date: 01/02/2020 02:50:27
Message:
[HUDI-587] Fixed generation of jacoco coverage reports. #MsgLength=241


----
Modified: pom.xml|1 6

Revision: 5fdf5a192706d8c8a0432297cca1e6e097de0e58
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 10/02/2020 10:04:58
Message:
[HUDI-560] Remove legacy IdentityTransformer (#1264) #MsgLength=54


----
Deleted: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/IdentityTransformer.java|0 38

Revision: 578efa2a0778f1d747c24e7ee3ca321acaab8024
Author: RickyRajinder <singh.sangh@gmail.com>
Date: 11/02/2020 07:50:23
Message:
[HUDI-582] Update NOTICE year #MsgLength=30


----
Modified: NOTICE|1 1

Revision: e5a69ed6af18a3af131323b2297aae6c052ebc72
Author: lamber-ken <lamberken@163.com>
Date: 12/02/2020 08:34:00
Message:
[HUDI-478] Fix too many files with unapproved license when execute build_local_docker_images (#1323) #MsgLength=102


----
Modified: pom.xml|1 0

Revision: d2c872ede47bf532193b208a8924932c7e1f7741
Author: lamber-ken <lamberken@163.com>
Date: 12/02/2020 19:40:52
Message:
[HUDI-605] Avoid calculating the size of schema redundantly (#1317) #MsgLength=69


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|5 5

Revision: 63b42166b1af49671110283a3982de990abcf687
Author: Satish Kotha <satishkotha@uber.com>
Date: 11/02/2020 02:27:08
Message:
CLI - add option to print additional commit metadata #MsgLength=53


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|63 3

Revision: 01c868ab86e33161b03d422c03af41f01947ea06
Author: lamber-ken <lamberken@163.com>
Date: 13/02/2020 22:20:58
Message:
[HUDI-574] Fix CLI counts small file inserts as updates (#1321) #MsgLength=65


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 1

Revision: 175de0db7b5687e5f8602ccaf97dadd7758287e0
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 14/02/2020 02:46:10
Message:
[MINOR] Fix typo (#1331) #MsgLength=26


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java|1 1

Revision: dfbee673ef63c7305e131d5dfa17b304b128917f
Author: openopen2 <a261049174@outlook.com>
Date: 14/02/2020 10:06:06
Message:
[HUDI-514] A schema provider to get metadata through Jdbc (#1200) #MsgLength=67


----
Modified: hudi-utilities/pom.xml|7 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|100 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java|84 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java|88 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|9 3
Added: hudi-utilities/src/test/resources/delta-streamer-config/source-jdbc.avsc|59 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/triprec.sql|28 0
Modified: pom.xml|1 0

Revision: 20ed2516d38b9ce4b3e185bd89b62264b8bd3f25
Author: Satish Kotha <satishkotha@uber.com>
Date: 23/01/2020 05:50:34
Message:
[HUDI-571] Add show archived compaction(s) to CLI #MsgLength=50


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|3 10
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|190 57
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|23 0

Revision: aaa6cf9a989e88d3273cc0a9fffc1eaa8a6e6b92
Author: wangxianghu <wxhjsxz@126.com>
Date: 15/02/2020 08:55:23
Message:
[MINOR] Fix some typos #MsgLength=23


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: 24e73816b2b50af518576907379bf9202d6b8dd2
Author: Suneel Marthi <smarthi@apache.org>
Date: 15/02/2020 22:03:29
Message:
[MINOR] Code Cleanup, remove redundant code (#1337) #MsgLength=53


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|7 6
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java|37 36
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|0 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|7 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|7 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|2 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|25 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|25 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|9 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|3 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|4 4
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|4 10
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|5 5
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java|6 7

Revision: b8f9d0ec4548a2487914c4cc982fc5e1f4e0c88c
Author: Suneel Marthi <smarthi@apache.org>
Date: 17/02/2020 14:13:33
Message:
[HUDI-615]: Add some methods and test cases for StringUtils. (#1338) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|27 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|64 0

Revision: 00493235f5f2b14709199dd6ef02bad9c0d3bab9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/02/2020 03:12:20
Message:
[HUDI-108] Removing 2GB spark partition limitations in HoodieBloomIndex with spark 2.4.4 (#1315) #MsgLength=98


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|13 59

Revision: 8c6138cb01997e0ef35c396b2048cf956b53d28f
Author: Mathieu <49835526+wangxianghu@users.noreply.github.com>
Date: 19/02/2020 03:15:02
Message:
[MINOR] Add javadoc to SchedulerConfGenerator and code clean (#1340) #MsgLength=70


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|28 8

Revision: c2b08cdfc9b762801a63fee988f1c24cc17df4ce
Author: amitsingh-10 <51735639+amitsingh-10@users.noreply.github.com>
Date: 19/02/2020 03:19:44
Message:
[HUDI-617] Add support for types implementing CharSequence (#1339) #MsgLength=397


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|1 1

Revision: f9d2f66dc16540e3e5c1cb1f7f23b4fca7c656c3
Author: Suneel Marthi <smarthi@apache.org>
Date: 20/02/2020 15:17:53
Message:
[HUDI-622]: Remove VisibleForTesting annotation and import from code (#1343) #MsgLength=146


----
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java|0 3
Modified: hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java|0 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|0 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|0 4
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|0 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|0 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|0 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java|0 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|0 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalFilter.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|0 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|0 5
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|0 2

Revision: 185ff646ad6979722a3f1c4b34d87c7f98bd87e4
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 24/01/2020 15:34:22
Message:
Refactoring getter to avoid double extrametadata in json representation #MsgLength=72


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|6 6

Revision: 078d4825d909b2c469398f31c97d2290687321a8
Author: Suneel Marthi <smarthi@apache.org>
Date: 21/02/2020 14:22:21
Message:
[HUDI-624]: Split some of the code from PR for HUDI-479 (#1344) #MsgLength=65


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|5 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|5 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|4 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java|0 1
Modified: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|11 11
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|1 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|18 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|0 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|2 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|9 12
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java|16 12
Modified: hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|4 4
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 2
Modified: hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java|8 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|5 4

Revision: 4e7fcde4a6c69a070987fb97d978564f105ce547
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date: 25/02/2020 03:46:30
Message:
[HUDI-597] Enable incremental pulling from defined partitions (#1348) #MsgLength=71


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|8 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|15 3
Modified: hudi-spark/src/test/scala/TestDataSource.scala|9 0

Revision: 83c8ad5a38e1b561d501d0dcbcbd39fb02638054
Author: lamber-ken <lamberken@163.com>
Date: 25/02/2020 14:40:37
Message:
[HUDI-625] Fixing performance issues around DiskBasedMap & kryo (#1352) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|3 42

Revision: 11fb2c26145f672d36a3491366c05caf3a23fde8
Author: lamber-ken <lamberken@163.com>
Date: 25/02/2020 21:43:20
Message:
[HUDI-580] Fix incorrect license header in files #MsgLength=49


----
Modified: docker/build_local_docker_images.sh|0 2
Modified: docker/compose/hadoop.env|1 2
Modified: docker/demo/compaction.commands|1 2
Modified: docker/demo/config/base.properties|1 2
Modified: docker/demo/config/dfs-source.properties|1 2
Modified: docker/demo/config/kafka-source.properties|1 2
Modified: docker/demo/get_min_commit_time.sh|1 2
Modified: docker/demo/hive-batch1.commands|1 2
Modified: docker/demo/hive-batch2-after-compaction.commands|1 2
Modified: docker/demo/hive-incremental.commands|1 2
Modified: docker/demo/hive-table-check.commands|1 2
Modified: docker/demo/setup_demo_container.sh|1 2
Modified: docker/hoodie/hadoop/base/Dockerfile|1 2
Modified: docker/hoodie/hadoop/base/entrypoint.sh|0 2
Modified: docker/hoodie/hadoop/base/export_container_ip.sh|1 2
Modified: docker/hoodie/hadoop/datanode/Dockerfile|1 2
Modified: docker/hoodie/hadoop/datanode/run_dn.sh|0 2
Modified: docker/hoodie/hadoop/historyserver/Dockerfile|1 2
Modified: docker/hoodie/hadoop/historyserver/run_history.sh|0 2
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|1 2
Modified: docker/hoodie/hadoop/hive_base/conf/beeline-log4j2.properties|1 2
Modified: docker/hoodie/hadoop/hive_base/conf/hive-env.sh|1 2
Modified: docker/hoodie/hadoop/hive_base/conf/hive-exec-log4j2.properties|1 2
Modified: docker/hoodie/hadoop/hive_base/conf/hive-log4j2.properties|1 2
Modified: docker/hoodie/hadoop/hive_base/conf/llap-daemon-log4j2.properties|1 2
Modified: docker/hoodie/hadoop/hive_base/entrypoint.sh|0 2
Modified: docker/hoodie/hadoop/hive_base/startup.sh|0 2
Modified: docker/hoodie/hadoop/namenode/Dockerfile|1 2
Modified: docker/hoodie/hadoop/namenode/run_nn.sh|0 2
Modified: docker/hoodie/hadoop/prestobase/Dockerfile|1 2
Modified: docker/hoodie/hadoop/prestobase/bin/entrypoint.sh|0 2
Modified: docker/hoodie/hadoop/prestobase/bin/mustache.sh|0 2
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/hive.properties|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/jmx.properties|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/catalog/localfile.properties|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/coordinator.properties.mustache|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/jvm.config.mustache|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/log.properties|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/node.properties.mustache|2 2
Modified: docker/hoodie/hadoop/prestobase/etc/worker.properties.mustache|2 2
Modified: docker/hoodie/hadoop/prestobase/lib/mustache.sh|1 2
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|1 2
Modified: docker/hoodie/hadoop/spark_base/execute-step.sh|0 2
Modified: docker/hoodie/hadoop/spark_base/finish-step.sh|0 2
Modified: docker/hoodie/hadoop/spark_base/wait-for-step.sh|0 2
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|1 2
Modified: docker/hoodie/hadoop/sparkadhoc/adhoc.sh|0 2
Modified: docker/hoodie/hadoop/sparkmaster/Dockerfile|1 2
Modified: docker/hoodie/hadoop/sparkmaster/master.sh|0 2
Modified: docker/hoodie/hadoop/sparkworker/Dockerfile|1 2
Modified: docker/hoodie/hadoop/sparkworker/worker.sh|0 2
Modified: docker/setup_demo.sh|0 2
Modified: docker/stop_demo.sh|0 2
Modified: hudi-cli/conf/hudi-env.sh|0 2
Modified: hudi-cli/hudi-cli.sh|0 2
Modified: hudi-hive/run_sync_tool.sh|0 2
Modified: hudi-spark/run_hoodie_app.sh|0 2
Modified: hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|1 2
Modified: packaging/hudi-timeline-server-bundle/run_server.sh|1 2
Modified: scripts/run_travis_tests.sh|0 2

Revision: 323fffad0dccf0ca5cb4e533e7fbcd2a2bcfaf3b
Author: lamber-ken <lamberken@163.com>
Date: 12/02/2020 13:29:13
Message:
[HUDI-606] Improve execute build_local_docker_images.sh script #MsgLength=63


----
Modified: docker/build_local_docker_images.sh|4 1

Revision: b7f35be452078f2941fb98a310b385c3afd971fc
Author: Ramachandran M S <msramachandran@ymail.com>
Date: 27/02/2020 02:55:02
Message:
[HUDI-618] Adding unit tests for PriorityBasedFileSystemView (#1345) #MsgLength=130


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|9 29
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|626 0

Revision: cacd9a33222d28c905891362312545230b6d30b9
Author: lamber-ken <lamberken@163.com>
Date: 27/02/2020 13:36:47
Message:
[HUDI-636] Fix could not get sources warnings while compiling (#1357) #MsgLength=71


----
Modified: pom.xml|13 0

Revision: 71170fafe77e11ea1a458a38e3395a471d94a047
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 28/02/2020 00:05:58
Message:
[HUDI-554] Cleanup package structure in hudi-client (#1346) #MsgLength=573


----
Modified: LICENSE|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java [from hudi-client/src/main/java/org/apache/hudi/AbstractHoodieClient.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java [from hudi-client/src/main/java/org/apache/hudi/AbstractHoodieWriteClient.java]|2 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java [from hudi-client/src/main/java/org/apache/hudi/CompactionAdminClient.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java [from hudi-client/src/main/java/org/apache/hudi/HoodieCleanClient.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java [from hudi-client/src/main/java/org/apache/hudi/HoodieReadClient.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java [from hudi-client/src/main/java/org/apache/hudi/HoodieWriteClient.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/client/WriteStatus.java [from hudi-client/src/main/java/org/apache/hudi/WriteStatus.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java [from hudi-client/src/main/java/org/apache/hudi/func/LazyIterableIterator.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/client/utils/ParquetReaderIterator.java [from hudi-client/src/main/java/org/apache/hudi/func/ParquetReaderIterator.java]|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java [from hudi-client/src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java [from hudi-client/src/main/java/org/apache/hudi/func/CopyOnWriteLazyInsertIterable.java]|3 2
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java [from hudi-client/src/main/java/org/apache/hudi/func/MergeOnReadLazyInsertIterable.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java [from hudi-client/src/main/java/org/apache/hudi/func/SparkBoundedInMemoryExecutor.java]|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java]|4 5
Renamed: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieCommitArchiveLog.java]|1 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|8 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieCompactor.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieCompactor.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/HoodieMergeOnReadTableCompactor.java]|3 3
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/OperationResult.java [from hudi-client/src/main/java/org/apache/hudi/func/OperationResult.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedIOCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedIOCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/BoundedPartitionAwareCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/CompactionStrategy.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/DayBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/LogFileSizeBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/LogFileSizeBasedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/UnBoundedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/io/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java]|5 6
Renamed: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackRequest.java [from hudi-client/src/main/java/org/apache/hudi/table/RollbackRequest.java]|4 2
Modified: hudi-client/src/test/java/HoodieClientExample.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java [from hudi-client/src/test/java/org/apache/hudi/TestClientRollback.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java [from hudi-client/src/test/java/org/apache/hudi/TestCompactionAdminClient.java]|5 5
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java [from hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java]|28 11
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java [from hudi-client/src/test/java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java]|3 3
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java [from hudi-client/src/test/java/org/apache/hudi/TestHoodieReadClient.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java [from hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java]|2 1
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java [from hudi-client/src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java]|10 14
Renamed: hudi-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java [from hudi-client/src/test/java/org/apache/hudi/TestWriteStatus.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/client/utils/TestParquetReaderIterator.java [from hudi-client/src/test/java/org/apache/hudi/func/TestParquetReaderIterator.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java [from hudi-client/src/test/java/org/apache/hudi/HoodieClientTestHarness.java]|2 4
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java [from hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryExecutor.java]|4 4
Renamed: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java [from hudi-client/src/test/java/org/apache/hudi/func/TestBoundedInMemoryQueue.java]|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|1 1
Deleted: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieBaseFile.java|0 57
Deleted: hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieLogFile.java|0 47
Renamed: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java [from hudi-client/src/test/java/org/apache/hudi/TestCleaner.java]|6 3
Renamed: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java [from hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java]|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|4 4
Renamed: hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java [from hudi-client/src/test/java/org/apache/hudi/TestAsyncCompaction.java]|5 1
Renamed: hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java [from hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCompactor.java]|4 4
Renamed: hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java [from hudi-client/src/test/java/org/apache/hudi/io/strategy/TestHoodieCompactionStrategy.java]|61 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|16 6
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|3 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|2 2

Revision: acf359c834bc1d9b9c4ea64d362ea20c7410c70a
Author: Ramachandran M S <mramachandran@uber.com>
Date: 28/02/2020 05:54:20
Message:
[HUDI-627] Aggregate code coverage and publish to codecov.io during CI (#1347) #MsgLength=80


----
Modified: .travis.yml|2 0
Modified: hudi-hadoop-mr/pom.xml|4 0
Modified: hudi-hive/pom.xml|4 0
Modified: hudi-spark/pom.xml|4 0
Modified: hudi-timeline-service/pom.xml|4 0
Modified: packaging/hudi-spark-bundle/pom.xml|23 0
Modified: pom.xml|2 7

Revision: 0cde27e63c2cf9b70f24f0ae6b63fad9259b28d3
Author: leesf <490081539@qq.com>
Date: 01/03/2020 14:30:32
Message:
[HUDI-599] Update release guide & release scripts due to the change of scala 2.12 build (#1364) #MsgLength=97


----
Modified: scripts/release/deploy_staging_jars.sh|1 1

Revision: 9160084bb147552d670235d27ecb198239ee32e5
Author: vinoyang <yanghua1127@gmail.com>
Date: 01/03/2020 14:34:15
Message:
[MINOR] Fix cut_release_branch script missed a double quotation marks (#1365) #MsgLength=79


----
Modified: scripts/release/cut_release_branch.sh|1 1

Revision: 0dc8e493aa1658910a3519df3941278d9d072c18
Author: yanghua <yanghua1127@gmail.com>
Date: 01/03/2020 15:08:30
Message:
Moving to 0.6.0-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hive/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 2d040145810b8b14c59c5882f9115698351039d1
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 02/03/2020 02:42:58
Message:
[HUDI-607] Fix to allow creation/syncing of Hive tables partitioned by Date type columns (#1330) #MsgLength=98


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|39 1
Added: hudi-spark/src/test/java/DataSourceUtilsTest.java|61 0

Revision: 8306205d7abb0acbb73a1d178e3eb90f2bc29a5e
Author: hongdd <jn_hdd@163.com>
Date: 04/03/2020 02:10:29
Message:
[HUDI-332]Add operation type (insert/upsert/bulkinsert/delete) to HoodieCommitMetadata (#1157) #MsgLength=190


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|13 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|17 9
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|18 0
Modified: hudi-common/src/main/avro/HoodieCommitMetadata.avsc|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|10 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|72 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|22 0
Added: hudi-common/src/test/resources/old-version.commit|20 0
Modified: pom.xml|1 0

Revision: 9d46ce380a3929605b3838238e8aa07a9918ab7a
Author: Ramachandran M S <mramachandran@uber.com>
Date: 04/03/2020 05:26:54
Message:
[HUDI -409] Match header and footer block length to improve corrupted block detection (#1332) #MsgLength=95


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|15 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|18 3

Revision: 5f85c267040fd51c186794fdae900162ab176b14
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 05/03/2020 03:01:49
Message:
[HUDI-584] Relocate spark-avro dependency by maven-shade-plugin (#1290) #MsgLength=73


----
Modified: README.md|21 0
Modified: packaging/hudi-spark-bundle/pom.xml|20 2
Modified: pom.xml|2 0

Revision: ccbf543607db2c3479094a3216f733f6844b6f06
Author: lamber-ken <lamberken@163.com>
Date: 04/03/2020 22:45:44
Message:
[HUDI-654] Rename hudi-hive to hudi-hive-sync #MsgLength=46


----
Modified: docker/demo/setup_demo_container.sh|1 1
Modified: hudi-cli/pom.xml|1 1
Renamed: hudi-hive-sync/pom.xml [from hudi-hive/pom.xml]|1 1
Renamed: hudi-hive-sync/run_sync_tool.sh [from hudi-hive/run_sync_tool.sh]|0 0
Renamed: hudi-hive-sync/src/assembly/src.xml [from hudi-hive/src/assembly/src.xml]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java [from hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java [from hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java [from hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java [from hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java [from hudi-hive/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java [from hudi-hive/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java [from hudi-hive/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java [from hudi-hive/src/main/java/org/apache/hudi/hive/SchemaDifference.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java [from hudi-hive/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java [from hudi-hive/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java]|0 0
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java [from hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java]|0 0
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java [from hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java]|0 0
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java [from hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java]|0 0
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java [from hudi-hive/src/test/java/org/apache/hudi/hive/util/HiveTestService.java]|0 0
Renamed: hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties [from hudi-hive/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-hive-sync/src/test/resources/log4j-surefire.properties [from hudi-hive/src/test/resources/log4j-surefire.properties]|0 0
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-utilities/pom.xml|2 2
Modified: packaging/hudi-hive-bundle/pom.xml|2 2
Modified: packaging/hudi-spark-bundle/pom.xml|2 2
Modified: packaging/hudi-utilities-bundle/pom.xml|2 2
Modified: pom.xml|1 1

Revision: 3d3781810c2fd28c85407b04aad08fc2a85174dc
Author: Satish Kotha <satishkotha@uber.com>
Date: 13/02/2020 03:23:40
Message:
[CLI] Add export to table #MsgLength=26


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|11 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|30 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|29 13
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java|55 0
Added: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|134 0
Added: hudi-cli/src/main/java/org/apache/hudi/cli/utils/TempViewProvider.java|29 0

Revision: ee5b32f5d4aa26e7fc58ccdae46935f063460920
Author: vinoyang <yanghua1127@gmail.com>
Date: 07/03/2020 01:59:35
Message:
[HUDI-652] Decouple HoodieReadClient and AbstractHoodieClient to break the inheritance chain (#1372) #MsgLength=166


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|4 5
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|31 32
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|41 41
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java|10 15
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 1

Revision: 170ee884578a85db53b87cee87f5208083f142aa
Author: lamber-ken <lamberken@163.com>
Date: 07/03/2020 17:27:40
Message:
[HUDI-553] Building/Running Hudi on higher java versions (#1369) #MsgLength=66


----
Modified: hudi-cli/pom.xml|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/HoodieDynamicBoundedBloomFilter.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java|3 4
Added: hudi-common/src/main/java/org/apache/hudi/common/util/Base64CodecUtil.java|46 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestBase64CodecUtil.java|47 0
Modified: hudi-spark/pom.xml|5 0
Modified: pom.xml|1 1

Revision: 90227eeda757516abdd06b436ae08a4adacc28e1
Author: lamber-ken <lamberken@163.com>
Date: 07/03/2020 15:55:31
Message:
[HUDI-673] Rename hudi-hive-bundle to hudi-hive-sync-bundle #MsgLength=60


----
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: hudi-hive-sync/run_sync_tool.sh|1 1
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|2 2
Renamed: packaging/hudi-hive-sync-bundle/pom.xml [from packaging/hudi-hive-bundle/pom.xml]|1 1
Renamed: packaging/hudi-hive-sync-bundle/src/main/java/org/apache/hudi/hive/bundle/Main.java [from packaging/hudi-hive-bundle/src/main/java/org/apache/hudi/hive/bundle/Main.java]|0 0
Modified: pom.xml|1 1

Revision: fdcd3b18b63d54e4b468a62d92c27497398d67ac
Author: Aki Tanaka <tanakah@amazon.com>
Date: 08/03/2020 06:22:19
Message:
[HUDI-680] Update Jackson databind to 2.6.7.3 (#1385) #MsgLength=55


----
Modified: pom.xml|1 1

Revision: 5f8bf970058d5915af1910dbf917a33356d06af2
Author: Prashant Wason <pwason@uber.com>
Date: 08/03/2020 08:48:43
Message:
[HUDI-671] Added unit-test for HBaseIndex (#1381) #MsgLength=51


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|129 4

Revision: 415882f9023795994e9cc8a8294909bbec7ab191
Author: Suneel Marthi <smarthi@apache.org>
Date: 08/03/2020 11:08:35
Message:
[HUDI-581] NOTICE need more work as it missing content form included 3rd party ALv2 licensed NOTICE files (#1354) #MsgLength=270


----
Modified: NOTICE|82 1

Revision: 2137ecfa2296b1b2d281fcd2d2a35a9282d2b477
Author: vinoyang <yanghua1127@gmail.com>
Date: 09/03/2020 14:14:49
Message:
[HUDI-676] Address issues towards removing use of WIP Disclaimer (#1386) #MsgLength=116


----
Added: DISCLAIMER|10 0
Deleted: DISCLAIMER-WIP|0 26
Modified: pom.xml|1 1
Modified: scripts/release/validate_staged_release.sh|4 4

Revision: f93e64fee413ed1b774156e688794ee7937cc01a
Author: hongdd <jn_hdd@163.com>
Date: 09/03/2020 18:31:04
Message:
[HUDI-681]Remove embeddedTimelineService from HoodieReadClient (#1388) #MsgLength=136


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|2 19
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|4 6
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1

Revision: 44700d531a74f24762903df2729577a0d96e4ec0
Author: openopen2 <a261049174@outlook.com>
Date: 10/03/2020 09:17:51
Message:
[HUDI-344] Hudi Dataset Snapshot Exporter (#1360) #MsgLength=95


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|224 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/DataSourceTestUtils.java|50 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|222 0

Revision: 77d5b92d88d6583bdfc09e4c10ecfe7ddbb04806
Author: Prashant Wason <pwason@uber.com>
Date: 10/03/2020 11:15:42
Message:
[HUDI-668] Added additional unit-tests for HUDI metrics. (#1380) #MsgLength=66


----
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|116 1

Revision: cf0a4c19bc4ed850172e6ac938f57a0bf7e96353
Author: Prashant Wason <pwason@uber.com>
Date: 11/03/2020 20:03:03
Message:
[HUDI-670] Added test cases for TestDiskBasedMap. (#1379) #MsgLength=198


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|25 0

Revision: dd7cf38a137ed43b8f00aa14c985bf8b106e256f
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 11/03/2020 20:24:07
Message:
[HUDI-688] Paring down the NOTICE file to minimum required notices (#1391) #MsgLength=199


----
Modified: LICENSE|1 1
Modified: NOTICE|0 81

Revision: 1ca912af0904283a270a822d5876babca5c89739
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 12/03/2020 07:19:23
Message:
[HUDI-667] Fixing delete tests for DeltaStreamer (#1395) #MsgLength=58


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|21 21
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 2

Revision: 7194514aff33815a2f4d6d1847f00b94d1a1a36b
Author: satishkotha <satishkotha@uber.com>
Date: 12/03/2020 07:29:54
Message:
[HUDI-689] Change CLI command names to not have overlap (#1392) #MsgLength=65


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 3

Revision: 7d668314447650243ec5c872229efdd02fb0212c
Author: Prashant Wason <pwason@uber.com>
Date: 12/03/2020 07:43:04
Message:
[MINOR] Removing code which is duplicated from the base class HoodieWriteHandle. (#1399) #MsgLength=90


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|0 54

Revision: 0f892ef62c76436b17030e6edb4642f476d7de1e
Author: hongdd <jn_hdd@163.com>
Date: 12/03/2020 07:49:02
Message:
[HUDI-692] Add delete savepoint for cli (#1397) #MsgLength=124


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|30 9

Revision: c40a0d4e91896dece51969f5308016ecb3aa635c
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 12/03/2020 11:27:46
Message:
[HUDI-656][Performance] Return a dummy Spark relation after writing the DataFrame (#1394) #MsgLength=135


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|19 1
Added: hudi-spark/src/main/scala/org/apache/hudi/HudiEmptyRelation.scala|35 0

Revision: fb7fba365f89afaf97cc969ecc09f3bbfc4a5dbd
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 13/03/2020 14:59:09
Message:
 [HUDI-646] fix failing test due to improper filesytem cleanup (#1373) #MsgLength=72


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|3 1

Revision: 99b7e9eb9ef8827c1e06b7e8621b6be6403b061e
Author: Suneel Marthi <smarthi@apache.org>
Date: 14/03/2020 08:28:05
Message:
[HUDI-629]: Replace Guava's Hashing with an equivalent in NumericUtils.java (#1350) #MsgLength=162


----
Modified: hudi-client/pom.xml|0 5
Modified: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|4 8
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|24 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|10 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|8 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|5 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NumericUtils.java|30 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java|8 9
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ValidationUtils.java|70 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java|3 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java|5 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|3 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|8 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|26 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hive-sync/pom.xml|0 5
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|2 2
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|2 2
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java|1 1
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|4 4
Modified: hudi-integ-test/pom.xml|0 7
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|8 6

Revision: 14323cb10012bdbf80cbb838928af9301cb42ba0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/03/2020 20:24:30
Message:
[HUDI-344] Improve exporter tests (#1404) #MsgLength=45


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|9 0
Deleted: hudi-utilities/src/test/java/org/apache/hudi/utilities/DataSourceTestUtils.java|0 50
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|142 176

Revision: 23afe7a4872fca66d9aeb36d209c6538a17d81f1
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 15/03/2020 22:13:20
Message:
[HUDI-710] Fixing failure in Staging Validation Script (#1403) #MsgLength=64


----
Modified: scripts/release/validate_staged_release.sh|1 1

Revision: 55e6d348155f63eb128cd208687d02206bad66a5
Author: hongdd <jn_hdd@163.com>
Date: 16/03/2020 11:52:40
Message:
[HUDI-694]Add unit test for SparkEnvCommand (#1401) #MsgLength=83


----
Added: hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java|46 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|53 0
Added: hudi-cli/src/test/resources/log4j-surefire-quiet.properties|23 0
Added: hudi-cli/src/test/resources/log4j-surefire.properties|25 0

Revision: 3ef9e885cacc064fc316c61c7c826f3a1cb96da0
Author: hongdd <jn_hdd@163.com>
Date: 16/03/2020 17:19:57
Message:
[HUDI-715] Fix duplicate name in TableCommand (#1410) #MsgLength=55


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 1

Revision: 418f9bb2e91ed6c02077d36e49a47f0c8d08303a
Author: bschell <bdscheller@gmail.com>
Date: 17/03/2020 06:19:16
Message:
Add constructor to HoodieROTablePathFilter (#1413) #MsgLength=256


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|12 3

Revision: f1d7bb381d4a370beeedb45132b24c2cac00aabf
Author: hongdd <jn_hdd@163.com>
Date: 17/03/2020 14:15:30
Message:
[HUDI-695]Add unit test for TableCommand (#1411) #MsgLength=50


----
Modified: hudi-cli/pom.xml|14 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java|14 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|142 0

Revision: e3019031d8fff60df4fec82eac3fd5c044011635
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 18/03/2020 03:52:48
Message:
[HUDI-539] Make ROPathFilter conf member serializable (#1415) #MsgLength=63


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|4 3

Revision: 0a4902eccece1df959946fcb7379a94fc5fe0784
Author: leesf <490081539@qq.com>
Date: 18/03/2020 10:27:40
Message:
[HUDI-437] Support user-defined index (#1408) #MsgLength=156


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|9 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|10 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|84 0

Revision: 779edc068865898049569da0fe750574f93a0dca
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 18/03/2020 19:24:04
Message:
[HUDI-344] Add partitioner param to Exporter (#1405) #MsgLength=54


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|77 49
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|101 9

Revision: 1e321c2fc0f9fedcbb8a0339c90a28a9be5afd64
Author: ForwardXu <forwardxu315@gmail.com>
Date: 19/03/2020 20:10:35
Message:
[HUDI-209] Implement JMX metrics reporter (#1106) #MsgLength=51


----
Modified: hudi-client/pom.xml|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|14 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java|5 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|69 26
Added: hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java|160 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|3 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|7 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java|5 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|17 10
Modified: pom.xml|5 0

Revision: cf765df6062f896ad6bf0a8ddf711aad19dbf59b
Author: Y Ethan Guo <guoyihua@uber.com>
Date: 19/01/2020 15:11:14
Message:
[HUDI-76] Add CSV Source support for Hudi Delta Streamer #MsgLength=57


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|73 19
Modified: hudi-utilities/pom.xml|5 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|126 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|155 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|57 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java|2 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|61 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc|57 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc|60 0


Revision: 14e0c95206f6d7c1806555490bcbce8785ffea5a
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date: 20/03/2020 15:13:17
Message:
[HUDI-400] Check upgrade from old plan to new plan for compaction (#1422) #MsgLength=149


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|2 0

Revision: 21c45e1051b593f0e1023a84cb96658320046dae
Author: Mathieu <wxhjsxz@126.com>
Date: 20/03/2020 17:44:16
Message:
[HUDI-726]Delete unused method in HoodieDeltaStreamer (#1426) #MsgLength=63


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|0 4

Revision: eeab532d794426115f839e6ee11a9fc1314698fe
Author: Mathieu <wxhjsxz@126.com>
Date: 20/03/2020 17:47:59
Message:
[HUDI-725] Remove init log in the constructor of DeltaSync (#1425) #MsgLength=68


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 1

Revision: 83fb9651f368351446bb6ef0c9ebde34cf61b809
Author: satishkotha <satishkotha@uber.com>
Date: 20/03/2020 23:37:22
Message:
[HUDI-650] Modify handleUpdate path to validate partitionPath (#1368) #MsgLength=71


----
Modified: hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|13 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|14 11
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|4 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|24 15
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|13 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|84 6

Revision: c5030f77a0e63f609ed2c674bea00201b97d8bb6
Author: vinoyang <yanghua1127@gmail.com>
Date: 21/03/2020 10:54:04
Message:
[HUDI-720] NOTICE file needs to add more content based on the NOTICE files of the ASF projects that hudi bundles (#1417) #MsgLength=236


----
Modified: LICENSE|9 0
Modified: NOTICE|145 1

Revision: 8b00791ef47f708f54ffbfb5789ed65f958740b3
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date: 22/03/2020 11:12:06
Message:
[MINOR] cleanup redundant comment and unused variable and fix typo (#1435) #MsgLength=76


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|0 3

Revision: 06652aa93515fa8178e7fea2279f40123a69978c
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date: 22/03/2020 21:39:33
Message:
[MINOR] Add omissive param desc on method doc and cleanup redundant code (#1437) #MsgLength=82


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 3

Revision: 1e1d9e1d345a104d6f873403ef2826778ac114d3
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 22/03/2020 22:19:47
Message:
[HUDI-616] Fixed parquet files getting created on local FS (#1434) #MsgLength=68


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 1

Revision: 38c3ccc51a069dbccab718423055c0a708b44d63
Author: lamber-ken <lamberken@163.com>
Date: 23/03/2020 01:31:48
Message:
[HUDI-663] Fix HoodieDeltaStreamer offset not handled correctly (#1377) #MsgLength=73


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1

Revision: 0241b21f771fd1b7438a103a7b49f913632d4b97
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date: 23/03/2020 09:06:00
Message:
[HUDI-65] commitTime rename to instantTime (#1431) #MsgLength=52


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|12 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|11 11
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|12 12
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|2 2
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|22 22
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|69 69
Modified: hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|24 24
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|53 53
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|22 22
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|50 50
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|11 11
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|14 14
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|35 35
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java|21 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|52 52
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|27 27
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|17 17
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|10 10
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|20 20
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|6 6
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|12 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|11 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|3 3

Revision: cafc87041baf4055c39244e7cde0187437bb03d4
Author: hongdd <jn_hdd@163.com>
Date: 23/03/2020 13:46:10
Message:
[HUDI-697]Add unit test for ArchivedCommitsCommand (#1424) #MsgLength=60


----
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|194 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|124 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitUtilities.java|54 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|2 2

Revision: bc82e2be6cf080ab99092758368e91f509a2004c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/03/2020 18:02:24
Message:
[HUDI-711] Refactor exporter main logic (#1436) #MsgLength=356


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|86 75
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSnapshotExporterException.java|10 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|58 13

Revision: 5eed6c98a8880dc3b4e64ec9ff9dae4859e89b4c
Author: Mathieu <wxhjsxz@126.com>
Date: 25/03/2020 22:25:47
Message:
[MINOR] Fix javadoc of InsertBucket (#1445) #MsgLength=45


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|1 1

Revision: e101ea9bd4405a461bc78aad1af64499f797daed
Author: Suneel Marthi <smarthi@apache.org>
Date: 26/03/2020 11:37:32
Message:
[MINOR] Update DOAP with 0.5.2 Release (#1448) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: 8b0a4009a9c662f45a0b7bbbb6f01c2b07c36809
Author: leesf <490081539@qq.com>
Date: 26/03/2020 23:30:27
Message:
[HUDI-678] Make config package spark free (#1418) #MsgLength=51


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|3 2
Added: hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java|94 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|0 47
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 26
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|4 2

Revision: 1713f686f86e8c2f0a908c313cca9b595c6aed33
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/03/2020 10:21:38
Message:
[MINOR] Add error message when check arguments (#1451) #MsgLength=56


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|5 1

Revision: 8c3001363d80b29733470221c192a72f541381c5
Author: Suneel Marthi <smarthi@apache.org>
Date: 28/03/2020 15:11:32
Message:
HUDI-479: Eliminate or Minimize use of Guava if possible (#1159) #MsgLength=66


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java|10 8
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|2 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|4 8
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|23 28
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java|28 9
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|17 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|5 6
Added: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|111 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|25 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|60 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|14 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|9 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|7 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|5 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|19 21
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|2 2
Modified: pom.xml|0 7
Modified: style/checkstyle.xml|2 2

Revision: 04449f33feb300b99750c52ec37f2561aa644456
Author: Suneel Marthi <smarthi@apache.org>
Date: 28/03/2020 18:03:15
Message:
[HUDI-743]: Remove FileIOUtils.close() (#1461) #MsgLength=48


----
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|0 25

Revision: ac73bdcdc39e100d4082cf54359690490e5774f7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 29/03/2020 00:13:35
Message:
[HUDI-430] Adding InlineFileSystem to support embedding any file format as an InlineFile (#1176) #MsgLength=244


----
Modified: hudi-client/pom.xml|1 0
Modified: hudi-common/pom.xml|15 0
Added: hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFSUtils.java|98 0
Added: hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFileSystem.java|133 0
Added: hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFsDataInputStream.java|114 0
Added: hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InMemoryFileSystem.java|138 0
Added: hudi-common/src/test/java/org/apache/hudi/common/inline/fs/FileSystemTestUtils.java|66 0
Added: hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestHFileInLining.java|241 0
Added: hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInLineFileSystem.java|356 0
Added: hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInMemoryFileSystem.java|145 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java|153 0
Modified: pom.xml|0 7

Revision: 07c3c5d797f612f9b73b2805b65275c2029c2442
Author: leesf <490081539@qq.com>
Date: 29/03/2020 16:54:00
Message:
[HUDI-679] Make io package Spark free (#1460) #MsgLength=86


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|2 1
Added: hudi-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java|42 0
Modified: hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java|7 3
Modified: hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java|5 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|19 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|7 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|7 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|3 0
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|3 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|4 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|1 1

Revision: e057c27603301d8b49e9b50b78a3ffce247b1059
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/03/2020 01:58:49
Message:
[HUDI-744] Restructure hudi-common and clean up files under util packages (#1462) #MsgLength=949


----
Modified: LICENSE|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|7 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|5 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|1 1
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|6 6
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|11 11
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|12 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java|1 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|9 9
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|5 5
Renamed: hudi-client/src/test/java/org/apache/hudi/common/config/TestHoodieWriteConfig.java [from hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java]|3 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java]|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilterFactory.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterFactory.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilterTypeCode.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterTypeCode.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilterUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/BloomFilterUtils.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/HoodieDynamicBoundedBloomFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/HoodieDynamicBoundedBloomFilter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/InternalDynamicBloomFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalDynamicBloomFilter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/InternalFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/InternalFilter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/bloom/SimpleBloomFilter.java [from hudi-common/src/main/java/org/apache/hudi/common/bloom/filter/SimpleBloomFilter.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java [from hudi-common/src/main/java/org/apache/hudi/common/util/DFSPropertiesConfiguration.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/config/DefaultHoodieConfig.java [from hudi-common/src/main/java/org/apache/hudi/config/DefaultHoodieConfig.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/config/SerializableConfiguration.java [from hudi-common/src/main/java/org/apache/hudi/common/SerializableConfiguration.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java [from hudi-common/src/main/java/org/apache/hudi/common/util/TypedProperties.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuard.java [from hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java [from hudi-common/src/main/java/org/apache/hudi/common/util/ConsistencyGuardConfig.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java]|3 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/FailSafeConsistencyGuard.java [from hudi-common/src/main/java/org/apache/hudi/common/util/FailSafeConsistencyGuard.java]|2 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java [from hudi-common/src/main/java/org/apache/hudi/common/io/storage/HoodieWrapperFileSystem.java]|1 5
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/NoOpConsistencyGuard.java [from hudi-common/src/main/java/org/apache/hudi/common/util/NoOpConsistencyGuard.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareDataInputStream.java [from hudi-common/src/main/java/org/apache/hudi/common/storage/SizeAwareDataInputStream.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareDataOutputStream.java [from hudi-common/src/main/java/org/apache/hudi/common/util/collection/io/storage/SizeAwareDataOutputStream.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareFSDataOutputStream.java [from hudi-common/src/main/java/org/apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java]|1 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java [from hudi-common/src/main/java/org/apache/hudi/common/storage/StorageSchemes.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFSUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFSUtils.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFileSystem.java [from hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFileSystem.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFsDataInputStream.java [from hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InLineFsDataInputStream.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InMemoryFileSystem.java [from hudi-common/src/main/java/org/apache/hudi/common/inline/fs/InMemoryFileSystem.java]|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/util/LogReaderUtils.java]|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|1 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java [from hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTimeline.java]|2 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineDiffHelper.java [from hudi-common/src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java]|2 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineLayout.java [from hudi-common/src/main/java/org/apache/hudi/common/table/TimelineLayout.java]|2 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java [from hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java]|4 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/AbstractMigratorBase.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/AbstractMigratorBase.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/MetadataMigrator.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/MetadataMigrator.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/TimelineLayoutVersion.java [from hudi-common/src/main/java/org/apache/hudi/common/model/TimelineLayoutVersion.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/VersionMigrator.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/VersionMigrator.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataMigrator.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanMetadataMigrator.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV1MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV1MigrationHandler.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV2MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/clean/CleanV2MigrationHandler.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionPlanMigrator.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionPlanMigrator.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV1MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV1MigrationHandler.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV2MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/versioning/compaction/CompactionV2MigrationHandler.java]|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/SyncableFileSystemView.java [from hudi-common/src/main/java/org/apache/hudi/common/table/SyncableFileSystemView.java]|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java [from hudi-common/src/main/java/org/apache/hudi/common/table/TableFileSystemView.java]|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|0 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBDAO.java [from hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBDAO.java]|5 2
Renamed: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java]|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/bloom/TestBloomFilter.java [from hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestBloomFilter.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/bloom/TestInternalDynamicBloomFilter.java [from hudi-common/src/test/java/org/apache/hudi/common/bloom/filter/TestInternalDynamicBloomFilter.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/util/TestFSUtils.java]|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/FileSystemTestUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/inline/fs/FileSystemTestUtils.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestHFileInLining.java [from hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestHFileInLining.java]|5 5
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java [from hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInLineFileSystem.java]|3 3
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInMemoryFileSystem.java [from hudi-common/src/test/java/org/apache/hudi/common/inline/fs/TestInMemoryFileSystem.java]|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|7 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/MockHoodieTimeline.java [from hudi-common/src/test/java/org/apache/hudi/common/table/string/MockHoodieTimeline.java]|1 5
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java [from hudi-common/src/test/java/org/apache/hudi/common/table/string/TestHoodieActiveTimeline.java]|3 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|8 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|9 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|2 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|5 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java [from hudi-common/src/test/java/org/apache/hudi/common/util/TestRocksDBManager.java]|1 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|3 3
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|3 3
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|5 5
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-spark/src/test/scala/TestDataSource.scala|1 1
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|2 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|2 2
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/NullTargetSchemaRegistryProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java|6 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|1 1

Revision: fad4bd377bb14a9ff6e684a526d0eaa65458d91d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 30/03/2020 01:59:40
Message:
[HUDI-745] CI should fail PRs with unapproved license files (#1464) #MsgLength=69


----
Modified: pom.xml|1 1

Revision: fa36082554373dd4dce3e3d3159ab87300a4601d
Author: Suneel Marthi <smarthi@apache.org>
Date: 30/03/2020 11:46:52
Message:
[HUDI-746] Reduce build warnings < 10 (#1465) #MsgLength=47


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|2 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|4 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|2 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|0 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|1 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java|1 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|1 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|2 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|6 5
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|4 5
Modified: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|4 3
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java|6 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieCompactor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java|1 1
Modified: hudi-client/src/test/java/HoodieClientExample.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|9 9
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|6 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|8 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FailSafeConsistencyGuard.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|7 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/TimelineDTO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV1MigrationHandler.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV2MigrationHandler.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV1MigrationHandler.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/compaction/CompactionV2MigrationHandler.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|5 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|22 20
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|10 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java|13 11
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|13 11
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|3 3
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|3 3
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java|3 2
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|3 3
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|5 5
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|6 4
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|1 1
Modified: hudi-spark/src/test/java/DataSourceUtilsTest.java|2 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/JdbcbasedSchemaProvider.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|6 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java|4 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|1 1

Revision: 1f5b0c77d6c87a936f2d34287ec6a1df1cb18b33
Author: ffcchi <fengfeichi@gmail.com>
Date: 30/03/2020 15:14:38
Message:
[HUDI-724] Parallelize getSmallFiles for partitions (#1421) #MsgLength=110


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|27 10
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|4 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1 1

Revision: 9f51b99174da2ce72adc632b9ef84cfd3760c153
Author: Prashant Wason <pwason@uber.com>
Date: 30/03/2020 22:36:12
Message:
[MINOR] Updated HoodieMergeOnReadTestUtils for future testing requirements (#1456) #MsgLength=361


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|10 4

Revision: dbc9acd23a4eb208c7cd458bb3adaf54731d4145
Author: lamber-ken <lamberken@163.com>
Date: 31/03/2020 02:19:17
Message:
[HUDI-716] Exception: Not an Avro data file when running HoodieCleanClient.runClean (#1432) #MsgLength=93


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|21 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|5 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|19 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|9 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|24 0

Revision: ce0a4c64d07d6eea926d1bfb92b69ae387b88f50
Author: wenningd <wenningding95@gmail.com>
Date: 31/03/2020 06:52:15
Message:
[HUDI-713] Fix conversion of Spark array of struct type to Avro schema (#1406) #MsgLength=130


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|17 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|4 4
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|0 10
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|27 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|26 0

Revision: 9ecf0ccfb263cee8190afeb965ba350525860d6e
Author: Edwin Guo <altergzj@yahoo.com>
Date: 31/03/2020 12:56:20
Message:
[HUDI-742] Fix Java Math Exception (#1466) #MsgLength=44


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|17 0

Revision: 78b3194e8241c519a85310997f31b2b55df487e1
Author: Shaofeng Shi <shaofengshi@gmail.com>
Date: 31/03/2020 21:19:32
Message:
[HUDI-751] Fix some coding issues reported by FindBugs (#1470) #MsgLength=64


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java|4 12
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/WriteStatus.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/DayBasedCompactionStrategy.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/SerializableConfiguration.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|1 0
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|1 1

Revision: c146ca90fdd102f2bda90a2b15f6aef56414f9f4
Author: vinoyang <yanghua1127@gmail.com>
Date: 01/04/2020 10:02:47
Message:
[HUDI-754] Configure .asf.yaml for Hudi Github repository (#1472) #MsgLength=126


----
Added: .asf.yaml|12 0

Revision: 2a611f4ad3816b67b54e0fcd1ef588668fba0732
Author: Trevor <33487819+Trevor-zhang@users.noreply.github.com>
Date: 01/04/2020 22:19:54
Message:
[HUDI-749] Fix hudi-timeline-server-bundle run_server.sh start error (#1477) #MsgLength=78


----
Modified: packaging/hudi-timeline-server-bundle/run_server.sh|1 1

Revision: 5b53b0d85e0d60a37c37941b5a653b0718534e7b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/04/2020 23:21:31
Message:
[HUDI-731] Add ChainedTransformer (#1440) #MsgLength=78


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|10 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|18 3
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/ChainedTransformer.java|54 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|34 33
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java|101 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java|92 0
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestFlatteningTransformer.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestFlatteningTransformer.java]|1 3

Revision: 194e20e66189e9e7ef313804532386339aeb6212
Author: vinoyang <yanghua1127@gmail.com>
Date: 02/04/2020 15:51:51
Message:
[MINOR] Fix label issue in .asf.yaml (#1478) #MsgLength=46


----
Modified: .asf.yaml|3 3

Revision: bd716ece1826fcc44092bd0add6cbbc097eeaec2
Author: yanghua <yanghua1127@gmail.com>
Date: 02/04/2020 16:14:35
Message:
[MINIOR] Add license header for .asf.yaml and adjust labels #MsgLength=60


----
Modified: .asf.yaml|21 3

Revision: 639ec20412f73d221c24737e35667b37b35cc583
Author: Ramachandran Madtas Subramaniam <mramachandran@uber.com>
Date: 24/03/2020 14:23:19
Message:
[HUDI-562] Enable testing at debug log level #MsgLength=265


----
Modified: hudi-cli/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-client/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-client/src/test/resources/log4j-surefire.properties|11 10
Modified: hudi-common/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-common/src/test/resources/log4j-surefire.properties|11 8
Modified: hudi-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-hadoop-mr/src/test/resources/log4j-surefire.properties|11 6
Modified: hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-hive-sync/src/test/resources/log4j-surefire.properties|11 7
Modified: hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-integ-test/src/test/resources/log4j-surefire.properties|11 6
Modified: hudi-spark/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-spark/src/test/resources/log4j-surefire.properties|11 10
Modified: hudi-timeline-service/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-timeline-service/src/test/resources/log4j-surefire.properties|11 8
Modified: hudi-utilities/src/test/resources/log4j-surefire-quiet.properties|12 6
Modified: hudi-utilities/src/test/resources/log4j-surefire.properties|11 6

Revision: 6808559b018366b4bc6d47b40dbbe362f48f65d7
Author: Prashant Wason <pwason@uber.com>
Date: 04/04/2020 07:23:05
Message:
[HUDI-717] Fixed usage of HiveDriver for DDL statements. (#1416) #MsgLength=327


----
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|3 1
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|89 2
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|9 7

Revision: deb95ad9962bd40dc3edcc66281e8d333f32bab3
Author: Prashant Wason <pwason@uber.com>
Date: 04/04/2020 07:25:01
Message:
[HUDI-748] Adding .codecov.yml to set exclusions for code coverage reports. (#1468) #MsgLength=85


----
Added: .codecov.yml|44 0

Revision: 575d87cf7d6f0f743cb7cec6520d80e6fcc3e20a
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date: 04/04/2020 09:57:34
Message:
HUDI-644 kafka connect checkpoint provider (#1453) #MsgLength=52


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java|31 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/KafkaConnectHdfsProvider.java|152 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|94 0

Revision: eaf6cc2d90bf27c0d9414a4ea18dbd1b61f58e50
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 04/04/2020 15:07:34
Message:
[HUDI-756] Organize Cleaning Action execution into a single package in hudi-client (#1485) #MsgLength=570


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|0 4
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|7 9
Deleted: hudi-client/src/main/java/org/apache/hudi/client/HoodieCleanClient.java|0 197
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|32 30
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|11 161
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|28 29
Added: hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|43 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|280 0
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java [from hudi-client/src/main/java/org/apache/hudi/table/CleanHelper.java]|5 6
Added: hudi-client/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java|70 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|3 8
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|13 13
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|8 8
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|23 25
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|9 11
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|23 25
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|1 1

Revision: b5d093a21bbb19f164fbc549277188f2151232a8
Author: Zhiyuan Zhao <49054376+zhaomin1423@users.noreply.github.com>
Date: 06/04/2020 16:31:54
Message:
[MINOR] Clear up the redundant comment. (#1489) #MsgLength=49


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|1 2

Revision: d610252d6b54dcbb1897bb8881d59c3838a46c18
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 08/04/2020 07:10:26
Message:
[HUDI-288]: Add support for ingesting multiple kafka streams in a single DeltaStreamer deployment (#1150) #MsgLength=206


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|2 8
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|131 20
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|6 0
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|6 3
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java|25 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|4 4
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|25 7
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|393 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/TableExecutionContext.java|85 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|62 2
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieMultiTableDeltaStreamer.java|166 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|11 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java|10 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|4 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|1 1
Added: hudi-utilities/src/test/resources/delta-streamer-config/invalid_hive_sync_uber_config.properties|23 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties|24 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/source_short_trip_uber.avsc|44 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/source_uber.avsc|44 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/target_short_trip_uber.avsc|44 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/target_uber.avsc|44 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/uber_config.properties|25 0

Revision: 4e5c8671ef3213ffa5c40f09aae27aacfa20f907
Author: hongdd <jn_hdd@163.com>
Date: 08/04/2020 21:33:15
Message:
[HUDI-740]Fix can not specify the sparkMaster and code clean for SparkUtil (#1452) #MsgLength=84


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCliSparkConfig.java|46 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|8 8
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|25 37
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|23 13

Revision: f7b55afb74545aefd440cc83f3d0552e333048e3
Author: Jiayi Liao <buptliaojiayi@gmail.com>
Date: 09/04/2020 09:14:50
Message:
[MINOR] Fix typo in TimelineService (#1497) #MsgLength=90


----
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|1 1

Revision: 1f6be820f327503b460f9e8c372c07d6b0918fca
Author: Satish Kotha <satishkotha@uber.com>
Date: 03/04/2020 02:05:54
Message:
[HUDI-758] Modify Integration test to include incremental queries for MOR tables #MsgLength=81


----
Renamed: docker/demo/get_min_commit_time_cow.sh [from docker/demo/get_min_commit_time.sh]|0 0
Added: docker/demo/get_min_commit_time_mor.sh|20 0
Renamed: docker/demo/hive-incremental-cow.commands [from docker/demo/hive-incremental.commands]|1 1
Added: docker/demo/hive-incremental-mor-ro.commands|27 0
Added: docker/demo/hive-incremental-mor-rt.commands|27 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|31 14

Revision: 3c803421e0e138c223c9bec90f9b7c8a6751317d
Author: Satish Kotha <satishkotha@uber.com>
Date: 09/04/2020 07:35:15
Message:
rename variable per review comments #MsgLength=36


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|4 4

Revision: 996f7612323729d3ab4bedc1b0c7754aded2dc00
Author: Abhishek Modi <modi@uber.com>
Date: 09/04/2020 13:50:36
Message:
Trying git merge --squash #MsgLength=26


----
Added: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java|69 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|8 2

Revision: f5f34bb1c16e6d070668486eba2a29f554c0bbc7
Author: Ramachandran Madtas Subramaniam <mramachandran@uber.com>
Date: 12/03/2020 03:58:31
Message:
[HUDI-568] Improve unit test coverage #MsgLength=120


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBDAO.java|0 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|19 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java|148 20
Modified: hudi-hadoop-mr/pom.xml|6 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|162 0

Revision: 8c7cef3e50471d3645b207d97d515107764688c9
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 10/04/2020 23:58:55
Message:
[HUDI - 738] Add validation to DeltaStreamer to fail fast when filterDupes is enabled on UPSERT mode. (#1505) #MsgLength=286


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|3 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|12 2

Revision: c0f96e072650d39433929c6efe3bc0b2cd882a39
Author: satishkotha <satishkotha@uber.com>
Date: 11/04/2020 01:45:41
Message:
[HUDI-687] Stop incremental reader on RO table when there is a pending compaction (#1396) #MsgLength=91


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|24 16
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java|49 42
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|233 46
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|10 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|24 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|53 14
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|7 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|6 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|122 0

Revision: a464a2972e83e648585277ebe567703c8285cf1e
Author: hongdd <jn_hdd@163.com>
Date: 11/04/2020 10:12:21
Message:
[HUDI-700]Add unit test for FileSystemViewCommand (#1490) #MsgLength=59


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|56 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|28 19
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|267 0

Revision: 5d717a28f45137bea71dffa31b0ae7ccbf1bda00
Author: Shen Hong <shenh062326@126.com>
Date: 12/04/2020 10:06:30
Message:
[HUDI-782] Add support of Aliyun object storage service. (#1506) #MsgLength=66


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|1 0

Revision: 6d7ca2cf7e441ad19d32d7a25739e454f39ed253
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 13/04/2020 08:55:26
Message:
[HUDI-727]: Copy default values of fields if not present when rewriting incoming record with new schema (#1427) #MsgLength=113


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|30 13
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|52 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|2 2

Revision: 447ba3bae6dbaec7b6cfa0950cd24f5c4fcf5025
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 13/04/2020 10:38:56
Message:
[MINOR] Disabling flaky test in InlineFileSystem (#1510) #MsgLength=58


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|2 1

Revision: 17bf9303423821483f17785f8536b7bfed45e42e
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 13/04/2020 14:11:00
Message:
[HUDI-770] Organize upsert/insert API implementation under a single package (#1495) #MsgLength=85


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|13 7
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|55 264
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|40 309
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|41 139
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|72 20
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|3 2
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|291 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java|41 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketType.java|23 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java|60 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|84 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java|61 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|176 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java|45 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java|96 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteMetadata.java|104 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java|41 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java|47 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java|45 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/SmallFile.java|40 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java|47 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|316 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java|45 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java|105 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java|62 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java|63 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java|47 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java|94 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java|49 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java|45 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java|49 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitPartitioner.java|142 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java|45 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|30 18
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|6 2
Renamed: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java [from hudi-client/src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java]|26 97
Added: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|148 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|4 0

Revision: 661b0b3bab85c8fd958a9e256dab99790ea92713
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 13/04/2020 23:29:19
Message:
[HUDI-761] Refactoring rollback and restore actions using the ActionExecutor abstraction (#1492) #MsgLength=287


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 117
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|54 102
Added: hudi-client/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java|26 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|8 71
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|11 187
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|26 13
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|4 4
Added: hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|111 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|57 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|64 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|192 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|94 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|241 0
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackHelper.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackRequest.java [from hudi-client/src/main/java/org/apache/hudi/table/rollback/RollbackRequest.java]|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|5 11
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|6 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|3 2

Revision: 644c1cc8bd1965271c4433edccb17aa8fda5f403
Author: hongdd <jn_hdd@163.com>
Date: 14/04/2020 17:54:47
Message:
[HUDI-698]Add unit test for CleansCommand (#1449) #MsgLength=51


----
Modified: hudi-cli/pom.xml|25 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|9 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|10 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|183 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java|101 0
Added: hudi-cli/src/test/resources/clean.properties|19 0
Modified: scripts/run_travis_tests.sh|7 0

Revision: 14d4fea8339913c0df8ea829036a45a187c55208
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 15/04/2020 05:51:04
Message:
[HUDI-759] Integrate checkpoint provider with delta streamer (#1486) #MsgLength=70


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|21 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java|31 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/KafkaConnectHdfsProvider.java|18 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|33 24
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|28 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|11 8

Revision: d65efe659d36dfb80be16a6389c5aba2f8701c39
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/04/2020 03:35:01
Message:
[HUDI-780] Migrate test cases to Junit 5 (#1504) #MsgLength=50


----
Modified: hudi-cli/pom.xml|31 0
Modified: hudi-client/pom.xml|24 0
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|8 7
Modified: hudi-common/pom.xml|24 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|16 12
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java|9 12
Modified: hudi-hadoop-mr/pom.xml|24 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java|14 14
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java|8 5
Modified: hudi-hive-sync/pom.xml|22 4
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|148 149
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|1 1
Modified: hudi-integ-test/pom.xml|21 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|9 9
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|10 10
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|18 15
Modified: hudi-spark/pom.xml|27 2
Modified: hudi-spark/src/test/java/DataSourceUtilsTest.java|3 3
Modified: hudi-spark/src/test/scala/TestDataSource.scala|9 12
Modified: hudi-spark/src/test/scala/TestDataSourceDefaults.scala|9 9
Modified: hudi-timeline-service/pom.xml|20 2
Modified: hudi-utilities/pom.xml|24 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java|7 7
Modified: pom.xml|32 2

Revision: 9ca710cb02d34ab26fbf59b2d9152f2df86875f3
Author: Iftach Schonbaum <iftachsc@cloudzone.io>
Date: 16/04/2020 05:56:13
Message:
[HUDI-777] Updated description for --target-table parameter (#1519) #MsgLength=69


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 1

Revision: 19d29ac7d0ac451324d25bfe85b51b1eca10bc67
Author: Prashant Wason <pwason@uber.com>
Date: 27/03/2020 15:53:49
Message:
[HUDI-741] Added checks to validate Hoodie's schema evolution. #MsgLength=865


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|63 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|12 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|0 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 5
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|28 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|3 3
Added: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|487 0
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|18 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|8 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|360 0
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 2
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|7 122
Renamed: hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java]|2 31
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|9 9

Revision: acdc4a8d004394590f9e5ffcc703ea23624e66d9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/04/2020 16:07:32
Message:
[HUDI-798] Migrate to Mockito Jupiter for JUnit 5 (#1521) #MsgLength=59


----
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/client/utils/TestParquetReaderIterator.java|9 10
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|23 22
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|3 3
Modified: hudi-common/pom.xml|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|66 58
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|16 24
Modified: hudi-hive-sync/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: pom.xml|3 3

Revision: acb1ada2f756b49d9f9a0aa152f99fcc9e86dde7
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 17/04/2020 04:49:39
Message:
[HUDI-799] Use appropriate FS when loading configs (#1517) #MsgLength=122


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 1

Revision: 75523657a4b5c67209e48c1c989a4dd017b4fdd1
Author: baobaoyeye <bao.renyi@gmail.com>
Date: 18/04/2020 12:51:37
Message:
[MINOR] use Option and fix description in toString method (#1527) #MsgLength=183


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java|7 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|0 0

Revision: 09fd6f64c527e6a822c4e17dc4e61b8fdee28189
Author: lw0090 <lw309637554@gmail.com>
Date: 19/04/2020 21:33:07
Message:
[HUDI-800] Fix Metrics getReporter().close() throws NPE. (#1529) #MsgLength=66


----
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|4 2

Revision: ddd105bb3119174b613c6917ee25795f2939f430
Author: Dongwook <kwondw@users.noreply.github.com>
Date: 20/04/2020 23:38:18
Message:
[HUDI-772] Make UserDefinedBulkInsertPartitioner configurable for DataSource (#1500) #MsgLength=86


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|10 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|25 2
Modified: hudi-spark/src/test/java/DataSourceTestUtils.java|13 0
Modified: hudi-spark/src/test/java/DataSourceUtilsTest.java|86 0

Revision: 2a2f31d919dbabde76284f3b7fdae1e45dc9ceb1
Author: Mathieu <wxhjsxz@126.com>
Date: 21/04/2020 09:40:22
Message:
[MINOR] Remove reduntant code and fix typo in HoodieDefaultTimeline (#1535) #MsgLength=77


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 5

Revision: 332072bc6d5fd04e9325d21e55dfac66bc8f848a
Author: n3nash <nagarwal@uber.com>
Date: 21/04/2020 11:40:06
Message:
[HUDI-371] Supporting hive combine input format for realtime tables (#1503) #MsgLength=77


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|2 2
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ArrayUtils.java|62 0
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|357 269
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineRealtimeFileSplit.java|169 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineRealtimeHiveSplit.java|44 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|3 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java|103 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|1 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|10 12
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|100 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|14 14
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java|160 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|18 73

Revision: 84dd9047d3902650d7ff5bc95b9789d6880ca8e2
Author: hongdd <jn_hdd@163.com>
Date: 21/04/2020 14:21:30
Message:
[HUDI-789]Adjust logic of upsert in HDFSParquetImporter (#1511) #MsgLength=65


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|14 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|203 52

Revision: 62bd3e7ded0b9f02742ece746fd7179ba20b5c92
Author: Prashant Wason <pwason@uber.com>
Date: 01/04/2020 13:32:13
Message:
[HUDI-757] Added hudi-cli command to export metadata of Instants. #MsgLength=183


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|231 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|29 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|4 0

Revision: 2a56f82908a8b8f788a7547d3c707c144696c1df
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 22/04/2020 11:12:34
Message:
[HUDI-821] Fixing JCommander param parsing in deltastreamer (#1525) #MsgLength=131


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 2

Revision: 6e15eebd81da41b1076179a8ddcedcf07d1c9043
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/04/2020 14:10:25
Message:
[HUDI-809] Migrate CommonTestHarness to JUnit 5 (#1530) #MsgLength=57


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|26 28
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java|13 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|165 170
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java|3 1
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarnessJunit5.java|52 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|10 10
Modified: hudi-hadoop-mr/pom.xml|0 6
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java|30 37
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|40 41
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|11 15
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java|24 28
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|64 63
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|11 11
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|11 9

Revision: 26684f5984baafdfcbef3718fa5abcbd0983a6a4
Author: leesf <leesf@apache.org>
Date: 22/04/2020 16:33:18
Message:
[HUDI-816] Fixed MAX_MEMORY_FOR_MERGE_PROP and MAX_MEMORY_FOR_COMPACTION_PROP do not work due to HUDI-678 (#1536) #MsgLength=115


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java|9 1
Added: hudi-client/src/test/java/org/apache/hudi/client/utils/TestSparkConfigUtils.java|65 0

Revision: aea7c1657ee41ac740b4974f4239c90960553f64
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 23/04/2020 00:47:32
Message:
[HUDI-795] Handle auto-deleted empty aux folder (#1515) #MsgLength=119


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java|21 3

Revision: 19cc15c0987043175685aaeb45facb15af23e34f
Author: dengziming <dengziming1993@gmail.com>
Date: 23/04/2020 02:37:17
Message:
[MINOR]: Fix cli docs for DeltaStreamer (#1547) #MsgLength=49


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 1

Revision: 19ca0b56296bf89c611406bb86c3626f87d562ee
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 26/04/2020 09:26:44
Message:
[HUDI-785] Refactor compaction/savepoint execution based on ActionExector abstraction (#1548) #MsgLength=406


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|5 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|4 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitUtilities.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|3 35
Modified: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|3 9
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|90 394
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|12 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|11 44
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|69 26
Renamed: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java [from hudi-client/src/main/java/org/apache/hudi/table/HoodieCommitArchiveLog.java]|4 4
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteMetadata.java]|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|26 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java|4 3
Added: hudi-client/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java|70 0
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieCompactor.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/HoodieMergeOnReadTableCompactor.java]|2 3
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/OperationResult.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/OperationResult.java]|1 1
Added: hudi-client/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java|93 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|121 0
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedIOCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedIOCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/BoundedPartitionAwareCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/CompactionStrategy.java]|2 2
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/DayBasedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/LogFileSizeBasedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/UnBoundedCompactionStrategy.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java]|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|1 1
Added: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|115 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java|71 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|9 9
Renamed: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java [from hudi-client/src/test/java/org/apache/hudi/table/compact/TestAsyncCompaction.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java [from hudi-client/src/test/java/org/apache/hudi/table/compact/TestHoodieCompactor.java]|19 23
Renamed: hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java [from hudi-client/src/test/java/org/apache/hudi/table/compact/strategy/TestHoodieCompactionStrategy.java]|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|14 0

Revision: 6de9f5d9e5cb1f82d7c32d04b114e7d4a181619b
Author: satishkotha <satishkotha@uber.com>
Date: 28/04/2020 03:50:39
Message:
[HUDI-819] Fix a bug with MergeOnReadLazyInsertIterable. #MsgLength=402


----
Modified: hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/LazyInsertIterable.java [from hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteLazyInsertIterable.java]|20 15
Deleted: hudi-client/src/main/java/org/apache/hudi/execution/MergeOnReadLazyInsertIterable.java|0 74
Added: hudi-client/src/main/java/org/apache/hudi/io/AppendHandleFactory.java|36 0
Added: hudi-client/src/main/java/org/apache/hudi/io/CreateHandleFactory.java|36 0
Added: hudi-client/src/main/java/org/apache/hudi/io/WriteHandleFactory.java|35 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|2 2

Revision: 06dae30297ea02ab122c9029a54f7927e8212039
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 28/04/2020 23:38:16
Message:
[HUDI-810] Migrate ClientTestHarness to JUnit 5 (#1553) #MsgLength=57


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java|9 8
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|11 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|27 22
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|21 21
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|4 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|9 9
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java|19 14
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|15 21
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|45 41
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|39 40
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|103 108
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|10 10
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|8 8
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|36 35
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|14 15
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java|11 9
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|44 45
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java|17 16
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|32 36
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|31 26
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|55 59
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|35 33
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|95 95
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|51 53
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|7 10
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|82 81
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|25 15
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|99 99
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|17 21
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|38 34
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|64 83
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|16 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|12 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|10 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|123 140

Revision: 69b16309c8c46f831c8b9be42de8b2e29c74f03e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/04/2020 13:57:28
Message:
[HUDI-814] Migrate hudi-client tests to JUnit 5 (#1570) #MsgLength=57


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/config/TestHoodieWriteConfig.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|12 12
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|26 28

Revision: 9059bce977cee98e2d65769622c46a1941c563dd
Author: hongdd <jn_hdd@163.com>
Date: 29/04/2020 18:47:27
Message:
[HUDI-702] Add test for HoodieLogFileCommand (#1522) #MsgLength=54


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|11 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|13 6
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|222 0

Revision: c4b71622b90fc66f20f361d4c083b0a396572b75
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 01/05/2020 00:19:39
Message:
[MINOR] Reorder HoodieTimeline#compareTimestamp arguments for better readability (#1575) #MsgLength=164


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|9 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineDiffHelper.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|2 2

Revision: 506447fd4fde4cd922f7aa8f4e17a7f06666dc97
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/05/2020 12:37:21
Message:
[HUDI-850] Avoid unnecessary listings in incremental cleaning mode (#1576) #MsgLength=76


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|64 23
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|21 22
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|0 3

Revision: 096f7f55b2553265c0b72f42a1eb7f291e5626ad
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/05/2020 12:43:42
Message:
[HUDI-813] Migrate hudi-utilities tests to JUnit 5 (#1589) #MsgLength=60


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestAWSDatabaseMigrationServiceSource.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java|16 17
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|7 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java|40 48
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieMultiTableDeltaStreamer.java|35 43
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java|6 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java|22 26
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java|11 11
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|10 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestFlatteningTransformer.java|2 2

Revision: 5e0f5e5521c52a08c284a92a3a6a00e34805cce5
Author: AakashPradeep <email2aakash@gmail.com>
Date: 04/05/2020 14:09:17
Message:
[HUDI-852] adding check for table name for Append Save mode  (#1580) #MsgLength=246


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|8 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|56 4

Revision: e21441ad8317f302fed947c414e059a332e4d1ef
Author: bschell <bdscheller@gmail.com>
Date: 05/05/2020 02:27:14
Message:
Add changes for presto mor queries (#1578) #MsgLength=211


----
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/UseRecordReaderFromInputFormat.java|38 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java|21 2
Modified: packaging/hudi-presto-bundle/pom.xml|18 0

Revision: 366bb10d8c4fe98424f09a6cf6f4aee7716451a4
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/05/2020 19:15:20
Message:
[HUDI-812] Migrate hudi common tests to JUnit 5 (#1590) #MsgLength=106


----
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|2 2
Modified: hudi-common/pom.xml|1 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/bloom/TestBloomFilter.java|22 29
Modified: hudi-common/src/test/java/org/apache/hudi/common/bloom/TestInternalDynamicBloomFilter.java|6 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|64 62
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestHFileInLining.java|17 17
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|58 90
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInMemoryFileSystem.java|23 38
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|15 12
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|6 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|6 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java|183 180
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java|10 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatVersion.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|36 39
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|64 60
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDBBasedIncrementalFSViewSync.java|3 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java [from hudi-common/src/test/java/org/apache/hudi/common/HoodieCommonTestHarness.java]|6 9
Deleted: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarnessJunit5.java|0 52
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java|7 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestBase64CodecUtil.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|28 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|13 20
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestNumericUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|30 37
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializationUtils.java|10 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|8 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|17 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java|29 24
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|7 6
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java|3 3
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|5 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|2 2
Modified: pom.xml|0 8
Modified: style/checkstyle.xml|4 2

Revision: f921469afcd03baaf2a4f3266c8ba97e516d6935
Author: hongdd <jn_hdd@163.com>
Date: 07/05/2020 23:02:28
Message:
[HUDI-704] Add test for RepairsCommand (#1554) #MsgLength=48


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|9 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|31 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|6 5
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|207 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|179 0
Added: hudi-cli/src/test/resources/table-config.properties|21 0

Revision: e783ab174946a0b767396239c0132c31c8d26458
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 08/05/2020 04:05:32
Message:
[HUDI-784] Adressing issue with log reader on GCS (#1516) #MsgLength=180


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|4 4

Revision: d54b4b8a525868ea6d15e2e2cc6ffccc62d5c43c
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 08/05/2020 07:33:09
Message:
[HUDI-838] Support schema from HoodieCommitMetadata for HiveSync (#1559) #MsgLength=118


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|57 7
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|4 3
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|80 30
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java|47 16

Revision: fa6aba751d8de16d9d109a8cfc21150b17b59cff
Author: Carm <154939034@qq.com>
Date: 10/05/2020 09:45:07
Message:
[MINOR] fixed building IndexFileFilter with a wrong condition in HoodieGlobalBloomIndex class (#1537) #MsgLength=103


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|1 1

Revision: f92b9fdcc4d7c0dff9953e42205fca22472525c9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 11/05/2020 07:23:26
Message:
[MINOR] Fix hardcoding of ports in TestHoodieJmxMetrics (#1606) #MsgLength=65


----
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java|5 14
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/NetworkTestUtils.java|35 0

Revision: 8d0e23173b3f21d7cdb24942913eb1132a111a32
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 11/05/2020 09:25:54
Message:
[HUDI-820] cleaner repair command should only inspect clean metadata files (#1542) #MsgLength=84


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|15 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java|12 1

Revision: 6dac10115c155b619734938caac447c8b04d4c8e
Author: Shen Hong <shenh062326@126.com>
Date: 11/05/2020 19:05:36
Message:
[HUDI-870] Remove spark context in ClientUtils and HoodieIndex (#1609) #MsgLength=72


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java|4 5
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1

Revision: 5d37e66b7ee99a4a496261d98e33e3244b9b9a2a
Author: liujinhui <965147871@qq.com>
Date: 11/05/2020 23:14:43
Message:
[MINOR] Fix HoodieNotSupportedException description in KafkaOffsetGen  (#1615) #MsgLength=80


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1

Revision: 295d00beea1c84f83d707f7c6e70292787f1e3e0
Author: Shen Hong <shenh062326@126.com>
Date: 12/05/2020 14:33:57
Message:
[HUDI-880] Replace part of spark context by hadoop configuration in HoodieTable. (#1614) #MsgLength=90


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|4 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|14 14
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|3 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|9 9
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|13 13
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|8 8
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|23 23
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|5 5
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|1 1

Revision: b54517aad07750071c9df164d9e573ed3335652d
Author: Shen Hong <shenh062326@126.com>
Date: 12/05/2020 23:51:31
Message:
[HUDI-886] Replace jsc.hadoopConfiguration by hadoop configuration in hudi-client testcase (#1621) #MsgLength=100


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|18 18
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|22 22
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|19 19

Revision: e8ffc6f0aa91e2ba2f4affe09d4cb29bd12d41e4
Author: Shen Hong <shenh062326@126.com>
Date: 13/05/2020 00:33:29
Message:
[HUDI-881] Replace part of spark context by hadoop configuration in AbstractHoodieClient and HoodieReadClient (#1620) #MsgLength=119


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1

Revision: 404c7e82d9b538c356f93ffbbcb2c20d23310fd0
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 13/05/2020 02:40:31
Message:
[HUDI-884] Shade avro and parquet-avro in hudi-hive-sync-bundle (#1618) #MsgLength=117


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|9 2
Modified: packaging/hudi-hive-sync-bundle/pom.xml|19 0

Revision: 32ea4c70ff259798dee571670dbcc501cc477cb0
Author: liujinhui <965147871@qq.com>
Date: 13/05/2020 21:00:34
Message:
[HUDI-869] Add support for alluxio (#1608) #MsgLength=44


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java|1 0

Revision: 32bada29dc95f1d5910713ae6b4f4a4ef39677c9
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 14/05/2020 00:20:13
Message:
[HUDI-889] Writer supports useJdbc configuration when hive synchronization is enabled (#1627) #MsgLength=95


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 1

Revision: 0d4848b68b625a17d05b38864a84a6cc71189bfa
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 14/05/2020 06:37:03
Message:
[HUDI-811] Restructure test packages (#1607) #MsgLength=206


----
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|1 0
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputPathHandlerTest.java]|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/hive/TestHoodieCombineHiveInputFormat.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieCombineHiveInputFormat.java]|2 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java]|2 1
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 0
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/HiveTestService.java]|1 1
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestUtil.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestUtil.java]|12 10
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 0
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 0
Renamed: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java [from hudi-spark/src/test/java/DataSourceUtilsTest.java]|4 3
Renamed: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java [from hudi-spark/src/test/java/DataSourceTestUtils.java]|3 0
Renamed: hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala [from hudi-spark/src/test/scala/TestDataSourceDefaults.scala]|2 1
Renamed: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala [from hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala]|2 1
Renamed: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala [from hudi-spark/src/test/scala/TestDataSource.scala]|3 0
Renamed: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java [from hudi-timeline-service/src/test/java/org/apache/hudi/timeline/table/view/TestRemoteHoodieTableFileSystemView.java]|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|7 7
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/deltastreamer/TestSchedulerConfGenerator.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchedulerConfGenerator.java]|1 3
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestAWSDatabaseMigrationServiceSource.java]|2 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java]|2 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieDeltaStreamer.java]|5 4
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieMultiTableDeltaStreamer.java]|1 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotCopier.java]|2 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java]|2 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestJdbcbasedSchemaProvider.java]|3 1
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/TestTimestampBasedKeyGenerator.java]|1 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|4 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|1 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonDFSSource.java|4 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSource.java|3 2
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/UtilitiesTestBase.java]|4 3
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractBaseTestSource.java]|4 3
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/AbstractDFSSourceTestBase.java]|17 17
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/DistributedTestDataSource.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/DistributedTestDataSource.java]|3 2
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/config/TestSourceConfig.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/config/TestSourceConfig.java]|1 1

Revision: 83796b3189570182c68a9c41e57b356124c301ca
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 14/05/2020 09:04:38
Message:
[HUDI-793] Adding proper default to hudi metadata fields and proper handling to rewrite routine (#1513) #MsgLength=303


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|11 6
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|4 3

Revision: 3a2fe13fcb7c168f8ff023e3bdb6ae482b400316
Author: hongdd <jn_hdd@163.com>
Date: 14/05/2020 19:15:49
Message:
[HUDI-701] Add unit test for HDFSParquetImportCommand (#1574) #MsgLength=63


----
Modified: hudi-cli/pom.xml|7 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|3 5
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|9 10
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|186 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|4 4

Revision: f094f4285782e1253b52fef788fa7461c67d95a7
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 15/05/2020 04:37:59
Message:
[HUDI-843] Add ability to specify time unit for  TimestampBasedKeyGenerator (#1541) #MsgLength=203


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java|39 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java|21 5

Revision: a64afdfd17ac974e451bceb877f3d40a9c775253
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 15/05/2020 13:55:25
Message:
HUDI-528 Handle empty commit in incremental pulling (#1612) #MsgLength=61


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|12 17
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala|8 0

Revision: 25e0b75b3d03b6d460dc18d1a5fce7b881b0e019
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 16/05/2020 03:44:03
Message:
[HUDI-723] Register avro schema if infered from SQL transformation (#1518) #MsgLength=395


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|22 17
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DelegatingSchemaProvider.java|51 0

Revision: 2ada2ef50fc373ed3083d0e7a96e5e644be52bfb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/05/2020 12:33:02
Message:
[HUDI-902] Avoid exception when getSchemaProvider (#1584) #MsgLength=183


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|22 2
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestInputBatch.java|37 0

Revision: 148b2458f678025698a802cc9f72ee11dc829a1a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/05/2020 16:11:57
Message:
[MINOR] Increase heap space for surefire (#1623) #MsgLength=50


----
Modified: pom.xml|1 0

Revision: 25a0080b2f6ddce0e528b2a72aea33a565f0e565
Author: Mathieu <wxhjsxz@126.com>
Date: 16/05/2020 20:36:51
Message:
[HUDI-714]Add javadoc and comments to hudi write method link (#1409) #MsgLength=133


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java|9 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|7 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|27 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|8 7

Revision: 3c9da2e5f038ea90a823334a7b07bb4d13f90996
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 18/05/2020 09:18:53
Message:
[HUDI-895] Remove unnecessary listing .hoodie folder when using timeline server (#1636) #MsgLength=89


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|2 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|35 24

Revision: 29edf4b3b8ade64ec7822d6b7b2a125d5ca781c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 18/05/2020 09:32:24
Message:
[HUDI-407] Adding Simple Index to Hoodie. (#1402) #MsgLength=138


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|46 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|11 4
Added: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|90 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|6 29
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|4 3
Added: hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java|169 0
Added: hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java|181 0
Added: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|57 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|484 26
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|0 1
Added: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|210 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|18 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|51 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|34 1

Revision: 57132f79bb2dad6cfb215480b435a778714a442d
Author: hongdd <jn_hdd@163.com>
Date: 18/05/2020 14:04:06
Message:
[HUDI-705] Add unit test for RollbacksCommand (#1611) #MsgLength=55


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|10 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|12 7
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|182 0

Revision: 459356e292ea869ffe5f39235646dc474da76ea5
Author: rolandjohann <rmmjohann@gmail.com>
Date: 18/05/2020 19:28:27
Message:
[HUDI-863] get decimal properties from derived spark DataType (#1596) #MsgLength=71


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|10 12
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|1 3

Revision: 2600d2de8d9d963db920ff486032482a946fe3d6
Author: Joey <joey.frazee@icloud.com>
Date: 19/05/2020 02:16:49
Message:
[MINOR] Fix apache-rat violations (#1639) #MsgLength=137


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|17 15
Modified: hudi-integ-test/pom.xml|4 0
Modified: hudi-utilities/pom.xml|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSnapshotExporterException.java|18 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestInputBatch.java|18 0
Modified: pom.xml|1 0

Revision: e6f3bf10cf2c62a1008b82765abdcd33cfd64c67
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 19/05/2020 10:27:24
Message:
[HUDI-858] Allow multiple operations to be executed within a single commit (#1633) #MsgLength=84


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|25 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|38 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|17 3

Revision: 161a7983375b0787398a1219a80531019810e692
Author: hongdd <jn_hdd@163.com>
Date: 19/05/2020 18:36:01
Message:
[HUDI-706] Add unit test for SavepointsCommand (#1624) #MsgLength=56


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|5 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|47 29
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|42 6
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|110 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|157 0

Revision: 0dc2fa6172cd62a6ea3b117735132ff9a80211a2
Author: wenningd <wenningding95@gmail.com>
Date: 20/05/2020 12:03:54
Message:
[MINOR] Fix HoodieCompactor config abbreviation (#1642) #MsgLength=107


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1

Revision: 244d47494e2d4d5b3ca60e460e1feb9351fb8e69
Author: rolandjohann <rmmjohann@gmail.com>
Date: 20/05/2020 19:22:35
Message:
[HUDI-888] fix NullPointerException in HoodieCompactor (#1622) #MsgLength=64


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|18 7

Revision: f802d4400b14a4b11be6f6a1b758e1bb6fbb62a3
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 20/05/2020 20:07:30
Message:
[MINOR] Fix resource cleanup in TestTableSchemaEvolution (#1640) #MsgLength=171


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|3 3
Modified: pom.xml|2 1

Revision: 74ecc27e920c70fa4598d8e5a696954203a5b127
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 20/05/2020 20:29:43
Message:
[HUDI-846][HUDI-848] Enable Incremental cleaning and embedded timeline-server by default (#1634) #MsgLength=98


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|8 1
Modified: hudi-hive-sync/pom.xml|0 6
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|1 0
Modified: hudi-spark/pom.xml|43 1
Modified: hudi-utilities/pom.xml|1 6
Modified: pom.xml|1 8

Revision: 6a0aa9a645d11ed7b50e18aa0563dafcd9d145f7
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 21/05/2020 00:04:43
Message:
[HUDI-803] Replaced used of NullNode with JsonProperties.NULL_VALUE in HoodieAvroUtils (#1538) #MsgLength=202


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|8 9
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|89 4

Revision: 802d16c8c9793156ef7fef0c59088040800fe025
Author: hongdd <jn_hdd@163.com>
Date: 21/05/2020 18:28:04
Message:
[HUDI-707] Add unit test for StatsCommand (#1645) #MsgLength=51


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|17 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|22 9
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|1 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|176 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|20 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java|23 0

Revision: f34de3fb2738c8c36c937eba8df2a6848fafa886
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 23/05/2020 00:14:21
Message:
[HUDI-836] Implement datadog metrics reporter (#1572) #MsgLength=122


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|3 0
Added: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java|127 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|44 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|1 1
Added: hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java|127 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java|93 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java|171 0
Added: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|152 0
Added: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java|77 0
Added: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|105 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 1

Revision: 45acccdb8a1aadc8aa499f0eb564f98247880357
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 24/05/2020 05:51:58
Message:
[MINOR] Remove incubating from README #MsgLength=37


----
Modified: README.md|2 2

Revision: d3edac4612bde2fa9deca9536801dbc48961fb95
Author: sathyaprakashg <sathyaprakashg@gmail.com>
Date: 24/05/2020 16:09:18
Message:
HUDI-921 Remove inlineCompactionEvery method in HoodieCompactionConfig.Builder (#1654) #MsgLength=162


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|0 5

Revision: f22c3e933e828d1342bed67874b9ab3fee0ad099
Author: leesf <leesf@apache.org>
Date: 24/05/2020 18:27:08
Message:
[HUDI-926] Removing DISCLAIMER from the repo (#1657) #MsgLength=54


----
Deleted: DISCLAIMER|0 10

Revision: 492f324bc79febd8299fbb837b67c900ace18ac2
Author: leesf <leesf@apache.org>
Date: 24/05/2020 18:28:13
Message:
[HUDI-938] Removing incubating/incubator from project (#1658) #MsgLength=63


----
Modified: NOTICE|1 1
Modified: README.md|3 3
Modified: doap_HUDI.rdf|3 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|1 1
Modified: pom.xml|5 9
Modified: scripts/release/cut_release_branch.sh|6 6
Modified: scripts/release/preparation_before_release.sh|2 2
Modified: scripts/release/validate_staged_release.sh|11 11

Revision: 46572d04c4fed19941cb136882d4895d36b5c2fb
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 26/05/2020 00:12:29
Message:
[MINOR] Fix PMC tag in doap file (#1666) #MsgLength=42


----
Modified: doap_HUDI.rdf|1 0

Revision: 6c450957ced051de6231ad047bce22752210b786
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/05/2020 00:23:34
Message:
[HUDI-690] Filter out inflight compaction in exporter (#1667) #MsgLength=63


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|3 2

Revision: 9697fbf71ead328cae6d56e9f99872e871342887
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date: 27/05/2020 12:09:02
Message:
[HUDI-936] Fix fetch ordering val in HoodieSparkSqlWriter to remove unnecessary conversion to String (#1659) #MsgLength=110


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2

Revision: 03f136361a5fed594855992ab10bee8bb5060c5b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/05/2020 16:28:17
Message:
[HUDI-811] Restructure test packages in hudi-common (#1644) #MsgLength=114


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|10 10
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|6 7
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java [from hudi-common/src/test/java/org/apache/hudi/common/storage/TestStorageSchemes.java]|1 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|3 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java [from hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestHFileInLining.java]|8 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInMemoryFileSystem.java|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java [from hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java]|8 5
Renamed: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java [from hudi-common/src/test/java/org/apache/hudi/common/table/log/TestHoodieLogFormatAppendFailure.java]|5 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|2 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestTimelineLayout.java [from hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineLayout.java]|1 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestRocksDbBasedFileSystemView.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/AvroBinaryTestPayload.java [from hudi-common/src/test/java/org/apache/hudi/common/model/AvroBinaryTestPayload.java]|2 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/CompactionTestUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/util/CompactionTestUtils.java]|5 3
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileSystemTestUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/fs/inline/FileSystemTestUtils.java]|8 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|0 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/model/HoodieTestUtils.java]|9 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/MockHoodieTimeline.java [from hudi-common/src/test/java/org/apache/hudi/common/table/timeline/MockHoodieTimeline.java]|5 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/SampleTestRecord.java [from hudi-common/src/test/java/org/apache/hudi/common/util/TestRecord.java]|4 4
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java [from hudi-common/src/test/java/org/apache/hudi/common/util/SchemaTestUtil.java]|4 3
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/SpillableMapTestUtils.java [from hudi-common/src/test/java/org/apache/hudi/common/util/SpillableMapTestUtils.java]|2 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java [from hudi-common/src/test/java/org/apache/hudi/common/minicluster/HdfsTestService.java]|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/MiniClusterUtil.java [from hudi-common/src/test/java/org/apache/hudi/common/minicluster/MiniClusterUtil.java]|1 1
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/ZookeeperTestService.java [from hudi-common/src/test/java/org/apache/hudi/common/minicluster/ZookeeperTestService.java]|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|2 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBDAO.java [from hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDBManager.java]|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|1 1
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/hive/TestHoodieCombineHiveInputFormat.java]|5 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|2 2
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|113 113
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|1 1
Renamed: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestUtil.java]|4 4
Modified: hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|2 2

Revision: bde7a7043e100242fec8fc0111e489a269a1d997
Author: dengziming <dengziming1993@gmail.com>
Date: 28/05/2020 01:44:39
Message:
[HUDI-476]: Add hudi-examples module (#1151) #MsgLength=402


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|5 0
Added: hudi-examples/README.md|35 0
Added: hudi-examples/bin/custom-delta-streamer-example.sh|35 0
Added: hudi-examples/bin/dfs-delta-streamer-example.sh|35 0
Added: hudi-examples/bin/hudi-delta-streamer|39 0
Added: hudi-examples/bin/kafka-delta-streamer-example.sh|36 0
Added: hudi-examples/pom.xml|199 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java|40 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|186 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java|60 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/common/IdentityTransformer.java|38 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/common/RandomJsonSource.java|48 0
Renamed: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java [from hudi-client/src/test/java/HoodieClientExample.java]|80 91
Added: hudi-examples/src/main/resources/delta-streamer-config/dfs/source-file.json|10 0
Added: hudi-examples/src/main/resources/delta-streamer-config/kafka/kafka-source.properties|31 0
Added: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|173 0
Modified: pom.xml|10 0

Revision: 3574a89232ad8573d1f76b27f127cc2ab9195e38
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 29/05/2020 01:50:47
Message:
[HUDI-973] RemoteHoodieTableFileSystemView supports non-partitioned table queries (#1674) #MsgLength=91


----
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|12 12

Revision: 5a0d3f1cf963e0061364d915ac86a465dd079bac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 29/05/2020 03:59:11
Message:
[HUDI-786] Fixing read beyond inline length in InlineFS (#1616) #MsgLength=65


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFsDataInputStream.java|22 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|27 25

Revision: 7fb1251c6ed769ea6877126957a03c5f95d42d8f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/05/2020 08:42:20
Message:
[HUDI-980] Fixing dir path for metastore_db and derby.logs generated in hive tests (#1688) #MsgLength=92


----
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|1 0

Revision: 1a9fef48e767c2bb56b9fba5cac48540c5d6c6c1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 31/05/2020 11:09:21
Message:
Fixing binary file checks and disclaimer file checks (#1691) #MsgLength=62


----
Modified: scripts/release/validate_staged_release.sh|4 4

Revision: 8cb86b4d36de2ee7f8360b715f9f85c635c71a90
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 01/06/2020 13:53:50
Message:
Added python3 to the spark_base docker image to support pyspark (#1632) #MsgLength=73


----
Modified: docker/hoodie/hadoop/spark_base/Dockerfile|6 0

Revision: 7c59095314f5525590eea308084079a31bde3e17
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 01/06/2020 22:23:28
Message:
[HUDI-975] Add unit tests in TestHoodieTableFileSystemView to test view for non-partitioned table (#1692) #MsgLength=107


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|13 7

Revision: 742c2040995167871db976fc0eb280347401ffc4
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 02/06/2020 10:25:42
Message:
[HUDI-811] Restructure test packages in hudi-client/cli (#1689) #MsgLength=65


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|7 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|3 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|6 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|7 8
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|2 3
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java [from hudi-cli/src/test/java/org/apache/hudi/cli/AbstractShellIntegrationTest.java]|2 2
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java [from hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitMetadataGenerator.java]|2 2
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitUtilities.java [from hudi-cli/src/test/java/org/apache/hudi/cli/common/HoodieTestCommitUtilities.java]|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|7 6
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|12 11
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java [from hudi-client/src/test/java/org/apache/hudi/common/config/TestHoodieWriteConfig.java]|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java [from hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutor.java]|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|3 3
Renamed: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java [from hudi-client/src/test/java/org/apache/hudi/index/TestHbaseIndex.java]|8 9
Renamed: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java [from hudi-client/src/test/java/org/apache/hudi/index/TestHBaseQPSResourceAllocator.java]|4 6
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java [from hudi-client/src/test/java/org/apache/hudi/table/TestMergeOnReadTable.java]|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java [from hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientBase.java]|65 66
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java [from hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestHarness.java]|3 8
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java [from hudi-client/src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java [from hudi-client/src/test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java]|1 1
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java [from hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java]|2 2
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/TestRawTripPayload.java [from hudi-client/src/test/java/org/apache/hudi/common/TestRawTripPayload.java]|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Modified: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|0 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala|1 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java|1 1

Revision: a9a97d6af47841caaa745497ec425267db0873c8
Author: Yajun Luo <499253305@qq.com>
Date: 02/06/2020 19:50:55
Message:
[HUDI-934] Add processing logic for the decimal LogicalType (#1677) #MsgLength=69


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|10 0

Revision: a68180b179ae57f16ff0a8d74b72b43b501d36c6
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 02/06/2020 16:49:37
Message:
[HUDI-988] Fix Unit Test Flakiness : Ensure all instantiations of HoodieWriteClient is closed properly. Fix bug in TestRollbacks. Make CLI unit tests for Hudi CLI check skip redering strings #MsgLength=191


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|9 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|6 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|9 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|9 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|12 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|8 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|3 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|6 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|6 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java|9 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|0 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|3 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|2 5
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|9 12
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|4 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|19 22
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|3 6
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|0 19
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|35 2
Modified: pom.xml|1 1

Revision: fb283934a33a0bc7b11f80e4149f7922fa4f0af5
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 03/06/2020 15:35:14
Message:
[HUDI-990] Timeline API : filterCompletedAndCompactionInstants needs to handle requested state correctly. Also ensure timeline gets reloaded after we revert committed transactions #MsgLength=180


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|3 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|5 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|21 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 1

Revision: e9cab67b8095b30205af27498dc0b279d188a454
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date: 06/06/2020 08:25:59
Message:
[HUDI-988] Fix More Unit Test Flakiness #MsgLength=40


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|0 8
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|0 12
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|2 11
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 2
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 3
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|57 66
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|3 29
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|2 21
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 4
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|53 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|6 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|1 1
Modified: pom.xml|1 1

Revision: e0a5e0d3435acc5f01812aa46d96cc7d5eb65860
Author: hj2016 <hj3245459@163.com>
Date: 08/06/2020 15:34:42
Message:
[HUDI-1000] Fix incremental query for COW non-partitioned table with no data (#1708) #MsgLength=86


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|1 1

Revision: 2901f5423a08c8f0c5fe60c8a3f23acbd36c0aed
Author: Shen Hong <shenh062326@126.com>
Date: 08/06/2020 19:38:32
Message:
[HUDI-1002] Ignore case when setting incremental mode in hive query (#1715) #MsgLength=77


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|3 1

Revision: 97ab97b72635164db5ac2a4f93e72e224603ffe0
Author: liujinhui <965147871@qq.com>
Date: 08/06/2020 20:46:47
Message:
[HUDI-918] Fix kafkaOffsetGen can not read kafka data bug (#1652) #MsgLength=67


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|6 0

Revision: 7d40f19f395460bc78a12ac452831a9f0393ab49
Author: Wenning Ding <wenningd@amazon.com>
Date: 17/05/2020 04:39:53
Message:
HUDI-515 Resolve API conflict for Hive 2 & Hive 3 #MsgLength=50


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|36 7
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|3 1

Revision: 9e07cebece3b4c8b964ddca2f40053734a392ce2
Author: lw0090 <lw309637554@gmail.com>
Date: 09/06/2020 09:22:06
Message:
[HUDI-974]  Fix fields out of order in MOR mode when using Hive (#1711) #MsgLength=73


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1

Revision: 22cd824d993bf43d88121ea89bad3a1f23a28518
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date: 15/05/2020 11:20:44
Message:
HUDI-494 fix incorrect record size estimation #MsgLength=46


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|13 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|0 31
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|5 3
Deleted: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieRecordSizing.java|0 116
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|91 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java|7 1

Revision: 6318e943d168b961e4def3f37de47faf9ae44136
Author: Shen Hong <shenh062326@126.com>
Date: 09/06/2020 19:14:26
Message:
[HUDI-1016] Code optimization in MergeOnReadRollbackActionExecutor(#1718) #MsgLength=75


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|3 4

Revision: 3387b3841f784fef2bb8548375b8c2078bc03506
Author: shenhong <shenh062326@126.com>
Date: 08/06/2020 11:59:09
Message:
[HUDI-1005] fix NPE in HoodieWriteClient.clean #MsgLength=47


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|1 1

Revision: 37838cea6094ddc66191df42e8b2c84f132d1623
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 09/06/2020 21:10:16
Message:
[HUDI-822] decouple Hudi related logics from HoodieInputFormat (#1592) #MsgLength=139


----
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|5 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|25 211
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|2 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|2 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/config/HoodieRealtimeConfig.java|42 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|9 262
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java|2 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|9 97
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|21 14
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|5 3
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java]|3 3
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|342 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|154 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|271 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|14 13
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|2 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|5 5

Revision: df2e0c760e7df0bd1b200867b3f0d2ca3a3f1fce
Author: sathyaprakashg <sathyaprakashg@gmail.com>
Date: 11/06/2020 07:16:44
Message:
HUDI-942 Increase default value number of delta commits for inline compaction (#1664) #MsgLength=161


----
Modified: docker/demo/compaction.commands|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|2 0
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|3 0

Revision: a7fd33162447b4c2816d1910bb166721cff1ed31
Author: Satish Kotha <satishkotha@uber.com>
Date: 09/06/2020 03:09:21
Message:
Add unit test for snapshot reads in hadoop-mr #MsgLength=46


----
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|40 13
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|33 0

Revision: fcabc8fbca1670c9d50105495278ff147ccbdd4a
Author: hongdd <jn_hdd@163.com>
Date: 14/06/2020 14:30:28
Message:
[HUDI-1019] Clean refresh command in CLI (#1725) #MsgLength=50


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|0 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|3 9
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|10 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|52 0

Revision: 31ef4acc59e82c55862e9170e7511a0a06024748
Author: vinoyang <yanghua1127@gmail.com>
Date: 14/06/2020 16:27:26
Message:
[MINOR] Fix the ordered list for the hudi-examples README file (#1733) #MsgLength=72


----
Modified: hudi-examples/README.md|10 0

Revision: ede6c9bda4dba8a9981252bd05f0725ff1024b95
Author: Litianye <litianyeye@outlook.com>
Date: 14/06/2020 18:01:44
Message:
[HUDI-1006] Deltastreamer use kafkaSource with offset reset strategy:latest can't consume data (#1719) #MsgLength=104


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|2 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|0 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|38 5

Revision: 043eb564c2c7e4578237b5d0f2bbad8276db51f4
Author: Yajun Luo <yajunfree@163.com>
Date: 15/06/2020 19:02:03
Message:
[HUDI-1003] Handle partitions correctly for syncing hudi non-parititioned table to hive (#1720) #MsgLength=97


----
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|6 0
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|29 0

Revision: 2a04647f5e7b33e7a4d658b1258d21cc947b6f94
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 17/06/2020 03:47:30
Message:
[MINOR] Updating doap file for 0.5.3 release (#1740) #MsgLength=54


----
Modified: doap_HUDI.rdf|6 1

Revision: 5099a91edd3aaba114a86251336ae98374722270
Author: hongdd <jn_hdd@163.com>
Date: 18/06/2020 19:54:14
Message:
[HUDI-709] Add unit test for UtilsCommand (#1686) #MsgLength=51


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java|11 4
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUtilsCommand.java|77 0

Revision: f3a701757b9fb838acc4fb2975f378009d71f104
Author: hongdd <jn_hdd@163.com>
Date: 18/06/2020 21:42:13
Message:
[HUDI-696] Add unit test for CommitsCommand (#1724) #MsgLength=53


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|29 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|52 32
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|3 3
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|320 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|3 3
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|98 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|6 1

Revision: ab724af5c4e5b267919ee2a07ef41169f24924cd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 20/06/2020 03:08:19
Message:
[MINOR] Rename `TestSourceConfig` to `SourceConfigs` (#1749) #MsgLength=62


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/DistributedTestDataSource.java|4 4
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/config/SourceConfigs.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/config/TestSourceConfig.java]|1 1

Revision: 8a9fdd603e3e532ea5252b98205acfb8aa648795
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 20/06/2020 03:12:35
Message:
[HUDI-1023] Add validation error messages in delta sync (#1710) #MsgLength=138


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|44 44
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|16 9

Revision: 68a656b01650cfcd8c099dd04cea59fb083dca69
Author: wangxianghu <wxhjsxz@126.com>
Date: 21/06/2020 22:34:47
Message:
[HUDI-1032] Remove unused code in HoodieCopyOnWriteTable and code clean (#1750) #MsgLength=81


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|1 64
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|1 4

Revision: 89e37d5273ea1c6bf2fe3a8f7053e7a3cc44011d
Author: Shen Hong <shenh062326@126.com>
Date: 22/06/2020 23:13:28
Message:
[HUDI-908] Add some data types to HoodieTestDataGenerator and fix some some bugs. (#1690) #MsgLength=91


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|7 6
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java|32 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|11 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|2 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|5 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|35 2
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|34 0

Revision: 5e476733417c3f92ea97d3e5f9a5c8bc48246e99
Author: wangxianghu <wxhjsxz@126.com>
Date: 24/06/2020 08:01:03
Message:
[HUDI-1035] Remove unused class KeyLookupResult (#1754) #MsgLength=57


----
Deleted: hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyLookupResult.java|0 49

Revision: 2603cfb33e272632d7f36a53e1b13fe86dbb8627
Author: Prashant Wason <pwason@uber.com>
Date: 26/06/2020 14:46:55
Message:
[HUDI-684] Introduced abstraction for writing and reading different types of base file formats. (#1687) #MsgLength=712


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|7 8
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|10 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|9 10
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java|3 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java|10 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|9 1
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriter.java]|1 1
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieStorageWriterFactory.java]|5 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|3 14
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|8 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|31 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|7 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java|4 2
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|5 1
Renamed: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java [from hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieStorageWriterFactory.java]|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|170 116
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|10 4
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|19 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|20 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|28 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|5 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|27 71
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|132 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetReaderIterator.java [from hudi-client/src/main/java/org/apache/hudi/client/utils/ParquetReaderIterator.java]|1 1
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java|44 0
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java|47 0
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|80 0
Added: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieAvroLogFormat.java|30 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|71 53
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|45 5
Renamed: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetReaderIterator.java [from hudi-client/src/test/java/org/apache/hudi/client/utils/TestParquetReaderIterator.java]|1 1
Added: hudi-common/src/test/java/org/apache/hudi/io/storage/TestHoodieFileReaderFactory.java|54 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|3 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|6 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|59 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|7 8
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|17 14
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|15 8
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|3 0
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|19 18
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|9 1
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|15 0

Revision: 31247e9b3417871d90454c1c62f8d3bdcbd7ffa9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 28/06/2020 14:16:12
Message:
[HUDI-896] Report test coverage by modules & parallelize CI (#1753) #MsgLength=237


----
Modified: .codecov.yml|45 0
Modified: .travis.yml|14 7
Modified: hudi-cli/pom.xml|2 23
Added: hudi-client/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|48 0
Modified: hudi-integ-test/pom.xml|3 25
Modified: hudi-spark/pom.xml|1 0
Modified: hudi-timeline-service/pom.xml|0 4
Modified: packaging/hudi-spark-bundle/pom.xml|0 18
Modified: pom.xml|191 42
Added: scripts/report_coverage.sh|33 0
Modified: scripts/run_travis_tests.sh|10 8

Revision: 8919be6a5d8038db7265bfd7459d72fbd545f133
Author: Balaji Varadarajan <varadarb@uber.com>
Date: 28/06/2020 17:04:50
Message:
[HUDI-855] Run Cleaner async with writing (#1577) #MsgLength=187


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|13 15
Deleted: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCleansCommand.java|0 106
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|17 3
Renamed: hudi-client/src/main/java/org/apache/hudi/async/AbstractAsyncService.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/AbstractDeltaStreamerService.java]|12 10
Added: hudi-client/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|85 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|35 15
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|10 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|25 25
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 2

Revision: 2be924fd3a04e2106f1ad3f9ce91890ea58c8a88
Author: baobaoyeye <bao.renyi@gmail.com>
Date: 01/07/2020 11:07:09
Message:
[HUDI-760]Remove Rolling Stat management from Hudi Writer (#1739) #MsgLength=67


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 46
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 14
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|11 20
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|45 75

Revision: 37ea79566de190605d0a941d6b65e2f46196de88
Author: andreitaleanu <andrei.taleanu@gmail.com>
Date: 04/07/2020 04:39:53
Message:
[HUDI-539] Make HoodieROTablePathFilter implement Configurable (#1784) #MsgLength=122


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|12 1

Revision: 574dcf920c4677513f6fdc8d441bb42827afa5a2
Author: Cory Locklear <corylocklear@gmail.com>
Date: 04/07/2020 07:22:52
Message:
[MINOR] Relocate jetty during shading/packaging for Databricks runtime (#1781) #MsgLength=80


----
Modified: packaging/hudi-spark-bundle/pom.xml|15 12

Revision: 3b9a30528bd6a6369181702303f3384162b04a7f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/07/2020 07:44:31
Message:
[HUDI-996] Add functional test suite for hudi-utilities (#1746) #MsgLength=166


----
Added: hudi-client/src/test/java/org/apache/hudi/testutils/DFSProvider.java|34 0
Added: hudi-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|122 0
Added: hudi-client/src/test/java/org/apache/hudi/testutils/SparkProvider.java|55 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|2 2
Modified: hudi-utilities/pom.xml|18 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|57 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|10 20
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java|7 24
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestChainedTransformer.java|69 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|145 195
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|10 26
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|46 79
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java|8 16
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/UtilitiesFunctionalTestSuite.java|32 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestChainedTransformer.java|0 52
Modified: pom.xml|24 2
Modified: style/checkstyle.xml|1 1

Revision: be85a6c32bd9ef1931f2af7d268a7e0cb8631002
Author: Shen Hong <shenh062326@126.com>
Date: 07/07/2020 00:44:02
Message:
[HUDI-1004] Support update metrics in HoodieDeltaStreamerMetrics (#1732) #MsgLength=74


----
Added: hudi-client/src/main/java/org/apache/hudi/metrics/HoodieGauge.java|52 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|2 2

Revision: 8c4ff185f1752b5041c4e66ac595bd90c2693137
Author: mabin001 <mabin194046@163.com>
Date: 07/07/2020 19:10:16
Message:
[HUDI-1064]Trim hoodie table name (#1805) #MsgLength=43


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 10

Revision: 7b2a947aed5649f8cbbade748e464e1228da6e5d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/07/2020 13:58:15
Message:
[HUDI-1069] Remove duplicate assertNoWriteErrors() (#1797) #MsgLength=60


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 7
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|1 8
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|3 9
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|1 0
Added: hudi-client/src/test/java/org/apache/hudi/testutils/Assertions.java|41 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 12

Revision: 086853c004c6581e08744c5900210b6aaffd90e4
Author: Satish Kotha <satishkotha@uber.com>
Date: 08/07/2020 04:30:58
Message:
[HUDI-1080] Fix backward compatibility for com.uber inputformats #MsgLength=65


----
Added: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java|60 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|30 14

Revision: d58644b6573152ac191a1119c395d71cdc7c9c7d
Author: Trevor <33487819+Trevor-zhang@users.noreply.github.com>
Date: 09/07/2020 12:07:34
Message:
[HUDI-1062]Remove unnecessary maxEvent check and add some log in KafkaOffsetGen (#1779) #MsgLength=89


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|8 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|34 2

Revision: c7f1a781ab4ff3784d53a102364fd85e379811d1
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 09/07/2020 19:35:07
Message:
[HUDI-728]: Implemented custom key generator (#1433) #MsgLength=54


----
Renamed: hudi-spark/src/main/java/org/apache/hudi/exception/HoodieDeltaStreamerException.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieDeltaStreamerException.java]|1 3
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|26 30
Added: hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|126 0
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|7 6
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|5 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|14 9
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java]|12 13
Added: hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|88 0
Added: hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|169 0
Added: hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java|78 0
Added: hudi-spark/src/test/java/org/apache/hudi/keygen/TestKeyGeneratorUtilities.java|40 0
Added: hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|97 0
Renamed: hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/keygen/TestTimestampBasedKeyGenerator.java]|3 4
Modified: hudi-utilities/pom.xml|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1

Revision: 9627a385febbc8769021e7d0a805756b74c2a82a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 11/07/2020 03:28:45
Message:
[HUDI-916]: Added support for multiple input formats in TimestampBasedKeyGenerator (#1648) #MsgLength=92


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|16 0
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|6 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|49 38
Added: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java|48 0
Added: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java|122 0
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|164 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|0 7

Revision: abfebd30f30d7a5975e3ecea403fec13d5d27cd5
Author: GuoPhilipse <46367746+GuoPhilipse@users.noreply.github.com>
Date: 11/07/2020 22:57:12
Message:
[MINOR] Update parameter description (#1821) #MsgLength=46


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 1

Revision: 20ac7c3337a14dd777f6ebe21b13dab2786f2479
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 12/07/2020 00:15:05
Message:
[HUDI-994] Make TestHBaseQPSResourceAllocator a unit test (#1820) #MsgLength=67


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|6 36

Revision: 10e457278bee529d14e445012fa61e875e3f77cd
Author: miaomiaomiao <33487819+miaomiao2miaomiao@users.noreply.github.com>
Date: 13/07/2020 23:38:06
Message:
[HUDI-1078]Fix IllegalArgumentException in Delete data demo of Quick-Start Guide (#1808) #MsgLength=90


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1

Revision: 21bb1b505a0a433bdbe367f7f252afdddafafc96
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/07/2020 10:34:07
Message:
[HUDI-1068] Fixing deletes in global bloom when update partition path is set (#1793) #MsgLength=86


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java|5 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|169 40
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|21 0

Revision: f5dc8ca733014d15a6d7966a5b6ae4308868adfa
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 14/07/2020 11:32:01
Message:
[HUDI-994] Split TestHBaseIndex to unit tests  (#1818) #MsgLength=167


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|62 125
Added: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndexUsage.java|45 0
Added: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java|66 0

Revision: b399b4ad43b8caa69f129e756e51ad4bc8c81de2
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/07/2020 08:28:50
Message:
[HUDI-996] Add functional test in hudi-client (#1824) #MsgLength=133


----
Modified: hudi-client/pom.xml|18 0
Added: hudi-client/src/test/java/org/apache/hudi/ClientFunctionalTestSuite.java|32 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|37 43
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|45 7
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/providers/DFSProvider.java [from hudi-client/src/test/java/org/apache/hudi/testutils/DFSProvider.java]|1 1
Added: hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieMetaClientProvider.java|40 0
Added: hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java|30 0
Renamed: hudi-client/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java [from hudi-client/src/test/java/org/apache/hudi/testutils/SparkProvider.java]|1 1

Revision: bf1d36fa639cae558aa388d8d547e58ad2e67aba
Author: wenningd <wenningding95@gmail.com>
Date: 15/07/2020 22:30:58
Message:
[HUDI-1087] Handle decimal type for realtime record reader with SparkSQL (#1831) #MsgLength=132


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|4 3

Revision: 1aae437257cfd94fd277cf667257f6abffcc0c21
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 19/07/2020 07:16:32
Message:
[HUDI-1102] Add common useful Spark related and Table path detection utilities (#1841) #MsgLength=132


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java|110 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|126 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|23 0
Added: hudi-spark/src/main/scala/org/apache/hudi/HudiSparkUtils.scala|50 0
Added: hudi-spark/src/test/scala/org/apache/hudi/TestHudiSparkUtils.scala|105 0

Revision: b71f25f210c4004a2dcc97a9967399e74f870fc7
Author: Prashant Wason <pwason@uber.com>
Date: 20/07/2020 01:29:25
Message:
[HUDI-92] Provide reasonable names for Spark DAG stages in HUDI. (#1289) #MsgLength=74


----
Modified: README.md|12 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java|2 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|17 5
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|21 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java|1 0

Revision: 1ec89e9a94161aa5d48b8f170bf67633b389d997
Author: lw0090 <lw309637554@gmail.com>
Date: 21/07/2020 13:41:42
Message:
[HUDI-839] Introducing support for rollbacks using marker files (#1756) #MsgLength=1109


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|4 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|9 5
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|13 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|15 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|9 3
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|8 7
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|7 23
Added: hudi-client/src/main/java/org/apache/hudi/io/IOType.java|28 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|44 60
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|53 38
Added: hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java|153 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|69 34
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|27 16
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackHelper.java]|24 45
Renamed: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackRequest.java]|21 35
Added: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|161 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|38 30
Added: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|66 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|20 7
Renamed: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java [from hudi-client/src/test/java/org/apache/hudi/io/TestHoodieCommitArchiveLog.java]|21 24
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|5 9
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|139 68
Added: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|148 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|98 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|198 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|135 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|157 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|120 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|0 2
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|47 2
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java|20 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|19 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|11 54
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileSystemTestUtils.java|15 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|12 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|15 26
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|2 3

Revision: 5e7ab11e2ead23428ed5089421f2abd6433fe8e5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/07/2020 01:23:43
Message:
[HUDI-994] Move TestHoodieIndex test cases to unit tests (#1850) #MsgLength=66


----
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|6 149
Added: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|181 0

Revision: 743ef322b88d90be9775b889f6381925cdda5f35
Author: DeyinZhong <44561252+DeyinZhong@users.noreply.github.com>
Date: 22/07/2020 17:40:19
Message:
[HUDI-871] Add support for Tencent Cloud Object Storage(COS) (#1855) #MsgLength=117


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 12ef8c9249249a3c02e6bd8f0392614f8e195982
Author: hongdd <jn_hdd@163.com>
Date: 23/07/2020 08:43:46
Message:
[HUDI-708] Add temps show and unit test for TempViewCommand (#1770) #MsgLength=69


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|12 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java|32 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|18 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/TempViewProvider.java|6 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTempViewCommand.java|84 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellBaseIntegrationTest.java|70 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java|4 34

Revision: 5b6026ba436f7bde0e810983b6934d07dbe46e8d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 23/07/2020 10:39:57
Message:
[HUDI-802] Fixing deletes for inserts in same batch in write path (#1792) #MsgLength=213


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|31 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/TestRawTripPayload.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|15 11
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java|103 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|7 8

Revision: 9bd37ef2912eefc7bbc34382525032570d6f9c60
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/07/2020 10:52:34
Message:
[MINOR] Fix flaky testUpsertsUpdatePartitionPath* tests (#1863) #MsgLength=65


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|11 7

Revision: a8bd76c299b13af93c9eed92309ecb3a86a6734c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/07/2020 12:22:06
Message:
[HUDI-1029] In inline compaction mode, previously failed compactions needs to be retried before new compactions (#1857) #MsgLength=190


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|9 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|243 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|3 210
Added: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|116 0

Revision: 3dd189ec7d748eecb3750521870130fb81f17842
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 23/07/2020 12:54:45
Message:
[MINOR] Fix checkstyle issue on TestHoodieClientOnCopyOnWriteStorage (#1865) #MsgLength=78


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1

Revision: c39778c150ad2d5f38af4628fea21de4c191d3ca
Author: zherenyu831 <52404525+zherenyu831@users.noreply.github.com>
Date: 23/07/2020 13:46:36
Message:
[HUDI-1113] Add user define metrics reporter (#1851) #MsgLength=54


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|12 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|18 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java|44 0
Modified: hudi-client/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|56 0

Revision: f61cd1086ae8014b2e1da129dccfe47b64116369
Author: lamber-ken <2217232293@qq.com>
Date: 23/07/2020 13:59:24
Message:
[HUDI-985] Introduce rerun ci bot (#1693) #MsgLength=138


----
Added: .github/actions/bot/package.json|36 0
Added: .github/actions/bot/src/action.js|100 0
Added: .github/workflows/bot.yml|43 0
Modified: .gitignore|2 0

Revision: da106803b6d0bdbb37f22b9bd73b9b3a77f77063
Author: Mathieu <wxhjsxz@126.com>
Date: 23/07/2020 19:07:05
Message:
[HUDI-1037] Introduce a write committed callback hook and given a default http callback implementation (#1842) #MsgLength=112


----
Added: hudi-client/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java|35 0
Added: hudi-client/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|108 0
Added: hudi-client/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java|76 0
Added: hudi-client/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java|58 0
Added: hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java|47 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|12 0
Added: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|106 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|20 0
Added: hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitCallbackException.java|35 0
Added: hudi-client/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|119 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0

Revision: c3279cd5989805946267b046007ea23ba4b615c2
Author: Shen Hong <shenh062326@126.com>
Date: 23/07/2020 20:31:49
Message:
[HUDI-1082] Fix minor bug in deciding the insert buckets (#1838) #MsgLength=66


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|6 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|57 0

Revision: 467d097dae5d38bfba8e1249ab52fe0f294e6172
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 25/07/2020 09:47:09
Message:
[MINOR] Add Databricks File System to StorageSchemes (#1877) #MsgLength=62


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 0cb24e4a2defd8e639437b6cd145a26f038ef1af
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/07/2020 09:48:56
Message:
[MINOR] Use HoodieActiveTimeline.COMMIT_FORMATTER (#1874) #MsgLength=59


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|9 10

Revision: ca36c44cb3a081ce68282742f177f471fb7ed8c3
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/07/2020 19:21:45
Message:
[HUDI-995] Move TestRawTripPayload and HoodieTestDataGenerator to hudi-common (#1873) #MsgLength=87


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|4 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|10 10
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|10 10
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|6 6
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|16 15
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|23 23
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|32 32
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|13 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|4 3
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|3 3
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|2 0
Added: hudi-client/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java|85 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestParquetInLining.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/inline/fs/TestParquetInLining.java]|10 12
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java [from hudi-client/src/test/java/org/apache/hudi/testutils/HoodieTestDataGenerator.java]|27 27
Renamed: hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java [from hudi-client/src/test/java/org/apache/hudi/testutils/TestRawTripPayload.java]|13 71
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Modified: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|2 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java|1 1

Revision: fa419213f62d2006aeea228180302024977feb16
Author: hongdd <jn_hdd@163.com>
Date: 28/07/2020 08:31:43
Message:
[HUDI-703] Add test for HoodieSyncCommand (#1774) #MsgLength=51


----
Added: docker/demo/config/hoodie-incr.properties|31 0
Added: docker/demo/config/hoodie-schema.avsc|145 0
Added: docker/demo/sync-validate.commands|19 0
Modified: hudi-cli/pom.xml|17 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|2 2
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java|121 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|3 3
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/command/ITTestHoodieSyncCommand.java|75 0
Added: hudi-integ-test/src/test/resources/hoodie-docker.properties|18 0
Modified: hudi-spark/run_hoodie_app.sh|2 2
Added: hudi-spark/src/test/java/HoodieJavaGenerateApp.java|190 0

Revision: 5e7931b1f9d586a44bcfa13e21917b24d4f78596
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 28/07/2020 14:02:58
Message:
[MINOR] Fix master compilation failure (#1881) #MsgLength=97


----
Modified: hudi-spark/src/test/java/HoodieJavaGenerateApp.java|1 1

Revision: b2763f433b3efb92fdcc0e760a88a43eaa2e5be3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 28/07/2020 23:22:09
Message:
[MINOR] Fixing default index parallelism for simple index (#1882) #MsgLength=67


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 2

Revision: d5b593b7d952a39679cade2b18aadbdfb2dc3eed
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 29/07/2020 00:49:03
Message:
[MINOR] change log.info to log.debug (#1883) #MsgLength=46


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1

Revision: 2fc2b01d8647aafe2862db14fc169aa40d4ae3d5
Author: Nishith Agarwal <nagarwal@uber.com>
Date: 02/11/2019 03:40:09
Message:
[HUDI-394] Provide a basic implementation of test suite #MsgLength=56


----
Modified: .travis.yml|1 1
Added: docker/demo/config/test-suite/base.properties|21 0
Added: docker/demo/config/test-suite/complex-dag-cow.yaml|97 0
Added: docker/demo/config/test-suite/complex-dag-mor.yaml|119 0
Added: docker/demo/config/test-suite/complex-source.avsc|466 0
Added: docker/demo/config/test-suite/source.avsc|51 0
Added: docker/demo/config/test-suite/target.avsc|54 0
Added: docker/demo/config/test-suite/test-source.properties|27 0
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|1 0
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|12 5
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|9 0
Modified: hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|4 0
Modified: hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|13 2
Added: hudi-integ-test/README.md|262 0
Modified: hudi-integ-test/pom.xml|205 0
Added: hudi-integ-test/prepare_integration_suite.sh|174 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|77 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|186 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|219 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java|73 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|256 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/Converter.java|33 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/UpdateConverter.java|53 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|217 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java|54 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/SimpleWorkflowDagGenerator.java|75 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDag.java|39 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDagGenerator.java|31 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BulkInsertNode.java|40 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java|34 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|47 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java|125 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|87 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|46 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|60 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|48 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java|56 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java|61 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java|52 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java|48 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|100 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|237 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|70 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|285 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadSizeEstimator.java|121 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordPartialPayloadGenerator.java|82 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/LazyRecordGeneratorIterator.java|48 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java|56 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java|92 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java|74 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSAvroDeltaInputReader.java|89 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSDeltaInputReader.java|98 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|338 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DeltaInputReader.java|62 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DeltaInputType.java|26 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java|70 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/AvroFileDeltaInputWriter.java|117 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java|62 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSSparkAvroDeltaWriter.java|42 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaInputWriter.java|53 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaOutputMode.java|26 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriteStats.java|72 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterAdapter.java|34 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterFactory.java|57 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/SparkAvroDeltaInputWriter.java|69 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|138 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java|147 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java|80 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java|93 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java|81 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java|58 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java|58 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|95 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java|56 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|130 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|224 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java|74 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|119 0
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/utils/TestUtils.java|63 0
Modified: hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties|4 3
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|11 2
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|9 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|0 1
Added: hudi-spark/src/test/java/TestComplexKeyGenerator.java|67 0
Modified: hudi-utilities/pom.xml|10 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|13 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|43 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|13 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|7 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|10 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestCsvDFSSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|31 4
Added: hudi-utilities/src/test/resources/delta-streamer-config/complex-source.avsc|466 0
Added: packaging/hudi-integ-test-bundle/pom.xml|565 0
Added: packaging/hudi-integ-test-bundle/src/main/java/org/apache/hudi/testsuite/bundle/Main.java|36 0
Modified: pom.xml|4 1

Revision: ccd70a7e486850ca6ce4d7fcc806e396ff0b6aa0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 31/07/2020 21:52:42
Message:
[HUDI-472] Introduce configurations and new modes of sorting for bulk_insert (#1149) #MsgLength=325


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|7 7
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Added: hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java|116 0
Modified: hudi-client/src/main/java/org/apache/hudi/execution/LazyInsertIterable.java|16 56
Added: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java|48 0
Renamed: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java [from hudi-client/src/main/java/org/apache/hudi/execution/BulkInsertMapFunction.java]|9 5
Added: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitioner.java|57 0
Added: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitioner.java|46 0
Added: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDPartitionSortPartitioner.java|69 0
Renamed: hudi-client/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/table/UserDefinedBulkInsertPartitioner.java]|13 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|4 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|10 16
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java|5 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java|3 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java|4 4
Added: hudi-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|121 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|57 15
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|4 4
Modified: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|7 2

Revision: 727f1df62c343ca3649678f6e28ec7914ea7d247
Author: n3nash <nagarwal@uber.com>
Date: 01/08/2020 10:01:25
Message:
[MINOR] Suppressing spark logs for hudi-integ and hudi-utilities (#1894) #MsgLength=74


----
Added: docker/demo/config/log4j.properties|41 0
Modified: docker/demo/setup_demo_container.sh|1 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|12 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|6 0

Revision: e79fbc07fe803bc51cdf4f11948b133bbaa70595
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date: 01/08/2020 11:10:28
Message:
[HUDI-1054] Several performance fixes during finalizing writes (#1768) #MsgLength=121


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|13 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|9 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|7 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java|76 24
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|7 7
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|13 3

Revision: 10e426879237b636f8b5913ac931dd7f8af8b817
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/08/2020 20:57:18
Message:
[HUDI-995] Use Transformations, Assertions and SchemaTestUtil (#1884) #MsgLength=265


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|12 13
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|6 13
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|14 19
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|11 18
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|14 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|5 4
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|0 44
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|20 15
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/Assertions.java|41 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|0 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java|20 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|20 5
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/Transformations.java|75 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|5 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|0 4
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|9 7
Modified: hudi-spark/src/test/java/HoodieJavaGenerateApp.java|8 6
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|4 3
Modified: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|21 7
Deleted: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|0 76
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala|10 12

Revision: 30dcd5cf06c3f48bbdde1e18403ff7d0556ca511
Author: Mathieu <wxhjsxz@126.com>
Date: 02/08/2020 21:30:23
Message:
[MINOR] Remove redundant import in hudi-integ-test (#1899) #MsgLength=60


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|0 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java|0 6
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java|2 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java|0 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java|0 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java|0 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java|0 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java|0 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java|0 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|0 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java|0 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|0 2

Revision: 4ebd2db05b9c272ab8676e82a4113f46701c2aef
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 03/08/2020 10:44:51
Message:
[MINOR] Suppressing full hive log and fetching only exceptions with context (#1903) #MsgLength=158


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1

Revision: 8aa9142de85e7a87f42ee43659024cb10c7b43a7
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 03/08/2020 11:33:58
Message:
[MINOR] Prevent scalatest plugin from running in non-UTs (#1897) #MsgLength=66


----
Modified: hudi-spark/pom.xml|1 1
Modified: scripts/run_travis_tests.sh|1 1

Revision: 433d7d2c9886fed161557efe88b62ebdce0fe5df
Author: Shen Hong <shenh062326@126.com>
Date: 03/08/2020 23:06:31
Message:
[HUDI-1058] Make delete marker configurable (#1819) #MsgLength=53


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|9 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java|44 23
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|18 9
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|17 6
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|46 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestDeltaStreamerWithOverwriteLatestAvroPayload.java|97 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|4 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|4 0

Revision: 266bce12b32ae5dc35e04d1c25530df9257d5dc9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 04/08/2020 01:38:36
Message:
[MINOR] Fixing usage of right config value for parallelism to dedup in Bulk Insert (#1905) #MsgLength=92


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|1 1

Revision: 539621bd33893d99a07b8f739a1e965ca72acdc9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 04/08/2020 11:19:21
Message:
[HUDI-242] Support for RFC-12/Bootstrapping of external datasets to hudi (#1876) #MsgLength=1120


----
Modified: LICENSE|1 0
Modified: docker/demo/compaction.commands|4 1
Modified: docker/demo/hive-batch1.commands|8 0
Modified: docker/demo/hive-batch2-after-compaction.commands|6 0
Modified: docker/demo/hive-incremental-cow.commands|6 0
Modified: docker/demo/hive-incremental-mor-ro.commands|6 0
Modified: docker/demo/hive-incremental-mor-rt.commands|6 0
Modified: docker/demo/sparksql-batch1.commands|10 0
Modified: docker/demo/sparksql-batch2.commands|10 0
Added: docker/demo/sparksql-bootstrap-prep-source.commands|22 0
Modified: docker/demo/sparksql-incremental.commands|32 2
Modified: hudi-cli/hudi-cli.sh|4 1
Modified: hudi-cli/pom.xml|6 20
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|3 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|36 1
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapMode.java|35 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java|51 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java|77 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapWriteStatus.java|48 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java|58 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapModeSelector.java|48 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapRegexModeSelector.java|56 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/FullRecordBootstrapModeSelector.java|29 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/MetadataOnlyBootstrapModeSelector.java|29 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/UniformBootstrapModeSelector.java|48 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/BootstrapPartitionPathTranslator.java|39 0
Added: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/IdentityBootstrapPartitionPathTranslator.java|36 0
Added: hudi-client/src/main/java/org/apache/hudi/client/utils/MergingIterator.java|52 0
Added: hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|135 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|72 4
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2
Added: hudi-client/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java|49 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|15 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|18 9
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|27 6
Added: hudi-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|88 0
Added: hudi-client/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|110 0
Renamed: hudi-client/src/main/java/org/apache/hudi/keygen/KeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java]|12 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|22 28
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java|16 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|15 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java|356 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapDeltaCommitActionExecutor.java|47 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java|55 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java|77 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/HoodieBootstrapWriteMetadata.java|45 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|27 22
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java|18 13
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java|4 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|13 54
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/MergeHelper.java|185 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|7 6
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java|15 9
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java|11 4
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|8 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|2 0
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestBootstrapRegexModeSelector.java|75 0
Added: hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestUniformBootstrapModeSelector.java|66 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java|85 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|4 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|58 26
Modified: hudi-client/src/test/resources/log4j-surefire-quiet.properties|1 0
Modified: hudi-client/src/test/resources/log4j-surefire.properties|1 0
Modified: hudi-common/pom.xml|27 2
Added: hudi-common/src/main/avro/HoodieBootstrapFilePartitionInfo.avsc|44 0
Added: hudi-common/src/main/avro/HoodieBootstrapIndexInfo.avsc|44 0
Added: hudi-common/src/main/avro/HoodieBootstrapPartitionMetadata.avsc|47 0
Modified: hudi-common/src/main/avro/HoodieCompactionOperation.avsc|5 0
Added: hudi-common/src/main/avro/HoodieFSPermission.avsc|49 0
Added: hudi-common/src/main/avro/HoodieFileStatus.avsc|84 0
Added: hudi-common/src/main/avro/HoodiePath.avsc|34 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|120 2
Added: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/FileStatusUtils.java|123 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java|161 0
Added: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java|534 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|38 6
Added: hudi-common/src/main/java/org/apache/hudi/common/model/BaseFile.java|101 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapBaseFileMapping.java|54 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapFileMapping.java|110 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/CompactionOperation.java|17 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java|28 54
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java|10 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|22 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|79 25
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|7 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/BaseFileDTO.java|29 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/CompactionOpDTO.java|6 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/FileStatusDTO.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|137 29
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|19 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|55 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|57 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|29 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|12 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|4 0
Added: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|180 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|135 25
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|7 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|18 19
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|6 0
Modified: hudi-common/src/test/resources/log4j-surefire-quiet.properties|1 0
Modified: hudi-common/src/test/resources/log4j-surefire.properties|1 0
Modified: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java|1 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java|71 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapColumnStichingRecordReader.java|110 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/FileStatusWithBootstrapBaseFile.java|42 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java|300 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|98 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputSplitUtils.java|67 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/LocatedFileStatusWithBootstrapBaseFile.java|44 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithBootstrapFileStatus.java|43 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|8 7
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|23 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|11 24
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|2 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|94 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|5 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|107 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|22 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|22 8
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|5 8
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|4 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|4 6
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|7 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|103 36
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|6 14
Added: hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|82 0
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|11 53
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|16 14
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|17 29
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|11 10
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|24 33
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|27 13
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 4
Modified: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|6 5
Added: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|589 0
Modified: hudi-spark/src/test/resources/log4j-surefire-quiet.properties|1 0
Modified: hudi-spark/src/test/resources/log4j-surefire.properties|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java|10 4
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java|64 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|181 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|17 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|60 25
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|31 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|1 2
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|1 2
Modified: hudi-utilities/src/test/resources/log4j-surefire-quiet.properties|1 0
Modified: hudi-utilities/src/test/resources/log4j-surefire.properties|1 0
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|56 0
Modified: packaging/hudi-presto-bundle/pom.xml|13 0
Modified: packaging/hudi-spark-bundle/pom.xml|50 0
Modified: packaging/hudi-timeline-server-bundle/pom.xml|4 0
Modified: packaging/hudi-utilities-bundle/pom.xml|51 0
Modified: pom.xml|1 0

Revision: ab11ba43e1a5496cf85a7a772929bb90fcbf07d3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 05/08/2020 06:20:38
Message:
[REVERT] "[HUDI-1058] Make delete marker configurable (#1819)" (#1914) #MsgLength=133


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteWithLatestAvroPayload.java|23 44
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|9 18
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|6 17
Modified: hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 7
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 4
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|0 46
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 5
Deleted: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestDeltaStreamerWithOverwriteLatestAvroPayload.java|0 97
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|0 4
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|0 4

Revision: d3711a26415703c3db412ad3102856ce15459cde
Author: liujianhui <liujianhui@bytedance.com>
Date: 12/04/2020 22:11:38
Message:
[HUDI-525] lack of insert info in delta_commit inflight #MsgLength=351


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|6 0

Revision: 217a84192c594929963856d2224b9282a71c4048
Author: Sreeram Ramji <sreeram.ramji@robinhood.com>
Date: 05/08/2020 12:42:51
Message:
[HUDI-1140] Fix Jcommander issue for --hoodie-conf in DeltaStreamer (#1898) #MsgLength=77


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|2 1
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/IdentitySplitter.java|33 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|99 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|107 0

Revision: 61e027fadda4cefc56a18bc284267d34b336f6cc
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 05/08/2020 22:46:34
Message:
[MINOR] Adding timeout for each command execution in docker and capture output. This will help get stdout/stderr of stuck commands (#1918) #MsgLength=140


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|17 2

Revision: 7a2429f5ba45e3c3c6f4e167fdc5b79be716febb
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 05/08/2020 22:50:15
Message:
[HUDI-575] Spark Streaming with async compaction support (#1752) #MsgLength=66


----
Modified: hudi-client/src/main/java/org/apache/hudi/async/AbstractAsyncService.java|17 3
Added: hudi-client/src/main/java/org/apache/hudi/async/AsyncCompactService.java|161 0
Renamed: hudi-client/src/main/java/org/apache/hudi/client/Compactor.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/Compactor.java]|1 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|20 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|2 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|31 17
Modified: hudi-spark/run_hoodie_app.sh|1 1
Added: hudi-spark/run_hoodie_generate_app.sh|40 0
Added: hudi-spark/run_hoodie_streaming_app.sh|40 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|8 3
Added: hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java|35 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|166 111
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|89 15
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|3 0
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|171 41
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|2 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala|36 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|6 103
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|3 2

Revision: 9bcd3221fd440081dbae70e89d08539c3b484862
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 06/08/2020 00:19:10
Message:
[HUDI-1144] Speedup spark read queries by caching metaclient in HoodieROPathFilter (#1919) #MsgLength=92


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|16 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|6 5

Revision: c21209cb58a5cff3267aca9f17fe7d2c4edd3190
Author: Prashant Wason <pwason@uber.com>
Date: 05/08/2020 08:14:36
Message:
[HUDI-1149] Added a console metrics reporter and associated unit tests. #MsgLength=72


----
Added: hudi-client/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java|72 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|3 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|1 1
Added: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|46 0

Revision: 51ea27d665d8053895dd047ca85e3338b357a81d
Author: lw0090 <lw309637554@gmail.com>
Date: 06/08/2020 12:34:55
Message:
[HUDI-875] Abstract hudi-sync-common, and support hudi-hive-sync, hudi-dla-sync (#1810) #MsgLength=293


----
Modified: docker/demo/setup_demo_container.sh|1 1
Modified: hudi-spark/pom.xml|5 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|46 9
Added: hudi-sync/hudi-dla-sync/pom.xml|171 0
Renamed: hudi-sync/hudi-dla-sync/src/assembly/src.xml [from hudi-hive-sync/src/assembly/src.xml]|0 0
Added: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|96 0
Added: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|212 0
Added: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|403 0
Added: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java|75 0
Added: hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java|54 0
Renamed: hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire-quiet.properties [from hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire.properties [from hudi-hive-sync/src/test/resources/log4j-surefire.properties]|0 0
Renamed: hudi-sync/hudi-hive-sync/pom.xml [from hudi-hive-sync/pom.xml]|7 0
Renamed: hudi-sync/hudi-hive-sync/run_sync_tool.sh [from hudi-hive-sync/run_sync_tool.sh]|0 0
Added: hudi-sync/hudi-hive-sync/src/assembly/src.xml|46 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java]|6 3
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java]|14 111
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java]|3 1
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ColumnNameXLator.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java [from hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java]|2 2
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java]|0 0
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java [from hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java]|0 0
Added: hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties|29 0
Added: hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire.properties|30 0
Added: hudi-sync/hudi-sync-common/pom.xml|71 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|189 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java|35 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncException.java|42 0
Added: hudi-sync/pom.xml|38 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|46 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|13 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|19 4
Modified: packaging/hudi-hive-sync-bundle/pom.xml|2 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: pom.xml|1 1

Revision: b51646dcc76acc68e97dd6a67cc7557e362b590d
Author: Mathieu <wxhjsxz@126.com>
Date: 07/08/2020 00:03:20
Message:
[HUDI-1151] Fix NPE when no new data in kafka using HoodieDeltaStreamer (#1921) #MsgLength=81


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: ab453f26235c67fa3536b494c6c9f9c31e265ef8
Author: Udit Mehrotra <uditme@amazon.com>
Date: 07/08/2020 14:44:57
Message:
[HUDI-999] [RFC-12] Parallelize fetching of source data files/partitions (#1924) #MsgLength=82


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java|2 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java|79 24
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java|3 8
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|9 10

Revision: 4f74a84607d46249e9bb6e1397246f8dc076b390
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 07/08/2020 15:28:14
Message:
[HUDI-69] Support Spark Datasource for MOR table - RDD approach (#1848) #MsgLength=516


----
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|15 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|0 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|6 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|9 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|13 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|13 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|8 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|36 20
Renamed: hudi-spark/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala [from hudi-spark/src/main/scala/org/apache/hudi/HudiEmptyRelation.scala]|2 2
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|274 0
Renamed: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala [from hudi-spark/src/main/scala/org/apache/hudi/HudiSparkUtils.scala]|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|4 3
Added: hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|151 0
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|2 8
Renamed: hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala [from hudi-spark/src/test/scala/org/apache/hudi/TestHudiSparkUtils.scala]|8 7
Renamed: hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSource.scala]|44 184
Added: hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|391 0
Added: hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|180 0

Revision: 8b66524090a5f21a11c2546580c952aa917bd0ad
Author: Yungthuis <36870105+Yungthuis@users.noreply.github.com>
Date: 08/08/2020 12:04:31
Message:
[MINOR] Remove unused import (#1932) #MsgLength=91


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|0 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|0 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|0 1

Revision: 1072f2748a3e6802b0c1c9492edf7573779645ac
Author: cheshta2904 <69254936+cheshta2904@users.noreply.github.com>
Date: 08/08/2020 12:07:22
Message:
[HUDI-1026] Removed slf4j dependency from HoodieClientTestHarness (#1928) #MsgLength=75


----
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|3 3

Revision: 5ee676e34fa2429d02ecd1a3cf7f586518ed2081
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/08/2020 18:25:55
Message:
[MINOR] Move a test method to Transformations (#1934) #MsgLength=164


----
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|6 16
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/Transformations.java|7 0

Revision: 9fe2d2b14a2a0f465d75e39fdfdcc4d5e0101ee7
Author: wenningd <wenningding95@gmail.com>
Date: 09/08/2020 03:37:29
Message:
[HUDI-427] [HUDI-971]  Implement CLI support for performing bootstrap (#1869) #MsgLength=322


----
Modified: hudi-cli/pom.xml|7 0
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java|186 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|53 2
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|114 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java|61 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|13 7
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 1

Revision: 3c949d2ff5527a698d703f64923095dd931d3b66
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 09/08/2020 12:45:10
Message:
[MINOR] Fix path to hudi-hive-sync-bundle jars from run_sync_tool.sh (#1937) #MsgLength=78


----
Modified: hudi-sync/hudi-hive-sync/run_sync_tool.sh|1 1

Revision: 6b349b771198d463b0ffd5f45e22846db95c2238
Author: liujinhui <965147871@qq.com>
Date: 09/08/2020 15:29:54
Message:
[HUDI-210] Hudi Supports Prometheus Pushgateway (#1931) #MsgLength=97


----
Modified: hudi-client/pom.xml|16 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|4 0
Added: hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|102 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|28 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|8 0
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|2 2
Added: hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java|80 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java|84 0
Added: hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java|95 0
Added: hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java|43 0
Added: hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java|47 0
Modified: pom.xml|22 0

Revision: c24c528fb7275a3ee1db4774f321dfc075b4f8a8
Author: linshan-ma <mabin194046@163.com>
Date: 09/08/2020 17:09:28
Message:
[HUDI-1156] Remove unused dependencies from HoodieDeltaStreamerWrapper Class (#1927) #MsgLength=86


----

Revision: e4a2d98f79f920ea60346fb78ef4b5af1f874afd
Author: Udit Mehrotra <uditme@amazon.com>
Date: 10/08/2020 05:06:13
Message:
[HUDI-426] Bootstrap datasource integration (#1702) #MsgLength=53


----
Modified: hudi-cli/pom.xml|4 0
Modified: hudi-client/pom.xml|5 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java|33 10
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|22 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|13 0
Modified: hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|2 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|6 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|3 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|65 30
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala|131 0
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|185 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|103 41
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|70 24
Added: hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|630 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|9 8

Revision: ff53e8f0b62448815a487285ce0cc337398272f2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/08/2020 06:32:43
Message:
[HUDI-1014] Adding Upgrade and downgrade infra for smooth transitioning from list based rollback to marker based rollback (#1858) #MsgLength=1510


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|38 3
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java|81 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|2 2
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|128 0
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|10 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|10 10
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|17 15
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|15 28
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|74 36
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|14 158
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|173 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java|38 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/HoodieUpgradeDowngradeException.java|32 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|49 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|153 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java|38 0
Added: hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|132 0
Added: hudi-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|408 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|25 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|27 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|3 5
Added: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java|54 0

Revision: 858eda85d7a5e4ee3be9aa28e7e7311bc8fb8983
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/08/2020 08:51:37
Message:
[HUDI-1098] Adding OptimisticConsistencyGuard to be used during FinalizeWrite (#1912) #MsgLength=87


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|15 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|83 32
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|57 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|35 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FailSafeConsistencyGuard.java|60 44
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/OptimisticConsistencyGuard.java|90 0

Revision: 934f00b68976b68b9393406d83b9953811de90b4
Author: liujinhui <965147871@qq.com>
Date: 11/08/2020 09:06:17
Message:
[HUDI-1173] fix hudi-prometheus pom dependency  (#1942) #MsgLength=57


----
Modified: packaging/hudi-spark-bundle/pom.xml|5 0
Modified: packaging/hudi-utilities-bundle/pom.xml|5 0

Revision: b2e703d4427abca02b053fa4444cd5058aa256ef
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 11/08/2020 09:44:03
Message:
[HUDI-781] Introduce HoodieTestTable for test preparation (#1871) #MsgLength=67


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java|8 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|140 253
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|14 14
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|6 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|30 39
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|20 79
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/IOType.java [from hudi-client/src/main/java/org/apache/hudi/io/IOType.java]|8 7
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|113 0
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|232 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|50 52

Revision: 9c24151929659f80f88607f068662fdc5855fc91
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/08/2020 12:00:57
Message:
[HUDI-1175] Commenting out testsuite tests from Integration tests until we investigate the CI flakiness (#1945) #MsgLength=113


----
Added: docker/demo/compaction-bootstrap.commands|21 0
Modified: docker/demo/compaction.commands|0 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|5 7
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|2 0
Modified: pom.xml|0 1

Revision: 626f78f6f639cae2d3d57d29e7ef0642cb0be7ee
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 11/08/2020 13:13:02
Message:
Revert "[HUDI-781] Introduce HoodieTestTable for test preparation (#1871)" #MsgLength=138


----
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|0 1
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 2
Renamed: hudi-client/src/main/java/org/apache/hudi/io/IOType.java [from hudi-common/src/main/java/org/apache/hudi/common/model/IOType.java]|7 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java|7 8
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|3 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|253 140
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|14 14
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 6
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|39 30
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|79 20
Deleted: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|0 113
Deleted: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|0 232
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|52 50

Revision: 8b928e9bca5ecac8f956b17e5d18f2deaf526253
Author: wenningd <wenningding95@gmail.com>
Date: 11/08/2020 16:43:46
Message:
[HUDI-808] Support cleaning bootstrap source data (#1870) #MsgLength=166


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|10 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|35 23
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|27 12
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java|36 6
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|264 88
Modified: hudi-common/pom.xml|1 0
Modified: hudi-common/src/main/avro/HoodieCleanMetadata.avsc|11 12
Added: hudi-common/src/main/avro/HoodieCleanPartitionMetadata.avsc|29 0
Modified: hudi-common/src/main/avro/HoodieCleanerPlan.avsc|28 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|55 2
Added: hudi-common/src/main/java/org/apache/hudi/common/model/CleanFileInfo.java|47 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataMigrator.java|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataV1MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV1MigrationHandler.java]|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataV2MigrationHandler.java [from hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanV2MigrationHandler.java]|2 2
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanMigrator.java|36 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV1MigrationHandler.java|66 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV2MigrationHandler.java|64 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|33 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|12 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|3 1
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|1 1

Revision: 8d0426826472f5b861b6bd7c43d8935917431467
Author: Udit Mehrotra <uditme@amazon.com>
Date: 13/08/2020 08:51:31
Message:
[HUDI-1174] Changes for bootstrapped tables to work with presto (#1944) #MsgLength=832


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|3 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|5 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestAnnotation.java|11 7
Modified: packaging/hudi-presto-bundle/pom.xml|58 0
Modified: pom.xml|2 0

Revision: 379cf0786fe9fea94ec8c0da7d467ae2fb30dd0b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 13/08/2020 15:33:39
Message:
[HUDI-1013] Adding Bulk Insert V2 implementation (#1834) #MsgLength=751


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 6
Added: hudi-client/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java|150 0
Added: hudi-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java|243 0
Added: hudi-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java|203 0
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java|36 0
Renamed: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java]|12 11
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java|46 0
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java|79 0
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java|72 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|1 1
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java|34 0
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java|89 0
Added: hudi-client/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java|41 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java|3 3
Added: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieInternalWriteStatus.java|87 0
Added: hudi-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java|239 0
Added: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java|231 0
Added: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java|117 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|2 2
Added: hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|175 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|8 0
Modified: hudi-common/src/test/resources/timestamp-test-evolved.avsc|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|26 31
Added: hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|108 0
Added: hudi-spark/src/main/java/org/apache/hudi/internal/DefaultSource.java|91 0
Added: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java|119 0
Added: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java|52 0
Added: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|119 0
Added: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java|45 0
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java [from hudi-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java]|62 20
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|14 19
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|44 31
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|16 12
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java [from hudi-client/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java]|0 0
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java [from hudi-client/src/main/java/org/apache/hudi/keygen/KeyGenerator.java]|34 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|9 6
Added: hudi-spark/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|202 0
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|23 25
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|80 37
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|9 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|2 4
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|48 52
Added: hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|77 0
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|3 3
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Added: hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|156 0
Added: hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|213 0
Added: hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|321 0
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|10 2
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|61 6
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java|11 2
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|28 1
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|156 80
Added: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|106 0
Renamed: hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestKeyGeneratorUtilities.java]|31 3
Added: hudi-spark/src/test/resources/exampleSchema.txt|36 0
Modified: hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|272 29
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|133 6
Modified: style/checkstyle-suppressions.xml|2 0

Revision: 9bde6d616c5ee2ef131037af5b5527a0717cc527
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 14/08/2020 14:28:17
Message:
[HUDI-1190] Introduce @PublicAPIClass and @PublicAPIMethod annotations to mark public APIs (#1965) #MsgLength=217


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java|11 0
Added: hudi-common/src/main/java/org/apache/hudi/ApiMaturityLevel.java|42 0
Added: hudi-common/src/main/java/org/apache/hudi/PublicAPIClass.java|37 0
Added: hudi-common/src/main/java/org/apache/hudi/PublicAPIMethod.java|38 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|8 0
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|5 0
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckPointProvider.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|5 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|5 0

Revision: b8f4a30efd8bb6257c926a4b79a092cb96b8aff8
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 14/08/2020 16:42:15
Message:
Fix Integration test flakiness in HoodieJavaStreamingApp (#1967) #MsgLength=66


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|27 17
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|1 1
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|4 0
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|3 1
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|2 2

Revision: 4226d7514400d86761e39639e9554809b72b627c
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 15/08/2020 03:54:15
Message:
Moving to 0.6.1-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: bedbb825e06d479f90bb09d09be4ade37fdaa8b3
Author: Abhishek Modi <modi@uber.com>
Date: 18/08/2020 22:42:05
Message:
[HUDI-1025] Meter RPC calls in HoodieWrapperFileSystem (#1916) #MsgLength=64


----
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|31 0
Added: hudi-common/src/main/java/org/apache/hudi/common/metrics/Counter.java|43 0
Added: hudi-common/src/main/java/org/apache/hudi/common/metrics/Metric.java|26 0
Added: hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java|104 0
Added: hudi-common/src/test/java/org/apache/hudi/common/TestRegistry.java|75 0

Revision: 824f23bcb8b017aca44a6fbd8af41f4170e1eee0
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 18/08/2020 23:41:16
Message:
[HUDI-1197] Fix import issue that fails scala 2.12 build (#1976) #MsgLength=66


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 2

Revision: 6fa371a79c27aa532700b5f1eecf5933fc618693
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 19/08/2020 12:29:52
Message:
[MINOR] Fix release script for onetime uploading of gpgkeys (#1949) #MsgLength=69


----
Modified: scripts/release/preparation_before_release.sh|15 6

Revision: 1137b0b3434a788fa42a17e5755af8ffb0d3f473
Author: Ryan Pifer <rmpifer@umich.edu>
Date: 14/08/2020 06:39:37
Message:
Fix HBASE index MOR tables not considering record index valid #MsgLength=62


----
Modified: hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java|2 5
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|14 3

Revision: a2312fa1b79609e35a9c7f775eb1d76cd0c0754a
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 20/08/2020 08:43:34
Message:
[HUDI-1177]: fixed TaskNotSerializableException in TimestampBasedKeyGenerator (#1987) #MsgLength=158


----
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|25 15
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java|5 2
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java|11 11

Revision: bd7814dadf9f6f5faa5b9ab61ff5f6bbfe5da5e2
Author: Mathieu <wxhjsxz@126.com>
Date: 20/08/2020 18:18:36
Message:
[HUDI-1206] Remove unused variable in Compactor (#1994) #MsgLength=57


----
Modified: hudi-client/src/main/java/org/apache/hudi/async/AsyncCompactService.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/client/Compactor.java|1 4

Revision: b883b6d2682a3043eaf263c86182b19922660fd9
Author: Mathieu <wxhjsxz@126.com>
Date: 20/08/2020 23:00:59
Message:
[HUDI-1122] Introduce a kafka implementation of hoodie write commit ca (#1886) #MsgLength=81


----
Modified: hudi-client/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java|3 10
Added: hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieWriteCommitCallbackUtil.java|44 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|7 6
Modified: hudi-utilities/pom.xml|7 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java|141 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java|48 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|7 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0

Revision: 34c8c9e3ea068f969b4ffa263071b79bf1d11bd5
Author: Mathieu <wxhjsxz@126.com>
Date: 20/08/2020 23:12:20
Message:
[MINOR] Move HoodieUpgradeDowngradeException to exception package (#1993) #MsgLength=75


----
Renamed: hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpgradeDowngradeException.java [from hudi-client/src/main/java/org/apache/hudi/table/upgrade/HoodieUpgradeDowngradeException.java]|1 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|1 0

Revision: 3a2ae16961131ed22e3b09877ff00cc42d47aa7d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/08/2020 11:46:33
Message:
[HUDI-781] Introduce HoodieTestTable for test preparation (#1997) #MsgLength=67


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|7 6
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java|8 7
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|5 3
Modified: hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|6 9
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|135 260
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|14 14
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|6 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|30 39
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|6 120
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/IOType.java [from hudi-client/src/main/java/org/apache/hudi/io/IOType.java]|8 7
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|147 0
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|232 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|42 44

Revision: bfdce7b082256f3f6c51321e102284191e847145
Author: liujinhui <965147871@qq.com>
Date: 21/08/2020 20:24:04
Message:
[HUDI-1193](Upgrade http dependency version) (#1970) #MsgLength=54


----
Modified: pom.xml|4 3

Revision: 1d09c02f1cb9a3929995fb6df1bb7d58cdcb3eb3
Author: Shen Hong <shenh062326@126.com>
Date: 22/08/2020 19:41:39
Message:
[HUDI-1083] Optimization in determining insert bucket location for a given key (#1868) #MsgLength=255


----
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucketCumulativeWeightPair.java|69 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|23 16
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|33 18

Revision: 7291607ae31dc9fc887b6af79e8275f42da6b50a
Author: Trevor <wowtuanzi@gmail.com>
Date: 22/08/2020 21:45:50
Message:
[MINOR] Remove unused log code in HoodieReadClient (#2000) #MsgLength=60


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|0 3

Revision: 35b21855da209c812e006c1afff3d940d5ac2a18
Author: Mathieu <wxhjsxz@126.com>
Date: 23/08/2020 19:56:50
Message:
[HUDI-1150] Fix unable to parse input partition field :1 exception when using TimestampBasedKeyGenerator(#1920) #MsgLength=113


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|3 3
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|33 5
Renamed: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/AbstractHoodieDateTimeParser.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java]|31 9
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java|4 13
Modified: hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|37 2

Revision: f8dcd5334effb0157cfa764c4f6a08976eb346e1
Author: Mathieu <wxhjsxz@126.com>
Date: 24/08/2020 17:33:28
Message:
[HUDI-1217] Improve avroToBytes method of HoodieAvroUtils (#2018) #MsgLength=67


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|10 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java|1 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|4 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/AvroBinaryTestPayload.java|4 10

Revision: 111a9753a0dc8a8634a5aaf549ceff5cbd89bcb8
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/08/2020 00:28:29
Message:
[MINOR] Update README.md (#2010) #MsgLength=121


----
Modified: README.md|11 6

Revision: ea983ff912dab8604eec3085bc1c041cb6e60bc8
Author: Satish Kotha <satishkotha@uber.com>
Date: 25/08/2020 02:11:10
Message:
[HUDI-1137] Add option to configure different path selector #MsgLength=60


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java|12 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|7 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|1 0

Revision: f7e02aa8a309bfaa3e5c9c2f2523c82715628df3
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 25/08/2020 05:47:38
Message:
[MINOR] Update DOAP with 0.6.0 Release (#2024) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: 9b1f16b604143f5a6926db57173f9eeee21fbb6c
Author: Prashant Wason <pwason@uber.com>
Date: 25/08/2020 05:24:50
Message:
[HUDI-1136] Add back findInstantsAfterOrEquals to the HoodieTimeline class. #MsgLength=76


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0

Revision: 218d4a6836ce86216d289fa5fbb389871ad7ba0f
Author: Prashant Wason <pwason@uber.com>
Date: 25/08/2020 05:10:48
Message:
[HUDI-1135] Make timeline server timeout settings configurable. #MsgLength=64


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|14 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|7 1

Revision: 6a4dc7384c8f7efbbce729b8e57b3eaaf5cab104
Author: Trevor <wowtuanzi@gmail.com>
Date: 25/08/2020 19:04:13
Message:
[HUDI-1218] Introduce BulkInsertSortMode as Independent class (#2021) #MsgLength=71


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java|1 7
Added: hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertSortMode.java|28 0
Modified: hudi-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|4 4

Revision: 492ddcbb06e107618ae71fa369ba07af47a036fb
Author: Satish Kotha <satishkotha@uber.com>
Date: 14/08/2020 08:14:25
Message:
[HUDI-1191] Add incremental meta client API to query partitions modified in a time window #MsgLength=90


----
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|101 0
Added: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|213 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|5 21

Revision: cc555ba1882ba12724a34953db042f719519534a
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date: 25/08/2020 23:21:21
Message:
[HUDI-1133] Tune buffer sizes for the diskbased external spillable map #MsgLength=71


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BufferedRandomAccessFile.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|1 1

Revision: 7e68c42eb19bfe955217f0e8e25acbeb4a6974b5
Author: Mathieu <wxhjsxz@126.com>
Date: 26/08/2020 08:46:19
Message:
[HUDI-1223] Remove unused UpdateHandler class in HoodieCopyOnWriteTable (#2032) #MsgLength=81


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|0 27

Revision: df8f099c999379038bf189491ff71dfb958806dd
Author: Mathieu <wxhjsxz@126.com>
Date: 26/08/2020 08:49:01
Message:
[HUDI-532] Add java doc for the test classes of hudi test suite (#1901) #MsgLength=73


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java|9 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/ComplexDagGenerator.java|9 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java|4 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/utils/TestUtils.java|12 0

Revision: f468c20c6cb237c1d190989045f397758db8d685
Author: Satish Kotha <satishkotha@uber.com>
Date: 26/08/2020 04:37:48
Message:
[HUDI-1226] Fix ComplexKeyGenerator for non-partitioned tables #MsgLength=63


----
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|4 0
Modified: hudi-spark/src/test/java/TestComplexKeyGenerator.java|19 0

Revision: dedc4517dd7014af697169130f5a72c1e90469b7
Author: hongdd <jn_hdd@163.com>
Date: 26/08/2020 21:08:09
Message:
[HUDI-978] Specify version information for each component separately (#1772) #MsgLength=78


----
Modified: hudi-integ-test/prepare_integration_suite.sh|3 6

Revision: 3a578d740234db9c44e6b9f8d27d21713eb5f386
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/08/2020 00:26:33
Message:
[HUDI-1056] Fix release validate script for rc_num and release_type (#2025) #MsgLength=77


----
Modified: scripts/release/validate_staged_release.sh|34 12

Revision: fa812482473f0cc8c2f34e2db07366cc3e5f7066
Author: Mathieu <wxhjsxz@126.com>
Date: 28/08/2020 08:44:40
Message:
[HUDI-531] Add java doc for hudi test suite general classes (#1900) #MsgLength=69


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|1 1
Modified: hudi-integ-test/README.md|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/Converter.java|6 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BulkInsertNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java|4 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java|7 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|9 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java|9 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java|9 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|21 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|58 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadSizeEstimator.java|12 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterAdapter.java|3 0

Revision: 4dbeabffa3b2b9f30c48f2deae3ea4f91570afdd
Author: Satish Kotha <satishkotha@uber.com>
Date: 26/08/2020 12:48:28
Message:
[HUDI-1228] Add utility method to query extra metadata #MsgLength=55


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|30 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|43 3

Revision: 0360bef2173e95462975eb967424ec9f68b74123
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/08/2020 14:06:25
Message:
[MINOR] Improve helper methods in TestCleaner (#2052) #MsgLength=146


----
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|19 32

Revision: 6b417d1a867c51dad174fce7c68dd7a3146931b5
Author: Thinking Chen <744417972@qq.com>
Date: 29/08/2020 16:16:42
Message:
[HUDI-1225] Fix: Avro Date logical type not handled correctly when converting to Spark Row (#2047) #MsgLength=100


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|4 4
Added: hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala|59 0

Revision: 6df8f88d86a20bbabeb0acc1103376ac6f461df6
Author: Mathieu <wxhjsxz@126.com>
Date: 31/08/2020 18:03:10
Message:
[HUDI-1252] Remove unused class NoOpBulkInsertPartitioner in DataSourceTestUtils (#2054) #MsgLength=90


----
Modified: hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|0 45

Revision: 6461927eac3f8a225b17af5ecb6ace8c9cf1757b
Author: Prashant Wason <pwason@uber.com>
Date: 31/08/2020 23:05:59
Message:
[HUDI-960] Implementation of the HFile base and log file format. (#1804) #MsgLength=1811


----
Modified: hudi-client/pom.xml|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|30 1
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|15 5
Modified: hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|6 5
Added: hudi-client/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|126 0
Modified: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|22 4
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java|95 0
Added: hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|166 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|10 5
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|33 10
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|6 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java|2 3
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|6 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|5 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|124 116
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|4 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|2 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|3 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|4 4
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|49 5
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|14 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|2 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|159 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java|14 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java|12 0
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|300 0
Deleted: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieAvroLogFormat.java|0 30
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|21 15
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|163 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileRecordReader.java|101 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|1 1
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|110 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 68
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|19 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|54 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java|426 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|33 1
Modified: packaging/hudi-spark-bundle/pom.xml|17 0
Modified: packaging/hudi-utilities-bundle/pom.xml|17 1

Revision: 48a58c98a11ec9d5d3f40c07f23e64a1d5ccd6e6
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 01/09/2020 07:26:10
Message:
[MINOR] fix get classname for hive sync (#2008) #MsgLength=49


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|17 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 2

Revision: 8d19ebfd0f1edc412332045ca6ba10f50af01d9f
Author: Dongwook <kwondw@users.noreply.github.com>
Date: 02/09/2020 00:55:31
Message:
[HUDI-993] Let delete API use "hoodie.delete.shuffle.parallelism" (#1703) #MsgLength=577


----
Modified: docker/demo/config/base.properties|1 0
Modified: docker/demo/config/hoodie-incr.properties|1 0
Modified: docker/demo/config/test-suite/base.properties|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|11 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java|16 7
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|1 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 0
Added: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|186 0
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|1 0
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|2 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|1 0
Modified: hudi-spark/src/test/java/HoodieJavaApp.java|1 0
Modified: hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|1 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/base.properties|1 0

Revision: 6537af26761ca785aaf4f8e9158909205875c1bf
Author: Sreeram Ramji <sreeram.ramji@robinhood.com>
Date: 05/09/2020 00:08:30
Message:
[HUDI-1153] Spark DataSource and Streaming Write must fail when operation type is misconfigured (#2014) #MsgLength=105


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|8 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|13 10
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|6 5
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|16 18
Modified: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|4 3

Revision: 83e39e2b179fb1db13f1c4865a1849855fc32b65
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/09/2020 17:54:36
Message:
[HUDI-781] Add HoodieWriteableTestTable (#2040) #MsgLength=506


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|15 36
Modified: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|30 56
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|44 71
Modified: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|37 80
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|15 49
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|48 48
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|13 13
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|5 5
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|0 64
Added: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|131 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|54 20
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|29 20

Revision: fe7c9e71eb0aa365306c2d91da82234a96a5c1c6
Author: Prashant Wason <pwason@uber.com>
Date: 08/09/2020 10:30:45
Message:
[MINOR] Fix BindException when running tests of shared machines. (#2070) #MsgLength=364


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|27 14

Revision: 51b16bd36fd7b49f453bfbfcfb1e344ca14ca11a
Author: chuangehh <job_lcc@sina.com>
Date: 08/09/2020 11:55:38
Message:
[MINOR] fix typo #MsgLength=17


----
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|2 2
Modified: packaging/hudi-presto-bundle/pom.xml|2 2
Modified: packaging/hudi-spark-bundle/pom.xml|2 2
Modified: packaging/hudi-utilities-bundle/pom.xml|2 2


Revision: 2fee087f0f167370570a88b6d9d28ddbe8402a3e
Author: wenningd <wenningding95@gmail.com>
Date: 09/09/2020 08:50:54
Message:
[HUDI-1181] Fix decimal type display issue for record key field (#1953) #MsgLength=272


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|38 16
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|0 74
Modified: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|24 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 1

Revision: 53d1e551108c6fcde3b39f0080b64996892256de
Author: Abhishek Modi <modi@uber.com>
Date: 02/09/2020 11:12:22
Message:
Test Suite should work with Docker + Unit Tests #MsgLength=48


----
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|7 9
Modified: docker/demo/config/test-suite/test-source.properties|17 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|19 0
Modified: hudi-integ-test/README.md|156 122
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|12 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|16 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGenerator.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|34 22
Added: hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml|40 0
Added: hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml|40 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|61 9

Revision: fec7cd3c9704ce366d1d92fd4d9941a7edbe8198
Author: Balajee Nagasubramaniam <balajee@uber.com>
Date: 25/08/2020 06:56:07
Message:
[HUDI-1130] hudi-test-suite support for schema evolution (can be triggered on any insert/upsert DAG node). #MsgLength=107


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|4 15
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java|9 7
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|102 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|3 4

Revision: 063a98fc2b76beac28a4797884973abd2911c887
Author: linshan-ma <mabin194046@163.com>
Date: 09/09/2020 23:42:41
Message:
[HUDI-1254] TypedProperties can not get values by initializing an existing properties (#2059) #MsgLength=95


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|16 7
Added: hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java|84 0

Revision: a1cff8abae9d9dab87d439c90451da73cc71eebf
Author: Karl-WangSK <53078090+Karl-WangSK@users.noreply.github.com>
Date: 10/09/2020 12:54:21
Message:
[HUDI-1255] Add new Payload(OverwriteNonDefaultsWithLatestAvroPayload) for updating specified fields in storage (#2056) #MsgLength=924


----
Added: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|72 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|8 1
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java|121 0

Revision: 5e61454a6c343225e6ca90c4be79e0c2937a748a
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 12/09/2020 07:11:42
Message:
[HUDI-802] AWSDmsTransformer does not handle insert and delete of a row in a single batch correctly (#2084) #MsgLength=109


----
Modified: hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|19 4
Added: hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java|132 0

Revision: 6c84ef20ac737087ed76c12b2f3e40d9c3aa4b30
Author: liujinhui <965147871@qq.com>
Date: 16/09/2020 10:43:52
Message:
[HUDI-1282] Check whether the topic exists before deltastrmer consumes Kafka (#2090) #MsgLength=86


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|13 0

Revision: 581d54097c89e5f9c04d8f606c9081dc17138bd5
Author: shenh062326 <shenh062326@126.com>
Date: 06/09/2020 16:00:45
Message:
[HUDI-1143] Change timestamp field in HoodieTestDataGenerator from double to long #MsgLength=82


----
Modified: docker/demo/config/test-suite/target.avsc|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|2 2
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|2 1
Added: hudi-client/src/test/resources/testDataGeneratorSchema.txt|128 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|14 14
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|2 2
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|2 2
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|10 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|6 6
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source_short_trip_uber.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source_uber.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target_short_trip_uber.avsc|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target_uber.avsc|1 1

Revision: 3201665295122a892c8ade92aca5f72426a403fd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 18/09/2020 00:29:07
Message:
[HUDI-995] Use HoodieTestTable in more classes (#2079) #MsgLength=441


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|12 9
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|31 9
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|8 7
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|2 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|17 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|79 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|11 88
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|46 52

Revision: bf65269f66075069b421dfa25f90b105bc4ec662
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 18/09/2020 11:03:35
Message:
[HUDI-1230] Fix for preventing MOR datasource jobs from hanging via spark-submit (#2046) #MsgLength=90


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 5
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|105 33

Revision: 73e5b4c7bbd1306a6a2686f6e8d85a2c871ac7ff
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 18/09/2020 19:37:52
Message:
[HUDI-796] Add deduping logic for upserts case (#1558) #MsgLength=56


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|8 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|6 5
Added: hudi-cli/src/main/scala/org/apache/hudi/cli/DeDupeType.scala|28 0
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|84 28
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|65 1

Revision: 7c45894f432387463b05c096bfe15d196e596ef5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 19/09/2020 17:55:24
Message:
[HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2094) #MsgLength=316


----
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|109 107
Modified: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|49 48
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/CompactionTestUtils.java|26 26
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|7 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|47 16
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|0 30
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|5 5

Revision: c8e19e2def0c33415bc3945ffb81f524c484c924
Author: Alexander Filipchik <afilipchik@gmail.com>
Date: 20/09/2020 02:18:36
Message:
[HUDI-801] Adding a way to post process schema after it is fetched (#1524) #MsgLength=281


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|44 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|13 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DelegatingSchemaProvider.java|8 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaPostProcessor.java|58 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProviderWithPostProcessor.java|54 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/RowSource.java|3 2
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaProvider.java|35 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|67 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 14

Revision: 80870165044ed675d2c40d05eb04740bc6b9216a
Author: Kaiux <kaiux@foxmail.com>
Date: 22/09/2020 18:28:19
Message:
[HUDI-1213] Set Default for the bootstrap config : hoodie.bootstrap.full.input.provider (#2087) #MsgLength=97


----
Modified: hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|3 0

Revision: fcc497eff11f128b2c1feaa5ced6c340b6b41849
Author: lw0090 <lw309637554@gmail.com>
Date: 23/09/2020 00:57:20
Message:
[HUDI-1268] fix UpgradeDowngrade fs Rename issue for hdfs and aliyun oss (#2099) #MsgLength=82


----
Modified: hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|8 0
Modified: hudi-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|12 3
Modified: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|19 0

Revision: d37977b310713f59ddbecb3c6127d9e86414a8b0
Author: wenningd <wenningding95@gmail.com>
Date: 23/09/2020 04:29:59
Message:
[MINOR] Remove useless config for bootstrap integ testing (#2102) #MsgLength=117


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|0 2

Revision: 83d2e03cf7f51059c292c2acf1d124fe69259d65
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 25/09/2020 06:01:32
Message:
[MINOR] Adding scripts to checkout and push to PRs (#2109) #MsgLength=137


----
Added: scripts/checkout_pr.sh|61 0
Added: scripts/pr_push_command.sh|60 0

Revision: 6837118c21d2575cfba0486b0a7344f55d41675f
Author: dugenkui <dugenkui@gmail.com>
Date: 25/09/2020 22:21:37
Message:
[MINOR] Improve description (#2113) #MsgLength=37


----
Modified: hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java|1 2
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java|1 1
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|4 2

Revision: 2eaba0962a67d72000a3b1033f5f3d5bde5f4d7f
Author: hongdd <jn_hdd@163.com>
Date: 26/09/2020 00:36:41
Message:
[HUDI-544] Archived commits command code cleanup (#1242) #MsgLength=97


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|6 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieSanity.java|7 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 4

Revision: 1dd6635fbbe0e8bb9e2844d1b78c916e8ddaf7c1
Author: Mathieu <wxhjsxz@126.com>
Date: 26/09/2020 01:13:39
Message:
[MINOR] Fix ClassCastException when use QuickstartUtils generate data (#2105) #MsgLength=79


----
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|1 1

Revision: ae68b2b355a9dd23ff9fd1dd3f5637039b02c14a
Author: dugenkui <dugenkui@meituan.com>
Date: 26/09/2020 20:40:33
Message:
[MINOR] fix typos (#2116) #MsgLength=27


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BootstrapFileMapping.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|41 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueueProducer.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|1 1
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|2 2

Revision: 1be0b06ef8839c46318cfa900f18ac6e237d928b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 26/09/2020 21:21:47
Message:
[HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2112) #MsgLength=699


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|23 15
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|28 26
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|8 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|24 36
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|31 25
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|26 41
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|64 62
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|0 29

Revision: b0f1b736f8f16253cf7522589a343ef384d7d407
Author: leesf <leesf@apache.org>
Date: 26/09/2020 22:25:19
Message:
[MINOR] Fix checkstyle (#2117) #MsgLength=32


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|1 1

Revision: a86f5574ed68333f03165ae560a4d88812ba7478
Author: liujinhui <965147871@qq.com>
Date: 27/09/2020 14:10:13
Message:
[HUDI-1192] Make create hive database automatically configurable (#1968) #MsgLength=74


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|3 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|11 5
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|21 4

Revision: c0c0095fa96636d620c5ff428610d75aee902d74
Author: vinoyang <yanghua1127@gmail.com>
Date: 29/09/2020 05:12:57
Message:
[MINOR] Reformat prepare_integration_suite script (#2126) #MsgLength=59


----
Modified: hudi-integ-test/prepare_integration_suite.sh|23 23

Revision: 20b9b399c980270afdd60cc5fbce783c700a8376
Author: liujinhui <965147871@qq.com>
Date: 29/09/2020 13:44:31
Message:
[HUDI-1233] Deltastreamer Kafka consumption delay reporting indicators (#2074) #MsgLength=80


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|12 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|6 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|6 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|15 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|9 6

Revision: 32c9cad52c7eef1067f12867afc405a1624cef14
Author: hongdd <jn_hdd@163.com>
Date: 29/09/2020 23:02:15
Message:
[HUDI-840] Avoid blank file created by HoodieLogFormatWriter (#1567) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|71 50
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|6 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java|6 0

Revision: a99e93bed542c8ae30a641d1df616cc2cd5798e1
Author: satishkotha <satishkotha@uber.com>
Date: 30/09/2020 08:04:25
Message:
[HUDI-1072] Introduce REPLACE top level action. Implement insert_overwrite operation on top of replace action (#2048) #MsgLength=119


----
Modified: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|27 20
Modified: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java|37 6
Added: hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteResult.java|68 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java|7 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java|6 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|38 2
Added: hudi-client/src/main/java/org/apache/hudi/table/ReplaceArchivalHelper.java|99 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java|12 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|25 26
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwriteCommitActionExecutor.java|80 0
Added: hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwritePartitioner.java|51 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|2 2
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|2 1
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|1 0
Modified: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 1
Modified: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|84 4
Modified: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|128 76
Modified: hudi-common/pom.xml|2 0
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|8 0
Added: hudi-common/src/main/avro/HoodieInstantInfo.avsc|32 0
Added: hudi-common/src/main/avro/HoodieReplaceCommitMetadata.avsc|64 0
Modified: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc|10 0
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|6 4
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieReplaceCommitMetadata.java|142 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|2 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|18 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|10 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|24 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|12 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|151 36
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|36 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/IncrementalTimelineSyncFileSystemView.java|45 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|20 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|58 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|41 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java|5 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|96 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|11 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|10 12
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|25 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|156 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|171 39
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|24 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|36 24
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|13 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|15 16
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestCommitUtils.java|96 0
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|24 12
Modified: hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|4 0
Modified: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|7 5
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|35 33
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|8 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|6 2

Revision: 5aaaf8bff17fcff595aa3927b45f4928e0d400e8
Author: vinoyang <yanghua1127@gmail.com>
Date: 30/09/2020 17:17:44
Message:
[MINOR] Change the log level of the dag scheduler for the test suite (#2134) #MsgLength=78


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|2 2

Revision: 1f7add92916c37b05be270d9c75a9042134ec506
Author: Mathieu <wxhjsxz@126.com>
Date: 02/10/2020 05:25:29
Message:
[HUDI-1089] Refactor hudi-client to support multi-engine (#1827) #MsgLength=699


----
Modified: .travis.yml|4 4
Modified: hudi-cli/pom.xml|8 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|4 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|13 11
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|4 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|4 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|2 2
Added: hudi-client/hudi-client-common/pom.xml|264 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java [from hudi-client/src/main/java/org/apache/hudi/async/AsyncCompactService.java]|16 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java [from hudi-client/src/main/java/org/apache/hudi/async/AbstractAsyncService.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java [from hudi-client/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java [from hudi-client/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java [from hudi-client/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java [from hudi-client/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java]|2 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java [from hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java]|2 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieWriteCommitCallbackUtil.java [from hudi-client/src/main/java/org/apache/hudi/callback/util/HoodieWriteCommitCallbackUtil.java]|0 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractCompactor.java|41 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java [from hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java]|15 10
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java [from hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteClient.java]|274 246
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java [from hudi-client/src/main/java/org/apache/hudi/client/AsyncCleanerService.java]|5 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java [from hudi-client/src/main/java/org/apache/hudi/client/CompactionAdminClient.java]|13 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java [from hudi-client/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/ReplaceArchivalHelper.java]|11 10
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java [from hudi-client/src/main/java/org/apache/hudi/client/WriteStatus.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/BootstrapMode.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapMode.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/BootstrapWriteStatus.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapWriteStatus.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java]|8 10
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/HoodieBootstrapSchemaProvider.java|69 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapModeSelector.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapModeSelector.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapRegexModeSelector.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/BootstrapRegexModeSelector.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/selector/FullRecordBootstrapModeSelector.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/FullRecordBootstrapModeSelector.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/selector/MetadataOnlyBootstrapModeSelector.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/MetadataOnlyBootstrapModeSelector.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/selector/UniformBootstrapModeSelector.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/selector/UniformBootstrapModeSelector.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/translator/BootstrapPartitionPathTranslator.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/BootstrapPartitionPathTranslator.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/translator/IdentityBootstrapPartitionPathTranslator.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/translator/IdentityBootstrapPartitionPathTranslator.java]|0 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineProperty.java|33 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/HoodieEngineContext.java|71 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/TaskContextSupplier.java [from hudi-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java]|9 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableConsumer.java [from hudi-client/src/main/java/org/apache/hudi/client/utils/ClientUtils.java]|10 21
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableFunction.java|32 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializablePairFunction.java|31 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java [from hudi-client/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java]|9 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java [from hudi-client/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MergingIterator.java [from hudi-client/src/main/java/org/apache/hudi/client/utils/MergingIterator.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java]|2 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java [from hudi-client/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java]|6 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieAppendException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieAppendException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieCommitCallbackException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitCallbackException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieCommitException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieCommitException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieCompactionException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieCompactionException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieInsertException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieInsertException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieRollbackException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieRollbackException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieSavepointException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieSavepointException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieUpgradeDowngradeException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpgradeDowngradeException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java [from hudi-client/src/main/java/org/apache/hudi/exception/HoodieUpsertException.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java [from hudi-client/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java]|11 11
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java [from hudi-client/src/main/java/org/apache/hudi/execution/LazyInsertIterable.java]|20 45
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertSortMode.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertSortMode.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java]|12 57
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java [from hudi-client/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java]|16 19
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/BloomIndexFileInfo.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/IndexFileFilter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedIndexFileFilter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeLookupTree.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/KeyRangeNode.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedGlobalIndexFileFilter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/ListBasedIndexFileFilter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java [from hudi-client/src/main/java/org/apache/hudi/index/hbase/DefaultHBaseQPSResourceAllocator.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java [from hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndexQPSResourceAllocator.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/AppendHandleFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/AppendHandleFactory.java]|5 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/CreateHandleFactory.java]|6 6
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java]|14 10
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java]|5 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java]|12 12
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieIOHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java]|3 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java]|12 12
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieReadHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieReadHandle.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java]|8 8
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java]|14 14
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java [from hudi-client/src/main/java/org/apache/hudi/client/utils/SparkConfigUtils.java]|19 51
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/WriteHandleFactory.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java]|10 10
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java]|5 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java]|7 7
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java [from hudi-client/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java]|0 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieGauge.java [from hudi-client/src/main/java/org/apache/hudi/metrics/HoodieGauge.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java [from hudi-client/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java [from hudi-client/src/main/java/org/apache/hudi/metrics/JmxReporterServer.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java [from hudi-client/src/main/java/org/apache/hudi/metrics/Metrics.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java [from hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java [from hudi-client/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java [from hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java [from hudi-client/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java]|4 9
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java [from hudi-client/src/main/java/org/apache/hudi/table/HoodieTable.java]|100 117
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java [from hudi-client/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java]|16 15
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java [from hudi-client/src/main/java/org/apache/hudi/table/MarkerFiles.java]|13 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java [from hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java]|7 55
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadStat.java [from hudi-client/src/main/java/org/apache/hudi/table/WorkloadStat.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java]|8 7
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java [from hudi-client/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java]|4 6
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java [from hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java [from hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java]|6 7
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/HoodieBootstrapWriteMetadata.java [from hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/HoodieBootstrapWriteMetadata.java]|7 7
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java]|20 92
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java [from hudi-client/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java]|3 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java [from hudi-client/src/main/java/org/apache/hudi/table/action/clean/PartitionCleanStat.java]|0 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java|34 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractDeleteHelper.java|48 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/MergeHelper.java]|6 58
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/WriteHelper.java]|24 39
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|159 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BucketType.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucket.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/InsertBucketCumulativeWeightPair.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertBucketCumulativeWeightPair.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/SmallFile.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/SmallFile.java]|0 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/AbstractCompactHelpers.java|58 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java]|10 44
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java]|7 9
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/OperationResult.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/OperationResult.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedIOCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedIOCompactionStrategy.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java]|0 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedCompactionStrategy.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/strategy/UnBoundedPartitionAwareCompactionStrategy.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java]|6 5
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java|128 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseCopyOnWriteRollbackActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java]|20 26
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java|97 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java]|11 16
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java]|0 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java]|7 7
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|114 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java|71 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java|143 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java [from hudi-client/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java]|3 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java [from hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java]|3 4
Renamed: hudi-client/hudi-client-common/src/main/resources/log4j.properties [from hudi-client/src/main/resources/log4j.properties]|0 0
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/ClientFunctionalTestSuite.java [from hudi-client/src/test/java/org/apache/hudi/ClientFunctionalTestSuite.java]|0 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|119 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|64 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|46 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|61 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|161 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|104 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|152 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java|77 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|105 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java|43 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java|47 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/DFSProvider.java|34 0
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieEngineContextProvider.java [from hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndexUsage.java]|4 23
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieMetaClientProvider.java|40 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java|30 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchema.txt|40 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleSchema.txt|36 0
Added: hudi-client/hudi-client-common/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-client/hudi-client-common/src/test/resources/log4j-surefire.properties|31 0
Added: hudi-client/hudi-spark-client/pom.xml|235 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java|36 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java [from hudi-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java]|25 20
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java [from hudi-client/src/main/java/org/apache/hudi/client/Compactor.java]|9 13
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieWriteResult.java [from hudi-client/src/main/java/org/apache/hudi/client/HoodieWriteResult.java]|0 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|319 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java|84 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java [from hudi-client/src/main/java/org/apache/hudi/client/bootstrap/BootstrapSchemaProvider.java]|11 43
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|112 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java [from hudi-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java]|0 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java|44 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java [from hudi-client/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java]|0 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|78 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java]|5 5
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitioner.java]|1 1
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitioner.java]|1 1
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDPartitionSortPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDPartitionSortPartitioner.java]|1 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java|85 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/InMemoryHashIndex.java]|21 31
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/BucketizedBloomCheckPartitioner.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java]|21 50
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java]|5 5
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/hbase/HBaseIndex.java]|19 22
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java]|21 32
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java [from hudi-client/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java]|29 58
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java [from hudi-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java]|2 2
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java]|0 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java [from hudi-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java]|0 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java|31 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java [from hudi-client/src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java]|55 56
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java [from hudi-client/src/main/java/org/apache/hudi/table/HoodieMergeOnReadTable.java]|50 48
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|72 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapCommitActionExecutor.java]|86 33
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapDeltaCommitActionExecutor.java]|13 11
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java|134 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java]|143 111
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertCommitActionExecutor.java]|12 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertHelper.java]|37 14
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertPreppedCommitActionExecutor.java]|11 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteCommitActionExecutor.java]|11 9
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/DeleteHelper.java]|36 19
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertCommitActionExecutor.java]|10 9
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwriteCommitActionExecutor.java]|10 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertOverwritePartitioner.java]|6 7
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertPreppedCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/InsertPreppedCommitActionExecutor.java]|10 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|110 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertCommitActionExecutor.java]|10 9
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertPreppedCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPreppedCommitActionExecutor.java]|10 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|69 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java]|10 8
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/HoodieMergeOnReadTableCompactor.java]|44 32
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkCompactHelpers.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java]|27 22
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java]|19 17
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java|88 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeltaCommitActionExecutor.java]|19 19
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertDeltaCommitActionExecutor.java]|17 15
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/BulkInsertPreppedDeltaCommitActionExecutor.java]|12 11
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/DeleteDeltaCommitActionExecutor.java]|12 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertDeltaCommitActionExecutor.java]|11 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/InsertPreppedDeltaCommitActionExecutor.java]|10 8
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitActionExecutor.java]|9 9
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertDeltaCommitPartitioner.java]|5 5
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/deltacommit/UpsertPreppedDeltaCommitActionExecutor.java]|10 8
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java]|19 11
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java [from hudi-client/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java]|19 11
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java [from hudi-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java]|11 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java|73 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|77 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java|82 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java [from hudi-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java]|6 7
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java|66 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|136 0
Added: hudi-client/hudi-spark-client/src/main/resources/log4j.properties|23 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java [from hudi-client/src/test/java/org/apache/hudi/client/TestClientRollback.java]|8 8
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java [from hudi-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java]|1 1
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java [from hudi-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java]|45 44
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieInternalWriteStatus.java|87 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|235 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|122 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java [from hudi-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java]|24 24
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|148 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java|55 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/bootstrap/TestBootstrapRegexModeSelector.java|75 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/bootstrap/TestUniformBootstrapModeSelector.java|66 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java|239 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java [from hudi-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java]|9 10
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java|100 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|121 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java [from hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java]|37 29
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|178 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|99 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java [from hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java]|34 24
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java [from hudi-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java]|13 12
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|176 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java [from hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java]|46 45
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndexUsage.java|40 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java|64 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|96 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|165 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java [from hudi-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java]|3 3
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java|228 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java [from hudi-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java]|31 19
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java|69 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|67 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java|113 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java [from hudi-client/src/test/java/org/apache/hudi/table/TestCleaner.java]|29 28
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|168 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java [from hudi-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java]|59 56
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|162 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java|80 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java [from hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java]|22 21
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|186 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java [from hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java]|8 8
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|245 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java [from hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java]|11 10
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|197 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|116 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|327 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|99 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|200 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|126 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|158 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|120 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java [from hudi-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java]|13 13
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/Assertions.java|41 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|168 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java [from hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java]|26 26
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|411 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|203 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|165 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|131 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java|85 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|176 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java|55 0
Added: hudi-client/hudi-spark-client/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-client/hudi-spark-client/src/test/resources/log4j-surefire.properties|31 0
Added: hudi-client/hudi-spark-client/src/test/resources/testDataGeneratorSchema.txt|128 0
Modified: hudi-client/pom.xml|5 285
Deleted: hudi-client/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 266
Deleted: hudi-client/src/main/java/org/apache/hudi/table/action/commit/CommitActionExecutor.java|0 139
Deleted: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|0 163
Deleted: hudi-client/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|0 109
Deleted: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|0 116
Deleted: hudi-client/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java|0 71
Deleted: hudi-client/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|0 162
Deleted: hudi-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|0 132
Deleted: hudi-client/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|0 119
Deleted: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieInternalWriteStatus.java|0 87
Deleted: hudi-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|0 235
Deleted: hudi-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|0 122
Deleted: hudi-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|0 148
Deleted: hudi-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java|0 55
Deleted: hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestBootstrapRegexModeSelector.java|0 75
Deleted: hudi-client/src/test/java/org/apache/hudi/client/bootstrap/TestUniformBootstrapModeSelector.java|0 66
Deleted: hudi-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java|0 239
Deleted: hudi-client/src/test/java/org/apache/hudi/client/utils/TestSparkConfigUtils.java|0 65
Deleted: hudi-client/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|0 64
Deleted: hudi-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java|0 101
Deleted: hudi-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|0 121
Deleted: hudi-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|0 181
Deleted: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestBucketizedBloomCheckPartitioner.java|0 99
Deleted: hudi-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|0 176
Deleted: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java|0 66
Deleted: hudi-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|0 96
Deleted: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|0 164
Deleted: hudi-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java|0 231
Deleted: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|0 66
Deleted: hudi-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java|0 117
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|0 46
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|0 61
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|0 161
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|0 104
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|0 152
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java|0 77
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|0 105
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java|0 43
Deleted: hudi-client/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java|0 47
Deleted: hudi-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|0 168
Deleted: hudi-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|0 158
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java|0 80
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|0 186
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|0 245
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|0 196
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|0 116
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|0 327
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|0 99
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|0 200
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|0 126
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|0 158
Deleted: hudi-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|0 120
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/Assertions.java|0 41
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|0 160
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|0 365
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|0 203
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|0 165
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|0 131
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java|0 85
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|0 176
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/providers/DFSProvider.java|0 34
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieMetaClientProvider.java|0 40
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java|0 30
Deleted: hudi-client/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java|0 55
Deleted: hudi-client/src/test/resources/exampleEvolvedSchema.txt|0 40
Deleted: hudi-client/src/test/resources/exampleSchema.txt|0 36
Deleted: hudi-client/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-client/src/test/resources/log4j-surefire.properties|0 31
Deleted: hudi-client/src/test/resources/testDataGeneratorSchema.txt|0 128
Modified: hudi-examples/pom.xml|7 1
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|4 3
Modified: hudi-integ-test/pom.xml|7 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|11 9
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|3 2
Modified: hudi-spark/pom.xml|15 2
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|8 7
Modified: hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java|11 4
Modified: hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|6 6
Modified: hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|6 4
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|10 9
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|5 4
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|6 5
Modified: hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|3 3
Modified: hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|12 10
Modified: hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|3 2
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|2 2
Modified: hudi-utilities/pom.xml|15 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|8 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|12 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|14 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|6 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|6 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|6 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|7 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|8 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|7 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|17 3
Modified: packaging/hudi-spark-bundle/pom.xml|8 2
Modified: packaging/hudi-utilities-bundle/pom.xml|8 2
Modified: style/checkstyle.xml|2 0

Revision: 6c610b91efad789db7d5b7d8dbe7503f63427de9
Author: Prashant Wason <pwason@uber.com>
Date: 05/10/2020 00:30:04
Message:
[HUDI-1305] Added an API to shutdown and remove the metrics reporter. (#2132) #MsgLength=256


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|21 9
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|6 0

Revision: 080ba3ed54fc12942d7ce8326435d80a46fb48bf
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 05/10/2020 02:22:01
Message:
[HUDI-1199] relocated jetty in hudi-utilities-bundle pom (#1990) #MsgLength=167


----
Modified: packaging/hudi-utilities-bundle/pom.xml|4 0

Revision: b335459c805748815ccc858ff1a9ef4cd830da8c
Author: Shen Hong <shenh062326@126.com>
Date: 05/10/2020 02:34:21
Message:
[HUDI-1208] Ordering Field should be optional when precombine is turned off (#2088) #MsgLength=85


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|19 0
Modified: hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 5
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|57 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 2

Revision: fdae388626b8d97acc01191aa0e7075c36a41132
Author: lw0090 <lw309637554@gmail.com>
Date: 06/10/2020 02:36:54
Message:
[HUDI-1203]  add port  configuration for EmbeddedTimelineService (#2142) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|11 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|32 5

Revision: fed01cd3c94bb340976fc214fb199b0c891365fe
Author: rmpifer <rmpifer@umich.edu>
Date: 06/10/2020 06:22:28
Message:
[MINOR] Update spark master default to yarn (#2148) #MsgLength=53


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1

Revision: 524193eb4bd45eb21a64c68e927600a52b9ade1d
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 07/10/2020 11:34:03
Message:
[HUDI-603]: DeltaStreamer can now fetch schema before every run in continuous mode (#1566) #MsgLength=161


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractCompactor.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|7 10
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|72 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|84 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|20 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|13 17
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaSet.java|44 0

Revision: 788d236c443eb4ced819f9305ed8e0460b5984b7
Author: Prashant Wason <pwason@uber.com>
Date: 07/10/2020 20:33:51
Message:
[HUDI-1303] Some improvements for the HUDI Test Suite. (#2128) #MsgLength=1198


----
Modified: docker/compose/hadoop.env|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|1 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|2 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|7 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java|3 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|37 28
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|72 80
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordPartialPayloadGenerator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|1 0

Revision: 1d1d91d444b6af2b24b17d94068512a930877a98
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 09/10/2020 10:21:27
Message:
[HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2143) #MsgLength=663


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|8 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|47 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|26 25
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|14 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|60 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|19 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|52 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|9 162

Revision: 00271af64e8a913f69a093935fc4e412a48f16ae
Author: dugenkui <dugenkui@meituan.com>
Date: 10/10/2020 05:52:55
Message:
[MINOR] Fix typo (#2159) #MsgLength=50


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableType.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|5 6

Revision: eafd7bf289f901edfedc350beec30fa3cc09bb85
Author: vinoyang <yanghua1127@gmail.com>
Date: 10/10/2020 06:09:26
Message:
[MINOR] Fix wrong javadoc and refactor some naming issues (#2156) #MsgLength=67


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|10 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java|3 3

Revision: 585ce0094d6527bab988f7657b4e84d12274ee28
Author: lw0090 <lw309637554@gmail.com>
Date: 10/10/2020 20:53:41
Message:
[HUDI-1301]  use  spark INCREMENTAL mode query hudi dataset support schema version. (#2125) #MsgLength=93


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|27 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|9 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|15 8

Revision: 86db4da33cca40858529abd998bbe81b19f25c69
Author: lw0090 <lw309637554@gmail.com>
Date: 12/10/2020 08:10:52
Message:
[HUDI-1339] delete useless import in hudi-spark module (#2173) #MsgLength=64


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|1 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|1 8

Revision: d4d4c8c8994d4da988005b7930b797213aed4303
Author: dugenkui <dugenkui@meituan.com>
Date: 12/10/2020 08:52:44
Message:
[MINOR] Fix typo and others (#2164) #MsgLength=173


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SerializationUtils.java|0 3
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java|0 8
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/SchemaCompatibilityException.java [from hudi-common/src/main/java/org/apache/hudi/exception/SchemaCompatabilityException.java]|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|2 2

Revision: 032bc3b08fe61ff23c8a1002d78a8197893d4f89
Author: dugenkui <dugenkui@meituan.com>
Date: 12/10/2020 08:55:41
Message:
[MINOR] NPE Optimization for Option (#2158) #MsgLength=45


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|6 1

Revision: 2126f13e130ea0394bb395aa38bc6df4052576e6
Author: lw0090 <lw309637554@gmail.com>
Date: 12/10/2020 09:29:57
Message:
[HUDI-791]  Replace null by Option in Delta Streamer (#2171) #MsgLength=62


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|25 32
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1

Revision: b58daf29ba7f0100d16deb793757d93d073c9a03
Author: dugenkui <dugenkui@meituan.com>
Date: 12/10/2020 09:38:42
Message:
[MINOR] remove unused generics type (#2163) #MsgLength=45


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java|3 7

Revision: c0472d3317e9bfe0b39ee2212e760e96b5a67ee9
Author: hj2016 <hj3245459@163.com>
Date: 12/10/2020 10:05:57
Message:
[HUDI-1184] Fix the support of hbase index partition path change (#1978) #MsgLength=289


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|18 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|47 29
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|64 3

Revision: c5e10d668f9366f29bdf7721f7efe4140782527b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 12/10/2020 14:39:10
Message:
[HUDI-995] Migrate HoodieTestUtils APIs to HoodieTestTable (#2167) #MsgLength=308


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|79 71
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|27 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|0 75
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|1 1

Revision: 0d407342efb8e7c29012a42b989585f239594359
Author: satishkotha <satishkotha@uber.com>
Date: 13/10/2020 07:48:29
Message:
[HUDI-1304] Add unit test for testing compaction on replaced file groups (#2150) #MsgLength=82


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|26 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|52 0

Revision: b66c3ef23a021114c3c05ccf4d724b4a16926c53
Author: lw0090 <lw309637554@gmail.com>
Date: 13/10/2020 15:45:10
Message:
[HUDI-1298] Add better error messages when IOException occurs during log file reading (#2133) #MsgLength=95


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|1 1

Revision: c7d962efffa9440746d54dd2bcba73a9df8b354a
Author: wangxianghu <wxhjsxz@126.com>
Date: 14/10/2020 09:30:49
Message:
[HUDI-1328] Introduce HoodieFlinkEngineContext to hudi-flink-client (#2161) #MsgLength=77


----
Added: hudi-client/hudi-flink-client/pom.xml|220 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|89 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java|73 0
Added: hudi-client/hudi-flink-client/src/main/resources/log4j.properties|23 0
Added: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java|115 0
Added: hudi-client/hudi-flink-client/src/test/resources/log4j-surefire.properties|31 0
Modified: hudi-client/pom.xml|1 0

Revision: 7fa641ea9ad2318b185f8492964b30ebc90759b0
Author: satishkotha <satishkotha@uber.com>
Date: 14/10/2020 13:58:00
Message:
[HUDI-1302] Add support for timestamp field in HiveSync (#2129) #MsgLength=65


----
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|4 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|1 1
Modified: hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|6 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|33 20
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|34 0

Revision: a44f66869f1b938e83857ceaed9291eca9194f45
Author: rmpifer <rmpifer@umich.edu>
Date: 15/10/2020 08:04:35
Message:
[HUDI-1289] Remove relocation of pattern for hbase dependencies and add shading of guava in hadoop, spark, and presto bundles (#2147) #MsgLength=291


----
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|3 12
Modified: packaging/hudi-presto-bundle/pom.xml|0 8
Modified: packaging/hudi-spark-bundle/pom.xml|3 11

Revision: ec6267c30328521621e6e803dfd6aaa65ae489f7
Author: lw0090 <lw309637554@gmail.com>
Date: 18/10/2020 17:18:50
Message:
[HUDI-307] add test to check timestamp date decimal type write and read consistent (#2177) #MsgLength=92


----
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|36 2

Revision: 35d406de4025ccd6c117e241c2174dbfc63e2e88
Author: Guy Khazma <33684427+guykhazma@users.noreply.github.com>
Date: 18/10/2020 17:24:53
Message:
[HUDI-1344] IBM Cloud Object Storage Support (#2182) #MsgLength=54


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 4d80e1e221b0ddfd542baeee9b6cbb3b28a88e68
Author: lw0090 <lw309637554@gmail.com>
Date: 19/10/2020 22:38:04
Message:
[HUDI-284] add more test for UpdateSchemaEvolution (#2127) #MsgLength=107


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 7
Renamed: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchema.avsc [from hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchema.txt]|0 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaChangeOrder.avsc|40 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaColumnRequire.avsc|40 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaColumnType.avsc|36 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleEvolvedSchemaDeleteColumn.avsc|32 0
Renamed: hudi-client/hudi-client-common/src/test/resources/exampleSchema.avsc [from hudi-client/hudi-client-common/src/test/resources/exampleSchema.txt]|0 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|139 55
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1

Revision: 6490b029dd05e5a3d704ebd5b314899a53dd76fb
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 20/10/2020 05:11:08
Message:
[HUDI-1345] Remove Hbase and htrace relocation from utilities bundle (#2185) #MsgLength=78


----
Modified: packaging/hudi-utilities-bundle/pom.xml|0 8

Revision: fd269ddeb07fad015f71fc2c7daa53ace0e0e2da
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date: 20/10/2020 17:52:31
Message:
[MINOR] Make sure factory method is used to instanciate DFSPathSelector (#2187) #MsgLength=214


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|0 18
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|29 0

Revision: af5ef4d49d9c7eb610c446d8058216f39bb2fcfa
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date: 21/10/2020 14:20:19
Message:
[HUDI-1330] handle prefix filtering at directory level (#2157) #MsgLength=263


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|27 22
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java|13 0

Revision: e4931744ebcb6380ec967636213c406fd80a735f
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 21/10/2020 14:36:25
Message:
[HUDI-1200] fixed NPE in CustomKeyGenerator (#2093) #MsgLength=236


----
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|0 1
Modified: hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1

Revision: 49407169ac1711c0babb77fb3014473c0b236edd
Author: Shen Hong <shenh062326@126.com>
Date: 22/10/2020 08:49:28
Message:
[HUDI-1209] Properties File must be optional when running deltastreamer (#2085) #MsgLength=81


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|14 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|12 5

Revision: 14c4611857ea796b8d3aef96f867db9cd0ae31f7
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/10/2020 10:50:10
Message:
[MINOR] Fix caller to SparkBulkInsertCommitActionExecutor (#2195) #MsgLength=102


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|1 1

Revision: 49e855c3488ebe53af3a72fc3b5a22ba47a45e01
Author: Prashant Wason <pwason@uber.com>
Date: 25/10/2020 07:47:24
Message:
[HUDI-1326] Added an API to force publish metrics and flush them. (#2152) #MsgLength=313


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|26 6
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|4 0

Revision: 8545ea3856134d9252339614390672b1872ec75c
Author: lw0090 <lw309637554@gmail.com>
Date: 26/10/2020 12:04:56
Message:
[HUDI-1118] Cleanup rollback files residing in .hoodie folder (#2205) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|2 3

Revision: e206ddd431131da26cf1bb00f70fe64ad0450059
Author: wangxianghu <wxhjsxz@126.com>
Date: 26/10/2020 12:22:11
Message:
[MINOR] Private the NoArgsConstructor of SparkMergeHelper and code clean (#2194) #MsgLength=82


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|1 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|2 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|3 0

Revision: e109a61803326ac81edc60ae3a889d8d6c75e902
Author: n3nash <nagarwal@uber.com>
Date: 29/10/2020 10:34:26
Message:
1. Fix merge on read DAG to make docker demo pass (#2092) #MsgLength=152


----
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|5 5
Modified: docker/demo/config/test-suite/complex-dag-mor.yaml|9 13
Modified: hudi-integ-test/README.md|11 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|20 8
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|8 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|6 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|17 12
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java|18 5
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|11 0
Modified: hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml|33 3
Modified: hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml|33 3

Revision: 736a9408549f66014bfdfdc72832be11aa9fd39b
Author: liujinhui <965147871@qq.com>
Date: 29/10/2020 11:29:50
Message:
[HUDI-1274] Make hive synchronization supports hourly partition (#2122) #MsgLength=73


----
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java|67 0
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestPartitionValueExtractor.java|38 0

Revision: 6310a2307abba94c7ff8a770f45462deae2c312e
Author: Prashant Wason <pwason@uber.com>
Date: 29/10/2020 21:50:37
Message:
[HUDI-1351] Improvements to the hudi test suite for scalability and repeated testing. (#2197) #MsgLength=1199


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|29 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java|16 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|11 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|39 9
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|9 6
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|53 15
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java|5 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|18 8
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|4 1

Revision: a205dd10faba0a83dcb39a12abb6f744b5224992
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 01/11/2020 12:15:41
Message:
[HUDI-1338] Adding Delete support to test suite framework (#2172) #MsgLength=188


----
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|49 10
Modified: docker/demo/config/test-suite/source.avsc|5 1
Modified: docker/demo/config/test-suite/target.avsc|4 0
Added: docker/demo/config/test-suite/test.properties|27 0
Modified: hudi-integ-test/README.md|2 37
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|28 7
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/DeleteConverter.java|44 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteNode.java|54 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|7 4
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeleteGeneratorIterator.java|54 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|46 10
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|5 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|53 43
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java|4 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java|6 4
Added: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java|84 0

Revision: 59f995a3f5476e8171f24a32250da85e13d28daf
Author: Venkatesh Rudraraju <33071342+v3nkatesh@users.noreply.github.com>
Date: 03/11/2020 00:33:27
Message:
Use RateLimiter instead of sleep. Repartition WriteStatus to optimize Hbase index writes (#1484) #MsgLength=98


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|149 62
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|90 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBasePutBatchSizeCalculator.java|16 19
Added: hudi-common/src/main/java/org/apache/hudi/common/util/RateLimiter.java|91 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestRatelimiter.java|52 0

Revision: d160abb43740e0bcdf40458c345ecd2d74e6698c
Author: wangxianghu <wxhjsxz@126.com>
Date: 03/11/2020 05:12:51
Message:
[HUDI-912] Refactor and relocate KeyGenerator to support more engines (#2200) #MsgLength=176


----
Modified: hudi-client/hudi-client-common/pom.xml|5 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieKeyGeneratorException.java|33 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|81 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|50 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|124 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|59 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java]|29 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/KeyGenerator.java]|1 37
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|51 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|57 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java]|24 55
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|41 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/AbstractHoodieDateTimeParser.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/parser/AbstractHoodieDateTimeParser.java]|3 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java]|5 5
Modified: hudi-client/hudi-spark-client/pom.xml|7 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java]|35 45
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java]|18 18
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java]|30 40
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java]|9 9
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java]|10 10
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java]|1 3
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java [from hudi-spark/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java]|9 7
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|82 0
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala [from hudi-spark/src/main/scala/org/apache/hudi/AvroConversionHelper.scala]|9 8
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala [from hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala]|11 10
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java]|66 8
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java]|25 25
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java]|7 7
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java]|11 11
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java [from hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java]|25 25
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java [from hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java]|0 0
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|2 2
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 6
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|0 1
Deleted: hudi-spark/src/test/java/TestComplexKeyGenerator.java|0 86
Modified: hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala|1 2
Modified: hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|16 3

Revision: 5f5c15b0d9f807dc7f9112a5220c3daeb01f0cb8
Author: lw0090 <lw309637554@gmail.com>
Date: 03/11/2020 12:00:12
Message:
[HUDI-892] RealtimeParquetInputFormat skip adding projection columns if there are no log files (#2190) #MsgLength=303


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|13 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|3 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|5 2

Revision: 33ec88fc3840c47a54b5862e4d276889c4121231
Author: satishkotha <satishkotha@uber.com>
Date: 06/11/2020 00:49:58
Message:
[HUDI-1352] Add FileSystemView APIs to query pending clustering operations (#2202) #MsgLength=84


----
Modified: hudi-common/pom.xml|5 0
Added: hudi-common/src/main/avro/HoodieClusteringGroup.avsc|49 0
Added: hudi-common/src/main/avro/HoodieClusteringPlan.avsc|50 0
Added: hudi-common/src/main/avro/HoodieClusteringStrategy.avsc|42 0
Added: hudi-common/src/main/avro/HoodieRequestedReplaceMetadata.avsc|47 0
Added: hudi-common/src/main/avro/HoodieSliceInfo.avsc|56 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|18 10
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/dto/ClusteringOpDTO.java|62 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|45 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|54 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|17 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|59 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|17 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java|6 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|178 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RocksDBSchemaHelper.java|11 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|60 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java|142 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|7 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|7 0

Revision: 0364498ae3be553f7c9fab78469283a6958da2ff
Author: wenningd <wenningding95@gmail.com>
Date: 06/11/2020 09:30:17
Message:
[HUDI-1375] Fix bug in HoodieAvroUtils.removeMetadataFields() method (#2232) #MsgLength=128


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|10 0

Revision: 42b6aeca28664767add190374b13f57c99e17286
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 10/11/2020 11:26:13
Message:
[HUDI-1358] Fix Memory Leak in HoodieLogFormatWriter (#2217) #MsgLength=62


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|11 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|7 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|12 2

Revision: 430d4b428e7c5b325c7414a187f9cda158c2758a
Author: Karl_Wang <wskqing@gmail.com>
Date: 11/11/2020 02:08:08
Message:
[HUDI-1377] remove duplicate code (#2235) #MsgLength=43


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1

Revision: 4d05680038752077ceaebef261b66a5afc761e10
Author: wangxianghu <wxhjsxz@126.com>
Date: 18/11/2020 17:57:11
Message:
[HUDI-1327] Introduce base implemetation of hudi-flink-client (#2176) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/HoodieEngineContext.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|10 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java|65 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|213 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|10 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java|2 1
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|80 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|77 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|135 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|140 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|31 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|72 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java|131 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|331 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java|46 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|123 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java|50 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java|47 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|116 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java|50 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java|47 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|68 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/Partitioner.java|27 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|316 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|71 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|73 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|236 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java|61 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|49 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|137 0
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java|7 28
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|1 1
Added: hudi-flink/pom.xml|177 0
Added: hudi-flink/src/main/java/org/apache/hudi/HudiFlinkStreamer.java|188 0
Added: hudi-flink/src/main/java/org/apache/hudi/exception/HoodieFlinkStreamerException.java|30 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|224 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java|164 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessOperator.java|66 0
Added: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|79 0
Added: hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java|43 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java|153 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java|73 0
Added: hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java|80 0
Added: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|149 0
Added: packaging/hudi-flink-bundle/pom.xml|286 0
Added: packaging/hudi-flink-bundle/src/main/java/org/apache/hudi/flink/bundle/Main.java|36 0
Modified: pom.xml|24 1

Revision: a23230c8c2be5e0d6e9d8cbf936892402b7d741f
Author: wangxianghu <wxhjsxz@126.com>
Date: 19/11/2020 13:40:04
Message:
[HUDI-1400] Replace Operation enum with WriteOperationType (#2259) #MsgLength=68


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|6 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|6 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|31 31

Revision: d7af8caa45095acac7fe62d215c22c5989b81b09
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 19/11/2020 13:44:03
Message:
[HUDI-1384] Decoupling hive jdbc dependency when HIVE_USE_JDBC_OPT_KEY set false (#2241) #MsgLength=90


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 12

Revision: c8d5ea2752f8289b9dec37a149e82c030f657924
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 19/11/2020 15:27:52
Message:
[MINOR] clean up and add comments to flink client (#2261) #MsgLength=59


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java|9 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|5 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|5 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|8 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|3 0
Renamed: hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java [from hudi-flink/src/main/java/org/apache/hudi/HudiFlinkStreamer.java]|12 11
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|14 13
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessOperator.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java|8 7
Modified: hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java|6 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|9 8

Revision: 537502a8efd92ebed43ab245b0802f3b9d251cc2
Author: wangxianghu <wxhjsxz@126.com>
Date: 22/11/2020 10:41:11
Message:
[MINOR] Add apacheflink label (#2268) #MsgLength=39


----
Modified: .asf.yaml|1 0

Revision: 971f028aaf3e90ddee571e9862509d34a637782d
Author: hongdd <jn_hdd@163.com>
Date: 23/11/2020 16:53:01
Message:
[HUDI-1393] Add compaction action in archive command (#2246) #MsgLength=62


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|25 35

Revision: d9411c38dbe6684ed2b0b59b27fbb1a46ac16c34
Author: Shen Hong <shenh062326@126.com>
Date: 24/11/2020 02:06:28
Message:
[HUDI-1364] Add HoodieJavaEngineContext to hudi-java-client (#2222) #MsgLength=69


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java]|0 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/DummyTaskContextSupplier.java|48 0
Added: hudi-client/hudi-java-client/pom.xml|152 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|86 0
Added: hudi-client/hudi-java-client/src/main/resources/log4j.properties|23 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/client/common/TestHoodieJavaEngineContext.java|85 0
Added: hudi-client/hudi-java-client/src/test/resources/log4j-surefire.properties|31 0
Modified: hudi-client/pom.xml|1 0

Revision: 751e4ee88219c9d7d212cd2abcfe57ec59bb322e
Author: wenningd <wenningding95@gmail.com>
Date: 24/11/2020 02:43:24
Message:
[HUDI-1396] Fix for preventing bootstrap datasource jobs from hanging via spark-submit (#2253) #MsgLength=146


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|9 3
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|60 4

Revision: 0ebef1c0a0e4b96616ee7e4372d3b9f0eb83a919
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 24/11/2020 02:56:26
Message:
[HUDI-1358] Fix leaks in DiskBasedMap and LazyFileIterable (#2249) #MsgLength=68


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java|37 27
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|9 6

Revision: 56866a11fe8b7a0ef8340f221da30c83c72b85da
Author: steven zhang <stevenz1985@outlook.com>
Date: 25/11/2020 11:55:33
Message:
[HUDI-1392] lose partition info when using spark parameter basePath (#2243) #MsgLength=124


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 3
Modified: hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1

Revision: 3d5e9fee7f42d45f737e170a1937bdf676df9c60
Author: leesf <leesf@apache.org>
Date: 28/11/2020 21:47:05
Message:
[MINOR] refactor code in HoodieMergeHandle (#2272) #MsgLength=52


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 5

Revision: 36ce5bcd92fa6cb2fb88677eae1a7a846f606e3f
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 30/11/2020 23:07:21
Message:
[HUDI-1424]  Write Type changed to BULK_INSERT when set ENABLE_ROW_WRITER_OPT_KEY=true (#2289) #MsgLength=96


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1

Revision: b826c53e331fa5a80b7f9505dcdee0cbf16740e2
Author: Guy Khazma <33684427+guykhazma@users.noreply.github.com>
Date: 02/12/2020 05:19:40
Message:
[HUDI-1373] Add Support for OpenJ9 JVM (#2231) #MsgLength=153


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|51 135
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification32bit.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification64bit.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/HotSpotMemoryLayoutSpecification64bitCompressed.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/MemoryLayoutSpecification.java|60 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification32bit.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification64bit.java|46 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/jvm/OpenJ9MemoryLayoutSpecification64bitCompressed.java|46 0

Revision: ac23d2587f58d2199535dea779925cec02304b2d
Author: Prashant Wason <pwason@uber.com>
Date: 02/12/2020 05:44:57
Message:
[HUDI-1357] Added a check to validate records are not lost during merges. (#2216) #MsgLength=106


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|27 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|49 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|17 0
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|13 0

Revision: 78fd12259404cad8117862fdf0b948cbe115e453
Author: rmpifer <rmpifer@umich.edu>
Date: 02/12/2020 05:50:46
Message:
[HUDI-1196] Update HoodieKey when deduplicating records with global index (#2248) #MsgLength=226


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|3 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|1 0

Revision: 1f0d5c077ea34ea91c6577cf2391291d06917378
Author: lw0090 <lw309637554@gmail.com>
Date: 04/12/2020 04:26:21
Message:
[HUDI-1349] spark sql support overwrite use insert_overwrite_table (#2196) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|11 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|17 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|8 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|74 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|6 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|4 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|1 1
Modified: hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java|3 1
Modified: hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|2 1
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|7 4
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|79 0

Revision: 62b392b49c13455199e0372204dedf8a371b452c
Author: liujinhui <965147871@qq.com>
Date: 04/12/2020 11:28:34
Message:
[HUDI-1343] Add standard schema postprocessor which would rewrite the schema using spark-avro conversion (#2192) #MsgLength=151


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|12 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java|47 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/SparkAvroSchemaProvider.java|36 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|37 1

Revision: 319b7a58e4773ca51c4ef9b82faf55d03d208e46
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 05/12/2020 08:07:25
Message:
[HUDI-1427] Fix FileAlreadyExistsException when set HOODIE_AUTO_COMMIT_PROP to true (#2295) #MsgLength=93


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2
Modified: hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|13 0

Revision: de2fbeac334e65abee38f5f5867805ad07b8dcd2
Author: wangxianghu <wxhjsxz@126.com>
Date: 07/12/2020 09:29:53
Message:
[HUDI-1412] Make HoodieWriteConfig support setting different default  (#2278) #MsgLength=181


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineType.java|26 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|35 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|25 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|17 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 4

Revision: 3a91d26d625415b7ccd74f9f32418f8a84aa3e3c
Author: jshmchenxi <jshmchenxi@gmail.com>
Date: 08/12/2020 22:28:20
Message:
fix typo (#2308) #MsgLength=61


----
Modified: hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 1

Revision: fce1453fa608fcff5df4d5aca8c88107d4151b09
Author: wenningd <wenningding95@gmail.com>
Date: 10/12/2020 07:52:23
Message:
[HUDI-1040] Make Hudi support Spark 3 (#2208) #MsgLength=413


----
Modified: LICENSE|2 0
Modified: README.md|8 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkRowDeserializer.java|28 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|1 27
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|24 35
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|18 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 1
Modified: hudi-integ-test/pom.xml|1 7
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java|3 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|3 3
Added: hudi-spark-datasource/hudi-spark-common/pom.xml|178 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java [from hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala [from hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala]|2 2
Renamed: hudi-spark-datasource/hudi-spark/pom.xml [from hudi-spark/pom.xml]|20 2
Renamed: hudi-spark-datasource/hudi-spark/run_hoodie_app.sh [from hudi-spark/run_hoodie_app.sh]|1 1
Renamed: hudi-spark-datasource/hudi-spark/run_hoodie_generate_app.sh [from hudi-spark/run_hoodie_generate_app.sh]|1 1
Renamed: hudi-spark-datasource/hudi-spark/run_hoodie_streaming_app.sh [from hudi-spark/run_hoodie_streaming_app.sh]|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java [from hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java [from hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java [from hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java [from hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java [from hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java]|2 2
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/exception/HoodieDeltaStreamerException.java [from hudi-spark/src/main/java/org/apache/hudi/exception/HoodieDeltaStreamerException.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java [from hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister [from hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala [from hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala]|6 2
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala]|74 3
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala [from hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala [from hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala [from hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala]|0 3
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/package.scala [from hudi-spark/src/main/scala/org/apache/hudi/package.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java [from hudi-spark/src/test/java/HoodieJavaApp.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java [from hudi-spark/src/test/java/HoodieJavaGenerateApp.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java [from hudi-spark/src/test/java/HoodieJavaStreamingApp.java]|2 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java [from hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java [from hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java [from hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java [from hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java [from hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/exampleSchema.txt [from hudi-spark/src/test/resources/exampleSchema.txt]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire-quiet.properties [from hudi-spark/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire.properties [from hudi-spark/src/test/resources/log4j-surefire.properties]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala [from hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala [from hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala [from hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala [from hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala]|2 2
Added: hudi-spark-datasource/hudi-spark2/pom.xml|225 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java [from hudi-spark/src/main/java/org/apache/hudi/internal/DefaultSource.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java [from hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java [from hudi-spark/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java [from hudi-spark/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java [from hudi-spark/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java]|0 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2RowDeserializer.scala|30 0
Renamed: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java [from hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java]|8 4
Renamed: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java [from hudi-spark/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java]|9 6
Added: hudi-spark-datasource/hudi-spark3/pom.xml|163 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3RowDeserializer.scala|33 0
Added: hudi-spark-datasource/pom.xml|39 0
Modified: hudi-utilities/pom.xml|15 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|3 2
Modified: packaging/hudi-integ-test-bundle/pom.xml|14 0
Modified: packaging/hudi-spark-bundle/pom.xml|18 0
Modified: packaging/hudi-utilities-bundle/pom.xml|19 0
Modified: pom.xml|29 4

Revision: 007014c1ef11083f4adad908ce390ec976fcdc33
Author: wangxianghu <wxhjsxz@126.com>
Date: 10/12/2020 09:56:19
Message:
[MINOR] Throw an exception when keyGenerator initialization failed (#2307) #MsgLength=76


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java|5 8

Revision: bd9cceccb582ede88b989824241498e8c32d4f13
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 10/12/2020 10:19:19
Message:
[HUDI-1395] Fix partition path using FSUtils (#2312) #MsgLength=125


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2

Revision: 4bc45a391afc14738a42fc731fe958b2af5e3ee8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/12/2020 20:02:02
Message:
[HUDI-1445] Refactor AbstractHoodieLogRecordScanner to use Builder (#2313) #MsgLength=76


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|19 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|17 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|12 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|24 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|81 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|74 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|146 25
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|12 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|12 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|15 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|19 14

Revision: 6cf25d5c8a4c0ee7e8cd09a7a2884806b0fee1b7
Author: wangxianghu <wxhjsxz@126.com>
Date: 10/12/2020 20:16:00
Message:
[MINOR] Minor improve in IncrementalRelation (#2314) #MsgLength=54


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|2 11

Revision: 236d1b0dec409efb9c7a9febd260b1060da6a9c1
Author: Shen Hong <shenh062326@126.com>
Date: 11/12/2020 16:36:37
Message:
[HUDI-1439] Remove scala dependency from hudi-client-common (#2306) #MsgLength=69


----
Modified: hudi-client/hudi-client-common/pom.xml|0 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java|2 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializablePairFunction.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|4 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|4 5
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java|2 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|2 2
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/client/common/TestHoodieJavaEngineContext.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|10 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|2 2
Modified: style/checkstyle.xml|5 0
Added: style/import-control.xml|26 0

Revision: 11bc1fe6f498850d2c496151741813001d3850a3
Author: steven zhang <stevenz1985@outlook.com>
Date: 13/12/2020 22:28:53
Message:
[HUDI-1428] Clean old fileslice is invalid (#2292) #MsgLength=160


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|44 0

Revision: facde4c16f9a61e1c62ed268c869493696aa6a06
Author: lw0090 <lw309637554@gmail.com>
Date: 14/12/2020 23:25:10
Message:
[HUDI-1448]  Hudi dla sync support skip rt table syncing (#2324) #MsgLength=66


----
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|4 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|3 1
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java|2 0

Revision: 069a1dcf24e076388bf0579275155f42bfe09075
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 15/12/2020 14:24:12
Message:
[HUDI-1435] Fix bug in Marker File Reconciliation for Non-Partitioned datasets (#2301) #MsgLength=88


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1

Revision: 93d9c25aee37d36c03e4c0edfc18db7da819ce2d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/12/2020 14:35:24
Message:
[MINOR] Improve code readability by passing in the fileComparisonsRDD in bloom index (#2319) #MsgLength=94


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java|9 10

Revision: 26cdc457f6b2491caf28dcb7e33f03e7a2dac6fa
Author: wenningd <wenningding95@gmail.com>
Date: 16/12/2020 08:20:48
Message:
[HUDI-1376] Drop Hudi metadata cols at the beginning of Spark datasource writing (#2233) #MsgLength=140


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|8 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|21 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|17 1

Revision: 6a6b772c4980106efe71e3799da9e6a00746dd4e
Author: ChangLi <69448640+lichang-bd@users.noreply.github.com>
Date: 16/12/2020 19:37:01
Message:
[MINOR] Fix error information in exception (#2341) #MsgLength=52


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|1 1

Revision: 4ddfc61d70e39bc09dd1aa020bde26284ed35d39
Author: wangxianghu <wxhjsxz@126.com>
Date: 17/12/2020 18:00:23
Message:
[MINOR] Make QuickstartUtil generate random timestamp instead of 0 (#2340) #MsgLength=76


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|12 1

Revision: 14d5d1100c69839d2bcfea26af0efdcd2057650d
Author: Bhavani Sudha Saktheeswaran <bhavanisudhas@gmail.com>
Date: 17/12/2020 19:59:30
Message:
[HUDI-1406] Add date partition based source input selector for Delta streamer (#2264) #MsgLength=218


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/CsvDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ParquetDFSSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|19 4
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java|209 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java|212 0

Revision: 8b5d6f94304229e9ec61d44aeda3b514dd67f2a6
Author: lw0090 <lw309637554@gmail.com>
Date: 18/12/2020 07:20:13
Message:
[HUDI-1437]  support more accurate spark JobGroup for better performance tracking (#2322) #MsgLength=91


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|6 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java|4 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java|1 1

Revision: 5388c7f7a3efb84516af71a2533e8953113b30da
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date: 18/12/2020 19:18:52
Message:
[HUDI-1470] Use the latest writer schema, when reading from existing parquet files in the hudi-test-suite (#2344) #MsgLength=115


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|4 0

Revision: 33d338f3923862fdff24443a02d8a33a56d92e63
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/12/2020 11:19:42
Message:
[HUDI-115] Adding DefaultHoodieRecordPayload to honor ordering with combineAndGetUpdateValue (#2311) #MsgLength=411


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|74 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|82 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java|32 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|55 18
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java|107 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|5 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|61 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 0

Revision: e4e2fbc3bb2c4796c6813114dd1c37ffa5a1e03a
Author: Shen Hong <shenh062326@126.com>
Date: 20/12/2020 11:25:27
Message:
[HUDI-1419] Add base implementation for hudi java client (#2286) #MsgLength=66


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/Partitioner.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/Partitioner.java]|0 0
Modified: hudi-client/hudi-java-client/pom.xml|6 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|235 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|4 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/JavaTaskContextSupplier.java|45 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java|80 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|71 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java|120 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|178 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|31 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|72 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java|130 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|329 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java|50 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertPreppedCommitActionExecutor.java|49 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java|115 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java|50 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPreppedCommitActionExecutor.java|49 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|68 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|319 0
Modified: hudi-examples/pom.xml|6 0
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|1 1
Added: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|109 0

Revision: 0c821fecc2140683de24d9b350c8142b4b8b8c47
Author: jshmchenxi <jshmchenxi@gmail.com>
Date: 22/12/2020 09:02:23
Message:
[MINOR] Pass root exception to HoodieKeyGeneratorException for more information (#2354) #MsgLength=132


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|1 1

Revision: 6dc03b65bfd98d0a1fde2d48ebb31f36b1186cf9
Author: Satish Kotha <satishkotha@uber.com>
Date: 08/11/2020 09:08:55
Message:
[HUDI-1075] Implement simple clustering strategies to create ClusteringPlan and to run the plan #MsgLength=96


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|73 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/ConcatenatingIterator.java|60 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/FileSliceMetricUtils.java|67 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|176 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|52 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieClusteringException.java|31 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|10 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|22 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java|74 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java|67 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|142 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|108 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java|13 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/CompactionStrategy.java|7 26
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java|0 19
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestConcatenatingIterator.java|65 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|5 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|11 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|5 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|11 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|56 3
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|125 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|89 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|11 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java|4 2
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|77 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|18 3
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java|74 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|230 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java|3 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|31 17
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|9 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java|10 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|93 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|58 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|93 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|8 10
Modified: hudi-common/src/main/avro/HoodieClusteringGroup.avsc|5 0
Added: hudi-common/src/main/java/org/apache/hudi/common/config/SerializableSchema.java|77 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/ClusteringOperation.java|129 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|2 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|62 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|37 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|2 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializableSchema.java|68 0


Revision: f8ccb2872dc9ba10853650fac2baed1406f3b731
Author: wangxianghu <wxhjsxz@126.com>
Date: 22/12/2020 21:14:18
Message:
[HUDI-1471] Make QuickStartUtils generate deletes according to specific ts (#2357) #MsgLength=84


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|8 4

Revision: 01ad449ad68d9c77ee1493fcdf833df53df6106a
Author: wangxianghu <wxhjsxz@126.com>
Date: 22/12/2020 23:10:19
Message:
[HUDI-1485] Fix Deletes issued without any prior commits exception (#2361) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 1

Revision: 38b9264dd041db955ffa4c0f10273e1b5fa21cfb
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 23/12/2020 16:47:38
Message:
[HUDI-1488] Fix Test Case Failure in TestHBaseIndex (#2365) #MsgLength=61


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|3 0

Revision: 89f482eaf249bf89b7182c4ca97ffda0929b4b7e
Author: wenningd <wenningding95@gmail.com>
Date: 24/12/2020 03:26:24
Message:
[HUDI-1489] Fix null pointer exception when reading updated written bootstrap table (#2370) #MsgLength=143


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|113 238

Revision: 286055ce34bdbbac68c995a2710fc7be07734b12
Author: wenningd <wenningding95@gmail.com>
Date: 25/12/2020 22:43:34
Message:
[HUDI-1451] Support bulk insert v2 with Spark 3.0.0 (#2328) #MsgLength=188


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|32 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BaseDefaultSource.java|45 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BaseWriterCommitMessage.java|45 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|113 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|107 0
Added: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|112 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|17 8
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|8 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|3 27
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java|7 67
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|16 49
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java|5 15
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|11 80
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|13 79
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|61 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|54 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java|64 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java|52 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java|91 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java|55 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java|77 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieWriterCommitMessage.java|36 0
Added: hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|150 0
Added: hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|265 0
Modified: pom.xml|5 4

Revision: e807bb895e5a31a40f51b2c2bd9b732d26bebd46
Author: lw0090 <lw309637554@gmail.com>
Date: 26/12/2020 01:54:23
Message:
[HUDI-1487] fix unit test testCopyOnWriteStorage random failed (#2364) #MsgLength=72


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|5 4

Revision: 3ec9270e8e0be4c94106bdb09543971296ebe2d2
Author: Balaji Varadarajan <balaji.varadarajan@robinhood.com>
Date: 27/12/2020 01:17:49
Message:
[HUDI-1490] Incremental Query should work even when there are  partitions that have no incremental changes (#2371) #MsgLength=271


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|28 2

Revision: 8cf6a7223f5fa6c2014a7351198ac6d1ebd26621
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/12/2020 01:29:24
Message:
[HUDI-1331] Adding support for validating entire dataset and long running tests in test suite framework (#2168) #MsgLength=675


----
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|53 119
Modified: docker/demo/config/test-suite/complex-dag-mor.yaml|104 100
Added: docker/demo/config/test-suite/cow-long-running-example.yaml|68 0
Deleted: docker/demo/config/test-suite/test-source.properties|0 37
Modified: docker/demo/config/test-suite/test.properties|8 0
Modified: hudi-integ-test/README.md|184 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|17 17
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/UpdateConverter.java|5 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|34 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/SimpleWorkflowDagGenerator.java|4 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WorkflowDag.java|28 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|6 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java|11 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java|43 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|148 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|36 21
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|17 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|6 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|9 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/UpdateGeneratorIterator.java|5 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java|16 16
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|43 39
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/schema/SchemaUtils.java|25 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/schema/TestSuiteFileBasedSchemaProvider.java|66 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java|19 10
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DeltaWriterFactory.java|7 6
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/configuration/TestWorkflowBuilder.java|8 7
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|3 0
Modified: hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml|59 55
Modified: hudi-integ-test/src/test/resources/unit-test-mor-dag.yaml|59 55
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/FilebasedSchemaProvider.java|2 2

Revision: 9e6889a8ce522ec455a11d6f6cf4949255c91a0f
Author: lw0090 <lw309637554@gmail.com>
Date: 28/12/2020 12:27:09
Message:
[HUDI-1481]  add  structured streaming and delta streamer clustering unit test (#2360) #MsgLength=88


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|142 23
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|40 11

Revision: 6cdf59d92b1c260abae82bba7d30d8ac280bddbf
Author: lw0090 <lw309637554@gmail.com>
Date: 28/12/2020 12:30:29
Message:
[HUDI-1354] Block updates and replace on file groups in clustering (#2275) #MsgLength=217


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|26 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|14 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieClusteringUpdateException.java|29 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java|48 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|67 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|21 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|34 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|100 1

Revision: e177466fd266ebf3a8d371ce1bf2ecf3bdfe90ed
Author: lw0090 <lw309637554@gmail.com>
Date: 29/12/2020 07:01:06
Message:
[HUDI-1350] Support Partition level delete API in HUDI (#2254) #MsgLength=306


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|9 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|5 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|7 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|6 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java|68 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|0 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|104 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|19 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|4 0

Revision: 76faf59652468e9d6b8507216e52f282c585841d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/12/2020 10:15:43
Message:
[HUDI-1495] Upgrade Flink version to 1.12.0 (#2384) #MsgLength=53


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 7
Modified: pom.xml|1 1

Revision: 0ecdec348efdc0d34401bae5d75435d4821f72b5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/12/2020 10:49:24
Message:
[MINOR] Remove the duplicate code in AbstractHoodieWriteClient.startCommit (#2385) #MsgLength=84


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 5

Revision: 4c17528de021054699c60e292874cdfdbcf592af
Author: steven zhang <stevenz1985@outlook.com>
Date: 29/12/2020 11:52:35
Message:
[HUDI-1398] Align insert file size for reducing IO (#2256) #MsgLength=163


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|17 2

Revision: b83d1d3e61d51a7b098789532e31531d94330cb0
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 29/12/2020 12:02:36
Message:
[HUDI-1484] Escape the partition value in HiveSyncTool (#2363) #MsgLength=64


----
Modified: docker/demo/sparksql-incremental.commands|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|23 5
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|14 1

Revision: da51aa64fcaf8cd3099ef9c085c207283999306f
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date: 29/12/2020 12:04:38
Message:
[HUDI-1474] Add additional unit tests to TestHBaseIndex (#2349) #MsgLength=65


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|120 0

Revision: e33a8f733c4a9a94479c166ad13ae9d53142cd3f
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date: 30/12/2020 05:33:19
Message:
[HUDI-1147] Modify GenericRecordFullPayloadGenerator to generate vali (#2045) #MsgLength=222


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|14 9
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|32 11
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|35 0

Revision: c6bf95233240d75160670ee96c356946c44c6169
Author: Prashant Wason <pwason@uber.com>
Date: 30/12/2020 09:02:21
Message:
[HUDI-1493] Fixed schema compatibility check for fields. (#2350) #MsgLength=265


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|27 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|5 3

Revision: ef28763f083375c4fe8c1f94acdf785d9bc7f9bf
Author: wangxianghu <wxhjsxz@126.com>
Date: 30/12/2020 19:47:04
Message:
[MINOR] Update report_coverage.sh (#2396) #MsgLength=43


----
Modified: scripts/report_coverage.sh|3 2

Revision: 605b617cfa9a25bff48e618beccfaa7b4eaeee56
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 31/12/2020 06:22:15
Message:
[HUDI-1434] fix incorrect log file path in HoodieWriteStat (#2300) #MsgLength=670


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|165 63
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|5 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|11 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|5 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|7 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|5 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|42 28
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java|25 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/AppendResult.java|50 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|28 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|75 62
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|86 72
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java|1 1
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java|50 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|5 5

Revision: c5e8a024f6a2169f8d6256039de00a44fdb2f5a0
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 31/12/2020 08:57:22
Message:
[HUDI-1418] Set up flink client unit test infra (#2281) #MsgLength=57


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|39 1
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java]|6 52
Modified: hudi-client/hudi-flink-client/pom.xml|22 0
Added: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|136 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|0 20
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java|102 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|19 0
Modified: hudi-flink/pom.xml|97 0
Modified: hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java|14 4
Modified: hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java|29 12
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 9
Added: hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java|89 0
Added: hudi-flink/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-flink/src/test/resources/log4j-surefire.properties|31 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 3

Revision: a23aa41a1a3082eda080ec1cf3ad99e5ec37a9a0
Author: steven zhang <stevenz1985@outlook.com>
Date: 31/12/2020 11:06:41
Message:
[MINOR] Sync UpsertPartitioner modify of HUDI-1398 to flink/java (#2390) #MsgLength=121


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|5 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|5 1

Revision: ff8313caf1dfe0b13fa9f160489a74600b0e8756
Author: Shen Hong <shenh062326@126.com>
Date: 03/01/2021 20:38:45
Message:
[HUDI-1423] Support delete in hudi-java-client (#2353) #MsgLength=56


----
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|5 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|2 1
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteCommitActionExecutor.java|46 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|125 0
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|10 0

Revision: c3e9243ea1066adb2f12cf5b9cee82445d61a840
Author: jshmchenxi <jshmchenxi@gmail.com>
Date: 04/01/2021 12:19:48
Message:
[MINOR] Add maven profile to support skipping shade sources jars (#2358) #MsgLength=117


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|13 0

Revision: 298808baaf771a3707cf55db8d89ed4421e1f8c3
Author: Prashant Wason <pwason@uber.com>
Date: 31/12/2020 10:29:55
Message:
[HUDI-842] Implementation of HUDI RFC-15. #MsgLength=3735


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|226 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|18 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|4 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|5 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetadataConfig.java|150 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|48 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|647 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|52 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|43 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|29 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|19 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|2 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java|11 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|43 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/DistributedRegistry.java|107 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/SparkHoodieBackedTableMetadataWriter.java|186 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieFsMetadata.java|801 0
Modified: hudi-common/pom.xml|1 0
Added: hudi-common/src/main/avro/HoodieMetadata.avsc|56 0
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|9 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|26 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|186 111
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareFSDataOutputStream.java|13 6
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/TimedFSDataInputStream.java|79 0
Added: hudi-common/src/main/java/org/apache/hudi/common/metrics/LocalRegistry.java|70 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java|61 49
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|33 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|10 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|9 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|11 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieMetadataException.java|34 0
Modified: hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java|7 7
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|447 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java|75 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java|147 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|233 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|93 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java|33 0

Revision: 4e642268442782cdd7ad753981dd2571388cd189
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 31/12/2020 17:20:02
Message:
[HUDI-1450] Use metadata table for listing in HoodieROTablePathFilter (apache#2326) #MsgLength=179


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|5 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|5 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|13 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieFsMetadata.java|2 2
Renamed: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetadataConfig.java]|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|17 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|69 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|11 13
Renamed: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java]|16 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|14 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|13 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|13 2
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|12 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|30 18
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|9 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|13 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|9 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|6 2

Revision: 2bd4a68731826698d120765c534cabe6c3069a95
Author: Prashant Wason <pwason@uber.com>
Date: 31/12/2020 17:40:12
Message:
[HUDI-1469] Faster initialization of metadata table using parallelized listing. (#2343) #MsgLength=289


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|56 33

Revision: 4b94529aafd45b608c6d1ab13376216144b934f6
Author: Ryan Pifer <ryanpife@amazon.com>
Date: 01/01/2021 00:57:13
Message:
[HUDI-1325] [RFC-15] Merge updates of unsynced instants to metadata table (apache#2342) #MsgLength=234


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|22 234
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|6 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieFsMetadata.java]|132 20
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|6 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|6 1
Added: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|293 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|15 212
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedInstantRecordScanner.java|115 0
Added: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|311 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|3 1

Revision: 1a0579ca7df8d3ab83775d356f34f5b432b05176
Author: rmpifer <rmpifer@umich.edu>
Date: 30/12/2020 05:09:55
Message:
[HUDI-1312] [RFC-15] Support for metadata listing for snapshot queries through Hive/SparkSQL (#2366) #MsgLength=150


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|4 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|5 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|40 13
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|19 1

Revision: 31e674eb57c7e01af783dccb01828a0b6eb2a632
Author: Vinoth Chandar <vinoth@apache.org>
Date: 04/01/2021 17:15:49
Message:
[HUDI-1504] Allow log files generated during restore/rollback to be synced as well #MsgLength=260


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|0 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|0 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/SparkHoodieBackedTableMetadataWriter.java]|2 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|35 44
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|9 2

Revision: 698694a1571cdcc9848fc79aa34c8cbbf9662bc4
Author: satishkotha <satishkotha@uber.com>
Date: 05/01/2021 02:36:44
Message:
[HUDI-1498] Read clustering plan from requested file for inflight instant (#2389) #MsgLength=83


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|15 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|13 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java|16 0

Revision: 47c5e518a756df815287502a50da9d73d28fc662
Author: wangxianghu <wxhjsxz@126.com>
Date: 06/01/2021 19:49:17
Message:
[HUDI-1506] Fix wrong exception thrown in HoodieAvroUtils (#2405) #MsgLength=67


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|30 0

Revision: da2919a75f564be6c3d731a2c503959e416ebe71
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/01/2021 20:49:44
Message:
[HUDI-1383] Fixing sorting of partition vals for hive sync computation (#2402) #MsgLength=80


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|0 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|55 11
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|20 0

Revision: 2c4868e7707bcdb2b2e1f1530c7b2b4d81584a1f
Author: satishkotha <satishkotha@uber.com>
Date: 06/01/2021 20:55:14
Message:
[HUDI-1507] Change timeline utils to support reading replacecommit metadata (#2407) #MsgLength=85


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|14 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|64 0

Revision: b593f1062931a4d017ae8bd7dd42e47a8873a39f
Author: wangxianghu <wxhjsxz@126.com>
Date: 06/01/2021 23:07:24
Message:
[MINOR] Rename unit test package of hudi-spark3 from scala to java (#2411) #MsgLength=76


----
Renamed: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java [from hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java [from hudi-spark-datasource/hudi-spark3/src/test/scala/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java]|0 0

Revision: 5ff8e88d58c2a6efa1046716e11dca0d61cdf872
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 07/01/2021 15:08:30
Message:
[HUDI-1513] Introduce WriteClient#preWrite() and relocate metadata table syncing (#2413) #MsgLength=327


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|14 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|0 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 5
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|5 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|10 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|17 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|4 3

Revision: 17df517b812c9a37dd64014f0d5c35a3cfac0c4e
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 08/01/2021 03:34:06
Message:
[HUDI-1510] Move HoodieEngineContext and its dependencies to hudi-common (#2410) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/FullRecordBootstrapDataProvider.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/HoodieBootstrapSchemaProvider.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/CopyOnWriteInsertHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/AppendHandleFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractDeleteHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/DummyTaskContextSupplier.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieEngineContextProvider.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|10 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|10 7
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/JavaTaskContextSupplier.java|2 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|5 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineProperty.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineProperty.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineType.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/EngineType.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/HoodieEngineContext.java]|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/engine/TaskContextSupplier.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/TaskContextSupplier.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/function/FunctionWrapper.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/FunctionWrapper.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/function/SerializableConsumer.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableConsumer.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/function/SerializableFunction.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializableFunction.java]|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/function/SerializablePairFunction.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/common/function/SerializablePairFunction.java]|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 1

Revision: c151147819abb6b4c418138d9b401f374fc021a0
Author: Trevor <wowtuanzi@gmail.com>
Date: 09/01/2021 07:57:56
Message:
[MINOR] Sync HUDI-1196 to  FlinkWriteHelper (#2415) #MsgLength=53


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|2 4

Revision: 1a836f9a84f0191fe4e40017308af95d872767db
Author: puyvqi <729276581@qq.com>
Date: 09/01/2021 18:36:13
Message:
[HUDI-1514] Avoid raw type use for parameter of Transformer interface (#2420) #MsgLength=79


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java|1 1

Revision: 79ec7b4894b997183a6e10fdc19d34f5ab4ea437
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 10/01/2021 00:02:08
Message:
[HUDI-920] Support Incremental query for MOR table (#1938) #MsgLength=60


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|41 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|6 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|50 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|3 8
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|218 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|142 23

Revision: 65866c45ec04820b01ab701e7de5cf6a406d2a8e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 10/01/2021 08:53:34
Message:
[HUDI-1276] [HUDI-1459] Make Clustering/ReplaceCommit and Metadata table be compatible (#2422) #MsgLength=304


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|56 21
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|11 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|107 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|6 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|20 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|30 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java|11 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|7 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|7 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|5 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java|15 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|10 0

Revision: 368c1a8f5c36d06ed49706b4afde4a83073a9011
Author: lw0090 <lw309637554@gmail.com>
Date: 10/01/2021 09:30:16
Message:
[HUDI-1399] support a independent clustering spark job to asynchronously clustering (#2379) #MsgLength=592


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|19 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|12 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|14 13
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|170 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|9 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|18 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|74 7
Added: hudi-utilities/src/test/resources/delta-streamer-config/clusteringjob.properties|18 0

Revision: 23e93d05c02775b0c518a2da160810b23bb4bca4
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 10/01/2021 13:08:55
Message:
[MINOR] fix spark 3 build for incremental query on MOR (#2425) #MsgLength=64


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|3 6

Revision: 7ce3ac778eb475bf23ffa31243dc0843ec7d089a
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 11/01/2021 13:19:52
Message:
[HUDI-1479] Use HoodieEngineContext to parallelize fetching of partiton paths (#2417) #MsgLength=278


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|13 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|4 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|20 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 4
Added: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|90 0
Added: hudi-common/src/main/java/org/apache/hudi/common/engine/LocalTaskContextSupplier.java|45 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|13 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|53 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|9 7
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|5 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|12 5
Added: hudi-common/src/test/java/org/apache/hudi/metadata/TestFileSystemBackedTableMetadata.java|174 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|4 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|4 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|4 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|0 3
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|5 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|4 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|5 4

Revision: de42adc2302528541145a714078cc6d10cbb8d9a
Author: lw0090 <lw309637554@gmail.com>
Date: 12/01/2021 01:07:47
Message:
[HUDI-1520] add configure for spark sql overwrite use INSERT_OVERWRITE_TABLE (#2428) #MsgLength=86


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|0 1

Revision: e3d3677b7e7899705b624925666317f0c074f7c7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 12/01/2021 05:23:13
Message:
[HUDI-1502] MOR rollback and restore support for metadata sync (#2421) #MsgLength=303


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java|18 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|4 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|17 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|14 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|26 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java|93 37
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|11 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|18 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|9 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|15 13
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|26 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|14 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1

Revision: e926c1a45ca95fa1911f6f88a0577554f2797760
Author: n3nash <nagarwal@uber.com>
Date: 13/01/2021 15:30:21
Message:
HUDI-1525 fix test hbase index (#2436) #MsgLength=40


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|1 1

Revision: 749f6578561cbf065c7f74ab51b1c01881a1bd97
Author: n3nash <nagarwal@uber.com>
Date: 15/01/2021 04:47:50
Message:
[HUDI-1509]: Reverting LinkedHashSet changes to combine fields from oldSchema and newSchema in favor of using only new schema for record rewriting (#2424) #MsgLength=156


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|33 33
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|1 1

Revision: a43e191d6cd91f8fb787fc1fc99ec12218195313
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 16/01/2021 22:56:28
Message:
[MINOR] Bumping snapshot version to 0.7.0 (#2435) #MsgLength=51


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|1 1
Modified: hudi-client/hudi-flink-client/pom.xml|1 1
Modified: hudi-client/hudi-java-client/pom.xml|1 1
Modified: hudi-client/hudi-spark-client/pom.xml|1 1
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|1 1
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 3d1d5d00b00987e0c04e4ff4692fc50d1be85922
Author: satishkotha <satishkotha@uber.com>
Date: 18/01/2021 04:36:55
Message:
[HUDI-1533] Make SerializableSchema work for large schemas and add ability to sortBy numeric values (#2453) #MsgLength=109


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|12 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/SerializableSchema.java|7 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestSerializableSchema.java|21 0

Revision: 684e12e9fcfa45c6ac922a84fb3116ac8142bc18
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 18/01/2021 23:29:53
Message:
[HUDI-1529] Add block size to the FileStatus objects returned from metadata table to avoid too many file splits (#2451) #MsgLength=121


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|7 3

Revision: a38612b10f6ae04644519270f9b5eb631a77c148
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 19/01/2021 15:07:27
Message:
[HUDI-1532] Fixed suboptimal implementation of a magic sequence search  (#2440) #MsgLength=437


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|10 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|21 9

Revision: b9c2856d164c58075a2a0f88ed07fb00d24f65e5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/01/2021 04:20:43
Message:
[HUDI-1535] Fix 0.7.0 snapshot (#2456) #MsgLength=197


----
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 3
Modified: hudi-client/hudi-client-common/pom.xml|2 3
Modified: hudi-client/hudi-flink-client/pom.xml|2 3
Modified: hudi-client/hudi-java-client/pom.xml|2 3
Modified: hudi-client/hudi-spark-client/pom.xml|2 3
Modified: hudi-flink/pom.xml|1 2
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 2
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 2
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|2 2
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 3
Modified: packaging/hudi-utilities-bundle/pom.xml|1 2
Modified: pom.xml|3 3

Revision: 91b9cb53d35e315668f4f82029a34f2b69d01d73
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/01/2021 07:16:25
Message:
[MINOR] Fixing setting defaults for index config (#2457) #MsgLength=58


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 2

Revision: e23967b9e9fcc95dbe71369098c8d12cba90eb95
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/01/2021 13:00:13
Message:
[HUDI-1540] Fixing commons codec shading in spark bundle (#2460) #MsgLength=66


----
Modified: packaging/hudi-spark-bundle/pom.xml|4 0

Revision: 5ca0625b277efa3a73d2ae0fbdfa4c6163f312d2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 20/01/2021 13:20:28
Message:
[HUDI 1308] Harden RFC-15 Implementation based on production testing (#2441) #MsgLength=1060


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|7 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|11 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|12 21
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|22 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|24 42
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|17 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|32 40
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|5 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|7 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java|2 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java|3 10
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|0 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|7 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|24 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|19 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|81 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|23 7
Added: hudi-common/src/main/java/org/apache/hudi/common/function/SerializableSupplier.java|26 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/metrics/Metric.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|49 31
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|25 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|71 64
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|98 69
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|18 8
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|7 8
Renamed: hudi-common/src/main/java/org/apache/hudi/metadata/TimelineMergedTableMetadata.java [from hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedInstantRecordScanner.java]|17 17
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|2 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|2 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|18 14
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|44 32
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|22 27
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|6 6
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|6 12
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|9 3
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|6 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 1

Revision: c931dc5406a808f7afc25a62d22a2ccd545eb066
Author: teeyog <teeyog@gmail.com>
Date: 20/01/2021 20:41:09
Message:
[MINOR] Remove redundant judgments (#2466) #MsgLength=44


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1

Revision: 244f6def9c905382739e76cb8ad0feaa6801a311
Author: liujinhui <965147871@qq.com>
Date: 20/01/2021 22:58:18
Message:
[MINOR] Fix dataSource cannot use hoodie.datasource.hive_sync.auto_create_database (#2444) #MsgLength=166


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0

Revision: 3719e7b3883cc3656b30d4aeac619fb42790d47b
Author: Vinoth Chandar <vinoth@apache.org>
Date: 21/01/2021 03:31:22
Message:
Moving to 0.8.0-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 5e30fc1b2b3c3a2c0b08640ff800ba4f801c0623
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 21/01/2021 06:24:34
Message:
[MINOR] Disabling problematic tests temporarily to stabilize CI (#2468) #MsgLength=73


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java|2 0

Revision: 81ccb0c71ad2c17c5613698d4fb50f3b49b21fb4
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 21/01/2021 13:46:05
Message:
[MINOR] Make a separate travis CI job for hudi-utilities (#2469) #MsgLength=66


----
Modified: .travis.yml|4 2

Revision: 976420c49a3fe764f7cecd30b6cdb32861be5537
Author: wenningd <wenningding95@gmail.com>
Date: 21/01/2021 23:04:28
Message:
[HUDI-1512] Fix spark 2 unit tests failure with Spark 3 (#2412) #MsgLength=198


----
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|8 1
Modified: pom.xml|6 3

Revision: b64d22e0478b967c83be22509beaaf8c5f114e19
Author: luokey <854194341@qq.com>
Date: 22/01/2021 09:17:50
Message:
[HUDI-1511] InstantGenerateOperator support multiple parallelism (#2434) #MsgLength=74


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|123 47

Revision: 641abe8ab7c1c4d9915c6582389476fa5f7ae067
Author: Xiang Yang <csu_yang@126.com>
Date: 22/01/2021 10:36:28
Message:
[HUDI-1332] Introduce FlinkHoodieBloomIndex to hudi-flink-client (#2375) #MsgLength=170


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|3 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java|267 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java|127 0
Added: hudi-client/hudi-flink-client/src/main/resources/log4j-surefire.properties|31 0
Added: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|469 0
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|94 0
Added: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|136 0

Revision: 748dcc9aae88d8d8b7d4fb70341c78d02b9ab5fb
Author: wangxianghu <wxhjsxz@126.com>
Date: 22/01/2021 13:46:25
Message:
[MINOR] Remove InstantGeneratorOperator parallelism limit in HoodieFlinkStreamer and update docs (#2471) #MsgLength=106


----
Modified: hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|6 7

Revision: 048633da1a913a05252b1b5dea0b3d40d75c81b4
Author: cooper <1322849632@qq.com>
Date: 22/01/2021 13:47:14
Message:
[MINOR] Improve code readability,remove the continue keyword (#2459) #MsgLength=70


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSDeltaInputReader.java|0 1

Revision: d3ea0f957e231029c5c21ac479039159aa499cb4
Author: wangxianghu <wxhjsxz@126.com>
Date: 23/01/2021 02:55:46
Message:
[HOTFIX] Revert upgrade flink verison to 1.12.0 (#2473) #MsgLength=57


----
Modified: packaging/hudi-flink-bundle/pom.xml|7 0
Modified: pom.xml|1 1

Revision: e302c6bc12c7eb764781898fdee8ee302ef4ec10
Author: wangxianghu <wxhjsxz@126.com>
Date: 23/01/2021 10:27:40
Message:
[HUDI-1453] Fix NPE using HoodieFlinkStreamer to etl data from kafka to hudi (#2474) #MsgLength=86


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|1 1

Revision: 84df26323d2bb2ad36beb6228f70a60e21e7a57f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 24/01/2021 21:36:41
Message:
[MINOR] Use skipTests flag for skip.hudi-spark2.unit.tests property (#2477) #MsgLength=77


----
Modified: pom.xml|1 1

Revision: 81836f0309b293892a3013017dbd90c93dbf3df9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 24/01/2021 23:42:52
Message:
Removing spring repos from pom (#2481) #MsgLength=134


----
Modified: pom.xml|0 8

Revision: c4afd179c1983a382b8a5197d800b0f5dba254de
Author: Shen Hong <shenh062326@126.com>
Date: 25/01/2021 03:17:19
Message:
[HUDI-1476] Introduce unit test infra for java client (#2478) #MsgLength=63


----
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/Assertions.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/Assertions.java]|0 0
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/MetadataMergeWriteStatus.java]|0 0
Modified: hudi-client/hudi-java-client/pom.xml|6 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestBase.java|48 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java|242 0

Revision: c8ee40f8ae34607072a27d4e7ccb21fc4df13ca1
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 27/01/2021 01:28:22
Message:
[MINOR] Update doap with 0.7.0 release (#2491) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: a54550d94f2973f5e6c73ce4c3bb9eaba8aff711
Author: luokey <854194341@qq.com>
Date: 27/01/2021 21:00:20
Message:
[MINOR]Fix NPE when using HoodieFlinkStreamer with multi parallelism (#2492) #MsgLength=78


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|1 1

Revision: 2ee1c3fb0cb9740dc6d924f5e6e638aec19ed9b3
Author: SteNicholas <programgeek@163.com>
Date: 28/01/2021 02:09:51
Message:
[HUDI-1234] Insert new records to data files without merging for "Insert" operation.  (#2111) #MsgLength=256


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|31 3
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java|94 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java|17 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|4 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|104 20

Revision: 7b2e658ac00410b2a20dd456e431394a75dcb0d3
Author: wangxianghu <wxhjsxz@126.com>
Date: 28/01/2021 08:48:42
Message:
[MINOR] Add Jira URL and Mailing List (#2404) #MsgLength=47


----
Modified: pom.xml|26 0

Revision: bc0325f6ea0a734f106f21a2fcd4ead413a6cf7b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/01/2021 08:53:13
Message:
[HUDI-1522] Add a new pipeline for Flink writer (#2430) #MsgLength=106


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|34 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|1 3
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|8 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|2 2
Modified: hudi-flink/pom.xml|69 34
Added: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|249 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java|3 3
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java|313 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java|52 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|419 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java|77 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/event/BatchWriteSuccessEvent.java|57 0
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|13 4
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java|0 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java|2 2
Added: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|124 0
Renamed: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java [from hudi-flink/src/main/java/org/apache/hudi/HoodieFlinkStreamer.java]|3 96
Added: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|102 0
Added: hudi-flink/src/main/java/org/apache/hudi/streamer/OperationConverter.java|34 0
Added: hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|147 0
Added: hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|309 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|139 28
Added: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java|303 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|129 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java|101 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockFunctionInitializationContext.java|48 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockMapState.java|90 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockOperatorStateStore.java|141 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockStreamingRuntimeContext.java|124 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|122 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java|59 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|164 0
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java|1 1
Added: hudi-flink/src/test/resources/test_read_schema.avsc|45 0
Added: hudi-flink/src/test/resources/test_source.data|8 0

Revision: 23f2ef3efbea5e9a686bac195cdf97605f20d91d
Author: wangxianghu <wxhjsxz@126.com>
Date: 29/01/2021 09:48:50
Message:
[HUDI-623] Remove UpgradePayloadFromUberToApache (#2455) #MsgLength=58


----
Deleted: hudi-utilities/src/main/java/org/apache/hudi/utilities/adhoc/UpgradePayloadFromUberToApache.java|0 118

Revision: 2d2d5c83b1ca33ad413746987c4aa816dd43520d
Author: satishkotha <satishkotha@uber.com>
Date: 30/01/2021 02:27:09
Message:
[HUDI-1555] Remove isEmpty to improve clustering execution performance (#2502) #MsgLength=80


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|9 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|3 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|21 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|6 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|15 8

Revision: 9cb6cb818968d3ef10b3264714e30b8df957ec9d
Author: satishkotha <satishkotha@uber.com>
Date: 30/01/2021 02:28:08
Message:
[HUDI-1266] Add unit test for validating replacecommit rollback (#2418) #MsgLength=73


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|61 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|20 2

Revision: 5d053b495b8cb44cce88a67e82cbdfdc3d8b3180
Author: jiangjiguang <jiangjiguang719@163.com>
Date: 30/01/2021 10:28:00
Message:
[MINOR] Quickstart.generateUpdates method add check (#2505) #MsgLength=61


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|12 9
Added: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestQuickstartUtils.java|45 0

Revision: f159c0c49a7bad564f1fb6ba2758e4b89db4704a
Author: steven zhang <stevenz1985@outlook.com>
Date: 01/02/2021 20:51:57
Message:
[HUDI-1519] Improve minKey/maxKey computation in HoodieHFileWriter (#2427) #MsgLength=133


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|2 9

Revision: 0d8a4d0a56dcb35e499216c7bfab17a05716bc44
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 01/02/2021 21:04:27
Message:
[HUDI-1550] Honor ordering field for MOR Spark datasource reader (#2497) #MsgLength=74


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|41 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|17 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|12 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|15 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|42 2

Revision: ec950b4cfe0e86d4e06b7b80d595510540768fdb
Author: jackiehff <hffwustnetwork@gmail.com>
Date: 02/02/2021 19:23:29
Message:
[MINOR] Fix method comment typo (#2518) #MsgLength=89


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|1 1

Revision: 50ff9ab2d2d4fe217fb1ac540d96bddd07c2f6f8
Author: vinoyang <yanghua1127@gmail.com>
Date: 03/02/2021 01:15:53
Message:
[MINOR] Rename FileSystemViewHandler to RequestHandler and corrected the class comment (#2458) #MsgLength=96


----
Renamed: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java [from hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java]|4 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|2 2

Revision: d74d8e208439df8cb2eb6c24019be55c002d00a5
Author: wangxianghu <wxhjsxz@126.com>
Date: 03/02/2021 08:59:49
Message:
[HUDI-1335] Introduce FlinkHoodieSimpleIndex to hudi-flink-client (#2271) #MsgLength=75


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|3 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java|142 0

Revision: eb91e5ba7006ec9297fbc17658ee951afeb903f1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 03/02/2021 22:02:37
Message:
[HUDI-1523] Call mkdir(partition) only if not exists (#2501) #MsgLength=62


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java|3 1

Revision: 17802569fd64d865317353b3d855a68a6b3874bd
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 04/02/2021 04:29:08
Message:
[HUDI-1538] Try to init class trying different signatures instead of checking its name (#2476) #MsgLength=288


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|12 12

Revision: 647e9faf255b9ae5796f513d13c769a8c87788d4
Author: wangxianghu <wxhjsxz@126.com>
Date: 04/02/2021 11:20:01
Message:
[HUDI-1547] CI intermittent failure: TestJsonStringToHoodieRecordMapF (#2521) #MsgLength=80


----
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java|1 3

Revision: 4a5683d54a3910e1c860f26b291e1e99931b5949
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 04/02/2021 21:43:03
Message:
[MINOR] Fixing the default value for source ordering field for payload config (#2516) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|1 1

Revision: b51b3a39a81848e6fcb5bf7a2480769a012a4339
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 05/02/2021 16:24:35
Message:
[HUDI-1420] HoodieTableMetaClient.getMarkerFolderPath works incorrectly on windows client with hdfs server for wrong file seperator (#2526) #MsgLength=410


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|12 13

Revision: b5d4a046bb4d4addc9675a802d5e9c2ecf42445a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 05/02/2021 20:53:24
Message:
[HUDI-1571] Adding commit_show_records_info to display record sizes for commit (#2514) #MsgLength=88


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|3 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|39 0

Revision: b2c47a24be53016d1c9220cb98d9fb7cd587e748
Author: n3nash <nagarwal@uber.com>
Date: 06/02/2021 08:03:34
Message:
[HUDI-1589] Fix Rollback Metadata AVRO backwards incompatiblity (#2543) #MsgLength=73


----
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|4 4

Revision: 291f92069eee7bbff5e192d7ea6576a25a8c400c
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date: 06/02/2021 16:40:31
Message:
[MINOR] Fix wrong logic for checking state condition (#2524) #MsgLength=62


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1

Revision: 4c5b6923ccfaaa6616a934a3f690b1a795a42d41
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/02/2021 22:03:52
Message:
[HUDI-1557] Make Flink write pipeline write task scalable (#2506) #MsgLength=756


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadStat.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketInfo.java|38 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|3 37
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandleFactory.java|41 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|57 142
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|42 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|2 8
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|2 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|2 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|2 16
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java|36 14
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java|31 55
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|4 28
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java|1 3
Added: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|149 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java|326 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/transform/RowDataToHoodieFunction.java|108 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|17 2
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|17 11
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|43 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java|51 14
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|105 14
Added: hudi-flink/src/test/java/org/apache/hudi/operator/partitioner/TestBucketAssigner.java|235 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|55 19
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java|13 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|26 2

Revision: c30481f4b0d7552a5ac73bb9955f6326f90ba329
Author: Sun Ke <sunke3296@163.com>
Date: 08/02/2021 13:47:01
Message:
[HUDI-1545] Add test cases for INSERT_OVERWRITE Operation (#2483) #MsgLength=116


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|90 10

Revision: 7a98b1c878e330e53e53ddd1b9161c8669806efa
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 09/02/2021 23:53:45
Message:
[HUDI-1603] fix DefaultHoodieRecordPayload serialization failure (#2556) #MsgLength=74


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|1 1

Revision: a2f85d90de73a58e924b4de757d09d6133b046a4
Author: vinoyang <yanghua1127@gmail.com>
Date: 10/02/2021 02:33:34
Message:
[MINOR] Fix the wrong comment for HoodieJavaWriteClientExample (#2559) #MsgLength=72


----
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|3 3

Revision: 26da4f546275e8ab6496537743efe73510cb723d
Author: teeyog <teeyog@gmail.com>
Date: 11/02/2021 01:07:54
Message:
[HUDI-1526] Translate the api partitionBy in spark datasource to hoodie.datasource.write.partitionpath.field (#2431) #MsgLength=118


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|39 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|15 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|154 3

Revision: ff0e3f5669f1a70cbe9d302e8b1e6a5dbc801b25
Author: lamber-ken <lamberken@163.com>
Date: 11/02/2021 23:37:19
Message:
[HUDI-1612] Fix write test flakiness in StreamWriteITCase (#2567) #MsgLength=126


----
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|9 7
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|54 2

Revision: d5f202821b11659693a2e934d4b8f4c99f19755e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 13/02/2021 01:29:21
Message:
Adding fixes to test suite framework. Adding clustering node and validate async operations node. (#2400) #MsgLength=106


----
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|22 8
Modified: docker/demo/config/test-suite/complex-dag-mor.yaml|28 63
Added: docker/demo/config/test-suite/cow-clustering-example.yaml|76 0
Modified: docker/demo/config/test-suite/cow-long-running-example.yaml|30 9
Added: docker/demo/config/test-suite/cow-long-running-multi-partitions.yaml|89 0
Modified: docker/demo/config/test-suite/test.properties|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 2
Modified: hudi-integ-test/pom.xml|11 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|1 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|32 7
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|20 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/ExecutionContext.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CleanNode.java|1 1
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ClusteringNode.java|48 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/SparkSQLQueryNode.java|2 1
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java|124 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|14 12
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateNode.java|2 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|5 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 2
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0

Revision: 527175ab0be59d15f035a09a0466bfeca9abfb23
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 13/02/2021 15:52:03
Message:
[MINOR] Default to empty list for unset datadog tags property (#2574) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java|39 0

Revision: 302bd29dab2866e07eb71823e4142f2da9addbb4
Author: vinoyang <yanghua1127@gmail.com>
Date: 13/02/2021 23:39:14
Message:
[MINOR] Add clustering to feature list (#2568) #MsgLength=48


----
Modified: README.md|1 0

Revision: 5d2491d10c70e4e5fc9b7aeb62cc64bcaaf6043f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/02/2021 15:24:50
Message:
[HUDI-1598] Write as minor batches during one checkpoint interval for the new writer (#2553) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|21 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|42 2
Renamed: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/ExplicitCreateHandleFactory.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandleFactory.java]|8 5
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|148 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|202 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java|30 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/ExplicitWriteHandleTable.java|128 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|109 5
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|31 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java|7 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|6 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java|3 1
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java|9 1
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java|93 21
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|49 27
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/event/BatchWriteSuccessEvent.java|49 2
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java|92 10
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java|39 5
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|8 1

Revision: 37972071ff4d1912ea58834061abf95fc499739d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 17/02/2021 19:36:29
Message:
[HUDI-1109] Support Spark Structured Streaming read from Hudi table (#2485) #MsgLength=77


----
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkRowSerDe.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkRowDeserializer.java]|3 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|19 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|35 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|6 6
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala|69 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|197 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|154 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2RowSerDe.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2RowDeserializer.scala]|6 3
Renamed: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3RowSerDe.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3RowDeserializer.scala]|7 3
Modified: pom.xml|21 0

Revision: c4bbcb7f0e83732b63ed7bb81c20470ae8d9a0dc
Author: lamber-ken <lamberken@163.com>
Date: 17/02/2021 20:04:38
Message:
[HUDI-1621] Gets the parallelism from context when init StreamWriteOperatorCoordinator (#2579) #MsgLength=96


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java|2 5
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|1 1
Modified: hudi-flink/src/test/resources/log4j-surefire.properties|2 2

Revision: 9431aabfab47a3b679bd6ccfa8b5fa584260fc9e
Author: Karl_Wang <wskqing@gmail.com>
Date: 17/02/2021 23:44:53
Message:
[HUDI-1381] Schedule compaction based on time elapsed (#2260) #MsgLength=247


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|20 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactionTriggerStrategy.java|30 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java|81 22
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|169 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|9 1
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieCompactException.java|30 0

Revision: b0010bf3b449a9d2e01955b0746b795e22e577db
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date: 18/02/2021 09:34:15
Message:
[HUDI-1582] Throw an exception when syncHoodieTable() fails, with RuntimeException (#2536) #MsgLength=92


----
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 1

Revision: 0d91c451b0e823162c261ec09fed9b5f4748d9e6
Author: satishkotha <satishkotha@uber.com>
Date: 20/02/2021 07:45:43
Message:
[HUDI-1539] Fix bug in HoodieCombineRealtimeRecordReader with reading empty iterators (#2583) #MsgLength=95


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java|1 1

Revision: c9fcf964b2bae56a54cb72951c8d8999eb323ed6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/02/2021 09:54:26
Message:
[HUDI-1315] Adding builder for HoodieTableMetaClient initialization (#2534) #MsgLength=77


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|4 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 1
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|4 7
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|4 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|4 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestCompactionAdminClient.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|8 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|18 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|59 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/CompactionTestUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|3 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|3 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java|3 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|1 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|4 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|8 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|6 3
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactionAdminTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|10 10

Revision: ffcfb58bacab377bc72d20041baa54a3fd8fc812
Author: n3nash <nagarwal@uber.com>
Date: 20/02/2021 12:12:22
Message:
[HUDI-1486] Remove inline inflight rollback in hoodie writer (#2359) #MsgLength=220


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|5 1
Modified: hudi-client/hudi-client-common/pom.xml|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|72 53
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java|102 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java|289 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|39 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|15 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|31 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java|1 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/heartbeat/TestHoodieHeartbeatClient.java|93 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|4 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/pom.xml|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|9 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|13 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|222 26
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|17 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|10 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|2 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|189 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|9 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|10 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|5 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|31 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|2 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFailedWritesCleaningPolicy.java|43 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|13 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|17 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|7 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|36 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieHeartbeatException.java|50 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|45 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|31 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|15 7
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|18 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|3 9
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|12 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: pom.xml|10 0

Revision: 43a0776c7c88a5f7beac6c8853db7e341810635a
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date: 21/02/2021 11:54:04
Message:
[HUDI-1586] [Common Core] [Flink Integration] Reduce the coupling of hadoop. (#2540) #MsgLength=141


----
Modified: hudi-common/pom.xml|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|2 5
Modified: hudi-flink/pom.xml|4 39

Revision: 3ceb1b4c83d4e004c9b397bd05600c2aaf86196d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/02/2021 13:37:44
Message:
[HUDI-1624] The state based index should bootstrap from existing base files (#2581) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|27 10
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|143 9
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java|4 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java|71 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockFunctionInitializationContext.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|13 0

Revision: 2efd0760acb5de06adc0f0a4a045df792ff3b6ab
Author: Shen Hong <shenh062326@126.com>
Date: 23/02/2021 20:50:55
Message:
[HUDI-1477] Support copyOnWriteTable in java client (#2382) #MsgLength=61


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|1 0
Modified: hudi-client/hudi-java-client/pom.xml|13 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaBulkInsertInternalPartitionerFactory.java|41 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaGlobalSortPartitioner.java|67 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaNonSortPartitioner.java|46 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|21 7
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|11 2
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertCommitActionExecutor.java|67 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|113 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java|63 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java|79 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java|63 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java|66 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaCopyOnWriteRollbackActionExecutor.java|72 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaListingBasedRollbackHelper.java|237 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java|76 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|479 0
Added: hudi-client/hudi-java-client/src/test/resources/testDataGeneratorSchema.txt|128 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineType.java|1 1

Revision: d2f360f5dd80ff7f85a18225d68d684f071cc734
Author: Prashant Wason <pwason@uber.com>
Date: 24/02/2021 00:05:59
Message:
[MINOR] Ensure directory exists before listing all marker files. (#2594) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java|6 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java|1 0

Revision: 3b8d0f3b1f368af8d3a38027d2ac82662ff9779f
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date: 24/02/2021 02:35:14
Message:
[MINOR] hive sync checks for table after creating db if auto create is true (#2591) #MsgLength=85


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|3 2

Revision: ab9933f20606d0b35d32ae1e971d5fa370012647
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 24/02/2021 08:52:41
Message:
[HUDI-1620] Add azure pipelines configs (#2582) #MsgLength=49


----
Added: azure-pipelines.yml|165 0
Modified: pom.xml|34 0

Revision: 77ba561a6bacbf9e7dc9c1582eb068f7ad800cd9
Author: hj2016 <hj3245459@163.com>
Date: 24/02/2021 09:56:58
Message:
[HUDI-1347] Fix Hbase index to make rollback synchronous (via config) (#2188) #MsgLength=189


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|74 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|71 10

Revision: 97864a48c1979ca2b3f0579cf26bba81fba7e46c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/02/2021 10:21:27
Message:
[HUDI-1637] Avoid to rename for bucket update when there is only one flush action during a checkpoint (#2599) #MsgLength=254


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|8 1

Revision: 06dc7c7fd8a867a1e1da90f7dc19b0cc2da69bba
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/02/2021 14:33:21
Message:
[HUDI-1638] Some improvements to BucketAssignFunction (#2600) #MsgLength=222


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|25 14

Revision: 617cc24ad1a28196b872df5663e9e0f48cd7f0fa
Author: liujinhui <965147871@qq.com>
Date: 25/02/2021 20:08:13
Message:
[HUDI-1367] Make deltaStreamer transition from dfsSouce to kafkasouce (#2227) #MsgLength=136


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|45 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|141 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|13 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|13 4

Revision: 8c2197ae5e9c139e488a33f5a507b79bfa2f6f27
Author: liujinhui <965147871@qq.com>
Date: 25/02/2021 23:09:32
Message:
[HUDI-1269] Make whether the failure of connect hive affects hudi ingest process configurable (#2443) #MsgLength=158


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|4 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|45 29
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|22 0

Revision: 9f5e8cc7c3789fd3658f52f960fb5cbc8e4efce9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/02/2021 08:50:18
Message:
Fixing README for hudi test suite long running job (#2578) #MsgLength=60


----
Modified: hudi-integ-test/README.md|58 34

Revision: 022df0d1b134422f7b6f305cd7ec04b25caa23f0
Author: Prashant Wason <pwason@uber.com>
Date: 26/02/2021 08:52:28
Message:
[HUDI-1611] Added a configuration to allow specific directories to be filtered out during Metadata Table bootstrap. (#2565) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|6 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|17 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|15 0

Revision: be257b58c689510a21529019a766b7a2bfc7ebe6
Author: Liulietong <liulietong@sina.com>
Date: 27/02/2021 06:43:47
Message:
[Hudi-1583]: Fix bug that Hudi will skip remaining log files if there is logFile with zero size in logFileList when merge on read. (#2584) #MsgLength=193


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|1 1

Revision: 7a11de12764d8f68f296c6e68a22822318bfbefa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 01/03/2021 12:29:41
Message:
[HUDI-1632] Supports merge on read write mode for Flink writer (#2593) #MsgLength=129


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|32 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|12 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|101 20
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|0 10
Renamed: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/ExplicitWriteHandleFactory.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/ExplicitCreateHandleFactory.java]|3 3
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|125 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|7 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|4 24
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|63 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|63 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|10 19
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|7 4
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java|65 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java|52 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java|75 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java|152 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|235 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|38 2
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|19 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactFunction.java|94 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitEvent.java|62 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitSink.java|150 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanEvent.java|47 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanOperator.java|146 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|6 3
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java|2 2
Added: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigners.java|54 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/delta/DeltaBucketAssigner.java|114 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|83 0
Renamed: hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteCopyOnWrite.java [from hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteFunctionTest.java]|55 30
Added: hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnRead.java|96 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnReadWithCompact.java|58 0
Added: hudi-flink/src/test/java/org/apache/hudi/operator/utils/CompactFunctionWrapper.java|142 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|16 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|96 0

Revision: 657e73f9b157a1ed4d6e6e515ae8f63156061b88
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 02/03/2021 01:34:10
Message:
[HUDI-1540] Fixing commons codec dependency in bundle jars (#2562) #MsgLength=137


----
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0

Revision: 7a6b071647fae632af2126b517ac869e81f539cb
Author: satishkotha <satishkotha@uber.com>
Date: 02/03/2021 01:40:00
Message:
[HUDI-1644] Do not delete older rollback instants as part of rollback. Archival can take care of removing old instants cleanly (#2610) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|0 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|0 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|0 24
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|2 52

Revision: 73fa308ff0c2e3bd0a1e53052187eabe9889d596
Author: Prashant Wason <pwason@uber.com>
Date: 02/03/2021 12:31:55
Message:
[HUDI-1634] Re-bootstrap metadata table when un-synced instants have been archived. (#2595) #MsgLength=93


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|23 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|32 4

Revision: 0dde7f9185a350599adaab5af5738b73a15243d7
Author: ZhangChaoMing <72908278+ZhangChaoming@users.noreply.github.com>
Date: 02/03/2021 17:52:21
Message:
[HUDI-1584] Modify maker file path, which should start with the target base path. (#2539) #MsgLength=91


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java|11 2

Revision: 4fa43359cb1f95a0f663bb32b6f479fd85bdb255
Author: t0il3ts0ap <anoop_narang2003@yahoo.com>
Date: 03/03/2021 09:49:18
Message:
[MINOR] Fix default value for hoodie.deltastreamer.source.kafka.auto.reset.offsets (#2617) #MsgLength=92


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1

Revision: f11a6c7b2d4ef045419a4522e8e203f51292b816
Author: Prashant Wason <pwason@uber.com>
Date: 03/03/2021 13:58:41
Message:
[HUDI-1553] Configuration and metrics for the TimelineService. (#2495) #MsgLength=72


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|9 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|20 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|81 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|34 6

Revision: 899ae70fdb70c1511c099a64230fd91b2fe8d4ee
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/03/2021 12:13:12
Message:
[HUDI-1587] Add latency and freshness support (#2541) #MsgLength=149


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java|20 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|9 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|20 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestWriteStatus.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|18 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|17 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java|13 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|36 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java|40 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java|38 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestDateTimeUtils.java|55 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|6 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|3 6

Revision: 89003bc7801b035b5be31c76bfbf691bfcf9081a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/03/2021 08:49:32
Message:
[HUDI-1647] Supports snapshot read for Flink (#2613) #MsgLength=54


----
Modified: hudi-flink/pom.xml|40 1
Added: hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java|84 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|62 5
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java|7 1
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java|21 13
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java|9 1
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java|0 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java|126 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java|411 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java|320 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/FormatUtils.java|98 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/AbstractColumnReader.java|324 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/CopyOnWriteInputFormat.java|134 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/Int64TimestampColumnReader.java|99 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetColumnarRowSplitReader.java|370 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetDecimalVector.java|69 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetSplitReaderUtil.java|398 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/RunLengthDecoder.java|304 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java|513 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputSplit.java|88 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadTableState.java|79 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|179 1
Added: hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java|316 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|30 0
Added: hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.TableFactory|17 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java|13 30
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java|49 3
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|45 21
Added: hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java|162 0
Added: hudi-flink/src/test/java/org/apache/hudi/source/HoodieTableSourceTest.java|122 0
Added: hudi-flink/src/test/java/org/apache/hudi/source/format/InputFormatTest.java|197 0
Added: hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java|62 0
Added: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|173 0
Added: hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory|18 0
Modified: style/checkstyle-suppressions.xml|1 0

Revision: 7cc75e0be25b7c3345efd890b1a353d49db5bace
Author: satishkotha <satishkotha@uber.com>
Date: 05/03/2021 09:43:31
Message:
[HUDI-1646] Provide mechanism to read uncommitted data through InputFormat (#2611) #MsgLength=84


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|12 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|22 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|2 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|41 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|20 0

Revision: f53bca404f1482e0e99ad683dd29bfaff8bfb8ab
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 05/03/2021 13:01:51
Message:
[HUDI-1655] Support custom date format and fix unsupported exception in DatePartitionPathSelector (#2621) #MsgLength=405


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java|20 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java|21 17

Revision: bc883db5de5832fa429bbb04a35d3606fdacdb2a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 05/03/2021 14:10:27
Message:
[HUDI-1636] Support Builder Pattern To Build Table Properties For HoodieTableConfig (#2596) #MsgLength=93


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|7 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|8 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|14 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|10 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|9 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|170 106
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|5 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|6 3
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|5 2
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|5 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 9
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|5 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|18 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|10 4
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|16 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|9 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|15 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|6 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|5 2

Revision: f2159c4573810f922fadff640a953175a852dc43
Author: n3nash <nagarwal@uber.com>
Date: 06/03/2021 03:18:09
Message:
[HUDI-1660] Excluding compaction and clustering instants from inflight rollback (#2631) #MsgLength=89


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|13 14

Revision: 11ad4ed26b6046201945f0e14449e1cbc5b6f1f2
Author: satishkotha <satishkotha@uber.com>
Date: 06/03/2021 05:42:19
Message:
[HUDI-1661] Exclude clustering commits from getExtraMetadataFromLatest API (#2632) #MsgLength=84


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|37 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|38 7

Revision: 9437e0ddef9821f728a4edf24ab90506532b6d0d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/03/2021 04:37:15
Message:
[MINOR] Fix import in StreamerUtil.java (#2638) #MsgLength=49


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: 5cf2f2618b6a59a831543b588fb3bb85bdf5f1e8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/03/2021 05:40:40
Message:
[HUDI-1618] Fixing NPE with Parquet src in multi table delta streamer (#2577) #MsgLength=79


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|4 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|32 12
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|91 4

Revision: 02073235c3bbe72db32ed282b3e318e7daa0800a
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 08/03/2021 12:16:13
Message:
[HUDI-1662] Fix hive date type conversion for mor table (#2634) #MsgLength=65


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|4 0

Revision: 8b9dea4ad9012d84203a888b601cca03bf857aeb
Author: Shen Hong <shenh062326@126.com>
Date: 08/03/2021 14:30:34
Message:
[HUDI-1673] Replace scala.Tule2 to Pair in FlinkHoodieBloomIndex (#2642) #MsgLength=74


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java|17 19
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java|10 12
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|19 21

Revision: d3a451611cc01a65cc0f305c72c04d64af0e7d38
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/03/2021 17:36:03
Message:
[MINOR] HoodieClientTestHarness close resources in AfterAll phase (#2646) #MsgLength=299


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|6 1

Revision: d8af24d8a2fdbead4592a36df1bd9dda333f1513
Author: Balajee Nagasubramaniam <47542891+nbalajee@users.noreply.github.com>
Date: 10/03/2021 05:29:38
Message:
[HUDI-1635] Improvements to Hudi Test Suite (#2628) #MsgLength=53


----
Modified: hudi-integ-test/README.md|17 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|56 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|21 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|138 6
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/RollbackNode.java|15 11
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|2 1
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/SaferSchemaDagScheduler.java|53 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|5 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|12 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/HiveSyncDagGeneratorMOR.java|3 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|34 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|3 5

Revision: c4a66324cdd3e289e0bf18bdd150b95ee6e4c66c
Author: satishkotha <satishkotha@uber.com>
Date: 10/03/2021 07:56:44
Message:
[HUDI-1651] Fix archival of requested replacecommit (#2622) #MsgLength=61


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|8 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|7 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|31 6
Modified: hudi-common/pom.xml|1 1
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|8 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|5 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|3 2

Revision: 2fdae6835ce3fcad3111205d2373a69b34788483
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/03/2021 22:44:06
Message:
[HUDI-1663] Streaming read for Flink MOR table (#2640) #MsgLength=246


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|31 5
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadMonitoringFunction.java|372 0
Added: hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadOperator.java|237 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java|57 57
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java|108 0
Added: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/InstantRange.java|101 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputSplit.java|8 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|8 9
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java|28 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|103 2
Modified: hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java|83 35
Renamed: hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java [from hudi-flink/src/test/java/org/apache/hudi/source/HoodieTableSourceTest.java]|2 2
Added: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|269 0
Added: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|290 0
Renamed: hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java [from hudi-flink/src/test/java/org/apache/hudi/source/format/InputFormatTest.java]|10 13
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|64 0
Added: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|174 0
Added: hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory|17 0
Added: hudi-flink/src/test/resources/test_source2.data|8 0

Revision: 12ff562d2bd77b6dc8676eac79cbd631185dac3c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/03/2021 19:44:06
Message:
[HUDI-1678] Row level delete for Flink sink (#2659) #MsgLength=53


----
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/transform/RowDataToHoodieFunction.java|6 1
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteCopyOnWrite.java|63 11
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java|73 44
Modified: hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|8 8
Modified: hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java|7 7

Revision: e8e6708aea1ace4aecaba594d7fd84a0b5cac635
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/03/2021 19:45:48
Message:
[HUDI-1664] Avro schema inference for Flink SQL table (#2658) #MsgLength=398


----
Modified: hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java|29 4
Modified: hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java|11 5
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|11 1
Added: hudi-flink/src/test/java/org/apache/hudi/factory/TestHoodieTableFactory.java|177 0
Modified: hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java|0 13

Revision: 20786ab8a2a1e7735ab846e92802fb9f4449adc9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 12/03/2021 16:39:24
Message:
[HUDI-1681] Support object storage for Flink writer (#2662) #MsgLength=335


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|5 0
Modified: hudi-client/hudi-flink-client/pom.xml|6 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|1 10
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|1 2
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java|81 0
Modified: hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java|13 12
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java|52 74
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/cow/CopyOnWriteInputFormat.java|252 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|11 53
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java|1 1

Revision: f5e31be0866848940510b91dd4e9cdc7500a9086
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date: 13/03/2021 07:53:01
Message:
[HUDI-1685] keep updating current date for every batch (#2671) #MsgLength=64


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java|6 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDatePartitionPathSelector.java|1 1

Revision: e93c6a569310ce55c5a0fc0655328e7fd32a9da2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/03/2021 16:57:57
Message:
[HUDI-1496] Fixing input stream detection of GCS FileSystem (#2500) #MsgLength=294


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|4 7
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/SchemeAwareFSDataInputStream.java|52 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|53 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|3 23

Revision: fc6c5f4285098d18cd7f6e81785f59e68a3b6862
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/03/2021 16:02:05
Message:
[HUDI-1684] Tweak hudi-flink-bundle module pom and reorganize the pacakges for hudi-flink module (#2669) #MsgLength=215


----
Renamed: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java [from hudi-flink/src/main/java/org/apache/hudi/operator/FlinkOptions.java]|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java|0 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/InstantGenerateOperator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/InstantGenerateOperator.java]|4 4
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessFunction.java]|3 3
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessOperator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/KeyedWriteProcessOperator.java]|1 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteFunction.java]|3 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperator.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorCoordinator.java]|3 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamWriteOperatorFactory.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactFunction.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java [from hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitEvent.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java [from hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionCommitSink.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java [from hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanEvent.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/compact/CompactionPlanOperator.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java [from hudi-flink/src/main/java/org/apache/hudi/operator/event/BatchWriteSuccessEvent.java]|3 3
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssignFunction.java]|2 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java [from hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigner.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java [from hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/BucketAssigners.java]|2 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/delta/DeltaBucketAssigner.java [from hudi-flink/src/main/java/org/apache/hudi/operator/partitioner/delta/DeltaBucketAssigner.java]|2 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/transform/JsonStringToHoodieRecordMapFunction.java [from hudi-flink/src/main/java/org/apache/hudi/source/JsonStringToHoodieRecordMapFunction.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/transform/RowDataToHoodieFunction.java]|2 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadMonitoringFunction.java]|6 5
Renamed: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java [from hudi-flink/src/main/java/org/apache/hudi/operator/StreamReadOperator.java]|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|6 6
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|4 4
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java [from hudi-flink/src/main/java/org/apache/hudi/factory/HoodieTableFactory.java]|2 4
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java [from hudi-flink/src/main/java/org/apache/hudi/sink/HoodieTableSink.java]|10 10
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java [from hudi-flink/src/main/java/org/apache/hudi/source/HoodieTableSource.java]|10 10
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/FilePathUtils.java]|2 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/FormatUtils.java]|3 3
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/AbstractColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/AbstractColumnReader.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/CopyOnWriteInputFormat.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/Int64TimestampColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/Int64TimestampColumnReader.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetColumnarRowSplitReader.java]|3 3
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetDecimalVector.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/ParquetSplitReaderUtil.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/RunLengthDecoder.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/cow/RunLengthDecoder.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/InstantRange.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/mor/InstantRange.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputFormat.java]|7 7
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadInputSplit.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java [from hudi-flink/src/main/java/org/apache/hudi/source/format/mor/MergeOnReadTableState.java]|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|4 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1
Modified: hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.TableFactory|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java [from hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteITCase.java]|11 11
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java [from hudi-flink/src/test/java/org/apache/hudi/operator/StreamWriteOperatorCoordinatorTest.java]|4 4
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java [from hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteCopyOnWrite.java]|6 5
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java [from hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnRead.java]|2 2
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java [from hudi-flink/src/test/java/org/apache/hudi/operator/TestWriteMergeOnReadWithCompact.java]|2 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java [from hudi-flink/src/test/java/org/apache/hudi/operator/partitioner/TestBucketAssigner.java]|2 2
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestJsonStringToHoodieRecordMapFunction.java [from hudi-flink/src/test/java/org/apache/hudi/source/TestJsonStringToHoodieRecordMapFunction.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/CompactFunctionWrapper.java]|7 7
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockFunctionInitializationContext.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockFunctionInitializationContext.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockMapState.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockMapState.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockOperatorStateStore.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/MockStreamingRuntimeContext.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/StreamWriteFunctionWrapper.java]|8 7
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|4 5
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|7 9
Renamed: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java [from hudi-flink/src/test/java/org/apache/hudi/source/HoodieDataSourceITCase.java]|5 5
Renamed: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java [from hudi-flink/src/test/java/org/apache/hudi/factory/TestHoodieTableFactory.java]|3 5
Renamed: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java [from hudi-flink/src/test/java/org/apache/hudi/source/TestHoodieTableSource.java]|5 5
Renamed: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java [from hudi-flink/src/test/java/org/apache/hudi/source/format/TestInputFormat.java]|5 5
Renamed: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestConfigurations.java]|2 2
Renamed: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java [from hudi-flink/src/test/java/org/apache/hudi/operator/utils/TestData.java]|3 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|1 1
Modified: hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|160 3

Revision: 76bf2cc790edc0be10dfa2454c42687c38e7e5fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/03/2021 19:42:36
Message:
[HUDI-1692] Bounded source for stream writer (#2674) #MsgLength=116


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|12 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|8 18
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java|2 11
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java|70 9
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 4
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|23 7
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|16 5

Revision: 3b36cb805d066a3112e3a355ef502dbe4b2c1824
Author: Prashant Wason <pwason@uber.com>
Date: 16/03/2021 04:42:57
Message:
[HUDI-1552] Improve performance of key lookups from base file in Metadata Table. (#2494) #MsgLength=813


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|0 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|25 10
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|88 54
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|6 1

Revision: 16864aee14d465a098ca58599bce6c08eadd1b0b
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 16/03/2021 11:30:26
Message:
[HUDI-1695] Fixed the error messaging (#2679) #MsgLength=47


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1

Revision: b038623ed3318404f9bc4707f005a9fc458c0adf
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 17/03/2021 00:44:11
Message:
[HUDI 1615] Fixing null schema in bulk_insert row writer path  (#2653) #MsgLength=256


----
Modified: hudi-common/src/main/avro/HoodieCommitMetadata.avsc|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|16 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|39 3
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|2 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|2 1

Revision: 74241947c123c860a1b0344f25cef316440a70d6
Author: n3nash <nagarwal@uber.com>
Date: 17/03/2021 07:43:53
Message:
[HUDI-845] Added locking capability to allow multiple writers (#2374) #MsgLength=403


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitUtilities.java|2 2
Modified: hudi-client/hudi-client-common/pom.xml|24 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|171 50
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConcurrentOperation.java|153 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConflictResolutionStrategy.java|64 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/SimpleConcurrentFileWritesConflictResolutionStrategy.java|105 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java|94 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|135 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java|168 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|132 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|128 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|0 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|191 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|88 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|2 80
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java|9 84
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanPlanActionExecutor.java|132 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|26 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java|18 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java|7 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java|107 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java|420 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestZookeeperBasedLockProvider.java|116 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|213 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|13 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkScheduleCleanActionExecutor.java|52 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|5 5
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|7 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaScheduleCleanActionExecutor.java|52 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|0 1
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|4 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|65 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|8 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|15 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanPlanActionExecutor.java|55 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|15 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|299 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|0 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|2 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|7 8
Added: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|69 0
Added: hudi-common/src/main/java/org/apache/hudi/common/lock/LockProvider.java|56 0
Added: hudi-common/src/main/java/org/apache/hudi/common/lock/LockState.java|27 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieMetadataWrapper.java|49 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/TableServiceType.java|41 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/WriteConcurrencyMode.java|66 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|35 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|25 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieLockException.java|43 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieWriteConflictException.java|43 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|18 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|28 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/ZookeeperTestService.java|6 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCommitUtils.java|1 1
Modified: hudi-integ-test/pom.xml|43 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|33 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|21 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|4 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/ZookeeperServiceProvider.java|50 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java|0 1
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|65 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|65 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|73 30
Added: hudi-integ-test/src/test/resources/unit-test-cow-dag-spark-datasource.yaml|43 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|24 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreLockProvider.java|226 0
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveMetastoreLockProvider.java|158 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|5 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|14 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|286 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|7 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|3 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|22 0
Modified: packaging/hudi-spark-bundle/pom.xml|23 1
Modified: packaging/hudi-utilities-bundle/pom.xml|22 0
Modified: pom.xml|20 0

Revision: 968488fa3a3c67962ed5b60e00836e71c730a9a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/03/2021 23:05:18
Message:
[HUDI-1701] Implement HoodieTableSource.explainSource for all kinds of pushing down (#2690) #MsgLength=273


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|13 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|9 2

Revision: f1e0018f12b66770ba3785be7aa8f5f6a80bab6f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/03/2021 20:21:52
Message:
[HUDI-1704] Use PRIMARY KEY syntax to define record keys for Flink Hudi table (#2694) #MsgLength=497


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|60 11
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|98 8
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|2 1

Revision: d429169ff7ef66dfcd6825b74fcbceddb46369a5
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 19/03/2021 01:19:18
Message:
[HUDI-1688]hudi write should uncache rdd when the write operation is finnished (#2673) #MsgLength=89


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|17 0

Revision: e602e5dfb9f3db6ee31267f305f4449dc4b32b40
Author: wangxianghu <wangxianghu@apache.org>
Date: 19/03/2021 05:56:02
Message:
[MINOR] Remove unused var in AbstractHoodieWriteClient (#2693) #MsgLength=64


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 1

Revision: 1277c62398c58690cd5a6aa78048335d5313ca05
Author: Jintao Guan <jintaoguan0817@gmail.com>
Date: 19/03/2021 06:33:31
Message:
[HUDI-1653] Add support for composite keys in NonpartitionedKeyGenerator (#2627) #MsgLength=267


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|18 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|16 4
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|136 0

Revision: f74828fca10ca5539c1aaad2c5e99bb1ddb373c5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/03/2021 16:30:54
Message:
[HUDI-1705] Flush as per data bucket for mini-batch write (#2695) #MsgLength=186


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|80 32
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|1 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|6 12

Revision: 55a489c769c7681d2732aa99f963d02d26ed991b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/03/2021 02:21:36
Message:
[1568] Fixing spark3 bundles (#2625) #MsgLength=68


----
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: pom.xml|4 0
Modified: scripts/release/deploy_staging_jars.sh|4 2

Revision: 161d530f932f4f1bc676e3c1b784858b18e4939f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/03/2021 03:54:29
Message:
Fixing kafka auto.reset.offsets config param key (#2691) #MsgLength=58


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|16 22
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1

Revision: 900de34e45b4c1d19c01ea84adc38413f2bd52ff
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 20/03/2021 15:51:08
Message:
[HUDI-1650] Custom avro kafka deserializer. (#2619) #MsgLength=217


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java|91 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|26 4
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java|141 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/SchemaTestProvider.java|45 0

Revision: ce3e8ec87083ef4cd4f33de39b6697f66ff3f277
Author: Liulietong <liulietong@bytedance.com>
Date: 20/03/2021 22:54:20
Message:
[HUDI-1667]: Fix a null value related bug for spark vectorized reader. (#2636) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|1 1

Revision: d7b18783bdd6edd6355ee68714982401d3321f86
Author: n3nash <nagarwal@uber.com>
Date: 22/03/2021 16:22:06
Message:
[HUDI-1709] Improving config names and adding hive metastore uri config (#2699) #MsgLength=81


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|15 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|7 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|1 1
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreLockProvider.java]|11 5
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveMetastoreBasedLockProvider.java [from hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveMetastoreLockProvider.java]|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1

Revision: 0e6909d3e241c794ed1b9318fcb9142a36cb0133
Author: legendtkl <taokelu@gmail.com>
Date: 23/03/2021 20:21:56
Message:
[MINOR][DOCUMENT] Update README doc for integ test (#2703) #MsgLength=60


----
Modified: hudi-integ-test/README.md|3 3

Revision: 03668dbaf1a60428d7e0d68c6622605e0809150a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/03/2021 09:41:30
Message:
[HUDI-1710] Read optimized query type for Flink batch reader (#2702) #MsgLength=229


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|62 47
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|24 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|0 2

Revision: 01a1d7997bc8f3f82452ebf8e2e655143d00926c
Author: n3nash <nagarwal@uber.com>
Date: 24/03/2021 17:24:02
Message:
[HUDI-1712] Rename & standardize config to match other configs (#2708) #MsgLength=72


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|9 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|17 17

Revision: 29b79c99b02d66ef9b087b56223e74c0d1f99e94
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/03/2021 18:25:37
Message:
[hotfix] Log the error message for creating table source first (#2711) #MsgLength=72


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|19 8

Revision: 6e803e08b1328b32a5c3a6acd8168fdabc8a1e50
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date: 24/03/2021 21:37:14
Message:
Moving to 0.9.0-SNAPSHOT on master branch. #MsgLength=43


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 8b774fe3313757a8b94ca408079327c62b4a664c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/03/2021 14:25:57
Message:
[HUDI-1495] Bump Flink version to 1.12.2 (#2718) #MsgLength=50


----
Modified: hudi-flink/pom.xml|14 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|33 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|7 2
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|36 42
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|62 55
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|76 75
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 2
Renamed: hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory [from hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.TableFactory]|0 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java|0 7
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|24 62
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|1 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|2 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|1 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|5 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java|20 16
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|40 22
Modified: hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory|1 0
Deleted: hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.TableFactory|0 18
Modified: packaging/hudi-flink-bundle/pom.xml|65 68
Modified: pom.xml|1 1
Modified: style/checkstyle-suppressions.xml|1 0

Revision: bec70413c0943f38ee5cdf62fa3a79af44d8cded
Author: n3nash <nagarwal@uber.com>
Date: 28/03/2021 01:07:10
Message:
[HUDI-1728] Fix MethodNotFound for HiveMetastore Locks (#2731) #MsgLength=64


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java|14 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2

Revision: ecbd389a3f9215e219cb19b8641f2faea4fa3ad7
Author: Shen Hong <shenh062326@126.com>
Date: 28/03/2021 20:28:40
Message:
[HUDI-1478] Introduce HoodieBloomIndex to hudi-java-client (#2608) #MsgLength=68


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndex.java|261 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/HoodieFlinkBloomIndexCheckFunction.java]|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java|1 234
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieBloomIndex.java|32 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|3 1

Revision: d415d45416707ca4d5b1dbad65dc80e6fccfa378
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/03/2021 10:47:29
Message:
[HUDI-1729] Asynchronous Hive sync and commits cleaning for Flink writer (#2732) #MsgLength=82


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|79 12
Modified: hudi-flink/pom.xml|10 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|116 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|89 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|46 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|6 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|16 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|89 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|78 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|7 5
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 6
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|22 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|10 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|31 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|3 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|34 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|10 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java|9 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|3 1
Renamed: hudi-flink/src/test/resources/test_source_2.data [from hudi-flink/src/test/resources/test_source2.data]|0 0
Added: hudi-flink/src/test/resources/test_source_3.data|8 0
Modified: packaging/hudi-flink-bundle/pom.xml|34 0

Revision: 452f5e2d661ee667cdd1348c0f580fcc650318b7
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 27/03/2021 11:58:29
Message:
[HOTFIX] close spark session in functional test suite and disable spark3 test for spark2 (#2727) #MsgLength=98


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|16 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|7 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|9 0
Modified: pom.xml|2 0

Revision: 4db970dc8afd79964bbfa85097954750cb4f1ab2
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 28/03/2021 16:07:57
Message:
[HOTFIX] Disable ITs for Spark3 and scala2.12 (#2733) #MsgLength=55


----
Modified: pom.xml|2 0

Revision: e069b64e10124de76e0d54d0f24d4ec95890e82d
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date: 28/03/2021 22:10:00
Message:
[HOTFIX] fix deploy staging jars script #MsgLength=40


----
Modified: scripts/release/deploy_staging_jars.sh|1 1

Revision: 050626ad6cb8bbd06d138456ccc00dddcff2a860
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 29/03/2021 22:17:23
Message:
[MINOR] Add Missing Apache License to test files (#2736) #MsgLength=58


----
Modified: docker/demo/config/test-suite/test.properties|16 0
Modified: scripts/release/validate_staged_release.sh|2 2

Revision: 3cab928b508be6729c9c8abe30b4beb5ddd12b04
Author: vinoyang <yanghua1127@gmail.com>
Date: 30/03/2021 21:35:16
Message:
[HUDI-1735] Add hive-exec  dependency for hudi-examples (#2737) #MsgLength=65


----
Modified: hudi-examples/pom.xml|17 0

Revision: 8bc65b93189e249be43fe6cba2387ca83babc2c8
Author: leo-Iamok <40416931+leo-Iamok@users.noreply.github.com>
Date: 31/03/2021 11:06:04
Message:
[HUDI-1731] Rename UpsertPartitioner in hudi-java-client (#2734) #MsgLength=114


----
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|3 3
Renamed: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java [from hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java]|4 4

Revision: aa0da72c59cb3764205f90b025b24d1640727795
Author: Sebastian Bernauer <bernauerse@web.de>
Date: 31/03/2021 12:50:17
Message:
Preparation for Avro update (#2650) #MsgLength=37


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java|2 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|2 2
Modified: hudi-common/src/main/avro/HoodieClusteringPlan.avsc|1 1
Modified: hudi-common/src/main/avro/HoodieFSPermission.avsc|4 4
Modified: hudi-common/src/main/avro/HoodieRequestedReplaceMetadata.avsc|2 2
Modified: hudi-common/src/main/avro/HoodieRestoreMetadata.avsc|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|1 2

Revision: fe16d0de7c76105775c887b700751241bc82624c
Author: vinoyang <yanghua1127@gmail.com>
Date: 31/03/2021 16:36:42
Message:
[MINOR] Delete useless UpsertPartitioner for flink integration (#2746) #MsgLength=72


----
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|0 319

Revision: 9804662bc8e17d6936c20326f17ec7c0360dcaf6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 01/04/2021 15:25:31
Message:
[HUDI-1738] Emit deletes for flink MOR table streaming read (#2742) #MsgLength=383


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|27 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|21 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 13
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|13 60
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|1 13
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|1 13
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|30 15
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|16 11
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|113 6
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java|32 1
Added: hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java|107 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|4 2
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|10 8
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|35 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|25 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|6 2
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java|107 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|3 8

Revision: 684622c7c9fa6df9eb177b51cb1e7bd6dd16f78d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 02/04/2021 02:12:28
Message:
[HUDI-1591] Implement Spark's FileIndex for Hudi to support queries via Hudi DataSource using non-globbed table path and partition pruning (#2651) #MsgLength=148


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|1 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|1 1
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/datasources/SparkParsePartitionUtil.scala|34 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|13 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|64 39
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|12 6
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|362 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|11 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|30 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|49 21
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|252 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|51 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|34 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|52 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/Spark2ParsePartitionUtil.scala|33 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala|39 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|6 0

Revision: 94a5e72f16620da86bd2ca7ef27bb9abc266cc47
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 02/04/2021 11:39:05
Message:
[HUDI-1737][hudi-client] Code Cleanup: Extract common method in HoodieCreateHandle & FlinkCreateHandle (#2745) #MsgLength=112


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|37 19
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|11 25

Revision: e970e1f48302aec3af7eeca009a2c793757cd501
Author: Harshit Mittal <hmit@users.noreply.github.com>
Date: 02/04/2021 14:07:30
Message:
[HUDI-1696] add apache commons-codec dependency to flink-bundle explicitly (#2758) #MsgLength=84


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 0

Revision: 920537cac83d59ac05676fb952d5479c41adf757
Author: li36909 <li36909@gmail.com>
Date: 06/04/2021 14:23:15
Message:
[HUDI-1749] Clean/Compaction/Rollback command maybe never exit when operation fail (#2752) #MsgLength=92


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|122 115
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|7 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|8 2

Revision: 9c369c607df2816ea2cd1221fb6d879e3fb8f74c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/04/2021 19:06:41
Message:
[HUDI-1757] Assigns the buckets by record key for Flink writer (#2757) #MsgLength=431


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|0 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|6 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|6 42
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|110 144
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|31 11
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|21 31
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|13 77
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|24 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java|6 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/delta/DeltaBucketAssigner.java|13 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|65 10
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java|57 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|14 8
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 13
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|52 16
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|8 15
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|113 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java|5 0
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java|51 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|10 5

Revision: e692c704da732c0f2a4d2892729687766a462e53
Author: Harshit Mittal <hmit@users.noreply.github.com>
Date: 07/04/2021 08:57:10
Message:
[MINOR] Fix deprecated build link for travis (#2778) #MsgLength=54


----
Modified: README.md|1 1

Revision: 8527590772d05b58dcf7db460f743c6a43b78c1b
Author: li36909 <li36909@gmail.com>
Date: 07/04/2021 10:33:32
Message:
[HUDI-1750] Fail to load user's class if user move hudi-spark-bundle jar into spark classpath (#2753) #MsgLength=103


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|2 1

Revision: d035fcbb3cf7aa33bafdd902a5e6a76f549e7ee1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 07/04/2021 14:13:31
Message:
[HUDI-1767] Add setter to HoodieKey and HoodieRecordLocation to have better SE/DE performance for Flink (#2779) #MsgLength=113


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieKey.java|12 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java|13 2

Revision: dadd081d454a25cb57668ca89a8338a9cb9493ad
Author: li36909 <li36909@gmail.com>
Date: 07/04/2021 15:47:03
Message:
[HUDI-1751] DeltaStreamer print many unnecessary warn log (#2754) #MsgLength=67


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|6 2

Revision: f4f9dd9d83a6a852c0e733802c6c49747cde5531
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 07/04/2021 18:10:38
Message:
[HUDI-1772] HoodieFileGroupId compareTo logical error(fileId self compare) (#2780) #MsgLength=84


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroupId.java|1 1

Revision: 3a926aacf6552fc06005db4a7880a233db904330
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 07/04/2021 18:16:03
Message:
[HUDI-1773] HoodieFileGroup code optimize (#2781) #MsgLength=51


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|3 4

Revision: 18459d4045ec4a85081c227893b226a4d759f84b
Author: Simon <3656562@qq.com>
Date: 08/04/2021 13:35:03
Message:
[MINOR] Some unit test code optimize (#2782) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestConcatenatingIterator.java|5 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java|5 4

Revision: ecdbd2517fd8157d9e96f3d9abf195a589e191ae
Author: hongdd <jn_hdd@163.com>
Date: 08/04/2021 15:35:33
Message:
[HUDI-699] Fix CompactionCommand and add unit test for CompactionCommand (#2325) #MsgLength=82


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|21 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|66 46
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|20 30
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|1 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|219 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java|330 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|48 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|12 0

Revision: 5b3608f14951e3aaf4ef7b5238bf32f524c24bb0
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 08/04/2021 19:40:37
Message:
[HUDI-1778] Add setter to CompactionPlanEvent and CompactionCommitEvent to have better SE/DE performance for Flink (#2789) #MsgLength=124


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java|18 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java|13 2

Revision: cf3d2e21ebf66f3709b3fbb036d0e30526e6f938
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 08/04/2021 23:06:13
Message:
[MINOR] Update doap with 0.8.0 release (#2772) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: 08e82c469c456fbafc66c8e232dcd070f05fadee
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 09/04/2021 13:00:11
Message:
[HUDI-1762] Added HiveStylePartitionExtractor to support Hive style partitions (#2769) #MsgLength=88


----
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java|42 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestPartitionValueExtractor.java|12 1

Revision: 6786581c4842e47e1a8a8e942f54003dc151c7c6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/04/2021 13:46:19
Message:
[HUDI-1775] Add option for compaction parallelism (#2785) #MsgLength=59


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|23 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|24 8
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|4 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|2 1

Revision: 8d4a7fe33e041719e2509f1f8ad3667e2ae7bbb4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 10/04/2021 13:02:11
Message:
[HUDI-1783] Support Huawei Cloud Object Storage (#2796) #MsgLength=57


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1

Revision: b554835053b0b2653ac34a8fdb923fd197ede724
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 11/04/2021 10:31:07
Message:
[MINOR] fix typo. (#2804) #MsgLength=27


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|1 1

Revision: f3777f44fe3229e9582a03d5734a4580eaa8503a
Author: wangxianghu <wangxianghu@apache.org>
Date: 11/04/2021 21:42:34
Message:
[MINOR] Remove unused imports and some other checkstyle issues (#2800) #MsgLength=72


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/converter/DeleteConverter.java|0 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|0 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/SaferSchemaDagScheduler.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeleteGeneratorIterator.java|0 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|0 19
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/FlexibleSchemaRecordGenerationIterator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/writer/DFSDeltaWriterAdapter.java|0 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java|0 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestUpdateConverter.java|0 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java|2 1

Revision: 1da16dfd2e4c0277ecfab8a5f0928757c3005bb1
Author: hj2016 <hj3245459@163.com>
Date: 12/04/2021 13:46:06
Message:
[HUDI-1784]  Added print detailed stack log when hbase connection error (#2799) #MsgLength=81


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieDependentSystemUnavailableException.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|1 1

Revision: 040756d8c0db4633ac3cccaa11e4172e8e077e1e
Author: wangxianghu <wangxianghu@apache.org>
Date: 12/04/2021 16:22:33
Message:
[HUDI-1785] Move OperationConverter to hudi-client-common for code reuse (#2798) #MsgLength=82


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/OperationConverter.java [from hudi-flink/src/main/java/org/apache/hudi/streamer/OperationConverter.java]|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|2 1

Revision: 1ff99ca7d7bbdcb24ebae96c434a35000eded1fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 12/04/2021 17:03:58
Message:
[HUDI-1786] Add option for merge max memory (#2805) #MsgLength=53


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1

Revision: e16d31dce2386868634963ec7cf79c5dfae03cc7
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 13/04/2021 10:31:16
Message:
[HUDI-1787] Remove the rocksdb jar from hudi-flink-bundle (#2807) #MsgLength=132


----
Modified: packaging/hudi-flink-bundle/pom.xml|13 1

Revision: 65844a8d29b715227f3b2ecdf9b102a08950ee67
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 13/04/2021 18:23:26
Message:
[HUDI-1720] Fix RealtimeCompactedRecordReader StackOverflowError (#2721) #MsgLength=74


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|24 7

Revision: ab4a7b0b4afc66d2123c7f63fdab77b925a8a7f1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/04/2021 10:23:37
Message:
[HUDI-1788] Insert overwrite (table) for Flink writer (#2808) #MsgLength=138


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|89 33
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/ExplicitWriteHandleTable.java|32 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|22 2
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteCommitActionExecutor.java|69 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteTableCommitActionExecutor.java|50 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/InstantGenerateOperator.java|3 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|19 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|47 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|4 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java|9 4
Added: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/OverwriteBucketAssigner.java|47 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|20 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|13 14
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|49 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|20 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|0 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 3

Revision: 8d29863c86aed57dc8f1a0a450bce3b256de2960
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/04/2021 15:35:39
Message:
[HUDI-1615] Fixing usage of NULL schema for delete operation in HoodieSparkSqlWriter (#2777) #MsgLength=94


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java|6 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|34 0

Revision: 62bb9e10d9d2f2a9807ee46b0ed094ef2fcc89e5
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 15/04/2021 09:40:14
Message:
[Hotfix][utilities] Optimized codes (#2821) #MsgLength=45


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/checkpointing/InitialCheckpointFromAnotherHoodieTimelineProvider.java|4 4

Revision: 6d1aec604fd854dc0fb27a4c6aa6113ae771c7e1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 15/04/2021 13:50:17
Message:
[HUDI-1798] Flink streaming reader should always monitor the delta commits files (#2825) #MsgLength=254


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|1 1

Revision: 191470d1fc9b3596eb4da2413e8bef286ccc7135
Author: MINCWANG <33626973+MINCWANG@users.noreply.github.com>
Date: 15/04/2021 15:16:33
Message:
[HUDI-1797] Remove the com.google.guave jar from hudi-flink-bundle to avoid conflicts. (#2828) #MsgLength=150


----
Modified: packaging/hudi-flink-bundle/pom.xml|36 0

Revision: b6d949b48a649acac27d5d9b91677bf2e25e9342
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/04/2021 11:40:53
Message:
[HUDI-1801] FlinkMergeHandle rolling over may miss to rename the latest file handle (#2831) #MsgLength=207


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|15 24
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|4 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|28 0

Revision: 62b8a341ddae0ab80195c41c7a44b84c1fe23d31
Author: hj2016 <hj3245459@163.com>
Date: 16/04/2021 13:59:19
Message:
[HUDI-1792] flink-client query error when processing files larger than 128mb (#2814) #MsgLength=137


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|8 1

Revision: 1d53d6e6c2d3ff967d333d87b308406c8cd6917a
Author: Xu Guang Lv <17280256@qq.com>
Date: 16/04/2021 16:43:14
Message:
[HUDI-1803] Support BAIDU AFS storage format in hudi (#2836) #MsgLength=62


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 4e050cc2ba2620d83687be5e5d69dcd747e9f72c
Author: satishkotha <satishkotha@uber.com>
Date: 18/04/2021 04:26:07
Message:
[MINOR] Add jackson module to presto bundle (#2816) #MsgLength=53


----
Modified: packaging/hudi-presto-bundle/pom.xml|5 0

Revision: f7b6b680632115da7eb63eceadf95bd99f02d355
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 19/04/2021 16:27:13
Message:
[MINOR][hudi-sync] Fix typos (#2844) #MsgLength=38


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|20 20

Revision: dab5114f168112f6e195af8257c01a7c7c8ee082
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/04/2021 19:43:41
Message:
[HUDI-1804] Continue to write when Flink write task restart because of container killing (#2843) #MsgLength=389


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java|41 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|20 10
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|36 7

Revision: ec2334ceac28463d7586d79f6078c69fb3eb4877
Author: Aditya Tiwari <aditya63700@gmail.com>
Date: 19/04/2021 22:05:20
Message:
[HUDI-1716]: Resolving default values for schema from dataframe (#2765) #MsgLength=227


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|2 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|60 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|31 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/exampleEvolvedSchema.txt|40 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala|164 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|88 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|2 2
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source-jdbc.avsc|16 8

Revision: d21753d903a78f2f728c9e77b5fed2e3a06f6c1c
Author: Thinking Chen <744417972@qq.com>
Date: 20/04/2021 00:27:58
Message:
[HUDI-1802] Timeline Server Bundle need to include com.esotericsoftware package (#2835) #MsgLength=89


----
Modified: packaging/hudi-timeline-server-bundle/pom.xml|2 0

Revision: 6b4b878d089c5a0ba88e94b0ec747d648c6a6084
Author: li36909 <li36909@gmail.com>
Date: 20/04/2021 06:44:11
Message:
[HUDI-1744] rollback fails on mor table when the partition path hasn't any files (#2749) #MsgLength=138


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|16 0

Revision: 9a288ccbebf1aee3164e7bc472a3e795bb83652b
Author: Sebastian Bernauer <bernauerse@web.de>
Date: 20/04/2021 07:04:59
Message:
[MINOR] Added metric reporter Prometheus to HoodieBackedTableMetadataWriter (#2842) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 2

Revision: d6d52c60636ae6a0c16469fa6761d0080fddf72f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/04/2021 21:27:09
Message:
[HUDI-1809] Flink merge on read input split uses wrong base file path for default merge type (#2846) #MsgLength=102


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|26 12
Added: hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java|61 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|1 0

Revision: 3253079507d74f6d52e78ad7f88b297daf969455
Author: Jintao Guan <jintao.guan@uber.com>
Date: 21/04/2021 00:46:42
Message:
[HUDI-1764] Add Hudi-CLI support for clustering (#2773) #MsgLength=262


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java|107 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|42 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|4 1

Revision: aacb8be5213a64a3cc9ddd791e2321526517d044
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 21/04/2021 05:21:38
Message:
[HUDI-1415] Read Hoodie Table As Spark DataSource Table (#2283) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|84 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|44 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|3 2
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|5 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|31 21
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|10 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|25 2
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java|73 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|25 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|56 2
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|15 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|7 0

Revision: ac3589f00659985c39ef29e5edd089279f6c2f70
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/04/2021 20:07:27
Message:
[HUDI-1814] Non partitioned table for Flink writer (#2859) #MsgLength=60


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|13 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|36 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|17 0

Revision: cc81ddde01d6c743708e68c7fb6394facca1e672
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 21/04/2021 20:13:30
Message:
[HUDI-1812] Add explicit index state TTL option for Flink writer (#2853) #MsgLength=74


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|6 1

Revision: c24d90d25a049dc6a9e3213f2b6906c2374c0e28
Author: vinoyang <yanghua1127@gmail.com>
Date: 21/04/2021 22:41:42
Message:
[MINOR] Expose the detailed exception object (#2861) #MsgLength=54


----
Modified: hudi-common/src/main/java/org/apache/hudi/exception/TableNotFoundException.java|5 1

Revision: b31c520c66a65723580807b8eb6a2639c96328a8
Author: jsbali <jagmeet.bali@gmail.com>
Date: 22/04/2021 01:27:43
Message:
[HUDI-1714] Added tests to TestHoodieTimelineArchiveLog for the archival of compl (#2677) #MsgLength=256


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|212 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|9 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|7 0

Revision: 4a3431866d995fd877a067967457591a0bc8847d
Author: jsbali <jagmeet.bali@gmail.com>
Date: 22/04/2021 01:31:35
Message:
[HUDI-1746] Added support for replace commits in commit showpartitions, commit show_write_stats, commit showfiles (#2678) #MsgLength=286


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|61 18
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|116 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|13 8
Added: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestReplaceCommitMetadatGenerator.java|92 0

Revision: a1e636dc6b4cd39606f7e47cbb1363f4fa9b79e4
Author: Chanh Le <giaosudau@gmail.com>
Date: 22/04/2021 21:56:20
Message:
[HUDI-1551] Add support for BigDecimal and Integer when partitioning based on time. (#2851) #MsgLength=148


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|5 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|15 0

Revision: a5789c40673b36d40adab696706acc1446a286f8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/04/2021 09:59:36
Message:
[HUDI-1829] Use while loop instead of recursive call in MergeOnReadInputFormat to avoid StackOverflow (#2862) #MsgLength=176


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|9 10

Revision: 1b27259b530225e3c76fda684f888cad78045d3c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/04/2021 23:06:53
Message:
[HUDI-1844] Add option to flush when total buckets memory exceeds the threshold (#2877) #MsgLength=314


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|9 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|74 12
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|63 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 1

Revision: 3e4fa170cfd2c198599c3bed3982f2f643c7fbe8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/04/2021 00:16:09
Message:
[HUDI-1835] Fixing kafka native config param for auto offset reset (#2864) #MsgLength=76


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|1 1

Revision: d047e91d86d6905c0f66dbdb24f2e9ecd3684430
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/04/2021 16:53:18
Message:
[HUDI-1837] Add optional instant range to log record scanner for log (#2870) #MsgLength=78


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|12 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|15 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|30 22
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/InstantRange.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/mor/InstantRange.java]|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|10 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java|76 3
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|0 12
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: f4e3b949714aceaf8823fd1659e44d3b7e98089a
Author: Nick Young <72905543+NickYoungPeng@users.noreply.github.com>
Date: 26/04/2021 22:05:06
Message:
[HUDI-1742] Improve table level config priority for HoodieMultiTableDeltaStreamer (#2744) #MsgLength=91


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|7 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|18 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties|2 1

Revision: 9bbb458e888273af95b04f72cc5b428524b41487
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 27/04/2021 09:34:09
Message:
[MINOR] Remove redundant method-calling. (#2881) #MsgLength=50


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1

Revision: 5be3997f70415e1752a0b5214f9398880fc8fd1f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/04/2021 10:58:06
Message:
[HUDI-1841] Tweak the min max commits to keep when setting up cleaning retain commits for Flink (#2875) #MsgLength=105


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|12 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|25 11
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|18 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|56 0

Revision: 63fa2b618626b2b8e9530ec105e0d4995eebb643
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 27/04/2021 14:00:59
Message:
[HUDI-1836] Logging consuming instant to StreamReadOperator#processSplits (#2867) #MsgLength=83


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java|3 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java|15 0

Revision: 299958650916eecc243f20bf9362ed70073d30db
Author: satishkotha <satishkotha@uber.com>
Date: 27/04/2021 14:35:01
Message:
[HUDI-1690] use jsc union instead of rdd union (#2872) #MsgLength=56


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|19 3

Revision: e4fd195d9fd0cc1128b8c6797d88e56402b166bd
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 27/04/2021 21:32:32
Message:
[MINOR] Refactor method up to parent-class (#2822) #MsgLength=52


----
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|1 8
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 8
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|39 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|41 0

Revision: 386767693d46e7419c4fb0fa292ccb7ab7f7098d
Author: satishkotha <satishkotha@uber.com>
Date: 28/04/2021 05:21:42
Message:
[HUDI-1833] rollback pending clustering even if there is greater commit (#2863) #MsgLength=156


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|40 5

Revision: 3ca90302562580a7c5c69fd3f11ab376cfac1f0b
Author: dijie <nj18652727118@gmail.com>
Date: 28/04/2021 14:10:04
Message:
[HUDI-1858] Fix cannot create table due to jar conflict (#2886) #MsgLength=119


----
Modified: packaging/hudi-flink-bundle/pom.xml|4 0

Revision: c9bcb5e33f7f9f97af0e8429a88d95f58ee48f13
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 29/04/2021 10:11:46
Message:
[HUDI-1845] Exception Throws When Sync Non-Partitioned Table To Hive With MultiPartKeysValueExtractor (#2876) #MsgLength=111


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|6 0
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestMultiPartKeysValueExtractor.java|41 0

Revision: 6e9c5dd76548911abd346fad61a0dd6d3c623af9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/04/2021 20:32:10
Message:
[HUDI-1863] Add rate limiter to Flink writer to avoid OOM for bootstrap (#2891) #MsgLength=81


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|10 10
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|13 89
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|66 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|1 63
Added: hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestRowDataToHoodieFunction.java|83 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 1

Revision: 6848a683bd89a6f5f30559f7daff918a498f0808
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/04/2021 20:44:45
Message:
[HUDI-1867] Streaming read for Flink COW table (#2895) #MsgLength=104


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|10 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|19 6
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|75 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|8 6

Revision: 929eca43fe8fb9cac6eedd50656a6616616d0b11
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 30/04/2021 14:57:52
Message:
[HUDI-1817] Fix getting incorrect partition path while using incr query by spark-sql (#2858) #MsgLength=94


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|33 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|11 0

Revision: faf3785a2de24415ab8cb7c8072cc738f8282db9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/05/2021 02:16:55
Message:
[HUDI-1811] Fix TestHoodieRealtimeRecordReader (#2873) #MsgLength=118


----
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|29 35

Revision: 46de9e0f3fd0ff5e33c8e37c6bb9dc5d6ae6d214
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/05/2021 02:17:36
Message:
[HUDI-1810] Fix azure setting for integ tests (#2889) #MsgLength=55


----
Modified: azure-pipelines.yml|3 16

Revision: 3418a92de8a45986e55a29a9498791222f6a6fa6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/05/2021 02:20:41
Message:
[HUDI-1620] Fix Metrics UT (#2894) #MsgLength=106


----
Modified: azure-pipelines.yml|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|6 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|14 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|14 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogMetricsReporter.java|7 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java|15 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java|24 4
Modified: pom.xml|0 34

Revision: ea14d687da0e20a4673efa1326e5332978305269
Author: Nick Young <72905543+NickYoungPeng@users.noreply.github.com>
Date: 01/05/2021 10:02:00
Message:
[HUDI-1852] Add SCHEMA_REGISTRY_SOURCE_URL_SUFFIX and SCHEMA_REGISTRY_TARGET_URL_SUFFIX property (#2884) #MsgLength=106


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|14 3

Revision: c5220b96e94d13530f14cd4ea9ba04cd1e559474
Author: dijie <nj18652727118@gmail.com>
Date: 01/05/2021 19:13:15
Message:
[HUDI-1781] Fix Flink streaming reader throws ClassCastException (#2900) #MsgLength=74


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|5 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|23 0

Revision: 1db904a12ed295e08ded14bb5677dc02d76887a2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 05/05/2021 12:34:20
Message:
[HUDI-1718] When query incr view of mor table which has Multi level partitions, the query failed (#2716) #MsgLength=106


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|72 0

Revision: 0284cdecce3136c28cd8599f77f9a0b174145265
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/05/2021 12:31:44
Message:
[HUDI-1876] wiring in Hadoop Conf with AvroSchemaConverters instantiation (#2914) #MsgLength=83


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1

Revision: 0a5863939b8da149f6dab3ec0fdb86d77baa9739
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 07/05/2021 10:58:49
Message:
[HUDI-1821] Remove legacy code for Flink writer (#2868) #MsgLength=57


----
Deleted: hudi-flink/src/main/java/org/apache/hudi/exception/HoodieFlinkStreamerException.java|0 30
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/CommitSink.java|0 153
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/InstantGenerateOperator.java|0 297
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessFunction.java|0 194
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/KeyedWriteProcessOperator.java|0 66
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/transform/JsonStringToHoodieRecordMapFunction.java|0 88
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|36 46
Deleted: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamerV2.java|0 110
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|0 73
Deleted: hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestJsonStringToHoodieRecordMapFunction.java|0 89

Revision: 528f4ca988209cbc9e519bd42b87b896aea992b6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 07/05/2021 20:04:35
Message:
[HUDI-1880] Support streaming read with compaction and cleaning (#2921) #MsgLength=73


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|5 9
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 7
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|18 15
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|11 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 1

Revision: 2c5a661a64d7d6ae117013f6df9b24ecb63108fe
Author: li36909 <369091991@qq.com>
Date: 08/05/2021 06:30:26
Message:
[HUDI-1759] Save one connection retry to hive metastore when hiveSyncTool run with useJdbc=false (#2759) #MsgLength=228


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|30 28
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|6 0

Revision: bfbf993cbe3f1e3fab93095f4342ed17423efab5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/05/2021 14:27:56
Message:
[HUDI-1878] Add max memory option for flink writer task (#2920) #MsgLength=210


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|7 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|9 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|60 16
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|71 35
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|72 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|1 66
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|62 0
Deleted: hudi-flink/src/test/java/org/apache/hudi/sink/transform/TestRowDataToHoodieFunction.java|0 83
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 0

Revision: c1b331bcffaffde7661b75a9b846b117e9df63dc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/05/2021 10:43:03
Message:
[HUDI-1886] Avoid to generates corrupted files for flink sink (#2929) #MsgLength=71


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|3 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|29 6
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|17 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 1

Revision: 511ac4881d6bf3385fd98946594aae16088047f1
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 10/05/2021 21:47:56
Message:
[MINOR] optimize FilePathUtils (#2931) #MsgLength=40


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|3 18

Revision: 8a48d16e41b544787459454ef4b81e6852cd500b
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 10/05/2021 22:16:02
Message:
[HUDI-1707] Reduces log level for too verbose messages from info to debug level. (#2714) #MsgLength=509


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|7 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|21 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|5 0

Revision: aa398f77f13dbf98731b33d027f7f942aef62ffe
Author: jsbali <jsbali@uber.com>
Date: 11/05/2021 06:26:49
Message:
[HUDI-1789] Support reading older snapshots (#2809) #MsgLength=410


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|46 10
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|55 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|14 3

Revision: 42ec7e30d74104a15ff76cb004fe7a0c2649abe6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/05/2021 09:14:51
Message:
[HUDI-1890] FlinkCreateHandle and FlinkAppendHandle canWrite should always return true (#2933) #MsgLength=219


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|5 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|6 0

Revision: 7a5af806cfe54474014db5c70641c0c6269fff03
Author: hiscat <46845236+MyLanPangzi@users.noreply.github.com>
Date: 11/05/2021 11:11:19
Message:
[HUDI-1818] Validate required fields for Flink HoodieTable (#2930) #MsgLength=68


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|31 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|46 0

Revision: ac72470e10f8e7bd437c9e232e58d749750ed483
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/05/2021 16:26:01
Message:
[HUDI-1851] Adding test suite long running automate scripts for docker (#2880) #MsgLength=80


----
Added: docker/demo/config/test-suite/templates/clustering.yaml.template|76 0
Added: docker/demo/config/test-suite/templates/long-running.yaml.template|89 0
Added: docker/demo/config/test-suite/templates/spark_command.txt.template|34 0
Added: docker/demo/config/test-suite/templates/test.properties.template|50 0
Added: docker/generate_test_suite.sh|172 0

Revision: be9db2c4f5a570fcaa555618b34ad11109ed6b00
Author: TeRS-K <teresakang0817@gmail.com>
Date: 12/05/2021 01:01:45
Message:
[HUDI-1055] Remove hardcoded parquet in tests (#2740) #MsgLength=220


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|7 7
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|4 4
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|11 10
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|31 29
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|10 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|25 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|26 23
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/bootstrap/TestBootstrapUtils.java|11 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|10 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|13 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|5 3
Added: hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java|73 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|30 15
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|9 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|10 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|4 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|8 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|7 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|4 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|3 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|7 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|14 12

Revision: 5a8b2a4f8675e26d40df9c05ce4c7db3eaff8d8c
Author: lw0090 <lw309637554@gmail.com>
Date: 12/05/2021 04:49:18
Message:
[HUDI-1768] add spark datasource unit test for schema validate add column (#2776) #MsgLength=83


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|14 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|82 1

Revision: b98c9ab4392727b6b9731aea88deaa5337a91dcf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 12/05/2021 18:44:10
Message:
[HUDI-1895] Close the file handles gracefully for flink write function to avoid corrupted files (#2938) #MsgLength=105


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|30 11
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|16 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|16 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java|16 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|7 7
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|2 3

Revision: 6f7ff7e8ca3a83d858561dd08f8f093787caa9b2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 12/05/2021 20:52:37
Message:
[HUDI-1722]Fix hive beeline/spark-sql query specified field on mor table occur NPE (#2722) #MsgLength=92


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|14 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|67 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|27 0

Revision: ad77cf42ba7d8eab086be1f6d91f465bf29164ed
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/05/2021 10:25:18
Message:
[HUDI-1900] Always close the file handle for a flink mini-batch write (#2943) #MsgLength=155


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|12 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|26 42
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|18 61
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|196 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|21 71
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java|19 11
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|21 37
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|7 15
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java|0 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 24
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|2 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 0

Revision: 12443e41873269a2c0ba12447f73c8a88fa7138f
Author: xoln ann <xoln_ann@outlook.com>
Date: 14/05/2021 12:29:26
Message:
[HUDI-1446] Support skip bootstrapIndex's init in abstract fs view init (#2520) #MsgLength=192


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java|8 4
Added: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/NoOpBootstrapIndex.java|51 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|13 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|18 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|1 1

Revision: 8869b3b4184bbec4502e2e3f6fde0ea9260cf0b0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/05/2021 15:43:37
Message:
[HUDI-1902] Clean the corrupted files generated by FlinkMergeAndReplaceHandle (#2949) #MsgLength=346


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|8 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|12 5
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|2 1

Revision: fcedbfcb58109f6af0b0a1e69915b40a0fcd5ccb
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 17/05/2021 13:34:42
Message:
[MINOR][hudi-client] Code-cleanup,remove redundant variable declarations (#2956) #MsgLength=82


----
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java|0 1

Revision: 46a2399a45803e1b0d863eec47168a09c37ab920
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/05/2021 13:55:38
Message:
[HUDI-1902] Global index for flink writer (#2958) #MsgLength=120


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BaseAvroPayload.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordGlobalLocation.java|97 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordLocation.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|73 27
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|1 58
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|93 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|50 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|13 1
Added: hudi-flink/src/test/resources/test_source_4.data|8 0

Revision: 7d2971d4e23b1f2724e9c0ea3f233fa8105f8c1f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/05/2021 17:47:22
Message:
[HUDI-1911] Reuse the partition path and file group id for flink write data buffer (#2961) #MsgLength=125


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|77 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|0 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|10 9
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 0

Revision: 5d1f592395fe23459091ac2c7a5d539cdd9be819
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/05/2021 07:11:39
Message:
[HUDI-1806] Honoring skipROSuffix in spark ds (#2882) #MsgLength=143


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|35 3

Revision: fe3f5c2d560d9f27984b97c9840b7572337bd420
Author: zhangminglei <18717838093@126.com>
Date: 19/05/2021 09:13:38
Message:
[HUDI-1913] Using streams instead of loops for input/output (#2962) #MsgLength=69


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java|4 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieWithTimelineServer.java|1 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|3 9

Revision: ced068e1ee79147dfe959676c953441bf6da5e87
Author: wangxianghu <wangxianghu@apache.org>
Date: 20/05/2021 10:18:07
Message:
[MINOR] Remove unused method in BaseSparkCommitActionExecutor (#2965) #MsgLength=71


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|0 8

Revision: 9b01d2f864e5cc4a559cfd4199136bca0979b095
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/05/2021 10:20:08
Message:
[HUDI-1915] Fix the file id for write data buffer before flushing (#2966) #MsgLength=75


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|8 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMergeOnReadRollbackActionExecutor.java|77 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|14 10
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|64 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|7 0

Revision: 928b09ea0b2d97bc5055170c8c87fa0103615b4c
Author: swuferhong <337361684@qq.com>
Date: 20/05/2021 17:03:52
Message:
[HUDI-1871] Fix hive conf for Flink writer hive meta sync (#2968) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|5 2
Modified: packaging/hudi-flink-bundle/pom.xml|18 4

Revision: 081061e14bd54be4ee8f4eef6253d5ec9d395ee7
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 20/05/2021 23:00:08
Message:
[HUDI-1719] hive on spark/mr,Incremental query of the mor table, the partition field is incorrect (#2720) #MsgLength=107


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|8 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java|4 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeRecordReader.java|4 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|88 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|12 0

Revision: 7c213f9f260fa911db3fbdbc74cb4f723edf3dbc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/05/2021 11:29:54
Message:
[HUDI-1917] Remove the metadata sync logic in HoodieFlinkWriteClient#preWrite because it is not thread safe (#2971) #MsgLength=117


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 10

Revision: a96034d38d378e4c53b72d50e7b7bcd91da9552d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/05/2021 20:28:11
Message:
[HUDI-1888] Fix NPE when the nested partition path field has null value (#2957) #MsgLength=81


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|21 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|36 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java|22 5

Revision: 99b14a78e38b081efbdda59243626c244335ea7c
Author: zhangminglei <18717838093@126.com>
Date: 21/05/2021 21:59:47
Message:
[HUDI-1918] Fix incorrect keyBy field cause serious data skew, to avoid multiple subtasks write to a partition at the same time (#2972) #MsgLength=137


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 2

Revision: 685f77b5dda92bb4ecd3a5480a1a5ed2eaee5fef
Author: Susu Dong <susudong5@gmail.com>
Date: 22/05/2021 04:52:13
Message:
[HUDI-1740] Fix insert-overwrite API archival (#2784) #MsgLength=472


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|2 2
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestReplaceCommitMetadataGenerator.java [from hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestReplaceCommitMetadatGenerator.java]|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|35 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|3 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|56 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|27 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|8 4
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|8 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|13 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|8 49

Revision: 653981373339b8ce74b1227278d435f5c34d2deb
Author: wangxianghu <wangxianghu@apache.org>
Date: 22/05/2021 19:44:08
Message:
[MINOR] Update the javadoc of EngineType (#2979) #MsgLength=50


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineType.java|3 1

Revision: 369a8493378f069d5471098d75a251fa67d99737
Author: mpouttu <83429688+mpouttu@users.noreply.github.com>
Date: 24/05/2021 13:29:01
Message:
[HUDI-1873] collect() call causing issues with very large upserts (#2907) #MsgLength=130


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 6

Revision: aba1eadbfc015095f31271b2648faa7023126b99
Author: Town <62897740+AirToSupply@users.noreply.github.com>
Date: 25/05/2021 11:36:43
Message:
[HUDI-1919] Type mismatch when streaming read copy_on_write table using flink (#2986) #MsgLength=212


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|4 7
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|82 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|22 0

Revision: e7020748b500e38838a8d84df64267a07b529aa7
Author: wangxianghu <wangxianghu@apache.org>
Date: 25/05/2021 16:29:55
Message:
[HUDI-1920] Set archived as the default value of HOODIE_ARCHIVELOG_FOLDER_PROP_NAME (#2978) #MsgLength=93


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|5 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 2

Revision: afa6bc0b100450b5d80a27bf5b87cbd4a0fbb3a5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/05/2021 22:19:10
Message:
[HUDI-1723] Fix path selector listing files with the same mod date (#2845) #MsgLength=76


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DFSPathSelector.java|7 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java|8 5
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestDFSPathSelectorCommonMethods.java|161 0

Revision: 112732db815660dfdf4b62aa443127d7884b6e63
Author: leesf <490081539@qq.com>
Date: 26/05/2021 00:40:22
Message:
[HUDI-1922] Bulk insert with row writer supports mor table (#2981) #MsgLength=68


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|49 45

Revision: 4eb6ef8144861599f858b4119a3574e37dfbea58
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 26/05/2021 15:04:58
Message:
[HUDI-1935] Updated Logger statement (#2996) #MsgLength=99


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|1 1

Revision: 7fed7352bd506e20e5316bb0b3ed9e5c1e9c76df
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/05/2021 13:38:33
Message:
[HUDI-1865] Make embedded time line service singleton (#2899) #MsgLength=63


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|27 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|13 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: bc18c39835d6775b063ae072aea4ba43177d66b1
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 28/05/2021 14:58:21
Message:
[FLINK-1923] Exactly-once write for flink writer (#3002) #MsgLength=103


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|16 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|57 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 9
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|51 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|4 0

Revision: 974b476180e61fac58cd87e78699428d4108a482
Author: wangxianghu <wangxianghu@apache.org>
Date: 28/05/2021 22:30:30
Message:
[HUDI-1940] Add SqlQueryBasedTransformer unit test (#3004) #MsgLength=60


----
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlQueryBasedTransformer.java|94 0

Revision: 0709c62a6b48483a619ed99afc7dbfb493819236
Author: rmpifer <rmpifer@umich.edu>
Date: 29/05/2021 20:06:01
Message:
[HUDI-1800] Exclude file slices in pending compaction when performing small file sizing (#2902) #MsgLength=145


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|84 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|6 0

Revision: dcd7c331dc72df9ab10e4867a3592faf89f1480b
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 29/05/2021 22:50:24
Message:
[HUDI-1879] Support Partition Prune For MergeOnRead Snapshot Table (#2926) #MsgLength=76


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|8 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|96 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|17 3
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|165 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|64 1

Revision: d965b0550fe194f0082f5450ba5be4e07ef7aabf
Author: Wei <hsdcloud@163.com>
Date: 31/05/2021 11:43:10
Message:
[MINOR] 'return' is unnecessary as the last statement in a 'void' method (#3012) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java|0 1

Revision: 7a63175a7073d886110c1993eec872ded713e356
Author: Yao WANG <Yao.MR.CN@gmail.com>
Date: 31/05/2021 11:44:25
Message:
fix the grammer err of the comment (#3013) #MsgLength=88


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 1

Revision: 34ab756a40b8ff25984a809803bffbe97c00a4ab
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 31/05/2021 17:39:19
Message:
[HUDI-1948] Shade kryo-shaded jar for hudi flink bundle (#3014) #MsgLength=65


----
Modified: packaging/hudi-flink-bundle/pom.xml|22 15

Revision: 219b92c8ae6343cc534b7e418d4e712c7f9f7fc1
Author: Wei <hsdcloud@163.com>
Date: 31/05/2021 18:52:30
Message:
[MINOR] The collection can use forEach() directly (#3016) #MsgLength=59


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java|1 1

Revision: e6a71ea544f3dd1ab5227b4c89a1540df5f7891a
Author: Wei <hsdcloud@163.com>
Date: 31/05/2021 18:54:05
Message:
[MINOR] Access the static member getLastHeartbeatTime via the class instead (#3015) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java|1 1

Revision: 83b0301c1aff51a59b88e8edf7e9cd047023086a
Author: hk__lrzy <hk__lrzy@163.com>
Date: 01/06/2021 16:09:48
Message:
[HUDI-1943] Lose properties when hoodieWriteConfig initializtion (#3006) #MsgLength=162


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|7 5

Revision: 83c31e356fa21b6312be10d5ccd4e21be8db7310
Author: taylorliao <726830328@qq.com>
Date: 01/06/2021 18:35:14
Message:
 [HUDI-1927] Improve HoodieFlinkStreamer (#3019) #MsgLength=99


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|27 6

Revision: bf1cfb563512116c0d414309ffe797719011ea5e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/06/2021 09:12:35
Message:
[HUDI-1949] Refactor BucketAssigner to make it more efficient (#3017) #MsgLength=221


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|7 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|89 134
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java|7 14
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/delta/DeltaBucketAssigner.java]|6 11
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/OverwriteWriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/OverwriteBucketAssigner.java]|7 11
Added: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|207 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|61 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|14 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|0 10
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|10 5

Revision: 7fa2f8ea827257e0320f670e5f22a114a52933cf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/06/2021 10:10:35
Message:
[HUDI-1921] Add target io option for flink compaction (#2980) #MsgLength=63


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: 05a9830e861f21f74d0674edbed10f8fff853c08
Author: swuferhong <337361684@qq.com>
Date: 02/06/2021 14:12:03
Message:
[HUDI-1952] Fix hive3 meta sync for flink writer (#3021) #MsgLength=58


----
Modified: packaging/hudi-flink-bundle/pom.xml|62 5

Revision: 86007e9a13341e1181f940c5f6e5f6dba8eed755
Author: taylorliao <726830328@qq.com>
Date: 03/06/2021 14:20:57
Message:
 [HUDI-1953] Fix NPE due to not set the output type of the operator (#3023) #MsgLength=126


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|1 1

Revision: ad72691d24443bab1b3828bf435b3f8404ea9dab
Author: swuferhong <337361684@qq.com>
Date: 03/06/2021 19:39:31
Message:
[HUDI-1957] Fix flink timeline service lack jetty dependency (#3028) #MsgLength=70


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 4

Revision: f6eee77636223077cfd2ce516f1b8805dfa6e35e
Author: Wei <hsdcloud@163.com>
Date: 03/06/2021 19:46:33
Message:
[MINOR] Remove the implementation of Serializable from HoodieException (#3020) #MsgLength=80


----
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieException.java|1 2

Revision: 870e97b5f82f7657ac1547c5ab38c0797aea5c27
Author: wangxianghu <wangxianghu@apache.org>
Date: 04/06/2021 01:24:51
Message:
[MINOR] Remove unused method in DataSourceUtils (#3031) #MsgLength=57


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|0 12

Revision: a658328001218273c3c9153b485340ac0e91db93
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/06/2021 15:15:32
Message:
[HUDI-1961] Add a debezium json integration test case for flink (#3030) #MsgLength=73


----
Modified: hudi-flink/pom.xml|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|3 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|8 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|69 13
Added: hudi-flink/src/test/resources/debezium_json.data|16 0

Revision: d02c0e5387481a4ac4bdc60163001b2a365150d9
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 05/06/2021 03:28:44
Message:
[MINOR] Resolve build issue arising from inaccessible pentaho jar (#3034) #MsgLength=95


----
Modified: hudi-sync/hudi-dla-sync/pom.xml|4 0
Modified: packaging/hudi-flink-bundle/pom.xml|8 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|10 0
Modified: pom.xml|12 0

Revision: c4a2ad2702c28fc03392a917a878570af40062db
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 05/06/2021 11:48:08
Message:
[HUDI-1954] only reset bucket when flush bucket success (#3029) #MsgLength=110


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|15 11

Revision: cf90f17732e313cf71248a8baaf10307463d9b6e
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 05/06/2021 13:30:48
Message:
[HUDI-1281] Add deltacommit to ActionType (#3018) #MsgLength=104


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|8 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|19 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/ActionType.java|1 2

Revision: c2383ee9040001cfc1a9e8f6add65d24ad991969
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/06/2021 16:06:34
Message:
[HUDI-1967] Fix the NPE for MOR Hive  rt table query (#3032) #MsgLength=239


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|7 14
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|2 2

Revision: dab13f7473cfe4fad42189056e4c931ee2e2a297
Author: Wei <hsdcloud@163.com>
Date: 05/06/2021 19:40:45
Message:
[HUDI-1979] Optimize logic to improve code readability (#3037) #MsgLength=113


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java|1 6

Revision: 2a7e1e091e69c53acc0a19e3d792ca15a3d7db62
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 06/06/2021 06:02:26
Message:
[HUDI-1942] Add Default value for HIVE_AUTO_CREATE_DATABASE_OPT_KEY in HoodieSparkSqlWriter (#3036) #MsgLength=101


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2

Revision: 08464a6a5b11ad2afa98eed7bc4e7777c4121b6b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/06/2021 10:40:15
Message:
[HUDI-1931] BucketAssignFunction use ValueState instead of MapState (#3026) #MsgLength=123


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|29 27
Added: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignOperator.java|57 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|3 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java|5 1
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockValueState.java|45 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|31 2

Revision: 0d0dc6fb07e0c5496224c75052ab4f43d57b40f6
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 07/06/2021 21:58:19
Message:
[HUDI-1909] Skip Commits with empty files (#3045) #MsgLength=51


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|2 1

Revision: f3d7b49bfea0630dcf488c087755485d8d088270
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 08/06/2021 05:49:55
Message:
[HUDI-1148] Remove Hadoop Conf Logs (#3040) #MsgLength=45


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|0 2

Revision: 441076b2ccf66949310030fc6680bb68c259d8da
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/06/2021 06:38:59
Message:
[HUDI-1950] Move TestHiveMetastoreBasedLockProvider to functional (#3043) #MsgLength=524


----
Modified: hudi-sync/hudi-hive-sync/pom.xml|18 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|3 2
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/HiveSyncFunctionalTestSuite.java|33 0
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java [from hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveMetastoreBasedLockProvider.java]|33 54
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java|145 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|10 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|6 26

Revision: 919590988a4db1b73a67188d8b1b0d971f8b766d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/06/2021 07:04:35
Message:
[HUDI-1914] Add fetching latest schema to table command in hudi-cli (#2964) #MsgLength=77


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|46 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|84 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|28 4

Revision: 57611d10b5ae5cb3580dcbd4abb4cdc131cbd575
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 08/06/2021 09:48:27
Message:
[HUDI-1743] Added support for SqlFileBasedTransformer (#2747) #MsgLength=63


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlFileBasedTransformer.java|106 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlFileBasedTransformer.java|178 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer-empty.sql|25 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer-invalid.sql|22 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/sql-file-transformer.sql|27 0

Revision: cf83f10f5b369e1f16e63b4b68750d3ad2dc0240
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 08/06/2021 13:55:25
Message:
add BootstrapFunction to support index bootstrap (#3024) #MsgLength=103


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|235 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapRecord.java|33 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java|53 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunc.java|49 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|13 89
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|16 5
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|18 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|23 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|17 11
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|44 0

Revision: f760ec543ec9ea23b7d4c9f61c76a283bd737f27
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 08/06/2021 14:24:32
Message:
[HUDI-1659] Basic Implement Of Spark Sql Support For Hoodie (#2645) #MsgLength=1419


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|23 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java|10 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|10 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieBootstrapHandle.java|2 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|10 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|23 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|89 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|4 15
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|2 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|4 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|19 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|27 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|30 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|4 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java|114 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieDuplicateKeyException.java|29 0
Modified: hudi-integ-test/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|89 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|14 7
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java|37 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|15 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|8 29
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|29 14
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala|37 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hive/HiveClientUtils.scala|29 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|213 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|49 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|184 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/SerDeUtils.scala|55 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|313 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|112 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|359 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|84 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|270 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|456 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|84 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|119 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UuidKeyGenerator.scala|31 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala|185 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|309 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|177 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|3 4
Added: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|255 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|0 16
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|7 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSqlStatement.scala|183 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|275 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|67 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|81 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|223 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|535 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|62 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|20 2
Added: hudi-spark-datasource/hudi-spark2/src/main/antlr4/imports/SqlBase.g4|1100 0
Added: hudi-spark-datasource/hudi-spark2/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4|107 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|85 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/DeleteFromTable.scala|26 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/MergeInto.scala|66 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/UpdateTable.scala|28 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlAstBuilder.scala|230 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlParser.scala|171 0
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|88 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|3 9
Modified: hudi-utilities/pom.xml|3 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|3 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|3 10
Modified: packaging/hudi-spark-bundle/pom.xml|4 10
Modified: packaging/hudi-utilities-bundle/pom.xml|4 10
Modified: pom.xml|9 0
Modified: style/checkstyle-suppressions.xml|1 0

Revision: 7261f0850727aea611cd34e1bb07d684b44534f6
Author: wangxianghu <wangxianghu@apache.org>
Date: 08/06/2021 21:26:10
Message:
[HUDI-1929] Support configure KeyGenerator by type (#2993) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|22 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java|59 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|80 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java|100 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|75 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|83 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|176 37
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java|101 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|82 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|10 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|6 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|7 4
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 33
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|0 17
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 1

Revision: 75d663f65d1963fccf65149f052b8506c17898a1
Author: Wei <hsdcloud@163.com>
Date: 08/06/2021 21:58:34
Message:
[HUDI-1980] Optimize the code to prevent other exceptions from causing resources not to be closed (#3038) #MsgLength=156


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 3

Revision: 11360f707e969747e1a30791acb23857cc376589
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 09/06/2021 06:12:18
Message:
[HUDI-1892] Fix NPE when avro field value is null (#3051) #MsgLength=59


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 1

Revision: a6f5fc5967c1bcd509166686ab8a2dcc2c5dbd59
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/06/2021 14:17:28
Message:
[HUDI-1986] Skip creating marker files for flink merge handle (#3047) #MsgLength=71


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|22 0

Revision: e8fcf04b5709d795a1de086824b6eff462c8c835
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/06/2021 14:20:04
Message:
[HUDI-1987] Fix non partition table hive meta sync for flink writer (#3049) #MsgLength=77


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|3 4
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|13 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 8

Revision: 728089a88827c3f4e9813f2d2e4d3d4a4a872605
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 09/06/2021 19:29:57
Message:
delete duplicate bootstrap function (#3052) #MsgLength=90


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|37 43
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapRecord.java]|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunc.java]|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|2 2

Revision: afbafe70469c40ae6c23eec59848ca92b2f07fc7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/06/2021 21:12:56
Message:
[HUDI-1992] Release the new records map for merge handle #close (#3056) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 0

Revision: a8b10e9067301c1e264e975be9bd8f147be7880e
Author: Wei <hsdcloud@163.com>
Date: 10/06/2021 13:03:32
Message:
[MINOR] Remove boxing (#3062) #MsgLength=31


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1

Revision: e0108e972efcc22a06c487d14b0a8a59aef0f9f7
Author: JunZhang <zhangjunemail@126.com>
Date: 10/06/2021 15:51:36
Message:
[MINOR] Add Baidu BOS storage support for hudi (#3061) #MsgLength=105


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 125415a8b89bb9190d83b3ad74e68f1d86a05118
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/06/2021 19:09:23
Message:
[HUDI-1994] Release the new records iterator for append handle #close (#3058) #MsgLength=79


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 0

Revision: 9e4114dd46cda4db23a24889cd267998734202da
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 11/06/2021 06:03:07
Message:
[HUDI-1790] Added SqlSource to fetch data from any partitions for backfill use case (#2896) #MsgLength=93


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/SqlSource.java|94 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java|190 0

Revision: 673d62f3c3ab07abb3fcd319607e657339bc0682
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date: 11/06/2021 09:16:51
Message:
 [MINOR] Add Tencent Cloud HDFS storage support for hudi (#3064) #MsgLength=66


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: ba728d822f733cf1978b95c6b6af793fdf041088
Author: Wei <hsdcloud@163.com>
Date: 13/06/2021 01:21:43
Message:
[HUDI-2002] Modify HiveIncrementalPuller log level to ERROR (#3070) #MsgLength=118


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|2 2

Revision: 0c4f2fdc15982870b59d3458303973af95984266
Author: swuferhong <337361684@qq.com>
Date: 13/06/2021 15:04:46
Message:
[HUDI-1984] Support independent flink hudi compaction function (#3046) #MsgLength=72


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java|44 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 35
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|16 13
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|11 7
Added: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java|111 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|107 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|146 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/compact/NonKeyedCompactFunction.java|102 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|36 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|3 3
Added: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|86 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|10 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|99 1

Revision: 6e78682ceaa77eead10429a57c6f1d56a15fcedd
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 13/06/2021 18:09:48
Message:
[HUDI-2000] Release file writer for merge handle #close (#3068) #MsgLength=110


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 0

Revision: 7d9f9d7d8241bfb70d50c557b0194cc8a87b6ee7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/06/2021 09:55:52
Message:
[HUDI-1991] Fixing drop dups exception in bulk insert row writer path (#3055) #MsgLength=79


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|43 10

Revision: 769dd2d7c98558146eb4accb75b6d8e339ae6e0f
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 14/06/2021 17:14:59
Message:
[HUDI-2004] Move CheckpointUtils test cases to independant class (#3072) #MsgLength=74


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|0 66
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestCheckpointUtils.java|126 0

Revision: 515ce8eb3642491c41e26139a57b74e3d9b43226
Author: Prashant Wason <pwason@uber.com>
Date: 15/06/2021 16:18:15
Message:
[MINOR] Fixed the log which should only be printed when the Metadata Table is disabled. (#3080) #MsgLength=97


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|3 3

Revision: f92283706408e25c48ed63abcbc9d07dc855106d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/06/2021 18:45:17
Message:
[HUDI-1950] Fix Azure CI failure in TestParquetUtils (#2984) #MsgLength=229


----
Modified: README.md|1 0
Modified: azure-pipelines.yml|8 42
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|6 5
Modified: pom.xml|4 0

Revision: cb642ceb75ef903a77593af943c6ba19053257ee
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/06/2021 23:18:38
Message:
[HUDI-1999] Refresh the base file view cache for WriteProfile (#3067) #MsgLength=116


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|11 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|36 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|94 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|4 54
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|47 1

Revision: b8fe5b91d599418cd908d833fd63edc7f362c548
Author: Jintao Guan <jintao.guan@uber.com>
Date: 16/06/2021 06:21:43
Message:
[HUDI-764] [HUDI-765] ORC reader writer Implementation (#2999) #MsgLength=122


----
Modified: LICENSE|12 0
Modified: NOTICE|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|42 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|17 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java|10 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|13 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|3 7
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcConfig.java|72 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java|172 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|2 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java|261 0
Added: hudi-client/hudi-client-common/src/test/resources/exampleSchemaWithUDT.avsc|67 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|7 0
Modified: hudi-common/pom.xml|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java|2 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java|799 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java|120 13
Added: hudi-common/src/main/java/org/apache/hudi/common/util/OrcReaderIterator.java|118 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|235 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|2 58
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReaderFactory.java|8 0
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcReader.java|91 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestAvroOrcUtils.java|76 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestOrcReaderIterator.java|92 0
Modified: hudi-common/src/test/java/org/apache/hudi/io/storage/TestHoodieFileReaderFactory.java|6 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|9 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|9 4
Modified: pom.xml|2 0

Revision: 910fe4842c2fefd57b45de1e0ac6b1998010dd73
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 16/06/2021 09:05:50
Message:
[MINOR] Rename broken codecov file (#3088) #MsgLength=142


----
Renamed: .codecov.yml.broken [from .codecov.yml]|0 0

Revision: 61efc6af79c389ef0a77cda75e4f562ed59ef86b
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 16/06/2021 09:18:38
Message:
[HUDI-2022] Release writer for append handle #close (#3087) #MsgLength=106


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 0

Revision: 8b0a502c4fd5352863009030a32e219bbf822a6c
Author: swuferhong <337361684@qq.com>
Date: 16/06/2021 14:29:16
Message:
[HUDI-2014] Support flink hive sync in batch mode (#3081) #MsgLength=59


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|3 0

Revision: d519c746264c7210a604c8fb43efd084ae69ae41
Author: Wei <hsdcloud@163.com>
Date: 16/06/2021 22:37:29
Message:
[HUDI-2008] Avoid the raw type usage in some classes under hudi-utilities module (#3076) #MsgLength=90


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|4 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|4 3

Revision: 5ce64a81bdfaa94aefacf7b365e6fb044763827c
Author: swuferhong <337361684@qq.com>
Date: 17/06/2021 05:28:53
Message:
Fix the filter condition is missing in the judgment condition of compaction instance (#3025) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|24 0

Revision: 0b57483a8e41742689a1362aa94aabb94a1361b3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/06/2021 09:08:19
Message:
[HUDI-2015] Fix flink operator uid to allow multiple pipelines in one job (#3091) #MsgLength=83


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 6

Revision: 6763b45dd4be89a62f57623f60798d1f751abca4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/06/2021 19:10:34
Message:
[HUDI-2030] Add metadata cache to WriteProfile to reduce IO (#3090) #MsgLength=151


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|54 22
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|27 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|25 0

Revision: ad53cf450ef01806ff8b2cfe8ff76fa350a7b4c5
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 17/06/2021 19:18:21
Message:
[HUDI-1879] Fix RO Tables Returning Snapshot Result (#2925) #MsgLength=61


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|8 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|4 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|25 7
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java|6 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|74 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 1

Revision: f97dd25d41816f51f4c233d69456dd9892b201b5
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 17/06/2021 20:28:03
Message:
[HUDI-2019] Set up the file system view storage config for singleton embedded server write config every time (#3102) #MsgLength=163


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|18 0

Revision: 67c31243522268002c8b1bf5285dfe3c07cf5783
Author: vinoyang <yanghua1127@gmail.com>
Date: 17/06/2021 21:22:13
Message:
[HUDI-2032] Make keygen class and keygen type optional for FlinkStreamerConfig (#3104) #MsgLength=203


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|6 0

Revision: b9e28e5292d9b2a4b665c26eeba660437a6a0a45
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 17/06/2021 23:21:20
Message:
[HUDI-2033] ClassCastException Throw When PreCombineField Is String Type (#3099) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|61 0

Revision: aa6342c3c9af53e7064546becf987e26534d0764
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/06/2021 09:35:09
Message:
[HUDI-2036] Move the compaction plan scheduling out of flink writer coordinator (#3101) #MsgLength=208


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java|0 40
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|0 10
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|21 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|20 24
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|2 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|6 30
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/compact/NonKeyedCompactFunction.java|0 102
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 4
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|32 19
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|8 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|35 41
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|7 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|16 2

Revision: cdb9b48170ef98634babd8954392efb1c1b90fcf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/06/2021 13:55:23
Message:
[HUDI-2040] Make flink writer as exactly-once by default (#3106) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|3 14
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|10 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|7 23
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|0 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|3 14

Revision: 53396061cc169efc99849406561ec5ec7cf437ad
Author: Wei <hsdcloud@163.com>
Date: 19/06/2021 11:50:01
Message:
[MINOR] Fix wrong package name (#3114) #MsgLength=40


----
Renamed: hudi-common/src/main/java/org/apache/hudi/exception/HoodieMetadataException.java [from hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieMetadataException.java]|0 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java|1 3

Revision: 7865da1e154b5dd9d3063511179993e20adf0579
Author: Wei <hsdcloud@163.com>
Date: 19/06/2021 12:51:54
Message:
[MINOR] Fix Javadoc wrong references (#3115) #MsgLength=46


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|1 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1

Revision: 1cbdb49816ac779f803d0b7397f911a2f81ecca5
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 19/06/2021 22:12:11
Message:
[HUDI-251] Adds JDBC source support for DeltaStreamer (#2915) #MsgLength=608


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/SqlQueryBuilder.java|146 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JdbcSource.java|343 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSqlQueryBuilder.java|64 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|44 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJdbcSource.java|443 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/JdbcTestUtils.java|195 0

Revision: c08fbb4268ee4b227452fd27d5e6ba322eeef00e
Author: Wei <hsdcloud@163.com>
Date: 20/06/2021 03:06:47
Message:
[MINOR] Remove unused module (#3116) #MsgLength=38


----
Modified: scripts/release/generate_jar_path.py|0 1

Revision: e41f13fe7bf19302def4eb5607e95c9d7395266c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/06/2021 05:36:39
Message:
[MINOR] Put Azure cache tasks first (#3118) #MsgLength=45


----
Modified: azure-pipelines.yml|6 6

Revision: 429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 21/06/2021 12:42:12
Message:
[HUDI-1248] Increase timeout for deltaStreamerTestRunner in TestHoodieDeltaStreamer (#3110) #MsgLength=93


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1

Revision: adf167991a762266afb75b4c0dcc583ae2d5858e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/06/2021 20:15:27
Message:
[HUDI-2049] StreamWriteFunction should wait for the next inflight instant time before flushing (#3123) #MsgLength=104


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 2

Revision: f8d9242372e9c682ea2573dde8b308d5895357f9
Author: swuferhong <337361684@qq.com>
Date: 21/06/2021 20:32:48
Message:
[HUDI-2050] Support rollback inflight compaction instances for batch flink compactor (#3124) #MsgLength=94


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|19 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 0

Revision: 4fd8a88b7ef4666f0be90eed864fe3cf1ef896ee
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 21/06/2021 22:58:43
Message:
[HUDI-1776] Support AlterCommand For Hoodie (#3086) #MsgLength=53


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|15 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|119 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|93 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|55 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|21 16
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|15 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|121 0

Revision: cb5cd35991afa2ed5b14ad92f2b98ae341fee9c4
Author: swuferhong <337361684@qq.com>
Date: 22/06/2021 08:53:54
Message:
[HUDI-2043] HoodieDefaultTimeline$filterPendingCompactionTImeline() method have wrong filter condition (#3109) #MsgLength=112


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|1 1

Revision: 7bd517a82f9da3a6b42f6786da1d8a23151bdd94
Author: Rong Ma <rongma1997@gmail.com>
Date: 22/06/2021 09:09:51
Message:
[HUDI-2031] JVM occasionally crashes during compaction when spark speculative execution is enabled (#3093) #MsgLength=129


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java|50 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|4 0

Revision: 5db37c255ba921b082f3f1952aa9182589f0a7a3
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 22/06/2021 14:18:46
Message:
[HUDI-2047] Ignore FileNotFoundException in WriteProfiles #getWritePathsOfInstant (#3125) #MsgLength=136


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|6 0

Revision: 69c0d9e2d000061cd5a22bf4abcd800574c4554d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 22/06/2021 22:33:20
Message:
[HUDI-1883] Support Truncate Table For Hoodie (#3098) #MsgLength=55


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|6 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|64 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala|54 0

Revision: 062d5baf842c22a6cf3b981ad605cafb6be3f130
Author: Prashant Wason <pwason@uber.com>
Date: 22/06/2021 23:41:52
Message:
[HUDI-2013] Removed option to fallback to file listing when Metadata Table is enabled. (#3079) #MsgLength=96


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|0 15
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|3 10

Revision: 11e64b2db0ddf8f816561f8442b373de15a26d71
Author: Prashant Wason <pwason@uber.com>
Date: 22/06/2021 23:52:18
Message:
[HUDI-1717] Metadata Reader should merge all the un-synced but complete instants from the dataset timeline. (#3082) #MsgLength=117


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|19 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|38 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|31 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|18 17

Revision: 3fb59dda839b82b6a3bf7538b7604bafb5561a58
Author: swuferhong <337361684@qq.com>
Date: 23/06/2021 13:57:09
Message:
[HUDI-1988] FinalizeWrite() been executed twice in AbstractHoodieWriteClient$commitstats (#3050) #MsgLength=98


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 2

Revision: 2687eab8f0b49f410c49fac7771a8409722574cf
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/06/2021 14:49:38
Message:
[HUDI-2054] Remove the duplicate name for flink write pipeline (#3135) #MsgLength=72


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|0 2

Revision: 43b9c1fa1caf97f6fb2baf68e350615541ea0a0c
Author: Vaibhav Sinha <vaibhavsinh@gmail.com>
Date: 23/06/2021 17:04:25
Message:
[HUDI-1826] Add ORC support in HoodieSnapshotExporter (#3130) #MsgLength=63


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieSnapshotExporter.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|1 1

Revision: 380518e232b883bb12579b3e98283659b464285a
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 23/06/2021 20:58:52
Message:
[HUDI-2038] Support rollback inflight compaction instances for CompactionPlanOperator (#3105) #MsgLength=140


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|6 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|3 13
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|17 0

Revision: e039e0ff6d04b9b0684dbf29452af8a8dae94b09
Author: leesf <490081539@qq.com>
Date: 24/06/2021 07:37:55
Message:
[HUDI-2064] Fix TestHoodieBackedMetadata#testOnlyValidPartitionsAdded (#3141) #MsgLength=79


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|8 1

Revision: 7e50f9a5a6be8d68b13a587a07a9af81819540ca
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 24/06/2021 13:48:01
Message:
[HUDI-2061] Incorrect Schema Inference For Schema Evolved Table (#3137) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|18 1

Revision: 84dd3ca18b62921a60c3970a0f26614d8bafc89d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 24/06/2021 19:09:37
Message:
[HUDI-2053]  Insert Static Partition With DateType Return Incorrect Partition Value (#3133) #MsgLength=93


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|5 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|6 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|9 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|64 0

Revision: b32855545bb9dbc6f49c18d1586585a39abe5004
Author: Sebastian Bernauer <bernauerse@web.de>
Date: 24/06/2021 21:08:21
Message:
[HUDI-2069] Fix KafkaAvroSchemaDeserializer to not rely on reflection (#3111) #MsgLength=174


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java|1 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java|12 13

Revision: 218f2a6df8a41279d904a76b594d22f4d66d17c2
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 25/06/2021 08:54:59
Message:
[HUDI-2062] Catch FileNotFoundException in WriteProfiles #getCommitMetadata Safely (#3138) #MsgLength=137


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|6 3

Revision: e64fe5505487f3ee591b2b5d044c2c57989f8991
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/06/2021 08:57:56
Message:
[HUDI-2068] Skip the assign state for SmallFileAssign when the state can not assign initially (#3148) #MsgLength=103


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|1 2

Revision: 0fb8556b0d9274aef650a46bb82a8cf495d4450b
Author: s-sanjay <sanjay537@gmail.com>
Date: 25/06/2021 11:26:26
Message:
Add ability to provide multi-region (global) data consistency across HMS in different regions (#2542) #MsgLength=328


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/BootstrapIndex.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|8 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|5 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|1 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestGloballyConsistentTimeStampFilteringInputFormat.java|121 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|17 0
Modified: hudi-sync/hudi-hive-sync/pom.xml|10 0
Added: hudi-sync/hudi-hive-sync/run_hive_global_commit_tool.sh|69 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|6 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|70 10
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java|54 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java|105 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommit.java|37 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitConfig.java|98 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitTool.java|136 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/ReplicationStateSync.java|90 0
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncGlobalCommitTool.java|128 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|277 9
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|27 7
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|32 27
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|271 0
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestHiveSyncGlobalCommitTool.java|133 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/hive-global-commit-config.xml|27 0

Revision: 23dbc09a0d5d677ed3728dbd5357320590ca2833
Author: n3nash <nagarwal@uber.com>
Date: 25/06/2021 13:17:40
Message:
[MINOR] Removing un-used files and references (#3150) #MsgLength=55


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|0 133
Deleted: hudi-utilities/src/test/resources/delta-streamer-config/hive-global-commit-config.xml|0 27

Revision: ed1a5daa9a15e9123aa7fdba5ce8262d1cae0704
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 26/06/2021 00:37:47
Message:
[HUDI-2060] Added tests for KafkaOffsetGen (#3136) #MsgLength=52


----
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java|147 0

Revision: f73bedd374952580c4d6bc9b2e30607c4efdd538
Author: wangxianghu <wangxianghu@apache.org>
Date: 26/06/2021 13:19:26
Message:
[MINOR] Remove unused methods (#3152) #MsgLength=39


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 54

Revision: e99a6b031bf4f2e3037d4cb5307d443cda2d2002
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 27/06/2021 13:03:41
Message:
[HUDI-2073] Fix the bug of hoodieClusteringJob never quit (#3157) #MsgLength=115


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|11 11

Revision: d24341d10ca49ed52fc0c1c86a164fbfb57327d4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/06/2021 16:03:10
Message:
[HUDI-2074] Use while loop instead of recursive call in MergeOnReadInputFormat#MergeIterator to avoid StackOverflow (#3159) #MsgLength=125


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|21 21

Revision: 9e61dad59764abb5acb35adb3399439000b8c774
Author: wangxianghu <wangxianghu@apache.org>
Date: 28/06/2021 17:11:32
Message:
[MINOR] Drop duplicate keygenerator class configuration setting (#3167) #MsgLength=73


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|0 1

Revision: 34fc8a8880b0da5adb82b6eb7678f141af54ca18
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 28/06/2021 19:26:08
Message:
[HUDI-2067] Sync FlinkOptions config to FlinkStreamerConfig (#3151) #MsgLength=69


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|186 1

Revision: 039aeb6dcee0a8eb4372c079ec07b8fc2582e41f
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 28/06/2021 21:52:05
Message:
[HUDI-1910] Commit Offset to Kafka after successful Hudi commit (#3092) #MsgLength=73


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/SourceCommitCallback.java|33 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|10 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|10 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|38 13
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|72 1

Revision: 37b7c65d8a3ede00ae16909a06e31c24f179998c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 29/06/2021 08:53:52
Message:
[HUDI-2084] Resend the uncommitted write metadata when start up (#3168) #MsgLength=118


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|14 12
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java|9 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|122 33
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|114 60
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java [from hudi-flink/src/main/java/org/apache/hudi/sink/event/BatchWriteSuccessEvent.java]|31 10
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|2 9
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|12 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|35 8
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|22 20
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|22 8

Revision: 0749cc826a9ef6b04e2063074b7abac0e69414a0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/06/2021 11:23:46
Message:
[HUDI-2081] Move schema util tests out from TestHiveSyncTool (#3166) #MsgLength=70


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|0 117
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/util/TestHiveSchemaUtil.java|148 0

Revision: b8a8f572d6a760c744b0a5228f2512d3d113d390
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/06/2021 15:34:26
Message:
[HUDI-2094] Supports hive style partitioning for flink writer (#3178) #MsgLength=71


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|10 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|7 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|21 2

Revision: 5a7d1b3d6cb42b1763654e307625e2ae7b799adc
Author: swuferhong <337361684@qq.com>
Date: 29/06/2021 22:43:47
Message:
[HUDI-2097] Fix Flink unable to read commit metadata error (#3180) #MsgLength=68


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|2 2

Revision: f665db071fac50ab1e74ed17bdda2eea9ed0ebb2
Author: swuferhong <337361684@qq.com>
Date: 29/06/2021 22:53:01
Message:
[HUDI-2085] Support specify compaction paralleism and compaction target io for flink batch compaction (#3169) #MsgLength=111


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|4 1

Revision: 202887b8ca27eb6de808ba7a2e737b13ae9eb8c0
Author: wangxianghu <wangxianghu@apache.org>
Date: 30/06/2021 09:21:06
Message:
[HUDI-2092] Fix NPE caused by FlinkStreamerConfig#writePartitionUrlEncode null value (#3176) #MsgLength=94


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 1

Revision: 5564c7ec010e2af40352615a6c90dbea4d2290e7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/06/2021 11:05:46
Message:
[HUDI-2006] Adding more yaml templates to test suite (#3073) #MsgLength=62


----
Modified: docker/demo/config/test-suite/templates/clustering.yaml.template|2 0
Renamed: docker/demo/config/test-suite/templates/long_test_suite.yaml.template [from docker/demo/config/test-suite/templates/long-running.yaml.template]|5 2
Added: docker/demo/config/test-suite/templates/medium_test_suite.yaml.template|92 0
Added: docker/demo/config/test-suite/templates/sanity.yaml.template|83 0
Modified: docker/generate_test_suite.sh|110 26
Modified: hudi-integ-test/README.md|30 0

Revision: 1cbf43b6e7731c68661c74bdfa41399f6398172f
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 30/06/2021 16:40:55
Message:
[HUDI-2103] Add rebalance before index bootstrap (#3185) #MsgLength=103


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 1

Revision: 94f0f40fec44c7eecb4e886df62f52a28226974c
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 30/06/2021 16:41:28
Message:
[HUDI-1944] Support Hudi to read from committed offset (#3175) #MsgLength=225


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|23 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java|28 0

Revision: 07e93de8b49560eee23237817fc24fbe763f2891
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 30/06/2021 20:37:00
Message:
[HUDI-2052] Support load logFile in BootstrapFunction (#3134) #MsgLength=108


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|91 26
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|8 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|4 7
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|1 1

Revision: d412fb2fe642417460532044cac162bb68f4bec4
Author: wenningd <wenningding95@gmail.com>
Date: 01/07/2021 05:26:30
Message:
[HUDI-89] Add configOption & refactor all configs based on that (#2833) #MsgLength=123


----
Modified: docker/demo/sparksql-incremental.commands|34 34
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|7 7
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|1 1
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|4 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|5 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java|22 22
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|79 56
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|97 96
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|209 183
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|149 151
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|170 137
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|157 72
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|59 46
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|79 56
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java|76 39
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|50 47
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|24 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|108 94
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|45 30
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|532 444
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java|9 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|26 17
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java|6 6
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestZookeeperBasedLockProvider.java|19 19
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java|4 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|8 8
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|5 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java|6 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|15 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|8 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|9 9
Added: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java|154 0
Deleted: hudi-common/src/main/java/org/apache/hudi/common/config/DefaultHoodieConfig.java|0 51
Added: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|177 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|92 77
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|35 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|56 48
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java|2 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|126 102
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|44 46
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|111 121
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|4 6
Added: hudi-common/src/test/java/org/apache/hudi/common/config/TestConfigProperty.java|101 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|1 1
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|13 13
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|2 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|4 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|3 3
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|5 5
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|5 5
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|5 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|26 26
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|322 186
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|89 92
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|39 33
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|12 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|10 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|12 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|22 22
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|23 23
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|16 16
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|38 38
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|18 18
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|19 19
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|31 31
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|26 26
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|76 72
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|47 47
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|63 63
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|80 80
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|12 12
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|5 5
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|3 3
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java|19 19
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java|25 25
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java|21 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java|35 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|8 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|8 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java|5 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|26 25
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|2 2

Revision: 7895a3586e19a7f66fc2a400c90d8334f255d943
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 01/07/2021 05:56:56
Message:
[MINOR] Update .asf.yaml to codify notification settings, turn on jira comments, gh discussions (#3164) #MsgLength=313


----
Modified: .asf.yaml|10 0

Revision: d07def12901485a9d59ab2b54602d535f00e5986
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 01/07/2021 11:34:58
Message:
[MINOR] Fix broken build due to FlinkOptions (#3198) #MsgLength=54


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2

Revision: b34d53fa9c1821e7e7191ede1b99bdc96212ce3e
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 01/07/2021 17:25:18
Message:
[HUDI-2088] Missing Partition Fields And PreCombineField In Hoodie Properties For Table Written By Flink (#3171) #MsgLength=114


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 0
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|74 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 0

Revision: b376cefc3e899aa28992796925708746561d6087
Author: wangxianghu <wangxianghu@apache.org>
Date: 01/07/2021 18:48:59
Message:
[MINOR] Add Documentation to KEYGENERATOR_TYPE_PROP (#3196) #MsgLength=61


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1

Revision: 6eca06d074520140d7bc67b48bd2b9a5b76f0a87
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 01/07/2021 23:40:14
Message:
[HUDI-2105] Compaction Failed For MergeInto MOR Table (#3190) #MsgLength=63


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|13 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|50 1

Revision: 64035474310739d0885b57df924b1553834ef6de
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 02/07/2021 16:08:36
Message:
[HUDI-2051] Enable Hive Sync When Spark Enable Hive Meta  For Spark Sql (#3126) #MsgLength=81


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|4 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|0 1

Revision: 7462fdefc39c75dca986d65551d871b8c47d4f55
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/07/2021 16:29:22
Message:
[HUDI-2112] Support reading pure logs file group for flink batch reader after compaction (#3202) #MsgLength=98


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|19 34
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|10 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|11 0

Revision: ac65189458eff9962e442a6ca3973cb236749840
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 02/07/2021 17:39:57
Message:
[HUDI-2114] Spark Query MOR Table Written By Flink Return Incorrect Timestamp Value (#3208) #MsgLength=93


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|3 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|14 9
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestMergeOnReadSnapshotRelation.scala|50 0

Revision: d424fe6072ef74e1e2bdb290aa584bff9eca113f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/07/2021 19:44:32
Message:
[HUDI-2121] Add operator uid for flink stateful operators (#3212) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 0

Revision: 70d9c2e7473154178bafaef40a15fc3e10a9df6a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 02/07/2021 22:46:52
Message:
[HUDI-2123]  Exception When Merge With Null-Value Field (#3214) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|6 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|45 0

Revision: 7173d1338abaf2a880bdb86e9c650065d7b0bf14
Author: Prashant Wason <pwason@uber.com>
Date: 03/07/2021 09:48:37
Message:
[HUDI-2124] A Grafana dashboard for HUDI. (#3216) #MsgLength=51


----
Added: scripts/grafana-dashboard.json|8335 0

Revision: 4f215e2938f78e13bea940013855cb14a6724601
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 03/07/2021 15:55:36
Message:
[HUDI-2057]  CTAS Generate An External Table When Create Managed Table (#3146) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|6 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|3 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|6 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|36 0

Revision: 62a1ad8b3a2a3c1dabba0a4622117636920b6c13
Author: wangxianghu <wangxianghu@apache.org>
Date: 03/07/2021 20:27:37
Message:
[HUDI-1930] Bootstrap support configure KeyGenerator by type (#3170) #MsgLength=132


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|10 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java|12 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|13 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|12 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|10 4

Revision: 6a71412f7804c9cbd34e4c6fc01545a994523bb4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 04/07/2021 22:30:36
Message:
[HUDI-2116] Support batch synchronization of partition datas to  hive metastore to avoid oom problem (#3209) #MsgLength=110


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|4 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|25 7
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java|1 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|15 0

Revision: 98ec017bc8c245119b4b76339d90217fd7ea4e03
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/07/2021 11:34:18
Message:
[HUDI-2126] The coordinator send events to write function when there are no data for the checkpoint (#3219) #MsgLength=109


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|17 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|25 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java|34 0

Revision: 2033d35dc39ea1c5e9b20f7425e99f5cc522d689
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 05/07/2021 11:53:18
Message:
[HUDI-2127] Initialize the maxMemorySizeInBytes in log scanner (#3220) #MsgLength=72


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|1 0

Revision: 2cecb751879cc645227c467fc29c0705baad8030
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 05/07/2021 18:54:05
Message:
[HUDI-2058]support incremental query for insert_overwrite_table/insert_overwrite operation on cow table (#3139) #MsgLength=113


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|27 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|72 2

Revision: e6ee7bdb516a7eb03ee2cddb0545d46a26325590
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/07/2021 20:56:24
Message:
[HUDI-2129] StreamerUtil.medianInstantTime should return a valid date time string (#3221) #MsgLength=91


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|22 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|28 3

Revision: 287d2dd79c5b257c6fe9cb48631b68f50c594ead
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 05/07/2021 22:28:57
Message:
[HUDI-2131] Exception Throw Out When MergeInto With Decimal Type Field (#3224) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|32 18
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|0 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|46 1

Revision: 650c4455c600b0346fed8b5b6aa4cc0bf3452e8c
Author: wangxianghu <wangxianghu@apache.org>
Date: 06/07/2021 00:30:57
Message:
[HUDI-2122] Improvement in packaging insert into smallfiles (#3213) #MsgLength=69


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|5 1

Revision: 32bd8ce088e0f1d82577575ac048e1a44d44e380
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/07/2021 09:02:38
Message:
[HUDI-2132] Make coordinator events as POJO for efficient serialization (#3223) #MsgLength=81


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|7 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java|3 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java|55 28
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|7 7

Revision: bc313727e3e89640edad85364022e057c9864ee9
Author: swuferhong <337361684@qq.com>
Date: 06/07/2021 09:10:37
Message:
[HUDI-2106] Fix flink batch compaction bug while user don't set compaction tasks (#3192) #MsgLength=90


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|2 1

Revision: 0bd20827abee66b8a71bde12251c79428cc6de36
Author: swuferhong <337361684@qq.com>
Date: 06/07/2021 11:01:57
Message:
[HUDI-2133] Support hive1 metadata sync for flink writer (#3225) #MsgLength=66


----
Modified: packaging/hudi-flink-bundle/pom.xml|36 7

Revision: a0f598d371938060a17aca7603c080c22488cf57
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 06/07/2021 11:14:05
Message:
[HUDI-2089]fix the bug that metatable cannot support non_partition table (#3182) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|4 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|46 0

Revision: a4dcbb5c5a2a94e4f69524194d8777d082af31ab
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 06/07/2021 14:03:41
Message:
[HUDI-2028] Implement RockDbBasedMap as an alternate to DiskBasedMap in ExternalSpillableMap (#3194) #MsgLength=171


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|1 1
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java [from hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java]|9 5
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskMap.java|49 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|41 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|8 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBDAO.java|55 4
Added: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDbDiskMap.java|176 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java [from hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestDiskBasedMap.java]|6 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|49 22
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbBasedMap.java|2 2
Added: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbDiskMap.java|204 0

Revision: 1d6978cde4c98c82c184f6404f49ef0f4832fbd6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/07/2021 14:11:20
Message:
[HUDI-2135] Add compaction schedule option for flink (#3226) #MsgLength=62


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|17 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|21 7
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|9 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|12 0

Revision: 05d6e1819078591c904f3601f5f4a1eb28be3495
Author: Sebastian Bernauer <bernauerse@web.de>
Date: 06/07/2021 14:34:46
Message:
[HUDI-2055] Added deltastreamer metric for time of lastSync (#3129) #MsgLength=69


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|6 0

Revision: 2b21ae1775aeb108a4b0e3f89889651a19f93b2f
Author: dwshmilyss <dwshmilyss@163.com>
Date: 06/07/2021 14:36:55
Message:
[HUDI-2046] Loaded too many classes like sun/reflect/GeneratedSerializationConstructorAccessor in JVM metaspace (#3121) #MsgLength=237


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|3 0

Revision: 60e0254e67b488dfab7a7102c9f517b07174f398
Author: Randal Boyle <37844993+jhsb25@users.noreply.github.com>
Date: 06/07/2021 14:40:23
Message:
[HUDI-1996] Adding functionality to allow the providing of basic auth creds for confluent cloud schema registry (#3097) #MsgLength=189


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|1 1
Modified: hudi-utilities/pom.xml|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|40 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java|1 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/schema/TestSchemaRegistryProvider.java|111 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|4 4
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: pom.xml|1 0

Revision: f2621da32f33bf16fb53f8a71eaf7bca24e6d166
Author: wangxianghu <wangxianghu@apache.org>
Date: 06/07/2021 15:14:30
Message:
[HUDI-2093] Fix empty avro schema path caused by duplicate parameters (#3177) #MsgLength=214


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 6
Modified: hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|6 12
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|2 2

Revision: 6e2443468280dfd768afe9ac4d17df7fbbbb51bf
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 06/07/2021 15:35:12
Message:
[HUDI-2113] Fix integration testing failure caused by sql results out of order (#3204) #MsgLength=88


----
Modified: docker/demo/hive-batch1.commands|6 6
Modified: docker/demo/hive-batch2-after-compaction.commands|4 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|12 0

Revision: 221ddd9bf3899e3672210404d51e686770ba446d
Author: Prashant Wason <pwason@uber.com>
Date: 06/07/2021 23:08:46
Message:
[HUDI-2016] Fixed bootstrap of Metadata Table when some actions are in progress. (#3083) #MsgLength=507


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|18 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|41 23
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java|2 0

Revision: 990820476a41b318017ba63dd446911141c929ce
Author: Prashant Wason <pwason@uber.com>
Date: 07/07/2021 14:50:27
Message:
[HUDI-2140] Fixed the unit test TestHoodieBackedMetadata.testOnlyValidPartitionsAdded. (#3234) #MsgLength=96


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|1 2

Revision: 55ecbc662e30068ce0ed49166d254202bd598a8c
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 07/07/2021 22:24:36
Message:
[HUDI-2115] FileSlices in the filegroup is not descending by timestamp (#3206) #MsgLength=80


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|1 5
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieFileGroup.java|50 0

Revision: ea9e5d0e8b7557ef82631ac173d67f15bad13690
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 07/07/2021 23:15:25
Message:
[HUDI-1104] Adding support for UserDefinedPartitioners and SortModes to BulkInsert with Rows (#3149) #MsgLength=102


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieInternalConfig.java|42 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerWithRowsFactory.java|44 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/GlobalSortPartitionerWithRows.java|45 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/NonSortPartitionerWithRows.java|42 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/PartitionSortPartitionerWithRows.java|41 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitionerForRows.java|139 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|21 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|26 10
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|39 5
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|14 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|15 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|35 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|11 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|6 5
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|5 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|5 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java|2 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java|4 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|4 2
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|22 7
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|5 5
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|5 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|4 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java|4 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java|4 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java|4 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java|4 2
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|19 5
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|5 5

Revision: 8f7ad8b178ac3d394f88ac1c21f701138126fa04
Author: Sebastian Bernauer <bernauerse@web.de>
Date: 08/07/2021 02:22:00
Message:
[HUDI-2069] Refactored String constants (#3172) #MsgLength=49


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deser/KafkaAvroSchemaDeserializer.java|4 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|17 14
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|4 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deser/TestKafkaAvroSchemaDeserializer.java|3 3

Revision: 16e90d30eaa14e5c1c4632ad0a90497df601c637
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/07/2021 05:38:26
Message:
[HUDI-1105] Adding dedup support for Bulk Insert w/ Rows (#2206) #MsgLength=66


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java|24 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|15 10
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/SparkRowWriteHelper.java|81 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|103 9
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|29 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|10 3

Revision: 1d3cd065724f3bd4f5cab90f95b5d5c8d0b389ea
Author: Yungthuis <36870105+Yungthuis@users.noreply.github.com>
Date: 08/07/2021 13:31:38
Message:
[HUDI-2134]Add generics to avoif forced conversion in BaseSparkCommitActionExecutor#partition (#3232) #MsgLength=103


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|5 5

Revision: 8c0dbaa9b3b6ced3826d0bc04e0a91272bbcab73
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/07/2021 15:07:27
Message:
[HUDI-2009] Fixing extra commit metadata in row writer path (#3075) #MsgLength=69


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|19 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|13 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|6 3
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|10 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieWriterCommitMessage.java|1 0
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|56 8
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java|7 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java|6 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java|6 2
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|54 8

Revision: de07e61382307d36e664dd31adf7fc4045443fcc
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 08/07/2021 22:30:48
Message:
[HUDI-2099]hive lock which state is WATING should be released, otherwise this hive lock will be locked forever (#3186) #MsgLength=120


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java|29 0

Revision: c50c24908a4eb1ed769efb8878e6075d3e162d55
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 09/07/2021 05:23:52
Message:
[MINOR] Fix build broken from #3186 (#3245) #MsgLength=45


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java|3 3

Revision: 047d956e01b6d7c92320686d8321b2bbe9d2188e
Author: swuferhong <337361684@qq.com>
Date: 09/07/2021 10:10:21
Message:
[HUDI-2136] Fix conflict when flink-sql-connector-hive and hudi-flink-bundle are both in flink lib (#3227) #MsgLength=108


----
Modified: packaging/hudi-flink-bundle/pom.xml|11 0

Revision: 371526789d663dee85041eb31c27c52c81ef87ef
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 09/07/2021 16:06:32
Message:
[HUDI-2087] Support Append only in Flink stream (#3174) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|9 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|12 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|35 9
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|9 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|10 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|79 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|15 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|11 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|49 12

Revision: b4562e86e4b58d6151fdeea12e727b8c8881a213
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 10/07/2021 02:20:09
Message:
Revert "[HUDI-2087] Support Append only in Flink stream (#3174)" (#3251) #MsgLength=135


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|0 12
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|9 35
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|1 9
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 10
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|0 79
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|0 15
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|4 11
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|12 49

Revision: 3b2a4f2b6b49e13997292ecafa9accdd3e7b9efd
Author: wangxianghu <wangxianghu@apache.org>
Date: 10/07/2021 10:16:33
Message:
[HUDI-2147] Remove unused class AvroConvertor in hudi-flink (#3243) #MsgLength=69


----
Deleted: hudi-flink/src/main/java/org/apache/hudi/util/AvroConvertor.java|0 81

Revision: 7c6eebf98cdf4fcd727a7ff15962b918f7bf7aaf
Author: vinoyang <yanghua1127@gmail.com>
Date: 10/07/2021 14:35:40
Message:
[MINOR] Fix some wrong assert reasons (#3248) #MsgLength=47


----
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|3 3

Revision: 783c9cb3693ff7d82cc3d43a4964c64a4da19436
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 10/07/2021 14:49:35
Message:
[HUDI-2087] Support Append only in Flink stream (#3252) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|9 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|12 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|35 9
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|9 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|10 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|86 7
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|15 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|16 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|33 0

Revision: 942a024e74af52e09cabbfe967f5da0ef108bdbb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/07/2021 15:40:30
Message:
[HUDI-2143] Tweak the default compaction target IO to 500GB when flink async compaction is off (#3238) #MsgLength=104


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|10 4

Revision: 9b01d2a04520db6230cd16ef2b29013c013b1944
Author: swuferhong <337361684@qq.com>
Date: 10/07/2021 15:43:36
Message:
[HUDI-2142] Support setting bucket assign parallelism for flink write task (#3239) #MsgLength=84


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 2

Revision: 5804ad8e32ae05758ebc5e47f5d4fb4db371ab52
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 12/07/2021 02:43:38
Message:
[HUDI-1483] Support async clustering for deltastreamer and Spark streaming (#3142) #MsgLength=224


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|100 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|2 54
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|59 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractClusteringClient.java|55 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|12 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java|39 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java|56 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java|9 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|6 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|12 0
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java|42 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|38 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|49 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|41 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|20 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|73 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|6 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|77 21

Revision: ca440ccf881c67c308e72beaf6a561e12e1b4da2
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 12/07/2021 17:31:23
Message:
[HUDI-2107] Support Read Log Only MOR Table For Spark (#3193) #MsgLength=63


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|14 23
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|23 17
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|30 27
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|29 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|28 5
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMereIntoLogOnlyTable.scala|91 0

Revision: c8a2033c275e21a752893fc89311e1f6846f5a78
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 13/07/2021 09:14:17
Message:
[HUDI-2144]Bug-Fix:Offline clustering(HoodieClusteringJob) will cause insert action losing data (#3240) #MsgLength=256


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|44 1
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/ClusteringTestUtils.java|54 0

Revision: b0089b894ad12da11fbd6a0fb08508c7adee68e6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/07/2021 12:24:40
Message:
[MINOR] Fix EXTERNAL_RECORD_AND_SCHEMA_TRANSFORMATION config (#3250) #MsgLength=70


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|12 2

Revision: 7395a56dfb488887aa0e733e52023b167293f737
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 13/07/2021 20:56:51
Message:
[HUDI-2168] Fix for AccessControlException for anonymous user (#3264) #MsgLength=71


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|1 0

Revision: ffa934182ad9abe78c0592772e9328dd6b0d27e6
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 21/06/2021 14:13:25
Message:
[HUDI-2045] Support Read Hoodie As DataSource Table For Flink And DeltaStreamer #MsgLength=80


----
Modified: docker/demo/hive-table-check.commands|7 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 11
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|9 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|9 78
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|7 43
Modified: hudi-sync/hudi-hive-sync/pom.xml|6 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|10 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|95 18
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java|5 6
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/Parquet2SparkSchemaUtils.java|171 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|59 15
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java|84 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|4 0


Revision: ac75bda9290c20c3260aece838acbcef9f034041
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/07/2021 14:43:30
Message:
[HUDI-1969] Support reading logs for MOR Hive rt table (#3033) #MsgLength=64


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|68 62
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|5 1

Revision: aff1a1ed29a5a64932c64195be744969fcc0b08b
Author:  <yuzhaojing@bilibili.com>
Date: 13/07/2021 17:55:12
Message:
[HUDI-2171] Add parallelism conf for bootstrap operator #MsgLength=56


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|21 17
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 1


Revision: 52524b659d2cb64403e8ba87d2fefe6d536156e9
Author: vinoyang <yanghua1127@gmail.com>
Date: 14/07/2021 23:01:52
Message:
[HUDI-2165] Support Transformer for HoodieFlinkStreamer (#3270) #MsgLength=122


----
Added: hudi-flink/src/main/java/org/apache/hudi/sink/transform/ChainedTransformer.java|51 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java|35 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|15 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|19 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|119 59

Revision: 93967404a7bcf75627677239d3438c3f301c3725
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 15/07/2021 00:02:28
Message:
[HUDI-2180] Fix Compile Error For Spark3 (#3274) #MsgLength=50


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java|1 3

Revision: 2debb9b3edcd141aee9335ab9adf01610f28959a
Author: Jintao Guan <jintao.guan@uber.com>
Date: 15/07/2021 00:05:42
Message:
[HUDI-1828] Update unit tests to support ORC as the base file format (#3237) #MsgLength=78


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|20 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java|2 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|42 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|8 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|9 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|23 3
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|8 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|20 16
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java|12 0

Revision: c1810f210e34a72c16ce2fa5a7efb61f717e83b0
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 15/07/2021 00:08:29
Message:
[MINOR] Correct the logs of  enable/not-enable async cleaner service. (#3271) #MsgLength=127


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|1 1

Revision: 75040ee9e5caa0783009b6ef529d6605e82d4135
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 15/07/2021 01:56:08
Message:
[HUDI-2149] Ensure and Audit docs for every configuration class in the codebase (#3272) #MsgLength=195


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|22 17
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|64 47
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|13 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|12 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieInternalConfig.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|19 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|11 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|87 71
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|10 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|9 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/NoOpConsistencyGuard.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|17 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/TimelineLayoutVersion.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|25 21
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|35 93
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 8
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java|7 5

Revision: d024439764ceeca6366cb33689b729a1c69a6272
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 15/07/2021 10:57:38
Message:
[HUDI-2029] Implement compression for DiskBasedMap in Spillable Map (#3128) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|78 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|9 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|8 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java|25 15
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|32 21

Revision: 23a4a96eb416c13d8b1f921cc51286f93d61d9b3
Author: moranyuwen <798537634@qq.com>
Date: 14/07/2021 17:38:34
Message:
[HUDI-2153] Fix BucketAssignFunction Context NullPointerException #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 2

Revision: a62a6cff32e7d7f62ffdf6362fb8876497fd0528
Author: vinoyang <yanghua1127@gmail.com>
Date: 15/07/2021 23:54:38
Message:
[MINOR] Refactor hive sync tool to reduce duplicate code (#3276) #MsgLength=124


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|19 15
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java|1 15

Revision: 38cd74b56328d154c004f04f1335784529d8e93d
Author: Jintao Guan <jintao.guan@uber.com>
Date: 16/07/2021 12:24:41
Message:
[MINOR] Allow users to choose ORC as base file format in Spark SQL (#3279) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|15 6

Revision: 3b264e80d9ccc58ebd0dff3b00f50ad9d481e03c
Author: liujinhui <965147871@qq.com>
Date: 16/07/2021 12:37:07
Message:
[HUDI-1633] Make callback return HoodieWriteStat (#2445) #MsgLength=153


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/HoodieWriteCommitCallback.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/common/HoodieWriteCommitCallbackMessage.java|17 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/impl/HoodieWriteCommitHttpCallback.java|0 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java|1 1

Revision: c8aaf00819b7af9c5575662868aa40f702a8aa1e
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date: 16/07/2021 14:22:53
Message:
[HUDI-2185] Remove the default parallelism of index bootstrap and bucket assigner #MsgLength=82


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|12 7
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|4 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|2 4

Revision: 50c2b76d725a71608a38217370b1ac45cedae405
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date: 16/07/2021 18:05:33
Message:
Revert "[HUDI-2087] Support Append only in Flink stream (#3252)" #MsgLength=95


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BucketType.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|0 12
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|9 35
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|1 9
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 10
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|7 86
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|0 15
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|4 16
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|0 33

Revision: af837d2f1825d14ae8403b2290cf5eab39780343
Author: liujinhui <965147871@qq.com>
Date: 17/07/2021 12:31:06
Message:
[HUDI-1447] DeltaStreamer kafka source supports consuming from specified timestamp (#2438) #MsgLength=92


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|10 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|89 14
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|42 14
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java|4 11
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestKafkaOffsetGen.java|25 10

Revision: 572a2144124b90b2dbef8183ee19a95b21de2716
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 17/07/2021 12:59:18
Message:
[HUDI-1884]  MergeInto Support Partial Update For COW (#3154) #MsgLength=63


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|13 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|45 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|3 9
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala|137 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|1 1

Revision: 2099bf41db76e9a6e946aa41c318b7c0e18be04d
Author:  <yuzhaojing@bilibili.com>
Date: 19/07/2021 15:51:33
Message:
[HUDI-2193] Remove state in BootstrapFunction #MsgLength=46


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|1 34
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 1

Revision: d5026e9a24850bdcce9f6df3686bf2235d7d01c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/07/2021 08:43:48
Message:
[HUDI-2161] Adding support to disable meta columns with bulk insert operation (#3247) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriter.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriter.java]|9 2
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowFileWriterFactory.java]|29 3
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieInternalRowParquetWriter.java]|6 1
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/HoodieRowCreateHandle.java]|4 6
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandleWithoutMetaFields.java|64 0
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetConfig.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetConfig.java]|3 1
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/HoodieRowParquetWriteSupport.java]|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|68 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|9 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|20 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|9 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|54 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|9 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|19 2
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala]|13 5
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala]|10 9
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala]|13 12
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieInternalRowParquetWriter.java]|1 1
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieRowCreateHandle.java]|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|25 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|14 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|21 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|17 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java|49 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|18 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|32 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|73 10
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|39 15
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|45 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|29 12
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|27 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|112 47
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|4 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java|3 3
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriterFactory.java|5 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieDataSourceInternalWriter.java|4 2
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|19 11
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|47 29
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|4 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java|4 3
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java|5 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java|6 4
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java|7 4
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java|8 5
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|19 9
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|45 29

Revision: a086d255c89d12eb42cad8c5ae0e000f3b83bbe6
Author: Samrat <samrat.deb@hotstar.com>
Date: 20/07/2021 09:49:43
Message:
[HUDI-1860] Add INSERT_OVERWRITE and INSERT_OVERWRITE_TABLE support to DeltaStreamer (#3184) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|4 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieDeltaStreamerWrapper.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|20 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertOverwriteNode.java|40 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertOverwriteTableNode.java|40 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|16 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|34 0

Revision: 634163a990569aa4463b58830396f455dd15340c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 20/07/2021 17:46:45
Message:
[HUDI-2145] Create new bucket when NewFileAssignState filled (#3258) #MsgLength=115


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|5 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|22 0

Revision: 858e84b5b2f1c5fbd4266922b494ad0d16f5b92a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/07/2021 10:13:05
Message:
[HUDI-2198] Clean and reset the bootstrap events for coordinator when task failover (#3304) #MsgLength=93


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|4 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|23 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|22 9

Revision: d58a8348dc729c83c60025fc8dbed3ecec28578b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 21/07/2021 12:11:01
Message:
[HUDI-2007] Fixing hudi_test_suite for spark nodes and adding spark bulk_insert node (#3074) #MsgLength=94


----
Modified: hudi-integ-test/pom.xml|72 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|66 0

Revision: 4f1350f7c1f43f3da618d33fe6a6c5e566ee7e8c
Author: satishkotha <satishkotha@uber.com>
Date: 21/07/2021 13:07:22
Message:
[MINOR] Disable codecov (#3314) #MsgLength=33


----
Renamed: .codecov.yml [from .codecov.yml.broken]|8 8

Revision: 5a94b6bf54b18739da55ebde10adf93f133e3204
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 21/07/2021 15:33:27
Message:
[HUDI-2192] Clean up Multiple versions of scala libraries detected Warning (#3292) #MsgLength=84


----
Modified: hudi-cli/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|1 0
Modified: pom.xml|4 0

Revision: 2370a9facbe4418f994f29c426e9b2a255e3abb0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/07/2021 13:34:15
Message:
[HUDI-2204] Add marker files for flink writer (#3316) #MsgLength=55


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|7 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|0 15
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java|8 11

Revision: 151f22e43ace6ec55a92fbe50c63b8e21cace59c
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 22/07/2021 15:33:38
Message:
[HUDI-2195]  Sync Hive Failed When Execute  CTAS In Spark2 And Spark3 (#3299) #MsgLength=79


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 2
Modified: packaging/hudi-spark-bundle/pom.xml|14 1
Modified: pom.xml|2 0

Revision: fe5d2e7f53eb36d9e35acd8d944e59d988dba475
Author: swuferhong <337361684@qq.com>
Date: 22/07/2021 16:35:07
Message:
[HUDI-2206] Fix checkpoint blocked because getLastPendingInstant() action after than restoreWriteMetadata() action (#3326) #MsgLength=124


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 1

Revision: c89bf1de20a1c9eb7873b4671ad3d37bc7111245
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/07/2021 22:56:51
Message:
[HUDI-2205] Rollback inflight compaction for flink writer (#3320) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java|0 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|14 8
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|3 2
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|87 0

Revision: 5a2f3d439e2eb339f989c78801752f84b6dcee38
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 23/07/2021 10:19:43
Message:
[HUDI-2139] MergeInto MOR Table May Result InCorrect Result (#3230) #MsgLength=69


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|10 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java|10 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|14 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|68 40
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMereIntoLogOnlyTable.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|138 0

Revision: 6d592c5896d033c7f781d4a9eef4a43916c084ed
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date: 23/07/2021 11:22:54
Message:
[HUDI-2211] Fix NullPointerException in TestHoodieConsoleMetrics (#3331) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|1 0

Revision: 2c910ee3af6f1e4159d57802e24d4bddabb8fcb8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 23/07/2021 15:21:57
Message:
[HUDI-2212] Missing PrimaryKey In Hoodie Properties For CTAS Table (#3332) #MsgLength=76


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|14 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|8 8
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|10 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|10 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|37 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2

Revision: 71e14cf866d2ddeee7238a3f15b59912c2537943
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date: 23/07/2021 19:57:35
Message:
[HUDI-2213] Remove unnecessary parameter for HoodieMetrics constructor and fix NPE in UT (#3333) #MsgLength=98


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|1 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|7 7
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieConsoleMetrics.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieJmxMetrics.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieMetrics.java|2 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPrometheusReporter.java|2 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/prometheus/TestPushGateWayReporter.java|2 1

Revision: 66207ed91a75ce8e91ccc0c417dc0d310dc36a5c
Author: jsbali <jsbali@uber.com>
Date: 24/07/2021 00:03:15
Message:
[HUDI-1848] Adding support for HMS for running DDL queries in hive-sy (#2879) #MsgLength=565


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|126 0
Added: hudi-common/src/test/resources/complex.schema.avsc|1882 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|4 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|4 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|40 305
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|85 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|233 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|135 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|150 0
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|199 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|72 26
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|317 151
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java|7 4
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|66 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|7 7

Revision: b2f7fcb8c8b7bab65005593c220c51d7f70319c5
Author: Xuedong Luan <luanxuedong2009@gmail.com>
Date: 24/07/2021 10:02:24
Message:
[MINOR] Replace deprecated method isDir with isDirectory (#3319) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|8 8

Revision: a14b19fdd5d68717d3b850a69d4ce27ca3b3d595
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 24/07/2021 12:33:34
Message:
[HUDI-1241] Automate the generation of configs webpage as configs are added to Hudi repo (#3302) #MsgLength=98


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|8 0
Added: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigClassProperty.java|39 0
Added: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java|81 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java|5 0

Revision: a91296f14a037a148d949b2380ad503677e688c7
Author:  <1412359494@qq.com>
Date: 25/07/2021 12:15:57
Message:
[HUDI-2216] Correct the words fiels in the comments to fields (#3339) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|2 2

Revision: a5638b995b5373826d435734fc6cdfbb5fbf7acb
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 26/07/2021 17:39:13
Message:
[MINOR] Close log scanner after compaction completed (#3294) #MsgLength=62


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|1 0

Revision: 5353243449ea16c415b4fb5517eb6d2e2723ba76
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 27/07/2021 01:26:20
Message:
[HUDI-2214]residual temporary files after clustering are not cleaned up (#3335) #MsgLength=81


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|25 0

Revision: 61148c1c43c9ff5ba04b6c174e9e2a006db9e7b3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/07/2021 05:21:04
Message:
[HUDI-2176, 2178, 2179] Adding virtual key support to COW table (#3306) #MsgLength=73


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|5 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|15 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|16 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|7 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java|8 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|13 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|14 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|22 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|13 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|3 3
Modified: hudi-client/hudi-java-client/src/test/resources/testDataGeneratorSchema.txt|3 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java|14 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|16 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|21 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|297 172
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java|50 19
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieKeyLocationFetchHandle.java|22 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|91 69
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|71 27
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|19 0
Modified: hudi-client/hudi-spark-client/src/test/resources/testDataGeneratorSchema.txt|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|16 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|20 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|0 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|35 8
Renamed: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java]|0 0
Renamed: hudi-common/src/main/java/org/apache/hudi/keygen/KeyGenerator.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenerator.java]|0 0
Renamed: hudi-common/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGeneratorInterface.java]|0 0
Renamed: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java]|0 0
Renamed: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorType.java]|0 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroWriteSupport.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|10 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestAvroOrcUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|85 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|8 6
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|3 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|3 3
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source-flattened.avsc|3 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/source.avsc|3 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/sql-transformer.properties|1 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target-flattened.avsc|3 0
Modified: hudi-utilities/src/test/resources/delta-streamer-config/target.avsc|3 0

Revision: 024cf01f0282264da87b13688983df61d2c080fd
Author: xiang2102 <76191829+xiang2102@users.noreply.github.com>
Date: 27/07/2021 08:48:58
Message:
[MINOR] Correct the words accroding in the comments to according (#3343) #MsgLength=134


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|1 1

Revision: 9d2a65a6a6ff9add81411147f1cddd03f7c08e6c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/07/2021 10:58:23
Message:
[HUDI-2209] Bulk insert for flink writer (#3334) #MsgLength=50


----
Modified: hudi-client/hudi-flink-client/pom.xml|24 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java|184 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|205 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriter.java|53 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriterFactory.java|79 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetConfig.java|36 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriteSupport.java|86 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriter.java|77 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/RowDataParquetWriteSupport.java|66 0
Modified: hudi-flink/pom.xml|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|19 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|6 13
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java|0 6
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|225 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java|115 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|169 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|228 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java|93 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|44 7
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java|16 0
Added: hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|96 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|112 55
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|16 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|1 1
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|36 0
Added: hudi-flink/src/test/resources/test_source_5.data|8 0

Revision: ab2e0d0ba2697ba0750ec52fbb3b3a0187734a4b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/07/2021 15:18:05
Message:
[HUDI-2219] Fix NPE of HoodieConfig (#3342) #MsgLength=45


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|11 9

Revision: 925873bb3cacbe7d2cd95d7bf0c0e5a40f56da12
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 27/07/2021 17:30:01
Message:
[HUDI-2217] Fix no value present in incremental query on MOR (#3340) #MsgLength=70


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|62 56
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|8 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|8 0

Revision: 59ff8423f96055fedc7a8ebf0db08666ae725726
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 27/07/2021 20:01:04
Message:
[HUDI-2223] Fix Alter Partitioned Table Failed (#3350) #MsgLength=56


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|12 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|11 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|30 0

Revision: 60758b36ea033a5985eabc53da5f6036ffaa5c0d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/07/2021 20:10:08
Message:
[HUDI-2227] Only sync hive meta on successful commit for flink batch writer (#3351) #MsgLength=85


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|6 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java|1 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|17 3

Revision: 00cd35f90ad0cd96a943edd148bf881fc4b7bb5b
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date: 28/07/2021 08:23:23
Message:
[HUDI-2215] Add rateLimiter when Flink writes to hudi. (#3338) #MsgLength=118


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|1 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java|61 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java|45 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 2

Revision: 8fef50e237b2342ea3366be32950a2b87a9608c4
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 28/07/2021 13:31:03
Message:
[HUDI-2044] Integrate consumers with rocksDB and compression within External Spillable Map (#3318) #MsgLength=100


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|3 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 32
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|42 7
Added: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java|93 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|18 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|11 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/SpillableMapBasedFileSystemView.java|19 8
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java|16 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|105 30
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedFileSystemView.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestSpillableMapBasedIncrementalFSViewSync.java|3 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|3 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|4 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|41 7
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|3 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|5 3
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|3 1

Revision: 8105cf588e28820b9c021c9ed0e59e3f8b6efa71
Author: davehagman <73851873+davehagman@users.noreply.github.com>
Date: 28/07/2021 14:45:09
Message:
[HUDI-2230] Make codahale times transient to avoid serializable exceptions (#3345) #MsgLength=84


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|3 3

Revision: 91c221341293e80c28cce19f1642199495a96f66
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/07/2021 19:26:37
Message:
[HUDI-2245] BucketAssigner generates the fileId evenly to avoid data skew (#3362) #MsgLength=83


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|30 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java|11 8
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|40 11

Revision: eedfadeb46d5538bc7efb2c455469f1b42e9385e
Author: swuferhong <337361684@qq.com>
Date: 28/07/2021 19:40:16
Message:
[HUDI-2244] Fix database alreadyExists exception while hive sync (#3361) #MsgLength=74


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|3 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|5 6
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|47 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|1 2

Revision: 7739518879cf1c30576b938d705947192a2dd9ad
Author: swuferhong <337361684@qq.com>
Date: 28/07/2021 19:45:50
Message:
[HUDI-2228] Add option 'hive_sync.mode' for flink writer (#3352) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 0

Revision: efbbb67420b7082a3960f3d32215dabd959f5525
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/07/2021 09:57:37
Message:
[HUDI-2241] Explicit parallelism for flink bulk insert (#3357) #MsgLength=64


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|8 1

Revision: bbadac7de1bb57300ca7e796ebb401fdbb66a0f8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 29/07/2021 12:30:18
Message:
[HUDI-1425] Performance loss with the additional hoodieRecords.isEmpty() in HoodieSparkSqlWriter#write (#2296) #MsgLength=112


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|6 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|0 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|14 3

Revision: f109c6cb0d187aedfbbcfab48ef5c5bf717e9cca
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 29/07/2021 17:29:10
Message:
[MINOR] fix check style error (#3365) #MsgLength=39


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|0 13
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala|66 0

Revision: 44e41dc9bb7c64f8b517d4a44742019f4dee4f70
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 29/07/2021 23:16:58
Message:
[HUDI-2117] Unpersist the input rdd after the commit is completed to  (#3207) #MsgLength=134


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|12 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|10 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|1 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 19

Revision: c2370402ea16839ec6bb0808bdcd9e7c9556092e
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 30/07/2021 05:36:56
Message:
[HUDI-2251] Fix Exception Cause By Table Name Case Sensitivity For Append Mode Write (#3367) #MsgLength=94


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|7 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|27 0

Revision: 7bdae69053afc5ef604a15806d78317cb976f2ce
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/07/2021 13:22:26
Message:
[HUDI-2253] Refactoring few tests to reduce runningtime. DeltaStreamer and MultiDeltaStreamer tests. Bulk insert row writer tests (#3371) #MsgLength=208


----
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|2 2
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|6 3
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|5 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|6 222
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java|245 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|1 3

Revision: 8b19ec9ca07070a9819502e82091dd14d559ef94
Author: swuferhong <337361684@qq.com>
Date: 30/07/2021 14:25:05
Message:
[HUDI-2252] Default consumes from the latest instant for flink streaming reader (#3368) #MsgLength=89


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|4 3
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|34 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|32 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|12 0

Revision: c4e45a0010d3f13f84d90fbf417c4e5e6c547fda
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/07/2021 16:58:11
Message:
[HUDI-2254] Builtin sort operator for flink bulk insert (#3372) #MsgLength=65


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|14 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|3 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java|126 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java|58 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|31 21
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 1

Revision: f7f5d4cc6db1230e653346953d87c6ff480c56eb
Author: swuferhong <337361684@qq.com>
Date: 30/07/2021 17:24:00
Message:
[HUDI-2184] Support setting hive sync partition extractor class based on flink configuration (#3284) #MsgLength=102


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|13 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|52 0

Revision: 6353fc865f43854e0e185af33e8ad091c8870d78
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 30/07/2021 17:36:57
Message:
[HUDI-2218] Fix missing HoodieWriteStat in HoodieCreateHandle (#3341) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|2 2

Revision: dde57b293cd22ef1bd89f44054f109a52fc20e56
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 02/08/2021 08:07:59
Message:
[HUDI-2164] Let users build cluster plan and execute this plan at once using HoodieClusteringJob for async clustering (#3259) #MsgLength=477


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|85 20
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|122 17

Revision: fe508376faaa3c36e9f821f3d6fee731983798c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 02/08/2021 21:45:09
Message:
[HUDI-2177][HUDI-2200] Adding virtual keys support for MOR table (#3315) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|12 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|12 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|69 91
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|119 50
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|28 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|17 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|19 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|20 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|19 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|12 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|10 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|10 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SampleTestRecord.java|11 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|7 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputSplitUtils.java|8 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|13 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|17 1
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieVirtualKeyInfo.java|65 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|10 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|5 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|27 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|47 14
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|4 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|17 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|18 11
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|8 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|1 1

Revision: b21ae68e6710cab12a95eb62552541b47ef891cb
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 03/08/2021 04:42:46
Message:
[MINOR] Improving runtime of TestStructuredStreaming by 2 mins (#3382) #MsgLength=72


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|11 27

Revision: aa857beee00a764cee90d6e790ee4b0ab4ad4862
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 03/08/2021 11:31:56
Message:
[HUDI-2225] Add a compaction job in hudi-examples (#3347) #MsgLength=59


----
Added: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala|113 0

Revision: bec23bda50b5252013af54dcf39c3a645eea6c7e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/08/2021 13:55:35
Message:
[HUDI-2269] Release the disk map resource for flink streaming reader (#3384) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|2 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|5 22
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|24 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|36 20

Revision: 826a04d1425f47fdd80c293569a359021d1b6586
Author: satishkotha <satishkotha@uber.com>
Date: 04/08/2021 03:07:45
Message:
[HUDI-2072] Add pre-commit validator framework (#3153) #MsgLength=132


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java|122 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|25 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|14 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java|167 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java|99 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java|76 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java|74 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryPreCommitValidator.java|92 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java|78 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|5 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|247 31
Added: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTablePreCommitFileSystemView.java|90 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieValidationException.java|35 0

Revision: 245e1fd17dbf19d9008eaae3bc009bc2be2e663f
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 04/08/2021 05:46:02
Message:
[HUDI-2272] Pass base file format to sync clients (#3397) #MsgLength=128


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 7

Revision: 1ff2d3459a89e384f7f0b4805aa8fe5e6f488f46
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 04/08/2021 05:47:40
Message:
[HUDI-1371] [HUDI-1893] Support metadata based listing for Spark DataSource and Spark SQL (#2893) #MsgLength=99


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java|17 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|11 7
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|22 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|20 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/metadata/TestFileSystemBackedTableMetadata.java|50 12
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|14 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|2 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|128 44
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|58 29
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|19 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|14 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|22 6

Revision: 91bb0d13184c57ec08f02db3337e734bc20739c4
Author: wenningd <wenningding95@gmail.com>
Date: 04/08/2021 08:50:30
Message:
[HUDI-2255] Refactor Datasource options (#3373) #MsgLength=99


----
Modified: docker/demo/sparksql-incremental.commands|32 32
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|4 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|4 4
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|13 13
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala|9 9
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|4 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|4 4
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|5 5
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|4 4
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|4 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|5 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|26 26
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|53 53
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|6 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|44 44
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|28 28
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|12 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|9 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|8 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|19 19
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|16 16
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|13 13
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|36 36
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|17 17
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|18 18
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|30 30
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|25 25
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala|76 76
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|43 43
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|48 48
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|88 88
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|10 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|5 5
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|3 3
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java|10 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|4 4

Revision: b4c14eaa29ed4f3b0f8f44dbfdd75ee68702645b
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 04/08/2021 08:51:25
Message:
[HUDI-2090] Ensure Disk Maps create a subfolder with appropriate prefixes and cleans them up on close  (#3329) #MsgLength=442


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|7 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskMap.java|64 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDbDiskMap.java|11 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java|14 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|1 0

Revision: 02331fc223ca1272e3a9039c6563b9d511a8fbef
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/08/2021 10:54:55
Message:
[HUDI-2258] Metadata table for flink (#3381) #MsgLength=46


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|31 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|38 1
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|191 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|13 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java|1 1
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertPreppedDeltaCommitActionExecutor.java|52 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java|72 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|14 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|15 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/util/FlinkClientUtil.java|0 8
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|16 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|60 14
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|2 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java|26 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|22 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|86 62

Revision: b8b9d6db83657cfdf35832eb26eb7e46ca318048
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 04/08/2021 17:53:20
Message:
[HUDI-2087] Support Append only in Flink stream (#3390) #MsgLength=102


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|7 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java|9 9
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/OverwriteWriteProfile.java]|9 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|6 6
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|10 4
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|76 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|7 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|18 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|42 0

Revision: 5574e092fb40c24dfb417f160e4ac229d9cbcc0c
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 04/08/2021 18:20:29
Message:
[HUDI-2232]  [SQL] MERGE INTO fails with table having nested struct (#3379) #MsgLength=77


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala|16 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|18 48
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|9 146
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|65 0

Revision: 1df5ded433eced3bbb66137bc741e616beab9a70
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 05/08/2021 07:08:50
Message:
[HUDI-2273] Migrating some long running tests to functional test profile (#3398) #MsgLength=82


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|1 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/SparkClientFunctionalTestSuite.java|32 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/metadata/TestHoodieBackedMetadata.java]|12 3
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientOnCopyOnWriteStorage.java]|10 3
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndex.java]|4 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|12 0
Added: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/HoodieSparkFunctionalTestSuite.java|30 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/client/TestBootstrap.java]|4 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestHoodieDatasetBulkInsertHelper.java]|6 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/HoodieSparkSqlWriterSuite.scala]|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|0 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|0 1

Revision: 0dcd6a8fcaff0a8ac2e0fdccbfd14634722185b2
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 05/08/2021 21:57:22
Message:
[HUDI-2233] Use HMS To Sync Hive Meta For Spark Sql (#3387) #MsgLength=61


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|8 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|2 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|8 7
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java|42 0
Modified: packaging/hudi-spark-bundle/pom.xml|0 14
Modified: pom.xml|0 2

Revision: b7586a563253082a00d62ac81e3b5acbb378472a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/08/2021 10:30:52
Message:
[HUDI-2274] Allows INSERT duplicates for Flink MOR table (#3403) #MsgLength=66


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|6 4
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|6 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|1 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|0 18

Revision: 20feb1a8970b7ec658d4d3f1994eaedd24b9874a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/08/2021 11:06:21
Message:
[HUDI-2278] Use INT64 timestamp with precision 3 for flink parquet writer (#3414) #MsgLength=83


----
Modified: hudi-client/hudi-flink-client/pom.xml|6 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/RowDataParquetWriteSupport.java|3 2
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetRowDataWriter.java|357 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|631 0

Revision: 3f8ca1a3552bb866163d3b1648f68d9c4824e21d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 06/08/2021 15:12:10
Message:
[HUDI-2182] Support Compaction Command For Spark Sql (#3277) #MsgLength=62


----
Modified: hudi-spark-datasource/hudi-spark/pom.xml|17 0
Added: hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4|87 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Compaction.scala|40 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|4 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|20 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|135 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|44 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala|61 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|43 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|1 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|1 4
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala|140 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala|75 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala|129 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|2 2
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSpark2ExtendedSqlAstBuilder.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlAstBuilder.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSpark2ExtendedSqlParser.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSqlParser.scala]|2 2
Modified: pom.xml|1 0

Revision: 9ce548edb1b534029fa0f0617dadc3d54cdb8999
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 06/08/2021 16:18:19
Message:
[MINOR] fix compile error in compaction command (#3421) #MsgLength=57


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|1 1

Revision: 70b6bd485f8d1ef9a9b15999edda2472d0b4d65a
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 07/08/2021 10:53:08
Message:
[HUDI-1468] Support custom clustering strategies and preserve commit metadata as part of clustering (#3419) #MsgLength=160


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|12 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java|14 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|21 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieUnboundedCreateHandle.java|51 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/SingleFileHandleCreateFactory.java|59 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringExecutionStrategy.java|9 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|6 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|2 74
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSelectedPartitionsClusteringPlanStrategy.java|66 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|125 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|247 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java|187 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|11 17
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java|44 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|13 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java|7 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|18 169
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|62 32
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|17 8
Modified: hudi-common/src/main/avro/HoodieClusteringPlan.avsc|5 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/ClusteringGroupInfo.java|89 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/RewriteAvroPayload.java|53 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|6 6

Revision: 55d2e786dbae584d2c4917a15d599ab7bb1877fb
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 07/08/2021 19:49:26
Message:
[HUDI-1842] Spark Sql Support For pre-existing Hoodie Table (#3393) #MsgLength=69


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|1 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|25 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|24 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|122 50
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|46 29
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|233 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala|2 2

Revision: 32a50d8ddbbf706bd350e9cf0762f51ab66afcc9
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 08/08/2021 07:07:22
Message:
[HUDI-2243] Support Time Travel Query For Hoodie Table (#3360) #MsgLength=64


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|23 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|9 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|27 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|230 0

Revision: 11ea74958d2aadffb3abe757cface5e2835784db
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 09/08/2021 09:15:42
Message:
[HUDI-2247] Filter file where length less than parquet MAGIC length (#3363) #MsgLength=122


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|24 0

Revision: 41a9986a7641f3232b1edd2a737fd4b7aa430dbf
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 09/08/2021 12:18:31
Message:
[HUDI-2208] Support Bulk Insert For Spark Sql (#3328) #MsgLength=55


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|16 0
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/InsertMode.java|66 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|13 14
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|50 22
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|29 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UuidKeyGenerator.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|219 3

Revision: b4441abcf74951ec0ce28593b96baa84456a97d3
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 10/08/2021 01:10:15
Message:
[HUDI-2194] Skip the latest N partitions when choosing partitions to create ClusteringPlan (#3300) #MsgLength=329


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|2 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/clustering/plan/strategy/TestSparkRecentDaysClusteringPlanStrategy.java|66 0

Revision: 21db6d7a84d4a83ec98c110e92ff9c92d05dd530
Author: swuferhong <337361684@qq.com>
Date: 10/08/2021 20:23:23
Message:
[HUDI-1771] Propagate CDC format for hoodie (#3285) #MsgLength=53


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|11 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/model/HoodieRowData.java|18 36
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|12 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|46 2
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieOperation.java|125 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|23 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|16 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|18 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|10 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|12 4
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|8 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|9 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java|3 17
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|6 7
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|8 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|128 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|92 13
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java|8 0
Added: hudi-flink/src/main/java/org/apache/hudi/util/ChangelogModes.java|46 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|9 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|27 20
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|19 10
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|114 8
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|81 4
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestHoodieRowData.java|136 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java|1 0
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|12 6

Revision: a18bc839d18bee634d0e35d4761bd156f0230f79
Author: xuzifu666 <1206332514@qq.com>
Date: 10/08/2021 23:18:12
Message:
[HUDI-2288] Support storage on ks3 for hudi (#3434) #MsgLength=88


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 73d898322b69f8d3831bf209dceb069ea61f5064
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 10/08/2021 23:25:49
Message:
[MINOR] Fix travis from errors (#3432) #MsgLength=40


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|2 0
Added: hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire.properties|31 0
Added: hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire.properties|31 0

Revision: 1196736185272afaeda37328f1c52ccd5c6dc017
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/08/2021 00:15:37
Message:
[HUDI-1129] Improving schema evolution support in hudi (#2927) #MsgLength=328


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|29 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|40 7
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/SparkBasedReader.java|12 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|32 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|7 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|34 36
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|130 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|22 40
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|48 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|25 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|12 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|4 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|185 54
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java|23 18
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|6 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/source_evolved.avsc|139 0

Revision: 0e1c592c697c8e55491d869fb18126c3ff1d87a2
Author: vinoyang <yanghua1127@gmail.com>
Date: 11/08/2021 03:05:31
Message:
[MINOR] Delete useless com.uber.hoodie.hadoop.hive.HoodieCombineHiveInputFormat (#3298) #MsgLength=89


----
Deleted: hudi-hadoop-mr/src/main/java/com/uber/hoodie/hadoop/hive/HoodieCombineHiveInputFormat.java|0 59

Revision: abbc8328e67fcf10b065671715ed0bd1bb80d897
Author: Damon P. Cortesi <d.lifehacker@gmail.com>
Date: 11/08/2021 04:01:45
Message:
[MINOR] Fix contribution link in PULL_REQUEST_TEMPLATE (#3425) #MsgLength=64


----
Modified: .github/PULL_REQUEST_TEMPLATE.md|2 2

Revision: d1b4aa59bfe6bcad076196e1007eb9f08de6622b
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 11/08/2021 05:48:53
Message:
[HUDI-2042] Compare the field object directly in OverwriteWithLatestAvroPayload (#3108) #MsgLength=89


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java|9 1

Revision: 5448cdde7e45c39b8bf8275d9f3ee425c9bfa90e
Author: swuferhong <337361684@qq.com>
Date: 11/08/2021 10:20:55
Message:
[HUDI-2170] [HUDI-1763] Always choose the latest record for HoodieRecordPayload (#3401) #MsgLength=89


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/bootstrap/BootstrapRecordPayload.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieJsonPayload.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/EmptyHoodieRecordPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|6 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|8 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java|5 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|21 4
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|3 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/AvroBinaryTestPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java|11 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|35 11

Revision: 8255a86cb4d7f2173f0adcf0d752096b0b4df78c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 11/08/2021 11:25:41
Message:
[HUDI-1939] remove joda time in hivesync module (#3430) #MsgLength=57


----
Modified: hudi-sync/hudi-hive-sync/pom.xml|0 5
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|8 8
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java|8 8
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|8 125
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|14 14
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|8 8

Revision: a5e496fe23c3cd89ceff0e4c49d27df325ba5bd8
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 11/08/2021 12:17:39
Message:
[HUDI-2292] MOR should not predicate pushdown when reading with payload_combine type (#3443) #MsgLength=94


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|16 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|13 1

Revision: c9fa3cffaf01ca5b84cf93ccd4c2823bf6cac71d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/08/2021 13:03:01
Message:
[HUDI-1774] Adding support for delete_partitions to spark data source (#3437) #MsgLength=79


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|105 81
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|112 107

Revision: aa11989eade1bd268d83e6aafe15f2ea60be67d2
Author: Prashant Wason <pwason@uber.com>
Date: 11/08/2021 22:39:48
Message:
[HUDI-2286] Handle the case of failed deltacommit on the metadata table. (#3428) #MsgLength=476


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|58 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|5 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|24 0

Revision: 29332498af420596f42c3b0ff4a2fe804d7d7dfc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/08/2021 22:55:43
Message:
[HUDI-2298] The HoodieMergedLogRecordScanner should set up the operation of the chosen record (#3456) #MsgLength=103


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|7 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|37 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|24 0

Revision: 4783176554e7d4ae7b7296cf633d750ae27e65d9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/08/2021 23:48:13
Message:
[HUDI-1138] Add timeline-server-based marker file strategy for improving marker-related latency (#3233) #MsgLength=207


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineServerHelper.java|1 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|29 25
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|53 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|7 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|5 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/MarkerFiles.java]|34 84
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerType.java|27 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/TimelineServerBasedWriteMarkers.java|179 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java|186 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java|58 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|6 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|4 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|4 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|4 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|4 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|8 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|5 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|21 17
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java|9 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|8 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|5 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|21 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|5 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|2 2
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestDirectWriteMarkers.java|74 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java|141 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestMarkerFiles.java]|27 56
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|14 11
Added: hudi-common/src/main/java/org/apache/hudi/common/table/marker/MarkerOperation.java|41 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|21 1
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieRemoteException.java|3 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|95 28
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|146 28
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/BaseFileHandler.java|5 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/FileSliceHandler.java|6 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/Handler.java|6 2
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java|198 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/TimelineHandler.java|5 2
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/BatchedMarkerCreationContext.java|57 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/BatchedMarkerCreationRunnable.java|51 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationDispatchingRunnable.java|90 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationFuture.java|69 0
Added: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java|375 0
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|4 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|9 1

Revision: 9e8308527a3a19bf58397ededfbf91a70568060e
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 12/08/2021 01:54:44
Message:
[HUDI-1518] Remove the logic that delete replaced file when archive (#3310) #MsgLength=283


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/ReplaceArchivalHelper.java|0 52
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|0 31
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|0 79

Revision: b3e430f24bfedd94d3ceae028dce2e0053e268a6
Author: Prashant Wason <pwason@uber.com>
Date: 12/08/2021 07:47:16
Message:
[HUDI-2017] Add API to set a metric in the registry. (#3084) #MsgLength=530


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metrics/DistributedRegistry.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/metrics/Counter.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/metrics/LocalRegistry.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/metrics/Registry.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java|5 5

Revision: dc3cbb28e79b7d17569a027e1b408ab33bee18cd
Author: vinoyang <yanghua1127@gmail.com>
Date: 12/08/2021 09:11:00
Message:
[MINOR] Correct TestKafkaSource class and comment (#3451) #MsgLength=59


----
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java]|2 2

Revision: c0fc9cdaf3f2e77074e43624b167207c2fb8a784
Author: liujinhui <965147871@qq.com>
Date: 12/08/2021 18:19:05
Message:
MINOR (#3459) #MsgLength=57


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieDeltaStreamerException.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/exception/HoodieDeltaStreamerException.java]|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|1 1

Revision: b651336454ec01c4331d2f46b0281a0065500c79
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 12/08/2021 20:02:39
Message:
[HUDI-2294] Adding virtual keys support to deltastreamer (#3450) #MsgLength=66


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|13 3

Revision: 76bc686a77a485544c9e75cfefa59fa021470a0c
Author: Prashant Wason <pwason@uber.com>
Date: 13/08/2021 06:45:57
Message:
[HUDI-1292] Created a config to enable/disable syncing of metadata table. (#3427) #MsgLength=394


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|6 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|50 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|17 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|1 1

Revision: 0544d70d8f4204f4e5edfe9144c17f1ed221eb7c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/08/2021 11:31:04
Message:
[MINOR] Deprecate older configs (#3464) #MsgLength=124


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|4 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|14 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|91 51
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|48 24
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|68 24
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|71 35
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|27 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|148 116
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java|10 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|5 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestSparkIOUtils.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|81 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|9 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|10 10
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|11 11

Revision: 6602e55cd29d8ee028730cf8b0ebfed48f3c8ab0
Author:  <dongkelun01@inspur.com>
Date: 13/08/2021 14:10:07
Message:
[HUDI-2279]Support column name matching for insert * and update set * in merge into (#3415) #MsgLength=93


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|19 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|83 0

Revision: 6a4100bb9143b5daffa4c656589ba6ee93fa5838
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/08/2021 16:31:16
Message:
[MINOR] Tweak change log more as FULL for flink streaming source (#3466) #MsgLength=74


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|0 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java|5 1

Revision: d4c2974eae98bde4ae21cd38c88e77227eb4b2c6
Author: liujinhui <965147871@qq.com>
Date: 13/08/2021 19:59:51
Message:
MINOR fix method use error (#3467) #MsgLength=36


----
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|1 1

Revision: 968927801470953f137368cf146778a7f01aa63f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 14/08/2021 01:01:26
Message:
[HUDI-1363] Provide option to drop partition columns (#3465) #MsgLength=120


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|5 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|6 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|11 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|35 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|22 0

Revision: 642b1b671de8c6a35ae7858c9b03d3dff70889dd
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/08/2021 07:29:22
Message:
[HUDI-2151]  Flipping defaults (#3452) #MsgLength=40


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 1

Revision: 8eed4406949992086fe36b8da0029de98f443588
Author: Prashant Wason <pwason@uber.com>
Date: 14/08/2021 12:23:34
Message:
[HUDI-2119] Ensure the rolled-back instance was previously synced to the Metadata Table when syncing a Rollback Instant. (#3210) #MsgLength=1742


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|14 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|0 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|0 18
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|0 19
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|178 35
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|14 21
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|19 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|7 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|38 14
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/TimelineMergedTableMetadata.java|18 3

Revision: b7da6cb33d27002525e40913dd63f077aeba26f0
Author: liujinhui <965147871@qq.com>
Date: 14/08/2021 14:53:39
Message:
[HUDI-2307]  When using delete_partition with ds should not rely on the primary key (#3469) #MsgLength=151


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|8 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|61 54
Modified: style/scalastyle.xml|1 1

Revision: 9056c68744a3f31ac2625e004ec6e155d2e86be9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/08/2021 20:18:49
Message:
[HUDI-2305] Add MARKERS.type and fix marker-based rollback (#3472) #MsgLength=278


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java|3 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerBasedRollbackUtils.java|78 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java|0 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java|1 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|4 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java|16 25
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java|8 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/marker/MarkerType.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerType.java]|8 7
Added: hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java|219 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java|45 61

Revision: 5cc96e85c13e56e866ca15063bf08c204d967377
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 14/08/2021 20:25:10
Message:
[HUDI-1897] Deltastreamer source for AWS S3 (#3433) #MsgLength=500


----
Modified: hudi-utilities/pom.xml|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|19 13
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|137 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsSource.java|87 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/CloudObjectsSelector.java|280 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/S3EventsMetaSelector.java|161 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestS3EventsSource.java|112 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestCloudObjectsSelector.java|226 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestS3EventsMetaSelector.java|105 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/CloudObjectTestUtils.java|98 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractCloudObjectsSourceTestBase.java|114 0
Modified: pom.xml|1 0

Revision: 18e6b79947b4aa0cbaeebd1918fcb14864d3f171
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 15/08/2021 05:49:22
Message:
[MINOR] Adding back all old default val members to DataSourceOptions (#3474) #MsgLength=239


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|296 134

Revision: 23dca6c237517bc9d9407556af6b1042f09ae76b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 15/08/2021 08:20:23
Message:
[HUDI-2268] Add upgrade and downgrade to and from 0.9.0 (#3470) #MsgLength=217


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java|13 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java|14 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java|19 4
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java|42 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToZeroDowngradeHandler.java|52 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseTwoToOneDowngradeHandler.java|142 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseZeroToOneUpgradeHandler.java|144 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java|5 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java|10 4
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|30 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|4 18
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java|32 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|9 98
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|33 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|4 18
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java|10 5
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java|35 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|9 98
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|37 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|180 29
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java|6 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|3 19
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java|0 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 4

Revision: 3e301196bfa4fe8d36b99034ba40411da8c92792
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 15/08/2021 09:51:09
Message:
Moving to 0.10.0-SNAPSHOT on master branch. #MsgLength=44


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 09e625becd8d7e86a8f94610a098966723bb2b89
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 15/08/2021 19:08:55
Message:
[HOT-FIX] Add apache license to spark_command.txt.template (#3477) #MsgLength=68


----
Modified: docker/demo/config/test-suite/templates/spark_command.txt.template|16 0

Revision: 4d508ef673efc3f73dcceff217e8c4cbfc44b38c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/08/2021 01:17:00
Message:
[MINOR] Fix SelectPackages in HoodieSparkFunctionalTestSuite (#3476) #MsgLength=70


----
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/HoodieSparkFunctionalTestSuite.java|2 2

Revision: 66f951322a3872073b86896fa5c10b51a0f6e4ab
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/08/2021 18:14:05
Message:
[HUDI-2191] Bump flink version to 1.13.1 (#3291) #MsgLength=50


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|13 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java|6 8
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 4
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|7 9
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|16 19
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|11 11
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|4 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|39 41
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|23 19
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|70 66
Added: hudi-flink/src/test/java/org/apache/hudi/utils/SchemaBuilder.java|71 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|3 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|31 32
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|1 1
Modified: pom.xml|1 1

Revision: 99663d370b5de14cc85f28bb36f1022c2c0bf478
Author: ayachi_nene <1710082010@qq.com>
Date: 18/08/2021 02:09:53
Message:
[HUDI-2301] fix FileSliceMetrics utils bug (#3487) #MsgLength=52


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/FileSliceMetricUtils.java|9 6
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/utils/TestFileSliceMetricUtils.java|108 0

Revision: 5ee35a0a92ab0de6c36885a515fad04c08109c78
Author: liujinhui <965147871@qq.com>
Date: 18/08/2021 13:45:48
Message:
HUDI-1674 (#3488) #MsgLength=19


----
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|11 1
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|41 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|2 0

Revision: b7a0d76fc99144fc2eb223cda62ac9d67528c6a2
Author: leiqiang <tsianglei@gmail.com>
Date: 13/07/2021 11:26:12
Message:
[HUDI-2167] HoodieCompactionConfig get HoodieCleaningPolicy NullPointerException #MsgLength=105


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 2

Revision: 1fed44af84b4726d40c57f1dad012c8e4a510f91
Author: swuferhong <337361684@qq.com>
Date: 19/08/2021 17:15:26
Message:
[HUDI-2316] Support Flink batch upsert (#3494) #MsgLength=48


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|5 5
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapFunction.java|65 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|165 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|11 96
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|72 27
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|12 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|10 0

Revision: b15c3cf9a9772843e853ae502887b2a05bc14208
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 19/08/2021 19:03:54
Message:
[HUDI-1363] Include _hoodie_operation meta column in removeMetadataFields (#3501) #MsgLength=83


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|1 1

Revision: 7dddd5440650ae18099ba1ee27ad811220fa9e7c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/08/2021 19:54:56
Message:
[MINOR] Fixing release validation script (#3493) #MsgLength=50


----
Modified: scripts/release/validate_staged_release.sh|2 2

Revision: 9762e4c08c0ff953cc62e72b1295db4fd4c002c5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/08/2021 23:21:20
Message:
[MINOR] Some cosmetic changes for Flink (#3503) #MsgLength=49


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapFunction.java|9 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|21 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|104 99
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|46 0

Revision: 37c29e75dcbd9f045bb1737bb734e2b408081182
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 20/08/2021 00:07:12
Message:
[HUDI-2322] Use correct meta columns while preparing dataset for bulk insert (#3504) #MsgLength=86


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|6 2

Revision: c350d05dd3301f14fa9d688746c9de2416db3f11
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 20/08/2021 04:36:40
Message:
Restore 0.8.0 config keys with deprecated annotation (#3506) #MsgLength=166


----
Modified: docker/demo/sparksql-incremental.commands|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|8 8
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|4 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/util/HoodieCommitCallbackFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|95 23
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|145 39
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|237 60
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|205 66
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|197 50
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|16 39
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|35 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java|100 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java|79 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|78 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|4 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java|17 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|138 27
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteCommitCallbackConfig.java|54 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|592 245
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/factory/HoodieAvroKeyGeneratorFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|9 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|23 22
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|9 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseQPSResourceAllocator.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|10 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestRollbackUtils.java|6 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|19 19
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|17 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|170 33
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|54 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/ConsistencyGuardConfig.java|79 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|13 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePayloadProps.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|160 59
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|50 50
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|177 47
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|31 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|4 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieDeltaWriteStat.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|5 4
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|16 16
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|7 7
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 4
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|16 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|7 7
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|4 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|7 7
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|3 3
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|5 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|34 23
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|9 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|33 34
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|7 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|28 28
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|8 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|17 16
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|14 13
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|7 7
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|14 13
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|28 29
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|11 11
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|15 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|17 17
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestEmptyCommit.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|19 21
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|23 23
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|5 5
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|4 4
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|3 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|6 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallback.java|15 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/kafka/HoodieWriteCommitKafkaCallbackConfig.java|42 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|7 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|11 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/checkpointing/TestKafkaConnectHdfsProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|4 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|2 2

Revision: 49829f8822bc6bc9389a794e9c08b06c1b1909cf
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 20/08/2021 14:21:10
Message:
[HUDI-2339] Create Table If Not Exists Failed After Alter Table (#3510) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|25 0

Revision: e39d0a2f2852ef51c524e5b16a1cecb099674eed
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 20/08/2021 17:42:59
Message:
Keep non-conflicting names for common configs between DataSourceOptions and HoodieWriteConfig (#3511) #MsgLength=103


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestCreateAvroKeyGeneratorByTypeWithFactory.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/factory/TestHoodieAvroKeyGeneratorFactory.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|11 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|11 11
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|3 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|9 9

Revision: c7c517f14c3fb5260fa7f3abca5d50a299870b38
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/08/2021 07:21:35
Message:
[HUDI-2340] Merge the data set for flink bounded source when changelog mode turns off (#3513) #MsgLength=95


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|8 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|33 0

Revision: ab3fbb88950ca351723f2f46da9f40ba325a03b5
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 21/08/2021 20:03:03
Message:
[HUDI-2342] Optimize Bootstrap operator (#3516) #MsgLength=94


----
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapFunction.java]|74 64
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java|0 53
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java|0 50
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapFunction.java]|13 17
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|5 5
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|2 2
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java|78 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java|0 2
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockFunctionInitializationContext.java]|15 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|44 32

Revision: be8c1e499fc94483c2a26687072942515b793368
Author:  <dongkelun01@inspur.com>
Date: 21/08/2021 21:53:16
Message:
Support referencing subquery with column aliases by table alias in merge into (#3380) #MsgLength=87


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|56 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/hudi/parser/HoodieSpark2ExtendedSqlAstBuilder.scala|3 3

Revision: 05e6f44d5377804d4c8f727fba27679d1cdd1de3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/08/2021 13:03:22
Message:
[MINOR] Fix BatchBootstrapOperator initialization (#3520) #MsgLength=59


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java|7 2

Revision: de94787a85b272f79181dff73907b0f20855ee78
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 24/08/2021 21:45:17
Message:
[HUDI-2345] Hoodie columns sort partitioner for bulk insert (#3523) #MsgLength=119


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|17 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|10 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|17 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|37 17

Revision: 15bf01dcb770c22e2cf8ed861c84ba3565927f5b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 24/08/2021 22:58:47
Message:
[HUDI-2349] Adding spark delete node to integ test suite (#3528) #MsgLength=66


----
Added: docker/demo/config/test-suite/cow-spark-long-running.yaml|73 0
Added: docker/demo/config/test-suite/cow-spark-simple.yaml|66 0
Modified: hudi-integ-test/README.md|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|7 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala|78 0

Revision: 04ede8eecf5ad7d710f34ea3d00b8f19365af2f2
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date: 25/08/2021 01:06:38
Message:
[HUDI-2262] reduce build warnings (#3481) #MsgLength=43


----
Modified: docker/hoodie/hadoop/hive_base/pom.xml|2 2
Modified: docker/hoodie/hadoop/prestobase/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|1 1
Modified: hudi-client/hudi-java-client/pom.xml|1 1
Modified: hudi-client/hudi-spark-client/pom.xml|1 1

Revision: a60fab3a5c6df1b9b3d32f192d4c6ca4ff1d6f6d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/08/2021 10:56:14
Message:
[HUDI-2352] The upgrade downgrade action of flink writer should be singleton (#3531) #MsgLength=86


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 0

Revision: 486bc7dc3b4cf41642069c5fa1be204aebe6da5d
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 26/08/2021 04:57:05
Message:
[MINOR] Update DOAP with 0.9.0 Release (#3537) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: be57e422004e93e2fefb2d52052e1e3b8916f6b0
Author: ayachi_nene <1710082010@qq.com>
Date: 26/08/2021 16:45:52
Message:
[HUDI-2366] fix  too many logs (#3543) #MsgLength=40


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|0 1

Revision: cc5256a7d8aff1f817b023148be7f1e0396b203d
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date: 26/08/2021 16:54:41
Message:
[HUDI-2357] MERGE INTO doesn't work for tables created using CTAS (#3534) #MsgLength=75


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|3 2

Revision: 73fdcf37dfa8ca4585533401f1ddabef081b72b4
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 26/08/2021 20:34:05
Message:
[HUDI-2368] Catch Throwable in BoundedInMemoryExecutor (#3546) #MsgLength=109


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|3 3

Revision: 0f39137ba854a2f808e2108c6aa10f4260b00844
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/08/2021 21:00:30
Message:
[HUDI-2321] Use the caller classloader for ReflectionUtils (#3535) #MsgLength=701


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|6 0

Revision: 55a80a817d21cfcc1c8990da36ba58af82c5a3e3
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date: 26/08/2021 22:01:48
Message:
[HUDI-2264] Refactor HoodieSparkSqlWriterSuite to add setup and teardown (#3544) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|554 561

Revision: 9850e90e2e0fa602a5346911810bd65c5f3e0ea8
Author: mikewu <xingbowu@gmail.com>
Date: 27/08/2021 10:14:04
Message:
[HUDI-2229] Refact HoodieFlinkStreamer to reuse the pipeline of HoodieTableSink (#3495) #MsgLength=140


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|5 59
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|12 67

Revision: 562e28f07918be76ab674d509a0e237d51533e02
Author:  <dongkelun01@inspur.com>
Date: 27/08/2021 17:17:22
Message:
[HUDI-2365]Optimizing overwriteField method with Objects.equals (#3542) #MsgLength=126


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|2 1

Revision: 694300477f61a9169c15cac1ddf67368dbf5dd1b
Author: Rahil Chertara <rchertar@amazon.com>
Date: 23/08/2021 12:55:11
Message:
[HUDI-2359] Add basic "hoodie_is_deleted" unit tests to TestDataSource classes #MsgLength=79


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|27 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|37 0


Revision: 57668d02a0aa723dd4b2245dc7659fe18113eb59
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/08/2021 20:16:54
Message:
[HUDI-2371] Improvement flink streaming reader (#3552) #MsgLength=160


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|37 7
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|108 45
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|27 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|41 4
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|31 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|68 7
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|32 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|2 3

Revision: bf5a52e51bbeaa089995335a0a4c55884792e505
Author:  <dongkelun01@inspur.com>
Date: 30/08/2021 10:01:15
Message:
[HUDI-2320] Add support ByteArrayDeserializer in AvroKafkaSource (#3502) #MsgLength=74


----
Modified: hudi-utilities/pom.xml|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|18 4

Revision: d59c8044f8dafbd4ebef979d3ee2eb09b410884e
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 31/08/2021 11:28:35
Message:
[HUDI-2378] Add configs for common and pre validate (#3564) #MsgLength=130


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePreCommitValidatorConfig.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java|3 3

Revision: f66e1ce9bf56fb4478d8b14d791644cc817924ca
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 01/09/2021 16:47:52
Message:
[HUDI-2379] Include the pending compaction file groups for flink (#3567) #MsgLength=90


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|53 8
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|35 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|1 1

Revision: 38c9b85aa8aa8f72876b112e376f300076fafacd
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/09/2021 23:51:00
Message:
[HUDI-2280] Use GitHub Actions to build different scala spark versions (#3556) #MsgLength=80


----
Deleted: .github/actions/bot/package.json|0 36
Deleted: .github/actions/bot/src/action.js|0 100
Modified: .github/workflows/bot.yml|28 36
Deleted: .travis.yml|0 50
Modified: pom.xml|4 1
Deleted: scripts/report_coverage.sh|0 34
Deleted: scripts/run_travis_tests.sh|0 42

Revision: 21fd6edfe7721c674b40877fbbdbac71b36bf782
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 02/09/2021 11:14:09
Message:
[HUDI-2384] Change log file size config to long (#3577) #MsgLength=57


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2

Revision: 7a1bd225cab6b1737d689d3659351a8c950a4d78
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 02/09/2021 16:32:40
Message:
[HUDI-2376] Add pipeline for Append mode (#3573) #MsgLength=95


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|0 5
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|25 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|6 188
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java|6 22
Added: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|137 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteOperator.java|41 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|10 26
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java|6 71
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|26 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java|0 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|258 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteFunction.java|47 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteOperator.java|55 0
Renamed: hudi-flink/src/main/java/org/apache/hudi/sink/common/WriteOperatorFactory.java [from hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorFactory.java]|13 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|2 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|25 6
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|10 10
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|19 19
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|8 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|12 14
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/AbstractColumnReader.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java|10 10
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java|0 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|0 4
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|8 16
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java|10 4
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java|141 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|1 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|32 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|8 8

Revision: 79b896f071c73a29f7af22e2f5328bd42746fadb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/09/2021 20:58:12
Message:
[HUDI-2392] Do not send partition delete record when changelog mode enabled (#3586) #MsgLength=85


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|2 1

Revision: 11398e84801167756f554c727e829ba2d6c700c6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/09/2021 00:18:18
Message:
[MINOR] Skip checkstyle and rat in Azure (#3593) #MsgLength=193


----
Modified: azure-pipelines.yml|2 2

Revision: 6bd3ca98d69679630ce5c35e7a0dabcc0cfa6c5d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/09/2021 04:17:17
Message:
[HUDI-1989] Fix flakiness in TestHoodieMergeOnReadTable (#3574) #MsgLength=404


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/Assertions.java|13 0
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/functional/SparkClientFunctionalTestSuite.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/SparkClientFunctionalTestSuite.java]|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|44 1307
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|168 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|263 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|267 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|643 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|296 0
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/CheckedFunction.java|25 0

Revision: 073c318d9fd83d40b1dde1cc149def617ce31e8f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/09/2021 11:08:11
Message:
[HUDI-1989] Disable HDFSParquetImporter related tests (#3597) #MsgLength=136


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|4 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|4 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|2 0

Revision: e9bf1c1186532e6958d5671fd6244958cba16dbe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/09/2021 15:53:55
Message:
[HUDI-2380] The default archive folder should be 'archived' (#3568) #MsgLength=69


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 5

Revision: 7592ddd776148bf750043d31d74211670b961c46
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/09/2021 00:25:57
Message:
[HUDI-2399] Rebalance CI jobs for shorter wait time (#3604) #MsgLength=61


----
Modified: azure-pipelines.yml|100 33

Revision: f218693f5d20491802c48bb02b50a32e573100db
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/09/2021 12:07:55
Message:
[MINOR] Fixing some functional tests by moving to right packages (#3596) #MsgLength=74


----
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestHBaseIndex.java]|5 1
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMarkerBasedRollbackStrategy.java]|3 3

Revision: cf002b6918ffcdb7528857861372dd73ddb7e31d
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/09/2021 06:53:53
Message:
[HUDI-2079] Make CLI command tests functional (#3601) #MsgLength=284


----
Modified: hudi-cli/pom.xml|15 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java|1 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|5 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|16 24
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|16 12
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|53 49
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|14 12
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|11 9
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|25 19
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|30 19
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|11 9
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|12 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|7 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|12 12
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|25 21
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTempViewCommand.java|20 14
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|15 12
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUtilsCommand.java|7 5
Added: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java|133 0
Added: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestSuite.java|31 0

Revision: eb5e7eec0a080989a4ad3c867699b814dc502ba1
Author: liujinhui <965147871@qq.com>
Date: 07/09/2021 18:19:39
Message:
MINOR_CHECKSTYLE (#3616) #MsgLength=40


----
Modified: hudi-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DagNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DelayNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/HoodieTestHiveBase.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|0 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadGenerator.java|6 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/schema/TestSchemaRegistryProvider.java|2 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1

Revision: ea59a7ff5f59a4b7f5491107f93e82c47ffc255b
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 08/09/2021 00:44:30
Message:
[HUDI-2080] Move to ubuntu-18.04 for Azure CI (#3409) #MsgLength=351


----
Modified: README.md|2 2
Modified: azure-pipelines.yml|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|9 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|7 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|7 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|0 117
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|173 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|1 68
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala|121 0

Revision: cf3a2ead32f432757668d49a9138f891110aa9a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/09/2021 10:43:54
Message:
[HUDI-2401] Load archived instants for flink streaming reader (#3610) #MsgLength=71


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|8 2

Revision: 81acb4cafe07241b411345fd99a48c1e27b07c48
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 08/09/2021 12:54:58
Message:
[MINOR] Remove commenting from Github, JIRA bridge (#3620) #MsgLength=60


----
Modified: .asf.yaml|1 1

Revision: db2ab9a15092c1423ee308b1bba7dd7e2f5027a8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/09/2021 14:52:39
Message:
[HUDI-2403] Add metadata table listing for flink query source (#3618) #MsgLength=71


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Added: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|149 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|7 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|3 0
Added: hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|72 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|2 7

Revision: 3c4eb60913cac9cd22c768ae404b9e4078df7a9d
Author: liujinhui <965147871@qq.com>
Date: 09/09/2021 15:53:58
Message:
Add the document to the PUSHGATEWAY configuration item (#3627) #MsgLength=64


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java|3 3

Revision: 4abcb4f6591448ef1d9bbc9aa237758ae75ecba7
Author: Wei <hsdcloud@163.com>
Date: 09/09/2021 23:21:16
Message:
[MINOR] Remove unused variables (#3631) #MsgLength=41


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitConfig.java|0 2

Revision: 57c8113ee1941615a03f0efc2e3d46b634e940eb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 09/09/2021 23:29:04
Message:
[HUDI-2408] Deprecate FunctionalTestHarness to avoid init DFS (#3628) #MsgLength=71


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|24 25
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|3 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|0 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestChainedTransformer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|2 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|31 28
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java|2 2

Revision: 56d08fbe708625fe49f7c60d3f769c3dff554c19
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 10/09/2021 02:45:28
Message:
[HUDI-2351] Extract common FS and IO utils for marker mechanism (#3529) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/DirectWriteMarkers.java|1 27
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseTwoToOneDowngradeHandler.java|9 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|87 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|19 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java|31 35
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|141 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestFileIOUtils.java|11 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java|2 28

Revision: 512ca42d14a29e5d8da02198345024f2f83999d9
Author: SteNicholas <programgeek@163.com>
Date: 10/09/2021 13:42:11
Message:
[MINOR] Correct the comment for the parallelism of tasks in FlinkOptions (#3634) #MsgLength=82


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|4 4

Revision: 44b9bc145e0d101bcc688f11c6a30ebcbb7a4a7d
Author: wangxianghu <wangxianghu@apache.org>
Date: 10/09/2021 18:58:34
Message:
[HUDI-2411] Remove unnecessary method overriden and note (#3636) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java|1 12

Revision: cf1543185217c8acd306218a7d00d1022dd35584
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/09/2021 21:02:01
Message:
[HUDI-2393] Add yamls for large scale testing (#3594) #MsgLength=55


----
Added: docker/demo/config/test-suite/large-scale/cow-large-scale-long-running.yaml|71 0
Added: docker/demo/config/test-suite/large-scale/cow-large-scale-sanity.yaml|71 0
Added: docker/demo/config/test-suite/large-scale/mor-large-scale-long-running.yaml|75 0
Added: docker/demo/config/test-suite/large-scale/mor-large-scale-sanity.yaml|75 0

Revision: bd1d2d4952e2664e2049e79ac571578cddca4500
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/09/2021 22:03:35
Message:
[MINOR] Add avro schema evolution test with (non)nullable column and with(out) default value (#3639) #MsgLength=102


----
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|10 6

Revision: e528dd798ab8ce6e4d444d2d771c107c503e8f25
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 11/09/2021 09:20:26
Message:
[HUDI-2394] Implement Kafka Sink Protocol for Hudi for Ingesting Immutable Data (#3592) #MsgLength=513


----
Modified: .gitignore|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/FileIdPrefixProvider.java|36 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/RandomFileIdPrefixProvider.java|35 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|17 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|17 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|26 8
Added: hudi-kafka-connect/README.md|94 0
Added: hudi-kafka-connect/configs/config-sink.json|19 0
Added: hudi-kafka-connect/configs/connect-distributed.properties|33 0
Added: hudi-kafka-connect/pom.xml|231 0
Added: hudi-kafka-connect/scripts/raw.json|5 0
Added: hudi-kafka-connect/scripts/runKafkaTrafficGenerator.sh|38 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkConnector.java|83 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java|212 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java|69 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaConnectControlAgent.java|230 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlAgent.java|41 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlProducer.java|97 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java|399 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java|254 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java|222 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/CoordinatorEvent.java|71 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionCoordinator.java|40 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionInfo.java|65 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java|45 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|140 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java|91 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java|120 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectTransactionServices.java|38 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriter.java|31 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriterProvider.java|24 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|177 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|133 0
Added: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java|105 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java|253 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java|273 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockConnectTransactionServices.java|57 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockKafkaControlAgent.java|87 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestHudiWriterProvider.java|83 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestKafkaConnect.java|133 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java|203 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java|101 0
Added: hudi-kafka-connect/src/test/resources/log4j-surefire.properties|32 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaProvider.java|2 1
Added: packaging/hudi-kafka-connect-bundle/pom.xml|186 0
Added: packaging/hudi-kafka-connect-bundle/src/main/java/org/apache/hudi/kafka/connect/bundle/Main.java|36 0
Modified: pom.xml|2 0

Revision: 06240417e9393de223c9cf6e1b66858d0417768e
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 11/09/2021 12:26:04
Message:
[HUDI-2354] Fix TimelineServer error because of replacecommit archive (#3536) #MsgLength=243


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|16 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|41 0

Revision: b30c5bdaef77aee9f564ac24f80f5c364014bb17
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/09/2021 13:17:16
Message:
[HUDI-2412] Add timestamp based partitioning for flink writer (#3638) #MsgLength=71


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|13 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|38 4
Modified: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|15 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|51 6
Added: hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java|61 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|33 0
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|19 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|73 31
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|28 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|15 10

Revision: dbcf60f370e93ab490cf82e677387a07ea743cda
Author:  <dongkelun01@inspur.com>
Date: 11/09/2021 15:45:49
Message:
[MINOR] fix typo (#3640) #MsgLength=26


----
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|3 3

Revision: 6228b17a3ddb4c336b30e5b8c650e003e38b5e3e
Author:  <dongkelun01@inspur.com>
Date: 11/09/2021 15:46:24
Message:
[MINOR] Fix typo, 'requried' corrected to 'required' (#3643) #MsgLength=62


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1

Revision: 9d5c3e5cb92a4247bb1fc9a4a0e2eb3d2fbce1d6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 12/09/2021 10:00:17
Message:
[HUDI-2415]  Add more info log for flink streaming reader (#3642) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|12 0

Revision: 4f991ee3525c6225c7bf3b46e272f7d5b919196e
Author: Ankush Kanungo <40214578+akanungoz@users.noreply.github.com>
Date: 12/09/2021 11:27:40
Message:
[HUDI-2398] Collect event time for inserts in DefaultHoodieRecordPayload (#3602) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|16 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java|20 4

Revision: 280f66e0f80932498fd691561c1ddb47815873f0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/09/2021 11:41:49
Message:
[MINOR] Fix the default parallelism of write task (#3649) #MsgLength=59


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|4 4

Revision: c79017cb74229993e8201602fb1f04d47aedd092
Author: K.I. (Dennis) Jung <inylove82@gmail.com>
Date: 13/09/2021 14:34:49
Message:
[HUDI-2397] Add  `--enable-sync` parameter (#3608) #MsgLength=189


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|11 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|12 11

Revision: 9f3c4a2a7f565f7bcc32189a202a3d400ece23f1
Author: liujinhui <965147871@qq.com>
Date: 13/09/2021 16:10:17
Message:
 [HUDI-2410] Fix getDefaultBootstrapIndexClass logical error (#3633) #MsgLength=70


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|15 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|6 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|2 2

Revision: 89651c94085f3f775328e5fbc2113aa9d1a6a962
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/09/2021 20:43:44
Message:
[HUDI-2421] Catch the throwable when scheduling the cleaning task for flink writer (#3650) #MsgLength=92


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|7 2

Revision: 35a04c43a5c750d265e855b313a84a5135075225
Author: liujinhui <965147871@qq.com>
Date: 13/09/2021 21:57:04
Message:
 [HUDI-2425] TestHoodieMultiTableDeltaStreamer CI failed due to exception (#3654) #MsgLength=83


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|1 1

Revision: 5d60491f5b76ef0f77174d71567d0673d9315bcd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 13/09/2021 23:53:13
Message:
[HUDI-2388] Add DAG nodes for Spark SQL in integration test suite (#3583) #MsgLength=220


----
Modified: docker/demo/config/log4j.properties|2 3
Added: docker/demo/config/test-suite/spark-sql-nonpartitioned-external-cow-ctas.yaml|45 0
Added: docker/demo/config/test-suite/spark-sql-nonpartitioned-external-mor.yaml|44 0
Added: docker/demo/config/test-suite/spark-sql-nonpartitioned-managed-cow-ctas.yaml|44 0
Added: docker/demo/config/test-suite/spark-sql-nonpartitioned-managed-cow.yaml|63 0
Added: docker/demo/config/test-suite/spark-sql-partition-cow-updates.yaml|61 0
Added: docker/demo/config/test-suite/spark-sql-partitioned-managed-cow-ctas.yaml|45 0
Added: docker/demo/config/test-suite/spark-sql-partitioned-managed-cow.yaml|64 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|83 4
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|172 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|1 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|12 106
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|18 4
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|4 3
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala|26 15
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|4 3
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|4 3
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/BaseSparkSqlNode.scala|93 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlCreateTableNode.scala|92 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlDeleteNode.scala|66 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlInsertNode.scala|50 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlInsertOverwriteNode.scala|50 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlMergeNode.scala|64 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlUpdateNode.scala|66 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlValidateDatasetNode.scala|68 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/utils/SparkSqlUtils.scala|526 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|32 10
Added: hudi-integ-test/src/test/resources/unit-test-spark-sql-dag.yaml|64 0

Revision: 9735f4b8efaa3d333e496c1159bd9ae0b222519a
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 14/09/2021 22:14:58
Message:
[HUDI-2428] Fix protocol and other issues after stress testing Hudi Kafka Connect (#3656) #MsgLength=353


----
Added: hudi-flink/src/main/java/org/apache/hudi/schema/SchemaRegistryProvider.java|126 0
Modified: hudi-kafka-connect/README.md|51 14
Renamed: hudi-kafka-connect/demo/config-sink.json [from hudi-kafka-connect/configs/config-sink.json]|4 5
Renamed: hudi-kafka-connect/demo/connect-distributed.properties [from hudi-kafka-connect/configs/connect-distributed.properties]|1 1
Added: hudi-kafka-connect/demo/setupKafka.sh|131 0
Deleted: hudi-kafka-connect/scripts/raw.json|0 5
Deleted: hudi-kafka-connect/scripts/runKafkaTrafficGenerator.sh|0 38
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java|28 16
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java|1 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java|9 15
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java|16 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java|3 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java|2 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java|2 3
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java|97 90
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestKafkaConnect.java|2 1
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|2 0

Revision: d90fd1f68c882c2e98aaa5b648e814bf4dac0515
Author: Vinoth Chandar <vinoth@apache.org>
Date: 15/09/2021 01:36:37
Message:
[MINOR] Update Kafka connect sink readme #MsgLength=41


----
Modified: hudi-kafka-connect/README.md|34 0

Revision: 627f20f9c54a87dded3350b73a6327f5b95632f6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/09/2021 12:04:46
Message:
[HUDI-2430] Make decimal compatible with hudi for flink writer (#3658) #MsgLength=72


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java|4 19
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|8 42
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|29 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|42 12

Revision: 76554aa31a858d9946c3b95102bc1b18ce28a432
Author: liujinhui <965147871@qq.com>
Date: 15/09/2021 14:33:43
Message:
[MINOR] Add document for DataSourceReadOptions (#3653) #MsgLength=56


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 4

Revision: 86a7351c39c760b74ee45a5d67cef31228ad1ee3
Author: liujinhui <965147871@qq.com>
Date: 15/09/2021 14:46:11
Message:
[MINOR] Delete Redundant code (#3661) #MsgLength=39


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 2

Revision: 916f12b7dd4b635c790b17876fa49fb786233e94
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/09/2021 06:52:43
Message:
[HUDI-2433] Refactor rollback actions in hudi-client module (#3664) #MsgLength=69


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseCopyOnWriteRollbackActionExecutor.java]|32 16
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java]|93 96
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/AbstractMarkerBasedRollbackStrategy.java]|56 12
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseMergeOnReadRollbackActionExecutor.java]|46 22
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|12 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|2 2
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkCopyOnWriteRollbackActionExecutor.java|0 71
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMarkerBasedRollbackStrategy.java|0 90
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/FlinkMergeOnReadRollbackActionExecutor.java|0 77
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|0 250
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|10 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java|2 2
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaCopyOnWriteRollbackActionExecutor.java|0 72
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaListingBasedRollbackHelper.java|0 237
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/rollback/JavaMarkerBasedRollbackStrategy.java|0 78
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|9 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java|2 2
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkCopyOnWriteRollbackActionExecutor.java|0 73
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMarkerBasedRollbackStrategy.java|0 93
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/rollback/SparkMergeOnReadRollbackActionExecutor.java|0 82
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|12 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/function/FunctionWrapper.java|11 0
Added: hudi-common/src/main/java/org/apache/hudi/common/function/SerializableBiFunction.java|34 0

Revision: 2d5ac551955e8c7be7be60edc5aaf17d2ed7f650
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 16/09/2021 07:00:04
Message:
[HUDI-2355][Bug]Archive service executed after cleaner finished. (#3545) #MsgLength=122


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|84 0

Revision: 2791fb9a964b39ef9aaec83eafd080013186b2eb
Author: liujinhui <965147871@qq.com>
Date: 16/09/2021 15:08:10
Message:
[HUDI-2423] Separate some config logic from HoodieMetricsConfig into HoodieMetricsGraphiteConfig HoodieMetricsJmxConfig (#3652) #MsgLength=129


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|24 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java]|5 107
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsDatadogConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsDatadogConfig.java]|2 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsGraphiteConfig.java|134 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsJmxConfig.java|118 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsPrometheusConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMetricsPrometheusConfig.java]|43 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|12 10
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestHoodieMetricsDatadogConfig.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|5 2

Revision: 4deaa30c8d7f51987201e99ce2f3bf9cc5a97d18
Author: Sarah Witt <sarah.witt@datadoghq.com>
Date: 16/09/2021 21:53:16
Message:
[HUDI-2404] Add metrics-jmx to spark and flink bundles (#3632) #MsgLength=64


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0

Revision: b8dad628e584e0acfa8ef6ba0056f7cb6efafad0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 16/09/2021 23:16:06
Message:
[HUDI-2422] Adding rollback plan and rollback requested instant (#3651) #MsgLength=550


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|19 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|21 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|77 31
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java|217 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java|131 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|3 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|66 161
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|76 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|42 102
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|3 24
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|17 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializableHoodieRollbackRequest.java|67 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|10 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|8 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|8 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|6 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|11 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|8 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|7 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|9 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|9 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java|8 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java|19 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|5 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|24 31
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|6 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java|17 4
Added: hudi-common/src/main/avro/HoodieRollbackPlan.avsc|76 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|44 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|5 0

Revision: 57d5da68aa646adfd327394daea720cb3d592b1d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 17/09/2021 06:24:34
Message:
[HUDI-2330][HUDI-2335] Adding support for merge-on-read tables (#3679) #MsgLength=251


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/WriteStatus.java|1 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|27 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|2 3
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseJavaDeltaCommitActionExecutor.java|35 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/deltacommit/JavaUpsertPreppedDeltaCommitActionExecutor.java|102 0
Modified: hudi-kafka-connect/README.md|4 4
Modified: hudi-kafka-connect/demo/config-sink.json|2 1
Modified: hudi-kafka-connect/demo/setupKafka.sh|73 58
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java|4 17
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|17 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java|16 6
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java|22 13
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|5 16
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java|3 3
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java|1 1

Revision: 8a652171cfecc68fd06c6632afa77b1456e714a6
Author:  <dongkelun01@inspur.com>
Date: 17/09/2021 09:43:23
Message:
[MINOR] Fix typo,'compatiblity' corrected to 'compatibility' (#3675) #MsgLength=70


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1

Revision: 61d009608899bc70c1372d5cb00a2f35e188c30c
Author: liujinhui <965147871@qq.com>
Date: 17/09/2021 19:39:55
Message:
[HUDI-2434] Make periodSeconds of GraphiteReporter configurable (#3667) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsGraphiteConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|3 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestHoodieGraphiteMetrics.java|60 0

Revision: 3a150ee1812993553f36cdc8d321766c267d3f4f
Author:  <dongkelun01@inspur.com>
Date: 17/09/2021 19:45:22
Message:
[HUDI-2447] Extract common business logic & Fix typo (#3683) #MsgLength=62


----
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|12 16

Revision: c7a5c8273b0d67cd436caec650ffb36e1a74f9e0
Author: Satish M <84978833+data-storyteller@users.noreply.github.com>
Date: 17/09/2021 22:10:15
Message:
[HUDI-2267] Update docs and infra test configs, add support for graphite (#3482) #MsgLength=140


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|11 2
Modified: docker/demo/config/test-suite/complex-dag-cow.yaml|2 2
Modified: docker/demo/config/test-suite/cow-clustering-example.yaml|2 2
Modified: docker/demo/config/test-suite/cow-long-running-example.yaml|2 2
Modified: docker/demo/config/test-suite/cow-long-running-multi-partitions.yaml|2 2
Modified: docker/generate_test_suite.sh|47 2
Modified: hudi-integ-test/README.md|48 11

Revision: 3354fac42f9a2c4dbc8ac73ca4749160e9b9459b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/09/2021 09:06:46
Message:
[HUDI-2449] Incremental read for Flink (#3686) #MsgLength=48


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|10 4
Modified: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|22 1
Added: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|365 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|17 194
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|12 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|95 118
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|5 24
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|14 0
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|0 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|31 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|26 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|75 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|9 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|1 2

Revision: 5091ab73112c8e6eea8a53229c441b0c501d1807
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 20/09/2021 23:05:31
Message:
[HUDI-2444] Fixing delete files corner cases wrt cleaning and rollback when applying changes to metadata (#3678) #MsgLength=114


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java|9 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|6 2

Revision: 5a94043f38fa8e23c8e0b184225230aa43873368
Author:  <dongkelun01@inspur.com>
Date: 21/09/2021 22:11:52
Message:
[HUDI-2343]Fix the exception for mergeInto when the primaryKey and preCombineField of source table and target table differ in case only (#3517) #MsgLength=145


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|69 0

Revision: 55df8f61e1ba948b3f202321a8d492a0ea5c35aa
Author: Jimmy.Zhou <zyjin570@163.com>
Date: 22/09/2021 08:30:13
Message:
[MINOR] Fix typo."funcitons" corrected to "functions" (#3681) #MsgLength=63


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java|1 1

Revision: e813dae36d5fa1f584e221e24e0919e43f7d0503
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/09/2021 12:18:02
Message:
[MINOR] Cosmetic changes for flink (#3701) #MsgLength=44


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java|2 5
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|4 7
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 1
Added: hudi-flink/src/main/java/org/apache/hudi/util/InputFormats.java|33 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|14 2

Revision: 5515a0d319cbac835c65f6d21898ac1399d77ea3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/09/2021 15:14:30
Message:
[HUDI-2479] HoodieFileIndex throws NPE for FileSlice with pure log files (#3702) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|11 2

Revision: eeafd24f4c3a65e107867e30eb499b4aec69d7e5
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 24/09/2021 03:40:11
Message:
[HUDI-2395] Metadata tests rewrite (#3695) #MsgLength=349


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|437 776
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|201 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|18 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileSystemTestUtils.java|5 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|538 5

Revision: b4b23e401bb66793c924dfe5b78d641c65e207a6
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 24/09/2021 03:40:58
Message:
[HUDI-2383] Clean the marker files after compaction (#3576) #MsgLength=61


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|5 0

Revision: f52cb32f5f0c9e31b5addf29adbb886ca6d167dd
Author: jsbali <jsbali@uber.com>
Date: 24/09/2021 04:45:24
Message:
[HUDI-2248] Fixing the closing of hms client (#3364) #MsgLength=163


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|2 1

Revision: 06c2cc2c8b1ad88bb4c9bbdb496053a079767e9b
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 24/09/2021 13:33:34
Message:
[HUDI-2385] Make parquet dictionary encoding configurable (#3578) #MsgLength=107


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java|18 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|1 1

Revision: 440525ccbb001884840efadcb51eda44bba5e624
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/09/2021 14:52:27
Message:
[HUDI-2483] Infer changelog mode for flink compactor (#3706) #MsgLength=62


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|3 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|6 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|16 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|0 99
Added: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|146 0

Revision: 31a301f0aa955450e52c28ee5857526034d523f0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/09/2021 23:44:01
Message:
[HUDI-2485] Consume as mini-batch for flink stream reader (#3710) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java|39 11
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|27 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java|18 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|1 1

Revision: bc4966ea7353016c7589ef750719e400024e09e0
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 25/09/2021 01:05:42
Message:
[HUDI-2484] Fix hive sync mode setting in Deltastreamer (#3712) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|35 0

Revision: aa546554ff23e62c374e323ec47d0081fb200227
Author: Carl-Zhou-CN <67902676+Carl-Zhou-CN@users.noreply.github.com>
Date: 26/09/2021 21:51:27
Message:
[HUDI-2451] On windows client with hdfs server for wrong file separator (#3687) #MsgLength=133


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|1 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|4 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|2 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HoodieHeartbeatClient.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|6 7
Modified: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|3 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|1 3

Revision: 7e887b54d70ab79e77bd9ac78f7ff6616c852503
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date: 26/09/2021 21:52:35
Message:
[MINOR] fix typo,'SPAKR' corrected to 'SPARK' (#3721) #MsgLength=55


----
Modified: .github/workflows/bot.yml|2 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1

Revision: 36be28712196ff4427c41b0aa885c7fcd7356d7f
Author:  <dongkelun01@inspur.com>
Date: 26/09/2021 21:53:39
Message:
[MINOR] Fix typo,'Kakfa' corrected to 'Kafka' & 'parquest' corrected to 'parquet' (#3717) #MsgLength=91


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2

Revision: 9067657a5ff313990c819065ad12d71fa8bb0f06
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date: 28/09/2021 13:47:15
Message:
[HUDI-2487] Fix JsonKafkaSource cannot filter empty messages from kafka (#3715) #MsgLength=81


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|5 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java|22 0

Revision: f0585facd6e8ff8c226e1e6c7b66933eac8ea4c6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 28/09/2021 17:16:52
Message:
[HUDI-2474] Refreshing timeline for every operation in Hudi when metadata is enabled (#3698) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|17 10
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|6 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|22 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|1 1

Revision: 2aa660f99db76f198906c14005e944dffbe383e2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 29/09/2021 00:33:27
Message:
[MINOR] Add a RFC template and folder (#3726) #MsgLength=47


----
Added: rfc/README.md|30 0
Added: rfc/template.md|57 0

Revision: dd1bd62684fdd2115dcc4bad264493d25cc97858
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 29/09/2021 23:54:12
Message:
[HUDI-2277] HoodieDeltaStreamer reading ORC files directly using ORCDFSSource (#3413) #MsgLength=360


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|4 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ORCDFSSource.java|56 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|44 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java|29 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|43 0

Revision: 2f07e1267fa1a372ff06ca5af2bacf0f91929f89
Author:  <dongkelun01@inspur.com>
Date: 30/09/2021 09:55:32
Message:
[MINOR] Fix typo Hooodie corrected to Hoodie & reuqired corrected to required (#3730) #MsgLength=87


----
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|1 1

Revision: def08d703d71265ee40efa95932416e2e76e22e4
Author: tangyoupeng <tommy@juicedata.io>
Date: 30/09/2021 12:50:46
Message:
[MINOR] Support JuiceFileSystem (#3729) #MsgLength=41


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 47ed91799943271f219419cf209793a98b3f09b5
Author: vinoyang <yanghua1127@gmail.com>
Date: 30/09/2021 16:56:11
Message:
[HUDI-2440] Add dependency change diff script for dependency governace (#3674) #MsgLength=80


----
Added: dev/dependencyList_hudi-flink-bundle_2.11.txt|296 0
Added: dev/dependencyList_hudi-presto-bundle.txt|132 0
Added: dev/dependencyList_hudi-spark-bundle_2.11.txt|262 0
Added: dev/dependencyList_hudi-timeline-server-bundle.txt|144 0
Added: dev/dependencyList_hudi-utilities-bundle_2.11.txt|324 0
Added: scripts/dependency.sh|127 0

Revision: 73e8ba76206682c66eb06b53f2bdec890a567235
Author: Vinay Patil <52563354+veenaypatil@users.noreply.github.com>
Date: 30/09/2021 23:41:15
Message:
[HUDI-2499] Making jdbc-url, user and pass as non-required field for other sync modes (#3732) #MsgLength=95


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|3 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|4 0

Revision: 46808dcb1fe22491326a9e831dd4dde4c70796fb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 01/10/2021 06:20:25
Message:
[HUDI-2497] Refactor clean and restore actions in hudi-client module (#3734) #MsgLength=78


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanActionExecutor.java]|88 6
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/BaseCleanPlanActionExecutor.java]|9 7
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java [from hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/restore/JavaCopyOnWriteRestoreActionExecutor.java]|23 25
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkMergeOnReadRestoreActionExecutor.java]|12 21
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|15 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|5 5
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkCleanActionExecutor.java|0 128
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/clean/FlinkScheduleCleanActionExecutor.java|0 52
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|15 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|7 7
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaCleanActionExecutor.java|0 130
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/clean/JavaScheduleCleanActionExecutor.java|0 52
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|19 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|9 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|4 4
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanActionExecutor.java|0 134
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/clean/SparkCleanPlanActionExecutor.java|0 55
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/restore/SparkCopyOnWriteRestoreActionExecutor.java|0 70
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|16 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/function/FunctionWrapper.java|11 0
Added: hudi-common/src/main/java/org/apache/hudi/common/function/SerializablePairFlatMapFunction.java|33 0

Revision: 5f32162a2fad0cd6db87972d29336dc09599bf8a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/10/2021 12:17:52
Message:
[HUDI-2285][HUDI-2476] Metadata table synchronous design. Rebased and Squashed from pull/3426 (#3590) #MsgLength=2102


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|3 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|2 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|2 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|10 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|122 110
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|21 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|9 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|36 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|17 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|0 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|18 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|17 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java|10 4
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java|143 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|0 13
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|3 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java|5 1
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java|44 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|43 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|2 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteTableCommitActionExecutor.java|1 2
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|25 20
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|73 68
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|37 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|2 15
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|2 18
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java|4 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java|44 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|43 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|18 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|20 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|5 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|704 463
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|93 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|8 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|9 3
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|281 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|252 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|410 401
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|11 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|19 21
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|12 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 43
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|1 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|10 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|14 141
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|198 179
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java|40 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java|34 42
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|70 85
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java|17 2
Deleted: hudi-common/src/main/java/org/apache/hudi/metadata/TimelineMergedTableMetadata.java|0 130
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|27 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|143 46
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|0 26
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|0 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|0 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|0 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSHoodieDatasetInputReader.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|0 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|11 13
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|25 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|34 18
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|0 5
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|0 5
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java|0 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|2 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|3 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|1 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|6 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|2 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotExporter.java|2 0

Revision: e91e611afbee2958322b2e32f41faabc5918f6b4
Author: Yann Byron <biyan900116@gmail.com>
Date: 06/10/2021 15:46:49
Message:
[HUDI-2456] support 'show partitions' sql (#3693) #MsgLength=51


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|9 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java|13 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|16 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|6 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|2 16
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala|76 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|164 0

Revision: 2e152177fb9a1138e46d21f4608fea41cc32af15
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 07/10/2021 08:20:41
Message:
[HUDI-2513] Refactor table upgrade and downgrade actions in hudi-client module (#3743) #MsgLength=88


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|4 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseUpgradeDowngradeHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java]|20 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java|7 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToTwoUpgradeHandler.java]|8 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseOneToZeroDowngradeHandler.java]|8 5
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java]|9 8
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseTwoToOneDowngradeHandler.java]|10 10
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java]|9 8
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/AbstractUpgradeDowngrade.java]|115 81
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java|7 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseZeroToOneUpgradeHandler.java]|24 14
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|6 3
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java|0 71
Renamed: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngradeHelper.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java]|26 9
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|0 30
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java|0 32
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|0 54
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|8 6
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|0 33
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java|0 75
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngradeHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java]|26 9
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java|0 44
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|0 43
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|0 53
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|4 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|8 5

Revision: 10e3a9a3fbaa5bd0269f86707bdf65b66fa25b22
Author:  <dongkelun01@inspur.com>
Date: 07/10/2021 08:37:01
Message:
[MINOR] Fix typo,'properites' corrected to 'properties' (#3738) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|1 1

Revision: a818020f72d37c8fd7a88414b769be9b23ee0ba6
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/10/2021 23:30:48
Message:
[HUDI-2530] Adding async compaction support to integ test suite framework (#3750) #MsgLength=83


----
Added: docker/demo/config/test-suite/compact-test.properties|50 0
Added: docker/demo/config/test-suite/mor-async-compact.yaml|126 0
Modified: docker/demo/config/test-suite/test.properties|0 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|18 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/CompactNode.java|4 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ScheduleCompactNode.java|0 1

Revision: 2a392d8e8eb7e02e2447a81009268cd1c81129d3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/10/2021 18:02:10
Message:
[HUDI-2534] Remove the sort operation when bulk_insert in batch mode (#3772) #MsgLength=78


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|4 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|5 5

Revision: ad63938890151c4c13e78acfd448259c3af80f80
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/10/2021 09:30:39
Message:
[HUDI-2537] Fix metadata table for flink (#3774) #MsgLength=50


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|40 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|42 13
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|42 70
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|38 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|0 40
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 14
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|5 2
Modified: hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|10 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|9 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 3
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|2 2
Modified: packaging/hudi-flink-bundle/pom.xml|43 0

Revision: ceace1c653a3ce3c97e6ee5a244d71ff1806be4f
Author: Ilias Antoniou <helias1990@hotmail.com>
Date: 11/10/2021 09:33:16
Message:
[HUDI-2496] Insert duplicate records when precombined is deactivated  for "insert" operation (#3740) #MsgLength=102


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieConcatHandle.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieConcatHandle.java]|33 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|30 18
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|47 0

Revision: 5b8bc664a8dca97789c2472d633868fb8f553652
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/10/2021 16:22:22
Message:
[HUDI-2542] AppendWriteFunction throws NPE when checkpointing without written data (#3777) #MsgLength=92


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|4 0

Revision: f14d4e65e7edab58aa86c495e4bd4caa79086d6b
Author: Roc Marshal <64569824+RocMarshal@users.noreply.github.com>
Date: 12/10/2021 01:58:33
Message:
[HUDI-2540] Fixed wrong validation for metadataTableEnabled in HoodieTable (#3781) #MsgLength=84


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1

Revision: 48a3906cccb6abd04f0a86922f6af3a175d6f7b2
Author:  <dongkelun01@inspur.com>
Date: 12/10/2021 02:07:34
Message:
[MINOR] Fix typo,'paritition' corrected to 'partition' (#3764) #MsgLength=64


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1

Revision: 252c4ed380ef3983b0c639d5fd4dee23bc113308
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 12/10/2021 21:49:42
Message:
[HUDI-2532] Metadata table compaction trigger max delta commits (#3784) #MsgLength=184


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1

Revision: 8a487eafa7b85a8936953a9595b16a2079dc7e7e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 13/10/2021 02:06:40
Message:
[HUDI-2494] Fixing glob pattern to skip all hoodie meta paths (#3768) #MsgLength=71


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|22 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|12 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|3 3

Revision: e6711b171a6a3aaed4bbba1f16664374ffd601dc
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 13/10/2021 06:24:48
Message:
[HUDI-2435][BUG]Fix clustering handle errors (#3666) #MsgLength=177


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java|9 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|21 8

Revision: cff384d23f464692b792abc4b4a7ca6731ed8067
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 14/10/2021 06:44:43
Message:
[HUDI-2552] Fixing some test failures to unblock broken CI master (#3793) #MsgLength=75


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|4 4

Revision: abf3e3fe71cd92a4129cf110a5206fbcfb3b1ae2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/10/2021 10:36:18
Message:
[HUDI-2548] Flink streaming reader misses the rolling over file handles (#3787) #MsgLength=81


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|57 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|6 7
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|3 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|6 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|43 34
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|6 17
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|11 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|7 6
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|33 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|39 33
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|7 10

Revision: f897e6d73ebc26d32017774d452389023f53f742
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/10/2021 13:46:53
Message:
[HUDI-2551] Support DefaultHoodieRecordPayload for flink (#3792) #MsgLength=66


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|29 0

Revision: 2c370cbae084a41162fedbcc0b1e66558629dcbe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/10/2021 19:42:56
Message:
[HUDI-2556] Tweak some default config options for flink (#3800) #MsgLength=244


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|14 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|3 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|13 6
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 11
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|15 0

Revision: 9aa7cfb80224629573c6d02c576858fe9afb1afa
Author: Jimmy.Zhou <zhouyongjin@inspur.com>
Date: 16/10/2021 04:26:16
Message:
[MINOR] fix typo,'seprarated' corrected to 'separated' (#3789) #MsgLength=64


----
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|2 2

Revision: 2eda3de7f91335c17458f106f4edde8d8ffbb978
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/10/2021 10:45:39
Message:
[HUDI-2562] Embedded timeline server on JobManager (#3812) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|0 38
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|16 2
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|40 17
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|0 9
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|4 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|11 14
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|28 25
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|34 14
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|6 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|11 17
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java|35 13
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|64 10
Added: hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|82 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|68 73
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|1 11
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|6 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|8 17
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|16 20
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|22 4
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java|57 0

Revision: 5276850415649a45106073e1176089247930add3
Author: yiduwangkai <16093572+yiduwangkai@users.noreply.github.com>
Date: 18/10/2021 11:26:21
Message:
[HUDI-2557] Shade javax.servlet for flink bundle jar (#3807) #MsgLength=105


----
Modified: packaging/hudi-flink-bundle/pom.xml|4 0

Revision: 3025f4d7961b221743fe3cc248e0bb2e8ee6411b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/10/2021 14:42:33
Message:
[HUDI-2568] Simplify the view storage config properties (#3815) #MsgLength=65


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 1

Revision: dfdfbbedaef6d2618b5254fc7b56a1d6a44a56f2
Author: yiduwangkai <16093572+yiduwangkai@users.noreply.github.com>
Date: 18/10/2021 17:12:13
Message:
HUDI-2569 shaded hive (#3816) #MsgLength=74


----
Modified: packaging/hudi-flink-bundle/pom.xml|4 0

Revision: 588a34aa95c608b595da66e6d42c9f06c9ef1546
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/10/2021 17:34:49
Message:
[HUDI-2571] Remove include-flink-sql-connector-hive profile from flink bundle (#3818) #MsgLength=87


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 10

Revision: 335e80ea1bdc2327763e55fb9d32e3be75bb07db
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 19/10/2021 01:07:53
Message:
[HUDI-2561] BitCaskDiskMap - avoiding hostname resolution when logging messages (#3811) #MsgLength=518


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|1 4

Revision: 3a78be9203a9c3cea33fa6120c89f7702275fc31
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/10/2021 10:47:38
Message:
[HUDI-2572] Strength flink compaction rollback strategy (#3819) #MsgLength=206


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java|16 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|23 24
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|10 17

Revision: 60d4cb505afcd11197a7742f9d6063125acbb91d
Author: jaxonzhang <jaxonzhang700@gmail.com>
Date: 19/10/2021 20:04:18
Message:
[MINOR] Fix typo, 'upsert' corrected to 'insert' in java write example (#3809) #MsgLength=80


----
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|1 1

Revision: 1e2be85a0f1b290fa568cfae68f4219ac2b5f210
Author: Yann Byron <biyan900116@gmail.com>
Date: 19/10/2021 22:09:53
Message:
[HUDI-2482] support 'drop partition' sql (#3754) #MsgLength=50


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|40 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|5 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|142 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|2 41
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|179 0

Revision: 46f0496a0838431cd8886ca882a902d801c4dfb8
Author:  <dongkelun01@inspur.com>
Date: 19/10/2021 23:16:48
Message:
[MINOR] Fix typo,'intance' corrected to 'instance' (#3788) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 1

Revision: 3686c25faee64589af6b2526e60062e7e50e51d1
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 20/10/2021 05:29:48
Message:
[HUDI-2469] [Kafka Connect] Replace json based payload with protobuf for Transaction protocol. (#3694) #MsgLength=318


----
Modified: hudi-kafka-connect/demo/setupKafka.sh|2 2
Modified: hudi-kafka-connect/pom.xml|26 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/HoodieSinkTask.java|4 5
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaConnectControlAgent.java|13 43
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlAgent.java|2 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/kafka/KafkaControlProducer.java|8 30
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java|33 38
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java|35 21
Deleted: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ControlEvent.java|0 237
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/CoordinatorEvent.java|5 3
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionCoordinator.java|3 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionParticipant.java|4 4
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|38 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java|2 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java|2 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectWriter.java|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|1 0
Added: hudi-kafka-connect/src/main/resources/ControlMessage.proto|65 0
Added: hudi-kafka-connect/src/main/resources/log4j.properties|23 0
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java|35 30
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java|37 34
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockKafkaControlAgent.java|4 4
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|9 0
Modified: pom.xml|2 0

Revision: e355ab52db4af71880ac6e9b67991221d4b9c569
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/10/2021 21:10:07
Message:
[HUDI-2578] Support merging small files for flink insert operation (#3822) #MsgLength=76


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 5
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkConcatAndReplaceHandle.java|82 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkConcatHandle.java|81 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 4
Added: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|70 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|13 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|10 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java|15 3
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|2 8
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|5 4
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 17
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|91 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|5 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|5 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|5 4

Revision: b68c5a68f9ba21f253256a49aacd9f4aee49e039
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 21/10/2021 06:57:00
Message:
[HUDI-2472] Fix few Cleaner tests with metadata table enabled (#3825) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java|20 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|41 20
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|7 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|124 33

Revision: f5d7362ee88568003c9310d4f9ada385d1180f61
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/10/2021 11:57:12
Message:
[HUDI-2077] Fix flakiness in TestHoodieDeltaStreamer (#3829) #MsgLength=62


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|5 0
Renamed: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java [from hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerBase.java]|19 18
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|16 268
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|329 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|2 2

Revision: aa3c4ecda57c412b5822348d40cdf983c0035fb7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/10/2021 12:36:41
Message:
[HUDI-2583] Refactor TestWriteCopyOnWrite test cases (#3832) #MsgLength=62


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|0 8
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|216 748
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|0 35
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java|0 6
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java|6 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 1
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestFunctionWrapper.java|124 0
Added: hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java|425 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|4 7

Revision: b480294e792b6344d37560587f8f6e170e210d14
Author: vinoyang <yanghua1127@gmail.com>
Date: 21/10/2021 14:10:01
Message:
[HUDI-2507] Generate more dependency list file for other bundles (#3773) #MsgLength=74


----
Renamed: dependencies/hudi-flink-bundle_2.11.txt [from dev/dependencyList_hudi-flink-bundle_2.11.txt]|0 0
Added: dependencies/hudi-flink-bundle_2.12.txt|297 0
Added: dependencies/hudi-hadoop-mr-bundle.txt|131 0
Added: dependencies/hudi-hive-sync-bundle.txt|142 0
Added: dependencies/hudi-integ-test-bundle.txt|346 0
Added: dependencies/hudi-kafka-connect-bundle.txt|275 0
Renamed: dependencies/hudi-presto-bundle.txt [from dev/dependencyList_hudi-presto-bundle.txt]|0 0
Renamed: dependencies/hudi-spark-bundle_2.11.txt [from dev/dependencyList_hudi-spark-bundle_2.11.txt]|0 0
Added: dependencies/hudi-spark-bundle_2.12.txt|262 0
Added: dependencies/hudi-spark3-bundle_2.12.txt|262 0
Renamed: dependencies/hudi-timeline-server-bundle.txt [from dev/dependencyList_hudi-timeline-server-bundle.txt]|0 0
Renamed: dependencies/hudi-utilities-bundle_2.11.txt [from dev/dependencyList_hudi-utilities-bundle_2.11.txt]|0 0
Added: dependencies/hudi-utilities-bundle_2.12.txt|324 0
Modified: scripts/dependency.sh|85 70

Revision: 84ca981cd017dc542b86adbd3b2141791feebf89
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 22/10/2021 01:09:37
Message:
[HUDI-2553] Metadata table compaction trigger max delta commits (#3794) #MsgLength=178


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1

Revision: 499af7c039da12e397dca0819d77723bce92c145
Author: Matrix42 <Matrix42@users.noreply.github.com>
Date: 22/10/2021 19:42:13
Message:
[HUDI-2592] Fix write empty array when write.precombine.field is decimal type (#3837) #MsgLength=87


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|7 4
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|32 8

Revision: 1e285dc3999c56a3302b5ed9e5c38a6bcb884f92
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 23/10/2021 00:03:58
Message:
[HUDI-2489]Tuning HoodieROTablePathFilter by caching hoodieTableFileSystemView, aiming to reduce unnecessary list/get requests (#3719) #MsgLength=184


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|15 6

Revision: 5ed35bff836f898d420e9a7ef8c47dc2ded7dca3
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/10/2021 03:58:51
Message:
[HUDI-2501] Add HoodieData abstraction and refactor compaction actions in hudi-client module (#3741) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|0 13
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieCompactionHandler.java|43 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|16 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/HoodieWriteMetadata.java|30 0
Deleted: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/BaseScheduleCompactionActionExecutor.java|0 90
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/AbstractCompactHelpers.java]|34 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|254 13
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkRunCompactionActionExecutor.java]|25 27
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkScheduleCompactionActionExecutor.java]|55 18
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|7 5
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|20 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|13 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|12 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|9 0
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/FlinkCompactHelpers.java|0 147
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/compact/HoodieFlinkMergeOnReadTableCompactor.java|12 192
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|20 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|8 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|21 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|98 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieSparkLongAccumulator.java|55 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|17 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|12 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|9 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|15 222
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkCompactHelpers.java|0 75
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/SparkScheduleCompactionActionExecutor.java|0 152
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|5 4
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieAccumulator.java|39 0
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieAtomicLongAccumulator.java|48 0
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|63 0
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java|94 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|20 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|13 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|2 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|1 1

Revision: c9d641cc30ba5b1e65aa87b2c6d48a3bdd788564
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 23/10/2021 22:07:09
Message:
[HUDI-2468] Metadata table support for rolling back the first commit (#3843) #MsgLength=335


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|100 27
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|16 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|19 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|19 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|6 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|33 0

Revision: 91845e241da242cede95f705b0637331ce9222ff
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date: 24/10/2021 23:18:01
Message:
[MINOR] Show source table operator details on the flink web when reading hudi table (#3842) #MsgLength=93


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|17 2

Revision: d8560377c306e49b7e58448b6897e9c0e7719f61
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/10/2021 12:14:39
Message:
[HUDI-2077] Fix TestHoodieDeltaStreamerWithMultiWriter (#3849) #MsgLength=168


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|7 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/providers/SparkProvider.java|3 1
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/FixtureUtils.java|81 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|6 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|48 48
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestJdbcbasedSchemaProvider.java|5 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractBaseTestSource.java|25 1
Added: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip|0 0
Added: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip|0 0

Revision: 1bb05325637740498cac548872cf7223e34950d0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 25/10/2021 13:21:08
Message:
[HUDI-2005] Avoiding direct fs calls in HoodieLogFileReader (#3757) #MsgLength=69


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|11 7
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|10 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|11 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|3 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|3 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|4 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|9 8

Revision: 220bf6a7e6f5cdf0efbbbee9df6852a8b2288570
Author: vinoyang <yanghua1127@gmail.com>
Date: 25/10/2021 13:45:28
Message:
[HUDI-2600] Remove duplicated hadoop-common with tests classifier exists in bundles (#3847) #MsgLength=93


----
Modified: dependencies/hudi-flink-bundle_2.11.txt|3 3
Modified: dependencies/hudi-hive-sync-bundle.txt|1 6
Modified: dependencies/hudi-kafka-connect-bundle.txt|1 2
Modified: dependencies/hudi-spark-bundle_2.11.txt|1 2
Modified: dependencies/hudi-timeline-server-bundle.txt|0 1
Modified: dependencies/hudi-utilities-bundle_2.11.txt|1 2
Modified: hudi-client/hudi-client-common/pom.xml|1 0
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 0
Modified: hudi-timeline-service/pom.xml|1 0

Revision: 4b5512e6857ce8265d048ecbcdb2b8cccb199d2e
Author:  <dongkelun01@inspur.com>
Date: 25/10/2021 21:56:47
Message:
[MINOR] Fix typo,'deseralized' corrected to 'deserialized' & 'Kyro' corrected to 'Kryo' (#3846) #MsgLength=97


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|3 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|3 3

Revision: e3fc74668fc43fefd73087ff725245b8ed85b4a1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/10/2021 09:43:15
Message:
[HUDI-2625] Revert "[HUDI-2005] Avoiding direct fs calls in HoodieLogFileReader (#3757)" (#3863) #MsgLength=159


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|7 11
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|2 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|2 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|0 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|2 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|1 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|8 9

Revision: b1c4acf0aeb0f3d650c8e704828b1c2b0d2b5b40
Author: vinoyang <yanghua1127@gmail.com>
Date: 26/10/2021 22:36:10
Message:
[HUDI-2614] Remove duplicated hadoop-hdfs with tests classifier exists in bundles (#3864) #MsgLength=91


----
Modified: dependencies/hudi-flink-bundle_2.11.txt|0 1
Modified: dependencies/hudi-flink-bundle_2.12.txt|6 7
Modified: dependencies/hudi-hive-sync-bundle.txt|0 5
Modified: dependencies/hudi-integ-test-bundle.txt|26 10
Modified: dependencies/hudi-kafka-connect-bundle.txt|0 1
Modified: dependencies/hudi-spark-bundle_2.11.txt|0 1
Modified: dependencies/hudi-spark-bundle_2.12.txt|1 3
Modified: dependencies/hudi-spark3-bundle_2.12.txt|1 3
Modified: dependencies/hudi-utilities-bundle_2.11.txt|0 1
Modified: dependencies/hudi-utilities-bundle_2.12.txt|4 6
Modified: hudi-client/hudi-client-common/pom.xml|1 0
Modified: hudi-client/hudi-java-client/pom.xml|22 0
Modified: hudi-integ-test/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|22 0
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0
Modified: pom.xml|1 0

Revision: 643b1a4df264876ad6f1be8b879ee9fc7133e639
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 27/10/2021 05:45:52
Message:
[MINOR] Fix README for hudi-kafka-connect (#3858) #MsgLength=51


----
Modified: hudi-kafka-connect/README.md|2 2

Revision: ae000795d7fb69d14a8e30c5a69cfe73aeaf1bad
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 27/10/2021 06:15:20
Message:
[HUDI-1475]: fixed java doc for precombine api (#3867) #MsgLength=56


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|1 1

Revision: 909c3ba45e9056dd38e5f35e22c993a3b5a614ac
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/10/2021 20:00:24
Message:
[HUDI-2632] Schema evolution for flink parquet reader (#3872) #MsgLength=63


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|5 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java|36 23
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|19 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|38 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|15 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|18 1

Revision: af3ffe5e422645b4a2d4aed75a9827aede55afa5
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 27/10/2021 20:25:19
Message:
[MINOR] Add links to all the existing RFCs in rfc/README.md (#3876) #MsgLength=69


----
Modified: rfc/README.md|39 7

Revision: e5b6b8602c242c89cdb45440df8d2996a6c301f1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/10/2021 13:52:06
Message:
[HUDI-2633] Make precombine field optional for flink (#3874) #MsgLength=62


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|17 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|4 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|22 5
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|23 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|36 12
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|7 0

Revision: 0223c442ec9a746834d1b2f2582c5267b692823a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 28/10/2021 16:16:00
Message:
[HUDI-2502] Refactor index in hudi-client module (#3778) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|36 11
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/BaseHoodieBloomIndexHelper.java|57 0
Deleted: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndex.java|0 261
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|238 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieGlobalBloomIndex.java]|43 43
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java|87 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/inmemory/HoodieInMemoryHashIndex.java [from hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaInMemoryHashIndex.java]|34 28
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieGlobalSimpleIndex.java]|47 42
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/simple/SparkHoodieSimpleIndex.java]|65 69
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java|3 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|5 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|34 42
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndexFactory.java|58 0
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/bloom/FlinkHoodieBloomIndex.java|0 32
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/simple/FlinkHoodieSimpleIndex.java|0 140
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|10 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|3 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|9 3
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|21 19
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|7 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|6 4
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|29 31
Renamed: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndexFactory.java [from hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieBloomIndex.java]|28 6
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|3 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|5 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|11 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|10 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkMemoryUtils.java|0 9
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java|127 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|40 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java|31 67
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java|103 0
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkInMemoryHashIndex.java|0 135
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java|0 299
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|125 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|20 15
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|12 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|32 32
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|12 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|31 27
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|23 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|18 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|6 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|7 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|41 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java|45 0
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java|157 0
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java|102 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|1 1
Added: hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieMapPair.java|216 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 3

Revision: 69ee790a47a5fa90a6acd954a9330cce3ae31c3b
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/10/2021 00:12:44
Message:
[HUDI-1294] Adding inline read and seek based read(batch get) for hfile log blocks in metadata table (#3762) #MsgLength=110


----
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|134 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|17 21
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|14 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|23 0
Renamed: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java [from hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordScanner.java]|63 36
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|7 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|12 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|52 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|33 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|52 10
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|86 36
Renamed: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java [from hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordScanner.java]|42 13
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|20 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|12 2

Revision: 29574af239ae4596034a17999484ed069ec7123f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/10/2021 00:14:39
Message:
[HUDI-2573] Fixing double locking with multi-writers (#3827) #MsgLength=292


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|64 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|4 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|17 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|18 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|6 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|6 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|4 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|4 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|6 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|132 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|4 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|4 2

Revision: 5b1992a92d36efe03626e2e5282c71392dde81c1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 30/10/2021 01:09:09
Message:
[HUDI-1500] Support replace commit in DeltaSync with commit metadata preserved (#3802) #MsgLength=88


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|15 6

Revision: f6326693efe657cc0dbd45f1d394fcff7266e523
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 30/10/2021 07:19:38
Message:
[HUDI-1295] Hash ID generator util for Hudi table columns, partition and files (#3884) #MsgLength=531


----
Modified: hudi-common/pom.xml|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Base64CodecUtil.java|3 3
Added: hudi-common/src/main/java/org/apache/hudi/common/util/hash/ColumnID.java|61 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/hash/FileID.java|61 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/hash/HashID.java|132 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/hash/HoodieID.java|117 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/hash/PartitionID.java|62 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/hash/TestHashID.java|127 0

Revision: 92a3c458bde7ca4d2bb72f4dbe486073f6a5ec4f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/10/2021 08:37:30
Message:
[HUDI-2654] Schedules the compaction from earliest for flink (#3891) #MsgLength=70


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|2 12
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|16 13
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|17 2
Added: hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java|77 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|60 15

Revision: 87c6f9cd077e2e8f3244f3f5c4e1d1ea5b2da4db
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 31/10/2021 17:51:11
Message:
[HUDI-2654] Add compaction failed event(part2) (#3896) #MsgLength=56


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|6 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java|15 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|13 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|8 6
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/utils/CoordinatorExecutor.java|0 46
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|69 11
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|29 10
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java|15 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|3 3

Revision: 13b637ddc3ab9fba51e303cfa0343a496e476d26
Author: vinoyang <yanghua1127@gmail.com>
Date: 01/11/2021 20:11:00
Message:
[HUDI-2643] Remove duplicated hbase-common with tests classifier exists in bundles (#3886) #MsgLength=92


----
Modified: dependencies/hudi-flink-bundle_2.11.txt|0 1
Modified: dependencies/hudi-flink-bundle_2.12.txt|3 4
Modified: dependencies/hudi-hadoop-mr-bundle.txt|6 2
Modified: dependencies/hudi-integ-test-bundle.txt|9 26
Modified: dependencies/hudi-spark-bundle_2.11.txt|0 1
Modified: dependencies/hudi-spark-bundle_2.12.txt|0 1
Modified: dependencies/hudi-spark3-bundle_2.12.txt|0 1
Modified: dependencies/hudi-utilities-bundle_2.11.txt|0 1
Modified: dependencies/hudi-utilities-bundle_2.12.txt|3 4
Modified: packaging/hudi-flink-bundle/pom.xml|4 0
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|10 0
Modified: packaging/hudi-spark-bundle/pom.xml|4 0
Modified: packaging/hudi-utilities-bundle/pom.xml|4 0

Revision: 5302b9a4efdb2b13a17561709459e8a1a55d060e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 02/11/2021 07:14:48
Message:
[HUDI-2662] Downloads from Nexus Pentaho repo taking too long (#3901) #MsgLength=129


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|5 6
Modified: pom.xml|2 2

Revision: 35111131c389704b2f5d4062c8ab73582f61ef13
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 02/11/2021 12:16:45
Message:
[HUDI-2005] Fixing partition path creation in AbstractTableFileSystemView (#3769) #MsgLength=83


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|7 3

Revision: 2eaf0fd939f680638e711f66cbdef1f7931b1ed1
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 02/11/2021 18:54:36
Message:
[HUDI-2472] Enabling Metadata table for some of TestCleaner unit tests (#3803) #MsgLength=225


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|12 10

Revision: f239187da8052680bde355efbaa33149d37b4280
Author:  <dongkelun01@inspur.com>
Date: 02/11/2021 19:43:20
Message:
[HUDI-2515] Add close when producing records failed (#3746) #MsgLength=61


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetReaderIterator.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryQueue.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetReaderIterator.java|5 2

Revision: f9bc3e03e52469a387524b5d0d2a6aafd9a9e71d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 03/11/2021 00:16:38
Message:
[MINOR] Adding a deprecated constructor to AbstractSyncHoodieClient (#3902) #MsgLength=77


----
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|6 0
Modified: pom.xml|0 4

Revision: d194643b49834a772657b61a90cd1e64aa754282
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 03/11/2021 00:31:57
Message:
[HUDI-2101][RFC-28] support z-order for hudi (#3330) #MsgLength=225


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|103 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|25 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java|186 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|10 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java|129 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|7 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|98 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|31 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|1 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java|355 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|41 0
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala|526 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|99 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|58 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|6 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|84 8
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|208 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestOptimizeTable.scala|149 0

Revision: dee3a14aaee149d3034191e5ca40fe87bd7e63fa
Author: Carl-Zhou-CN <67902676+Carl-Zhou-CN@users.noreply.github.com>
Date: 03/11/2021 06:05:09
Message:
[HUDI-2582] Support concurrent key gen for different tables with row writer path (#3817) #MsgLength=142


----
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|9 9
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|29 7

Revision: 1f17467f735c28df0a7c52ac09ec3e49c99b793a
Author: Yann Byron <biyan900116@gmail.com>
Date: 03/11/2021 09:25:12
Message:
[HUDI-1869] Upgrading Spark3 To 3.1 (#3844) #MsgLength=103


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|8 5
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|5 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIncompatibleSchemaException.java|33 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|7 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|9 9
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala|28 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HooodieAvroDeserializer.scala|36 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|6 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|18 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|1 13
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala|4 4
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|4 0
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java|46 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|12 4
Added: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java|58 0
Modified: hudi-sync/hudi-hive-sync/pom.xml|6 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java|13 1
Modified: pom.xml|13 2

Revision: 6351e5f4d042b14cd0f6715c36f23d75fcc8e091
Author: Yann Byron <biyan900116@gmail.com>
Date: 03/11/2021 10:04:23
Message:
[HUDI-2538] persist some configs to hoodie.properties when the first write (#3823) #MsgLength=84


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|7 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/factory/HoodieSparkKeyGeneratorFactory.java|63 35
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|7 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|11 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|12 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|16 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|24 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|4 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|87 31
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|6 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|7 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|53 30
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|10 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|38 14
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|32 28
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|15 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|10 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|107 30
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|9 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|6 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|1 0

Revision: b12a25b0b17f98dace51b2d6e260509d4089e0cd
Author: Alexey Kudinkin <alexey.kudinkin@gmail.com>
Date: 03/11/2021 11:06:26
Message:
[MINOR] Fixed RAT config for "hudi-utilities-bundle" to ignore transient build-bound artifiacts (#3909) #MsgLength=105


----
Modified: packaging/hudi-utilities-bundle/pom.xml|22 0

Revision: 5517d292f917821879d41af515f4ed7331d54ba2
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 03/11/2021 11:10:18
Message:
[HUDI-2674] hudi hive reader should not print read values. (#3910) #MsgLength=68


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieCombineRealtimeRecordReader.java|0 3

Revision: 7fc7e9b2bc6c5aeabd6f490376e9e0ae76e07874
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/11/2021 14:30:20
Message:
[HUDI-2660] Delete the view storage properties first before creation (#3899) #MsgLength=78


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|1 0

Revision: f2fb1aac26fdde87a800939b4a2016092b4fe9d4
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date: 03/11/2021 20:23:40
Message:
[HUDI-2509] OverwriteNonDefaultsWithLatestAvroPayload doesn`t work when upsert data with some null value column (#3761) #MsgLength=167


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java|31 0

Revision: acc40625f594576353919323c2b34c43309f18d5
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 03/11/2021 20:36:01
Message:
[HUDI-2676] Hudi should synchronize owner information to hudi _rt/_ro table. (#3911) #MsgLength=86


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|2 0

Revision: 8932c4f7b57ef5290f48f35c9a8362bd28b0ca42
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/11/2021 22:12:49
Message:
[HUDI-2678] flink writer writes huge log file (#3916) #MsgLength=55


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|0 5

Revision: 689020f30314477f4578b84bf3805a8d7d653c3f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/11/2021 16:23:36
Message:
[HUDI-2684] Use DefaultHoodieRecordPayload when precombine field is specified specifically (#3922) #MsgLength=100


----
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/common/model/EventTimeAvroPayload.java|81 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|9 0
Modified: packaging/hudi-flink-bundle/pom.xml|4 0

Revision: dbf8c44bdb3019f2ce93d6b1224d9d478c0340fa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/11/2021 18:09:00
Message:
[HUDI-2677] Add DFS based message queue for flink writer (#3915) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|2 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|24 41
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|25 15
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|81 17
Added: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageBus.java|173 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageClient.java|126 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageDriver.java|132 0
Added: hudi-flink/src/test/java/org/apache/hudi/sink/message/TestMessageBus.java|137 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|1 0

Revision: 33436aa359093246f31b53530d8890a4ce07cfcb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/11/2021 20:48:57
Message:
Revert "[HUDI-2677] Add DFS based message queue for flink writer (#3915)" (#3923) #MsgLength=144


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|6 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|41 24
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|15 25
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|17 81
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageBus.java|0 173
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageClient.java|0 126
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/message/MessageDriver.java|0 132
Deleted: hudi-flink/src/test/java/org/apache/hudi/sink/message/TestMessageBus.java|0 137
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|0 1

Revision: 2c1e25932996cbf47c7cd56d944d1d9103f01c34
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 05/11/2021 12:16:21
Message:
[HUDI-2651] Sync all the missing sql options for HoodieFlinkStreamer (#3903) #MsgLength=131


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|38 5

Revision: f67da0c7d0831db0b4eba7111c634eb50eaec760
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 05/11/2021 14:36:22
Message:
[HUDI-2686] Proccess record after all bootstrap operator ready (#3925) #MsgLength=125


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|28 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java|53 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java|50 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java|2 2

Revision: 3af6568d316f410184e3d4dcfdbf00a8802b1fb8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/11/2021 16:37:23
Message:
[HUDI-2696] Remove the aborted checkpoint notification from coordinator (#3926) #MsgLength=81


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|3 11
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|9 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|4 20
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java|5 21
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|4 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java|6 7

Revision: b7ee341e14507f2562f8c3a3212daf8686631e05
Author: Prashant Wason <pwason@uber.com>
Date: 05/11/2021 21:31:42
Message:
[HUDI-1794] Moved static COMMIT_FORMATTER to thread local variable as SimpleDateFormat is not thread safe. (#2819) #MsgLength=116


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|31 15
Added: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|84 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|2 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|45 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|2 2

Revision: 844346c3ab100a857b547137aca003c45e523eb9
Author:  <dongkelun01@inspur.com>
Date: 05/11/2021 22:50:16
Message:
[HUDI-2471] Add support ignoring case in merge into (#3700) #MsgLength=61


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|15 14
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|21 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|111 0

Revision: 08c35a55b3133ddaead0581c9129e88a869421a1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 06/11/2021 01:03:41
Message:
[HUDI-2526] Make spark.sql.parquet.writeLegacyFormat configurable (#3917) #MsgLength=75


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|22 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|8 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java|15 10

Revision: 9a8963d05eb93849e84151a63eecf12afe1017ce
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/11/2021 12:23:15
Message:
[HUDI-2702] Set up keygen class explicit for write config for flink table upgrade (#3931) #MsgLength=91


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: f41539a9cb5fd619bb0ec0c9af5484f316490303
Author: Genmao Yu <hustyugm@gmail.com>
Date: 07/11/2021 00:16:13
Message:
[HUDI-313] bugfix: NPE when select count start from a  realtime table with Tez(#3630) #MsgLength=132


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|1 1

Revision: e0285800fb5609fcf27b523109e369a8d7d6b27d
Author: manasaks <manasas2004@gmail.com>
Date: 07/11/2021 00:23:20
Message:
HUDI-1827 : Add ORC support in Bootstrap Op (#3457) #MsgLength=110


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java|43 10
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BaseBootstrapMetadataHandler.java|82 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapMetadataHandler.java|38 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/MetadataBootstrapHandlerFactory.java|46 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java|90 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java|94 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java|75 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|2 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|7 0
Added: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java|75 0
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkFullBootstrapDataProviderBase.java|85 0
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkOrcBootstrapDataProvider.java|38 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkParquetBootstrapDataProvider.java|3 51
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|503 0

Revision: cf2ecd77badcaa713ce12d7c9126aa57662d3a3f
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 08/11/2021 02:19:17
Message:
[HUDI-2679] Fix the TestMergeIntoLogOnlyTable typo. (#3918) #MsgLength=61


----
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoLogOnlyTable.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMereIntoLogOnlyTable.scala]|1 1

Revision: c7bf2c76876227b30fc030a9a01ac60f9a8d2956
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/11/2021 15:08:49
Message:
[HUDI-2709] Add more options when initializing table (#3939) #MsgLength=62


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 2

Revision: 7aaf47e716a303b5fea5150a5093a849f60ff607
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 08/11/2021 16:56:03
Message:
[HUDI-2698] Remove the table source options validation (#3940) #MsgLength=117


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|1 5

Revision: 6d109c6de5078560abab96f96dc2a9bfe9ed8e57
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 09/11/2021 11:12:32
Message:
[HUDI-2595] Fixing metadata table updates such that only regular writes from data table can trigger table services in metadata table (#3900) #MsgLength=142


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|7 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|14 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/common/testutils/HoodieMetadataTestTable.java|6 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|5 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|6 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|6 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|5 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|37 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|38 13

Revision: e057a10499729301ebe96d7cd54902b113af1811
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/11/2021 15:40:00
Message:
[HUDI-2715] The BitCaskDiskMap iterator may cause memory leak (#3951) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|2 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ClosableIterator.java|31 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|9 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/LazyFileIterable.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 6

Revision: 2f95967dfe0b5286bbb3b0f48a2de7cb8fcc7b7c
Author: Prashant Wason <pwason@uber.com>
Date: 09/11/2021 23:26:20
Message:
[HUDI-2591] Bootstrap metadata table only if upgrade / downgrade is not required. (#3836) #MsgLength=91


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|40 19
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|19 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|30 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|6 23

Revision: dfe3b84715e8fecfa96ef615c217f5eaf0da94e8
Author: davehagman <73851873+davehagman@users.noreply.github.com>
Date: 10/11/2021 06:37:59
Message:
[HUDI-2579] Make deltastreamer checkpoint state merging more explicit (#3820) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|28 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 24
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestTransactionUtils.java|98 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|46 17

Revision: bb6a19e7d71a91f23e17bf2fe5dcb8ecf4affde2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/11/2021 12:17:50
Message:
[HUDI-1877] Support records staying in same fileId after clustering (#3833) #MsgLength=228


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/CreateHandleFactory.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/SingleFileHandleCreateFactory.java|5 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|3 2
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSingleFileSortPlanStrategy.java|60 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|12 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|40 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|80 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|4 27
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java|5 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|8 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|8 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|47 18

Revision: fd0f5df26d9bc307a6a5b39089c8263e3b7574d4
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 10/11/2021 14:05:12
Message:
[HUDI-2297] Estimate available memory size for spillable map accurately. (#3455) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/IOUtils.java|10 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkTaskContextSupplier.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineProperty.java|2 1

Revision: a40ac62e0ce7ec807a00803d23ed223d7c607459
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 10/11/2021 15:41:07
Message:
[HUDI-2086]redo the logical of mor_incremental_view for hive (#3203) #MsgLength=70


----
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java|118 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|10 2
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java|106 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java|103 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieEmptyRecordReader.java|68 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|202 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|45 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|85 22
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|268 1

Revision: 187bedf79531e089eb40acf03ca72c2d54400b0e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/11/2021 16:53:24
Message:
[HUDI-2442] Change default values for certin clustering configs (#3875) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|9 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|7 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|0 6

Revision: 2d362af00ae61ab76ff45fd83f142d3af4bd0909
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 10/11/2021 20:22:24
Message:
[HUDI-2730] Move EventTimeAvroPayload into hudi-common module (#3959) #MsgLength=124


----
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/EventTimeAvroPayload.java [from hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/common/model/EventTimeAvroPayload.java]|0 0

Revision: 90f9b4562abaef955cbff54f539ec867d8708b60
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 11/11/2021 10:13:21
Message:
[HUDI-2685] Support scheduling online compaction plan when there are no commit data (#3928) #MsgLength=146


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|10 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|9 7
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|32 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|9 3
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|9 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|44 4
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|31 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|1 1

Revision: 77b0440eb4fdbb01d41aa27b4fa2a8d45a20b293
Author: Prashant Wason <pwason@uber.com>
Date: 11/11/2021 11:37:48
Message:
[HUDI-2634] Improved the metadata table bootstrap for very large tables. (#3873) #MsgLength=1334


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|134 65
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|16 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileFormat.java|10 0

Revision: 90529aa55263b5ea6e02277b27017e5178b0586c
Author: Yann Byron <biyan900116@gmail.com>
Date: 11/11/2021 11:54:34
Message:
[HUDI-2495] Resolve inconsistent key generation for timestamp types  by GenericRecord and Row (#3944) #MsgLength=103


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|3 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|2 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala|116 0

Revision: 6b93ccca9b26b47099e9791d4363e0616e77e408
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 11/11/2021 21:03:01
Message:
[HUDI-2738] Remove the bucketAssignFunction useless context (#3972) #MsgLength=122


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|0 14
Deleted: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignOperator.java|0 57
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|6 18

Revision: bc511edc85261c6332b5438591249f76dd03d447
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 12/11/2021 12:17:58
Message:
[HUDI-2746] Do not bootstrap for flink insert overwrite (#3980) #MsgLength=65


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|31 4
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|30 0

Revision: 4f217fe718b0b4e9656c2a45f7b89cb5df15a4f2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 12/11/2021 20:29:37
Message:
[HUDI-2151] Part1 Setting default parallelism to 200 for some of write configs (#3948) #MsgLength=88


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1

Revision: 9720820975be61c9a211a24785a28cf0e8b0d7b3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 12/11/2021 21:18:40
Message:
[HUDI-2718] ExternalSpillableMap payload size re-estimation throws ArithmeticException (#3955) #MsgLength=595


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|36 6

Revision: 93fd3517e319473fed74e62bf09e41e4348c843c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 13/11/2021 06:28:25
Message:
[HUDI-2741] Fixing instantiating metadata table config in HoodieFileIndex (#3974) #MsgLength=83


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1

Revision: 0e8461e9abc97537954a2c1dd716aed53e52dc62
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 13/11/2021 09:12:33
Message:
[HUDI-2697] Minor changes about hbase index config. (#3927) #MsgLength=61


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 3

Revision: 994922a1593824744f93fd1408fcf1807cf4ebc1
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 14/11/2021 08:37:30
Message:
[HUDI-2472] Enabling metadata table in TestHoodieIndex and TestMergeOnReadRollbackActionExecutor (#3978) #MsgLength=233


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|3 2

Revision: c2f9094b493ed28a63bdaed10ce4349261c3cea6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/11/2021 08:51:54
Message:
[HUDI-2756] Fix flink parquet writer decimal type conversion (#3988) #MsgLength=70


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|1 1
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/FixedLenBytesColumnReader.java|85 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|1 2

Revision: 0bb6d8ff80cd49dd05d2cfa427d36f2c97dd77a8
Author: Yann Byron <biyan900116@gmail.com>
Date: 15/11/2021 07:44:39
Message:
[HUDI-2706] refactor spark-sql to make consistent with DataFrame api (#3936) #MsgLength=78


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|7 31
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|72 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|61 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|7 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|1 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|7 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|130 119
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|13 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|46 49
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|24 17
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|19 14
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|2 2
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite2.scala|47 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|70 17
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala|184 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|29 14
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoLogOnlyTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|11 11
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|1 1

Revision: a14d1040b909658920a8c95a9b9914d0806ca6fd
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 15/11/2021 09:47:41
Message:
[HUDI-2589] Claiming RFC-37 for Metadata based bloom index feature. (#3995) #MsgLength=77


----
Modified: rfc/README.md|2 1

Revision: a0dae41409a4f2d509aae1b16a4b509ec774c454
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 15/11/2021 11:29:40
Message:
[HUDI-2758] remove redundant code in the hoodieRealtimeInputFormatUitls.getRealtimeSplits (#3994) #MsgLength=99


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|0 4

Revision: 3c4319729c7b5ae1ae39e46bd0ac3451fa1df032
Author: dufeng1010 <dufeng1010@126.com>
Date: 15/11/2021 14:39:43
Message:
[MINOR] Fix typo in IntervalTreeBasedGlobalIndexFileFilter (#3993) #MsgLength=112


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/IntervalTreeBasedGlobalIndexFileFilter.java|2 2

Revision: 53d2d6ae241f86aaf337abc50d3f00232fa87d00
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 15/11/2021 20:27:35
Message:
[HUDI-2744] Fix parsing of metadadata table compaction timestamp when metrics are enabled (#3976) #MsgLength=99


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|32 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|8 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|14 0

Revision: 38b6934352abd27b98332cce005f18102b388679
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 15/11/2021 22:36:54
Message:
[HUDI-2683] Parallelize deleting archived hoodie commits (#3920) #MsgLength=114


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|10 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|29 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|18 7

Revision: bff8769ed438aae36bbfc1ebefca63889418df18
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 16/11/2021 11:36:03
Message:
[HUDI-2712] Fixing a bug with rollback of partially failed commit which has new partitions (#3947) #MsgLength=100


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|9 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|64 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|5 3

Revision: 6f5e661010a85f3426131111baff962a6d6ba91e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/11/2021 13:46:34
Message:
[HUDI-2769] Fix StreamerUtil#medianInstantTime for very near instant time (#4005) #MsgLength=83


----
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|2 0

Revision: cbcbec4d3831d6236a2dbf1f17d50b447800994a
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 17/11/2021 10:30:16
Message:
[MINOR] Fixed checkstyle config to be based off Maven root-dir (requires Maven >=3.3.1 to work properly); (#4009) #MsgLength=129


----
Modified: README.md|1 1
Modified: pom.xml|2 0
Modified: style/checkstyle.xml|1 1

Revision: 04eb5fdc651bce3b34f17c1828879b18f1b1b6f8
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 17/11/2021 12:36:55
Message:
[HUDI-2753] Ensure list based rollback strategy is used for restore (#3983) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java|5 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|3 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|4 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|2 1

Revision: ce7d2333078e4e1f16de1bce6d448c5eef1e4111
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 17/11/2021 14:21:28
Message:
[HUDI-2151] Part3 Enabling marker based rollback as default rollback strategy (#3950) #MsgLength=290


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java|0 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|6 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|4 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|1 1

Revision: aec5d11da2e8a025fb6c8659a648f9e2d36990d6
Author: 0x574C <761604382@qq.com>
Date: 17/11/2021 14:45:43
Message:
Check --source-avro-schema-path  parameter (#3987) #MsgLength=86


----
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|3 1

Revision: 4d884bdaa9affae9ce920c83f799ff9e1be99861
Author:  <dongkelun01@inspur.com>
Date: 17/11/2021 16:50:04
Message:
[MINOR] Fix typo,'Hooide' corrected to 'Hoodie' (#4007) #MsgLength=57


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala|2 2

Revision: 826414cff5adb5006066bdedb843ed864709b048
Author:  <26039470+lubo212@users.noreply.github.com>
Date: 17/11/2021 22:47:52
Message:
[MINOR] Add the Schema for GooseFS to StorageSchemes (#3982) #MsgLength=102


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|2 0

Revision: 1ee12cfa6fa8d18546af11a7ae03cb0e4969460f
Author: wenningd <wenningding95@gmail.com>
Date: 18/11/2021 01:09:31
Message:
[HUDI-2314] Add support for DynamoDb based lock provider (#3486) #MsgLength=178


----
Added: hudi-aws/pom.xml|194 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/credentials/HoodieAWSCredentialsProviderFactory.java|45 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/credentials/HoodieConfigAWSCredentialsProvider.java|70 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java|219 0
Added: hudi-aws/src/main/java/org/apache/hudi/config/AWSLockConfiguration.java|84 0
Added: hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java|148 0
Added: hudi-aws/src/test/java/org/apache/hudi/aws/TestHoodieAWSCredentialsProviderFactory.java|42 0
Added: hudi-aws/src/test/java/org/apache/hudi/aws/transaction/integ/ITTestDynamoDBBasedLockProvider.java|120 0
Added: hudi-aws/src/test/resources/log4j-surefire.properties|25 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java|2 1
Modified: packaging/hudi-flink-bundle/pom.xml|5 0
Modified: packaging/hudi-spark-bundle/pom.xml|5 0
Modified: packaging/hudi-utilities-bundle/pom.xml|5 0
Modified: pom.xml|17 0

Revision: f715cf607f0692e6500a295a0ab5604f3979df3a
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 18/11/2021 02:59:38
Message:
[HUDI-2716] InLineFS support for S3FS logs (#3977) #MsgLength=52


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFSUtils.java|40 25
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFileSystem.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|4 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|58 0

Revision: 2d3f2a3275ba615245fcabda96b8282cb86940ad
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 18/11/2021 03:43:00
Message:
[HUDI-2734] Setting default metadata enable as false for Java (#4003) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|22 0

Revision: 71a2ae0fd6163d3108c6557ce6295f649246adcb
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/11/2021 13:59:03
Message:
[HUDI-2789] Flink batch upsert for non partitioned table does not work (#4028) #MsgLength=80


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|8 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|10 11
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|5 0

Revision: 8772cec4bdfe71d4dfcc1b92cb39075c71a363b9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/11/2021 16:40:48
Message:
[HUDI-2790] Fix the changelog mode of HoodieTableSource (#4029) #MsgLength=65


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|10 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|4 5
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|2 2

Revision: 24def0b30dabd3c447fbfbde636868f1913e9074
Author: wenningd <wenningding95@gmail.com>
Date: 18/11/2021 17:59:26
Message:
[HUDI-2362] Add external config file support (#3416) #MsgLength=106


----
Added: conf/hudi-defaults.conf.template|26 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|119 36
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|19 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|40 4
Added: hudi-common/src/test/resources/external-config/hudi-defaults.conf|26 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 10
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|22 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|9 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/resources/external-config/hudi-defaults.conf|23 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala|104 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|4 11
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|10 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2

Revision: 4e067ca581975596df04a30296a537fe1905bbfe
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 18/11/2021 21:33:50
Message:
[HUDI-2641] Avoid deleting all inflight commits heartbeats while rolling back failed writes (#3956) #MsgLength=101


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|2 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/heartbeat/HeartbeatUtils.java|14 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|66 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|72 6

Revision: 7a00f867aef79f2c0f411f0f9ff22572fb61093e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/11/2021 14:30:17
Message:
[HUDI-2791] Allows duplicate files for metadata commit (#4033) #MsgLength=64


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|2 1

Revision: bf008762dfa3215823d47184e6f4e6d4f7bd03fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/11/2021 23:39:37
Message:
[HUDI-2798] Fix flink query operation fields (#4041) #MsgLength=54


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|15 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|46 21
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|6 4
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|10 7

Revision: eba354e922e5bf28f961e5ac7905b110315d71cf
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 20/11/2021 00:09:08
Message:
[HUDI-2731] Make clustering work regardless of whether there are base (#3970) #MsgLength=80


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|4 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|98 21
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|33 13

Revision: 459b34240bc041be0fba7312f096980da024a5d9
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 20/11/2021 07:11:29
Message:
[HUDI-2593] Virtual keys support for metadata table (#3968) #MsgLength=827


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|6 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|21 4
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java|52 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|7 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|19 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|3 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|15 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|15 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|73 20
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|10 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|9 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|16 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|14 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|35 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|12 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|25 9
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|21 10
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|41 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|12 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|2 2
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip|0 0
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip|0 0

Revision: c8617d93904bbc17088bc7e8727b04e0a2be3395
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 20/11/2021 09:02:21
Message:
[HUDI-2472] Enabling metadata table for TestHoodieMergeOnReadTable and TestHoodieCompactor (#4023) #MsgLength=100


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|22 14
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|13 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|25 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|4 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java|19 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 0

Revision: 0230d40b74ee0bf99ff1d3d06ad1a7db26bef017
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 20/11/2021 09:02:57
Message:
[HUDI-2796] Metadata table support for Restore action to first commit (#4039) #MsgLength=215


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|53 14
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|5 3

Revision: 3dc626243742613dcef5bf56acf57c47de0262db
Author: wenningd <wenningding95@gmail.com>
Date: 20/11/2021 11:38:38
Message:
[HUDI-2242] Add configuration inference logic for few options (#3359) #MsgLength=123


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|67 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|38 35
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|4 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceOptions.scala|51 0

Revision: 6cc97cc0c9a7f904b8e69f29c5c875f260758f39
Author: Ron <ldliulsy@163.com>
Date: 20/11/2021 11:55:12
Message:
Remove the aws packages from hudi flink bundle jar (#4050) #MsgLength=60


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 5

Revision: f4b974ac7bde019e5b1ff0813297994cfbcfceff
Author: Harsha Teja Kanna <h7kanna@users.noreply.github.com>
Date: 20/11/2021 17:24:21
Message:
[HUDI-2742] Added S3 object filter to support multiple S3EventsHoodieIncrSources single S3 meta table (#4025) #MsgLength=111


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|17 4

Revision: ae0c67d9fc7c75dca46655135fd7ab63832aebb2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 21/11/2021 00:07:40
Message:
[HUDI-2795] Add mechanism to safely update,delete and recover table properties (#4038) #MsgLength=614


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|73 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|26 62
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|95 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/bootstrap/TestBootstrapIndex.java|1 1
Added: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java|137 0

Revision: 1a5484d2db1dbf7b6f2b8d87b2fb7dba8ad455aa
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 21/11/2021 09:28:48
Message:
[MINOR] Claim RFC number for RFC for debezium source for deltastreamer (#4047) #MsgLength=80


----
Modified: rfc/README.md|2 1

Revision: 305d160081d29c26a247cc7a5d085e1fb370820a
Author: dufeng1010 <dufeng1010@126.com>
Date: 21/11/2021 10:11:01
Message:
[MINOR] optimize in constructor of inputbatch class (#4040) #MsgLength=105


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|1 3

Revision: 74b59a44ec4047a53288d1d7cb69269b35c82bc6
Author: leesf <490081539@qq.com>
Date: 21/11/2021 10:59:12
Message:
[HUDI-2813] Claim RFC number for RFC for spark datasource V2 Integration (#4059) #MsgLength=82


----
Modified: rfc/README.md|1 0

Revision: 0411f73c7d33e36bd8d12e7eae948518704a9548
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/11/2021 12:38:56
Message:
[HUDI-2804] Add option to skip compaction instants for streaming read (#4051) #MsgLength=79


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|11 0
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|21 4
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|3 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|22 0

Revision: 520538b15dd83af47c32113aeebba96149493ffa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/11/2021 13:27:18
Message:
[HUDI-2392] Make flink parquet reader compatible with decimal BINARY encoding (#4057) #MsgLength=87


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|3 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|4 3

Revision: 887787e8b9b786f20f5fe3fb6d61c820f49aa4cb
Author: Nate Radtke <5672085+nateradtke@users.noreply.github.com>
Date: 21/11/2021 14:41:05
Message:
[HUDI-1932] Update Hive sync timestamp when change detected (#3053) #MsgLength=829


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|15 5
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|31 0

Revision: 2533a9cc17dd491b620b42df1a7b17350a1e69a1
Author:  <dongkelun01@inspur.com>
Date: 21/11/2021 16:34:59
Message:
[MINOR] Fix typos (#4053) #MsgLength=27


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|12 12

Revision: 8281cbf7624c3a4eb90bf58671daf76843d00819
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/11/2021 11:05:05
Message:
[HUDI-2799] Fix the classloader of flink write task (#4042) #MsgLength=61


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|2 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|2 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|2 0

Revision: 02f7ca2b0518b0a61d539e9f0781b70835aea287
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/11/2021 18:16:45
Message:
[HUDI-1870] Add more Spark CI build tasks  (#4022) #MsgLength=464


----
Modified: .github/workflows/bot.yml|8 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|5 3
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/utils/SparkSqlUtils.scala|6 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|7 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|5 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|4 4
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java|0 4

Revision: a2c91a7a9b582cc25dbdf27534dd71265a23a39c
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 22/11/2021 19:00:33
Message:
[HUDI-2533] New option for hoodieClusteringJob to check, rollback and re-execute the last failed clustering job (#3765) #MsgLength=256


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|35 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|60 6

Revision: 7f3b89fad7dd8238bd0c90585e4b7f914d23093e
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 22/11/2021 20:21:24
Message:
[HUDI-2472] Enabling metadata table for TestHoodieIndex test case (#4045) #MsgLength=204


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|6 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|19 3

Revision: 89452063b4fcc6d10634c1d3eda8ba736ac0dc44
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 22/11/2021 21:57:44
Message:
[MINOR] Fix instant parsing in HoodieClusteringJob (#4071) #MsgLength=60


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 1

Revision: fc9ca6a07aab51db4bc36ade71c6c661f9e4ed42
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 23/11/2021 00:44:38
Message:
[HUDI-2559] Converting commit timestamp format to millisecs (#4024) #MsgLength=255


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|58 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|28 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 5
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|9 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|3 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|2 2

Revision: fe57e9beea54ac54ac0c0d204b7338deb7f36369
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/11/2021 01:23:50
Message:
[HUDI-2599] Make addFilesToview and fetchLatestBaseFiles public (#4066) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 2

Revision: 3bdab01a498d605faede833af2d88cd8ec9237a0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 23/11/2021 08:19:59
Message:
[HUDI-2550] Expand File-Group candidates list for appending for MOR tables (#3986) #MsgLength=84


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|15 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java|61 56
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|44 1

Revision: 772af935d531c627100136fa2ff90ef826b4b536
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/11/2021 09:19:41
Message:
[HUDI-2737] Use earliest instant by default for async compaction and clustering jobs (#3991) #MsgLength=194


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|7 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|10 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|30 18
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|27 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|9 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|13 8

Revision: 0d1e7ecdab89026b52c5e26c4374690f77b4737c
Author: Jimmy.Zhou <zhouyongjin@inspur.com>
Date: 23/11/2021 09:20:23
Message:
[MINOR] Fix typo,'multipe' corrected to 'multiple' (#4068) #MsgLength=60


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|1 1

Revision: e22150fe15da2985b20077d2e0734fcd46b85a6f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/11/2021 09:59:03
Message:
[HUDI-1937] Rollback unfinished replace commit to allow updates (#3869) #MsgLength=386


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java|18 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|6 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|23 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|64 21

Revision: 6aa710eae01382d0e8cd3bb0f71b5ee3d5105b11
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/11/2021 10:03:38
Message:
[MINOR] Add more configuration to Kafka setup script (#3992) #MsgLength=180


----
Modified: hudi-kafka-connect/README.md|11 3
Modified: hudi-kafka-connect/demo/setupKafka.sh|61 33

Revision: c88c2af8bfa37ee74259cb2ccbd79a74ebb1c722
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/11/2021 11:13:10
Message:
[HUDI-2743] Assume path exists and defer fs.exists() in AbstractTableFileSystemView (#4002) #MsgLength=93


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|8 5

Revision: 9de995134888b6e36fac1f50722b4d3577d00ab3
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 23/11/2021 13:46:02
Message:
[HUDI-2778] Optimize statistics collection related codes and add some docs for z-order add fix some bugs (#4013) #MsgLength=259


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|11 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java|8 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|30 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|52 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestOptimizeTable.scala|72 5

Revision: 9ed28b1570d57adc42e6ee1de6edd7d49fd70304
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 23/11/2021 13:55:12
Message:
[HUDI-2409] Using HBase shaded jars in Hudi presto bundle (#3623) #MsgLength=292


----
Modified: packaging/hudi-presto-bundle/pom.xml|54 0

Revision: ca9bfa2a4000575dbaa379c91898786f040a9917
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/11/2021 16:53:28
Message:
[HUDI-2332] Add clustering and compaction in Kafka Connect Sink (#3857) #MsgLength=982


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|46 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java|33 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|10 6
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|46 1
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaRecentDaysClusteringPlanStrategy.java|65 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaSizeBasedClusteringPlanStrategy.java|131 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|242 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java|70 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java|62 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|73 6
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|22 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|9 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaClusteringPlanActionExecutor.java|43 0
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaExecuteClusteringCommitActionExecutor.java|123 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|2 1
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/compact/HoodieJavaMergeOnReadTableCompactor.java|56 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestJavaBulkInsertInternalPartitioner.java|98 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|4 26
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java|0 37
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|51 7
Modified: hudi-kafka-connect/README.md|130 2
Modified: hudi-kafka-connect/demo/config-sink.json|1 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|9 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|27 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 1

Revision: 969a5bf11e1c1e2f65b33cd75f36da76931332d0
Author:  <dongkelun01@inspur.com>
Date: 23/11/2021 19:10:57
Message:
[MINOR] Fix typo,rename 'HooodieAvroDeserializer' to 'HoodieAvroDeserializer' (#4064) #MsgLength=87


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|4 4
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HooodieAvroDeserializer.scala]|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|2 2

Revision: fbff0799b999c5cc49d5a36fd2538f9bf5c6c60d
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 24/11/2021 07:48:06
Message:
[HUDI-2325] Add hive sync support to kafka connect (#3660) #MsgLength=129


----
Modified: hudi-kafka-connect/README.md|90 24
Modified: hudi-kafka-connect/demo/config-sink.json|15 4
Modified: hudi-kafka-connect/demo/connect-distributed.properties|1 1
Modified: hudi-kafka-connect/demo/setupKafka.sh|6 5
Modified: hudi-kafka-connect/pom.xml|19 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|10 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|0 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|55 2
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java|1 1
Deleted: hudi-kafka-connect/src/test/resources/log4j-surefire.properties|0 32
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|147 14

Revision: 18cf59507fe32971da79c0e7c039730e57c5d207
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 24/11/2021 09:25:11
Message:
[HUDI-2831] Securing usages of `SimpleDateFormat` to be thread-safe (#4073) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/BoundedPartitionAwareCompactionStrategy.java|6 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/DayBasedCompactionStrategy.java|8 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|7 2

Revision: 5078d29eb429d7eca46c3d5c3aa72d94e088d43e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 24/11/2021 11:43:34
Message:
[HUDI-2818] Fix 2to3 upgrade when set `hoodie.table.keygenerator.class` (#4077) #MsgLength=81


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|9 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|2 2
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/upgrade/TestTwoToThreeUpgradeHandler.java|68 0

Revision: 0cf2f103e07483f24b904b45f348bcc041e0c7ad
Author: Yann Byron <biyan900116@gmail.com>
Date: 24/11/2021 11:46:48
Message:
[HUDI-2838] refresh table after drop partition (#4084) #MsgLength=56


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|1 0

Revision: 323be33f185fbb4d3dd51acd5bcc8ad9a6fc3fe5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/11/2021 12:01:18
Message:
Revert "[HUDI-2799] Fix the classloader of flink write task (#4042)" (#4069) #MsgLength=139


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|0 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|0 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|0 2

Revision: 0bb506fa00de5c195c8e409c13091c2e264472d0
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/11/2021 17:34:42
Message:
[HUDI-2847] Flink metadata table supports virtual keys (#4096) #MsgLength=64


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|15 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|26 0

Revision: a234833f0a9d6fb772d6579c576c70de160befbc
Author: Yann Byron <biyan900116@gmail.com>
Date: 24/11/2021 18:12:38
Message:
[HUDI-2759] extract HoodieCatalogTable to coordinate spark catalog table and hoodie table (#3998) #MsgLength=99


----
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|303 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|38 39
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|21 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|20 24
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|17 20
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|20 31
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|7 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|14 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|50 221
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|8 14
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|56 76
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|16 27
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala|9 20
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|13 21
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|19 25
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|5 5

Revision: 9af219b7c10f44756afabcc9bcd11cba552aa12c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 25/11/2021 00:43:37
Message:
[HUDI-2688] Claim the next rfc 40 for Hudi connector for Trino (#4105) #MsgLength=72


----
Modified: rfc/README.md|1 0

Revision: 90f2ea2f12cde2104bf84b1254176673a82f4b55
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 25/11/2021 02:03:58
Message:
[HUDI-2671] Fix kafka offset handling in Kafka Connect protocol (#4021) #MsgLength=142


----
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionParticipant.java|34 13
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/TransactionInfo.java|6 6
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionParticipant.java|69 76
Renamed: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockKafkaConnect.java [from hudi-kafka-connect/src/test/java/org/apache/hudi/helper/TestKafkaConnect.java]|38 23

Revision: 973f78f5caa4b9483bef3b27e98bafcef0f2f136
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 25/11/2021 02:05:36
Message:
[HUDI-2443] Hudi KVComparator for all HFile writer usages (#3889) #MsgLength=1188


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|6 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java|23 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|10 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|7 7
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHBaseKVComparator.java|29 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java|2 1

Revision: 60b23b979739601f413cdc30da1eae0c18fcb5e6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/11/2021 02:10:28
Message:
[HUDI-2788] Fixing issues w/ Z-order Layout Optimization (#4026) #MsgLength=851


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java|42 39
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|104 47
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|98 65
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestOptimizeTable.scala]|43 28

Revision: ff94d92980816adc5a2feebe062835e083d8b8c6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 25/11/2021 02:15:40
Message:
[HUDI-2766] Cluster update strategy should not be fenced by write config (#4093) #MsgLength=118


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|23 27
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|39 28
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 2

Revision: 435ea1543c034194d7ca0b589b7b043fc49c07ac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 25/11/2021 07:26:40
Message:
[HUDI-2793] Fixing deltastreamer checkpoint fetch/copy over (#4034) #MsgLength=198


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|12 40
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 12
Deleted: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestTransactionUtils.java|0 98
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|24 12
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|26 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|47 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|25 26

Revision: 7286b56d305481a749f871d28bf170d6b4fff9e6
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 25/11/2021 08:03:01
Message:
[HUDI-2853] Add JMX deps in hudi utilities and kafka connect bundles (#4108) #MsgLength=149


----
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|2 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0

Revision: 51297736ca7f72076376d4d245b3c161bdfe57b2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/11/2021 08:53:29
Message:
[HUDI-2844][CLI] Fixing archived Timeline crashing if timeline contains REPLACE_COMMIT (#4091) #MsgLength=96


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|30 29

Revision: bef373fa1d86354fef0844e10e43a79e30cf70fd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/11/2021 09:17:46
Message:
[MINOR] Fix build failure due to checkstyle issues (#4111) #MsgLength=60


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|0 3

Revision: abc0175cf7a3577ac5078f6a4cd43569105ccf7e
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 25/11/2021 09:31:34
Message:
[HUDI-1290] [RFC-39] Deltastreamer avro source for Debezium CDC (#4048) #MsgLength=355


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-39/arch.png|0 0
Added: rfc/rfc-39/rfc-39.md|105 0

Revision: 83f8ed2ae3ba7fb20813cbb8768deae6244b020c
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 25/11/2021 09:57:02
Message:
[HUDI-1290] Add Debezium Source for deltastreamer (#4063) #MsgLength=559


----
Added: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/AbstractDebeziumAvroPayload.java|89 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/DebeziumConstants.java|81 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/MySqlDebeziumAvroPayload.java|67 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/PostgresDebeziumAvroPayload.java|130 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/debezium/TestMySqlDebeziumAvroPayload.java|131 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/debezium/TestPostgresDebeziumAvroPayload.java|181 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|1 1
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/DebeziumSource.java|243 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/MysqlDebeziumSource.java|104 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/PostgresDebeziumSource.java|87 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestAbstractDebeziumSource.java|209 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestMysqlDebeziumSource.java|100 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestPostgresDebeziumSource.java|97 0

Revision: a9bd20804baf65aec20be7f4fba500380c03bfb0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 25/11/2021 10:56:31
Message:
[HUDI-2792] Configure metadata payload consistency check (#4035) #MsgLength=164


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|16 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|36 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|8 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|16 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|20 13
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|19 0

Revision: 88067f57a23575aae3c371a7c7871e4207ca3bea
Author:  <dongkelun01@inspur.com>
Date: 25/11/2021 19:17:38
Message:
[HUDI-2855] Change the default value of 'PAYLOAD_CLASS_NAME' to 'DefaultHoodieRecordPayload' (#4115) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2

Revision: a2eb2b0b0af03be261d9d456c8ad75b3695793f7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/11/2021 22:30:09
Message:
[HUDI-2480] FileSlice after pending compaction-requested instant-time (#3703) #MsgLength=310


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|26 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|3 2

Revision: 264e1ce63c24b09d891068aca1fc40b815a958f7
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date: 26/11/2021 00:26:59
Message:
[HUDI-1290] fixing mysql debezium source (#4119) #MsgLength=50


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/MysqlDebeziumSource.java|0 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestMysqlDebeziumSource.java|0 4

Revision: b972aa5bf239657d527ba1d078755dbe7e20e657
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 26/11/2021 02:16:36
Message:
[HUDI-2800] Remove rdd.isEmpty() validation to prevent CreateHandle being called twice (#4121) #MsgLength=96


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|0 1

Revision: 7bb90e8cafaf1dfd5000ff740441161dd43a7dd5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/11/2021 03:19:30
Message:
[HUDI-2794] Guarding table service commits within a single lock to commit to both data table and metadata table (#4037) #MsgLength=256


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|7 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|7 19
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 19
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|22 17

Revision: f692078d32044dfa2f3ac3029a7420abc4cdb89a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/11/2021 03:21:32
Message:
[HUDI-2671] Making error -> warn logs from timeline server with concurrent writers for inconsistent state (#4088) #MsgLength=345


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|14 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|53 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|9 3

Revision: 6a0f0798660bd6efedf1dc51adb397fb704aa5de
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/11/2021 03:34:07
Message:
[HUDI-2858] Fixing handling of cluster update reject exception in deltastreamer (#4120) #MsgLength=89


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|19 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|32 7

Revision: 8e1379384a35b816ba27e7de0573f740380cb819
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/11/2021 05:06:04
Message:
[HUDI-2841] Fixing lazy rollback for MOR with list based strategy (#4110) #MsgLength=75


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|4 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|117 0

Revision: e0125a7911d77afd4a82a49caaccaa3c10df0377
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 26/11/2021 05:33:16
Message:
[HUDI-2801] Add Amazon CloudWatch metrics reporter (#4081) #MsgLength=60


----
Modified: hudi-aws/pom.xml|19 5
Added: hudi-aws/src/main/java/org/apache/hudi/aws/cloudwatch/CloudWatchReporter.java|315 0
Modified: hudi-aws/src/main/java/org/apache/hudi/config/AWSLockConfiguration.java|10 2
Modified: hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java|7 3
Added: hudi-aws/src/main/java/org/apache/hudi/config/HoodieMetricsCloudWatchConfig.java|87 0
Added: hudi-aws/src/test/java/org/apache/hudi/aws/cloudwatch/TestCloudWatchReporter.java|183 0
Modified: hudi-client/hudi-client-common/pom.xml|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterType.java|1 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/cloudwatch/CloudWatchMetricsReporter.java|85 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/cloudwatch/TestCloudWatchMetricsReporter.java|62 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigGroups.java|1 1

Revision: 6f5d8d04cd4b6689335bb80738946e1a914b43b0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 26/11/2021 06:48:22
Message:
[HUDI-2840] Fixed DeltaStreaemer to properly respect configuration passed t/h properties file (#4090) #MsgLength=997


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|16 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsPrometheusConfig.java|0 5
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|15 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|7 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|27 2
Added: hudi-common/src/test/resources/props/test.properties|18 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCleaner.java|4 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|1 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|3 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|31 16
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|30 26
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2

Revision: 8340ccb503962876cf83de40949264836f88c04d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/11/2021 07:51:38
Message:
[HUDI-2005] Removing direct fs call in HoodieLogFileReader (#3865) #MsgLength=68


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/LogReaderUtils.java|10 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|6 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java|16 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java|8 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java|8 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|4 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|11 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|12 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|3 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|5 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|7 7
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|4 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|12 13

Revision: 38585e4e57c86e0846b5561c4d1750676d88e5f4
Author: Ron <ldliulsy@163.com>
Date: 26/11/2021 11:27:21
Message:
[HUDI-2851] Shade org.apache.hadoop.hive.ql.optimizer package for flink bundle jar (#4104) #MsgLength=92


----
Modified: packaging/hudi-flink-bundle/pom.xml|10 0

Revision: f5da9b50faf68aee56a8b198445201a95f5d87e7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/11/2021 14:36:44
Message:
[MINOR] Include hudi-aws in flink bundle jar (#4127) #MsgLength=91


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 0

Revision: e554c7f468950a47df49fd3e951933138801d65a
Author: mincwang <33626973+mincwang@users.noreply.github.com>
Date: 26/11/2021 16:24:03
Message:
[HUDI-2852] Table metadata returns empty for non-exist partition (#4117) #MsgLength=242


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|10 1

Revision: e9efbdb63c95d2971ac67576783e122a6e271738
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/11/2021 16:40:53
Message:
[HUDI-2863] Rename option 'hoodie.parquet.page.size' to 'write.parquet.page.size' (#4128) #MsgLength=91


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 3

Revision: 3d75aca40d2bdbb91bfdc06352453ae84d9bf530
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 26/11/2021 20:17:23
Message:
[HUDI-2850] Fixing Clustering CLI - schedule and run command fixes to avoid NumberFormatException (#4101) #MsgLength=107


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java|35 23
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|25 21
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|1 1

Revision: 5755ff25a49aa495e418acde7ef8d246e16b4973
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 27/11/2021 02:02:15
Message:
[HUDI-2814] Addressing issues w/ Z-order Layout Optimization (#4060) #MsgLength=4061


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|11 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|3 3
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/zorder/ZOrderingIndexHelper.java|619 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|56 18
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java|122 0
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/ZCurveOptimizeHelper.java|0 356
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|2 3
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|0 39
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala|8 10
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/zorder/TestZOrderingIndexHelper.java|41 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|12 30
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|85 82
Modified: hudi-spark-datasource/hudi-spark/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|42 27
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|150 99
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json|8 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala|1 2
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|365 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|5 8
Deleted: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala|0 231
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestZOrderLayoutOptimization.scala|398 0
Modified: style/checkstyle.xml|3 1

Revision: a88691fed38cc7b8a1f26bfcbb9a7504a0acdd8d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/11/2021 02:50:10
Message:
[MINOR] Fixing test failure to fix CI build failure (#4132) #MsgLength=61


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|3 4

Revision: f8e0176eb031f2d59774af9b1d512844f1003231
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/11/2021 05:36:42
Message:
[HUDI-2861] Re-use same rollback instant time for failed rollbacks (#4123) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|64 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|79 0
Added: hudi-common/src/main/java/org/apache/hudi/common/HoodiePendingRollbackInfo.java|44 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|4 0

Revision: d1e83e4ba0b881f9410f0ae9f3799c967b6891cb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 27/11/2021 05:41:05
Message:
[HUDI-2767] Enabling timeline-server-based marker as default (#4112) #MsgLength=910


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|3 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|3 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|3 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|4 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java|21 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|20 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/TimelineServerBasedWriteMarkers.java|11 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkersFactory.java|15 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|66 48
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersFactory.java|116 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|13 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|6 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|19 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|12 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java|5 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java|10 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|10 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|8 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|9 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestDirectWriteMarkers.java|7 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestTimelineServerBasedWriteMarkers.java|9 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java|36 23
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|5 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|30 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|36 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|18 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|4 1
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|17 13
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|2 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|4 2

Revision: 445208a0d20b457daeeb5f70995302c92dd19f31
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 27/11/2021 05:44:16
Message:
[HUDI-2845] Metadata CLI - files/partition file listing fix and new validate option (#4092) #MsgLength=151


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|167 43
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|1 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|38 17

Revision: 8402cac407ba9ae3288c317a9493db3613f1938b
Author: huleilei <584620569@qq.com>
Date: 27/11/2021 05:56:03
Message:
[HUDI-2848] Excluse guava from hudi-cli pom (#4100) #MsgLength=53


----
Modified: hudi-cli/pom.xml|6 0

Revision: 9028e6e1e43dd9322509d6549f2a71d20b3e392b
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 27/11/2021 07:09:32
Message:
[HUDI-2864] Fix README and scripts with current limitations of hive sync (#4129) #MsgLength=306


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/FileIdPrefixProvider.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/RandomFileIdPrefixProvider.java|2 3
Modified: hudi-kafka-connect/README.md|85 68
Added: hudi-kafka-connect/demo/config-sink-hive.json|31 0
Modified: hudi-kafka-connect/demo/config-sink.json|2 12
Modified: hudi-kafka-connect/demo/connect-distributed.properties|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/KafkaConnectFileIdPrefixProvider.java|2 3
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 0

Revision: 257a6a74569cdb500b06c53b92d05f6f5833aa31
Author: xuzifu666 <1206332514@qq.com>
Date: 27/11/2021 07:11:01
Message:
[HUDI-2856] Bit cask disk map delete modified (#4116) #MsgLength=169


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|3 3

Revision: 9c059ef8e574616ceac5595204273244e37fd6a5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/11/2021 08:22:53
Message:
[MINOR] Follow ups from HUDI-2861 (re-use same rollback instant for failed rollback) (#4133) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|10 13

Revision: 3a8d64e584295dd3979a2d893497d90070d15621
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/11/2021 11:59:20
Message:
[HUDI-2868] Fix skipped HoodieSparkSqlWriterSuite (#4125) #MsgLength=111


----
Deleted: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite2.scala|0 47
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala|7 19
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/HoodieSparkSqlWriterSuite.scala]|44 23
Modified: style/scalastyle.xml|1 1

Revision: 2c7656c35faf625184f0356ca0693be6a70206c6
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 27/11/2021 15:19:26
Message:
[HUDI-2475] [HUDI-2862] Metadata table creation and avoid bootstrapping race for write client & add locking for upgrade (#4114) #MsgLength=185


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|13 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|5 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|12 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|5 24
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|33 39
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|19 21
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|43 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|8 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|39 23
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|13 4

Revision: 780a2ac5b208b06f53ee64186b5392ebc37eadbc
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 27/11/2021 15:20:19
Message:
[HUDI-2102] Support hilbert curve for hudi (#3952) #MsgLength=106


----
Modified: NOTICE|6 0
Modified: hudi-client/hudi-client-common/pom.xml|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|28 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/HilbertCurveUtils.java|52 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java|6 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestHilbertCurveUtils.java|38 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java|25 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|5 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/zorder/ZOrderingIndexHelper.java|11 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|5 3
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java|430 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala|28 17
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala|248 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchMark.scala|118 0
Modified: packaging/hudi-flink-bundle/pom.xml|2 0
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|2 0
Modified: packaging/hudi-spark-bundle/pom.xml|2 0
Modified: packaging/hudi-utilities-bundle/pom.xml|2 0

Revision: a1d0ff4209e22a9517b0d3273d582ba00a2c28aa
Author: yuzhao.cyz <yuzhao.cyz@gmail.com>
Date: 27/11/2021 17:22:10
Message:
Moving to 0.11.0-SNAPSHOT on master branch. #MsgLength=44


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: hudi-aws/pom.xml|2 2
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-kafka-connect/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: eca16932884d51f01ff33d9cd4c9d54cb20d7726
Author: vortual <1039505040@qq.com>
Date: 28/11/2021 17:13:50
Message:
[MINOR] fix typo (#4140) #MsgLength=26


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1

Revision: 52aae36b53e22bd7dab8c024ca64f40a1ade13be
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 29/11/2021 09:11:50
Message:
[MINOR] Fixing integ test suite for hudi-aws and archival validation (#4142) #MsgLength=78


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java|11 15
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0

Revision: 38e75ea80681111f0b5cac753d738ce7a39bf6ac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 29/11/2021 13:18:35
Message:
Removing rfc from release package and fixing release validation script (#4147) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1
Modified: scripts/release/create_source_release.sh|1 0
Modified: scripts/release/validate_staged_release.sh|2 2

Revision: 536af4b954abaa0d92a313bd5827173a232c6700
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/11/2021 14:17:24
Message:
[MINOR] Fix syntax error in create_source_release.sh (#4150) #MsgLength=62


----
Modified: scripts/release/create_source_release.sh|1 1

Revision: 3433f00cb5366fa190a7b2d5254255041a705deb
Author:  <dongkelun01@inspur.com>
Date: 30/11/2021 10:31:22
Message:
[MINOR] Fix typo,rename 'getUrlEncodePartitoning' to 'getUrlEncodePartitioning' (#4130) #MsgLength=89


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|2 2

Revision: a398aad1fcbd5ff36eb7bc750fcc418d78b3a97e
Author:  <dongkelun01@inspur.com>
Date: 30/11/2021 14:36:36
Message:
[HUDI-2642] Add support ignoring case in update sql operation (#3882) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|43 2

Revision: ea009b55a385564f76beb99468f363edd3c4828a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 30/11/2021 22:45:50
Message:
[HUDI-2891] Fix write configs for Java engine in Kafka Connect Sink (#4161) #MsgLength=77


----
Modified: hudi-kafka-connect/demo/config-sink-hive.json|0 1
Modified: hudi-kafka-connect/demo/config-sink.json|0 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java|2 0
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestBufferedConnectWriter.java|2 0

Revision: 24380c20606d63c7c129cb45a73f786f223e7d39
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 01/12/2021 09:47:16
Message:
Revert "[HUDI-2855] Change the default value of 'PAYLOAD_CLASS_NAME' to 'DefaultHoodieRecordPayload' (#4115)" (#4169) #MsgLength=180


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2

Revision: 9b254b6fc5779b6105b2fa9aeff5ad5b79407f84
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 01/12/2021 14:08:44
Message:
Revert "[HUDI-2856] Bit cask disk map delete modified (#4116)" (#4171) #MsgLength=133


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|3 3

Revision: f4c25ba3fd11e2da1adcf2e089969a0b7f3dc62e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 01/12/2021 16:02:30
Message:
[HUDI-2880] Fixing loading of props from default dir (#4167) #MsgLength=129


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|17 14
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|2 3

Revision: 5284730175df4637eee43b179c774606b07a10a9
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 02/12/2021 09:41:04
Message:
[HUDI-2881] Compact the file group with larger log files to reduce write amplification (#4152) #MsgLength=96


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileSizeBasedCompactionStrategy.java|7 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|5 4

Revision: 772f5ca24ee76c5c3676a9136fd994f7cd55a0e3
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 02/12/2021 12:56:04
Message:
Fixed partitions produced by layout optimization in case order-by key is composed of a single column (#4183) #MsgLength=110


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java|1 1

Revision: 61a03bc072c8d446a7334fdf7a284fca0a91f8c0
Author: zzzhy <candle_1667@163.com>
Date: 02/12/2021 22:47:31
Message:
[MINOR] Fix the wrong usage of timestamp length variable bug (#4179) #MsgLength=112


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1

Revision: 91d2e61433e74abb44cb4d0ae236ee8f4a94e1f8
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 03/12/2021 02:32:26
Message:
[HUDI-2904] Fix metadata table archival overstepping between regular writers and table services (#4186) #MsgLength=236


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|28 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|4 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|38 0

Revision: 934fe54cc57b508875383cd807735b1323fef754
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/12/2021 08:59:10
Message:
[HUDI-2914] Fix remote timeline server config for flink (#4191) #MsgLength=65


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|3 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java|1 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|5 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|7 22
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|6 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|11 0

Revision: f74b3d12aa89a96daafe43c69d37d816b9f4018b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/12/2021 11:38:29
Message:
[minor] Refactor write profile to always generate fs view (#4198) #MsgLength=67


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|20 9

Revision: 0699521f83eab843279ff7d78ac2b92fc80ad79b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/12/2021 16:12:59
Message:
[HUDI-2924] Refresh the fs view on successful checkpoints for write profile (#4199) #MsgLength=85


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|3 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|8 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|12 1

Revision: ca427240c026bc6ba6e19b9b8b0a069a6330147a
Author: Yann Byron <biyan900116@gmail.com>
Date: 03/12/2021 16:37:13
Message:
[MINOR] use catalog schema if can not find table schema (#4182) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|1 1

Revision: e483f7c776ed53015d08b78fc33729892dc2143c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 03/12/2021 20:20:21
Message:
[HUDI-2902] Fixing populate meta fields with Hfile writers and Disabling virtual keys by default for metadata table (#4194) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|10 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|45 10
Added: hudi-client/hudi-client-common/src/test/resources/exampleSchemaWithMetaFields.avsc|66 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|157 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|2 10
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|3 1
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip|0 0
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip|0 0

Revision: bed7f9897a9127130c3d241df7634d44aa12167b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 03/12/2021 20:33:38
Message:
[HUDI-2911] Removing default value for `PARTITIONPATH_FIELD_NAME` resulting in incorrect `KeyGenerator` configuration (#4195) #MsgLength=127


----
Added: hudi-common/src/main/java/org/apache/hudi/exception/ExceptionUtil.java|42 0
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|27 2

Revision: 2f96f4300b37207703b477979f2461bdd294ccf9
Author: Yann Byron <biyan900116@gmail.com>
Date: 04/12/2021 00:13:38
Message:
Revert "[HUDI-2495] Resolve inconsistent key generation for timestamp types  by GenericRecord and Row (#3944)" (#4201) #MsgLength=120


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|0 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|1 2
Deleted: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala|0 104

Revision: 383d5edc169b79c4022f81a1580ab1bc2afebc30
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 04/12/2021 03:18:10
Message:
[HUDI-2894][HUDI-2905] Metadata table - avoiding key lookup failures on base files over S3 (#4185) #MsgLength=1060


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|1 1

Revision: 5616830ae18ab3cbe1592d4e463a940342d25edc
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 04/12/2021 10:56:53
Message:
Revert "[HUDI-2489]Tuning HoodieROTablePathFilter by caching hoodieTableFileSystemView, aiming to reduce unnecessary list/get requests" #MsgLength=185


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|6 15

Revision: a799fae31610b2c38ca5aa52c87fa92363a41a70
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/12/2021 13:08:32
Message:
[MINOR] Mitigate CI jobs timeout issues (#4173) #MsgLength=131


----
Modified: azure-pipelines.yml|7 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java|5 1

Revision: 0fd6b2d71e50a3b09336b74074a2f5117ba57f5c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 04/12/2021 13:12:35
Message:
[HUDI-2933] DISABLE Metadata table by default (#4213) #MsgLength=55


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1

Revision: 94f45e928c917c87934badb2bb4bc8c767a14e3a
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 04/12/2021 13:30:32
Message:
[HUDI-2890] Kafka Connect: Fix failed writes and avoid table service concurrent operations (#4211) #MsgLength=357


----
Modified: hudi-kafka-connect/README.md|39 32
Modified: hudi-kafka-connect/demo/setupKafka.sh|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java|43 12
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/ConnectTransactionServices.java|1 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|14 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|17 13
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java|11 1
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java|82 35
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/helper/MockConnectTransactionServices.java|2 1
Added: hudi-kafka-connect/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-kafka-connect/src/test/resources/log4j-surefire.properties|31 0

Revision: 1d4fb827e73b2ae510f0e2c6510a448c0b5bd5b3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 04/12/2021 13:44:50
Message:
[HUDI-2923] Fixing metadata table reader when metadata compaction is inflight (#4206) #MsgLength=244


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|5 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|86 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|6 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|10 0

Revision: 568181a3e7c1d43a4ee8573d3746600be4f94379
Author: fengli <ldliulsy@163.com>
Date: 04/12/2021 13:56:25
Message:
[HUDI-2934] Optimize RequestHandler code style #MsgLength=71


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SchemaDifference.java|0 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|3 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|7 7

Revision: 36b69d80332468439d9e1674b7d1845198379152
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date: 04/12/2021 17:16:11
Message:
[HUDI-2935] Remove special casing of clustering in deltastreamer checkpoint retrival (#4216) #MsgLength=176


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 3

Revision: a8fb69656f522648233f0310ca3756188d954281
Author: Ron <ldliulsy@163.com>
Date: 05/12/2021 10:14:29
Message:
[HUDI-2877] Support flink catalog to help user use flink table conveniently (#4153) #MsgLength=197


----
Added: hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java|56 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java|508 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java|72 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java|131 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0
Modified: hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory|1 0
Added: hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java|258 0

Revision: 63b15607ff6c251c8965f76066b1c882dc356266
Author: ForwardXu <forwardxu315@gmail.com>
Date: 05/12/2021 15:51:06
Message:
[HUDI-2937] Introduce a pulsar implementation of hoodie write commit  (#4217) #MsgLength=657


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java|149 0
Modified: hudi-utilities/pom.xml|17 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/pulsar/HoodieWriteCommitPulsarCallback.java|180 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/callback/pulsar/HoodieWriteCommitPulsarCallbackConfig.java|118 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|12 3
Modified: pom.xml|1 0

Revision: 734c9f5f2d6c3ea87c23cef962e69b0b68f72581
Author:  <fengjian428@gmail.com>
Date: 05/12/2021 16:10:13
Message:
[HUDI-2418] Support HiveSchemaProvider (#3671) #MsgLength=99


----
Modified: hudi-utilities/pom.xml|7 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/HiveSchemaProvider.java|99 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHiveSchemaProvider.java|132 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/SparkClientFunctionalTestHarnessWithHiveSupport.java|32 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/hive_schema_provider_source.avsc|103 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/hive_schema_provider_target.avsc|103 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.source_schema_tab.sql|12 0
Added: hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.target_schema_tab.sql|12 0

Revision: f0e46bf522064488eaed8136da7eb119b2806ce9
Author: leesf <490081539@qq.com>
Date: 06/12/2021 14:53:54
Message:
[HUDI-2916] Add IssueNavigationLink for IDEA (#4192) #MsgLength=54


----
Modified: .gitignore|2 1
Added: .idea/vcs.xml|36 0

Revision: 84b531ae758230bda67bd842d761d68dea5581d0
Author: Ron <ldliulsy@163.com>
Date: 06/12/2021 20:38:39
Message:
[HUDI-2900] Fix corrupt block end position (#4181) #MsgLength=112


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|57 0

Revision: 57c4bf8152280de738f7ae313f5bf0046bb4675d
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 06/12/2021 21:33:10
Message:
[HUDI-2876] for hive/presto hudi should remove the temp file which created by HoodieMergedLogRecordSanner  when the query finished. (#4139) #MsgLength=141


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|4 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|13 0

Revision: 2d66451a518988e2bf2eb5acc2d246e4c091f900
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 07/12/2021 03:11:44
Message:
[MINOR] Fix partition path formatting in error log (#4168) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 2

Revision: 4a437f25d376a2d06cbc119dba6edbc4187bc35a
Author: wenningd <wenningding95@gmail.com>
Date: 07/12/2021 04:29:18
Message:
[MINOR] Use maven-shade-plugin version for hudi-timeline-server-bundle from main pom.xml (#4209) #MsgLength=148


----
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1

Revision: 6dab307e6f9aa3dd9582f0240430dd86de83624c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 07/12/2021 09:48:32
Message:
[MINOR] Remove redundant and conflicting spark-hive dependency (#4228) #MsgLength=102


----
Modified: hudi-utilities/pom.xml|0 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHiveSchemaProvider.java|4 0

Revision: e8473b9a2b5bf0ad9370377899f6a7ea4d1ceba1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 07/12/2021 18:04:15
Message:
[HUDI-2951] Disable remote view storage config for flink (#4237) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|4 48
Deleted: hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|0 83
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|0 11
Deleted: hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java|0 57

Revision: c9e18d1e7de66c7eca151f7f8ffe3dc849a2e319
Author: xuzifu666 <1206332514@qq.com>
Date: 08/12/2021 14:05:39
Message:
[HUDI-2942] add error message log in HoodieCombineHiveInputFormat (#4224) #MsgLength=75


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|1 2

Revision: c56d93e7b8f030273f78f9afd888b89c532563c8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/12/2021 17:55:22
Message:
[MINOR] Update DOAP with 0.10.0 Release (#4246) #MsgLength=49


----
Modified: doap_HUDI.rdf|5 0

Revision: 082faa385102dfe511fcb250b3ddc0368cf17729
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 09/12/2021 03:27:19
Message:
[HUDI-2832][RFC-41] Proposal to integrate Hudi on Snowflake platform (#4074) #MsgLength=191


----
Modified: rfc/README.md|1 0
Added: rfc/rfc-41/rfc-41.md|82 0

Revision: 7c3f0777aae956c5e5b2b2ba587f9b9bf2516433
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 09/12/2021 08:17:56
Message:
[HUDI-2964] Fixing aws lock configs to inherit from HoodieConfig (#4258) #MsgLength=74


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java|16 16
Renamed: hudi-aws/src/main/java/org/apache/hudi/config/DynamoDbBasedLockConfig.java [from hudi-aws/src/main/java/org/apache/hudi/config/AWSLockConfiguration.java]|12 1
Modified: hudi-aws/src/main/java/org/apache/hudi/config/HoodieAWSConfig.java|6 6
Modified: hudi-aws/src/test/java/org/apache/hudi/aws/transaction/integ/ITTestDynamoDBBasedLockProvider.java|10 10

Revision: bd084704210ee0247a4b31a6a32e5de3afd7048c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/12/2021 10:16:42
Message:
[HUDI-2957] Shade kryo jar for flink bundle jar (#4251) #MsgLength=57


----
Modified: hudi-flink/pom.xml|0 6
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java|1 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|1 3
Modified: packaging/hudi-flink-bundle/pom.xml|9 13

Revision: 9c8ad0f0faab29e812628d26534a0f6fca9faf60
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date: 09/12/2021 10:47:13
Message:
[HUDI-2665] Fix overflow of huge log file in HoodieLogFormatWriter (#3912) #MsgLength=135


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|9 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|62 0

Revision: 5ac9ce728922dba6368cc2c410507eee9cb8debe
Author: leesf <490081539@qq.com>
Date: 09/12/2021 13:12:18
Message:
[MINOR] Fix Compile broken (#4263) #MsgLength=36


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|1 1

Revision: f612a20815d35667ce49f0dbf51b6877bf7b1ab4
Author: RexAn <anh131@126.com>
Date: 09/12/2021 18:34:11
Message:
[HUDI-2779] Cache BaseDir if HudiTableNotFound Exception thrown (#4014) #MsgLength=73


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|10 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java|4 0

Revision: 68f8597b12edebba759b942f6337540f21a2db96
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 09/12/2021 19:51:49
Message:
[HUDI-2966] Add TaskCompletionListener for HoodieMergeOnReadRDD to close logScaner when the query finished. (#4265) #MsgLength=226


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|48 7

Revision: 3fb2f974ca8ce8faf625c4ab48ce866567b72fc3
Author: arunkc <arunkc91@gmail.com>
Date: 10/12/2021 06:43:36
Message:
[MINOR] FAQ link in SUPPORT_REQUEST template (#4266) #MsgLength=54


----
Modified: .github/ISSUE_TEMPLATE/SUPPORT_REQUEST.md|1 1

Revision: 8321d20c2cced15150621c9ad828f5ba9d79399a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/12/2021 12:37:42
Message:
Claiming RFC for data skipping index for updated version (#4271) #MsgLength=66


----
Modified: rfc/README.md|1 0

Revision: ea154bcb5d753f8df74e1bb03944b61119a69b75
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/12/2021 13:46:26
Message:
Revert "Claiming RFC for data skipping index for updated version (#4271)" (#4272) #MsgLength=144


----
Modified: rfc/README.md|0 1

Revision: 456d74ce4e62b49b3cb3def9d0c9f5768c98c097
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 10/12/2021 14:39:35
Message:
[HUDI-2901] Fixed the bug clustering jobs cannot running in parallel (#4178) #MsgLength=78


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|6 5
Added: hudi-common/src/main/java/org/apache/hudi/common/util/FutureUtils.java|46 0

Revision: c7473a7b0c648be400af2a70b8b4a59ac57dcdde
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/12/2021 22:25:37
Message:
[HUDI-2936] Add data count checks in async clustering tests (#4236) #MsgLength=69


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|34 20

Revision: f194566ed4b2d910925f337fc3b9202084860abd
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 10/12/2021 23:22:37
Message:
[HUDI-2849] Improve SparkUI job description for write path (#4222) #MsgLength=68


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 0

Revision: be368264f4cbde83ceb91d273ce5bd27dca75242
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/12/2021 00:11:42
Message:
[HUDI-2952] Fixing metadata table for non-partitioned dataset (#4243) #MsgLength=71


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|49 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|31 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|10 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|4 2

Revision: 3ad9b121f15c3c4f0eadba799dd4d96d5b9d6b1f
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 11/12/2021 01:32:53
Message:
[HUDI-2912] Fix CompactionPlanOperator typo (#4187) #MsgLength=106


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|1 1

Revision: 3ce05269247540b2fa5b7fd923d6ca8972e7ead2
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/12/2021 01:38:38
Message:
Adding verbose output for metadata validate files command (#4166) #MsgLength=67


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|16 8

Revision: 3ba29096905ce5fd617c7c2e8f745a963af102f1
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 11/12/2021 01:57:01
Message:
[HUDI-2892][BUG] Pending Clustering may stain the ActiveTimeLine and lead to incomplete query results (#4172) #MsgLength=159


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|7 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|19 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|11 0

Revision: 72901a33a1feeef317db73986fe1f7b91bbc092b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/12/2021 06:27:22
Message:
[HUDI-2784] Add a hudi-trino-bundle for Trino (#4279) #MsgLength=55


----
Added: packaging/hudi-trino-bundle/pom.xml|273 0
Added: packaging/hudi-trino-bundle/src/main/java/org/apache/hudi/trino/bundle/Main.java|36 0
Modified: pom.xml|5 2

Revision: 2d864f75247fd2feff6509235c7df84ec8707738
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 11/12/2021 06:56:09
Message:
[HUDI-2814] Make Z-index more generic Column-Stats Index (#4106) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|27 24
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|11 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|14 13
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|44 17
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/zorder/ZOrderingIndexHelper.java]|74 200
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/sort/SpaceCurveSortingHelper.java|260 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|8 9
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/spark/OrderingIndexHelper.java|0 430
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/execution/RangeSample.scala|116 112
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/columnstats/TestColumnStatsIndexHelper.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/zorder/TestZOrderingIndexHelper.java]|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|4 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/BinaryUtil.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/optimize/ZOrderingUtil.java]|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|33 1
Added: hudi-common/src/main/java/org/apache/hudi/common/util/TypeUtils.java|42 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/util/TestBinaryUtil.java [from hudi-client/hudi-client-common/src/test/java/org/apache/hudi/optimize/TestZOrderingUtil.java]|12 12
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|16 16
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|11 11
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|4 4
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestZOrderLayoutOptimization.scala]|39 143
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSpaceCurveLayoutOptimization.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTableLayoutOptimization.scala]|36 109
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchMark.scala|38 29

Revision: c48a2a125a9d41f4fb4bf7d6a1d01bf75ba1877a
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 11/12/2021 09:01:19
Message:
[HUDI-2527] Multi writer test with conflicting async table services (#4046) #MsgLength=77


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|90 54

Revision: 9797fdfbb27ca8f5f06875ad958b597becc27a8d
Author: rmahindra123 <76502047+rmahindra123@users.noreply.github.com>
Date: 11/12/2021 11:42:20
Message:
[HUDI-2974] Make the prefix for metrics name configurable (#4274) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|1 1

Revision: 9bdcee00c010fd6d7c817ee882550dd78e35ad91
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/12/2021 12:08:47
Message:
[HUDI-2959] Fix the thread leak of cleaning service (#4252) #MsgLength=61


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|8 28
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|6 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|5 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|7 0

Revision: 2dcb3f0062074b59676bb65b0afee86994571fd6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/12/2021 14:40:57
Message:
[HUDI-2985] Shade jackson for hudi flink bundle jar (#4284) #MsgLength=61


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|3 0
Modified: packaging/hudi-flink-bundle/pom.xml|4 0

Revision: b5f05fd153df29a8be377404a14a0ced2f00b4bf
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/12/2021 16:16:05
Message:
[HUDI-2906] Add a repair util to clean up dangling data and log files (#4278) #MsgLength=79


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/repair/RepairUtils.java|177 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|19 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|30 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java|582 0

Revision: 8dd0444ef96db4028bd28d5e4d8653c290764152
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 11/12/2021 16:19:10
Message:
[HUDI-2984] Implement #close for AbstractTableFileSystemView (#4285) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|20 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|1 1

Revision: 15444c951f4500e58c73b419fb4fa2c4d6c86260
Author: wenningd <wenningding95@gmail.com>
Date: 12/12/2021 12:18:39
Message:
[HUDI-2946] Upgrade maven plugins to be compatible with higher Java versions (#4232) #MsgLength=136


----
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: pom.xml|2 2

Revision: b22c2c611bc8d5be1a8cdc5f50aea5607ba4b756
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 12/12/2021 12:42:36
Message:
[HUDI-2938] Metadata table util to get latest file slices for reader/writers (#4218) #MsgLength=86


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|0 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|0 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|51 15

Revision: dd961291914df656418c9a1cacd39eaf8a806809
Author: ForwardXu <forwardxu315@gmail.com>
Date: 13/12/2021 20:40:06
Message:
[HUDI-2990] Sync to HMS when deleting partitions (#4291) #MsgLength=58


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|19 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|18 6
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|42 22
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|27 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|8 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|19 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|19 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|8 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|50 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|29 2

Revision: 46de25d5fd7fc5aedc574fc6bb76e14efb46bb37
Author: WangMinChao <33626973+mincwang@users.noreply.github.com>
Date: 13/12/2021 20:41:03
Message:
[HUDI-2994] Add judgement to existed partitionPath in the catch code block for HU (#4294) #MsgLength=241


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|3 1

Revision: 29bc5fd912df9517acb9e15ead97f1849f21056b
Author: Fugle666 <30539368+Fugle666@users.noreply.github.com>
Date: 14/12/2021 11:31:36
Message:
[HUDI-2996] Flink streaming reader 'skip_compaction' option does not work (#4304) #MsgLength=106


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|7 2
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|13 0

Revision: c8d6bd88988f19f5163553b4438981e780dfda0c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/12/2021 14:08:13
Message:
[HUDI-2997] Skip the corrupt meta file for pending rollback action (#4296) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|14 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|4 0

Revision: bc8bf043d5512f7afbb9d94882c4e43ee61d6f06
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 15/12/2021 05:11:19
Message:
[HUDI-2995] Enabling metadata table by default (#4295) #MsgLength=92


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1

Revision: dbec6c512b1e5a93a60034a9894e10a65db34ea4
Author: ForwardXu <forwardxu315@gmail.com>
Date: 15/12/2021 19:38:02
Message:
[HUDI-3022] Fix NPE for isDropPartition method (#4319) #MsgLength=104


----
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|2 2

Revision: 9a2030ab3190acf600ce4820be9a08929595763e
Author: WangMinChao <33626973+mincwang@users.noreply.github.com>
Date: 15/12/2021 20:16:48
Message:
[HUDI-3024] Add explicit write handler for flink (#4329) #MsgLength=112


----
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/ExplicitWriteHandler.java|65 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|11 13
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/ExplicitWriteHandleFactory.java|5 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkAppendHandle.java|5 0

Revision: 3b89457e2b6d885d41d0f3cd95e2c71a53b097bf
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/12/2021 02:44:42
Message:
[HUDI-3025] Add additional wait time for namenode availability during IT tests initiatialization  (#4328) #MsgLength=165


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|56 17

Revision: 27907dea4cb7b52fa61521e738e2d94ef203992b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/12/2021 07:33:33
Message:
[HUDI-3028] Use blob storage to speed up CI downloads (#4331) #MsgLength=119


----
Modified: azure-pipelines.yml|12 3

Revision: f5b07a77bc11c8faada58e53e9463008c9cee78d
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 16/12/2021 07:47:22
Message:
[HUDI-2998] claiming rfc number for consistent hashing index (#4303) #MsgLength=126


----
Modified: rfc/README.md|1 0

Revision: ea2eba1a5532d0f0f66268a456877773763dec08
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/12/2021 15:26:16
Message:
[HUDI-3015] Implement #reset and #sync for metadata filesystem view (#4307) #MsgLength=77


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|27 32
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|5 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|2 2

Revision: a8a192aef5e48d2ccc5656cbe1a872862e158f52
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 17/12/2021 03:15:08
Message:
[Minor] Catch and ignore all the exceptions in quietDeleteMarkerDir (#4301) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java|2 3

Revision: 294d71294835df55b238e04b8e42ff04ea073e82
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 17/12/2021 04:36:01
Message:
[HUDI-3001] Clean up the marker directory when finish bootstrap operation. (#4298) #MsgLength=84


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|7 2

Revision: 7e7ad1558c0dcc06e059f631e43e44dc04100aa4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 17/12/2021 10:51:28
Message:
[HUDI-3043] Revert async cleaner leak commit to unblock CI failure (#4343) #MsgLength=227


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|28 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|8 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|0 7

Revision: d0087d40402133453c3ca3da1a566545f0ca9d64
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/12/2021 13:57:53
Message:
[HUDI-3037] Add back remote view storage config for flink (#4338) #MsgLength=67


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|8 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|48 4
Added: hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|83 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|11 0
Added: hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java|57 0

Revision: e4cfb421c0d17c248ab660ae54a4a2d49aff1561
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 17/12/2021 14:52:45
Message:
[HUDI-3046] Claim RFC number for RFC for Compaction / Clustering Service (#4347) #MsgLength=135


----
Modified: rfc/README.md|1 0

Revision: 9246b164925d0ffe444b0f015f0b0a0338575216
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 17/12/2021 21:58:02
Message:
[HUDI-2958] Automatically set spark.sql.parquet.writelegacyformat, when using bulkinsert to insert data which contains decimalType (#4253) #MsgLength=140


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java|26 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|13 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|40 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|25 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|7 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|4 0

Revision: 6eba8345cb815b7a375b27f55e6483ab72eee83e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 18/12/2021 04:45:05
Message:
[HUDI-3043] Adding some test fixes to continuous mode multi writer tests (#4356) #MsgLength=82


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|7 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|69 19

Revision: 7784249e55c8dc6c1e5fa1142f7a93d78ca66471
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 18/12/2021 09:18:46
Message:
[HUDI-2962] InProcess lock provider to guard single writer process with async table operations (#4259) #MsgLength=325


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java|117 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestInProcessLockProvider.java|253 0

Revision: 47852446e845f856a4b04c1a8cfba7b66445d46d
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 18/12/2021 10:37:45
Message:
[HUDI-3043] De-coupling multi writer tests (#4362) #MsgLength=52


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|18 4

Revision: d1d48ed4947b81e10fba83b7a462839a55ff9115
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 18/12/2021 22:43:17
Message:
[HUDI-3029]  Transaction manager: avoid deadlock when doing begin and end transactions (#4363) #MsgLength=574


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java|37 22
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|0 22
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java|198 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|4 4

Revision: 733732be7ba61275e3855d316654970360b525f3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 19/12/2021 00:43:10
Message:
[HUDI-3029]  Transaction manager: avoid deadlock when doing begin and end transactions (#4373) #MsgLength=96


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java|16 0

Revision: dc40397fa9d0c731b94931e715ce0c142165ebac
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/12/2021 00:52:11
Message:
[HUDI-3064] Fixing a bug in TransactionManager and FileSystemTestLock (#4372) #MsgLength=79


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java|1 1

Revision: 77abb5ccb90aa0e0ae00c2d5cbbba6ec26c86fe4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/12/2021 05:15:48
Message:
[HUDI-3054] Fixing default lock configs for FileSystemBasedLock and fixing a flaky test (#4374) #MsgLength=97


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|14 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|8 4

Revision: f57e28fe396951ce6e4690373b6e75035362409f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 19/12/2021 09:00:56
Message:
[MINOR] Azure CI IT tasks clean up (#4337) #MsgLength=44


----
Modified: azure-pipelines.yml|10 12

Revision: bb99836841b03946f742f797ba83b9057e5bcfbb
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 19/12/2021 09:58:51
Message:
[HUDI-3052] Fix flaky testJsonKafkaSourceResetStrategy (#4381) #MsgLength=64


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java|64 59

Revision: 478f9f369570b604981f16aa1fe03329e18ce5f2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/12/2021 10:09:48
Message:
[minor] fix NetworkUtils#getHostname (#4355) #MsgLength=46


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|4 14

Revision: 03f71ef1a268ae1375c0a890807d54f935b93022
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 19/12/2021 15:59:39
Message:
[HUDI-2970] Adding tests for archival of replace commit actions (#4268) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|83 3

Revision: 4a48f99a596b5596fb654b56a6533b908bb9d8f3
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 20/12/2021 02:31:02
Message:
[HUDI-3064][HUDI-3054] FileSystemBasedLockProviderTestClass tryLock fix and TestHoodieClientMultiWriter test fixes (#4384) #MsgLength=359


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/FileSystemBasedLockProviderTestClass.java|41 36
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|80 26

Revision: 3ca92108b21e265048b8ce36b2ef27d2fdfe5de0
Author: xuzifu666 <xuyu@zepp.com>
Date: 20/12/2021 16:32:41
Message:
remove unused import (#4349) #MsgLength=30


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|0 2

Revision: f166ddad12ebb0b1e2a3cd4f03c2bd6ca9318379
Author: xuzifu666 <xuyu@zepp.com>
Date: 20/12/2021 22:19:37
Message:
[MINOR] Remove unused method in HoodieActiveTimeline (#4401) #MsgLength=62


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|0 14

Revision: 982ae3d1eb8c8f0a5a459d78ecd38a5e7ab092cb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 21/12/2021 09:27:22
Message:
[MINOR] Increasing CI timeout to 90 mins (#4407) #MsgLength=50


----
Modified: azure-pipelines.yml|4 0

Revision: f3f6112b75fa7e050956ec2e218606a57d1fd0f3
Author: zhangyue19921010 <69956021+zhangyue19921010@users.noreply.github.com>
Date: 21/12/2021 11:59:50
Message:
[HUDI-3070] Add rerunFailingTestsCount for flakly testes (#4398) #MsgLength=118


----
Modified: pom.xml|17 13

Revision: 32a44bbe062c997b5a41266290fbe34d6323bfa6
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/12/2021 13:01:59
Message:
[HUDI-2970] Add test for archiving replace commit (#4345) #MsgLength=59


----
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java|103 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|2 1

Revision: 92f54ce3d8489e0dabcdc1f5cb5076a2ac756545
Author: Aimiyoo <aimiyooo@gmail.com>
Date: 22/12/2021 05:36:03
Message:
[HUDI-3027] Update hudi-examples README.md (#4330) #MsgLength=52


----
Modified: hudi-examples/README.md|1 1

Revision: f1286c2c764d6be9f23b41c76f4de1c8734c1f3b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/12/2021 11:10:27
Message:
[HUDI-3032] Do not clean the log files right after compaction for metadata table (#4336) #MsgLength=90


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|14 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 1

Revision: 15eb7e81fc2f51a5c42d25c0b4d18441209762f1
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 22/12/2021 15:08:47
Message:
[HUDI-2547] Schedule Flink compaction in service (#4254) #MsgLength=111


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|226 80
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|60 6

Revision: 7d046f914a059b2623d7f2a7627c44b15ccc0ddb
Author: harshal patil <harshal.j.patil@gmail.com>
Date: 14/12/2021 19:58:18
Message:
[HUDI-3008] Fixing HoodieFileIndex partition column parsing for nested fields #MsgLength=78


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|21 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|25 2


Revision: 1a5f8693aa09bc85ad18e5a820473b6344e787ef
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 22/12/2021 18:13:06
Message:
[HUDI-3011] Adding ability to read entire data with HoodieIncrSource with empty checkpoint (#4334) #MsgLength=205


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|3 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|14 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|6 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|38 16
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|123 0

Revision: 5d93edc539d1f5d053e5f90a6a20691d7ac8b1b8
Author: ForwardXu <forwardxu315@gmail.com>
Date: 22/12/2021 19:17:43
Message:
[HUDI-3060] drop table for spark sql (#4364) #MsgLength=46


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|10 8
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|109 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala|75 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|9 1

Revision: 57f43de1eaabce9c6fd8529bd281596dfb0c779e
Author: Aimiyoo <aimiyooo@gmail.com>
Date: 23/12/2021 03:51:26
Message:
[MINOR] Fix DedupeSparkJob typo (#4418) #MsgLength=41


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|1 1

Revision: 032b883bd16030c99f9252e7c92f0520c89aa85e
Author: xuzifu666 <xuyu@zepp.com>
Date: 23/12/2021 16:27:45
Message:
[HUDI-3014] Add table option to set utc timezone (#4306) #MsgLength=58


----
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTimelineTimeZone.java|37 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|15 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 6

Revision: 4721073b4397d76bbd813a988cb79cc9a9558358
Author: xuzifu666 <xuyu@zepp.com>
Date: 24/12/2021 22:29:34
Message:
[MINOR] Remove unused method in HoodieActiveTimeline (#4435) #MsgLength=62


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|0 19

Revision: 7b07aac28686ed5474747fd2355b7828e5386ba4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/12/2021 14:10:45
Message:
[HUDI-3101] Excluding compaction instants from pending rollback info (#4443) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|25 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|8 0

Revision: c81df99e50f2df84d85f08ff3a839595dad974d7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/12/2021 18:10:43
Message:
[HUDI-3102] Do not store rollback plan in inflight instant (#4445) #MsgLength=68


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|30 47
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|2 3

Revision: 282aa68552e3872cf2758824de1d2efd004ae1c1
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/12/2021 09:38:26
Message:
[HUDI-3099] Purge drop partition for spark sql (#4436) #MsgLength=56


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|52 22
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|129 4

Revision: 6409fc733d27eea6ebc71551affdf5aec4bb2fd5
Author: harshal <harshal.j.patil@gmail.com>
Date: 28/12/2021 12:01:21
Message:
[HUDI-2374] Fixing AvroDFSSource does not use the overridden schema to deserialize Avro binaries (#4353) #MsgLength=106


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroDFSSource.java|1 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestAvroDFSSource.java|56 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|17 0

Revision: 1f7afba5e4c13c317c5378c7088dddb13b71d558
Author: Yann Byron <biyan900116@gmail.com>
Date: 28/12/2021 13:39:52
Message:
[HUDI-3093] fix spark-sql query table that write with TimestampBasedKeyGenerator (#4416) #MsgLength=90


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|13 4

Revision: 32505d5adbbf433912d2d2f9f74adb8581bbd64e
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/12/2021 14:11:14
Message:
[HUDI-3106] Fix HiveSyncTool not sync schema (#4452) #MsgLength=54


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|23 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|13 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|19 24

Revision: 05942e018c6b5ef9112e0472360684513531d261
Author: Yann Byron <biyan900116@gmail.com>
Date: 28/12/2021 16:12:44
Message:
[HUDI-2811] Support Spark 3.2 (#4270) #MsgLength=39


----
Modified: .github/workflows/bot.yml|4 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|6 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/datasources/SparkParsePartitionUtil.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|2 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala|16 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Compaction.scala|22 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/trees/HoodieLeafLike.scala|30 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|27 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|5 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|7 7
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/HoodieLeafRunnableCommand.scala|29 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|8 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|19 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|62 66
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|10 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|2 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/Spark2ParsePartitionUtil.scala|16 8
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java|26 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala|244 9
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java|0 1
Modified: pom.xml|27 2

Revision: 3d7a8695cdd76cdf359f9d1bb7108a49b41d64c4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 28/12/2021 18:26:30
Message:
Fixing dynamoDbLockConfig required prop check (#4422) #MsgLength=55


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java|0 1

Revision: 9412281cb14b1eabf9a23a3484e752a2636f2445
Author: Udit Mehrotra <udit.mehrotra90@gmail.com>
Date: 28/12/2021 23:15:05
Message:
[HUDI-2983] Remove Log4j2 transitive dependencies (#4281) #MsgLength=59


----
Modified: hudi-sync/hudi-dla-sync/pom.xml|0 18
Modified: hudi-sync/hudi-hive-sync/pom.xml|8 10
Modified: packaging/hudi-flink-bundle/pom.xml|0 22
Modified: packaging/hudi-integ-test-bundle/pom.xml|0 6
Modified: pom.xml|77 0

Revision: a29b27c7cafacce0d165b40d44e3647ea6d9b538
Author: xuzifu666 <xuyu@zepp.com>
Date: 29/12/2021 18:43:16
Message:
[MINOR] HoodieInstantTimeGenerator improve method used (#4462) #MsgLength=64


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|0 5

Revision: 504747ecf4c93d53f0fc565cdcf12544549b7903
Author: ForwardXu <forwardxu315@gmail.com>
Date: 29/12/2021 20:23:23
Message:
[HUDI-3108] Fix Purge Drop MOR Table Cause error (#4455) #MsgLength=58


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|38 18

Revision: 5c0e4ce0055f0481a4cd6b7b44f5d0b266fd8f44
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 30/12/2021 10:45:09
Message:
Revert "[HUDI-3043] Revert async cleaner leak commit to unblock CI failure (#4343)" (#4465) #MsgLength=154


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|8 28
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|6 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|5 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|7 0

Revision: 674c1492348b5b2a93358c9dd51a1adfe6a8ecf2
Author: Ron <ldliulsy@163.com>
Date: 30/12/2021 11:15:54
Message:
[HUDI-3083] Support component data types for flink bulk_insert (#4470) #MsgLength=166


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetRowDataWriter.java|274 52
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|41 0
Added: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/io/storage/row/parquet/TestParquetSchemaConverter.java|74 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|14 5
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java|13 12
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|144 4
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarArrayData.java|272 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarMapData.java|75 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarRowData.java|232 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java|71 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|79 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java|45 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/MapColumnVector.java|29 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/RowColumnVector.java|30 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/VectorizedColumnBatch.java|148 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java|473 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java|313 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java|76 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java|199 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java|304 0
Added: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java|57 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|56 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|10 0

Revision: 436becf3ea07469906804888fe9c5409a5115e7a
Author:  <dongkelun01@inspur.com>
Date: 30/12/2021 11:53:17
Message:
[HUDI-2675] Fix the exception 'Not an Avro data file' when archive and clean (#4016) #MsgLength=86


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|23 14
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|9 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|9 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|11 34
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|62 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|33 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|24 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|6 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|15 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|13 5

Revision: 0f0088fe4b740c4acec0cb25988250db8fb483b6
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 30/12/2021 11:54:34
Message:
[HUDI-3124] Bootstrap when timeline have completed instant (#4467) #MsgLength=121


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|3 3

Revision: a4e622ac61ecaf8520d137421f16bc206b864732
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 31/12/2021 04:38:26
Message:
[HUDI-1951] Add bucket hash index, compatible with the hive bucket (#3173) #MsgLength=697


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|63 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLayoutConfig.java|89 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|25 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|16 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|74 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java|166 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|4 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieBucketLayout.java|67 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieDefaultLayout.java|45 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieLayoutFactory.java|38 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieStorageLayout.java|56 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteTableCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaInsertOverwriteCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java|3 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|11 2
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java|136 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkHoodiePartitioner.java|50 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|4 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|2 10
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|12 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|7 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java|65 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieBucketIndex.java|147 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|37 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|6 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|4 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|6 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceWithBucket.scala|153 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|9 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|3 0

Revision: e88b5fd450ef56241c5ba54709920a5f38cd5754
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 31/12/2021 13:12:32
Message:
[HUDI-3120] Cache compactionPlan in buffer (#4463) #MsgLength=105


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|18 2

Revision: 2444f40a4be5bbf0bf210dee5690267a9a1e35c8
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 31/12/2021 13:37:52
Message:
[HUDI-3095] abstract partition filter logic to enable code reuse (#4454) #MsgLength=173


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|43 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|14 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java|2 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilter.java|68 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilterMode.java|28 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|34 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|5 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/cluster/strategy/TestClusteringPlanStrategyConfigCompatibility.java|66 0
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaRecentDaysClusteringPlanStrategy.java|0 65
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaSizeBasedClusteringPlanStrategy.java|0 5
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkRecentDaysClusteringPlanStrategy.java|0 63
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSelectedPartitionsClusteringPlanStrategy.java|0 66
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSingleFileSortPlanStrategy.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|0 5
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestSparkClusteringPlanPartitionFilter.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/clustering/plan/strategy/TestSparkRecentDaysClusteringPlanStrategy.java]|60 19

Revision: ef9923fc5551851ec4ee71896a62c0615da45ee8
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 31/12/2021 15:56:33
Message:
[HUDI-3107]Fix HiveSyncTool drop partitions using JDBC or hivesql or hms (#4453) #MsgLength=244


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|3 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|3 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|47 4
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|2 2
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java|51 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|42 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|21 0

Revision: bfa169d808c72d09e1370a2b1ecd6a080d45fe02
Author: Aimiyoo <aimiyooo@gmail.com>
Date: 01/01/2022 15:38:38
Message:
[HUDI-3040] Fix HoodieSparkBootstrapExample error info for usage (#4341) #MsgLength=74


----
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java|1 1

Revision: 188d0338c4a483ae11969e9fc130b334995499f0
Author: leesf <490081539@qq.com>
Date: 02/01/2022 09:38:14
Message:
[HUDI-3134] Fix insert error after adding columns on Spark 3.2.0 (#4488) #MsgLength=74


----
Modified: pom.xml|3 1

Revision: 1622b52c9cf90a96b3b4f8db3228253db4a93e6e
Author: Yann Byron <biyan900116@gmail.com>
Date: 02/01/2022 18:42:10
Message:
[HUDI-3136] Fix merge/insert/show partitions error on Spark3.2 (#4490) #MsgLength=72


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|6 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|15 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|1 1

Revision: fe9406dd33c0fe860e924e46f7b2908bf3155265
Author: Yann Byron <biyan900116@gmail.com>
Date: 02/01/2022 19:06:55
Message:
[HUDI-3131] fix ctas error in spark3.1.1 (#4476) #MsgLength=50


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|2 9

Revision: 1e2d2c437d5ec73452b276cdaff5a789ea3979ac
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 03/01/2022 11:43:30
Message:
[HUDI-3138] Fix broken UT test for TestHiveSyncTool.testDropPartitions (#4493) #MsgLength=128


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|5 3
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 1

Revision: 0273f2e65d97374ed20813c952ca18666d876626
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 03/01/2022 12:34:37
Message:
[MINOR] Update README.md (#4492) #MsgLength=67


----
Modified: README.md|9 2

Revision: 2b2ae34cb96762787a09101200dcefaca23373c0
Author: harshal <harshal.j.patil@gmail.com>
Date: 03/01/2022 14:49:43
Message:
[HUDI-2558] Fixing Clustering w/ sort columns with null values fails (#4404) #MsgLength=78


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|11 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|22 0

Revision: 29ab6fb9adb7e4697bd0bb2d32aa59351650f613
Author: leesf <490081539@qq.com>
Date: 04/01/2022 09:59:59
Message:
[HUDI-3140] Fix bulk_insert failure on Spark 3.2.0 (#4498) #MsgLength=60


----
Modified: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|6 3

Revision: 7329d229d5780eb817110c7ed0e55cfa4afa2f67
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 04/01/2022 13:18:04
Message:
Adding tests to validate different key generators (#4473) #MsgLength=59


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|61 24

Revision: aaf5727495bc547889b815160ddf855b1799a79d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 05/01/2022 05:32:05
Message:
[HUDI-2774] Handle duplicate instants when fetching pending clustering plans (#4118) #MsgLength=86


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|14 6

Revision: bf4e3d63e7ac2af1363efce5135005204dc1ee92
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 05/01/2022 05:41:33
Message:
[HUDI-3141] Metadata merged log record reader - avoiding NullPointerException when records by keys (#4505) #MsgLength=712


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|4 1

Revision: 37b15ff458d8d332cbc884de07a43d78a8ebe5ce
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 05/01/2022 05:42:28
Message:
[HUDI-3147] Add endpoint_url to dynamodb lock provider (#4500) #MsgLength=122


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java|3 1
Modified: hudi-aws/src/main/java/org/apache/hudi/config/DynamoDbBasedLockConfig.java|14 7

Revision: a66212d2046c54c733997328d8b101fa54916ff3
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 05/01/2022 10:57:18
Message:
[HUDI-2966] Closing LogRecordScanner in compactor (#4478) #MsgLength=123


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|4 3

Revision: 0e297c0c4ca590e4d6b3050647d207e3e0b50912
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/01/2022 16:41:33
Message:
[HUDI-3171] Sync empty table to hive metastore (#4511) #MsgLength=56


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|9 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|10 7

Revision: 75133f9942015caa93a3802b61730bcf37ade1ec
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 05/01/2022 21:09:58
Message:
[HUDI-3170] Do not preserve filename when preserveCommitMetadata enabled (#4512) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|3 0

Revision: eee715b3ffa6f4a917ef2992bcb637996699c32a
Author: Vinish Reddy <vinishreddypannala@gmail.com>
Date: 06/01/2022 00:43:10
Message:
[HUDI-3168] Fixing null schema with empty commit in incremental relation (#4513) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala|82 72
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|4 0

Revision: 205e48f53f24086419c01dd8652748347ecd295f
Author: fengli <ldliulsy@163.com>
Date: 31/12/2021 23:25:04
Message:
[HUDI-3132] Minor fixes for HoodieCatalog #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java|3 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java|5 0

Revision: 50fa5a6aa75ac506a326450f115c986e5e5f9ea0
Author: hehexiaoduantui <991413521@qq.com>
Date: 06/01/2022 15:49:30
Message:
Update HiveIncrementalPuller to configure filesystem (#4431) #MsgLength=227


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|3 0

Revision: b6891d253fef16f7dbbbec2def69a474c593c97e
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/01/2022 22:57:37
Message:
[HUDI-44] Adding support to preserve commit metadata for compaction (#4428) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|22 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|4 4

Revision: 2954027b92ada82c41d0a72cc0b837564a730a89
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 06/01/2022 23:56:08
Message:
[HUDI-52] Enabling savepoint and restore for MOR table (#4507) #MsgLength=148


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|5 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|2 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|94 0

Revision: 8718c30324ccea24c847ad4c540145a161a0a331
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 07/01/2022 02:04:10
Message:
[HUDI-3165] Enabling InProcessLockProvider for all multi-writer tests instead of FileSystemBasedLockProviderTestClass (#4427) #MsgLength=127


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|11 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|9 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|13 21

Revision: f0c2912d35467ff5f6514c01ab440eb1ca8d0d8f
Author: xuzifu666 <xuyu@zepp.com>
Date: 07/01/2022 07:36:13
Message:
[MINOR] Remove unused methods in HoodieColumnProjectionUtils (#4408) #MsgLength=70


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieColumnProjectionUtils.java|0 188

Revision: d7afc58d0c9cf7f6625a08e77b821a14548fafc0
Author: Thinking Chen <cdmikechen@hotmail.com>
Date: 07/01/2022 07:46:51
Message:
[HUDI-3118] Add default HUDI_DIR in setupKafka.sh (#4460) #MsgLength=59


----
Modified: hudi-kafka-connect/demo/setupKafka.sh|4 0

Revision: b2b23f5d3a14fae721df34a162e0ed717efe488f
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 07/01/2022 10:16:29
Message:
[HUDI-3183] Wrong result of HoodieArchivedTimeline loadInstants with TimeRangeFilter (#4521) #MsgLength=144


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|47 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1

Revision: 2467c137e465927f84df88d1985481a1d47954da
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/01/2022 15:26:35
Message:
[HUDI-3100] Add config for hive conditional sync (#4440) #MsgLength=58


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|10 0

Revision: 76a72641f1964f27df21ccfcf390ded00f32a9fa
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 07/01/2022 20:56:08
Message:
[HUDI-3188] Update quick start guide for Kafka Connect Sink for Hudi (#4527) #MsgLength=78


----
Modified: hudi-kafka-connect/README.md|63 24

Revision: b1df60672bdff3cac339958bf8e8a125cf3ca012
Author:  <dongkelun01@inspur.com>
Date: 07/01/2022 20:59:55
Message:
[MINOR] fix typos in DDLExecutor (#4534) #MsgLength=42


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|2 2

Revision: 2e561defe93ae8137137578aa3e673862cdef834
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/01/2022 00:38:58
Message:
[HUDI-2947] Fixing checkpoint fetch in detlastreamer (#4485) #MsgLength=129


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|47 32
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|13 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|12 6

Revision: 518488c6334e3d11dde959dd2080f6b6ba2372eb
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 08/01/2022 05:20:11
Message:
[HUDI-3185] HoodieConfig#getBoolean should return false when default not set (#4536) #MsgLength=111


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|3 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/config/TestConfigProperty.java|18 1

Revision: 4f6cdd73a352bee132213438e6d11a8aef56de8b
Author:  <dongkelun01@inspur.com>
Date: 08/01/2022 10:48:37
Message:
[HUDI-3192] Spark metastore schema evolution broken (#4533) #MsgLength=61


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 2

Revision: 03a83ffeb5c5ee1f2efccc32f8c927d435185c9b
Author: Yann Byron <biyan900116@gmail.com>
Date: 08/01/2022 15:21:39
Message:
[HUDI-3195] optimize spark3 pom and modify build command (#4538) #MsgLength=66


----
Modified: .github/workflows/bot.yml|4 4
Modified: pom.xml|15 3

Revision: 827549949c4ac472fdc528a35ae421b20e2cc83a
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 08/01/2022 23:22:44
Message:
[HUDI-2909] Handle logical type in TimestampBasedKeyGenerator (#4203) #MsgLength=362


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|9 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java|5 3
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestJavaBulkInsertInternalPartitioner.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|1 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|6 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|34 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|18 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|10 3
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|10 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|4 0
Added: hudi-common/src/test/resources/timestamp-logical-type.avsc|26 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkFullBootstrapDataProviderBase.java|4 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|9 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|6 6
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala|118 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|9 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|38 19
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 1

Revision: 46bb00e4df65999849dc740bd809e86a01e4fbfb
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 08/01/2022 23:29:36
Message:
[HUDI-3139] Shade htrace and parquet-avro in presto bundle (#4495) #MsgLength=98


----
Modified: packaging/hudi-presto-bundle/pom.xml|11 0

Revision: 98ec21507932ee942ca643c88ba9049746d44059
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 08/01/2022 23:34:47
Message:
[HUDI-3178] Fixing metadata table compaction so as to not include uncommitted data (#4530) #MsgLength=522


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|7 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|12 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|36 30
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java|3 3

Revision: 0d8ca8da4e0f6651bc1f06dba5e7e37881225fdc
Author: Thinking Chen <cdmikechen@hotmail.com>
Date: 09/01/2022 15:10:17
Message:
[HUDI-3104] Kafka-connect support of hadoop config environments and properties (#4451) #MsgLength=88


----
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|68 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|29 0
Added: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestHdfsConfiguration.java|69 0
Added: hudi-kafka-connect/src/test/resources/hadoop_conf/core-site.xml|33 0
Added: hudi-kafka-connect/src/test/resources/hadoop_conf/hdfs-site.xml|30 0
Added: hudi-kafka-connect/src/test/resources/hadoop_home/etc/hadoop/core-site.xml|33 0
Added: hudi-kafka-connect/src/test/resources/hadoop_home/etc/hadoop/hdfs-site.xml|30 0

Revision: 36790709f76f71e72026f3f54218ea8b8e247ed2
Author: Yann Byron <biyan900116@gmail.com>
Date: 09/01/2022 15:43:25
Message:
[HUDI-3125] spark-sql write timestamp directly (#4471) #MsgLength=56


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|15 4
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|12 3
Added: hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala|102 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|27 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|32 0

Revision: cf362fb2d5540d69b30604a227037bdff600735e
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 09/01/2022 17:14:56
Message:
[MINOR] Fix some code style issues based on check-style plugin (#4532) #MsgLength=120


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieBucketLayout.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/MetadataBootstrapHandlerFactory.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/AvroOrcUtils.java|1 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestRatelimiter.java|1 0
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java|1 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|1 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/DFSTestSuitePathSelector.java|2 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|0 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestMultiPartKeysValueExtractor.java|1 0

Revision: 977d3c6dad0b9fe3aa1d6f6eca614cc286c3df3d
Author: RexAn <anh131@126.com>
Date: 09/01/2022 18:23:46
Message:
[HUDI-3157] Remove aws jars from hudi bundles (#4542) #MsgLength=97


----
Modified: packaging/hudi-spark-bundle/pom.xml|0 4
Modified: packaging/hudi-utilities-bundle/pom.xml|0 4

Revision: 604d9885f1fd722a9b8a4f01da04837b233c5f0f
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/01/2022 01:46:52
Message:
[HUDI-3009] making some fixes to S3 incremental source (#4517) #MsgLength=64


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|14 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/CloudObjectsSelector.java|8 2

Revision: e9a7f49f55770ed31e70aed174c953395bbb0098
Author: Thinking Chen <cdmikechen@hotmail.com>
Date: 10/01/2022 07:31:57
Message:
[HUDI-3112] Fix KafkaConnect cannot sync to Hive Problem (#4458) #MsgLength=66


----
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|31 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|16 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|15 10

Revision: 56f93f4ebd21ca0680424cf092d7e0ef06bf3ae4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 10/01/2022 10:14:28
Message:
Removing rollbacks instants from timeline for restore operation (#4518) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|10 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|2 0

Revision: 251d4eb3b64704b9dd51bf6f6ecb5bf47089b745
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 10/01/2022 11:10:24
Message:
[HUDI-3030] InProcessLockPovider as default when any async servcies enabled with no lock provider override (#4406) #MsgLength=928


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|10 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|31 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|102 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|5 1

Revision: bc95571caade9ceef00abf24e3e6e82fc9643c05
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/01/2022 04:31:25
Message:
[HUDI-2735] Allow empty commits in Kafka Connect Sink for Hudi (#4544) #MsgLength=72


----
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/transaction/ConnectTransactionCoordinator.java|1 3
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/connect/TestConnectTransactionCoordinator.java|31 11

Revision: 7a8b94c82d2f907b67150ea1ce28e966e8cf92a9
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/01/2022 04:33:15
Message:
[HUDI-3180] Include files from completed commits while bootstrapping metadata table (#4519) #MsgLength=93


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|8 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|34 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|5 0

Revision: f230eca9b5a02d68788875be78c142aa10522fc3
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/01/2022 05:07:52
Message:
[MINOR] Fix port number in setupKafka.sh (#4546) #MsgLength=50


----
Modified: hudi-kafka-connect/demo/setupKafka.sh|1 1

Revision: c8df9b09d7f532f147e0edc8129081f354ca56d6
Author: t0il3ts0ap <anoop_narang2003@yahoo.com>
Date: 11/01/2022 07:09:47
Message:
[HUDI-3148] Create pushgateway client based on port (#4497) #MsgLength=173


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayReporter.java|17 2

Revision: f1e3762a947d9bc978beb5bb5ae845b8d5dd6290
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 11/01/2022 10:23:22
Message:
[HUDI-2950] Addressing performance traps in Bulk Insert/Layout Optimization (#4234) #MsgLength=1011


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java|2 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/sort/SpaceCurveSortingHelper.java|102 85
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|26 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/hadoop/FileNameCachingPath.java|48 0

Revision: 67ad4992e1dec5b1fe214fb00e6b3c1d21d50b80
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 11/01/2022 10:50:14
Message:
Removing extraneous warn logs in ClusteringUtils (#4553) #MsgLength=58


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|0 1

Revision: f74cd573201efa31ed71ccda767df0483e36fd56
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 11/01/2022 11:11:22
Message:
[HUDI-3195] Fix spark 3 pom (#4554) #MsgLength=128


----
Modified: .github/workflows/bot.yml|0 4
Modified: README.md|1 4
Modified: pom.xml|3 28

Revision: c9bc62629935401e98461b9c49d6a3c98ed7efef
Author: Todd Gao <todd.gao.2013@gmail.com>
Date: 11/01/2022 16:38:27
Message:
[HUDI-3211] Claim RFC number for RFC for Hudi Connector for Presto (#4562) #MsgLength=76


----
Modified: rfc/README.md|1 0

Revision: 4b2fd37fb4e1300b54308d4a68a68f38c24cbf78
Author: xuzifu666 <xuyu@zepp.com>
Date: 12/01/2022 03:53:45
Message:
[MINOR] Remove unused static var in HoodieAvroWriteSupport (#4543) #MsgLength=68


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|0 1

Revision: 6cdcd89afa40a75c95f3c060976ef72f1b2318b6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 12/01/2022 07:02:13
Message:
[HUDI-3094] Unify Hive's InputFormat implementations to avoid duplication (#4417) #MsgLength=83


----
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java|145 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|3 94
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|63 136
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|8 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|4 15
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|3 7

Revision: a392e9ba46e4f91bdc520badcf8ed03ac8b49e85
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 12/01/2022 10:52:07
Message:
[HUDI-485] Corrected the check for incremental sql (#2768) #MsgLength=222


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|36 23
Modified: hudi-utilities/pom.xml|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java|6 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|128 1

Revision: 4b0111974fa4e7046640c600834d586c6735c708
Author: Town <62897740+AirToSupply@users.noreply.github.com>
Date: 12/01/2022 10:53:51
Message:
[HUDI-3184] hudi-flink support timestamp-micros (#4548) #MsgLength=147


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/Int64TimestampColumnReader.java|29 9
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java|31 18
Modified: hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|26 8
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java|12 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|36 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java|12 8

Revision: 017ddbbfac0e1039b86cfc3d9fd4497ec95dc947
Author:  <dongkelun01@inspur.com>
Date: 12/01/2022 15:17:10
Message:
[MINOR] Fix typos (#4567) #MsgLength=27


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|14 14
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/DatePartitionPathSelector.java|2 2

Revision: 9fe28e56b49c7bf68ae2d83bfe89755314aa793b
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 12/01/2022 15:23:55
Message:
[HUDI-3045] New clustering regex match config to choose partitions when building clustering plan (#4346) #MsgLength=154


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|14 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestPartitionAwareClusteringPlanStrategy.java|96 0

Revision: 2969fb3835b96dbd31fdbca536e8f370abb264c6
Author: todd5167 <313328862@qq.com>
Date: 12/01/2022 13:34:09
Message:
[HUDI-3233] Make metadata commit synchronous for flink batch #MsgLength=85


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|31 21

Revision: 8a40d955069fc4a70b379e3ded28937ce92a5917
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/01/2022 00:53:01
Message:
[HUDI-3225] Claim RFC-45 for async metadata indexing (#4569) #MsgLength=62


----
Modified: rfc/README.md|1 0

Revision: 12e95771ee415bc005b7fd35d275fbbc177b0727
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/01/2022 00:53:43
Message:
[HUDI-3235] Fix ClassNotFoundException due to log4j-core dependency (#4574) #MsgLength=111


----
Modified: hudi-sync/hudi-hive-sync/pom.xml|0 1
Modified: hudi-utilities/pom.xml|6 0
Modified: pom.xml|8 0

Revision: 397795c7d03180bbb8e819fc9256453a222f38a2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 13/01/2022 01:03:27
Message:
[HUDI-3007] Fix issues in HoodieRepairTool (#4564) #MsgLength=52


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/repair/RepairUtils.java|2 4
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/HoodieTestCommitGenerator.java|183 0
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/repair/TestRepairUtils.java|176 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|47 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|19 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java|121 114
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieRepairTool.java|409 0

Revision: 209f91cb3374e94f1597e59a82a82d6846c4b994
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/01/2022 12:00:24
Message:
[HUDI-3010] Unbundle parquet-avro and shade other dependencies in prsto bundle (#4551) #MsgLength=88


----
Modified: packaging/hudi-presto-bundle/pom.xml|2 77

Revision: 195dac90fa89a05ee10ff9b37ad65fdfd07014ef
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 14/01/2022 11:43:27
Message:
[MINOR] Disable flaky tests to unlock CI (#4592) #MsgLength=50


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|5 0

Revision: 5ce45c440baeb38f57335c1a702ec91b721add65
Author: leesf <490081539@qq.com>
Date: 14/01/2022 13:42:35
Message:
[HUDI-3172] Refactor hudi existing modules to make more code reuse in V2 Implementation (#4514) #MsgLength=554


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|2 2
Added: hudi-spark-datasource/README.md|38 0
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|42 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/SparkRowWriteHelper.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/SparkRowWriteHelper.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/IExpressionEvaluator.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/sql/InsertMode.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/sql/InsertMode.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister [from hudi-spark-datasource/hudi-spark/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/DefaultSource.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieEmptyRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala]|2 2
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala]|23 23
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala]|5 5
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/IncrementalRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala]|2 2
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/package.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/package.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala]|13 13
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/trees/HoodieLeafLike.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/trees/HoodieLeafLike.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hive/HiveClientUtils.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hive/HiveClientUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala]|1 1
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|304 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/SerDeUtils.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/SerDeUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala]|0 2
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala]|0 2
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala]|2 3
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala]|4 6
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/HoodieLeafRunnableCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/HoodieLeafRunnableCommand.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala]|0 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/ValidateDuplicateKeyPayload.scala|45 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala]|0 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|12 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|11 278
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|14 14
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|5 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|3 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|4 29
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|0 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|1 1
Added: hudi-spark-datasource/hudi-spark2-common/pom.xml|19 0
Added: hudi-spark-datasource/hudi-spark2/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|19 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2DefaultSource.scala|28 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|4 4
Added: hudi-spark-datasource/hudi-spark3-common/pom.xml|247 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriterFactory.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWrite.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalBatchWriteBuilder.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieDataSourceInternalTable.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieWriterCommitMessage.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/HoodieWriterCommitMessage.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/hudi/Spark3RowSerDe.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3RowSerDe.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala]|8 7
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala]|1 1
Added: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|242 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|19 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark3xDefaultSource.scala|24 0
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|5 0
Added: hudi-spark-datasource/hudi-spark3/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|19 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala|24 0
Modified: hudi-spark-datasource/pom.xml|4 0
Modified: hudi-utilities/pom.xml|6 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|7 0
Modified: packaging/hudi-spark-bundle/pom.xml|9 0
Modified: packaging/hudi-utilities-bundle/pom.xml|6 0
Modified: pom.xml|4 1

Revision: 7d163ee3de1df456d1b01dabaf4fd9ec0e0c185b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/01/2022 14:48:57
Message:
[MINOR] Fix local flaky test in TestFSUtils (#4596) #MsgLength=127


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|7 10

Revision: 53f75f84b801f4255407fc8ec3848a85d8078d78
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 15/01/2022 00:38:55
Message:
[HUDI-2785] Add Trino setup in Docker Demo (#4300) #MsgLength=188


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|30 0
Added: docker/hoodie/hadoop/base_java11/Dockerfile|60 0
Added: docker/hoodie/hadoop/base_java11/entrypoint.sh|107 0
Added: docker/hoodie/hadoop/base_java11/export_container_ip.sh|30 0
Added: docker/hoodie/hadoop/base_java11/pom.xml|96 0
Modified: docker/hoodie/hadoop/pom.xml|5 0
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|22 1
Modified: docker/hoodie/hadoop/sparkadhoc/adhoc.sh|3 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|6 2
Added: docker/hoodie/hadoop/trinobase/Dockerfile|66 0
Added: docker/hoodie/hadoop/trinobase/pom.xml|116 0
Added: docker/hoodie/hadoop/trinobase/scripts/trino.sh|21 0
Added: docker/hoodie/hadoop/trinocoordinator/Dockerfile|29 0
Added: docker/hoodie/hadoop/trinocoordinator/etc/catalog/hive.properties|22 0
Added: docker/hoodie/hadoop/trinocoordinator/etc/config.properties|26 0
Added: docker/hoodie/hadoop/trinocoordinator/etc/jvm.config|27 0
Added: docker/hoodie/hadoop/trinocoordinator/etc/log.properties|19 0
Added: docker/hoodie/hadoop/trinocoordinator/etc/node.properties|21 0
Added: docker/hoodie/hadoop/trinocoordinator/pom.xml|96 0
Added: docker/hoodie/hadoop/trinoworker/Dockerfile|29 0
Added: docker/hoodie/hadoop/trinoworker/etc/catalog/hive.properties|22 0
Added: docker/hoodie/hadoop/trinoworker/etc/config.properties|24 0
Added: docker/hoodie/hadoop/trinoworker/etc/jvm.config|27 0
Added: docker/hoodie/hadoop/trinoworker/etc/log.properties|19 0
Added: docker/hoodie/hadoop/trinoworker/etc/node.properties|21 0
Added: docker/hoodie/hadoop/trinoworker/pom.xml|96 0

Revision: 5e0171a5ee3b63a3bb3ff28980f43f28bbb00fba
Author: Yann Byron <biyan900116@gmail.com>
Date: 15/01/2022 02:15:29
Message:
[HUDI-3198] Improve Spark SQL create table from existing hudi table (#4584) #MsgLength=404


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|14 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|1 24
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|1 21
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|30 34

Revision: 822230d9eac051dd9df6bb956f71cb7c99812808
Author:  <dongkelun01@inspur.com>
Date: 16/01/2022 16:09:22
Message:
[MINOR] Optimize variable names and logs (#4581) #MsgLength=50


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|6 6

Revision: 28b3b6ad8f24b94a0a5db1a4dab3931bf4825510
Author: 0x574C <761604382@qq.com>
Date: 16/01/2022 16:58:18
Message:
[MINOR] Remove org.apache.directory.api.util.Strings import (#4601) #MsgLength=69


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|6 5

Revision: d2dda55794ce77e13546ad9d6935bfbb2b120896
Author: Yann Byron <biyan900116@gmail.com>
Date: 17/01/2022 04:02:12
Message:
[HUDI-2968] add UT for update/delete on non-pk condition (#4568) #MsgLength=66


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|87 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|96 8

Revision: ed92c217edf3469b1376ed90813bbd44b5661060
Author: xiaotianzhang01 <18811106069@163.com>
Date: 17/01/2022 14:24:43
Message:
[MINOR] Delete unused parameter in TablePathUtils (#4595) #MsgLength=115


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java|2 2

Revision: 75caa7d3d81bc8c76c1af5f3a5404e8d48dd0fcf
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 17/01/2022 14:46:20
Message:
[HUDI-3179] Extracted common `AbstractHoodieTableFileIndex` to be shared across engines (#4520) #MsgLength=97


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|6 4
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/AbstractHoodieTableFileIndex.scala|289 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|0 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|115 483
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|11 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|4 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|288 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala|1 1

Revision: 36a9f63e45b97a37df7e53691625172e2934b605
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/01/2022 18:18:45
Message:
[HUDI-3257] Excluding clustering instants from pending rollback info (#4616) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|8 4

Revision: d36533735f5e60a8dc8ed6a7faca276c118c55c7
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 18/01/2022 06:24:24
Message:
[HUDI-3194] fix MOR snapshot query during compaction (#4540) #MsgLength=62


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLayoutConfig.java|1 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java|125 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|4 4

Revision: 20e798386684911046a7edef2129fb3496359dda
Author:  <dongkelun01@inspur.com>
Date: 18/01/2022 06:28:18
Message:
[HUDI-3252] Avoid creating empty requestedReplaceCommit in the startCommit method (#4515) #MsgLength=91


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java|7 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|1 1

Revision: f18447406dd3305c93e69ff109fe031ff470e2ad
Author: RexAn <anh131@126.com>
Date: 18/01/2022 11:08:33
Message:
[HUDI-1558] Struct Stream Source Support Spark3 (#4586) #MsgLength=99


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieSourceOffset.scala|10 6

Revision: 3d93e857cc372eb01960fad0cfd7584bbd8b0002
Author: wangxianghu <wangxianghu@apache.org>
Date: 18/01/2022 15:13:05
Message:
[MINOR] Minor improvement in JsonkafkaSource (#4620) #MsgLength=54


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|10 7

Revision: 3b56320bd8f189786985fd44fcd47e7abd09efb0
Author: EchoLee5 <39044001+EchoLee5@users.noreply.github.com>
Date: 18/01/2022 16:58:08
Message:
[HUDI-3261] Read rt table by hive cli throw NoSuchMethodError (#4624) #MsgLength=71


----
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|4 0

Revision: 45f054ffdef568e066a53c63c6e6f8d2b1ee67ea
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/01/2022 17:46:40
Message:
[HUDI-3263] Do not nullify members in HoodieTableFileSystemView#resetViewState to avoid NPE (#4625) #MsgLength=101


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|21 9

Revision: a09c2319119d3e1a4cd9200f95e71663da4d7458
Author: Yann Byron <biyan900116@gmail.com>
Date: 18/01/2022 23:50:30
Message:
[HUDI-2903] get table schema from the last commit with data written (#4180) #MsgLength=77


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|30 72
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|25 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|0 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|0 13
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestHoodieActiveTimeline.scala|233 0

Revision: caeea946fb592e53d612ff111cee9975d522ca6a
Author: Thinking Chen <cdmikechen@hotmail.com>
Date: 19/01/2022 03:51:09
Message:
[HUDI-3245] Convert uppercase letters to lowercase in storage configs (#4602) #MsgLength=79


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|5 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|4 4
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|1 1

Revision: 4bea7587384842ac82590b0a9e785b8f73690885
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 19/01/2022 06:54:51
Message:
[HUDI-3191] Rebasing Hive's FileInputFormat onto `AbstractHoodieTableFileIndex` (#4531) #MsgLength=89


----
Modified: docker/demo/config/log4j.properties|2 0
Modified: docker/hoodie/hadoop/hive_base/Dockerfile|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-common/pom.xml|68 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|6 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableQueryType.java|36 0
Renamed: hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/AbstractHoodieTableFileIndex.scala]|29 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|3 0
Modified: hudi-hadoop-mr/pom.xml|7 0
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java|100 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java|119 12
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|14 11
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|38 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|30 11
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|6 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|20 5
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|16 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|18 0
Modified: packaging/hudi-presto-bundle/pom.xml|85 5
Modified: packaging/hudi-trino-bundle/pom.xml|22 6

Revision: 7647562dad9e0615273bd76f75e7280f5ae7b7ce
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 19/01/2022 14:42:35
Message:
[HUDI-2833][Design] Merge small archive files instead of expanding indefinitely. (#4078) #MsgLength=138


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|31 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java|223 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|254 2
Added: hudi-common/src/main/avro/HoodieMergeArchiveFilePlan.avsc|42 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|3 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|30 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/FileIOUtils.java|44 0

Revision: db93ad2f4bc9b3c357f065882c3d8cbb1c0b9c07
Author: wangxianghu <wangxianghu@apache.org>
Date: 20/01/2022 01:13:51
Message:
[HUDI-3277] Filter non-parquet files in bootstrap procedure (#4639) #MsgLength=69


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapUtils.java|1 1

Revision: a08a2b730674d57a0c40545023b21f0bac34e7df
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 20/01/2022 12:25:28
Message:
[MINOR] Add instructions to build and upload Docker Demo images (#4612) #MsgLength=170


----
Added: docker/README.md|93 0
Added: docker/push_to_docker_hub.png|0 0
Modified: docker/setup_demo.sh|5 1

Revision: 31b57a256fcda477f7fda7a34c8d50b0255de6b2
Author: Yann Byron <biyan900116@gmail.com>
Date: 20/01/2022 13:44:35
Message:
[HUDI-3236] use fields'comments persisted in catalog to fill in schema (#4587) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|22 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|12 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|10 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/ShowHoodieTablePartitionsCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|28 8

Revision: b7a79aa94301a80c396476878fadeea5debb799a
Author: wangxianghu <wangxianghu@apache.org>
Date: 20/01/2022 18:42:52
Message:
[HUDI-3283] Bootstrap support overwrite existing table (#4647) #MsgLength=64


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|15 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 0

Revision: 14d08bb64c4bea20a692b3d3bced5cc9800cd541
Author: wangxianghu <wangxianghu@apache.org>
Date: 20/01/2022 19:34:56
Message:
[MINOR] Fix typo in the doc of BULK_INSERT_SORT_MODE (#4652) #MsgLength=62


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1

Revision: a66004a34072766674c56082edb1962ee61b2e83
Author: wangxianghu <wangxianghu@apache.org>
Date: 21/01/2022 00:04:36
Message:
[HUDI-3285] Drop unused method SparkBootstrapCommitActionExecutor#handleMetadataBootstrap (#4653) #MsgLength=99


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|3 75

Revision: 2071e3bfdaedff7b77925b7d0fd002d1138d7f0c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 21/01/2022 01:30:25
Message:
[HUDI-3250] Upgrade Presto docker image (#4646) #MsgLength=49


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|2 2
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/Dockerfile|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/Dockerfile|1 1

Revision: 79bf6ab00bc4f964448f1f62d0b8e1f9ef3a58b9
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 21/01/2022 07:47:02
Message:
[HUDI-3281][Performance]Tuning performance of getAllPartitionPaths API in FileSystemBackedTableMetadata (#4643) #MsgLength=163


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|21 26

Revision: 8547f11752bca1462f61c1042ef7b44bc7078e51
Author:  <dongkelun01@inspur.com>
Date: 21/01/2022 07:49:04
Message:
[HUDI-3271] Code optimization and clean up unused code in HoodieSparkSqlWriter (#4631) #MsgLength=88


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|18 19

Revision: 4b9085057a30c557fc2fe2436743cad5b9362f6f
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/01/2022 21:46:07
Message:
[HUDI-3268] Fix NPE while reading table with Spark datasource (#4630) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|6 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|73 14

Revision: 64b1426005c9a1dea678c94c4b00d5e9b3ad8a78
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/01/2022 10:28:41
Message:
[minor] Fix hive-exec scope of flink bundle jar (#4664) #MsgLength=57


----
Modified: packaging/hudi-flink-bundle/pom.xml|5 1

Revision: 56cd8ffae0aa1dc92633ebe880a5188cb9e74f5c
Author:  <dongkelun01@inspur.com>
Date: 23/01/2022 14:11:27
Message:
[HUDI-2837] Add support for using database name in incremental query (#4083) #MsgLength=78


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|12 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|22 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java|4 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|19 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|2 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|6 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java|92 10
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|92 10
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|23 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|5 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|24 6

Revision: e72553accf9626ecfddeebe27ff2c9a5f33fc154
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 23/01/2022 21:46:37
Message:
[HUDI-3262] Fixing utilities and integ test suite bundle to include hudi spark datasource (#4670) #MsgLength=99


----
Modified: packaging/hudi-integ-test-bundle/pom.xml|3 0
Modified: packaging/hudi-utilities-bundle/pom.xml|3 0

Revision: f7a77961e3654ad2574e1c18609228816266fadc
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 24/01/2022 03:23:21
Message:
[HUDI-1850][HUDI-3234] Fixing read of a empty table but with failed write (#2903) #MsgLength=83


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|21 18
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/EmptyRelation.scala|51 0

Revision: cfde45b548fe5c425c0415e45993d4bbec1a1c5a
Author:  <dongkelun01@inspur.com>
Date: 24/01/2022 03:32:57
Message:
[HUDI-3282] Fix delete exception for Spark SQL when sync Hive (#4644) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|2 2

Revision: e00a9042e9a4e97f6f8ccaed4ac51a9aa8c2da76
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 24/01/2022 18:43:28
Message:
[HUDI-3072] Fixing conflict resolution in transaction management code path for auto commit code path (#4588) #MsgLength=251


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|23 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|6 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/BaseFlinkCommitActionExecutor.java|7 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|6 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|8 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|148 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|2 1

Revision: 7bd389fb4756193cbe22576911e51da863d1c345
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 24/01/2022 20:09:54
Message:
[MINOR] typo fix in BaseTableMetadata wrt spurious deletes handling (#4673) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|5 5

Revision: 87db4ded426ee7422712d8fdeef6004c88ddeca7
Author: Vinish Reddy <vinishreddygunner17@gmail.com>
Date: 25/01/2022 03:24:43
Message:
[MINOR] Add default value as null for S3 Incremental source properties (#4674) #MsgLength=80


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|3 3

Revision: 1f7b6b215497c98efa275fc16c96b275daaa9390
Author:  <dongkelun01@inspur.com>
Date: 25/01/2022 03:26:27
Message:
[HUDI-2417] Add support allowDuplicateInserts in HoodieJavaClient (#3644) #MsgLength=75


----
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|3 0
Added: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java|226 0
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|6 8

Revision: 6f1010799861b9e4b331d0bf5a473211200c15d1
Author: Satyam Raj <satyammast@gmail.com>
Date: 25/01/2022 03:53:20
Message:
[HUDI-3306] Upgrade rocksdb version (#4663) #MsgLength=96


----
Modified: pom.xml|1 1

Revision: bc7882cbe924ce8000f4a738b8673fe7a5cf69fb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/01/2022 05:53:54
Message:
[HUDI-2872][HUDI-2646] Refactoring layout optimization (clustering) flow to support linear ordering (#4606) #MsgLength=360


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|65 49
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|14 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|28 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java|2 2
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveOptimizationSortPartitioner.java]|41 47
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|5 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|7 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSpaceCurveLayoutOptimization.scala]|23 10

Revision: 26c3f797b0fda964cf601836d6314ff6241e9d5d
Author: Yann Byron <biyan900116@gmail.com>
Date: 25/01/2022 08:33:36
Message:
[HUDI-3237] gracefully fail to change column data type (#4677) #MsgLength=64


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|6 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableChangeColumnCommand.scala|7 0
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|0 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|4 3

Revision: bf409e84239a0e27de86a7a1fb1613ba228955b9
Author: xuzifu666 <xuyu@zepp.com>
Date: 25/01/2022 10:09:08
Message:
[MINOR] Standardize HoodieSqlCommon.g4 file (#4582) #MsgLength=53


----
Modified: hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4|4 4

Revision: 920f45926a3112b6d045ca3b434bc7c4e55e5e3c
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 25/01/2022 13:27:59
Message:
[HUDI-1822] Rewriting rfc-27 for data skipping index (#4280) #MsgLength=62


----
Added: rfc/rfc-27/col_stats.png|0 0
Added: rfc/rfc-27/rfc-27.md|444 0

Revision: 78e6ab0e677679ba76b7630fb9494297aa60c54a
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 26/01/2022 06:58:34
Message:
[HUDI-3217] Claim the number for RFC-46 (#4687) #MsgLength=49


----
Modified: rfc/README.md|1 0

Revision: 9363804b1de4d3d249d77d02953219c1e7b25bcb
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/01/2022 08:35:37
Message:
[MINOR] Fixing serializability with ListingBasedRollbackRequest (#4655) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java|3 1

Revision: dd4ce1bdfd59cd386437169856201476df68ffa7
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 26/01/2022 21:45:57
Message:
[HUDI-3328] Updating doap file for release 0.10.1 (#4689) #MsgLength=59


----
Modified: doap_HUDI.rdf|5 0

Revision: f87c47352aab70883777d80e353f9833e5aa1caa
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 27/01/2022 02:34:04
Message:
[HUDI-2763] Metadata table records - support for key deduplication based on hardcoded key field (#4449) #MsgLength=1143


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|25 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|262 97
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|245 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|113 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|19 9
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|53 9
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|9 8
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|2 1
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip|0 0
Modified: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip|0 0

Revision: 3f21e5f14c5aeda53d25416cae16f866a7e2f7f0
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 27/01/2022 05:45:35
Message:
[MINOR] Fixing serializability of SerializableHoodieRollbackRequest (#4688) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializableHoodieRollbackRequest.java|2 1

Revision: 4a9f8263822200877c8ac7714aa5dbd946db7cdc
Author: Yann Byron <biyan900116@gmail.com>
Date: 27/01/2022 06:48:26
Message:
[HUDI-3215] Solve UT for Spark 3.2 (#4565) #MsgLength=44


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|23 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|42 28
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|1 1

Revision: 0bd38f26ca4076dc45ee1cba4f8525550b96ce40
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 28/01/2022 09:05:08
Message:
[HUDI-2596] Make class names consistent in hudi-client (#4680) #MsgLength=64


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|7 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|7 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java|3 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseClusterer.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractClusteringClient.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseCompactor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractCompactor.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieClient.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieClient.java]|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AbstractHoodieWriteClient.java]|10 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|4 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|4 4
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/BaseHoodieDateTimeParser.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/AbstractHoodieDateTimeParser.java]|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParserImpl.java]|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporterFactory.java|5 5
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/custom/CustomizableMetricsReporter.java|46 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/userdefined/AbstractUserDefinedMetricsReporter.java|15 22
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractBulkInsertHelper.java]|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseDeleteHelper.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractDeleteHelper.java]|1 1
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseMergeHelper.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractMergeHelper.java]|1 1
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/AbstractWriteHelper.java]|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/DowngradeHandler.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToTwoUpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/OneToZeroDowngradeHandler.java|1 1
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/SupportsUpgradeDowngrade.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/BaseUpgradeDowngradeHelper.java]|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToTwoDowngradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeHandler.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|4 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/providers/HoodieWriteClientProvider.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngradeHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncCompactService.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkClusteringClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|2 2
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseSparkDeltaCommitActionExecutor.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/AbstractSparkDeltaCommitActionExecutor.java]|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java|5 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngradeHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java|4 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncCompactService.java|4 4

Revision: 2b52a569819a1a21becdb95e6183655b582671d4
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 28/01/2022 21:43:11
Message:
[HUDI-2688][RFC-40] A new Hudi connector for Trino (#3957) #MsgLength=116


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-40/Hudi_Connector.png|0 0
Added: rfc/rfc-40/rfc-40.md|282 0

Revision: e78b2f1b5572fd1c0b5a549bf5cd4772531399ec
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 29/01/2022 10:28:04
Message:
[HUDI-2943] Complete pending clustering before deltastreamer sync (#4572) #MsgLength=75


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|22 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|3 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|32 0

Revision: c0e8b03d93223777bd1e8e5c9dbb7edcb9e37e47
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date: 29/01/2022 10:39:08
Message:
[HUDI-1977] Fix Hudi CLI tempview query issue (#4626) #MsgLength=55


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|15 10

Revision: ed7aa138e80d6fefab58951dde42c404ccca2ece
Author: Harsha Teja Kanna <h7kanna@users.noreply.github.com>
Date: 29/01/2022 12:08:25
Message:
[MINOR] Added log to debug checkpoint resumption when set to 0 (#4650) #MsgLength=72


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 0

Revision: ecbad9526ae2c4531c00618f178fd34e10a21db3
Author: Yann Byron <biyan900116@gmail.com>
Date: 29/01/2022 16:39:42
Message:
[HUDI-3253] preferred to use the table's own location (#4608) #MsgLength=63


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|1 3

Revision: d3cfe07436fcf671f8f9bea12251fad2452391b6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 01/02/2022 10:33:35
Message:
[HUDI-3318] [RFC-46] Optimize Record Payload handling (#4697) #MsgLength=63


----
Added: rfc/rfc-46/rfc-46.md|159 0

Revision: 4b388c104e024f32ae0705f6627e48b72b3408b4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 01/02/2022 11:36:17
Message:
[HUDI-3292] Enabling lazy read by default for log blocks during compaction (#4661) #MsgLength=84


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1

Revision: 7ce0f4522b54c73d6d7461b6a5bfdf426e61e9a0
Author: jsbali <jsbali@uber.com>
Date: 01/02/2022 12:03:18
Message:
[HUDI-2711] Fallback to fulltable scan for IncrementalRelation if underlying files have been cleared or moved by cleaner (#3946) #MsgLength=178


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|62 24
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|86 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|4 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|49 0

Revision: f140c58d9e137a7111b7a53c4bcb8faef50fa8e4
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 01/02/2022 21:21:55
Message:
[HUDI-3346] Fixing non existant marker dir handling in TwoToOnedowngrade (#4726) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToOneDowngradeHandler.java|5 3

Revision: 4e61e5c9ea100c9ff4c511f86fc89bbfafa044f1
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 01/02/2022 21:22:37
Message:
[HUDI-3293] Fixing default value for clustering small file config  to 300MB (#4662) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|1 1

Revision: 16138db4f25eb3e47c88cc03e3f245eb0ba5f71a
Author: Sivabalan Narayanan <sivabala@uber.com>
Date: 02/02/2022 03:18:38
Message:
[HUDI-3368] Revert "[HUDI-3306] Upgrade rocksdb version (#4663)" (#4733) #MsgLength=135


----
Modified: pom.xml|1 1

Revision: 72f7348830a5a2ca320720d34d12f8317e11ceff
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 02/02/2022 07:38:20
Message:
[HUDI-2589] RFC-37: Metadata table based bloom index (#3989) #MsgLength=120


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-37/metadata_index_1.png|0 0
Added: rfc/rfc-37/metadata_index_bloom_partition.png|0 0
Added: rfc/rfc-37/metadata_index_col_stats.png|0 0
Added: rfc/rfc-37/rfc-37.md|329 0

Revision: caef3d5c58820ac5828fb74e5ac6aaae8c9e845f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 02/02/2022 20:20:10
Message:
[HUDI-3330] Remove fixture test tables for multi writer tests (#4704) #MsgLength=71


----
Deleted: hudi-common/src/test/java/org/apache/hudi/common/testutils/FixtureUtils.java|0 81
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|76 40
Deleted: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.COPY_ON_WRITE.zip|0 0
Deleted: hudi-utilities/src/test/resources/fixtures/testUpsertsContinuousModeWithMultipleWriters.MERGE_ON_READ.zip|0 0

Revision: a68e1dc2dba475b9a63779f3afa0b5c558a7cd3b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 03/02/2022 03:35:05
Message:
[HUDI-431] Adding support for Parquet in MOR `LogBlock`s (#4333) #MsgLength=179


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|46 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|16 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|4 19
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|21 44
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFSUtils.java|27 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/inline/InLineFileSystem.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|136 116
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatWriter.java|0 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|70 48
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCommandBlock.java|3 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCorruptBlock.java|3 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|108 83
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|5 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|85 108
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|54 16
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java|171 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|17 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/io/ByteBufferBackedInputStream.java|138 0
Renamed: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java]|0 0
Renamed: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java]|0 0
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|7 33
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|7 6
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetStreamWriter.java|88 0
Added: hudi-common/src/main/java/org/apache/hudi/parquet/io/ByteBufferBackedInputFile.java|63 0
Added: hudi-common/src/main/java/org/apache/hudi/parquet/io/OutputStreamBackedOutputFile.java|94 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|170 88
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormatAppendFailure.java|2 1
Added: hudi-common/src/test/java/org/apache/hudi/common/testutils/HadoopMapRedUtils.java|87 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|6 2
Added: hudi-common/src/test/java/org/apache/hudi/common/util/io/TestByteBufferBackedInputStream.java|113 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|6 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|11 3
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 1

Revision: 819e8018ff926fea21c95e75ae1b7991afb227c2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 03/02/2022 05:10:51
Message:
[HUDI-3322][HUDI-3343] Fixing Metadata Table Records Duplication Issues (#4716) #MsgLength=1002


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java|21 25
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|14 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackRequest.java|23 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|25 30
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|51 49
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|0 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|9 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java|0 3
Modified: hudi-common/src/main/avro/HoodieRollbackMetadata.avsc|0 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieRollbackStat.java|2 18
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|14 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|3 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|1 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|2 12
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|1 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|0 1

Revision: d681824982c1af64e894725d3678da33110d6ccd
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 03/02/2022 09:58:05
Message:
[HUDI-3337] Fixing Parquet Column Range metadata extraction (#4705) #MsgLength=371


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|1 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|39 6
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00000-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00001-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00002-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00003-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json|10 0
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|186 60
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala|0 18

Revision: 5927bdd1c0fab202474af47b9e035680b345c563
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 03/02/2022 20:42:48
Message:
[HUDI-1295] Metadata Index - Bloom filter and Column stats index to speed up index lookups (#4352) #MsgLength=4984


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|45 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBaseBloomIndexCheckFunction.java|7 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|84 20
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java|4 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieIOHandle.java|4 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|53 77
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupResult.java|57 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieRangeInfoHandle.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieReadHandle.java|12 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|141 26
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|12 27
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndexCheckFunction.java|8 8
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieMetadataBloomIndexCheckFunction.java|161 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|24 13
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|7 22
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|58 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|16 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|17 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 2
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|124 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/HoodieDynamicBoundedBloomFilter.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|86 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|34 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|26 15
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/hash/ColumnIndexID.java [from hudi-common/src/main/java/org/apache/hudi/common/util/hash/ColumnID.java]|11 4
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/hash/FileIndexID.java [from hudi-common/src/main/java/org/apache/hudi/common/util/hash/FileID.java]|10 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/hash/HoodieIndexID.java [from hudi-common/src/main/java/org/apache/hudi/common/util/hash/HoodieID.java]|11 3
Renamed: hudi-common/src/main/java/org/apache/hudi/common/util/hash/PartitionIndexID.java [from hudi-common/src/main/java/org/apache/hudi/common/util/hash/PartitionID.java]|10 3
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|62 17
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|136 13
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|20 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|97 61
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMetrics.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|269 37
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|36 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|580 48
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java|32 7

Revision: 69dfcda116584c59983f682253998f2c5b0dce6e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 04/02/2022 06:01:41
Message:
[HUDI-3191] Removing duplicating file-listing process w/in Hive's MOR `FileInputFormat`s (#4556) #MsgLength=98


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|5 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java|7 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|66 27
Added: hudi-common/src/main/java/org/apache/hudi/TypeUtils.java|35 0
Modified: hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala|26 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java|7 7
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java|4 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java|141 73
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/InputPathHandler.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java|8 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|5 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|19 16
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|4 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java|24 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|7 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|10 10
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|113 29
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|1 1

Revision: b8601a9f58ae4dc5099cc7f828df7fd8d0aeb798
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 04/02/2022 12:24:04
Message:
[HUDI-2656] Generalize HoodieIndex for flexible record data type (#3893) #MsgLength=144


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|5 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/BaseHoodieBloomIndexHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|10 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java|12 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java|7 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/inmemory/HoodieInMemoryHashIndex.java|6 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieGlobalSimpleIndex.java|16 17
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java|9 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapRecordConsumer.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|3 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|5 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|8 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndexFactory.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/state/FlinkInMemoryStateIndex.java|4 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|3 2
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|20 19
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|8 7
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndexFactory.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|3 2
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java|12 10
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|13 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java|5 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndex.java|8 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java|6 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|1 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|15 17
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|6 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|9 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryQueue.java|12 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/functional/SparkClientFunctionalTestSuite.java|4 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|1 59
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|21 20
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|14 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java|8 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieBucketIndex.java|10 8
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHBaseIndex.java]|8 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|11 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|2 1
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroRecord.java|50 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|8 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|17 17
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|8 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestParquetInLining.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|13 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieRecord.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|10 9
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|5 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SpillableMapTestUtils.java|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestBitCaskDiskMap.java|4 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestExternalSpillableMap.java|6 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/collection/TestRocksDbDiskMap.java|5 5
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|3 2
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|4 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java|7 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|5 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|3 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|6 5
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/AbstractConnectWriter.java|2 1
Modified: hudi-kafka-connect/src/test/java/org/apache/hudi/writers/TestAbstractConnectWriter.java|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|7 5
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|3 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/JdbcTestUtils.java|4 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|2 1

Revision: 0880a8a5e453bd146c0cbcb7e26cc8ee6c2560cc
Author: Qian.Sun <qian.sun2020@gmail.com>
Date: 07/02/2022 11:27:44
Message:
[HUDI-3344] Standard format for HoodieDataSourceExample.scala (#4717) #MsgLength=71


----
Modified: hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|2 2

Revision: de206acbae06f733ba14cec2650eef9a0139db7a
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 07/02/2022 17:31:34
Message:
[HUDI-3369] New ScheduleAndExecute mode for HoodieCompactor and hudi-cli (#4750) #MsgLength=138


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|35 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|19 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java|27 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|165 40

Revision: 538db185cad6274d4e5083afc7d583aba13c78cd
Author: ehui <374488688@qq.com>
Date: 07/02/2022 20:43:51
Message:
[HUDI-2491] Expose HMS mode metastore uri config option for spark writer (#3962) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|5 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|3 2

Revision: 24f738fe68d03fa15755d8a53aeb6e25921c6e94
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/02/2022 21:10:06
Message:
[HUDI-3360] Adding retries to deltastreamer for source errors (#4744) #MsgLength=71


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|26 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|9 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSourceTimeoutException.java|33 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|12 7
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|12 7

Revision: 773b3179834d6e0d2912a7a9d4b3b3873d0c2a21
Author: ForwardXu <forwardxu315@gmail.com>
Date: 07/02/2022 22:28:13
Message:
[HUDI-2941] Show _hoodie_operation in spark sql results (#4649) #MsgLength=65


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|21 14
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|46 2
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|4 13
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|2 2

Revision: 3f263b82ce6687a8275419ce53ba23348561bdcb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 08/02/2022 03:06:28
Message:
[HUDI-3206] Unify Hive's MOR implementations to avoid duplication (#4559) #MsgLength=412


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java|132 72
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|3 52
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|3 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|12 20
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|26 240
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileInputFormatBase.java|259 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|4 3
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|8 13

Revision: 3bd8fc1c3eb1d647d4f181b20fd54c6860cf24dc
Author: satishkotha <satish.kotha@gmail.com>
Date: 08/02/2022 04:16:50
Message:
[HUDI-3058] Simplify Precommit file system view (#4570) #MsgLength=57


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTablePreCommitFileSystemView.java|7 12

Revision: 8ab6f17149e7edbdc80351bdf0d2e5c4c4a33908
Author: Vinish Reddy <vinishreddygunner17@gmail.com>
Date: 08/02/2022 04:17:46
Message:
[HUDI-3373] Add zero value metrics for empty data source and PROMETHEUS_PUSHGATEWAY reporter (#4760) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/HoodieMetrics.java|20 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|6 0

Revision: 0ab1a8ec80fcf3432846f12c40eff9b66992d87f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/02/2022 13:40:36
Message:
[HUDI-3312] Fixing spark yaml and adding hive validation to integ test suite (#4731) #MsgLength=86


----
Modified: docker/demo/config/test-suite/cow-spark-long-running.yaml|8 8
Modified: docker/demo/config/test-suite/cow-spark-simple.yaml|3 3
Added: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml|89 0
Renamed: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml [from docker/demo/config/test-suite/cow-long-running-multi-partitions.yaml]|1 1
Renamed: docker/demo/config/test-suite/detlastreamer-long-running-example.yaml [from docker/demo/config/test-suite/cow-long-running-example.yaml]|1 1
Added: docker/demo/config/test-suite/simple-clustering-hive.yaml|76 0
Renamed: docker/demo/config/test-suite/simple-clustering.yaml [from docker/demo/config/test-suite/cow-clustering-example.yaml]|3 3
Added: docker/demo/config/test-suite/simple-deltastreamer-hive.yaml|82 0
Renamed: docker/demo/config/test-suite/simple-deltastreamer.yaml [from docker/demo/config/test-suite/complex-dag-cow.yaml]|1 1
Modified: hudi-integ-test/README.md|14 14
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|8 5
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|3 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|1 1

Revision: 1636876e8aa7a97c9982268a9fcecfb8f1f6e6ed
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 08/02/2022 16:29:44
Message:
[HUDI-3320] Hoodie metadata table validator (#4721) #MsgLength=157


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|518 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1

Revision: ab730479587c3fc7588e267ae07f83bb0631ef32
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/02/2022 17:14:10
Message:
Adding support for custom scheduler configs with streaming sink (#4762) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|26 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deltastreamer/TestSchedulerConfGenerator.java|5 4

Revision: 6a32cfe0201bd84ad9199af76a585d4b5a3a54d7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/02/2022 17:32:18
Message:
[HUDI-3091] Making SIMPLE index as the default index type (#4659) #MsgLength=447


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/simple/HoodieSimpleIndex.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|1 1

Revision: 60831d69060aeb8f112fd7aff9c9323cd213ddb2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 09/02/2022 01:03:07
Message:
[HUDI-3361] Fixing missing begin checkpoint in HoodieIncremental pull (#4755) #MsgLength=79


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|24 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|21 12
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|8 8
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|22 10

Revision: 973087f385f0e42bd42e2d57008a756e182041ff
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 09/02/2022 04:21:45
Message:
[HUDI-3276] Rebased Parquet-based `FileInputFormat` impls to inherit from `MapredParquetInputFormat` (#4667) #MsgLength=790


----
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieFileInputFormatBase.java]|24 13
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormat.java|7 9
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormatBase.java|92 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/hive/HoodieCombineHiveInputFormat.java|8 8
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieHFileRealtimeInputFormat.java|1 1
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieMergeOnReadTableInputFormat.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileInputFormatBase.java]|2 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|7 7

Revision: 464027ec375b375475999c78c56612506753f77e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 10/02/2022 07:42:08
Message:
[HUDI-3239] Convert `BaseHoodieTableFileIndex` to Java (#4669) #MsgLength=158


----
Modified: hudi-common/pom.xml|0 65
Added: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|351 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieTableQueryType.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|14 1
Deleted: hudi-common/src/main/scala/org/apache/hudi/HoodieTableFileIndexBase.scala|0 324
Modified: hudi-hadoop-mr/pom.xml|0 7
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java|8 25
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|6 35
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|22 23
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|33 24
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|6 3
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|0 11
Modified: packaging/hudi-hive-sync-bundle/pom.xml|0 11
Modified: packaging/hudi-presto-bundle/pom.xml|0 11
Modified: packaging/hudi-trino-bundle/pom.xml|0 11

Revision: b3b44236fe031f84e99008eed85e14ec4519e40f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/02/2022 11:32:01
Message:
[HUDI-3389] Bump flink version to 1.14.3 (#4776) #MsgLength=50


----
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-flink/pom.xml|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|4 6
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|8 1
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java|8 8
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java|6 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java|7 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java|3 3
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|20 2
Modified: pom.xml|1 1

Revision: 0ababcfaa7c8cb34c399c0da57202fd48676f5d2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 10/02/2022 21:04:55
Message:
[HUDI-1847] Adding inline scheduling support for spark datasource path for compaction and clustering (#4420) #MsgLength=273


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|43 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|22 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|21 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|14 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|34 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|44 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|22 3

Revision: e7ec3a82dc274b8d683d74e59ee7bf35d7827ce0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 10/02/2022 21:06:23
Message:
[HUDI-2432] Adding restore.requested instant and restore plan for restore action (#4605) #MsgLength=292


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|15 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieRestoreException.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|15 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|45 14
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/RestoreUtils.java|46 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RestorePlanActionExecutor.java|84 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|6 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|7 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|7 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 0
Added: hudi-common/src/main/avro/HoodieRestorePlan.avsc|37 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|28 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|5 0

Revision: d971974063411597bdb5633e71a7e26688b2b136
Author: Yann Byron <biyan900116@gmail.com>
Date: 10/02/2022 22:12:16
Message:
[HUDI-3333] fix that getNestedFieldVal breaks with Spark 3.2 (#4783) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|27 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|13 24
Modified: pom.xml|1 0

Revision: 1c778590d1a7a7eb744432e59b4947bb6af30431
Author: wenningd <wenningding95@gmail.com>
Date: 10/02/2022 22:41:22
Message:
[HUDI-3395] Allow pass rollbackUsingMarkers to Hudi CLI rollback command (#4557) #MsgLength=132


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|4 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|13 8
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|13 0

Revision: 2fe7a3a41f36f0dcbbc89e4dbe51b70f2de997db
Author: Yann Byron <biyan900116@gmail.com>
Date: 10/02/2022 23:35:28
Message:
[HUDI-2610] pass the spark version when sync the table created by spark (#4758) #MsgLength=225


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|4 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|4 0

Revision: ba4e732ba75e12a02d07c09f2662678bdcafbdc2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/02/2022 08:19:33
Message:
[HUDI-2987] Update all deprecated calls to new apis in HoodieRecordPayload (#4681) #MsgLength=84


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java [from hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieFileSliceReader.java]|10 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/PostgresDebeziumAvroPayload.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|15 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|9 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|2 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|3 4
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|14 0

Revision: 10474e09625dc863f9b2cbd6078d0a9b72c36fd6
Author: Yann Byron <biyan900116@gmail.com>
Date: 12/02/2022 01:23:55
Message:
[HUDI-3402] Set TIMESTAMP_MICROS as the default value for hoodie.parquet.outputtimestamptype (#4749) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|1 1

Revision: b431246710f37def64b28ea26923ef5602404d24
Author: Yann Byron <biyan900116@gmail.com>
Date: 12/02/2022 02:48:44
Message:
[HUDI-3338] Custom relation instead of HadoopFsRelation (#4709) #MsgLength=481


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|27 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|8 1
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala|95 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|10 19
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|55 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRDD.scala|10 22
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|30 32
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|158 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|109 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|20 57
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|18 15
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|12 31
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|30 1
Deleted: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestMergeOnReadSnapshotRelation.scala|0 50
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|44 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|44 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|13 3

Revision: 89ed6f062eead82f441c695e027bbbd67a272dfc
Author: satishkotha <satish.kotha@gmail.com>
Date: 12/02/2022 03:12:45
Message:
[HUDI-3362] Fix restore to rollback pending clustering operations followed by other rolling back other commits (#4772) #MsgLength=120


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RestorePlanActionExecutor.java|21 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ClusteringUtils.java|7 1

Revision: 9518f786102566398fa20001533d5d86f68deb5b
Author: zhangxiang17 <zhang_xiang_per@163.com>
Date: 12/02/2022 15:37:29
Message:
[HUDI-3413]fix jackson parse error when empty message from JsonKafkaSource Using HoodieDeltaStreamer (#4794) #MsgLength=110


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 1

Revision: ce9762d588800daa71db5bded8b68f755aa5ba17
Author: wangxianghu <wangxianghu@apache.org>
Date: 12/02/2022 17:11:37
Message:
[MINOR] unused import (#4799) #MsgLength=31


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|0 2

Revision: 6aba00e84fade0b800e2d73c2f16be948af48d54
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 13/02/2022 22:41:58
Message:
[MINOR] Fix typos in Spark client related classes (#4781) #MsgLength=59


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|5 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java|4 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|5 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BootstrapMetadataHandler.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|9 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestKeyRangeLookupTree.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestConsistencyGuard.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|5 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/marker/TestWriteMarkersBase.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|5 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java|2 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|14 14
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|4 4

Revision: 55777fec0519c1aa26a4bd4415d545b658dfec29
Author:  <fengjian428@gmail.com>
Date: 14/02/2022 10:37:48
Message:
[HUDI-2413] fix Sql source's checkpoint issue (#3648) #MsgLength=257


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/SqlSource.java|2 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|2 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|45 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java|18 0

Revision: 76e2faa28dc1050e9e6ebe5b33dac1972b781eba
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 14/02/2022 11:12:52
Message:
[HUDI-3370] The files recorded in the commit may not match the actual ones for MOR Compaction (#4753) #MsgLength=218


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|6 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|8 18
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|3 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieSparkCompactor.java|9 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|12 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|6 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|8 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|17 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|6 0
Modified: hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|4 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|7 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|11 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|10 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|2 17
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|3 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|14 0

Revision: 93ee09fee879b922ff011e04dbbb54194fac481b
Author: RexAn <anh131@126.com>
Date: 14/02/2022 11:33:29
Message:
[HUDI-3412] TypedProperties no need to create new set when check key exist or not (#4791) #MsgLength=133


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|7 13

Revision: 94806d5cf7650976892c24d7e77c3bba22cee53d
Author:  <dongkelun01@inspur.com>
Date: 14/02/2022 11:52:00
Message:
[HUDI-3272] If `mode==ignore && tableExists`, do not execute write logic and sync hive (#4632) #MsgLength=96


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|40 37
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|6 0

Revision: 5ca4480a3818ba9192780a40941abbef44c75dc3
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 14/02/2022 16:18:34
Message:
[HUDI-3417] Switch AbstractTableFileSystemView#filterBaseFileAfterPendingCompaction log level to debug (#4805) #MsgLength=165


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|1 1

Revision: 0db1e978c6c26e7bdcbbaa5f048e0e11e6dee073
Author: leesf <490081539@qq.com>
Date: 14/02/2022 22:26:58
Message:
[HUDI-3254] Introduce HoodieCatalog to manage tables for Spark Datasource V2 (#4611) #MsgLength=86


----
Modified: .github/workflows/bot.yml|6 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|10 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|37 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|27 22
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 11
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|52 25
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|7 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|12 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|7 7
Added: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3SqlUtils.scala|45 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|15 3
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala|23 1
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala|43 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|206 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala|57 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|303 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala|126 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala|99 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/ProvidesHoodieConfig.scala|183 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java|23 0
Modified: style/scalastyle.xml|1 1

Revision: bcfd8efe66c4429ac8eabf82f87309019760234c
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/02/2022 03:06:31
Message:
[MINOR] Prevent async service from starting twice (#4801) #MsgLength=59


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|4 0

Revision: e639d993873913805de1ebd286f1e8a791ef6a24
Author: Yuqi Gu <yuqi.gu@arm.com>
Date: 15/02/2022 07:10:18
Message:
[HUDI-1657] Fix the build on aarch64, Fedora 33 (#4617) #MsgLength=57


----
Modified: hudi-kafka-connect/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 0a97a9893a0425ed54c911b48d6e070f1d947311
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 15/02/2022 08:02:47
Message:
[HUDI-3398] Fix TableSchemaResolver for all file formats and metadata table (#4782) #MsgLength=133


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|53 14
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|10 2
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestTableSchemaResolverWithSparkSQL.scala|236 0

Revision: 3b401d839c1a3a5a8060f671b13df71b76bf88ac
Author: Yann Byron <biyan900116@gmail.com>
Date: 15/02/2022 09:38:01
Message:
[HUDI-3200] deprecate hoodie.file.index.enable and unify to use BaseFileOnlyViewRelation to handle (#4798) #MsgLength=108


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|11 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|21 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala|40 29
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|7 62
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|3 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|1 1

Revision: 27bd7b538e46524d6863e36e334b4a6da665ed32
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/02/2022 10:15:06
Message:
[HUDI-1576] Make archiving an async service (#4795) #MsgLength=53


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|5 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|3 3
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncArchiveService.java|85 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCleanerService.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/AsyncCleanerService.java]|23 20
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|7 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|40 22
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTimelineArchiveLog.java]|12 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|24 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|10 6
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/async/TestAsyncArchiveService.java|75 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|3 3
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiveLog.java]|33 33

Revision: cb6ca7f0d1d57b7c7eb850015f3bfe75cacf542a
Author: Yann Byron <biyan900116@gmail.com>
Date: 15/02/2022 12:38:38
Message:
[HUDI-3204] fix problem that spark on TimestampKeyGenerator has no re (#4714) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|6 29
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/BaseHoodieDateTimeParser.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/parser/HoodieDateTimeParser.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|35 0
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/constant/KeyGeneratorOptions.java|23 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|7 6
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|4 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|53 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|16 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|7 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|61 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|80 0

Revision: fe02c64fea7e2393255ff32f161b624367d12b7a
Author: Yann Byron <biyan900116@gmail.com>
Date: 15/02/2022 19:40:40
Message:
fix build & ci (#4822) #MsgLength=24


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|4 4

Revision: 538ec44fa8a23926b584c3bcdd24feb9894d4c51
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/02/2022 22:49:53
Message:
[HUDI-2931] Add config to disable table services (#4777) #MsgLength=58


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncArchiveService.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCleanerService.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|6 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncTableService.java|50 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|17 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/RunsTableService.java|37 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 1
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/async/TestHoodieAsyncTableService.java|58 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/TableServiceType.java|4 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|3 2

Revision: 9a05940a74c7258e6ca9810473e4beeb4d43dcd7
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/02/2022 05:41:47
Message:
[HUDI-3366] Remove hardcoded logic of disabling metadata table in tests (#4792) #MsgLength=81


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|6 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|22 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|9 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|0 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestMultiFS.java|7 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|5 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java|2 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|77 20
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java|19 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|44 40
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|1 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|0 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|0 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|4 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|15 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|0 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|5 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|15 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|5 1

Revision: 3363c664681b8b58238d54776671428fbaac3365
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 16/02/2022 14:41:25
Message:
[HUDI-3394] Check isWriteLockedByCurrentThread before unlock for InProcessLockProvider (#4819) #MsgLength=200


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java|7 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|4 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestInProcessLockProvider.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java|1 1

Revision: aaddaf524a07daa1ffad6d6f5e04f6b130e5b069
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 17/02/2022 07:36:37
Message:
[HUDI-3280] Cleaning up Hive-related hierarchies after refactoring (#4743) #MsgLength=76


----
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|27 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|10 4
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|10 9
Deleted: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BaseFileWithLogsSplit.java|0 123
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/BootstrapBaseFileSplit.java|1 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HiveHoodieTableFileIndex.java|1 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|31 104
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHFileInputFormat.java|0 5
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieParquetInputFormatBase.java|1 1
Added: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieTableInputFormat.java|72 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/RealtimeFileStatus.java|43 43
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieMergeOnReadTableInputFormat.java|156 36
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java|1 1
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeBootstrapBaseFileSplit.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeBootstrapBaseFileSplit.java]|48 39
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java|73 32
Renamed: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimePath.java [from hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/PathWithLogFilePath.java]|49 51
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|10 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|36 21
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|2 39
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|16 87
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|7 244
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|11 12
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|3 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|40 38
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|5 12
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|1 0

Revision: ba0afe142672b61d291a7cc8ac3a85394e90af7d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 17/02/2022 08:02:49
Message:
[HUDI-3426] Sync datasource clustering config (#4828) #MsgLength=55


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|4 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 13

Revision: 433c2573ef5d1f25cba42f169679a4afe5ff2e24
Author: zhangxiang17 <zhang_xiang_per@163.com>
Date: 17/02/2022 11:04:09
Message:
[HUDI-3442]Duplicate code calls for 'FlinkOptions.flatOptions' (#4832) #MsgLength=72


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java|1 2

Revision: 2844a77b43cfe4926f3a67d17695be1d6c141ba3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/02/2022 22:42:39
Message:
[HUDI-3439] Remove the hive shade pattern for flink bundle jar (#4833) #MsgLength=72


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 40

Revision: ed106f671e929d2a6277ae189242201a02a7b58f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 18/02/2022 12:47:06
Message:
[HUDI-2809] Introduce a checksum mechanism for validating hoodie.properties (#4712) #MsgLength=404


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|3 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|22 10
Modified: hudi-client/hudi-client-common/pom.xml|0 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToThreeDowngradeHandler.java|38 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToFourUpgradeHandler.java|41 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|4 0
Modified: hudi-client/hudi-spark-client/pom.xml|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|37 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|46 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|70 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BinaryUtil.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|1 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/BitCaskDiskMap.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java|23 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java|5 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java|2 0
Modified: hudi-integ-test/pom.xml|0 1
Modified: pom.xml|6 0

Revision: de8161ae96c4cec1e4c9e40069f286439f0c3261
Author: luokey <854194341@qq.com>
Date: 18/02/2022 17:31:38
Message:
HoodieSortedMergeHandle#close write data disorder (#4841) #MsgLength=105


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|3 2

Revision: fba5822ee34167b07e65eefc63d7e3d43abd9387
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 18/02/2022 21:44:56
Message:
[HUDI-3430] Fix Deltastreamer to properly shut down the services upon failure (#4824) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|7 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|13 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|17 9

Revision: 5009138d044b4d859237f0f581aeeb71065dc526
Author: RexAn <anh131@126.com>
Date: 18/02/2022 21:57:04
Message:
[HUDI-3438] Avoid getSmallFiles if hoodie.parquet.small.file.limit is 0 (#4823) #MsgLength=125


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java|6 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|6 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitPartitioner.java|4 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|8 1

Revision: f15125c0cd6e7d2ec1acfaa1d6a814793f03c853
Author: stayrascal <stayrascal@users.noreply.github.com>
Date: 19/02/2022 10:56:41
Message:
[HUDI-3389] fix ColumnarArrayData ClassCastException issue (#4842) #MsgLength=235


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java|2 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|1 1
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarArrayData.java|0 272
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarMapData.java|0 75
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/data/ColumnarRowData.java|0 232
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java|1 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java|3 2
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/MapColumnVector.java|0 29
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/RowColumnVector.java|0 30
Deleted: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/VectorizedColumnBatch.java|0 148
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|4 3
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|3 3

Revision: 83279971a183c68225dde737149467624f915c2e
Author: Bo Cui <cuibo0108@163.com>
Date: 19/02/2022 21:21:48
Message:
[HUDI-3446] Supports batch reader in BootstrapOperator#loadRecords (#4837) #MsgLength=144


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLocationFetchHandle.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java|21 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcReaderIterator.java|11 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|69 59
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetReaderIterator.java|7 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|79 36
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|2 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|5 11

Revision: 66ac1446dd0688968a4991e92abfa38ad92a3d1d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/02/2022 02:49:18
Message:
[MINOR] Moving spark scheduling configs out of DataSourceOptions (#4843) #MsgLength=74


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 26
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkConfigs.scala|50 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/deltastreamer/TestSchedulerConfGenerator.java|5 5

Revision: 0938f55a2b033745b5e2dafad8ce31e60bb394ac
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/02/2022 02:51:58
Message:
[HUDI-3458] Fix BulkInsertPartitioner generic type (#4854) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|6 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java|5 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java|2 2

Revision: 359fbfde798b50edc06ee1d0520efcd971a289bc
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 21/02/2022 04:31:31
Message:
[HUDI-2648] Retry FileSystem action instead of failed directly. (#3887) #MsgLength=123


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieClient.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|2 1
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/FileSystemRetryConfig.java|142 0
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieRetryWrapperFileSystem.java|257 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|30 3
Added: hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java|129 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|2 2
Added: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtilsWithRetryWrapperEnable.java|210 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 0

Revision: 76b6ad649135ec0ed425c3c173d91f1e0ce67c5d
Author: leesf <490081539@qq.com>
Date: 21/02/2022 20:14:07
Message:
[HUDI-2732][RFC-38] Spark Datasource V2 Integration (#3964) #MsgLength=61


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-38/1.png|0 0
Added: rfc/rfc-38/rfc-38.md|283 0

Revision: 17cb5cb43377746763722a8f96741e7d521a702d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/02/2022 20:55:30
Message:
[HUDI-3432] Fixing restore with metadata enabled (#4849) #MsgLength=122


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|2 0
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|4 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|14 8

Revision: d36fe24c9e5cbd5a20d14818671c28eca6f364ff
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/02/2022 21:19:57
Message:
[HUDI-3455] Fixing checkpoint management in hoodie incr source (#4850) #MsgLength=72


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/HoodieIncrSource.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|14 2

Revision: bf16bc122a2135ad3bc3f84d55a91f25d2543d55
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 21/02/2022 22:04:42
Message:
[HUDI-349]: Added new cleaning policy based on number of hours  (#3646) #MsgLength=73


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|0 15
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|51 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|4 4
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|131 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java|1 1

Revision: 801fdab55c97d1abd815f90ae64c0ecbe8e84f94
Author: RexAn <anh131@126.com>
Date: 21/02/2022 22:53:09
Message:
[HUDI-3042] Abstract Spark update Strategy to make code more clean and remove duplicates (#4845) #MsgLength=144


----
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/BaseSparkUpdateStrategy.java|53 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java|3 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|3 10

Revision: 0c950181aabc371caa9a1508a8086ec931d763ae
Author: Yann Byron <biyan900116@gmail.com>
Date: 22/02/2022 08:52:21
Message:
[HUDI-3423] upgrade spark to 3.2.1 (#4815) #MsgLength=44


----
Modified: README.md|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|1 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|7 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|1 1
Modified: pom.xml|3 2

Revision: 0dee8edc9741ee99e1e2bf98efd9673003fcb1e7
Author: Prashant Wason <pwason@uber.com>
Date: 22/02/2022 10:53:03
Message:
[HUDI-2925] Fix duplicate cleaning of same files when unfinished clean operations are present using a config. (#4212) #MsgLength=167


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|19 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/BaseActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|68 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|8 0

Revision: 7e1ea06eb98419af74385fe967bcbdf1fe3ca953
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 22/02/2022 11:36:20
Message:
[MINOR] Fix typos and improve docs in HoodieMetadataConfig (#4867) #MsgLength=68


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|19 14

Revision: 14dbbdf4c7a45ab5a10889f8e558984455315829
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 22/02/2022 13:01:30
Message:
[HUDI-2189] Adding delete partitions support to DeltaStreamer (#4787) #MsgLength=71


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|56 1

Revision: 4d1f74ebeaee857380f69d7c596eaaf0135ca59e
Author: wangxianghu <wangxianghu@apache.org>
Date: 22/02/2022 14:20:20
Message:
[HUDI-3464] Fix wrong exception thrown from HiveSchemaProvider (#4865) #MsgLength=72


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSchemaProviderException.java|32 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/HiveSchemaProvider.java|27 22

Revision: 4affdd0c8f02ccca4705515dcb6492c199e2cede
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/02/2022 15:54:29
Message:
[HUDI-3461] The archived timeline for flink streaming reader should not be reused (#4861) #MsgLength=363


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|16 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|30 4
Modified: hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|3 13

Revision: b87e95d621e9fd2d1aebca4c49f599b6437aaf83
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/02/2022 19:21:57
Message:
[HUDI-3476] Remove the shade pattern for parquet for flink bundle jar (#4869) #MsgLength=79


----
Modified: packaging/hudi-flink-bundle/pom.xml|0 4

Revision: 9678c3fbcf7e0de0fc84f2f50badac626d02a7ed
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 22/02/2022 22:15:16
Message:
[MINOR] Fixing checkpoint management in S3IncrSource (#4871) #MsgLength=62


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|2 2

Revision: 01cbddef78f5c66c15f22937f078dd7dbde203e8
Author:  <xiaozhch5@mail2.sysu.edu.cn>
Date: 23/02/2022 09:16:21
Message:
Add hive-standalone-metastore dependency to hudi-flink-bundle module (#4870) #MsgLength=78


----
Modified: packaging/hudi-flink-bundle/pom.xml|8 1

Revision: dabae8042386503bd16d4c5e3a3bf836125f2f7e
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 23/02/2022 10:49:47
Message:
[HUDI-3420] Remove duplicates type in HoodieClusteringGroup.avsc (#4808) #MsgLength=127


----
Modified: hudi-common/src/main/avro/HoodieClusteringGroup.avsc|0 1

Revision: 4e8accc179d8f60c874d748167018196900b7d12
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/02/2022 12:57:02
Message:
[HUDI-3486] Fix wrong field order for constructing HoodieMetadataColumnStats (#4875) #MsgLength=86


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|10 10

Revision: 2a93b8efb278bcb4463f88660b21824f7cfc902f
Author: leesf <490081539@qq.com>
Date: 23/02/2022 21:14:30
Message:
[HUDI-3489] Unify config to avoid duplicate code (#4883) #MsgLength=58


----
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/ProvidesHoodieConfig.scala]|15 15
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|3 120
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/UpdateHoodieTableCommand.scala|3 43
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala|1 0

Revision: 62605be413b72e1b476367e86a481178c740efc1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 24/02/2022 04:56:35
Message:
[HUDI-3480][HUDI-3481] Enchancements to integ test suite (#4884) #MsgLength=66


----
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|1 12
Added: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|81 0
Added: docker/demo/config/test-suite/test-aggressive-clean-archival.properties|54 0
Added: docker/demo/config/test-suite/test-clustering.properties|57 0

Revision: 943b99775b7b0cf4340a9af76b6dd235cf91e350
Author: yanenze <34880077+yanenze@users.noreply.github.com>
Date: 24/02/2022 14:45:03
Message:
[HUDI-3488] The flink small file list should exclude file slices with pending compaction (#4893) #MsgLength=209


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|1 1

Revision: 521338b4d9fafb4f1f43c45be30d6ee1dc3d298f
Author: ForwardXu <forwardxu315@gmail.com>
Date: 24/02/2022 23:45:37
Message:
[HUDI-3161] Add Call Produce Command for Spark SQL (#4535) #MsgLength=60


----
Modified: hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4|153 15
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Call.scala|47 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|51 4
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CallProcedureHoodieCommand.scala|35 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|99 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|41 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/Procedure.scala|60 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureArgs.scala|27 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureBuilder.scala|22 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureParameter.scala|71 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ProcedureParameterImpl.scala|42 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala|85 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala|163 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala|80 5
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallCommandParser.scala|116 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala|132 0
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|1 1

Revision: 85e8a5c4de8fa59b769676149060eca13809cba6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/02/2022 05:23:13
Message:
[HUDI-1296] Support Metadata Table in Spark Datasource (#4789) #MsgLength=439


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|8 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|8 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|8 4
Deleted: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionHelper.scala|0 380
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|92 7
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|42 43
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializerTrait.scala|35 0
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializerTrait.scala|28 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|15 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java|7 11
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|52 21
Modified: hudi-common/src/main/java/org/apache/hudi/avro/MercifulJsonConverter.java|4 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|5 6
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|7 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|77 49
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|16 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/RawTripTestPayload.java|17 0
Modified: hudi-common/src/test/resources/timestamp-test-evolved.avsc|38 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|3 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/SparkRowWriteHelper.java|10 19
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|110 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|10 14
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|125 98
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|72 61
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|74 63
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala|7 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|1 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|22 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|4 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|5 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|7 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java]|1 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java]|2 3
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java]|1 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java]|1 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java]|1 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java]|70 56
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestCreateKeyGeneratorByTypeWithFactory.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/keygen/factory/TestHoodieSparkKeyGeneratorFactory.java]|0 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionHelper.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|27 28
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|4 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|34 22
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala|98 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|9 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|9 1
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/PatchedAvroDeserializer.scala|398 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/Spark2HoodieAvroDeserializer.scala|33 0
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|9 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|11 4
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/Spark3HoodieAvroDeserializer.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala]|5 15
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|1 0
Modified: pom.xml|1 0

Revision: aa1810d73766937426690f296e2889f314c43f36
Author: ForwardXu <forwardxu315@gmail.com>
Date: 25/02/2022 09:04:44
Message:
[HUDI-3493] Not table to get execution plan (#4894) #MsgLength=53


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|3 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|2 0

Revision: 36944856096c8ae2085bf0dbd9c635eb5cc750e1
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 25/02/2022 12:28:38
Message:
[HUDI-3429] Support clustering scheduleAndExecute for hudi-cli and add clustering-cli Tests (#4817) #MsgLength=151


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java|36 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|18 5
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java|199 0

Revision: 45d1216e91babcfb92470a7b5c314fefa27fce0d
Author: todd5167 <313328862@qq.com>
Date: 25/02/2022 12:31:29
Message:
[HUDI-3401] fix NPE caused by incorrect  beforeKeyGenClassName validation (#4774) #MsgLength=83


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|2 2

Revision: a4ee7463aee936b6160e529814016a7cb2f06694
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/02/2022 19:08:51
Message:
[HUDI-3474] Add more document to Pipelines for the usage of this tool to build a write pipeline (#4906) #MsgLength=105


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|101 0

Revision: 742810070bf43bbc13f22ee5514dd997c27b1db2
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 25/02/2022 19:16:27
Message:
[HUDI-3421]Pending clustering may break AbstractTableFileSystemView#getxxBaseFile() (#4810) #MsgLength=93


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestUpsertPartitioner.java|6 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|18 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|233 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 1

Revision: b50f4b491c969675d00cec9655f70855de4db88a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/02/2022 21:39:43
Message:
[HUDI-3042] Refactor clustering executors (#4847) #MsgLength=51


----
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/BaseClusteringPlanActionExecutor.java]|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|76 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|6 4
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|4 3
Deleted: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaClusteringPlanActionExecutor.java|0 43
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/cluster/JavaExecuteClusteringCommitActionExecutor.java|8 65
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|6 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java|6 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|2 2
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkClusteringPlanActionExecutor.java|0 44
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|9 72

Revision: 92cdc5987a2b5a6faecec96224f545ab49ee6ef2
Author:  <scx_white@aliyun.com>
Date: 26/02/2022 00:30:10
Message:
[HUDI-3515] Making rdd unpersist optional at the end of writes (#4898) #MsgLength=109


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|16 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|46 2

Revision: 6a5cfb45b9f4784757d2f2d49495d72e23375309
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 26/02/2022 02:51:53
Message:
[MINOR] Fix table type in input format test (#4912) #MsgLength=53


----
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|2 2

Revision: 1379300b5b4357243ab7279f9a39011296731741
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 26/02/2022 21:00:15
Message:
[HUDI-3483] Adding insert override nodes to integ test suite and few clean ups (#4895) #MsgLength=88


----
Added: docker/demo/config/test-suite/insert-overwrite-table.yaml|104 0
Added: docker/demo/config/test-suite/insert-overwrite.yaml|106 0
Added: docker/demo/config/test-suite/spark-clustering.yaml|73 0
Added: docker/demo/config/test-suite/test-metadata.properties|56 0
Modified: docker/demo/config/test-suite/test.properties|2 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|60 47
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteInputDatasetNode.java|56 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|4 0
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|6 1
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertOverwriteNode.scala|31 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertOverwriteTableNode.scala|30 0
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|4 36

Revision: c77b2591d057fdc1c014a80284024e19254e3606
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 26/02/2022 21:02:12
Message:
[HUDI-2439] Remove SparkBoundedInMemoryExecutor (#4860) #MsgLength=57


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|14 7
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java|1 1
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkBoundedInMemoryExecutor.java|0 56
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|13 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java|2 3
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutorInSpark.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestSparkBoundedInMemoryExecutor.java]|16 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|20 12
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|5 2
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeUnmergedRecordReader.java|14 10

Revision: 2f99e8458ac3cd51000227fce90576e8e1e056be
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 28/02/2022 00:13:13
Message:
[HUDI-3521] Fixing kakfa key and value serializer value type from class to string (#4919) #MsgLength=91


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/DebeziumSource.java|2 2

Revision: d5444ff7ff832a2e14b5c78449713fdf82bcaec4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 28/02/2022 00:59:23
Message:
[HUDI-3018] Adding validation to dataframe scheme to ensure reserved field does not have diff data type (#4852) #MsgLength=113


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|20 6

Revision: 193215201cfff5f686a70d5054c0a3a3d91d25a6
Author: Bo Cui <cuibo0108@163.com>
Date: 28/02/2022 10:45:28
Message:
[MINOR] Change MINI_BATCH_SIZE to 2048 (#4862) #MsgLength=158


----
Modified: hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java|1 1

Revision: 4a59876c8b6045fad55777c5eb241ef5d5aa401b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 28/02/2022 21:13:17
Message:
[HUDI-2917] rollback insert data appended to log file when using Hbase Index (#4840) #MsgLength=135


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadProfile.java|46 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/WorkloadStat.java|18 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|22 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|20 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|16 16
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java|27 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|9 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBucketIndexPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|25 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|152 0

Revision: 8f1e4f5b3e4e32e34f98191abb475f95f3690390
Author: stayrascal <stayrascal@users.noreply.github.com>
Date: 28/02/2022 23:45:47
Message:
[HUDI-3528] Fix String convert issue and overwrite putAll method in TypedProperties.java (#4920) #MsgLength=98


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|13 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java|30 1

Revision: 05e395ae5f56ca2e99e3e5e0838c14da74d2eedd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 01/03/2022 00:14:35
Message:
[HUDI-3341] Fix log file reader for S3 with hadoop-aws 2.7.x (#4897) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|21 16

Revision: 18dc89cf7908e000a545acf4aa161c242c415dd5
Author: wenningd <wenningding95@gmail.com>
Date: 01/03/2022 00:37:24
Message:
[HUDI-3450] Avoid passing empty string spark master to hudi cli (#4844) #MsgLength=123


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|3 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/SparkUtilTest.java|35 0

Revision: 44b8ab6048feac431d2c22a5762872bb4d16d86c
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 01/03/2022 04:16:40
Message:
[HUDI-3418] Save timeout option for remote RemoteFileSystemView (#4809) #MsgLength=126


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|6 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|2 0

Revision: 257052a94d4e177bdf7269e000a8e02e94a20e90
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 01/03/2022 10:49:30
Message:
[HUDI-3465] Add validation of column stats and bloom filters in HoodieMetadataTableValidator (#4878) #MsgLength=102


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|17 15
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|302 63
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/util/BloomFilterData.java|104 0

Revision: f7088a957c1381ceb4ee1ac613292cfc07938032
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 01/03/2022 11:46:32
Message:
[HUDI-3497] Adding Datatable validator tool (#4902) #MsgLength=53


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableUtils.java|50 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableValidator.java|396 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java|1 18

Revision: a81a6326d5e61b18b804632a8b6411906291d23c
Author: ForwardXu <forwardxu315@gmail.com>
Date: 01/03/2022 16:03:53
Message:
[HUDI-3441] Add support for "marker delete" in hudi-cli (#4922) #MsgLength=65


----
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MarkersCommand.java|58 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|24 3
Added: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestMarkersCommand.java|77 0

Revision: 3fdc9332e58930aa8e4fef0d0f85ffbec78c6e7b
Author: Bo Cui <cuibo0108@163.com>
Date: 02/03/2022 10:19:36
Message:
[HUDI-3516] Implement record iterator for HoodieDataBlock (#4909) #MsgLength=134


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|5 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|40 37
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|14 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|20 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|9 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|9 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|65 34
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|100 22
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|43 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java|16 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|12 10
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|73 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|44 22

Revision: 3cfb52c413b49840f17d00e2ee6be7d4224a0ac1
Author: stayrascal <stayrascal@users.noreply.github.com>
Date: 02/03/2022 11:16:19
Message:
[MINOR] fix get builtin function issue from Hudi catalog (#4917) #MsgLength=66


----
Modified: hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java|42 0
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|37 6
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|6 6

Revision: 3b2da9f13847475be3dcef13b3d25df8818cecc7
Author: yuzhaojing <32435329+yuzhaojing@users.noreply.github.com>
Date: 02/03/2022 11:18:17
Message:
[HUDI-2631] In CompactFunction, set up the write schema each time with the latest schema (#4000) #MsgLength=151


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|17 6
Modified: hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|13 0

Revision: 85f47b53df9eb676565ced6205a980cba60e410d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 02/03/2022 14:15:26
Message:
[HUDI-3469] Refactor `HoodieTestDataGenerator` to provide for reproducible Builds (#4866) #MsgLength=91


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|9 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/HoodieClientRollbackTestBase.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|120 71
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|16 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|3 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|1 1

Revision: 10d866f083248d37923d694165e362a21f3d529d
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 02/03/2022 15:14:44
Message:
[HUDI-3315] RFC-35 Part-1 Support bucket index in Flink writer (#4679) #MsgLength=149


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|4 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|22 0
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|5 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java|158 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java|34 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 1
Added: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java|40 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|19 6
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|0 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java|8 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|11 0

Revision: 1d57bd17c2da860df1d5f03e1bb8c181ae7bfa14
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/03/2022 17:44:52
Message:
[minor] Cosmetic changes following HUDI-3315 (#4934) #MsgLength=54


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|2 1
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java|14 5
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java|9 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|6 5

Revision: f8945eca088ec0c87cc6ecb6a8a3536ab02c0bf4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 02/03/2022 21:10:43
Message:
[MINOR] Adding more test props to integ tests (#4935) #MsgLength=55


----
Added: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties|61 0
Added: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties|63 0
Added: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties|56 0

Revision: 527bd34b1c5b757c6e13236455888797ac6d5b45
Author: liujinhui <965147871@qq.com>
Date: 02/03/2022 23:40:28
Message:
[MINOR] RFC-38 markdown content error (#4933) #MsgLength=93


----
Modified: rfc/rfc-38/rfc-38.md|1 1

Revision: 907e60c252e80be5ef3a848d773e0f866eb609f9
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 03/03/2022 04:30:41
Message:
[HUDI-3264]: made schema registry urls configurable with MTDS (#4779) #MsgLength=71


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|26 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaRegistryProvider.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|17 12
Modified: hudi-utilities/src/test/resources/delta-streamer-config/short_trip_uber_config.properties|3 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/uber_config.properties|3 1

Revision: 51ee5005a63da7f2c7677c80bec50f9729e13685
Author: Manoj Govindassamy <manoj.govindassamy@gmail.com>
Date: 03/03/2022 18:26:22
Message:
[HUDI-2973] RFC-27: Data skipping index to improve query performance (#4728) #MsgLength=128


----
Modified: rfc/rfc-27/rfc-27.md|77 55

Revision: 876a891979a3f88664c41560d35fd6225ea51258
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 03/03/2022 19:32:25
Message:
[HUDI-3544] Fixing "populate meta fields" update to metadata table (#4941) #MsgLength=216


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|23 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|30 0

Revision: a4ba0fff07861bdff338074fb5d84726f430883f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/03/2022 21:11:08
Message:
[HUDI-3552] Strength the NetworkUtils#getHostname by checking network interfaces first (#4942) #MsgLength=206


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|19 0

Revision: be9a26488566891766cafae879efd3687d74095e
Author: RexAn <anh131@126.com>
Date: 04/03/2022 08:14:07
Message:
[HUDI-3548] Fix if user specify key "hoodie.datasource.clustering.async.enable" directly, async clustering not work (#4905) #MsgLength=171


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|0 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|26 0

Revision: 62f534d00228653059c4fed944d444632bc07091
Author: shibei <shibei.lh@foxmail.com>
Date: 04/03/2022 09:33:16
Message:
[HUDI-3445] Support Clustering Command Based on Call Procedure Command for Spark SQL (#4901) #MsgLength=393


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanPartitionFilter.java|12 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|12 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/action/cluster/strategy/TestPartitionAwareClusteringPlanStrategy.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|8 3
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCommonUtils.scala|286 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|5 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|9 173
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/HoodieDataSourceHelpers.java|17 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|3 17
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|53 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala|2 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|176 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowClusteringProcedure.scala|69 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|3 26
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala|225 0

Revision: 6faed3d90ab99844017465e63c6a0604bdc3a68c
Author: ForwardXu <forwardxu315@gmail.com>
Date: 04/03/2022 12:02:46
Message:
[HUDI-3161][RFC-47] Add Call Produce Command for Spark SQL (#4607) #MsgLength=68


----
Modified: rfc/README.md|1 0
Modified: rfc/rfc-46/rfc-46.md|1 1
Added: rfc/rfc-47/process.png|0 0
Added: rfc/rfc-47/rfc-47.md|111 0

Revision: f44980763030663d8f6ee72555cbb4c280945267
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 04/03/2022 15:09:39
Message:
[MINOR] fix UTC timezone config (#4950) #MsgLength=41


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|1 1

Revision: b4362fac45cfa75655869603e8c9a7a3a106fa98
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/03/2022 15:19:16
Message:
[HUDI-3348] Add UT to verify HoodieRealtimeFileSplit serde (#4951) #MsgLength=68


----
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeFileSplit.java|21 2

Revision: 0986d5a01d7f83bd1b049e8acb7e9250ba43b9f3
Author: Bo Cui <cuibo0108@163.com>
Date: 04/03/2022 19:29:29
Message:
[HUDI-3460] Add reader merge memory option for flink (#4911) #MsgLength=92


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|5 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 3
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|4 4
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|17 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|1 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|1 0

Revision: 6a46130037e6be48d6c014e513dbca6e940b83d8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 05/03/2022 10:04:16
Message:
[HUDI-2761] Fixing timeline server for repeated refreshes (#4812) #MsgLength=114


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|5 10
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|6 2

Revision: 051ad0b033993fcc7c68bdc96368fc6f0b822a55
Author: Aditya Tiwari <aditya63700@gmail.com>
Date: 06/03/2022 10:21:35
Message:
[HUDI-3130] Fixing Hive getSchema for RT tables addressing different partitions having different schemas (#4468) #MsgLength=475


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/SchemaTestUtil.java|4 0
Added: hudi-common/src/test/resources/simple-test-evolved-compatible.avsc|29 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java|11 18
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java|19 4
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|94 28
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|6 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|9 3

Revision: 4b471772aa130dc4bb577edbd42f2a617f205da0
Author: wangxianghu <wangxianghu@apache.org>
Date: 07/03/2022 04:37:09
Message:
[HUDI-3520] Introduce DeleteSupportSchemaPostProcessor to support adding _hoodie_is_deleted column to schema (#4921) #MsgLength=118


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DeleteSupportSchemaPostProcessor.java|66 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SparkAvroPostProcessor.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaProvider.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/SparkAvroSchemaProvider.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|10 2

Revision: c9ffdc493eb8d1971b281e3b84275f4ef5905e4b
Author: wangxianghu <wangxianghu@apache.org>
Date: 07/03/2022 04:41:01
Message:
[HUDI-3525] Introduce JsonkafkaSourceProcessor to support data preprocess before it is transformed to DataSet (#4930) #MsgLength=119


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|10 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSourcePostProcessException.java|35 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|25 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|6 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/JsonKafkaSourcePostProcessor.java|40 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java|5 5
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java|115 0

Revision: 6f57bbfac4881388d73a9e0768498fe47fe6bb5a
Author:  <scx_white@aliyun.com>
Date: 07/03/2022 14:35:55
Message:
[HUDI-3069] Improve HoodieMergedLogRecordScanner avoid putting unnecessary hoodie records (#4932) #MsgLength=198


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|8 9

Revision: 3539578ccbcca4738a3e22a63635f96b313234c0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/03/2022 20:32:05
Message:
[HUDI-3213] Making commit preserve metadata to true for compaction (#4811) #MsgLength=344


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|10 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|34 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|11 9
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|11 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|3 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2

Revision: f0bcee3c014cf59bdad3eaf8212d94a589073f0b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 08/03/2022 02:42:03
Message:
[HUDI-3561] Avoid including whole `MultipleSparkJobExecutionStrategy` object into the closure for Spark to serialize (#4954) #MsgLength=230


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|29 23

Revision: a66fd40692dba064dfa71d277ef5f25e067e702b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 08/03/2022 04:38:27
Message:
[HUDI-3365] Make sure Metadata Table records are updated appropriately on HDFS (#4739) #MsgLength=626


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|124 37
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|9 16
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|12 29
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|14 27
Added: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/upgrade/JavaUpgradeDowngradeHelper.java|51 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|22 63
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|4 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|2 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|67 21
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|49 30
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 0
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|11 9
Added: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/SparkRDDWriteClientOverride.java|38 0
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestOrcBootstrap.java|3 3

Revision: 53826d69e4120fd2a67986237fa85795209d9dab
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 08/03/2022 05:57:03
Message:
[HUDI-2747] support set --sparkMaster for MDT cli (#4964) #MsgLength=107


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|13 8

Revision: 29040762fa511f89e678dc15ca5ae7f9f097fb8a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/03/2022 06:01:49
Message:
[HUDI-3576] Configuring timeline refreshes based on latest commit (#4973) #MsgLength=75


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|2 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|9 0

Revision: 34bc75285312a74e146369418ee82d87708ae1ba
Author: todd5167 <313328862@qq.com>
Date: 08/03/2022 11:53:54
Message:
[HUDI-3573]  flink cleanFuntion execute clean on initialization (#4936) #MsgLength=154


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|13 1

Revision: b6bdb46f7fe85faa79b96a008a51648872cc1c4f
Author: Bo <cuibo0108@163.com>
Date: 06/03/2022 10:55:04
Message:
[MINOR][HUDI-3460]Fix HoodieDataSourceITCase #MsgLength=58


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 7
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|0 5
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|0 5
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 11
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|0 1
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|0 2
Modified: hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|0 1

Revision: fe53bd2dea4915a34eafe3c8cebf11ddc1b2a3bd
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/03/2022 15:43:21
Message:
[HUDI-2677] Add DFS based message queue for flink writer[part3] (#4961) #MsgLength=73


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|1 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|28 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|5 3
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|9 9
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|9 2
Added: hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMessage.java|113 0
Added: hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java|226 0
Modified: hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 1
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|2 2
Modified: hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|4 5
Added: hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java|75 0

Revision: 25385805aab3ff00ca9accc406d0f7b0cf2d9e55
Author: ForwardXu <forwardxu315@gmail.com>
Date: 08/03/2022 17:01:05
Message:
[HUDI-3574] Improve maven module configs for different spark profiles (#4970) #MsgLength=79


----
Modified: .github/workflows/bot.yml|1 6
Modified: hudi-spark-datasource/pom.xml|0 5
Modified: pom.xml|21 0

Revision: ed26c5265c0d442740ecf110b4c87de865f4f3d9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 08/03/2022 22:32:04
Message:
[HUDI-3584] Skip integ test modules by default (#4986) #MsgLength=56


----
Modified: pom.xml|13 4

Revision: 575bc6346825796e091a12be5a53b04980f82637
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 08/03/2022 23:39:04
Message:
[HUDI-3356][HUDI-3203] HoodieData for metadata index records; BloomFilter construction from index based on the type param (#4848) #MsgLength=848


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|20 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|4 34
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|91 72
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/HoodieMetadataBloomIndexCheckFunction.java|3 10
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|81 32
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|137 23
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java|117 22
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|15 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|33 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java|24 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|18 11
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|25 25
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|368 263
Added: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java|72 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|1 1

Revision: 08fd80c913aec05f36042111ef82d78bc0f55ad8
Author: ForwardXu <forwardxu315@gmail.com>
Date: 09/03/2022 02:02:34
Message:
[HUDI-3221] Support querying a table as of a savepoint (#4720) #MsgLength=64


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala|3 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|10 0
Modified: hudi-spark-datasource/README.md|18 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|36 3
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala|241 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4|1 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|14 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|14 0
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|18 0
Added: hudi-spark-datasource/hudi-spark3/src/main/antlr4/imports/SqlBase.g4|1908 0
Added: hudi-spark-datasource/hudi-spark3/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4|33 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|54 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala|33 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala|3342 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala|176 0
Modified: style/scalastyle.xml|2 2

Revision: 4324e874ae58774fb3b0af98907123b7e6317b6f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 09/03/2022 13:04:42
Message:
[HUDI-3587] Making SupportsUpgradeDowngrade serializable (#4991) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/SupportsUpgradeDowngrade.java|3 1

Revision: 548000b0d635067acf7574c4cf5122759e79b52b
Author: wangxianghu <wangxianghu@apache.org>
Date: 09/03/2022 15:16:22
Message:
[HUDI-3568] Introduce ChainedSchemaPostProcessor to support setting multi processors at once (#4968) #MsgLength=102


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|25 11
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/exception/HoodieSchemaPostProcessException.java|34 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/ChainedSchemaPostProcessor.java|52 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/DummySchemaPostProcessor.java|39 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|28 14

Revision: 8859b48b2a13494c89603799684f317f8777726a
Author: MrSleeping123 <75006165+MrSleeping123@users.noreply.github.com>
Date: 10/03/2022 09:44:39
Message:
[HUDI-3383] Sync column comments while syncing a hive table (#4960) #MsgLength=323


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|18 11
Added: hudi-common/src/test/resources/simple-test-doced.avsc|27 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala|216 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|16 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|49 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|10 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|23 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|19 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|76 0

Revision: ca0b8fccee72de897a6019de470fc11f1638bdeb
Author: ForwardXu <forwardxu315@gmail.com>
Date: 10/03/2022 10:04:36
Message:
[MINOR] Add IT CI Test timeout option (#5003) #MsgLength=47


----
Modified: azure-pipelines.yml|2 0

Revision: 034addaef5834eff09cfd9ac5cc2656df95ca0e8
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 10/03/2022 10:45:25
Message:
[HUDI-3396] Make sure `BaseFileOnlyViewRelation` only reads projected columns (#4818) #MsgLength=726


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|14 4
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializer.scala [from hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroDeserializerTrait.scala]|2 8
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala [from hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializerTrait.scala]|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|27 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala|91 44
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|69 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|1 38
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|16 44
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|6 10
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala|68 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|8 21
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|7 46
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieUnsafeRDDUtils.scala|44 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieSparkAvroSerializer.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSerializer.scala]|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|3 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala|3 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|355 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|5 5
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/HoodieSpark2AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/Spark2HoodieAvroDeserializer.scala]|6 4
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala|5 5
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/Spark3HoodieAvroDeserializer.scala]|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHDFSParquetImporter.java|7 4

Revision: ec244071919f71984f278d328c7f0d5c70e2f2a5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 10/03/2022 15:55:15
Message:
[HUDI-3581] Reorganize some clazz for hudi flink (#4983) #MsgLength=58


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/HoodieAsyncService.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|9 2
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|1 0
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|4 0
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetDecimalVector.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/AbstractColumnReader.java]|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/FixedLenBytesColumnReader.java]|1 2
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/Int64TimestampColumnReader.java]|1 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetColumnarRowSplitReader.java]|3 1
Renamed: hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/RunLengthDecoder.java]|1 1
Modified: hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java [from hudi-flink/src/test/java/org/apache/hudi/sink/StreamWriteITCase.java]|1 1
Renamed: hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java [from hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java]|1 1

Revision: 4e09545be4aedea231f5d8f512ba53181ca12e33
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 10/03/2022 18:38:27
Message:
[HUDI-3602][DOCS] Update docker README to build multi-arch images using buildx (#5011) #MsgLength=88


----
Modified: docker/README.md|95 1

Revision: fa5e75068e661400eac037d676e20d556f3b0fc4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/03/2022 10:17:32
Message:
[HUDI-3586] Add Trino Queries in integration tests (#4988) #MsgLength=60


----
Added: docker/demo/trino-batch1.commands|23 0
Added: docker/demo/trino-batch2-after-compaction.commands|21 0
Added: docker/demo/trino-table-check.commands|20 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|22 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|63 5

Revision: 9dc6df5dca27ec4d543001e03f0cd3718e6b9232
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/03/2022 11:52:55
Message:
[HUDI-3595] Fixing NULL schema provider for empty batch (#5002) #MsgLength=65


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|4 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|27 1
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSourceEmptyBatch.java|49 0

Revision: 83cff3afee15e129034eb51e68a1734c55d85da2
Author: wangxianghu <wangxianghu@apache.org>
Date: 11/03/2022 13:30:37
Message:
[HUDI-3522] Introduce DropColumnSchemaPostProcessor to support drop columns from schema (#4972) #MsgLength=212


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DropColumnSchemaPostProcessor.java|88 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|25 0

Revision: 18cdad92068d299307a7ebd94703dab04b52690c
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 11/03/2022 14:41:01
Message:
[HUDI-2999] [RFC-42] RFC for consistent hashing index (#4326) #MsgLength=271


----
Added: rfc/rfc-42/basic_bucket_hashing.png|0 0
Added: rfc/rfc-42/bucket_resizing.png|0 0
Added: rfc/rfc-42/bucket_resizing_virtual_log_file.png|0 0
Added: rfc/rfc-42/consistent_hashing.png|0 0
Added: rfc/rfc-42/rfc-42.md|230 0

Revision: faed6996eed1196c81bbcc39dda78628ade8a9eb
Author:  <scx_white@aliyun.com>
Date: 11/03/2022 18:58:49
Message:
[HUDI-3566] Add thread factory in BoundedInMemoryExecutor (#4926) #MsgLength=102


----
Added: hudi-common/src/main/java/org/apache/hudi/common/util/CustomizedThreadFactory.java|56 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|19 13
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestCustomizedThreadFactory.java|79 0

Revision: b00180342e9e8e8e783731e698fecc02a3c1b0e2
Author: wangxianghu <wangxianghu@apache.org>
Date: 11/03/2022 19:03:42
Message:
[HUDI-3575] Use HoodieTestDataGenerator#TRIP_SCHEMA as example schema in TestSchemaPostProcessor (#5019) #MsgLength=106


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|14 11

Revision: 56cb49485d74c28500101b81afe2cc41d90fb431
Author: huberylee <shibei.lh@foxmail.com>
Date: 12/03/2022 05:23:19
Message:
[HUDI-3567] Refactor HoodieCommonUtils to make code more reasonable (#4982) #MsgLength=77


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala|4 16
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala|49 0
Deleted: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCommonUtils.scala|0 286
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|6 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|183 9
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala|88 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|26 45
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|4 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala|0 225
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestRunClusteringProcedure.scala|344 0

Revision: 5d59bf67aeecafb65a2231d808b538878eca49fb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 12/03/2022 06:39:22
Message:
[HUDI-3513] Make sure Column Stats does not fail in case it fails to load previous Index Table state (#5015) #MsgLength=110


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|34 15

Revision: 93277b2bcd9e5140c99c734784e3c89e9a9d1e7f
Author: RexAn <anh131@126.com>
Date: 12/03/2022 06:45:40
Message:
[HUDI-3592] Fix NPE of DefaultHoodieRecordPayload if Property is empty (#4999) #MsgLength=124


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/DefaultHoodieRecordPayload.java|12 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestDefaultHoodieRecordPayload.java|20 0

Revision: e8918b6c2c30968caccc4fc3c166082503b4cc9d
Author: wangxianghu <wangxianghu@apache.org>
Date: 12/03/2022 06:49:30
Message:
[HUDI-3569] Introduce ChainedJsonKafkaSourePostProcessor to support setting multi processors at once (#4969) #MsgLength=110


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|13 4
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/ChainedJsonKafkaSourcePostProcessor.java|47 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java|36 0

Revision: e7bb0413af889c3a595e9fb3ea41145da992d8c9
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 12/03/2022 07:40:13
Message:
[HUDI-3556] Re-use rollback instant for rolling back of clustering and compaction if rollback failed mid-way (#4971) #MsgLength=118


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|24 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|10 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|32 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableInsertUpdateDelete.java|56 0

Revision: eee96e9af3990809df9cc2e7f874d875596d9df1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 13/03/2022 10:28:55
Message:
[HUDI-3593] Restore TypedProperties and flush checksum in table config (#5013) #MsgLength=238


----
Added: hudi-common/src/main/java/org/apache/hudi/common/config/OrderedProperties.java|100 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|0 58
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|38 25
Added: hudi-common/src/test/java/org/apache/hudi/common/properties/TestOrderedProperties.java|81 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java|5 54

Revision: e60acc12582372634c51c5fd35e56d474bf6c1e3
Author: liujinhui <965147871@qq.com>
Date: 13/03/2022 15:00:50
Message:
[HUDI-3583] Fix MarkerBasedRollbackStrategy NoSuchElementException (#4984) #MsgLength=130


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MarkerBasedRollbackStrategy.java|14 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java|14 0

Revision: 6c8224cae6e4cd849fe01bd9b647fe69b7fd188b
Author: ForwardXu <forwardxu315@gmail.com>
Date: 13/03/2022 20:58:21
Message:
[HUDI-3501] Support savepoints command based on Call Produce Command (#5025) #MsgLength=78


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|0 18
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointsProcedure.scala|88 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointsProcedure.scala|88 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|6 2
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackSavepointsProcedure.scala|88 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowSavepointsProcedure.scala|69 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallCommandParser.scala]|2 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCallProcedure.scala]|3 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRunClusteringProcedure.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestRunClusteringProcedure.scala]|2 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala|178 0

Revision: 1ba82206176b10c0c7392225de75756fcde70192
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 14/03/2022 09:11:37
Message:
[HUDI-3613] Adding/fixing yamls for metadata (#5029) #MsgLength=54


----
Modified: docker/demo/config/test-suite/cow-spark-long-running.yaml|0 2
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml|0 2
Added: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|76 0
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|0 2
Modified: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|0 2

Revision: 465d553df8c2b157a49e837e1a91cee46ba889d4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/03/2022 14:22:07
Message:
[HUDI-3600] Tweak the default cleaning strategy to be more streaming friendly for flink (#5010) #MsgLength=97


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 6
Modified: hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|12 10

Revision: 4b75cb6f23a0708fd55659cadf691d30086f5f13
Author: peanut-chenzhong <58263343+peanut-chenzhong@users.noreply.github.com>
Date: 14/03/2022 16:40:38
Message:
fix NPE when run schdule using spark-sql if the commits time < hoodie.compact.inline.max.delta.commits (#4976) #MsgLength=441


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|7 3

Revision: 003c6ee73e6809f90347e2e81696d2eb8ab2af2d
Author: wangxianghu <wangxianghu@apache.org>
Date: 14/03/2022 22:24:06
Message:
[MINODR] Remove repeated kafka-clients dependencies (#5034) #MsgLength=61


----
Modified: packaging/hudi-utilities-bundle/pom.xml|0 1

Revision: 22c3ce73dbaca70ec0eceee721bb9fbd344c2331
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 15/03/2022 06:34:17
Message:
[HUDI-3621] Fixing NullPointerException in DeltaStreamer (#5039) #MsgLength=66


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 1

Revision: 30cf39301e311e26b29a65b3e4a229da92f925d1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 15/03/2022 06:39:26
Message:
[HUDI-3623] Removing hive sync node from non hive yamls (#5040) #MsgLength=65


----
Modified: docker/demo/config/test-suite/cow-spark-long-running.yaml|2 14
Modified: docker/demo/config/test-suite/cow-spark-simple.yaml|2 14
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|1 7
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|1 7
Modified: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|1 7
Modified: docker/demo/config/test-suite/detlastreamer-long-running-example.yaml|2 16
Modified: docker/demo/config/test-suite/insert-overwrite-table.yaml|2 14
Modified: docker/demo/config/test-suite/insert-overwrite.yaml|2 14
Modified: docker/demo/config/test-suite/simple-clustering.yaml|2 14
Modified: docker/demo/config/test-suite/simple-deltastreamer.yaml|2 14
Modified: docker/demo/config/test-suite/spark-clustering.yaml|1 7

Revision: d40adfa2d717da683787afbc6bb58e409b9430c5
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 15/03/2022 07:14:00
Message:
[HUDI-3620] Adding spark3.2.0 profile (#5038) #MsgLength=47


----
Modified: pom.xml|30 0

Revision: 3b59b769528e0953bf921bd96ffb68e12c3524d4
Author: wangxianghu <wangxianghu@apache.org>
Date: 15/03/2022 19:06:30
Message:
[HUDI-3547] Introduce MaxwellSourcePostProcessor to extract data from Maxwell json string (#4987) #MsgLength=223


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java|17 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java|190 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/PreCombineFieldType.java|44 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java|130 0

Revision: 6ed7106e5904ce5bf4741b368245101b9ec5836d
Author: Thinking Chen <cdmikechen@hotmail.com>
Date: 15/03/2022 19:06:50
Message:
[HUDI-3606] Add `org.objenesis:objenesis` to hudi-timeline-server-bundle pom (#5017) #MsgLength=86


----
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 0

Revision: 9bdda2a312bd830bc1659a5305fc28b4469d07be
Author: l-shen <lijieliang@cmss.chinamobile.com>
Date: 15/03/2022 20:34:31
Message:
[HUDI-3619] Fix HoodieOperation fromValue using wrong constant value (#5033) #MsgLength=129


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieOperation.java|1 1

Revision: 5e8ff8d793f5c50edef2865bb8733301a43f495c
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 16/03/2022 01:38:36
Message:
[HUDI-3514] Rebase Data Skipping flow to rely on MT Column Stats index (#4948) #MsgLength=80


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|11 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|15 6
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TablePathUtils.java|21 12
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|11 8
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|3 6
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 7
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|14 6
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|8 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|2 8
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetUtils.scala|45 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|117 87
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|21 50
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|63 12
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala|3 0

Revision: d514570e909c7ca6eb1d41623029979ca3612806
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 16/03/2022 02:33:22
Message:
[HUDI-3633] Allow non-string values to be set in TypedProperties (#5045) #MsgLength=200


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|14 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/properties/TestTypedProperties.java|22 0

Revision: 55dca969f9d25ea352dc0e343ef1f1e8539630fd
Author: todd5167 <313328862@qq.com>
Date: 16/03/2022 03:56:37
Message:
[HUDI-3589] flink sync hive metadata supports table properties and serde properties (#4995) #MsgLength=93


----
Modified: hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|12 0
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|2 0

Revision: 296a0e6bcf6f390288941e5ab8683390dcb6a788
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/03/2022 09:49:30
Message:
[HUDI-3588] Remove hudi-common and hudi-hadoop-mr jars in Presto Docker image (#4997) #MsgLength=87


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|20 20
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/Dockerfile|10 1

Revision: 91849c3d666a363c535610bc24be54c5d9aaa913
Author: that's cool <1059023054@qq.com>
Date: 16/03/2022 14:07:31
Message:
[HUDI-3607] Support backend switch in HoodieFlinkStreamer (#5032) #MsgLength=290


----
Modified: hudi-flink/pom.xml|6 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|7 0
Modified: hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 2
Added: hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java|41 0

Revision: 8ca9a54db016fc644070085fe2d596b0e5643e00
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 17/03/2022 09:31:00
Message:
[Hudi-3376] Add an option to skip under deletion files for HoodieMetadataTableValidator (#4994) #MsgLength=145


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|146 30

Revision: 95e6e538109af9fe60aa99219e4aa1d7ce9511e2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 17/03/2022 13:25:04
Message:
[HUDI-3404] Automatically adjust write configs based on metadata table and write concurrency mode (#4975) #MsgLength=107


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|58 10
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|214 66

Revision: 5ba2d9ab2f9f22cf81968a68e0303d750a2bd9e9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 17/03/2022 13:28:11
Message:
[HUDI-3494] Consider triggering condition of MOR compaction during archival (#4974) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|31 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|14 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|164 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|75 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestCompactionUtils.java|116 4

Revision: bf191f8d4662fd1e9c28f3cacce9179dc8cab561
Author:  <fengjian428@gmail.com>
Date: 17/03/2022 16:50:28
Message:
[HUDI-3645] Fix NPE caused by multiple threads accessing non-thread-safe HashMap (#5028) #MsgLength=155


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|2 1

Revision: 7446ff95a7b099d8016b7ca48fdeed9b290d710f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 17/03/2022 19:17:56
Message:
[HUDI-2439] Replace RDD with HoodieData in HoodieSparkTable and commit executors (#4856) #MsgLength=322


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|21 20
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java|2 2
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieDeleteHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteHelper.java]|30 38
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkMergeHelper.java]|10 11
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkWriteHelper.java]|16 24
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|13 11
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|11 10
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertCommitActionExecutor.java|3 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertPreppedCommitActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|62 49
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|17 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/BaseSparkUpdateStrategy.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java|12 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryPreCommitValidator.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|22 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|28 28
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkMergeOnReadTable.java|26 28
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|2 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|26 27
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapDeltaCommitActionExecutor.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/cluster/SparkExecuteClusteringCommitActionExecutor.java|2 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|53 52
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertCommitActionExecutor.java|8 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|31 28
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertPreppedCommitActionExecutor.java|6 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeleteCommitActionExecutor.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java|8 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertCommitActionExecutor.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteCommitActionExecutor.java|14 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwriteTableCommitActionExecutor.java|11 15
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertPreppedCommitActionExecutor.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertCommitActionExecutor.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkUpsertPreppedCommitActionExecutor.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/compact/HoodieSparkMergeOnReadTableCompactor.java|3 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseSparkDeltaCommitActionExecutor.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertDeltaCommitActionExecutor.java|8 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkBulkInsertPreppedDeltaCommitActionExecutor.java|6 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkDeleteDeltaCommitActionExecutor.java|6 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertDeltaCommitActionExecutor.java|6 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkInsertPreppedDeltaCommitActionExecutor.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertDeltaCommitActionExecutor.java|7 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/SparkUpsertPreppedDeltaCommitActionExecutor.java|4 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|24 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|10 8
Deleted: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestDeleteHelper.java|0 194
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestHoodieCompactor.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java|26 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java|3 0
Added: hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieList.java|50 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieMapPair.java|29 0

Revision: 9ece77561a673fbfd666c5c57dac1a36e6cedce6
Author: RexAn <anh131@126.com>
Date: 18/03/2022 03:53:45
Message:
[MINOR] HoodieFileScanRDD could print null path (#5056) #MsgLength=101


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|1 1

Revision: 6fe4d6e2f645db47b94f5c4d7743747308ef3d86
Author: JerryYue-M <272614347@qq.com>
Date: 18/03/2022 10:47:29
Message:
[HUDI-3598] Row Data to Hoodie Record Operator parallelism needs to always be consistent with input operator (#5049) #MsgLength=192


----
Modified: hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|2 1

Revision: 2551c26183cd11d47598128dfd08811fd3d83c69
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 19/03/2022 00:44:56
Message:
[HUDI-3656] Adding medium sized dataset for clustering and minor fixes to integ tests (#5063) #MsgLength=95


----
Added: docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml|73 0
Added: docker/demo/config/test-suite/spark-medium-clustering.yaml|59 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java|20 15

Revision: 316e38c71e2fec9d7a13417d409374f28875c4f1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 19/03/2022 00:45:33
Message:
[HUDI-3659] Reducing the validation frequency with integ tests (#5067) #MsgLength=72


----
Modified: docker/demo/config/test-suite/cow-spark-long-running.yaml|2 6
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml|2 6
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|1 0
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|1 0
Modified: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|1 0
Modified: docker/demo/config/test-suite/detlastreamer-long-running-example.yaml|2 6
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|73 70

Revision: 099c2c099ad842f18b76bc2529b6eeb968f328eb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 19/03/2022 13:32:16
Message:
[HUDI-3457] Refactored Spark DataSource Relations to avoid code duplication (#4877) #MsgLength=285


----
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieConversionUtils.scala|29 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|0 5
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|8 11
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|0 53
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyViewRelation.scala]|17 64
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|170 34
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|0 14
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|4 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|119 159
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|59 108
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|3 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieHadoopFSUtils.scala|370 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/execution/datasources/HoodieInMemoryFileIndex.scala|102 0
Added: hudi-spark-datasource/hudi-spark-common/src/test/scala/org/apache/spark/execution/datasources/TestHoodieInMemoryFileIndex.scala|60 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|0 29
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|25 7

Revision: 1b6e201160ef18b0c7d86d1cafd104609489dad7
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 20/03/2022 12:54:13
Message:
[HUDI-3663] Fixing Column Stats index to properly handle first Data Table commit (#5070) #MsgLength=524


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|12 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|3 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Option.java|14 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|90 52

Revision: 15d1c186255ced3a8e08020ed68de9cd380dc250
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/03/2022 06:58:30
Message:
[MINOR] Remove flaky assert in TestInLineFileSystem (#5069) #MsgLength=61


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystem.java|0 1

Revision: 799c78e6888ef6a375c6779c3cfe7067756d4be9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/03/2022 10:34:50
Message:
[HUDI-3665] Support flink multiple versions (#5072) #MsgLength=53


----
Modified: azure-pipelines.yml|4 4
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Renamed: hudi-flink-datasource/hudi-flink/pom.xml [from hudi-flink/pom.xml]|331 316
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java [from hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java]|2 2
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java [from hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java [from hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java [from hudi-flink/src/main/java/org/apache/hudi/schema/SchemaProvider.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/schema/SchemaRegistryProvider.java [from hudi-flink/src/main/java/org/apache/hudi/schema/SchemaRegistryProvider.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java]|7 6
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java]|3 3
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/IndexRecord.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAccumulator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/aggregate/BootstrapAggFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/batch/BatchBootstrapOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java [from hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteFunction.java]|1 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractWriteOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/WriteOperatorFactory.java [from hudi-flink/src/main/java/org/apache/hudi/sink/common/WriteOperatorFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitEvent.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanEvent.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java [from hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java [from hudi-flink/src/main/java/org/apache/hudi/sink/event/CommitAckEvent.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java [from hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMessage.java [from hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMessage.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java [from hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigner.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssigners.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/EmptyWriteProfile.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java [from hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java]|6 5
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/transform/ChainedTransformer.java [from hudi-flink/src/main/java/org/apache/hudi/sink/transform/ChainedTransformer.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java [from hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java [from hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctionWithRateLimit.java]|3 3
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java [from hudi-flink/src/main/java/org/apache/hudi/sink/transform/RowDataToHoodieFunctions.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java [from hudi-flink/src/main/java/org/apache/hudi/sink/transform/Transformer.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java [from hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java [from hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java [from hudi-flink/src/main/java/org/apache/hudi/sink/utils/PayloadCreation.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java [from hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java]|25 25
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java [from hudi-flink/src/main/java/org/apache/hudi/sink/utils/TimeWait.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java [from hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java [from hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java [from hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java [from hudi-flink/src/main/java/org/apache/hudi/source/StreamReadOperator.java]|14 24
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java [from hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java [from hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java]|8 8
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java [from hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java [from hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java [from hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java [from hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java [from hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java [from hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java [from hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java [from hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadTableState.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java [from hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java]|2 2
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java [from hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ChangelogModes.java [from hudi-flink/src/main/java/org/apache/hudi/util/ChangelogModes.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java [from hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java]|3 3
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java [from hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java [from hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java [from hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/InputFormats.java [from hudi-flink/src/main/java/org/apache/hudi/util/InputFormats.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java [from hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java [from hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java [from hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java]|1 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java [from hudi-flink/src/main/java/org/apache/hudi/util/StringToRowDataConverter.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java [from hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory [from hudi-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java [from hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java [from hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java]|9 8
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java [from hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java]|1 1
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java [from hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java [from hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnReadWithCompact.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java [from hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java [from hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java [from hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java [from hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/CollectorOutput.java]|13 26
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/CompactFunctionWrapper.java]|2 39
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockCoordinatorExecutor.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockMapState.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockMapState.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockOperatorStateStore.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStateInitializationContext.java]|3 9
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockStreamingRuntimeContext.java]|3 8
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockValueState.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/MockValueState.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java]|36 41
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestFunctionWrapper.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestFunctionWrapper.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java [from hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java [from hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java [from hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadMonitoringFunction.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java [from hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java [from hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java]|2 20
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java [from hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java [from hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java [from hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java [from hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/SchemaBuilder.java [from hudi-flink/src/test/java/org/apache/hudi/utils/SchemaBuilder.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java]|11 11
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestHoodieRowData.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestHoodieRowData.java]|11 11
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestStringToRowDataConverter.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java [from hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java [from hudi-flink/src/test/java/org/apache/hudi/utils/factory/CollectSinkTableFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java [from hudi-flink/src/test/java/org/apache/hudi/utils/factory/ContinuousFileSourceFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java [from hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory [from hudi-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/debezium_json.data [from hudi-flink/src/test/resources/debezium_json.data]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire-quiet.properties [from hudi-flink/src/test/resources/log4j-surefire-quiet.properties]|0 1
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire.properties [from hudi-flink/src/test/resources/log4j-surefire.properties]|0 1
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_read_schema.avsc [from hudi-flink/src/test/resources/test_read_schema.avsc]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_source.data [from hudi-flink/src/test/resources/test_source.data]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_source_2.data [from hudi-flink/src/test/resources/test_source_2.data]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_source_3.data [from hudi-flink/src/test/resources/test_source_3.data]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_source_4.data [from hudi-flink/src/test/resources/test_source_4.data]|0 0
Renamed: hudi-flink-datasource/hudi-flink/src/test/resources/test_source_5.data [from hudi-flink/src/test/resources/test_source_5.data]|0 0
Added: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|90 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarArrayData.java|262 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarMapData.java|71 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarRowData.java|223 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/MapColumnVector.java|28 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/RowColumnVector.java|28 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/VectorizedColumnBatch.java|136 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java|35 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java|50 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java|37 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java|40 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/Utils.java|48 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java|27 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java|26 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java|43 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java|34 0
Added: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|102 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java|27 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java|33 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java|37 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java|40 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/Utils.java|48 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java|32 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java|32 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java|43 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java|52 0
Added: hudi-flink-datasource/pom.xml|41 0
Modified: hudi-kafka-connect/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|9 3
Modified: pom.xml|39 3

Revision: a118d56b071bad6a4701c3578e43e5fdfe416e6c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/03/2022 12:56:30
Message:
[MINOR] Fixing sparkUpdateNode for record generation (#5079) #MsgLength=62


----
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|5 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|5 0

Revision: 26e5d2e6fcc399e7886594a5454a16d29aaa8702
Author: wxp4532 <wxp4532@ly.com>
Date: 11/03/2022 14:07:52
Message:
[HUDI-3559] Flink bucket index with COW table throws NoSuchElementException #MsgLength=401


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|4 7
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java|25 7
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|84 74

Revision: ca0931d332234d0b743b4a035901a3bc9325d47c
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 22/03/2022 08:06:30
Message:
[HUDI-1436]: Provide an option to trigger clean every nth commit (#4385) #MsgLength=250


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|22 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|13 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|28 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleaningTriggerStrategy.java|24 0
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestHoodieConcatHandle.java|4 4
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|30 361
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|396 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 10

Revision: 9b6e138af27e600410a63f96065baf057300c071
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 22/03/2022 08:35:06
Message:
[HUDI-3640] Set SimpleKeyGenerator as default in 2to3 table upgrade for Spark engine (#5075) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/TwoToThreeUpgradeHandler.java|9 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/table/upgrade/TestTwoToThreeUpgradeHandler.java|20 6
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java|5 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|70 0

Revision: 5f570ea151d0212ab1bb2d1f5693035626b76d31
Author: Rajesh Mahindra <76502047+rmahindra123@users.noreply.github.com>
Date: 22/03/2022 10:56:31
Message:
[HUDI-2883] Refactor hive sync tool / config to use reflection and standardize configs (#4175) #MsgLength=365


----
Modified: docker/demo/sparksql-incremental.commands|18 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|18 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|16 13
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|9 10
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java|11 3
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|5 4
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|0 31
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|4 43
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|7 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|98 203
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|22 86
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|16 15
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|11 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|10 9
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|12 11
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|12 11
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|11 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceOptions.scala|7 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|0 49
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|7 5
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java|4 4
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|160 81
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|52 33
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java|11 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java|2 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|349 423
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|57 47
Modified: hudi-sync/hudi-sync-common/pom.xml|59 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java|18 4
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|188 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java|72 0
Added: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestSyncUtilHelpers.java|124 0
Added: hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire-quiet.properties|29 0
Added: hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire.properties|30 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|12 9
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|12 34
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|26 24
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|11 11

Revision: f96ba7abf043246e98f550f858e047411a12c550
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 24/03/2022 03:13:02
Message:
[HUDI-3642] Handle NPE due to empty requested replacecommit metadata (#5090) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConcurrentOperation.java|36 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|1 1

Revision: 52f0498330cc6e2112d9e5228386436babdb9133
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 24/03/2022 10:26:39
Message:
Fixing non partitioned all files record in MDT (#5108) #MsgLength=56


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|2 1

Revision: a1c42fcc0708f1838391e3e5c3cb7541b1fcd78f
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/03/2022 14:10:43
Message:
[minor] Checks the data block type for archived timeline (#5106) #MsgLength=66


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|14 10
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|0 29

Revision: fe2c3989e364e323f73552dbb9128d9662089eef
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 24/03/2022 18:18:35
Message:
[HUDI-3689] Fix glob path and hive sync in deltastreamer tests (#5117) #MsgLength=298


----
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|32 27
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|79 74
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|9 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|8 8

Revision: ccc3728002533978cb35b3b4c22cb4d0ef087347
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 24/03/2022 20:07:38
Message:
[HUDI-3684] Fixing NPE in `ParquetUtils` (#5102) #MsgLength=119


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|47 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|22 7
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|2 2

Revision: b14706502b56e257224018616cd5e7e7966bff43
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 24/03/2022 20:39:11
Message:
[HUDI-3689] Remove Azure CI cache (#5121) #MsgLength=43


----
Modified: azure-pipelines.yml|5 38

Revision: 686da41696e17daa182f84796cd2721b945d71b1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/03/2022 00:10:33
Message:
[HUDI-3689] Fix UT failures in TestHoodieDeltaStreamer (#5120) #MsgLength=64


----
Deleted: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestHiveSyncGlobalCommitTool.java|0 133
Deleted: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestUtilHelpers.java|0 97
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|15 15
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|4 4
Modified: pom.xml|2 2

Revision: 44ab3b73ed8510e28c2c115da25aa66c0ce9d7b7
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/03/2022 00:31:46
Message:
[HUDI-3706] Downgrade maven surefire and failsafe version (#5123) #MsgLength=67


----
Modified: pom.xml|2 2

Revision: ff136658a0a513f888a142e77380131a41801db9
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/03/2022 05:19:53
Message:
[HUDI-3689] Fix delta streamer tests (#5124) #MsgLength=46


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|18 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|4 0

Revision: 4ddd094ba2a805116f63c04805a08bf9c2651fc8
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/03/2022 07:42:44
Message:
[HUDI-3689] Disable flaky tests in TestHoodieDeltaStreamer (#5127) #MsgLength=68


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 0

Revision: 9b3dd2e0b7d89228a64f1162a50c5c96a27786de
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/03/2022 08:13:58
Message:
[HUDI-3624] Check all instants before starting a commit in metadata table (#5098) #MsgLength=83


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|19 13
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|19 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|94 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|89 75

Revision: 608d4bf32d65cac2829c79994bd3a43c0d2db03b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/03/2022 08:59:47
Message:
[HUDI-3638] Make ZookeeperBasedLockProvider serializable (#5112) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/ZookeeperBasedLockProvider.java|11 8

Revision: 5e86cdd1e95511424e354d99816d9495e13ae6ae
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/03/2022 09:01:42
Message:
[HUDI-3701] Flink bulk_insert support bucket hash index (#5118) #MsgLength=65


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|7 3
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java|73 0
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteFunction.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteOperator.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/BucketStreamWriteOperator.java]|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|9 9
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/WriterHelpers.java|39 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java|2 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|15 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|16 2

Revision: eaa4c4f2e2ccdb42f62d91c001a0350de183e4dc
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/03/2022 10:04:53
Message:
[HUDI-1180] Upgrade HBase to 2.4.9 (#5004) #MsgLength=96


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|15 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileConfig.java|5 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|3 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|175 42
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java|36 197
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java|250 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_bootstrap_index_partitions.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_complex.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_10_hbase_1_2_3_simple.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_bootstrap_index_partitions.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_complex.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_11_hbase_2_4_9_simple.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_bootstrap_index_partitions.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_complex.hfile|0 0
Added: hudi-client/hudi-client-common/src/test/resources/hudi_0_9_hbase_1_2_3_simple.hfile|0 0
Modified: hudi-client/hudi-spark-client/pom.xml|6 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|7 3
Modified: hudi-common/pom.xml|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java|9 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|25 15
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHBaseKVComparator.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|48 61
Added: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileUtils.java|87 0
Added: hudi-common/src/main/resources/hbase-site.xml|2185 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/inline/TestInLineFileSystemHFileInLining.java|39 35
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|6 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|5 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|117 63
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|101 46
Modified: packaging/hudi-integ-test-bundle/pom.xml|110 2
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|112 15
Modified: packaging/hudi-presto-bundle/pom.xml|104 56
Modified: packaging/hudi-spark-bundle/pom.xml|100 54
Modified: packaging/hudi-timeline-server-bundle/pom.xml|101 2
Modified: packaging/hudi-trino-bundle/pom.xml|104 64
Modified: packaging/hudi-utilities-bundle/pom.xml|100 47
Modified: pom.xml|5 3

Revision: 483ee843e62511f6d5bc487d90aba1a636ebac22
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date: 25/03/2022 10:18:28
Message:
[HUDI-3703] Reset taskID in restoreWriteMetadata (#5122) #MsgLength=58


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|2 0

Revision: 2fd9a4de5ca8b35ca0260f10915f6a4703abbd18
Author: Surya Prasanna <prasannakumar006@gmail.com>
Date: 25/03/2022 11:26:04
Message:
[HUDI-3580] Claim RFC number 48 for LogCompaction action RFC (#5128) #MsgLength=70


----
Modified: rfc/README.md|1 0

Revision: 8896864d7b8e8c1a9bf0e2a05353f70a1fabdf22
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/03/2022 11:48:50
Message:
[HUDI-3678] Fix record rewrite of create handle when 'preserveMetadata' is true (#5088) #MsgLength=89


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|10 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|8 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestUpdateSchemaEvolution.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|4 14

Revision: 8b38ddedc2fd1ef048a756faa3531afc06b2c26b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/03/2022 13:27:15
Message:
[HUDI-3594] Supporting Composite Expressions over Data Table Columns in Data Skipping flow (#4996) #MsgLength=100


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|46 38
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala|2 2
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala|127 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|8 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|2 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|12 13
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieSparkTypeUtils.scala|38 0
Deleted: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala|0 88
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|278 129
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|12 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|271 25
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystExpressionUtils.scala|84 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|5 3
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala [from hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/Spark3Adapter.scala]|4 4
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark3_1CatalystExpressionUtils.scala|84 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|31 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark3_2CatalystExpressionUtils.scala|83 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|6 3

Revision: f20c9867d7c347c43b22f70270aefb9b7f658461
Author: wangxianghu <wangxianghu@apache.org>
Date: 25/03/2022 15:02:54
Message:
[HUDI-3711] Fix typo in MaxwellJsonKafkaSourcePostProcessor.Config#PRECOMBINE_FIELD_TYPE_PROP (#5096) #MsgLength=103


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java|2 2

Revision: e5c3f9089b63800767ec88e269a98bbbd6b1e5e1
Author: ForwardXu <forwardxu315@gmail.com>
Date: 25/03/2022 16:37:17
Message:
[HUDI-3563] Make quickstart examples covered by CI tests (#5082) #MsgLength=66


----
Modified: .github/workflows/bot.yml|44 15
Modified: azure-pipelines.yml|3 2
Added: hudi-examples/hudi-examples-common/pom.xml|109 0
Renamed: hudi-examples/hudi-examples-common/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java [from hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java]|1 2
Added: hudi-examples/hudi-examples-flink/pom.xml|364 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/HoodieFlinkQuickstart.java|211 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/factory/CollectSinkTableFactory.java|178 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/factory/ContinuousFileSourceFactory.java|72 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/source/ContinuousFileSource.java|185 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/utils/QuickstartConfigurations.java|317 0
Added: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/utils/SchemaBuilder.java|71 0
Added: hudi-examples/hudi-examples-flink/src/main/resources/META-INF/services/org.apache.flink.table.factories.Factory|18 0
Added: hudi-examples/hudi-examples-flink/src/main/resources/source-file.json|8 0
Added: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java|68 0
Added: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java|422 0
Added: hudi-examples/hudi-examples-flink/src/test/resources/META-INF/services/org.apache.flink.table.factories.Factory|18 0
Added: hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire.properties|31 0
Added: hudi-examples/hudi-examples-java/pom.xml|129 0
Renamed: hudi-examples/hudi-examples-java/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java [from hudi-examples/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java]|0 0
Added: hudi-examples/hudi-examples-spark/pom.xml|283 0
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java [from hudi-examples/src/main/java/org/apache/hudi/examples/common/ExampleDataSchemaProvider.java]|0 1
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java [from hudi-examples/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/IdentityTransformer.java [from hudi-examples/src/main/java/org/apache/hudi/examples/common/IdentityTransformer.java]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/RandomJsonSource.java [from hudi-examples/src/main/java/org/apache/hudi/examples/common/RandomJsonSource.java]|0 0
Added: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java|227 0
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/QuickstartUtils.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java]|2 2
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java [from hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieSparkBootstrapExample.java]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java [from hudi-examples/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/resources/delta-streamer-config/dfs/source-file.json [from hudi-examples/src/main/resources/delta-streamer-config/dfs/source-file.json]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/resources/delta-streamer-config/kafka/kafka-source.properties [from hudi-examples/src/main/resources/delta-streamer-config/kafka/kafka-source.properties]|0 0
Renamed: hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala [from hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala]|3 3
Renamed: hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala [from hudi-examples/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala]|2 1
Added: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java|115 0
Renamed: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartUtils.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestQuickstartUtils.java]|1 1
Added: hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire.properties|31 0
Modified: hudi-examples/pom.xml|7 198

Revision: 12cc8e715bfcd71a6b9232a37bd42aa237ab09d9
Author: ForwardXu <forwardxu315@gmail.com>
Date: 25/03/2022 22:34:35
Message:
[MINOR] fix QuickstartUtils move (#5133) #MsgLength=42


----
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java|1 0
Modified: hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieDataSourceExample.scala|1 1
Modified: hudi-examples/hudi-examples-spark/src/main/scala/org/apache/hudi/examples/spark/HoodieMorCompactionJob.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java [from hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/QuickstartUtils.java]|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestQuickstartUtils.java [from hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartUtils.java]|1 1

Revision: 51034fecf12c6f5cd90cf12540babfcda5f5e667
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 26/03/2022 00:32:03
Message:
[HUDI-3396] Refactoring `MergeOnReadRDD` to avoid duplication, fetch only projected columns (#4888) #MsgLength=101


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|0 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|4 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|50 32
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|0 22
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|4 53
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|282 223
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala|2 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|3 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|11 17
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieUnsafeRDDUtils.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|95 56

Revision: 0c09a973fb0470a47411f734d2d5e1429e3522e2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/03/2022 11:42:54
Message:
[HUDI-3435] Do not throw exception when instant to rollback does not exist in metadata table active timeline (#4821) #MsgLength=118


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|16 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|13 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|42 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|24 3

Revision: 57b4f39c3121f84f2455990f6825f6ad372c0d42
Author: RexAn <anh131@126.com>
Date: 26/03/2022 18:46:03
Message:
[HUDI-3612] Clustering strategy should create new TypedProperties when modifying it (#5027) #MsgLength=93


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaSortAndSizeExecutionStrategy.java|5 7
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|5 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|5 7

Revision: 189d5297b8826f5345fcb132dc7318fc4253c94e
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 27/03/2022 05:51:36
Message:
[HUDI-3709] Fixing `ParquetWriter` impls not respecting Parquet Max File Size limit (#5129) #MsgLength=93


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java|0 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|0 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java|0 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|1 6
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|1 1

Revision: 4d940bbf8a934087e606e2a9a9ba698a0911caa3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/03/2022 09:13:58
Message:
[HUDI-3716] OOM occurred when use bulk_insert cow table with flink BUCKET index (#5135) #MsgLength=89


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java|46 10
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriterHelper.java|4 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|16 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|1 1

Revision: 484b3407e00ce0d0c646bf6b8f7f2145070d2d2c
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 27/03/2022 13:37:44
Message:
[HUDI-3604] Adjust the order of timeline changes in rollbacks (#5114) #MsgLength=71


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|9 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|30 15
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|0 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|0 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|5 3

Revision: 85c4a6cfc1ecc4d5eb15c9e059e59c6cb2a9a0a8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 28/03/2022 00:26:24
Message:
[MINOR] Relaxing cleaner and archival configs (#5142) #MsgLength=55


----
Modified: docker/demo/config/test-suite/cow-spark-long-running.yaml|1 1
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml|1 1
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|1 1
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|1 1
Modified: docker/demo/config/test-suite/simple-clustering-hive.yaml|1 1
Modified: docker/demo/config/test-suite/simple-clustering.yaml|1 1
Added: docker/demo/config/test-suite/spark-long-running.yaml|55 0
Added: docker/demo/config/test-suite/spark-simple.yaml|54 0
Modified: docker/demo/config/test-suite/test-aggressive-clean-archival.properties|3 3
Modified: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties|3 3
Modified: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties|3 3
Modified: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties|3 3

Revision: 9da2dd416ec76ec68393e38f8e1e94c7de141eb0
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 28/03/2022 02:01:43
Message:
[HUDI-3719] High performance costs of AvroSerizlizer in DataSource wr (#5137) #MsgLength=234


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|6 3
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmark.scala|239 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarkBase.scala|87 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarks.scala|143 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/AvroSerDerBenchmark.scala|99 0

Revision: f2a93ead3b5a6964a72b3543ada58aa334edef9c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 28/03/2022 09:36:15
Message:
[HUDI-3724] Fixing closure of ParquetReader (#5141) #MsgLength=53


----
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|9 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|9 1

Revision: d31cde284c4992f81bb989ce92f646a0d382634c
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/03/2022 11:13:44
Message:
[MINOR] Fix call command parser use spark3.2 (#5144) #MsgLength=54


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala|9 2

Revision: 1d0f4ccfe0e81f1b83ff6f0fb1e3383da9802e62
Author: huberylee <shibei.lh@foxmail.com>
Date: 28/03/2022 14:11:35
Message:
[HUDI-3538] Support Compaction Command Based on Call Procedure Command for Spark SQL (#4945) #MsgLength=199


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|16 76
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala|11 20
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedureUtils.scala|46 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCompactionProcedure.scala|144 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCompactionProcedure.scala|90 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRunClusteringProcedure.scala]|2 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala|133 0

Revision: 2e2d08cb7260e3316fdc9116c4061aed0ceb5214
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 28/03/2022 19:50:36
Message:
[HUDI-3539] Flink bucket index bucketID bootstrap optimization. (#5093) #MsgLength=195


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java|57 40

Revision: 4ed84b216db335521bd4c51169c40e63dc86f27d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 29/03/2022 02:54:31
Message:
[HUDI-3720] Fix the logic of reattempting pending rollback (#5148) #MsgLength=68


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|15 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|33 12

Revision: 6ccbae4d2ac13d1e6b0a7c87fcb072319f410451
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/03/2022 02:54:59
Message:
[HUDI-2757] Implement Hudi AWS Glue sync (#5076) #MsgLength=50


----
Modified: hudi-aws/pom.xml|33 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|479 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java|70 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/sync/HoodieGlueSyncException.java|33 0
Added: hudi-aws/src/main/java/org/apache/hudi/aws/utils/S3Utils.java|27 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|25 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/MapUtils.java|34 0
Added: hudi-common/src/test/java/org/apache/hudi/common/util/TestCollectionUtils.java|56 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectTransactionServices.java|3 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|1 1
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|27 4
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/AbstractHiveSyncHoodieClient.java|142 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|38 28
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|43 98
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncException.java|0 11
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|13 14
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java|0 4
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|35 35
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|17 3
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/Partition.java|42 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/TableUtils.java|27 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|1 1

Revision: d074089c62db9aabe3b6c47ec8323f4487fa2b0b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 29/03/2022 05:05:00
Message:
[HUDI-2566] Adding multi-writer test support to integ test (#5065) #MsgLength=68


----
Added: docker/demo/config/test-suite/multi-writer-1-ds.yaml|65 0
Added: docker/demo/config/test-suite/multi-writer-1.properties|58 0
Added: docker/demo/config/test-suite/multi-writer-2-sds.yaml|52 0
Added: docker/demo/config/test-suite/multi-writer-2.properties|58 0
Added: docker/demo/config/test-suite/multi-writer-local-1.properties|57 0
Added: docker/demo/config/test-suite/multi-writer-local-2.properties|57 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java|1 1
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieMultiWriterTestSuiteJob.java|241 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|26 11
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java|8 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/DeleteNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/InsertNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/UpsertNode.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|35 26
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeleteNode.scala|10 24
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkInsertNode.scala|21 10
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkUpsertNode.scala|41 2
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/BaseSparkSqlNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlCreateTableNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlDeleteNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlMergeNode.scala|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/spark/sql/SparkSqlUpdateNode.scala|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|1 1

Revision: 72e0b52b18a7383158cfa91b9a61ec16fa7d2576
Author: ForwardXu <forwardxu315@gmail.com>
Date: 29/03/2022 09:44:18
Message:
[HUDI-3722] Fix truncate hudi table's error (#5140) #MsgLength=53


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|56 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|1 56
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|77 12
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala|97 1

Revision: 3bf9c5ffe80e84e9b0ba34e115e1a7a417f343e8
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/03/2022 09:52:35
Message:
[HUDI-3728] Set the sort operator parallelism for flink bucket bulk insert (#5154) #MsgLength=84


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java|26 41
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|4 2

Revision: 8f8a8158e2ced440918735cbf42f9b8d4a0f804c
Author: leesf <490081539@qq.com>
Date: 29/03/2022 10:34:12
Message:
[HUDI-2520] Fix drop table issue when sync to Hive (#5143) #MsgLength=60


----
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala]|0 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|15 14

Revision: 7c7ecb11d5359690a42f0e427605760f13a5b196
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 29/03/2022 11:31:46
Message:
[HUDI-3736] Fix default dynamodblock url default value (#4967) #MsgLength=64


----
Modified: hudi-aws/src/main/java/org/apache/hudi/config/DynamoDbBasedLockConfig.java|2 2

Revision: 1b2fb71afcc515b8efe3fd20416137049c87cc1e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/03/2022 12:07:59
Message:
[MINOR] Move Experiemental to javadoc (#5161) #MsgLength=47


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java|2 2

Revision: fcb003ec767f56cbfc56b10711b373d9a477a628
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 29/03/2022 23:39:56
Message:
[HUDI-3731] Fixing Column Stats Index record Merging sequence missing `columnName` (#5159) #MsgLength=421


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|5 3
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|18 12
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|26 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala|5 1

Revision: 0802510ca9d55554e87e9aee9cbf9e694dd8a785
Author: ForwardXu <forwardxu315@gmail.com>
Date: 30/03/2022 02:28:19
Message:
[HUDI-2520] Fix drop partition issue when sync to hive (#5147) #MsgLength=64


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|5 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|6 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java|25 3

Revision: e5a2baeed0861e332000cb0fe3e3f263e82c15fc
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 30/03/2022 02:44:47
Message:
[HUDI-3549] Removing dependency on "spark-avro"  (#4955) #MsgLength=2873


----
Modified: README.md|2 14
Modified: docker/demo/config/test-suite/templates/spark_command.txt.template|0 1
Modified: hudi-cli/pom.xml|0 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|5 21
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|0 9
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|0 9
Modified: hudi-client/hudi-spark-client/pom.xml|0 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|0 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|0 70
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|25 20
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/avro/HoodieAvroSchemaConverters.scala|33 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|6 1
Modified: hudi-examples/bin/hudi-delta-streamer|0 1
Modified: hudi-examples/hudi-examples-spark/pom.xml|0 4
Modified: hudi-integ-test/README.md|1 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/command/ITTestHoodieSyncCommand.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|0 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|2 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieSparkAvroSchemaConverters.scala|39 0
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala|211 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|0 7
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionCodeGen.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java]|0 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|0 8
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|6 4
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/PatchedAvroDeserializer.scala]|8 2
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|244 0
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/HoodieSpark2_4AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/HoodieSpark2AvroDeserializer.scala]|2 6
Renamed: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/HoodieSpark2_4AvroSerializer.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/HoodieSparkAvroSerializer.scala]|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|0 8
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|3 9
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|9 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|493 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|344 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala|103 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_1AvroDeserializer.scala|29 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_1AvroSerializer.scala|29 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|10 1
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|510 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|377 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala|117 0
Renamed: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3AvroDeserializer.scala]|2 10
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroSerializer.scala|29 0
Modified: hudi-utilities/pom.xml|0 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDataTableValidator.java|0 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|0 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieRepairTool.java|0 4
Modified: packaging/hudi-integ-test-bundle/pom.xml|7 0
Modified: packaging/hudi-spark-bundle/pom.xml|8 20
Modified: packaging/hudi-utilities-bundle/pom.xml|7 0
Modified: pom.xml|1 11

Revision: 941c254c33a83909c58dea6b7eb2b1ffa7b5aaec
Author: ForwardXu <forwardxu315@gmail.com>
Date: 30/03/2022 03:25:31
Message:
[HUDI-2520] Fix CTAS statment issue when sync to hive (#5145) #MsgLength=63


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|4 9

Revision: 5c1b482a1bb46ca879472547a0c6f94f5294a83d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/03/2022 08:18:36
Message:
[HUDI-3741] Fix flink bucket index bulk insert generates too many small files (#5164) #MsgLength=87


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketBulkInsertWriterHelper.java|8 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|13 8
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|1 1

Revision: 4fed8dd31996bdd3e16e4921237628588195653f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 30/03/2022 09:27:45
Message:
[HUDI-3485] Adding scheduler pool configs for async clustering (#5043) #MsgLength=72


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|11 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/async/SparkAsyncClusteringService.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/common/HoodieSparkEngineContext.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/EngineProperty.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/async/SparkStreamingAsyncClusteringService.java|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkConfigs.scala|8 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|15 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|10 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java|14 5

Revision: 7fa363923cb14ec5b4e930a1ff3dcaa91a770634
Author: harshal <harshal.j.patil@gmail.com>
Date: 30/03/2022 13:34:49
Message:
[HUDI-3745] Support for spark datasource options in S3EventsHoodieIncrSource (#5170) #MsgLength=86


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|31 4

Revision: b9fbada2f2974f516e9541359892b905af19710e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/03/2022 20:45:29
Message:
[minor] Follow 3178, fix the flink metadata table compaction (#5175) #MsgLength=70


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|7 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|13 11

Revision: 04478a45d9ec0817a88ce9464e8c63c285a108b4
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 30/03/2022 22:33:14
Message:
[MINOR] Fix dates as per UTC in TestDataSkippingUtils (#5166) #MsgLength=85


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|73 70

Revision: 8b796e96865c44982b4dd8314e60573594e9f153
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 31/03/2022 01:01:43
Message:
[HUDI-3653] Cleaning up bespoke Column Stats Index implementation (#5062) #MsgLength=75


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java|85 330
Deleted: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/columnstats/TestColumnStatsIndexHelper.java|0 41
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|29 76
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchmark.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchMark.scala]|6 6

Revision: eae8488536c711a104c9e4f3429af3ad5c420841
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 31/03/2022 05:18:08
Message:
[HUDI-3647] HoodieMetadataTableValidator: check MDT was initialized at first (#5152) #MsgLength=134


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|22 0

Revision: 2b60641d17f60fc0d90ad470d6dead95805495fa
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 31/03/2022 05:23:37
Message:
[HUDI-3635] Fix HoodieMetadataTableValidator around comparison of partition path listing (#5100) #MsgLength=146


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|18 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|16 0

Revision: 17d11f4839753553f7a58052a01f94bc653e1a55
Author: Bo Cui <cuibo0108@163.com>
Date: 31/03/2022 05:30:06
Message:
[MINOR] Repeated execution of update status (#5089) #MsgLength=53


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|0 1

Revision: 31d4a16deb5144d02baf0f1a1afeb103205267b1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 31/03/2022 05:38:02
Message:
[HUDI-3536] Add hudi-datahub-sync implementation (#5155) #MsgLength=58


----
Added: hudi-sync/hudi-datahub-sync/pom.xml|150 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java|234 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncTool.java|74 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/HoodieDataHubSyncException.java|34 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubEmitterSupplier.java|32 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubSyncConfig.java|93 0
Added: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/HoodieDataHubDatasetIdentifier.java|48 0
Added: hudi-sync/hudi-datahub-sync/src/test/java/org/apache/hudi/sync/datahub/config/TestDataHubSyncConfig.java|61 0
Added: hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire-quiet.properties|29 0
Added: hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire.properties|29 0
Modified: hudi-sync/pom.xml|4 3
Added: packaging/hudi-datahub-sync-bundle/pom.xml|148 0
Added: packaging/hudi-datahub-sync-bundle/src/main/java/org/apache/hudi/datahub/bundle/Main.java|37 0
Modified: pom.xml|1 0

Revision: 9ff6a48f6083c70ea5f0cb74fd83bb8dfa3d2071
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 31/03/2022 06:11:26
Message:
[HUDI-3736] Fix null pointer when key not specified (#5167) #MsgLength=61


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/transaction/lock/DynamoDBBasedLockProvider.java|3 3

Revision: 2d73c8ae86f493c8ccfffca2bc5f5f90e9fe4f10
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 31/03/2022 06:54:25
Message:
[HUDI-3355] Issue with out of order commits in the timeline when ingestion writers using SparkAllowUpdateStrategy (#4962) #MsgLength=123


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/TransactionUtils.java|44 23
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|4 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java|152 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|7 0

Revision: 9830005e9b74f74defcd9d761b6d9d9689b89da9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 31/03/2022 08:35:56
Message:
[HUDI-3681] Provision additional hudi-spark-bundle with different versions (#5171) #MsgLength=84


----
Modified: .github/workflows/bot.yml|15 9
Modified: README.md|22 15
Modified: pom.xml|49 22

Revision: 4fb1a590b181a495178c36233362eea2952501cb
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 31/03/2022 09:08:35
Message:
[HUDI-3700] Add hudi-utilities-slim-bundle excluding hudi-spark-datasource modules (#5176) #MsgLength=92


----
Modified: README.md|6 0
Added: packaging/hudi-utilities-slim-bundle/pom.xml|477 0
Added: packaging/hudi-utilities-slim-bundle/src/main/java/org/apache/hudi/utilities/bundle/Main.java|36 0
Modified: pom.xml|1 0

Revision: d80c80699f46e052e0745e90fc8ab32a17b3640f
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 31/03/2022 10:07:22
Message:
[MINOR] Fixing flakiness in TestHoodieSparkMergeOnReadTableRollback.testRollbackWithDeltaAndCompactionCommit (#5183) #MsgLength=118


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|3 3

Revision: 2c4554fadaf296fbb58e806b5191d123d1202a8e
Author: KnightChess <wlqfzs@163.com>
Date: 31/03/2022 10:19:05
Message:
[HUDI-3750] Fix NPE when build HoodieFileIndex (#5134) #MsgLength=108


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1

Revision: 2dbb273d26ea38ecf28af704876861554250449c
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 31/03/2022 11:26:37
Message:
[HUDI-3721] Delete MDT if necessary when trigger rollback to savepoint (#5173) #MsgLength=128


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|53 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|36 9
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|7 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|4 4

Revision: f6ff95f97cc49d8db690bc2d27b716b34618938d
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 31/03/2022 12:48:54
Message:
[MINOR][DOCS] Update hudi-utilities-slim-bundle docs (#5184) #MsgLength=62


----
Modified: README.md|1 7
Added: packaging/hudi-utilities-slim-bundle/README.md|22 0

Revision: 4569734d60cdf1bd0d7187bfeb5d3ac5f0be8191
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 31/03/2022 13:44:31
Message:
[HUDI-3713] Guarding archival for multi-writer  (#5138) #MsgLength=57


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|12 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|25 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|96 4

Revision: ce45f7f129e4d83705fc6a2a3dc6cfd7414480e1
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 31/03/2022 14:24:59
Message:
[HUDI-3692] MetadataFileSystemView includes compaction in timeline (#5110) #MsgLength=76


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java|56 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|1 1

Revision: 3cdb590e153c77c85c0d3d6365ada132079c300a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 31/03/2022 15:30:49
Message:
[HUDI-3733] Adding HoodieFailedWritesCleaningPolicy for restore with hudi-cli (#5158) #MsgLength=210


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|3 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|18 13

Revision: 80011df995f6a610a30799eb3b11cdd8a2703630
Author: ForwardXu <forwardxu315@gmail.com>
Date: 31/03/2022 15:35:39
Message:
[HUDI-3135] Make delete partitions lazy to be executed by the cleaner  (#4489) #MsgLength=1109


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/exception/HoodieDeletePartitionException.java|35 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|13 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|11 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|23 12
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkDeletePartitionCommitActionExecutor.java|42 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|66 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Modified: hudi-common/src/main/avro/HoodieCleanPartitionMetadata.avsc|2 1
Modified: hudi-common/src/main/avro/HoodieCleanerPlan.avsc|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|19 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV1MigrationHandler.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV2MigrationHandler.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|17 9
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|17 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|38 1

Revision: 73a21092f8f708d6c90ff2ab95b677b58237be9a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 31/03/2022 19:55:24
Message:
[HUDI-3732] Fixing rollback validation (#5157) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|6 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|35 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|5 0

Revision: 7889c7852f0b8aa0a449e56f9d41fd6dbd648882
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 31/03/2022 20:09:26
Message:
[HUDI-3729][SPARK] fixed the per regression by enable vectorizeReader for parquet file (#5168) #MsgLength=223


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/hudi/benchmark/HoodieBenchmarkBase.scala|9 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/CowTableReadBenchmark.scala|136 0

Revision: 51a701cef18024f07217906e4684529ad4b5d580
Author: codejoyan <48707638+codejoyan@users.noreply.github.com>
Date: 31/03/2022 22:22:03
Message:
[HUDI-3020] Utility to create manifest file (#5153) #MsgLength=102


----
Modified: hudi-sync/hudi-sync-common/pom.xml|8 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileUtil.java|141 0
Added: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileUtil.java|73 0

Revision: 1da196c1e81bff60386b9404b252451531ab9ca9
Author: liuhe0702 <76084319+liuhe0702@users.noreply.github.com>
Date: 01/04/2022 03:48:47
Message:
[HUDI-2777] Improve HoodieSparkSqlWriter write performance (#5187) #MsgLength=68


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1

Revision: 28dafa774ee058a4d00fc15b1d7fffc0c020ec3e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 01/04/2022 04:03:12
Message:
[HUDI-2488][HUDI-3175] Implement async metadata indexing (#4693) #MsgLength=1060


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|13 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|51 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|18 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|19 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|172 39
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|41 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|23 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java|390 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java|152 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToThreeDowngradeHandler.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ThreeToFourUpgradeHandler.java|11 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|13 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|15 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|15 0
Modified: hudi-common/pom.xml|3 0
Modified: hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc|8 0
Added: hudi-common/src/main/avro/HoodieIndexCommitMetadata.avsc|54 0
Added: hudi-common/src/main/avro/HoodieIndexPartitionInfo.avsc|48 0
Added: hudi-common/src/main/avro/HoodieIndexPlan.avsc|43 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/SimpleBloomFilter.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|58 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|23 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|66 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|24 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|44 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineMetadataUtils.java|18 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/HoodieTableFileSystemView.java|16 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|33 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|71 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java|13 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|47 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|22 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java|18 34
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|307 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|27 15
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|122 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|1 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|72 5
Added: hudi-utilities/src/test/resources/delta-streamer-config/indexer.properties|25 0

Revision: a048e940fd6e3f62e443bca5831e99144900a33f
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 01/04/2022 09:29:17
Message:
[HUDI-3743] Support DELETE_PARTITION for metadata table (#5169) #MsgLength=377


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataWriter.java|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|3 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|15 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java|16 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|68 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|25 7
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|27 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|0 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|2 2

Revision: 98b4e9796e1e3e1f69954afa698ace5b28bde4a0
Author: ForwardXu <forwardxu315@gmail.com>
Date: 01/04/2022 10:01:41
Message:
[HUDI-3406] Rollback incorrectly relying on FS listing instead of Com (#4957) #MsgLength=391


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|15 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java|0 5
Deleted: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackHelper.java|0 150
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|284 18
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/RollbackUtils.java|0 167
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/SerializablePathFilter.java|26 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|11 23
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|13 0

Revision: 6df14f15a3761580085d38bffceca9d19c7ad24e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 01/04/2022 20:46:51
Message:
[HUDI-2752] The MOR DELETE block breaks the event time sequence of CDC (#4880) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|10 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|1 1
Added: hudi-common/src/main/java/org/apache/hudi/common/model/DeleteRecord.java|107 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieAvroPayload.java|10 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|26 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieUnMergedLogRecordScanner.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java|22 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|131 14
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteRecordGenerator.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteKeyGenerator.java]|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|6 9

Revision: 23b31225df4e7cd7f7e5013ea30b482bc0ebb09d
Author:  <dongkelun01@inspur.com>
Date: 01/04/2022 21:17:49
Message:
[HUDI-3769] Optimize the logs of HoodieMergeHandle and BufferedConnectWriter (#5200) #MsgLength=86


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|3 3
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/BufferedConnectWriter.java|3 3

Revision: 7dfb1680031cae8f0803786d406854f005156537
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 01/04/2022 23:27:40
Message:
[HUDI-3763] Fixing hadoop conf class loading for inline reading (#5194) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|1 0

Revision: dfdd2de99ced45424131915a036a0eb2b96b2ca6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 02/04/2022 02:49:23
Message:
[HUDI-3225] [RFC-45] for async metadata indexing (#4640) #MsgLength=211


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-45/async_metadata_index.png|0 0
Added: rfc/rfc-45/rfc-45.md|376 0

Revision: 9275b8fc7e2920a49ccf0b472e49c783e6c933d1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 02/04/2022 03:27:01
Message:
[HUDI-3468][RFC-49] Support sync with DataHub (#5022) #MsgLength=55


----
Modified: rfc/README.md|64 51
Added: rfc/rfc-49/DatasetProfile.png|0 0
Added: rfc/rfc-49/DatasetProperties.png|0 0
Added: rfc/rfc-49/SchemaMetadata.png|0 0
Added: rfc/rfc-49/rfc-49.md|90 0

Revision: 444ff496a444ff82385421844aef5b4db01d8892
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 02/04/2022 04:20:24
Message:
[RFC-33] [HUDI-2429][Stacked on HUDI-2560] Support full Schema evolution for Spark (#4910) #MsgLength=1249


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|180 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|50 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|9 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java|42 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|19 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java|19 2
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkInternalSchemaConverter.java|502 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|28 12
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|13 0
Modified: hudi-common/pom.xml|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|284 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|58 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|39 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|12 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|11 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|10 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|35 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|22 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|23 19
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstant.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|17 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/InternalSchemaCache.java|212 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/HoodieSchemaException.java|44 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/InternalSchema.java|291 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/InternalSchemaBuilder.java|272 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/Type.java|78 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/Types.java|716 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaChangeApplier.java|164 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java|197 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChange.java|252 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChanges.java|398 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChangesHelper.java|79 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/convert/AvroInternalSchemaConverter.java|436 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/io/AbstractInternalSchemaStorageManager.java|51 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/io/FileBasedInternalSchemaStorageManager.java|184 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/AvroSchemaEvolutionUtils.java|142 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java|270 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/SchemaChangeUtils.java|305 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/SerDeHelper.java|351 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/visitor/InternalSchemaVisitor.java|86 0
Added: hudi-common/src/main/java/org/apache/hudi/internal/schema/visitor/NameToIDVisitor.java|113 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|2 1
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/TestSerDeHelper.java|117 0
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/action/TestMergeSchema.java|88 0
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/action/TestTableChanges.java|229 0
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/io/TestFileBasedInternalSchemaStorageManager.java|110 0
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java|422 0
Added: hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestInternalSchemaUtils.java|100 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|8 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|19 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|20 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|5 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|49 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|8 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|34 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|2 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/SparkHoodieParquetFileFormat.scala|48 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableAddColumnsCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|4 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala|16 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala|472 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|13 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|18 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|37 1
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieVectorizedParquetRecordReader.java|188 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|28 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/HStatments.scala|66 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieParquetFileFormat.scala|365 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommand312.scala|282 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand312.scala|324 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark312ExtendedSqlParser.scala|29 0
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark312SqlAstBuilder.scala|125 0
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|76 2
Added: hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java|191 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|27 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala|349 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala|67 0
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala|347 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: pom.xml|10 0

Revision: fb45fc9cb9581abc40922ddcbee21dfc016d4edc
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 02/04/2022 11:14:07
Message:
[HUDI-3773] Fix parallelism used for metadata table bloom filter index (#5209) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|15 0

Revision: b1e7e1f14eb093e50f74f23a7622c4e38886553a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 02/04/2022 11:17:02
Message:
[HUDI-3708] Fix failure with HoodieMetadataRecord due to schema compatibility check (#5204) #MsgLength=93


----
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|2 1

Revision: 020786a5f9d25bf140decf24d65e07dd738e4f9d
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 02/04/2022 19:01:06
Message:
[HUDI-3451] Delete metadata table when the write client disables MDT (#5186) #MsgLength=333


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|50 5
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|3 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|2 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|75 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1

Revision: eef3f9c74acfe0ebec77694044b416696cfc7c2d
Author: todd5167 <313328862@qq.com>
Date: 02/04/2022 21:16:10
Message:
[HUDI-3771] flink supports sync table information to aws glue (#5202) #MsgLength=71


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|6 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java|4 0

Revision: c19f505b5ad8c292d259b68c57f6d768a2a1dbf4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 03/04/2022 04:16:17
Message:
[HUDI-3784] Improve docs and logs of HoodieMetadataTableValidator (#5216) #MsgLength=75


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|34 4

Revision: 20964df7707b0cdb460cecfaa724537244adb0a4
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 03/04/2022 04:18:06
Message:
[HUDI-3357] MVP implementation of BigQuerySyncTool (#5125) #MsgLength=134


----
Added: hudi-gcp/pom.xml|117 0
Added: hudi-gcp/src/assembly/src.xml|46 0
Added: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncConfig.java|131 0
Added: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncTool.java|119 0
Added: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java|243 0
Added: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncException.java|43 0
Added: hudi-gcp/src/test/java/org/apache/hudi/gcp/bigquery/TestBigQuerySyncConfig.java|118 0
Added: hudi-gcp/src/test/resources/log4j-surefire-quiet.properties|29 0
Added: hudi-gcp/src/test/resources/log4j-surefire.properties|29 0
Renamed: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileWriter.java [from hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ManifestFileUtil.java]|66 51
Renamed: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileWriter.java [from hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestManifestFileUtil.java]|33 26
Added: packaging/hudi-gcp-bundle/pom.xml|178 0
Added: packaging/hudi-gcp-bundle/src/main/java/org/apache/hudi/gcp/bigquery/bundle/Main.java|37 0
Modified: pom.xml|2 0

Revision: 74eb09be9b40a205365bf920ed98cfff564f79cf
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 03/04/2022 06:22:57
Message:
[HUDI-3776] Fix BloomIndex incorrectly using ColStats to lookup records locations (#5213) #MsgLength=91


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|26 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|60 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|12 8

Revision: cc3737be506475c11c12471be6d0296ea14c7f39
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 03/04/2022 08:15:52
Message:
[HUDI-3664] Fixing Column Stats Index composition  (#5181) #MsgLength=112


----
Modified: azure-pipelines.yml|11 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|8 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|8 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|7 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|14 21
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|8 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|72 24
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|13 13
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|18 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|29 15
Modified: hudi-common/pom.xml|6 0
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|182 4
Added: hudi-common/src/main/java/org/apache/hudi/avro/ConvertingGenericData.java|144 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|90 16
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|12 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieColumnRangeMetadata.java|0 34
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieDeltaWriteStat.java|4 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DateTimeUtils.java|29 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|160 17
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|265 133
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|42 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|58 58
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|9 10
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|6 2
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|216 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|7 57
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieSparkTypeUtils.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieSparkTypeUtils.scala]|9 2
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieUnsafeRDDUtils.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/HoodieUnsafeRDDUtils.scala]|14 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/ColumnStatsIndexHelper.java [from hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/columnstats/ColumnStatsIndexHelper.java]|15 50
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/column-stats-index-table.json|4 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/updated-column-stats-index-table.json|8 0
Deleted: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table-merged.json|0 8
Deleted: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/z-index-table.json|0 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|24 28
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|90 146
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala|13 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchmark.scala|2 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystExpressionUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|54 6
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark3_1CatalystExpressionUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|52 7
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark3_2CatalystExpressionUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|54 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|9 26

Revision: 84064a9b081c246f306855ae125f0dae5eb8f6d0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 03/04/2022 14:44:10
Message:
[HUDI-3772] Fixing auto adjustment of lock configs for deltastreamer (#5207) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|47 32
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|44 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|8 1

Revision: c34eb07598adfd975fa1b9f5235dfc48a7a247bd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 03/04/2022 18:42:14
Message:
[MINOR] Reuse deleteMetadataTable for disabling metadata table (#5217) #MsgLength=72


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|6 8
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|16 11

Revision: 8add740d2257214fb3b6238091b0c526dee88a26
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 03/04/2022 18:53:25
Message:
[HUDI-3534] [RFC-34] Added the implementation details for the BigQuery integration (#4503) #MsgLength=92


----
Modified: rfc/README.md|1 1
Added: rfc/rfc-34/big-query-arch.png|0 0
Added: rfc/rfc-34/rfc-34.md|166 0

Revision: b28f0d6ceb7750075be82b7bd4160a4475801159
Author: Prashant Wason <pwason@uber.com>
Date: 04/04/2022 23:08:20
Message:
[HUDI-3290] Different file formats for the partition metadata file. (#5179) #MsgLength=1526


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|2 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|65 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|4 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitioner.java|6 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|52 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java|11 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|170 26
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|16 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/BaseFileUtils.java|15 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/OrcUtils.java|23 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|1 1
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodiePartitionMetadata.java|93 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestTablePathUtils.java|20 9
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|4 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|11 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|2 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1

Revision: 3449e86989f86121a9b9a93de602bc8497021a27
Author: ForwardXu <forwardxu315@gmail.com>
Date: 05/04/2022 11:52:33
Message:
[HUDI-3780] improve drop partitions (#5178) #MsgLength=45


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|0 19
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|18 0
Modified: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java|6 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|145 28
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|4 37
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|6 38
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|13 11
Modified: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java|2 2
Modified: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java|2 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|12 14

Revision: 325b3d610a285aa6442b6db325c43379dfd63c6c
Author: ForwardXu <forwardxu315@gmail.com>
Date: 05/04/2022 16:10:11
Message:
[HUDI-3795] Fix hudi-examples checkstyle and maven enforcer error (#5221) #MsgLength=147


----
Modified: .github/workflows/bot.yml|12 2
Modified: hudi-examples/hudi-examples-common/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|8 8
Modified: hudi-examples/hudi-examples-flink/pom.xml|4 4
Modified: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java|5 4
Modified: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java|18 17
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java|57 56
Modified: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java|7 6

Revision: 3195f51562b8cd7e62a46d41ae91e6d25be77988
Author: Yann Byron <biyan900116@gmail.com>
Date: 05/04/2022 16:31:41
Message:
[HUDI-3748] write and select hudi table when enable hoodie.datasource.write.drop.partition.columns (#5201) #MsgLength=108


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|21 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|70 18
Modified: hudi-common/src/main/java/org/apache/hudi/exception/HoodieIncompatibleSchemaException.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestHoodieTableConfig.java|5 5
Added: hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java|70 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|84 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|11 18
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|33 0

Revision: 92ca426ab7ef54c8ce928f770783f4f83510d8ae
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 05/04/2022 23:58:13
Message:
[HUDI-2319] dbt example models to demonstrate hudi dbt integration (#5220) #MsgLength=155


----
Added: hudi-examples/hudi-examples-dbt/.gitignore|8 0
Added: hudi-examples/hudi-examples-dbt/README.md|118 0
Added: hudi-examples/hudi-examples-dbt/dbt_project.yml|49 0
Added: hudi-examples/hudi-examples-dbt/models/example/hudi_insert_overwrite_table.sql|37 0
Added: hudi-examples/hudi-examples-dbt/models/example/hudi_insert_table.sql|42 0
Added: hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_partitioned_cow_table.sql|40 0
Added: hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_partitioned_mor_table.sql|40 0
Added: hudi-examples/hudi-examples-dbt/models/example/hudi_upsert_table.sql|38 0
Added: hudi-examples/hudi-examples-dbt/models/example/schema.yml|104 0

Revision: 898be6174a62e8079cdc33648e73787829ee6963
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 06/04/2022 11:06:52
Message:
[HUDI-3782] Fixing table config when any of the index is disabled (#5222) #MsgLength=75


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|64 34
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|66 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|3 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|126 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|5 0

Revision: 8baeb816d553f202c7bd4b6564d6955be46d74b5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 06/04/2022 11:12:13
Message:
[HUDI-3723] Fixed stack overflows in Record Iterators (#5235) #MsgLength=63


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|16 4

Revision: e96f08f355ddf1437b3a62c8e0fb8a87f3a04e64
Author: Raymond Xu <xu.shiyan.raymond@gmail.com>
Date: 06/04/2022 15:24:10
Message:
Moving to 0.12.0-SNAPSHOT on master branch. #MsgLength=44


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/base_java11/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinocoordinator/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinoworker/pom.xml|1 1
Modified: hudi-aws/pom.xml|2 2
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/hudi-examples-common/pom.xml|1 1
Modified: hudi-examples/hudi-examples-flink/pom.xml|1 1
Modified: hudi-examples/hudi-examples-java/pom.xml|1 1
Modified: hudi-examples/hudi-examples-spark/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink-datasource/hudi-flink/pom.xml|2 2
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|2 2
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|2 2
Modified: hudi-flink-datasource/pom.xml|2 2
Modified: hudi-gcp/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-kafka-connect/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-datahub-sync/pom.xml|1 1
Modified: hudi-sync/hudi-dla-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-datahub-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-gcp-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-trino-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: 8683fb1d49b408a5012185104b13ae59c376a709
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 06/04/2022 15:56:53
Message:
[HUDI-3800] Fixed preserve commit metadata for compaction for untouched records (#5232) #MsgLength=89


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|10 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|2 2

Revision: 7612549bcccbed37072677b3efda631f4c0cbc14
Author: BruceLin <brucekellan@gmail.com>
Date: 06/04/2022 16:07:20
Message:
[MINOR] Fixing build failure when using flink-1.13 (#5214) #MsgLength=60


----

Revision: 9e87d164b3f39d795ef70a1f22ba57353d6e198f
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 07/04/2022 00:11:08
Message:
[HUDI-3760] Adding capability to fetch Metadata Records by prefix  (#5208) #MsgLength=852


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|90 28
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieConversionUtils.scala|8 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|152 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|5 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|43 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFormatReader.java|3 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|9 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieDataBlock.java|19 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|15 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieFileReader.java|27 15
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|426 286
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcReader.java|6 5
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetReader.java|9 10
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|232 97
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|40 57
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|13 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 4
Added: hudi-common/src/main/java/org/apache/hudi/util/LazyRef.java|64 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|94 19
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|6 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|5 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|9 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|0 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|12 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala|7 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala|9 7

Revision: ca273274b0b37c9c7025c5e2bf7befa871f8aa5a
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/04/2022 00:42:11
Message:
[HUDI-3340] Fix deploy_staging_jars for different profiles (#5240) #MsgLength=68


----
Modified: scripts/release/deploy_staging_jars.sh|43 25

Revision: 939b3d1b07f9c0a11050be0f45e0c5843bc5422e
Author: rkkalluri <rkalluri@gmail.com>
Date: 07/04/2022 01:35:32
Message:
[HUDI-3726] Switching from non-partitioned to partitioned key gen does not throw any exception (#5205) #MsgLength=104


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|26 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|138 8

Revision: b2f09a1feeb90e33ee2e6b65a9ee906cc3022a63
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/04/2022 03:14:23
Message:
[HUDI-3340] Fix deploy_staging_jars command (#5243) #MsgLength=53


----
Modified: scripts/release/deploy_staging_jars.sh|1 1

Revision: d43b4cd95e2d23aafcd3aef390b94bb255354e97
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 07/04/2022 03:17:36
Message:
[HUDI-3739] Fix handling of the `isNotNull` predicate in Data Skipping (#5224) #MsgLength=138


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|21 17
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|4 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|11 19
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/ColumnStatsIndexHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/column-stats-index-table.json|4 4
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/updated-column-stats-index-table.json|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|161 153
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|4 3

Revision: e33149be9a5b8718f3b97e335ae249db0cef4b2d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 07/04/2022 15:17:39
Message:
[HUDI-3808] Flink bulk_insert timestamp(3) can not be read by Spark (#5236) #MsgLength=77


----
Modified: hudi-client/hudi-flink-client/pom.xml|11 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|11 8
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/io/storage/row/parquet/TestParquetSchemaConverter.java|21 4
Modified: hudi-flink-datasource/hudi-flink/pom.xml|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|2 2
Modified: pom.xml|1 0

Revision: 531381faffe634e0976a756d4213f5ff0ebd54f4
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 07/04/2022 17:21:25
Message:
[HUDI-3096] fixed the bug that the cow table(contains decimalType) write by flink cannot be read by spark. (#4421) #MsgLength=116


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|13 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|6 1

Revision: 9d744bb35ce54d347c5ef50adeba3f2a8840d043
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 07/04/2022 18:02:34
Message:
[HUDI-3805] Delete existing corrupted requested rollback plan during rollback (#5245) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|30 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|106 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|4 0

Revision: 6a8396420c12bbac46b1cad46f1a5a88769959f6
Author:  <dongkelun01@inspur.com>
Date: 07/04/2022 19:21:03
Message:
[HUDI-3643] Fix hive count exception when the table is empty and the path depth is less than 3 (#5051) #MsgLength=104


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java|0 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieInputFormatUtils.java|15 3
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieHFileInputFormat.java|15 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|15 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|18 0

Revision: b3c834a2426197b69e9ce2120e8e404a99e4dd88
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/04/2022 02:13:46
Message:
[HUDI-3571] Spark datasource continuous ingestion tool (#5156) #MsgLength=64


----
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngestTool.java|167 0
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala|92 0

Revision: cd2c346df670b4b8b46066ae097edd8e95bcc6f4
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 08/04/2022 04:03:03
Message:
[HUDI-3637] Exclude uncommitted log files from metadata table validation (#5234) #MsgLength=82


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|137 19

Revision: ef06e4a5261008a7c64cc84a3cb62e106e121f93
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/04/2022 06:40:51
Message:
[HUDI-3810] Fixing lazy read for metadata log record readers (#5241) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataMergedLogRecordReader.java|1 1

Revision: 672974c4129135eac6e9d62dd23cc5d3e7a10863
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 08/04/2022 08:30:33
Message:
[HUDI-3823] Fix hudi-hive-sync-bundle to include HBase dependencies and shading (#5257) #MsgLength=89


----
Modified: packaging/hudi-hive-sync-bundle/pom.xml|116 1

Revision: df87095ef03b73b779bcddb65b7ac372686eade2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 08/04/2022 12:29:36
Message:
[HUDI-3454] Fix partition name in all code paths for LogRecordScanner (#5252) #MsgLength=272


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|5 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|18 3
Modified: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java|9 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|26 12
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|9 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|21 10

Revision: 7a6272fba150fa9d7acd0b57cc4041ec49019faf
Author: KnightChess <981159963@qq.com>
Date: 08/04/2022 14:26:40
Message:
[HUDI-3781] fix spark delete sql can not delete record (#5215) #MsgLength=64


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|47 0

Revision: 67215abaf0bff74b85ffc51b2e674a37b0a124c1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/04/2022 14:33:56
Message:
[HUDI-3827] Promote the inetAddress picking strategy for NetworkUtils#getHostname (#5260) #MsgLength=91


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/NetworkUtils.java|43 17

Revision: d7cc767dbc7687a03bf3701267e683a96d8dfab9
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 08/04/2022 18:28:31
Message:
[HUDI-3825] Fixing non-partitioned table Partition Records persistence in MT (#5259) #MsgLength=365


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|29 34
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|27 20

Revision: 26eb7b8183767c1275aaeaa4c7cd39aee0a10792
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date: 08/04/2022 19:16:01
Message:
[HUDI-3571] Spark datasource continuous checkpoint should have own fs variable (#5265) #MsgLength=88


----
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala|3 2

Revision: 1cc7542357af201c88b8e55ff2055c354ee38b88
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 09/04/2022 07:12:25
Message:
[MINOR] Update README of docker build setup (#5256) #MsgLength=53


----
Modified: docker/README.md|13 3

Revision: 81b25c543a5eabd6d0dfe460ad7f9776d8cf5573
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 09/04/2022 14:14:08
Message:
[HUDI-3825] Fixing Column Stats Index updating sequence (#5267) #MsgLength=65


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|7 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|14 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|6 8
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|9 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|2 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|6 22
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|12 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|8 25
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|61 42
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataRecordsGenerationParams.java|18 13
Renamed: hudi-common/src/main/java/org/apache/hudi/util/Lazy.java [from hudi-common/src/main/java/org/apache/hudi/util/LazyRef.java]|21 8
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|5 16
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala|1 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|0 1

Revision: 5e65aefc61e973a959c11f08c2aa9f19fefc09fc
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 10/04/2022 02:01:18
Message:
[HUDI-3837] Fix license and rat check settings (#5273) #MsgLength=165


----
Modified: .github/workflows/bot.yml|1 1
Modified: docker/README.md|1 1
Renamed: docker/images/push_to_docker_hub.png [from docker/push_to_docker_hub.png]|0 0
Modified: hudi-examples/hudi-examples-dbt/README.md|17 1
Modified: hudi-spark-datasource/hudi-spark2-common/pom.xml|17 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java|19 0
Modified: pom.xml|9 7
Modified: rfc/rfc-34/rfc-34.md|16 0
Modified: scripts/release/create_source_release.sh|1 0
Modified: scripts/release/deploy_staging_jars.sh|1 1
Modified: scripts/release/validate_staged_release.sh|7 7

Revision: 3e97c88c4ff9cbeb312805daf6d52da5f1bcb0bd
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 10/04/2022 03:30:11
Message:
[HUDI-3807] Add a new config to control the use of metadata index in HoodieBloomIndex (#5268) #MsgLength=95


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|13 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|6 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|9 2

Revision: 15c264535ffbe73eac4dee6f15e0d2e65a8d4c78
Author:  <dongkelun01@inspur.com>
Date: 10/04/2022 08:51:58
Message:
[MINOR] Fix typos in the comments of HoodieMergeHandle (#5271) #MsgLength=64


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 2

Revision: 7a9d48d126b1474f1bb7cfbe8b1c0b0391ef49d2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 11/04/2022 01:42:06
Message:
[HUDI-3834] Fixing performance hits in reading Column Stats Index (#5266) #MsgLength=785


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java|5 10
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|5 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java|5 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|16 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BaseFile.java|23 10
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|36 38
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|3 3
Renamed: hudi-common/src/main/java/org/apache/hudi/hadoop/CachingPath.java [from hudi-common/src/main/java/org/apache/hudi/hadoop/FileNameCachingPath.java]|41 3
Added: hudi-common/src/main/java/org/apache/hudi/hadoop/SerializablePath.java|69 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|40 12

Revision: 976840e8eb5fee9bfb2ed029e65aec5b7033faf2
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 11/04/2022 01:43:47
Message:
[HUDI-3812] Fixing Data Skipping configuration to respect Metadata Table configs (#5244) #MsgLength=465


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|32 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|51 30
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|36 31

Revision: 12731f5b891b41ecbbf6f79e5b33b6eb581771e8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/04/2022 08:09:48
Message:
[HUDI-3842] Integ tests for non partitioned datasets (#5276) #MsgLength=157


----
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|4 4
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|4 4
Modified: docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml|4 4
Modified: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|4 4
Renamed: docker/demo/config/test-suite/deltastreamer-non-partitioned.yaml [from docker/demo/config/test-suite/cow-spark-simple.yaml]|25 16
Modified: docker/demo/config/test-suite/insert-overwrite-table.yaml|1 1
Renamed: docker/demo/config/test-suite/spark-long-running-non-partitioned.yaml [from docker/demo/config/test-suite/cow-spark-long-running.yaml]|8 8
Added: docker/demo/config/test-suite/test-aggressive-clean-archival-inline-compact.properties|56 0
Modified: docker/demo/config/test-suite/test-aggressive-clean-archival.properties|4 4
Added: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival-inline-compact.properties|63 0
Modified: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties|4 4
Added: docker/demo/config/test-suite/test-clustering-inline-compact.properties|58 0
Added: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival-inline-compact.properties|64 0
Modified: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties|4 4
Modified: docker/demo/config/test-suite/test-clustering.properties|4 4
Added: docker/demo/config/test-suite/test-inline-compact.properties|53 0
Added: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival-inline-compact.properties|57 0
Modified: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties|4 4
Added: docker/demo/config/test-suite/test-metadata-inline-compact.properties|57 0
Modified: docker/demo/config/test-suite/test-metadata.properties|4 4
Added: docker/demo/config/test-suite/test-nonpartitioned-inline-compact.properties|60 0
Added: docker/demo/config/test-suite/test-nonpartitioned-metadata-inline-compact.properties|60 0
Added: docker/demo/config/test-suite/test-nonpartitioned-metadata.properties|59 0
Added: docker/demo/config/test-suite/test-nonpartitioned.properties|59 0
Modified: docker/demo/config/test-suite/test.properties|4 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateDatasetNode.java|3 2
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngest.scala|13 9

Revision: 63a099c5b73d47abbf99e757c860953c013e106f
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 11/04/2022 08:59:29
Message:
[HUDI-3847] Fix NPE due to null schema in HoodieMetadataTableValidator (#5284) #MsgLength=80


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|12 4

Revision: 2245a9515f1d048b3f0a832c5087c227fbab132e
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/04/2022 12:46:07
Message:
[HUDI-3798] Fixing ending of a transaction by different owner and removing some extraneous methods in trxn manager (#5255) #MsgLength=124


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|10 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java|7 20
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java|53 21

Revision: 5c41e30ac5c29629ab1f993aa20b692ae3565d92
Author: RexXiong <lvshuang.tb@gmail.com>
Date: 11/04/2022 20:44:46
Message:
[HUDI-3817] shade parquet dependency for hudi-hadoop-mr-bundle (#5250) #MsgLength=133


----
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|15 3

Revision: 52ea1e496496ddf3e8a55e0d0144251464d8cb1b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 11/04/2022 22:14:51
Message:
[MINOR] fixing timeline server for integ tests (#5289) #MsgLength=56


----
Modified: docker/demo/config/test-suite/test-aggressive-clean-archival-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-aggressive-clean-archival.properties|1 0
Modified: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-clustering-aggressive-clean-archival.properties|1 0
Modified: docker/demo/config/test-suite/test-clustering-inline-compact.properties|2 0
Modified: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-clustering-metadata-aggressive-clean-archival.properties|1 0
Modified: docker/demo/config/test-suite/test-clustering.properties|2 0
Modified: docker/demo/config/test-suite/test-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-metadata-aggressive-clean-archival.properties|1 0
Modified: docker/demo/config/test-suite/test-metadata-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-metadata.properties|1 0
Modified: docker/demo/config/test-suite/test-nonpartitioned-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-nonpartitioned-metadata-inline-compact.properties|1 0
Modified: docker/demo/config/test-suite/test-nonpartitioned-metadata.properties|1 0
Modified: docker/demo/config/test-suite/test-nonpartitioned.properties|1 0
Modified: docker/demo/config/test-suite/test.properties|1 0

Revision: 458fdd5611e4f246cc35a6e5436731eb5d526ab5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 12/04/2022 03:45:53
Message:
[HUDI-3841] Fixing Column Stats in the presence of Schema Evolution (#5275) #MsgLength=508


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|61 31
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/column-stats-index-table.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/column-stats-index-table.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/input-table-json/part-00000-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00000-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/input-table-json/part-00001-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00001-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/input-table-json/part-00002-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00002-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json]|0 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/input-table-json/part-00003-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/input-table-json/part-00003-4468afca-8a37-4ae8-a150-0c2fd3361080-c000.json]|0 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00001-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00002-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-another-input-table-json/part-00003-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|10 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/partial-column-stats-index-table.json|4 0
Renamed: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/updated-column-stats-index-table.json [from hudi-spark-datasource/hudi-spark/src/test/resources/index/zorder/updated-column-stats-index-table.json]|0 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/updated-partial-column-stats-index-table.json|8 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|158 10

Revision: 3d8fc78c6675cf2df79bd359276bc1ba3440befd
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 12/04/2022 06:16:06
Message:
[HUDI-3844] Update props in indexer based on table config (#5293) #MsgLength=67


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|18 13
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|18 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|81 6

Revision: f91e9e63e136ea558bc5c5fdfd97641dcbbc6813
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 12/04/2022 12:02:43
Message:
[HUDI-3799] Fixing not deleting empty instants w/o archiving (#5261) #MsgLength=70


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|12 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/MetadataConversionUtils.java|40 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|18 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|7 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|6 5

Revision: 101b82a6797bb3d1ffb3b4ff61cbfdf99916f029
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 12/04/2022 16:07:52
Message:
[HUDI-3839] Fixing incorrect selection of MT partitions to be updated (#5274) #MsgLength=267


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|28 0

Revision: d16740976e3aa89f2d934b0f1c48208dfe40bc5f
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 12/04/2022 20:40:30
Message:
[HUDI-3838] Implemented drop partition column feature for delta streamer code path (#5294) #MsgLength=299


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|11 0
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|30 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|29 2

Revision: 84783b9779b528ab85298a4630f62fe9c2299560
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 12/04/2022 23:33:48
Message:
[HUDI-3843] Make flink profiles build with scala-2.11 (#5279) #MsgLength=63


----
Modified: README.md|12 0
Modified: scripts/release/deploy_staging_jars.sh|4 0

Revision: 25dce94ba21750f5cc06212cd53aab4be804f0a7
Author: satishm <84978833+data-storyteller@users.noreply.github.com>
Date: 13/04/2022 00:15:17
Message:
[MINOR] Integ Test Reducing partitions for log running multi partition yaml (#5300) #MsgLength=85


----
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|6 6
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|6 6

Revision: 2d46d5287eceafee9b52c2ff5b245721114f5b99
Author: Vinoth Govindarajan <vinothg@uber.com>
Date: 13/04/2022 06:03:00
Message:
[HUDI-3838] Moved the getPartitionColumns logic to driver. (#5303) #MsgLength=68


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 1

Revision: 2e6e302efec2fa848ded4f88a95540ad2adb7798
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 13/04/2022 06:33:08
Message:
[HUDI-3859] Fix spark profiles and utilities-slim dep (#5297) #MsgLength=63


----
Modified: .github/workflows/bot.yml|5 32
Modified: README.md|17 16
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|0 8
Modified: pom.xml|4 2

Revision: 7b78dff45f646597d442e3a2b950c5917eea92f6
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 13/04/2022 08:42:15
Message:
[HUDI-3855] Fixing `FILENAME_METADATA_FIELD` not being correctly updated in `HoodieMergeHandle` (#5296) #MsgLength=492


----
Modified: docker/compose/docker-compose_hadoop284_hive233_spark244.yml|28 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieConcatHandle.java|3 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|14 14
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java|4 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|13 14
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java|20 19
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|7 8
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|3 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieMergeHandle.java|22 4

Revision: 434e782b7d0d631e2106375ffa46332b67fcac1d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 13/04/2022 13:51:12
Message:
[HUDI-3867] Disable Data Skipping by default (#5306) #MsgLength=54


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 1

Revision: 43de2b470288aa3914ba712b7d2a1a806e317e53
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/04/2022 14:21:08
Message:
[HUDI-3868] Disable the sort input for flink streaming append mode (#5309) #MsgLength=76


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|11 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 1

Revision: 0281725c6bc3d5bc0c2a94a53a819fe6949976ba
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/04/2022 19:24:39
Message:
[MINOR] Inline the partition path logic into the builder (#5310) #MsgLength=66


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|0 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|0 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|7 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|3 18
Modified: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestQuickstartData.java|3 9
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|12 26
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|3 9
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeCompactedRecordReader.java|10 21

Revision: 6f9b02decb5bb2b83709b1b6ec04a97e4d102c11
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 13/04/2022 20:05:48
Message:
[HUDI-3870] Add timeout rollback for flink online compaction (#5314) #MsgLength=70


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|10 3

Revision: c7f41f9018e62354cb1df335a5a8c6fd07aa261a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/04/2022 05:25:31
Message:
[HUDI-3869] Improve error handling of loading Hudi conf (#5311) #MsgLength=65


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|10 2

Revision: bab691692e31ae3e432bb6cf4c90436fba408a2c
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/04/2022 05:33:26
Message:
[HUDI-3686] Fix inline and async table service check in HoodieWriteConfig (#5307) #MsgLength=83


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|6 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|36 38

Revision: 571cbe4c119012d53a919e556d6419ce7894bf16
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/04/2022 05:37:07
Message:
[MINOR] Code cleanup in test utils (#5312) #MsgLength=44


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|13 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|2 1

Revision: a081c2b9b54dcf5720230a2c7e0229c765208e24
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 14/04/2022 12:03:05
Message:
[HUDI-3876] Fixing fetching partitions in GlueSyncClient (#5318) #MsgLength=66


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|13 7

Revision: 44b3630b5dc5748ea27e65614cb37e9fd9e3f07b
Author: ForwardXu <forwardxu315@gmail.com>
Date: 14/04/2022 15:53:05
Message:
[HUDI-3826] Make truncate partition use delete_partition operation (#5272) #MsgLength=240


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|3 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableDropPartitionCommand.scala|8 19
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/TruncateHoodieTableCommand.scala|47 78
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|27 12

Revision: 6621f3cdbba1d913a4bc7f534c4837d010f45fd9
Author: ForwardXu <forwardxu315@gmail.com>
Date: 14/04/2022 16:49:00
Message:
[HUDI-3845] Fix delete mor table's partition with urlencode's error (#5282) #MsgLength=77


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|47 0

Revision: f0ab4a6e9ef433ac943d2409051418f7f80a6902
Author: sekaiga <zhoujianhui818@163.com>
Date: 14/04/2022 18:08:14
Message:
[HUDI-3652] Make ObjectSizeCalculator threadlocal to reduce memory footprint (#5060) #MsgLength=139


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|3 1

Revision: d6a64f765ee150e9d415efc55b6b4cc5c8e770ec
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/04/2022 03:28:27
Message:
Revert "[HUDI-3652] Make ObjectSizeCalculator threadlocal to reduce memory footprint (#5060)" (#5323) #MsgLength=164


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ObjectSizeCalculator.java|1 3

Revision: 9e8664f4d2503940881ee97280e2b9bb61dc2b9e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 15/04/2022 03:35:20
Message:
[HOTFIX] add missing license (#5322) (#5324) #MsgLength=46


----
Modified: hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.source_schema_tab.sql|17 1
Modified: hudi-utilities/src/test/resources/delta-streamer-config/schema_registry.target_schema_tab.sql|17 1

Revision: 57612c5c323a2caab5e9c25d2b6617b0105d38e8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 16/04/2022 02:47:53
Message:
[HUDI-3848] Fixing restore with cleaned up commits (#5288) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|9 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|88 0

Revision: e8ab915aff8afc831e06f6d358ad649e91d486c2
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 16/04/2022 02:50:07
Message:
[MINOR] Removing invalid code to close parquet reader iterator (#5182) #MsgLength=72


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|1 7

Revision: 99dd1cb6e63600681aa11b3a03bc16d1401d8055
Author:  <dongkelun01@inspur.com>
Date: 16/04/2022 03:03:48
Message:
[HUDI-3835] Add UT for delete in java client (#5270) #MsgLength=54


----
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|85 1

Revision: b8e465fdfcac1961fe05ed44993c8c6139e13b31
Author:  <dongkelun01@inspur.com>
Date: 16/04/2022 04:33:37
Message:
[MINOR] Fix typos in log4j-surefire.properties (#5212) #MsgLength=56


----
Modified: hudi-client/hudi-client-common/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-client/hudi-flink-client/src/main/resources/log4j-surefire.properties|2 2
Modified: hudi-client/hudi-flink-client/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-client/hudi-java-client/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-client/hudi-spark-client/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-common/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-hadoop-mr/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-integ-test/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-kafka-connect/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-timeline-service/src/test/resources/log4j-surefire.properties|2 2
Modified: hudi-utilities/src/test/resources/log4j-surefire.properties|2 2

Revision: 05dfc39c296c74e2a667cb92e7ef7798f9ea1cd7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 18/04/2022 20:08:33
Message:
Fixing async clustering job test in TestHoodieDeltaStreamer (#5317) #MsgLength=69


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|16 9

Revision: b00d03fd62795f739076423994841bf8cc1151d4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 18/04/2022 22:37:03
Message:
[HUDI-3886] Adding default null for some of the fields in col stats in MDT schema (#5329) #MsgLength=91


----
Modified: hudi-common/src/main/avro/HoodieMetadata.avsc|10 5

Revision: 1718bcab847962ce65237ebddd90034bd065d4da
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 19/04/2022 01:34:04
Message:
[HUDI-3707] Fix target schema handling in HoodieSparkUtils while creating RDD (#5347) #MsgLength=87


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|13 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|0 5

Revision: 7ecb47cd21a2c387e46d600aea628f0ded27e302
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 19/04/2022 04:06:52
Message:
[HUDI-3895] Fixing file-partitioning seq for base-file only views to make sure we bucket the files efficiently (#5337) #MsgLength=120


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|15 12

Revision: ef6c5611dc66755dc8a1fac0986d638e7d3e7dd8
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/04/2022 07:20:50
Message:
[HUDI-3894] Fix datahub to include HBase dependencies and shading (#5338) #MsgLength=145


----
Modified: packaging/hudi-datahub-sync-bundle/pom.xml|118 0

Revision: 52d878c52bdc2c65fd154aa731d70b311a0db8a1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/04/2022 09:17:53
Message:
[HUDI-3903] Fix NoClassDefFoundError with Kafka Connect bundle (#5353) #MsgLength=72


----
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 1

Revision: 4f44e6aeb5adbcb45861f2c2f8011a6bf616b69c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 19/04/2022 10:28:46
Message:
[HUDI-3899] Drop index to delete pending index instants from timeline if applicable (#5342) #MsgLength=141


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|34 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|165 11
Added: hudi-utilities/src/test/resources/delta-streamer-config/indexer-only-bloom.properties|25 0

Revision: 9af7b09aecc5e3e7bee8cda129d139fecc550887
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 19/04/2022 12:47:10
Message:
[HUDI-3894] Fix gcp bundle to include HBase dependencies and shading (#5349) #MsgLength=78


----
Modified: packaging/hudi-gcp-bundle/pom.xml|117 0

Revision: 81bf771e56cb091a4f0f98746b93d146866729ef
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 20/04/2022 01:40:20
Message:
[HUDI-3902] Fallback to `HadoopFsRelation` in cases non-involving Schema Evolution (#5352) #MsgLength=166


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|48 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|33 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|10 5
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/SparkDatasetMixin.scala|43 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|9 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|5 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|6 3

Revision: 6f3fe880d2008b760bf96e30612cc5ea9a8c2d95
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 20/04/2022 06:08:28
Message:
[HUDI-3905] Add S3 related setup in Kafka Connect quick start (#5356) #MsgLength=71


----
Modified: hudi-kafka-connect/README.md|17 4

Revision: 28fdddfee093bee38c99ab07545df71ade00d383
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 20/04/2022 07:40:09
Message:
[HUDI-3920] Fix partition path construction in metadata table validator (#5365) #MsgLength=81


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|4 3

Revision: 7a9e411e9d7c687efa1309c53ac2615e37c29cf9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/04/2022 12:48:24
Message:
[HUDI-3917] Flink write task hangs if last checkpoint has no data input (#5360) #MsgLength=81


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|31 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|8 1

Revision: 6a3ce928b16d4060b5af94f4c92802da9510406b
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date: 20/04/2022 14:31:21
Message:
[HUDI-3904] Claim RFC number for Improve timeline server (#5354) #MsgLength=66


----
Modified: rfc/README.md|1 0

Revision: 408663c42b93dfffd55547e6e0262d3ef0388c78
Author:  <408317717@qq.com>
Date: 20/04/2022 19:23:39
Message:
[HUDI-3912] Fix lose data when rollback in flink async compact (#5357) #MsgLength=163


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|12 5

Revision: f7544e23ac6899b2d8b28a01c79caad1facd1379
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 20/04/2022 19:30:27
Message:
[HUDI-3204] Fixing partition-values being derived from partition-path instead of source columns (#5364) #MsgLength=553


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala|19 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|2 2
Added: hudi-common/src/main/java/org/apache/hudi/avro/AvroSchemaUtils.java|112 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|7 73
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodiePartitionMetadata.java|2 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|8 9
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java|2 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|20 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|29 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|124 84
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|13 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|3 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|5 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|5 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|3 0
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/HoodieParquetFileFormat.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/SparkHoodieParquetFileFormat.scala]|18 12
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|19 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|0 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|3 3
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark24HoodieParquetFileFormat.scala|229 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|7 15
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieParquetFileFormat.scala|275 232
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|3 10
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala|253 196

Revision: a9506aa545b724547401ff1060efc75d5ba3ded1
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/04/2022 16:08:43
Message:
[HUDI-3938] Fix default value for num retries to acquire lock (#5380) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|1 1

Revision: 4b296f79ccfbb3cbd4465c6f02912024fb6b68b4
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 21/04/2022 16:36:19
Message:
[HUDI-3935] Adding config to fallback to enabled Partition Values extraction from Partition path (#5377) #MsgLength=106


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|9 17
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|11 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|35 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|35 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|0 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/HoodieParquetFileFormat.scala|6 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|31 8
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|2 2

Revision: 4e1ac467da0047b04fd6ad02f194c523e2e49f3e
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/04/2022 19:35:44
Message:
[MINOR] Increase azure CI timeout to 120m (#5384) #MsgLength=51


----
Modified: azure-pipelines.yml|5 5

Revision: de5fa1fe03a9f2805316069cf9523c0e3be83dfc
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 22/04/2022 04:52:05
Message:
[HUDI-3940] Fix retry count increment in lock manager (#5387) #MsgLength=63


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|2 1

Revision: 037f89ee7c823b2b45befd9706fadfae6e21e5c1
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 22/04/2022 06:27:54
Message:
[HUDI-3921] Fixed schema evolution cannot work with HUDI-3855 (#5376) #MsgLength=233


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|10 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java|11 3
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|61 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java|24 2
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java|16 0
Modified: hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala|11 20

Revision: c4bc2deea0b856107cd8a4293b7577a5a3ea1358
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 22/04/2022 08:17:57
Message:
[HUDI-3936] Fix projection for a nested field as pre-combined key (#5379) #MsgLength=475


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|22 10
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|7 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|3 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|12 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSourceStorage.scala|18 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|2 2

Revision: c05a4e7b6fd5ea4b4c161b7698173f991dd8ed21
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 22/04/2022 09:00:38
Message:
[HUDI-3934] Fix `Spark32HoodieParquetFileFormat` not being compatible w/ Spark 3.2.0 (#5378) #MsgLength=332


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|5 3
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|2 2
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark31HoodieParquetFileFormat.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieParquetFileFormat.scala]|17 14
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala|77 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala|128 29

Revision: 20781a5fa6cfcb0069855e57a1974db435de37c9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 22/04/2022 16:51:07
Message:
[DOCS] Add commit activity, twitter badgers, and Hudi logo in README (#5336) #MsgLength=78


----
Modified: README.md|9 3

Revision: 7523542c1daff5569ed1cb16fb78ffd1b22f4186
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 23/04/2022 10:20:05
Message:
[HUDI-3947] Fixing Hive conf usage in HoodieSparkSqlWriter (#5401) #MsgLength=68


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 5

Revision: 505ee672ac0af0d491725763ca5ab8ab403141ab
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 23/04/2022 11:59:49
Message:
[HUDI-3950] add parquet-avro to gcp-bundle (#5399) #MsgLength=52


----
Modified: packaging/hudi-gcp-bundle/pom.xml|1 0

Revision: 8633bd6e065291956ef9c521cfb830a2552784c2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/04/2022 16:33:55
Message:
[HUDI-3948] Fix presto bundle missing HBase classes (#5398) #MsgLength=61


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|6 1
Modified: packaging/hudi-trino-bundle/pom.xml|0 1

Revision: 5e5c177e4b95d73e95cb89e9c03665a9a69a631a
Author: miomiocat <284487410@qq.com>
Date: 23/04/2022 20:12:54
Message:
[HUDI-3923] Fix cast exception while reading boolean type of partitioned field (#5373) #MsgLength=88


----
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala|2 1

Revision: bda3db078e927421c10932cfcb3019cfddb125b6
Author: hehuiyuan <471627698@qq.com>
Date: 24/04/2022 19:09:39
Message:
support generan parameter 'sink.parallelism' for flink-hudi (#5405) #MsgLength=114


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|3 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 1

Revision: d994c58cc020e645e3cc4f71511e5bb5ff8dc3c3
Author: Ruguo Yu <jiang7chengzitc@163.com>
Date: 25/04/2022 10:13:47
Message:
[HUDI-3946] Validate option path in flink hudi sink (#5397) #MsgLength=61


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|5 0

Revision: 9054b85961f6822125c6a45729869d9285247ab4
Author: ForwardXu <forwardxu315@gmail.com>
Date: 25/04/2022 12:58:27
Message:
Revert "[HUDI-3951]support generan parameter 'sink.parallelism' for flink-hudi (#5405)" (#5421) #MsgLength=158


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 2

Revision: f2ba0fead24072e37c68477d0cfc3489fa098938
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 25/04/2022 18:42:17
Message:
[HUDI-3085] Improve bulk insert partitioner abstraction (#4441) #MsgLength=65


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java|27 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|6 5
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaBulkInsertHelper.java|8 9
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertMapFunction.java|6 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java|5 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|8 16

Revision: 762623a15cfeba6f3fe936c238d660685ae62b50
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 26/04/2022 11:03:10
Message:
[HUDI-3972] Fixing hoodie.properties/tableConfig for no preCombine field with writes (#5424) #MsgLength=192


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|20 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|22 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|82 65

Revision: 77e333298d0323a374e735f59beb2aaf0d89e99e
Author: Yann Byron <biyan900116@gmail.com>
Date: 26/04/2022 23:26:47
Message:
[HUDI-3478] Claim RFC 51 For CDC (#5437) #MsgLength=42


----
Modified: rfc/README.md|1 0

Revision: 6ec039ba4202bcb881044189f52210430a7d33b8
Author: KnightChess <981159963@qq.com>
Date: 27/04/2022 10:39:51
Message:
[MINOR] Update alter rename command class type for pattern matching (#5381) #MsgLength=77


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|1 1

Revision: e1ccf2e00b1aefbed64b8071c6bc54bd64610daa
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 27/04/2022 13:19:55
Message:
[HUDI-3977] Flink hudi table with date type partition path throws HoodieNotSupportedException (#5432) #MsgLength=103


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|15 5
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|38 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|31 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|0 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|19 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestSQL.java|10 0

Revision: 924e2e96a63eb5c1b24496ec302e91b6f7a65953
Author: huberylee <shibei.lh@foxmail.com>
Date: 27/04/2022 14:07:29
Message:
Claim RFC 52 for Introduce Secondary Index to Improve HUDI Query Performance (#5441) #MsgLength=86


----
Modified: rfc/README.md|1 0

Revision: cacbd9868733d2e990b7859a6f2c443ee4900997
Author: watermelon12138 <49849410+watermelon12138@users.noreply.github.com>
Date: 27/04/2022 21:16:09
Message:
[HUDI-3945] After the async compaction operation is complete, the task should exit. (#5391) #MsgLength=142


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieCompactor.java|3 1

Revision: 52953c8f5e8d9d62a6913649235891be8960d50f
Author: Ibson <pushengli@163.com>
Date: 28/04/2022 07:09:44
Message:
[HUDI-3815] Fix docs description of metadata.compaction.delta_commits default value error (#5368) #MsgLength=156


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1

Revision: 4e928a6fe1ddd7e126ab155bb1c03f8630bb873d
Author: LiChuang <64473732+CodeCooker17@users.noreply.github.com>
Date: 29/04/2022 06:18:56
Message:
[HUDI-3943] Some description fixes for 0.10.1 docs (#5447) #MsgLength=60


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieMemoryConfig.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|8 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2

Revision: b27e8b51d80efe556d8166fe37ac82ffc8572893
Author: Gary Li <yanjia.gary.li@gmail.com>
Date: 29/04/2022 09:48:44
Message:
[MINOR] support different cleaning policy for flink (#5459) #MsgLength=61


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|14 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|12 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 1

Revision: e421d536eae236d0b2e29d9a4f59ed65822fd883
Author:  <408317717@qq.com>
Date: 29/04/2022 14:10:20
Message:
[HUDI-3758] Fix duplicate fileId error in MOR table type with flink bucket hash Index  (#5185) #MsgLength=185


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java|3 9

Revision: a1d82b4dc5050b67668e5de5aacf62cdcbd4cb2b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 30/04/2022 02:19:07
Message:
[MINOR] Fix CI by ignoring SparkContext error (#5468) #MsgLength=145


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 0

Revision: f492c52ee4d2f3d6dfbbf574833f837322166fbd
Author: xicm <36392121+xicm@users.noreply.github.com>
Date: 30/04/2022 07:21:52
Message:
[HUDI-3862] Fix default configurations of HoodieHBaseIndexConfig (#5308) #MsgLength=114


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|2 0

Revision: 33ff4752baa80a0092d1fbb3692974b7fa6a7781
Author: Wangyh <763941163@qq.com>
Date: 30/04/2022 11:58:54
Message:
[HUDI-3978] Fix use of partition path field as hive partition field in flink (#5434) #MsgLength=149


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|4 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|13 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java|62 0

Revision: 6af1ff7a663da57438db8847ca0dfda5a6e381f5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 01/05/2022 01:51:16
Message:
[MINOR] Update DOAP for release 0.11.0 (#5467) #MsgLength=48


----
Modified: doap_HUDI.rdf|5 0

Revision: 9732ba12dac5a79fae7c74cbf61cdb2f2db908c3
Author: Todd Gao <todd.gao.2013@gmail.com>
Date: 03/05/2022 00:35:23
Message:
[HUDI-3211][RFC-44] Add RFC for Hudi Connector for Presto (#4563) #MsgLength=231


----
Added: rfc/rfc-44/presto-connector.png|0 0
Added: rfc/rfc-44/rfc-44.md|158 0

Revision: 3343cbb47b75b9d65a73a7a98ed9dae0b5ec58a9
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 03/05/2022 23:57:18
Message:
[MINOR] Update RFC status (#5486) #MsgLength=35


----
Modified: rfc/README.md|3 3

Revision: 8c9209db28c10f211272bf0a18bdcb5b18f5440f
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 04/05/2022 22:15:54
Message:
[HUDI-4005] Update release scripts to help validation (#5479) #MsgLength=63


----
Modified: scripts/release/deploy_staging_jars.sh|1 1
Added: scripts/release/validate_staged_bundles.sh|66 0
Modified: scripts/release/validate_staged_release.sh|10 3

Revision: 1562bb658f8f29f57763eaa6f9bd5a2ed7e80a7c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 04/05/2022 22:17:11
Message:
[HUDI-4031] Avoid clustering update handling when no pending replacecommit (#5487) #MsgLength=84


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|4 4

Revision: f66e83dc6521a57a52385d61d7905fd34ff0e2f2
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 05/05/2022 14:39:18
Message:
[HUDI-3667] Run unit tests of hudi-integ-tests in CI (#5078) #MsgLength=62


----
Modified: azure-pipelines.yml|18 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|4 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|27 13
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|17 10
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/converter/TestDeleteConverter.java|1 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/dag/TestDagUtils.java|9 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/generator/TestGenericRecordPayloadEstimator.java|6 5
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|3 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|12 7

Revision: d794f4fbf9d8ce4c90507e4de36121ac1fc2fd4b
Author: qianchutao <72595723+qianchutao@users.noreply.github.com>
Date: 06/05/2022 00:33:06
Message:
[MINOR] Optimize code logic (#5499) #MsgLength=37


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 2

Revision: abb4893b25df47328d01890f0d01fbc4e5d99135
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date: 06/05/2022 04:49:34
Message:
[HUDI-2875] Make HoodieParquetWriter Thread safe and memory executor exit gracefully (#4264) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieConcatHandle.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieUnboundedCreateHandle.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java|10 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java|4 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|1 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|4 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/JavaLazyInsertIterable.java|1 0
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaMergeHelper.java|4 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/SparkLazyInsertIterable.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/OrcBootstrapMetadataHandler.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/ParquetBootstrapMetadataHandler.java|5 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/TestBoundedInMemoryExecutorInSpark.java|45 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java|23 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|6 4

Revision: 248b0591b031ef5d017bc4f710b9b0496e751c39
Author: Jin Xing <jinxing.corey@gmail.com>
Date: 06/05/2022 15:29:47
Message:
[HUDI-4042] Support truncate-partition for Spark-3.2 (#5506) #MsgLength=62


----
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|12 11

Revision: c319ee9cea78544406e30dd36cc603fd0a0283db
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/05/2022 20:52:06
Message:
[HUDI-4017] Improve spark sql coverage in CI (#5512) #MsgLength=124


----
Modified: .github/workflows/bot.yml|8 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestSqlStatement.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/execution/benchmark/SpaceCurveOptimizeBenchmark.scala|2 2
Renamed: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala [from hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieSqlBase.scala]|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCompactionTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala|3 17
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoLogOnlyTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestPartialUpdateForMergeInto.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTruncateTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala|2 2

Revision: 52fe1c9faeb83fe51b520e18d0c37b67ad3fcfe4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 06/05/2022 21:27:29
Message:
[HUDI-3675] Adding post write termination strategy to deltastreamer continuous mode (#5073) #MsgLength=529


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|16 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/NoNewDataTerminationStrategy.java|56 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/PostWriteTerminationStrategy.java|39 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/TerminationStrategyUtils.java|45 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|45 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestDataSource.java|8 1

Revision: 9625d16937954a54420384b41f964e48cba8cc2f
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 07/05/2022 15:39:14
Message:
[HUDI-3849] AvroDeserializer supports AVRO_REBASE_MODE_IN_READ configuration (#5287) #MsgLength=86


----
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala|3 2

Revision: 80f99893a06b984da7332d7db05d6ac309810da0
Author: BruceLin <brucekellan@gmail.com>
Date: 07/05/2022 20:03:18
Message:
[MINOR] Fixing class not found when using flink and enable metadata table (#5527) #MsgLength=83


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 0

Revision: 569a76a9a5389efb74ec88b81c616f8ead58df5c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 08/05/2022 03:37:20
Message:
[MINOR] fixing flaky tests in deltastreamer tests (#5521) #MsgLength=59


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|2 0

Revision: 75eaa0bffe86306c5df7a52c42ee41b7c7dc24c1
Author: guanziyue <30882822+guanziyue@users.noreply.github.com>
Date: 09/05/2022 10:27:37
Message:
[HUDI-4055]refactor ratelimiter to avoid stack overflow (#5530) #MsgLength=65


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RateLimiter.java|10 7

Revision: 4c708402758545c5097579d1a92e8d710ef1f61d
Author: ForwardXu <forwardxu315@gmail.com>
Date: 09/05/2022 15:17:24
Message:
[MINOR] Fixing close for HoodieCatalog's test (#5531) #MsgLength=102


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalog.java|8 0

Revision: 6b47ef6ed223e10a05b91acc3331cff2fa069d87
Author: xicm <36392121+xicm@users.noreply.github.com>
Date: 09/05/2022 16:35:50
Message:
[HUDI-4053] Flaky ITTestHoodieDataSource.testStreamWriteBatchReadOpti (#5526) #MsgLength=200


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|9 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|12 0

Revision: 6285a239a35c5808ba2eea00193a51564c716ab6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 10/05/2022 00:40:22
Message:
[HUDI-3995] Making perf optimizations for bulk insert row writer path (#5462) #MsgLength=349


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|7 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|29 74
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|32 25
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|8 8
Modified: hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala|12 12
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|8 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|47 24
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|2 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|45 8
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteRecordGenerator.java|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|2 2

Revision: 6fd21d0f1043d0a06b93332d86e63d7b708fcbe8
Author: aliceyyan <104287562+aliceyyan@users.noreply.github.com>
Date: 10/05/2022 10:25:13
Message:
[HUDI-4044] When reading data from flink-hudi to external storage, the  (#5516) #MsgLength=133


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputSplit.java|12 1

Revision: 4258a715174e0a97271112148ab20ef9307e2bd8
Author: Lanyuanxiaoyao <lanyuanxiaoyao@gmail.com>
Date: 11/05/2022 06:45:53
Message:
[HUDI-4003] Try to read all the log file to parse schema (#5473) #MsgLength=66


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|19 9

Revision: 4a8589f22254851b55dfce06bd91db57659df8c9
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 11/05/2022 20:08:31
Message:
[HUDI-4038] Avoid calling `getDataSize` after every record written (#5497) #MsgLength=335


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|2 3
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetWriter.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java]|14 47
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetWriter.java|87 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriter.java|3 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieOrcWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|4 5
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|3 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java|4 29
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/TestHoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|3 2

Revision: 7f0c1f3ddfe5e80453b0e34f7938824106a7e25e
Author: Jin Xing <jinxing.corey@gmail.com>
Date: 11/05/2022 22:28:58
Message:
[HUDI-4079] Supports showing table comment for hudi with spark3 (#5546) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|23 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|15 13

Revision: b10ca7e69f43cf2f14b09d0a610102ab058b1511
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 12/05/2022 04:02:54
Message:
[HUDI-4085] Fixing flakiness with parquet empty batch tests in TestHoodieDeltaStreamer (#5559) #MsgLength=96


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|17 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestParquetDFSSourceEmptyBatch.java|12 2

Revision: ecd47e7aae39455262470410ab73c13c0287ad36
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 12/05/2022 19:26:00
Message:
[HUDI-3963][Claim RFC number 53] Use Lock-Free Message Queue Improving Hoodie Writing Efficiency. (#5562) #MsgLength=157


----
Modified: rfc/README.md|2 0

Revision: 0cec955fa26b2370a0ada56e6909a39cdd445047
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 13/05/2022 09:01:55
Message:
[HUDI-4018][HUDI-4027] Adding integ test yamls for immutable use-cases. Added delete partition support to integ tests (#5501) #MsgLength=566


----
Added: docker/demo/config/test-suite/deltastreamer-immutable-dataset.yaml|53 0
Added: docker/demo/config/test-suite/deltastreamer-pure-bulk-inserts.yaml|38 0
Added: docker/demo/config/test-suite/deltastreamer-pure-inserts.yaml|38 0
Modified: docker/demo/config/test-suite/insert-overwrite.yaml|1 2
Modified: docker/demo/config/test-suite/multi-writer-1-ds.yaml|1 1
Added: docker/demo/config/test-suite/multi-writer-1-sds.yaml|52 0
Modified: docker/demo/config/test-suite/multi-writer-2-sds.yaml|2 2
Added: docker/demo/config/test-suite/multi-writer-3-sds.yaml|52 0
Added: docker/demo/config/test-suite/multi-writer-4-sds.yaml|52 0
Added: docker/demo/config/test-suite/multi-writer-local-3.properties|57 0
Added: docker/demo/config/test-suite/multi-writer-local-4.properties|57 0
Added: docker/demo/config/test-suite/spark-delete-partition.yaml|57 0
Added: docker/demo/config/test-suite/spark-immutable-dataset.yaml|53 0
Added: docker/demo/config/test-suite/spark-non-core-operations.yaml|204 0
Added: docker/demo/config/test-suite/spark-pure-bulk-inserts.yaml|38 0
Added: docker/demo/config/test-suite/spark-pure-inserts.yaml|38 0
Modified: hudi-integ-test/README.md|72 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieMultiWriterTestSuiteJob.java|12 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|6 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|1 1
Modified: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkBulkInsertNode.scala|4 35
Added: hudi-integ-test/src/main/scala/org/apache/hudi/integ/testsuite/dag/nodes/SparkDeletePartitionNode.scala|70 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|0 1

Revision: 701f8c039d1cd0104cff4d04f60b159c9e38d84e
Author: Bo Cui <cuibo0108@163.com>
Date: 13/05/2022 09:50:11
Message:
[HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink (#5528) #MsgLength=134


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 14
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java|48 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/schema/FilebasedSchemaProvider.java|4 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/BulkInsertWriteFunction.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java|7 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketAssignFunction.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|3 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalog.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|0 12
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkTables.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|7 18
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|7 4
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|3 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/meta/TestCkpMetadata.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/partitioner/TestBucketAssigner.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|6 5
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java|6 4

Revision: 8ad0bb97453ee2d625cf2b41374d781d186aef5d
Author: Xingcan Cui <xcui@wealthsimple.com>
Date: 13/05/2022 12:20:40
Message:
[MINOR] Fix a NPE for Option (#5461) #MsgLength=38


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|1 1

Revision: 7fb436d3cf66748f32776cf3db2d943f97b52160
Author: Bo Cui <cuibo0108@163.com>
Date: 13/05/2022 14:32:48
Message:
[HUDI-4078][HUDI-FLINK]BootstrapOperator contains the pending compact (#5545) #MsgLength=160


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Functions.java|4 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|5 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|23 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|6 4

Revision: a704e3740c7b45fa080ff5e57ff14d32530300a1
Author: Bo Cui <cuibo0108@163.com>
Date: 13/05/2022 19:52:55
Message:
[HUDI-3336][HUDI-FLINK]Support custom hadoop config for flink (#5574) #MsgLength=134


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|1 1

Revision: 5c4813f1011baaa00856f88c69873923baafdba4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 13/05/2022 20:26:47
Message:
[HUDI-4072] Fix NULL schema for empty batches in deltastreamer (#5543) #MsgLength=72


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|22 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/InputBatch.java|2 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|28 11

Revision: 52e63b39d6189beb3b381944ed553bb0052b12c9
Author: wqwl611 <67826098+wqwl611@users.noreply.github.com>
Date: 14/05/2022 09:01:15
Message:
[HUDI-4097] add table info to jobStatus (#5529) #MsgLength=94


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/WriteMarkers.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaUpsertPartitioner.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|4 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/UpsertPartitioner.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HDFSParquetImporter.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotCopier.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieSnapshotExporter.java|1 1

Revision: 6e16e719cd614329018cd34a7c57d342fe2fa376
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date: 14/05/2022 19:37:31
Message:
[HUDI-3980] Suport kerberos hbase index (#5464) #MsgLength=182


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|52 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|20 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|24 3

Revision: 75f847691f0bdaf226d4713a8cb8c7639cffd5e5
Author:  <dongkelun01@inspur.com>
Date: 16/05/2022 09:50:29
Message:
[HUDI-4001] Filter the properties should not be used when create table for Spark SQL (#5495) #MsgLength=94


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|3 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|1 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|4 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|18 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|101 2

Revision: 1fded18dff5bae064479d52b4e44f9fcf5bbb1b7
Author:  <bettermouse94@gmail.com>
Date: 16/05/2022 09:51:24
Message:
fix hive sync no partition table error (#5585) #MsgLength=48


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|3 1

Revision: 61030d8e7a5a05e215efed672267ac163b0cbcf6
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 16/05/2022 11:07:01
Message:
[HUDI-3123] consistent hashing index: basic write path (upsert/insert) (#4480) #MsgLength=161


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/utils/LazyIterableIterator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|36 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|32 17
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIndexLocationMapper.java|35 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/ConsistentBucketIdentifier.java|104 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java|43 76
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieSimpleBucketIndex.java|99 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/WriteHandleFactory.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieConsistentBucketLayout.java|68 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieDefaultLayout.java|5 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieLayoutFactory.java|8 1
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieSimpleBucketLayout.java [from hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieBucketLayout.java]|16 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieStorageLayout.java|1 1
Renamed: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java]|63 8
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestConsistentBucketIdIdentifier.java|79 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|5 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/SparkHoodieIndexFactory.java|13 3
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bucket/HoodieSparkConsistentBucketIndex.java|210 0
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestConsistentBucketIndex.java|250 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|11 3
Renamed: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieSimpleBucketIndex.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieBucketIndex.java]|11 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|4 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|4 0
Added: hudi-common/src/main/java/org/apache/hudi/common/model/ConsistentHashingNode.java|78 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|7 16
Added: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieConsistentHashingMetadata.java|142 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieReplaceCommitMetadata.java|4 13
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRollingStatMetadata.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|8 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/JsonUtils.java|38 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/hash/HashID.java|9 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieConsistentHashingMetadata.java|31 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieCommonTestHarness.java|4 0

Revision: 43e08193ef712c19bf986c65a184991c6de960b6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/05/2022 17:40:08
Message:
[HUDI-4098] Metadata table heartbeat for instant has expired, last heartbeat 0 (#5583) #MsgLength=88


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|5 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|45 0

Revision: a7a42e4490cc8a96b12b8ebbecb4b90d8e8ecbdb
Author:  <dongkelun01@inspur.com>
Date: 16/05/2022 23:26:23
Message:
[HUDI-4103] [HUDI-4001] Filter the properties should not be used when create table for Spark SQL #MsgLength=98


----
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|3 2

Revision: ad773b3d9622ebed9a8419eb5095aa6dbb8d08f0
Author: Shawy Geng <gengxiaoyu1996@gmail.com>
Date: 17/05/2022 09:47:10
Message:
[HUDI-3654] Preparations for hudi metastore. (#5572) #MsgLength=157


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieClient.java|2 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|3 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|10 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|2 1
Added: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetastoreConfig.java|93 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|41 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|14 0

Revision: fdd96cc97ef6a5033b9657e22278bdffd71a41f3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/05/2022 10:34:15
Message:
[HUDI-4104] DeltaWriteProfile includes the pending compaction file slice when deciding small buckets (#5594) #MsgLength=110


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/DeltaWriteProfile.java|1 1

Revision: d52d13302db2eba94b25ddb680c58682760076e1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/05/2022 10:34:57
Message:
[HUDI-4101] BucketIndexPartitioner should take partition path for better dispersion (#5590) #MsgLength=93


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIdentifier.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|5 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/BucketIndexPartitioner.java|5 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|5 4

Revision: d422f69a0dd51694c035db0e15b8127e1ebed277
Author: Jin Xing <jinxing.corey@gmail.com>
Date: 17/05/2022 14:12:50
Message:
[HUDI-4087] Support dropping RO and RT table in DropHoodieTableCommand (#5564) #MsgLength=206


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|34 45
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala|166 0

Revision: 99555c897acf9bdd576e7ab233dc448d537e7aea
Author: BruceLin <brucekellan@gmail.com>
Date: 17/05/2022 21:09:27
Message:
[HUDI-4110] Clean the marker files for flink compaction (#5604) #MsgLength=65


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|3 0

Revision: f8b939961553fc3f647862c65d0040783eb726b4
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 17/05/2022 21:58:18
Message:
[MINOR] Fixing spark long running yaml for non-partitioned (#5607) #MsgLength=68


----
Modified: docker/demo/config/test-suite/spark-long-running-non-partitioned.yaml|5 6

Revision: ebbe56e8622441a57fda63b0392cd6f7c265ec1e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/05/2022 09:30:09
Message:
[minor] Some code refactoring for LogFileComparator and Instant instantiation (#5600) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactHelpers.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java|5 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java|8 2

Revision: f1f8a1abb7636b43463ee86bf6db453ddb1256e1
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/05/2022 10:17:00
Message:
[HUDI-4109] Copy the old record directly when it is chosen for merging (#5603) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|3 0

Revision: a1017c66aaa377dad7e5e62f773bb714d53fc353
Author: luokey <854194341@qq.com>
Date: 18/05/2022 11:21:14
Message:
Clean the marker files for flink compaction (#5611) #MsgLength=99


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|4 0

Revision: 008616c4f68a134290c46b0a258e92f2be67b4c3
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date: 18/05/2022 18:43:48
Message:
[HUDI-3942] [RFC-50] Improve Timeline Server (#5392) #MsgLength=54


----
Added: rfc/rfc-50/ComparisonDiagram.png|0 0
Added: rfc/rfc-50/CurrentDesign.png|0 0
Added: rfc/rfc-50/Design.png|0 0
Added: rfc/rfc-50/SchematicDiagram.png|0 0
Added: rfc/rfc-50/rfc-50.md|93 0

Revision: 199f64255e9996813d6c0b43949ec93a00ac1952
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 18/05/2022 19:18:52
Message:
[HUDI-4111] Bump ANTLR runtime version in Spark 3.x (#5606) #MsgLength=61


----
Modified: pom.xml|3 0

Revision: 551aa959c57721a5cc4d3f63f79e0201978980a2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 18/05/2022 20:30:54
Message:
Revert "[HUDI-3870] Add timeout rollback for flink online compaction (#5314)" (#5622) #MsgLength=148


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|3 10

Revision: 6573469e73ea51ed6d1c24504e8be5abfa91c642
Author: huberylee <shibei.lh@foxmail.com>
Date: 19/05/2022 09:48:03
Message:
[HUDI-4116] Unify clustering/compaction related procedures' output type (#5620) #MsgLength=171


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala|13 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodiePathCommand.scala|2 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionHoodieTableCommand.scala|4 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodiePathCommand.scala|2 10
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CompactionShowHoodieTableCommand.scala|3 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|29 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCompactionProcedure.scala|20 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowClusteringProcedure.scala|31 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCompactionProcedure.scala|8 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala|73 30
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala|62 16

Revision: 6f37863ba8ded3f5550cf608b3e42fe197331ed4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/05/2022 10:59:05
Message:
[HUDI-4114] Remove the unnecessary fs view sync for BaseWriteClient#initTable (#5617) #MsgLength=267


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|0 2

Revision: 1da0b21edd6693e9025e45889cc7b1c37658a4e1
Author: aliceyyan <104287562+aliceyyan@users.noreply.github.com>
Date: 20/05/2022 18:10:24
Message:
[HUDI-4119] the first read result is incorrect when Flink upsert- Kafka connector is used in HUDi (#5626) #MsgLength=257


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|15 2

Revision: c7576f7613ba76ab7db6608598182d8970ce1bd9
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/05/2022 21:31:23
Message:
[HUDI-4130] Remove the upgrade/downgrade for flink #initTable (#5642) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|8 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 1

Revision: 85b146d3d508e68b2f1ff10f232c37c6a474b77b
Author: huberylee <shibei.lh@foxmail.com>
Date: 20/05/2022 22:25:32
Message:
[HUDI-3985] Refactor DLASyncTool to support read hoodie table as spark datasource table (#5532) #MsgLength=97


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|1 1
Renamed: hudi-sync/hudi-adb-sync/pom.xml [from hudi-sync/hudi-dla-sync/pom.xml]|1 1
Renamed: hudi-sync/hudi-adb-sync/src/assembly/src.xml [from hudi-sync/hudi-dla-sync/src/assembly/src.xml]|0 0
Added: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AbstractAdbSyncHoodieClient.java|128 0
Added: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncConfig.java|240 0
Added: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncTool.java|283 0
Renamed: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbJdbcClient.java [from hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/HoodieDLAClient.java]|253 241
Added: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbSyncException.java|29 0
Added: hudi-sync/hudi-adb-sync/src/test/java/org/apache/hudi/sync/adb/TestAdbSyncConfig.java|65 0
Renamed: hudi-sync/hudi-adb-sync/src/test/resources/log4j-surefire-quiet.properties [from hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-sync/hudi-adb-sync/src/test/resources/log4j-surefire.properties [from hudi-sync/hudi-dla-sync/src/test/resources/log4j-surefire.properties]|0 0
Deleted: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java|0 111
Deleted: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java|0 213
Deleted: hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java|0 77
Deleted: hudi-sync/hudi-dla-sync/src/test/java/org/apache/hudi/dla/TestDLASyncConfig.java|0 55
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|4 80
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestParquet2SparkSchemaUtils.java|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java|82 0
Renamed: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ConfigUtils.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/ConfigUtils.java]|1 1
Renamed: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/Parquet2SparkSchemaUtils.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/Parquet2SparkSchemaUtils.java]|1 1
Modified: hudi-sync/pom.xml|1 1

Revision: 7d02b1fd3c74abfbd118f69a10a8c106cc900a3e
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 21/05/2022 07:27:35
Message:
[MINOR] Minor fixes to exception log and removing unwanted metrics flush in integ test (#5646) #MsgLength=96


----
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|0 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1

Revision: 2af98303d3881e5d1da7d2e08f904b18f8b79488
Author: wangxianghu <wangxianghu@apache.org>
Date: 21/05/2022 11:12:53
Message:
[HUDI-4122] Fix NPE caused by adding kafka nodes (#5632) #MsgLength=58


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|39 8

Revision: b5adba3e55e57b67618e114f29397912a9f7f7c0
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/05/2022 20:34:08
Message:
[MINOR] remove unused gson test dependency (#5652) #MsgLength=52


----
Modified: pom.xml|0 7

Revision: 8ec625d4d53be9ca7987c86484ac459fafbd8ecc
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 21/05/2022 21:16:14
Message:
[HUDI-3858] Shade javax.servlet for Spark bundle jar (#5295) #MsgLength=110


----
Modified: packaging/hudi-spark-bundle/pom.xml|19 0

Revision: 922f765ead3c471aa0d9aa44b1782d381bbfa9d9
Author: Jin Xing <jinxing.corey@gmail.com>
Date: 21/05/2022 22:41:18
Message:
[HUDI-4100] CTAS failed to clean up when given an illegal MANAGED table definition (#5588) #MsgLength=92


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|18 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|39 21
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala|9 10

Revision: 32a5d268f54b781e7893ffe08a8767987e153e04
Author: uday08bce <uday08bce@gmail.com>
Date: 22/05/2022 00:22:55
Message:
[HUDI-3890] fix rat plugin issue with sql files (#5644) #MsgLength=57


----
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|15 0
Modified: pom.xml|0 1

Revision: 271d1a79c0bf486d8a11c39e4569ec70cba25cd1
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/05/2022 15:47:51
Message:
[HUDI-4051] Allow nested field as primary key and preCombineField in spark sql (#5517) #MsgLength=190


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|33 0

Revision: 3ef137d1565dd1aa21456d06c52b930337987c5b
Author: YuangZhang <z_yuang@foxmail.com>
Date: 23/05/2022 09:57:34
Message:
[HUDI-4129] Initializes a new fs view for WriteProfile#reload (#5640) #MsgLength=127


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfile.java|5 1

Revision: 42c7129e25ef42a74dd32d17d2816946cd818ab9
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/05/2022 20:40:07
Message:
[HUDI-4142] Claim RFC-54 for new table APIs (#5665) #MsgLength=53


----
Modified: rfc/README.md|1 1

Revision: 752f956f036e5aaf8dcc480ab0baf0c1e3d7cec9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/05/2022 21:48:09
Message:
[HUDI-3933] Add UT cases to cover different key gen (#5638) #MsgLength=61


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSourceStorage.scala|32 34

Revision: 716e995a3869f1b84e4182957948c704aa2a162b
Author: felixYyu <felix2003@live.cn>
Date: 24/05/2022 06:26:36
Message:
[MINOR] Removing redundant semicolons and line breaks (#5662) #MsgLength=63


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCleaningPolicy.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/sql/InsertMode.java|1 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveSyncMode.java|1 2

Revision: 47b764ec333d1fcaf13ec94d013424faf3b42584
Author: Heap <35054152+h1ap@users.noreply.github.com>
Date: 24/05/2022 06:28:48
Message:
[HUDI-4134] Fix Method naming consistency issues in FSUtils (#5655) #MsgLength=69


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCreateHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/ZeroToOneUpgradeHandler.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/HoodieTestCommitGenerator.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkCreateHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|2 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataCreateHandle.java|2 2
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/table/action/commit/TestJavaCopyOnWriteActionExecutor.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|4 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieWriteStat.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|82 82
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestClusteringUtils.java|1 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|5 5
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieSnapshotCopier.java|9 9

Revision: af1128acf95ade0e52920638c2a7a0badaf53869
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 24/05/2022 11:05:56
Message:
[HUDI-4084] Add support to test async table services with integ test suite framework (#5557) #MsgLength=217


----
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-hive.yaml|2 0
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions-metadata.yaml|2 0
Modified: docker/demo/config/test-suite/deltastreamer-long-running-multi-partitions.yaml|2 0
Modified: docker/demo/config/test-suite/deltastreamer-medium-clustering.yaml|2 0
Modified: docker/demo/config/test-suite/deltastreamer-medium-full-dataset-validation.yaml|2 0
Modified: docker/demo/config/test-suite/detlastreamer-long-running-example.yaml|2 0
Modified: docker/demo/config/test-suite/spark-long-running-non-partitioned.yaml|2 0
Modified: docker/demo/config/test-suite/spark-long-running.yaml|2 0
Modified: hudi-integ-test/README.md|50 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieContinousTestSuiteWriter.java|157 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieInlineTestSuiteWriter.java|225 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|8 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|32 174
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|5 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/WriterContext.java|42 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|62 4
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|15 8

Revision: 676d5cefe0294f495db04ec6476afdc00cbf0dd2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/05/2022 13:07:55
Message:
[HUDI-4138] Fix the concurrency modification of hoodie table config for flink (#5660) #MsgLength=357


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|6 8
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|0 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|6 13

Revision: c05ebf2417f4b170c396dfb60c738ca55bd52309
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 24/05/2022 15:33:21
Message:
[HUDI-2473] Fixing compaction write operation in commit metadata (#5203) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/RunCompactionActionExecutor.java|2 0

Revision: eb219010d2491165dbdc00a6b9547a9072e012ac
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/05/2022 17:33:30
Message:
[HUDI-4145] Archives the metadata file in HoodieInstant.State sequence (#5669) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|8 3

Revision: 0caa55ecb42cdecbc027521535200540a2467832
Author: liujinhui <965147871@qq.com>
Date: 24/05/2022 18:56:28
Message:
[HUDI-4135] remove netty and netty-all (#5663) #MsgLength=48


----
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|0 13

Revision: 10363c1412b8f9b5b16b3e2e075b895e0cc9a293
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 24/05/2022 20:17:15
Message:
[HUDI-4132] Fixing determining target table schema for delta sync with empty batch (#5648) #MsgLength=92


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|9 2

Revision: c20db99a7b79b9545e6fae0d762250ceb55a8b79
Author:  <yuzhaojing@bytedance.com>
Date: 21/05/2022 21:25:15
Message:
[HUDI-2207] Support independent flink hudi clustering function #MsgLength=63


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/BulkInsertPartitioner.java|9 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|11 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|68 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkRecentDaysClusteringPlanStrategy.java|65 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSelectedPartitionsClusteringPlanStrategy.java|67 0
Added: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSizeBasedClusteringPlanStrategy.java|129 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|2 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaCustomColumnsSortPartitioner.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/execution/bulkinsert/JavaGlobalSortPartitioner.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|67 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java|1 1
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitEvent.java|77 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitSink.java|174 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java|318 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanEvent.java|73 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanSourceFunction.java|91 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java|148 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java|191 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|19 1
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/cluster/ITTestHoodieFlinkClustering.java|184 0


Revision: f30b3aef3e5e12e9119d6b5294c94a0282719e00
Author: luoyajun <luoyajun1010@gmail.com>
Date: 25/05/2022 02:13:18
Message:
[MINOR] Fix a potential NPE and some finer points of hudi cli (#5656) #MsgLength=71


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java|11 8
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/SparkUtilTest.java|11 0

Revision: a6bc9e8e818be42f26995f927c406ab1c3ddb7d6
Author:  <fengjian428@gmail.com>
Date: 25/05/2022 20:31:39
Message:
[HUDI-4146] Claim RFC-55 for Improve Hive/Meta sync class design and hierachies (#5682) #MsgLength=89


----
Modified: rfc/README.md|1 0

Revision: cf837b49008fd351a3f89beb5e4e5c17c30b9a3c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 25/05/2022 22:08:56
Message:
[HUDI-3193] Decouple hudi-aws from hudi-client-common (#5666) #MsgLength=119


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/cloudwatch/CloudWatchReporter.java|1 1
Modified: hudi-client/hudi-client-common/pom.xml|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 0
Renamed: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsCloudWatchConfig.java [from hudi-aws/src/main/java/org/apache/hudi/config/HoodieMetricsCloudWatchConfig.java]|24 23
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/metrics/HoodieMetricsConfig.java|0 1
Modified: hudi-flink-datasource/hudi-flink/pom.xml|6 0

Revision: 4e42ed5eae36f706ec35e5d09d8dc206b7fea130
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 26/05/2022 11:21:39
Message:
[HUDI-4145] Archives the metadata file in HoodieInstant.State sequence (part2) (#5676) #MsgLength=88


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|30 16

Revision: 98c5c6c6543177ff4320b73b13bc153938300fe4
Author: RexAn <anh131@126.com>
Date: 26/05/2022 13:09:04
Message:
[HUDI-4040] Bulk insert Support CustomColumnsSortPartitioner with Row (#5502) #MsgLength=143


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|4 1
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RowCustomColumnsSortPartitioner.java|60 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/execution/bulkinsert/TestBulkInsertInternalPartitionerForRows.java|48 7

Revision: 31e13db1f0e12e107cc02c60dec3e52a8914a5b2
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 26/05/2022 13:58:49
Message:
[HUDI-4023] Decouple hudi-spark from hudi-utilities-slim-bundle (#5641) #MsgLength=73


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|0 2
Modified: packaging/hudi-utilities-slim-bundle/README.md|86 3
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|16 127
Modified: pom.xml|7 0

Revision: 8d2f00904882b9946331bfb325c0033f72aa29fe
Author: komao <masterwangzx@gmail.com>
Date: 26/05/2022 20:21:28
Message:
[HUDI-4124] Add valid check in Spark Datasource configs (#5637) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/ConfigProperty.java|27 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|22 1

Revision: 85962ee55d098d457a598bc19d5597ff1b361ed5
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 26/05/2022 23:03:09
Message:
[HUDI-3963][RFC-53] Use Lock-Free Message Queue Disruptor Improving Hoodie Writing Efficiency (#5567) #MsgLength=151


----
Added: rfc/rfc-53/DisruptorExecutor.png|0 0
Added: rfc/rfc-53/rfc-53.md|160 0

Revision: 57dbe57bed963f529b2921b6bb6253a90a1a45af
Author: watermelon12138 <49849410+watermelon12138@users.noreply.github.com>
Date: 27/05/2022 14:08:54
Message:
[HUDI-4162] Fixed some constant mapping issues. (#5700) #MsgLength=106


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|2 2

Revision: 1767ff5e7c7d7a06d0267380eb3b830392a3bf28
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 27/05/2022 17:36:30
Message:
[HUDI-4161] Make sure partition values are taken from partition path (#5699) #MsgLength=78


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|10 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|14 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|7 7

Revision: 554caa34218e477bbd5eb9b724836f2c365c896d
Author: RexAn <anh131@126.com>
Date: 27/05/2022 19:45:09
Message:
[MINOR] Fix the issue when handling conf hoodie.datasource.write.operation=bulk_insert in sql mode (#5679) #MsgLength=156


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|3 2

Revision: 93fe5a497e8f2f97d90f3dd66d966f9f4cc24bc9
Author: Bo Cui <cuibo0108@163.com>
Date: 28/05/2022 08:37:34
Message:
[HUDI-4151] flink split_reader supports rocksdb (#5675) #MsgLength=106


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|16 19
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|4 4

Revision: 58014c147af677a426e0dd22fb59b8d92d0dd18a
Author: wangxianghu <wangxianghu@apache.org>
Date: 28/05/2022 15:13:24
Message:
[HUDI-4160] Make database regex of MaxwellJsonKafkaSourcePostProcessor optional (#5697) #MsgLength=89


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/processor/maxwell/MaxwellJsonKafkaSourcePostProcessor.java|11 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java|14 0

Revision: 8fa8f2603199638e2467fba0db8948a84455213e
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/05/2022 22:56:39
Message:
[MINOR] Fix Hive and meta sync config for sql statement (#5316) #MsgLength=65


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|1 0

Revision: 48062a570817ba776f23ff95963d540fddbe1eac
Author: uday08bce <uday08bce@gmail.com>
Date: 28/05/2022 23:20:52
Message:
[HUDI-4166] Added SimpleClient plugin for integ test (#5710) #MsgLength=62


----
Modified: packaging/hudi-integ-test-bundle/pom.xml|6 0

Revision: 62d792368bd1ebf2dead648b436e623e9a1a003e
Author: Carter Shanklin <cartershanklin@users.noreply.github.com>
Date: 28/05/2022 23:26:14
Message:
[HUDI-3551] Add the Oracle Cloud Infrastructure (oci) Object Storage URI scheme (#4952) #MsgLength=89


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/StorageSchemes.java|3 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 0

Revision: 0a72458291ace85faec5155a2d7865b95f420b9b
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 29/05/2022 03:13:37
Message:
[HUDI-3551] Fix testStorageSchemes for oci storage (#5711) #MsgLength=60


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|1 1

Revision: 7e86884604057c0a7a373d4e84d8f3e112170ca7
Author:  <scx_white@aliyun.com>
Date: 29/05/2022 13:35:47
Message:
[HUDI-4086] Use CustomizedThreadFactory in async compaction and clustering (#5563) #MsgLength=119


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncClusteringService.java|4 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/async/AsyncCompactService.java|6 11

Revision: 329da34ee0f8d935fa7ec1853104addfb5b45400
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/05/2022 13:08:02
Message:
[HUDI-4163] Catch general exception instead of IOException while fetching rollback plan during rollback (#5703) #MsgLength=180


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 1

Revision: 918c4f4e0ba5dd30fc733cc3e208650e2154dd5c
Author: Jin Xing <jinxing.corey@gmail.com>
Date: 30/05/2022 19:09:26
Message:
[HUDI-4149] Drop-Table fails when underlying table directory is broken (#5672) #MsgLength=80


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|43 30
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/DropHoodieTableCommand.scala|26 20
Modified: hudi-spark-datasource/hudi-spark/src/test/resources/sql-statements.sql|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala|111 0

Revision: 795a99ba73183b5f7697bb3964843a43a64e74e9
Author: Kumud Kumar Srivatsava Tirupati <kumudkumartirupati@users.noreply.github.com>
Date: 31/05/2022 22:57:50
Message:
[HUDI-4107] Added --sync-tool-classes config option in HoodieMultiTableDeltaStreamer (#5597) #MsgLength=281


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|7 3
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|5 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieMultiTableDeltaStreamer.java|9 0

Revision: 0d069b5e57e96984d508434a9b76c48a282bd45b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 01/06/2022 16:17:36
Message:
[HUDI-4174] Add hive conf dir option for flink sink (#5725) #MsgLength=61


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java|14 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|9 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|3 1

Revision: dfcd6d9a8605e93fcb21b8cc27ac474d4ffa2a76
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 01/06/2022 20:30:29
Message:
[HUDI-4011] Add hudi-aws-bundle (#5674) #MsgLength=115


----
Added: packaging/hudi-aws-bundle/pom.xml|295 0
Added: packaging/hudi-aws-bundle/src/main/java/org/apache/hudi/aws/bundle/Main.java|29 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|0 1
Modified: packaging/hudi-spark-bundle/pom.xml|0 1
Modified: packaging/hudi-utilities-bundle/pom.xml|0 1
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|0 1
Modified: pom.xml|1 0

Revision: 7276d0eaa662298b64a6aca7e7180556f03603b1
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date: 01/06/2022 22:35:40
Message:
[HUDI-3670] free temp views in sql transformers (#5080) #MsgLength=57


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/FlatteningTransformer.java|4 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlFileBasedTransformer.java|3 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/SqlQueryBasedTransformer.java|4 2

Revision: 7f8630cc57fbb9d29e8dc7ca87b582264da073fd
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 02/06/2022 09:48:48
Message:
[HUDI-4167] Remove the timeline refresh with initializing hoodie table (#5716) #MsgLength=1590


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|12 16
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|7 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|0 10
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|1 1
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|1 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|5 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkTable.java|1 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|7 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RocksDbBasedFileSystemView.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|17 4
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|2 1

Revision: 51602a34f7b2c296b1f1438e85ef2f12c4dff741
Author: KnightChess <981159963@qq.com>
Date: 02/06/2022 20:28:21
Message:
[HUDI-4179] Cluster with sort cloumns invalid (#5739) #MsgLength=55


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDCustomColumnsSortPartitioner.java|1 1

Revision: 3759a38b99cf9bb7540cd1881879cc0547a25e70
Author: leesf <490081539@qq.com>
Date: 03/06/2022 17:16:48
Message:
[HUDI-4183] Fix using HoodieCatalog to create non-hudi tables (#5743) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|31 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|7 3

Revision: 80783c27f5211ae5cd01d692223a106df5dff4a2
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 04/06/2022 17:16:52
Message:
[HUDI-4187] Fix partition order in aws glue sync (#5731) #MsgLength=58


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|7 4

Revision: bd26d633d71b7783000b3334573d791ac9108bcd
Author: Saisai Shao <sai.sai.shao@gmail.com>
Date: 05/06/2022 11:05:38
Message:
[HUDI-4168] Add Call Procedure for marker deletion (#5738) #MsgLength=100


----
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteMarkerProcedure.scala|78 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala|40 0

Revision: 5d18b80343bdb43c69d979da013752a5f8f11c07
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 06/06/2022 08:42:16
Message:
[HUDI-4190] Include hbase-protocol for shading in the bundles (#5750) #MsgLength=71


----
Modified: packaging/hudi-aws-bundle/pom.xml|1 0
Modified: packaging/hudi-datahub-sync-bundle/pom.xml|1 0
Modified: packaging/hudi-flink-bundle/pom.xml|1 0
Modified: packaging/hudi-gcp-bundle/pom.xml|1 0
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 0
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 0
Modified: packaging/hudi-presto-bundle/pom.xml|1 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 0
Modified: packaging/hudi-trino-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|1 0

Revision: 73b0be3c962112efe541ae04fe0ea6f298558f17
Author: marchpure <marchpure@126.com>
Date: 06/06/2022 12:07:26
Message:
[HUDI-4192] HoodieHFileReader scan top cells after bottom cells throw NullPointerException (#5755) #MsgLength=143


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|32 0
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|6 0

Revision: 22c45a7704cf4d5ec6fb56ee7cc1bf17d826315d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/06/2022 12:12:48
Message:
[HUDI-4188] Fix flaky ITTestDataSTreamWrite.testWriteCopyOnWrite (#5749) #MsgLength=74


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|1 1

Revision: 21ab0ff8be73082b46fe83ab6a3546648b4d4eaa
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 06/06/2022 19:19:03
Message:
[HUDI-4195] Bulk insert should use right keygen for non-partitioned table (#5759) #MsgLength=83


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|2 2

Revision: 132c0aa8c7cc34f462f5ab44e8db8b75c2ffba38
Author: HunterXHunter <1356469429@qq.com>
Date: 06/06/2022 21:53:55
Message:
[HUDI-4101] When BucketIndexPartitioner take partition path for dispersion may cause the fileID of the task to not be loaded correctly (#5763) #MsgLength=193


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bucket/BucketStreamWriteFunction.java|6 19

Revision: 4f7ea8c79a9d13accf72d094296993c588d87beb
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 07/06/2022 01:14:26
Message:
[HUDI-4176] Fixing `TableSchemaResolver` to avoid repeated `HoodieCommitMetadata` parsing (#5733) #MsgLength=807


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/AvroSchemaUtils.java|11 0
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|0 12
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieCommitMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|232 235
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|38 36
Modified: hudi-common/src/main/java/org/apache/hudi/util/Lazy.java|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java|4 12
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|2 11
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|14 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestTableSchemaResolverWithSparkSQL.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|1 1

Revision: 4f6fc726d0d3d2dd427210228bbb36cf18893a92
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/06/2022 01:21:00
Message:
[HUDI-4140] Fixing hive style partitioning and default partition with bulk insert row writer with SimpleKeyGen and virtual keys (#5664) #MsgLength=307


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|6 1
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|5 0
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|48 0

Revision: 21b903fddbc0522909ab924e0d774b75902826f6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/06/2022 03:47:11
Message:
[HUDI-4197] Fix Async indexer to support building FILES partition (#5766) #MsgLength=528


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java|49 29
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java|4 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|9 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|82 17

Revision: 7da97c8096ad4eabb49b42c86013679ed5009451
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/06/2022 03:48:21
Message:
[HUDI-4171] Fixing Non partitioned with virtual keys in read path (#5747) #MsgLength=195


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|10 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|4 3
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieVirtualKeyInfo.java|9 7
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/RealtimeSplit.java|8 4
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|5 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieParquetInputFormat.java|27 0
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|24 5

Revision: e5710a8e7c588c2a08cd57944be5cfcbc37402a5
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/06/2022 08:25:59
Message:
[MINOR] Mark AWSGlueCatalogSyncClient experimental (#5775) #MsgLength=60


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|2 0

Revision: 4f5cad80293c9ac6232593f3c968c1369bb02c4c
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 07/06/2022 08:28:28
Message:
[MINOR][RFC-53] Fix typos (#5764) #MsgLength=83


----
Modified: rfc/rfc-53/rfc-53.md|1 1

Revision: f85cd9b16d2bd0c49fb6a05a4be627dffb4c2065
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/06/2022 20:19:52
Message:
[HUDI-4200] Fixing sorting of keys fetched from metadata table (#5773) #MsgLength=525


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieHFileReaderWriter.java|10 4
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileReader.java|3 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|13 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|1 1

Revision: 1349b596a1c18c6be75039c1c4644ecdf78411ff
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/06/2022 22:51:31
Message:
[HUDI-4198] Fix hive config for AWSGlueClientFactory (#5768) #MsgLength=288


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 2

Revision: 35afdb4316d496bbb37ebb9e1598d84bd8a4000d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 08/06/2022 07:30:46
Message:
[HUDI-4178] Addressing performance regressions in Spark DataSourceV2 Integration (#5737) #MsgLength=503


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 8
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/JFunction.scala|33 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|6 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|29 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|11 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|31 18
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|3 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|5 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|5 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|3 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|45 21
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|11 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala|6 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|0 6
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|2 2
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|0 13
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommand312.scala|5 2
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala|9 8
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|0 13
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala|32 27
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|57 46
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|62 46
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala|3 1

Revision: f5ab921300654e61a448ac447eb4532a60e49b9c
Author: liuzhuang2017 <95120044+liuzhuang2017@users.noreply.github.com>
Date: 09/06/2022 08:45:00
Message:
[MINOR][DOCS] Update the README.md file in hudi-examples (#5803) #MsgLength=66


----
Modified: hudi-examples/README.md|1 1

Revision: 8ff17b047091b4b90e6e972d8b43d416714a0613
Author: sandyfog <154525105@qq.com>
Date: 09/06/2022 15:13:27
Message:
[MINOR] FlinkStateBackendConverter add more  exception message (#5809) #MsgLength=136


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java|1 1

Revision: c608dbd6c2d00f29f350ad1ed0fd04f7eb3c1b6b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/06/2022 20:37:58
Message:
[HUDI-4213] Infer keygen clazz for Spark SQL (#5815) #MsgLength=54


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|20 14
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/SqlKeyGenerator.scala|5 4

Revision: ba47904fa2a5e089b245884107f86e4fff918e04
Author: yanenze <34880077+yanenze@users.noreply.github.com>
Date: 10/06/2022 05:48:20
Message:
[HUDI-4139]improvement for flink write operator name to identify tables easily (#5744) #MsgLength=137


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|9 5

Revision: 2b3a85528a32405bad8aee16f19a849322b517b5
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date: 10/06/2022 07:23:51
Message:
[HUDI-3889] Do not validate table config if save mode is set to Overwrite (#5619) #MsgLength=125


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|6 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|36 27
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|23 0

Revision: 08fe281091bf08af743b83a0786216cc2aadfa62
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 12/06/2022 04:17:42
Message:
[HUDI-4221] Fixing getAllPartitionPaths perf hit w/ FileSystemBackedMetadata (#5829) #MsgLength=86


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|22 17

Revision: 97ccf5dd184d1ff3578bdf8a1944cc15f8a5da97
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 12/06/2022 04:19:24
Message:
[HUDI-4223] Fix NullPointerException from getLogRecordScanner when reading metadata table (#5840) #MsgLength=249


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMetadataTableWithSparkDataSource.scala|2 2

Revision: fd8f7c5f6c0bbfbed829f5d1a1d250ca4752d503
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 12/06/2022 05:46:43
Message:
[HUDI-4205] Fix NullPointerException in HFile reader creation (#5841) #MsgLength=206


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|4 4

Revision: 5aaac21d1dad8d462f96d47bca7d55494a8a8ae1
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 13/06/2022 02:44:18
Message:
[HUDI-4224] Fix CI issues (#5842) #MsgLength=301


----
Modified: azure-pipelines.yml|84 32
Modified: hudi-aws/pom.xml|30 0
Modified: hudi-cli/pom.xml|62 4
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/TestSparkUtil.java [from hudi-cli/src/test/java/org/apache/hudi/cli/testutils/SparkUtilTest.java]|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java|5 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|22 10
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java|4 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestMarkersCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|3 7
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieCLIIntegrationTestBase.java [from hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellIntegrationTest.java]|1 1
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieCLIIntegrationTestHarness.java [from hudi-cli/src/test/java/org/apache/hudi/cli/testutils/AbstractShellBaseIntegrationTest.java]|1 1
Modified: hudi-examples/hudi-examples-common/pom.xml|28 0
Modified: hudi-examples/hudi-examples-java/pom.xml|28 0
Modified: hudi-flink-datasource/hudi-flink/pom.xml|20 0
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|45 1
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|45 1
Modified: hudi-gcp/pom.xml|36 0
Modified: hudi-integ-test/pom.xml|42 5
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestDFSHoodieTestSuiteWriterAdapter.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/TestFileDeltaInputWriter.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSAvroDeltaInputReader.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/reader/TestDFSHoodieDatasetInputReader.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|37 0
Modified: hudi-spark-datasource/hudi-spark-common/src/test/java/org/apache/hudi/internal/HoodieBulkInsertInternalWriterTestBase.java|6 5
Added: hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire.properties|31 0
Modified: hudi-spark-datasource/hudi-spark2-common/pom.xml|43 0
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|60 0
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieBulkInsertDataInternalWriter.java|3 10
Modified: hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java|0 1
Modified: hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|1 1
Modified: hudi-sync/hudi-adb-sync/pom.xml|36 0
Modified: hudi-sync/hudi-datahub-sync/pom.xml|18 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|19 19
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestSqlSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/debezium/TestAbstractDebeziumSource.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|10 10
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractCloudObjectsSourceTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/sources/AbstractDFSSourceTestBase.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/transform/TestSqlFileBasedTransformer.java|1 1
Modified: packaging/hudi-aws-bundle/pom.xml|1 0
Modified: packaging/hudi-datahub-sync-bundle/pom.xml|1 0
Modified: packaging/hudi-flink-bundle/pom.xml|1 0
Modified: packaging/hudi-gcp-bundle/pom.xml|1 0
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 0
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 0
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 0
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 0
Modified: packaging/hudi-presto-bundle/pom.xml|1 0
Modified: packaging/hudi-spark-bundle/pom.xml|1 0
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 0
Modified: packaging/hudi-trino-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-bundle/pom.xml|1 0
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|1 0
Modified: pom.xml|25 20

Revision: c82e3462e3d56b1f6c92d80720a9503da8e57765
Author: sandyfog <154525105@qq.com>
Date: 13/06/2022 10:55:24
Message:
[MINOR]  fix AvroSchemaConverter duplicate branch in 'switch' (#5813) #MsgLength=71


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|2 3

Revision: 14d8735a1c1bd093624a0ef51a256733099d8516
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 13/06/2022 19:10:38
Message:
Strip extra spaces when creating new configuration (#5849) #MsgLength=107


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|3 1

Revision: e89f5627e4f1824c36e2e60cfaee3e9f3e977e87
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date: 13/06/2022 22:22:12
Message:
[HUDI-3682] testReaderFilterRowKeys fails in TestHoodieOrcReaderWriter (#5790) #MsgLength=416


----
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieOrcReaderWriter.java|5 5
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/io/storage/TestHoodieReaderWriterBase.java|17 1

Revision: 0d859fe58be8aded257593d9c6e407ce2be71be0
Author: luoyajun <luoyajun1010@gmail.com>
Date: 13/06/2022 22:29:32
Message:
[HUDI-3863] Add UT for drop partition column in deltastreamer testsuite (#5727) #MsgLength=81


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|22 0

Revision: 4774c4248f3ea2ce863c6f76679639ae1cdddf9c
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date: 13/06/2022 22:31:57
Message:
[HUDI-4006] failOnDataLoss on delta-streamer kafka sources (#5718) #MsgLength=302


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|17 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java|39 0

Revision: 264b15df87aa01fe06191f1499b422bcefaba4f7
Author: HunterXHunter <1356469429@qq.com>
Date: 13/06/2022 22:36:06
Message:
[HUDI-4207] HoodieFlinkWriteClient.getOrCreateWriteHandle throws an e (#5788) #MsgLength=189


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|20 6

Revision: f16b1e898216fd722fb12faf2861eb213171c1c5
Author: felixYyu <felix2003@live.cn>
Date: 14/06/2022 14:30:17
Message:
[MINOR] Fix typo of DisruptorExecutor in RFC 53 (#5860) #MsgLength=57


----
Modified: rfc/rfc-53/rfc-53.md|1 1

Revision: 25bbff64cf9bb05adda36af4d830abd81655a2d7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/06/2022 08:48:13
Message:
[minor] Following HUDI-4207, remote the new wrapper #init method (#5865) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|6 11

Revision: 0811bb38fb61c19cb2759b96c268682a47516efe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/06/2022 14:23:23
Message:
[HUDI-4255] Make the flink merge and replace handle intermediate file visible (#5866) #MsgLength=87


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|4 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|1 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|7 1

Revision: 7b946cf35142139ab90320d943c90d905722989f
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 15/06/2022 16:50:15
Message:
[HUDI-3499] Add Call Procedure for show rollbacks (#5848) #MsgLength=216


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowRollbacksProcedure.scala|147 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala|105 0

Revision: c291b056996f7c5c2c25ad75f5ac57dd64028327
Author:  <dongkelun01@inspur.com>
Date: 15/06/2022 18:10:35
Message:
[HUDI-4218] [HUDI-4218] Expose the real exception information when an exception occurs in the tableExists method (#5827) #MsgLength=122


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1

Revision: 2bf0a1906dc65bb676119729ad7e829c6bf6c2a4
Author: KnightChess <981159963@qq.com>
Date: 15/06/2022 20:21:28
Message:
[HUDI-4217] improve repeat init object in ExpressionPayload (#5825) #MsgLength=69


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|38 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|27 15

Revision: 0ff34b697416fc697dfa96a80496b74598a95263
Author: KnightChess <981159963@qq.com>
Date: 16/06/2022 17:58:37
Message:
[HUDI-4214] improve repeat init write schema in ExpressionPayload (#5820) #MsgLength=142


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|14 4

Revision: 7689e62cd998036966a39a61187e6d6a812e3415
Author:  <dongkelun01@inspur.com>
Date: 17/06/2022 16:57:14
Message:
[HUDI-4265] Deprecate useless targetTableName parameter in HoodieMultiTableDeltaStreamer (#5883) #MsgLength=98


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|12 5

Revision: fec49dc12b19801a75c3f61c9da0d47ef0c1d2f8
Author: huberylee <shibei.lh@foxmail.com>
Date: 17/06/2022 18:33:58
Message:
[HUDI-4165] Support Create/Drop/Show/Refresh Index Syntax for Spark SQL (#5761) #MsgLength=142


----
Added: hudi-common/src/main/java/org/apache/hudi/common/index/HoodieIndex.java|119 0
Added: hudi-common/src/main/java/org/apache/hudi/common/index/HoodieIndexType.java|54 0
Modified: hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4|75 1
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/Index.scala|111 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|22 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/IndexCommands.scala|101 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieSqlCommonAstBuilder.scala|142 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/command/index/TestIndexSyntax.scala|85 0

Revision: c5c4cfec915fad198ccb57d00bc8d875a78e794b
Author: ForwardXu <forwardxu315@gmail.com>
Date: 19/06/2022 18:48:22
Message:
[HUDI-3507] Support export command based on Call Produce Command (#5901) #MsgLength=74


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|17 19
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala|239 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala|52 0

Revision: d4f0326b4bbbabefc5c75617b2b5d6b8bf55fe11
Author: huberylee <shibei.lh@foxmail.com>
Date: 20/06/2022 14:29:21
Message:
[HUDI-4275] Refactor rollback inflight instant for clustering/compaction to reuse some code (#5894) #MsgLength=101


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 10
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/CompactionAdminClient.java|4 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|34 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|8 28
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java|2 1

Revision: efafb79eeb872b124c642143387c85cc51aaca59
Author: 5herhom <35916131+5herhom@users.noreply.github.com>
Date: 20/06/2022 15:15:23
Message:
[MINOR] Add "spillable_map_path" in FlinkCompactionConfig. To avoid the disk space of "/tmp" full when compacting offline. (#5905) #MsgLength=132


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|6 0

Revision: 7481eacf23794a5957eba39c401100ad2219e887
Author: Shizhi Chen <107476116+chenshzh@users.noreply.github.com>
Date: 20/06/2022 15:19:32
Message:
[HUDI-4277] supoort flink table source with computed column (#5897) #MsgLength=121


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 1

Revision: d7facb8cb8a8a4f0e2f53677839ea5cbe67baaa5
Author: felixYyu <felix2003@live.cn>
Date: 20/06/2022 15:21:49
Message:
fix remove redundant Variable (#5806) #MsgLength=39


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|1 1

Revision: 7c6bedff252b3ccdb2de74fff438d2eafb489d9b
Author: luokey <854194341@qq.com>
Date: 20/06/2022 15:41:23
Message:
[HUDI-4259]  Flink create avro schema not conformance to standards (#5878) #MsgLength=181


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|2 2

Revision: f1103281d2aebf177231b6c3b6df5cce299957cf
Author: Alexander Trushev <42293632+trushev@users.noreply.github.com>
Date: 20/06/2022 17:07:49
Message:
[HUDI-4258] Fix when HoodieTable removes data file before the end of Flink job (#5876) #MsgLength=168


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/event/WriteMetadataEvent.java|12 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|50 18
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestStreamWriteOperatorCoordinator.java|38 0

Revision: 7601e9e4c71f86a0aa9657d97f3bf51d51833ed0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/06/2022 00:27:35
Message:
[MINOR] Update DOAP with 0.11.1 Release (#5908) #MsgLength=49


----
Modified: doap_HUDI.rdf|5 0

Revision: 17ac5a4573323c3d3391b841d28e7e3a667ab176
Author: RexAn <bonean131@gmail.com>
Date: 21/06/2022 01:32:34
Message:
[HUDI-4173] Fix wrong results if the user read no base files hudi table by glob paths (#5723) #MsgLength=95


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|6 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|14 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|12 18
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/execution/datasources/HoodieInMemoryFileIndex.scala|74 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|2 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|5 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|5 1

Revision: ba4d5bd847a3844796a3d176db26b494c84814b4
Author: Forus <70357858+Forus0322@users.noreply.github.com>
Date: 21/06/2022 07:03:58
Message:
[HUDI-4251] Fix the problem that the command 'commits sync' description does not match. (#5881) #MsgLength=97


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|2 2

Revision: 5c204f14161be0afd3eb1d377305ed0f6ed87546
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date: 21/06/2022 10:54:12
Message:
[HUDI-4177] Fix hudi-cli rollback with rollbackUsingMarkers method call (#5734) #MsgLength=240


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|17 0

Revision: 7c4aaa9715cac6729c0809a92857b4aedbbbb24d
Author: Bo Cui <cuibo0108@163.com>
Date: 21/06/2022 11:47:39
Message:
[HUDI-4270] Bootstrap op data loading missing (#5888) #MsgLength=55


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bootstrap/BootstrapOperator.java|2 0

Revision: 4640a3bbb8e212030f94848a0112784d98772de8
Author:  <yuzhaojing@bytedance.com>
Date: 08/06/2022 09:54:31
Message:
[HUDI-3475] Initialize hudi table management module. #MsgLength=53


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java|20 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|4 0
Added: hudi-table-management-service/pom.xml|333 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/RequestHandler.java|194 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java|154 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/EnvConstant.java|29 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceConfig.java|117 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceContext.java|78 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/TableManagementServiceConfig.java|29 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Action.java|52 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/AssistQueryEntity.java|47 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Engine.java|44 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Instance.java|92 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/InstanceStatus.java|61 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/exception/HoodieTableManagementException.java|32 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/BaseActionExecutor.java|102 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/CompactionExecutor.java|59 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/ExecutionEngine.java|82 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/SparkEngine.java|220 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ActionHandler.java|71 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ClusteringHandler.java|51 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/CompactionHandler.java|66 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/BaseService.java|29 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/CleanService.java|78 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ExecutorService.java|102 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/MonitorService.java|65 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/RetryService.java|81 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ScheduleService.java|116 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/MetadataStore.java|41 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/impl/RelationDBBasedStore.java|70 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/HikariDataSourceFactory.java|38 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/InstanceDao.java|156 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/SqlSessionFactoryUtil.java|82 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/DateTimeUtils.java|32 0
Added: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/InstanceUtil.java|34 0
Added: hudi-table-management-service/src/main/resources/hikariPool.properties|20 0
Added: hudi-table-management-service/src/main/resources/logback.xml|41 0
Added: hudi-table-management-service/src/main/resources/mybatis-config.xml|42 0
Added: hudi-table-management-service/src/main/resources/mybatis/Instance.xml|165 0
Added: hudi-table-management-service/src/main/resources/table-management-service.sql|46 0
Added: hudi-table-management-service/src/test/resources/log4j-surefire-quiet.properties|29 0
Added: hudi-table-management-service/src/test/resources/log4j-surefire.properties|30 0
Modified: pom.xml|1 0

Revision: 092e35c1e300f1eb1a7474136826fed26bc10ccd
Author:  <yuzhaojing@bytedance.com>
Date: 21/06/2022 15:22:04
Message:
udate #MsgLength=6


----
Modified: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java|0 1

Revision: c7e430bb46ab721e4716ac89e1067d75a79b3179
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date: 21/06/2022 16:58:50
Message:
Revert master (#5925) #MsgLength=236


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java|0 20
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|0 4
Deleted: hudi-table-management-service/pom.xml|0 333
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/RequestHandler.java|0 194
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/TableManagementServer.java|0 153
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/EnvConstant.java|0 29
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceConfig.java|0 117
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/ServiceContext.java|0 78
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/common/TableManagementServiceConfig.java|0 29
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Action.java|0 52
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/AssistQueryEntity.java|0 47
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Engine.java|0 44
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/Instance.java|0 92
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/entity/InstanceStatus.java|0 61
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/exception/HoodieTableManagementException.java|0 32
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/BaseActionExecutor.java|0 102
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/CompactionExecutor.java|0 59
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/ExecutionEngine.java|0 82
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/executor/submitter/SparkEngine.java|0 220
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ActionHandler.java|0 71
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/ClusteringHandler.java|0 51
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/handlers/CompactionHandler.java|0 66
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/BaseService.java|0 29
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/CleanService.java|0 78
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ExecutorService.java|0 102
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/MonitorService.java|0 65
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/RetryService.java|0 81
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/service/ScheduleService.java|0 116
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/MetadataStore.java|0 41
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/impl/RelationDBBasedStore.java|0 70
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/HikariDataSourceFactory.java|0 38
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/InstanceDao.java|0 156
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/store/jdbc/SqlSessionFactoryUtil.java|0 82
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/DateTimeUtils.java|0 32
Deleted: hudi-table-management-service/src/main/java/org/apache/hudi/table/management/util/InstanceUtil.java|0 34
Deleted: hudi-table-management-service/src/main/resources/hikariPool.properties|0 20
Deleted: hudi-table-management-service/src/main/resources/logback.xml|0 41
Deleted: hudi-table-management-service/src/main/resources/mybatis-config.xml|0 42
Deleted: hudi-table-management-service/src/main/resources/mybatis/Instance.xml|0 165
Deleted: hudi-table-management-service/src/main/resources/table-management-service.sql|0 46
Deleted: hudi-table-management-service/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-table-management-service/src/test/resources/log4j-surefire.properties|0 30
Modified: pom.xml|0 1

Revision: c9590790f8dc114ee827b5843c6be710b7819f1d
Author: LinMingQiang <1356469429@qq.com>
Date: 22/06/2022 10:32:21
Message:
[HUDI-4279] Strength the remote fs view lagging check when latest commit refresh is enabled (#5917) #MsgLength=148


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|2 0
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|19 3

Revision: 1dbd9d407a354f01380148dbf2754a10bc8d600e
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 22/06/2022 16:56:06
Message:
[minor] following 4270, add unit tests for the keys lost case (#5918) #MsgLength=71


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|25 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|19 0

Revision: 1bb017d396562b891065187bac417c52edea24da
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date: 22/06/2022 17:50:20
Message:
[HUDI-3508] Add call procedure for FileSystemViewCommand (#5929) #MsgLength=183


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFileSystemViewProcedure.scala|258 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestFsViewProcedure.scala|95 0

Revision: 38ff18a19902f3db3b1c497d153cd73e411e8622
Author: Forus <70357858+Forus0322@users.noreply.github.com>
Date: 23/06/2022 21:46:22
Message:
[HUDI-4299] Fix problem about hudi-example-java run failed on idea. (#5936) #MsgLength=77


----
Modified: hudi-examples/hudi-examples-java/pom.xml|17 1

Revision: eeb78f23e62998fe3238306c7983102f6f43d112
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/06/2022 22:10:08
Message:
[HUDI-4290] Fix fetchLatestBaseFiles to filter replaced filegroups (#5941) #MsgLength=207


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|4 2
Added: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFSViewWithClustering.java|181 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestHoodieTableFileSystemView.java|3 3

Revision: af9f09047d7324269cb00a7cb2547a6461c178f6
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date: 24/06/2022 10:16:54
Message:
[HUDI-3509] Add call procedure for HoodieLogFileCommand (#5949) #MsgLength=119


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileMetadataProcedure.scala|139 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileRecordsProcedure.scala|125 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHoodieLogFileProcedure.scala|103 0

Revision: 6456bd3a5199d60ff55d6c576e139025a1c940c7
Author: Zhaojing Yu <yuzhaojing@bytedance.com>
Date: 24/06/2022 11:28:06
Message:
[HUDI-4273] Support inline schedule clustering for Flink stream (#5890) #MsgLength=212


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|1 12
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|1 1
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkRecentDaysClusteringPlanStrategy.java|0 65
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSelectedPartitionsClusteringPlanStrategy.java|0 67
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|25 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|50 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|9 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitEvent.java|9 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitSink.java|25 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java|110 55
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanOperator.java|139 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringPlanSourceFunction.java|6 7
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java|19 11
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java|247 100
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactFunction.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|53 10
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|7 3
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ClusteringUtil.java|80 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 20
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|74 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|28 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/cluster/ITTestHoodieFlinkClustering.java|42 3
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/ClusteringFunctionWrapper.java|121 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/InsertFunctionWrapper.java|33 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/StreamWriteFunctionWrapper.java|2 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java|5 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|10 0

Revision: 30ebdc708bcac5e08c7b1352d726d1c2909f548f
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date: 24/06/2022 14:47:36
Message:
[HUDI-3735] TestHoodieSparkMergeOnReadTableRollback is flaky (#5874) #MsgLength=70


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|8 6

Revision: 59978ef4a91fab67c4bb028f13de54fe8234a40d
Author: luokey <854194341@qq.com>
Date: 24/06/2022 15:05:03
Message:
[HUDI-4260] Change KEYGEN_CLASS_NAME without default value (#5877) #MsgLength=166


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|4 4

Revision: eeafaeacd21cc166a0a2d6419ab866258e9ebe69
Author: jiz <31836510+microbearz@users.noreply.github.com>
Date: 25/06/2022 09:43:23
Message:
[HUDI-3512] Add call procedure for StatsCommand (#5955) #MsgLength=113


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsFileSizeProcedure.scala|108 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsWriteAmplificationProcedure.scala|85 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala|99 0

Revision: e8fbd4daf49802f60f800ccc92e66369d44f07f6
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 25/06/2022 10:15:08
Message:
[TEST][DO_NOT_MERGE]fix random failed for ci (#5948) #MsgLength=54


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|4 3

Revision: 360df576a9439b0ad79c32a95b58d53778c7e236
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 25/06/2022 11:23:17
Message:
Revert "[TEST][DO_NOT_MERGE]fix random failed for ci (#5948)" (#5971) #MsgLength=132


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|3 4

Revision: c86edfc28e811c86d82f98ea07d44dae4f3c5cb1
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/06/2022 11:52:28
Message:
[HUDI-4319] Fixed Parquet's `PLAIN_DICTIONARY` encoding not being applied when bulk-inserting (#5966) #MsgLength=264


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/SparkHelpers.scala|2 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetWriter.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetWriter.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/storage/HoodieFileWriterFactory.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|9 10
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataFileWriterFactory.java|2 1
Deleted: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetConfig.java|0 36
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriter.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java|10 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java|2 1
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetConfig.java|0 36
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java|3 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieParquetDataBlock.java|9 11
Deleted: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieAvroParquetConfig.java|0 42
Renamed: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetConfig.java [from hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieBaseParquetConfig.java]|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieParquetStreamWriter.java|1 1

Revision: 142adf4ccbf92050dd14d1997c0438565fdfc2cd
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 25/06/2022 21:03:19
Message:
[HUDI-4296] Fix the bug that TestHoodieSparkSqlWriter.testSchemaEvolutionForTableType is flaky (#5973) #MsgLength=104


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|4 3

Revision: 1c43c590aca7ac13f474eb5818b6f3859c5dbf40
Author: ForwardXu <forwardxu315@gmail.com>
Date: 26/06/2022 11:27:14
Message:
[HUDI-3502] Support hdfs parquet import command based on Call Produce Command (#5956) #MsgLength=87


----
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/HDFSParquetImporterUtils.java|325 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HdfsParquetImportProcedure.scala|85 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala|202 0

Revision: 559b26fb7c450bf1caa9f1845664ecee069d372d
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 26/06/2022 23:34:05
Message:
[MINOR] Remove -T option from CI build (#5972) #MsgLength=48


----
Modified: azure-pipelines.yml|1 1

Revision: 0a9e568ff5436ee4f5443c91b6c6853dc0b4da3a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 27/06/2022 07:54:57
Message:
[HUDI-5246] Bumping mysql connector version due to security vulnerability (#5851) #MsgLength=83


----
Modified: hudi-sync/hudi-adb-sync/pom.xml|1 1

Revision: 7a6eb0f6e1cb14890506713d169b203ba87d6f42
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 27/06/2022 09:37:23
Message:
[HUDI-4309] Spark3.2 custom parser should not throw exception (#5947) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala|12 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala|10 3

Revision: 72fa19bcc9586e693f4afc99232c2467e93d2148
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 27/06/2022 11:09:30
Message:
[HUDI-4316] Support for spillable diskmap configuration when constructing HoodieMergedLogRecordScanner (#5959) #MsgLength=112


----
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FormatUtils.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|7 2

Revision: 8f4e2a189e0d89665aaa2a2487c13971ab87b1ef
Author: leesf <490081539@qq.com>
Date: 27/06/2022 12:50:58
Message:
[HUDI-4315] Do not throw exception in BaseSpark3Adapter#toTableIdentifier (#5957) #MsgLength=83


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|44 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|12 5

Revision: 26c967bac60de394ca78e79d27647067680ed630
Author: ForwardXu <forwardxu315@gmail.com>
Date: 27/06/2022 13:06:50
Message:
[HUDI-3504] Support bootstrap command based on Call Produce Command (#5977) #MsgLength=77


----
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/BootstrapExecutorUtils.java|254 0
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/SchemaProvider.java|58 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|3 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunBootstrapProcedure.scala|144 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapMappingProcedure.scala|117 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapPartitionsProcedure.scala|75 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala|89 0

Revision: 3a1fd22841ab40b98589f5dc17717548500bde4b
Author:  <408317717@qq.com>
Date: 27/06/2022 16:09:44
Message:
[HUDI-4311] Fix Flink lose data on some rollback scene (#5950) #MsgLength=64


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java|0 2

Revision: 8846849a03f559e3835a95a8ca672ec6ff00668d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 27/06/2022 19:57:16
Message:
[HUDI-4291] Fix flaky TestCleanPlanExecutor#testKeepLatestFileVersions (#5930) #MsgLength=80


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|120 52

Revision: b14ed47f211b662e064941c2b9e2fc6c5db7ba9b
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 28/06/2022 09:43:36
Message:
[HUDI-3506] Add call procedure for CommitsCommand (#5974) #MsgLength=161


----
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala|81 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|6 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala|183 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala|123 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitPartitionsProcedure.scala|140 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitWriteStatsProcedure.scala|115 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala|293 0

Revision: 09dc001430dab2fef1d36d463538cfe403606e22
Author: KnightChess <981159963@qq.com>
Date: 28/06/2022 09:44:41
Message:
[HUDI-4325] fix spark sql procedure cause ParseException with semicolon (#5982) #MsgLength=154


----
Modified: hudi-spark-datasource/hudi-spark/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlCommon.g4|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala|20 0

Revision: 08eba914edf6c0c404fe0a9c88896a5dd0821c8f
Author: ForwardXu <forwardxu315@gmail.com>
Date: 28/06/2022 15:08:48
Message:
[HUDI-4333] fix HoodieFileIndex's listFiles method log print skipping percent NaN (#5990) #MsgLength=91


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|4 4

Revision: efb971901818479e37714fab3b655ed3dc57477b
Author: BruceLin <brucekellan@gmail.com>
Date: 28/06/2022 20:42:26
Message:
[HUDI-4332] The current instant may be wrong under some extreme conditions in AppendWriteFunction. (#5988) #MsgLength=108


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|7 8

Revision: ed823f1c6f99fe1626a07b347d4ce063f47c42f8
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 29/06/2022 03:27:32
Message:
[HUDI-4320] Make sure `HoodieStorageConfig.PARQUET_WRITE_LEGACY_FORMAT_ENABLED` could be specified by the writer (#5970) #MsgLength=290


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java|7 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|35 11
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|43 31
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/DefaultSource.java|2 2
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/DefaultSource.java|2 2

Revision: fd7d25ab630cdd7a3adf21d8a30e03ab718d65d4
Author: bschell <bdscheller@gmail.com>
Date: 29/06/2022 03:54:23
Message:
[HUDI-1176] Upgrade hudi to log4j2 (#5366) #MsgLength=225


----
Modified: hudi-aws/pom.xml|10 2
Modified: hudi-cli/pom.xml|10 2
Modified: hudi-client/hudi-client-common/pom.xml|10 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|23 15
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|26 15
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|16 9
Modified: hudi-gcp/pom.xml|10 2
Modified: hudi-integ-test/pom.xml|10 2
Modified: hudi-kafka-connect/pom.xml|10 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|10 2
Modified: hudi-sync/hudi-adb-sync/pom.xml|10 2
Modified: hudi-sync/hudi-datahub-sync/pom.xml|10 2
Modified: hudi-sync/hudi-hive-sync/pom.xml|10 2
Modified: hudi-timeline-service/pom.xml|10 2
Modified: hudi-utilities/pom.xml|10 2
Modified: packaging/hudi-integ-test-bundle/pom.xml|10 2
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|10 2
Modified: packaging/hudi-timeline-server-bundle/pom.xml|10 2
Modified: pom.xml|14 4

Revision: e3eb14ad2d5bd25fcfd6bb2eb6e991558c0684ed
Author: Teng <teng_huo@outlook.com>
Date: 29/06/2022 06:13:29
Message:
[HUDI-4334] close SparkRDDWriteClient after usage in Create/Delete/RollbackSavepointsProcedure (#5994) #MsgLength=104


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointsProcedure.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointsProcedure.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackSavepointsProcedure.scala|2 0

Revision: 637660b7aa0b5259af6b9ef943f8a8c76bc19924
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 29/06/2022 16:43:31
Message:
[HUDI-1575] Claim RFC-56: Early Conflict Detection For Multi-writer (#6002) #MsgLength=144


----
Modified: rfc/README.md|1 0

Revision: e71f04768e7ba9b6278298bbafd0182e9000e31b
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 30/06/2022 01:12:46
Message:
[MINOR] Make CLI 'commit rollback' using rollbackUsingMarkers false as default (#5174) #MsgLength=136


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|1 1

Revision: 03a94d9ff5bc673fc68da6681eea7b7d881e1881
Author: wenningd <wenningding95@gmail.com>
Date: 30/06/2022 08:04:34
Message:
[HUDI-4331] Allow loading external config file from class loader (#5987) #MsgLength=124


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|15 1

Revision: 3948b8935a79e0773e1e4d77bb1ded5edd7e8d4f
Author: luoyajun <luoyajun1010@gmail.com>
Date: 30/06/2022 09:12:00
Message:
[HUDI-4336] Fix records overwritten bug with binary primary key (#5996) #MsgLength=73


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|5 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|15 0

Revision: 6a01f7029c0585f6bff88af5be0c85af6a5ba4be
Author: cxzl25 <cxzl25@users.noreply.github.com>
Date: 30/06/2022 10:20:59
Message:
[MINOR] Following #2070, Fix BindException when running tests on shared machines. (#5951) #MsgLength=91


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|3 1

Revision: cdaaa3c4c7f31e7bfdcc9ecd06df347e037e34bd
Author: RexAn <bonean131@gmail.com>
Date: 30/06/2022 10:26:00
Message:
[HUDI-4346] Fix params not update BULKINSERT_ARE_PARTITIONER_RECORDS_SORTED (#5999) #MsgLength=85


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 2

Revision: 8547899a39168c8399d32ee7ee22f35dfe3f7c84
Author: komao <masterwangzx@gmail.com>
Date: 30/06/2022 20:48:50
Message:
[HUDI-4285] add ByteBuffer#rewind after ByteBuffer#get in AvroDeseria (#5907) #MsgLength=239


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestAvroConversionUtils.scala|56 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|2 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|2 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|2 0

Revision: 397fd3014225c2c2ac3b563541425f2ce51eba54
Author: miomiocat <284487410@qq.com>
Date: 01/07/2022 01:00:13
Message:
[HUDI-3984] Remove mandatory check of partiton path for cli command (#5458) #MsgLength=77


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|8 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|95 26

Revision: 62a0c962aceae5d1c803d48c943c2155ec3ef5f1
Author: RexAn <bonean131@gmail.com>
Date: 01/07/2022 02:07:40
Message:
[HUDI-3634] Could read empty or partial HoodieCommitMetaData in downstream if using HDFS (#5048) #MsgLength=220


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|64 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|2 29
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|44 0

Revision: bdf73b26501de62799c4968c197a6ab085019bb7
Author: JerryYue-M <272614347@qq.com>
Date: 02/07/2022 08:38:46
Message:
[HUDI-3953]Flink Hudi module should support low-level source and sink api (#5445) #MsgLength=133


----
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/HoodiePipeline.java|271 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|126 0

Revision: 47792a318656ecae0203d44f637742a152bbb0e4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 03/07/2022 08:29:31
Message:
[HUDI-4353] Column stats data skipping for flink (#6026) #MsgLength=58


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|9 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|7 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/NonThrownExecutor.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/FileIndex.java|117 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|13 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/StreamReadMonitoringFunction.java|3 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java|377 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ExpressionEvaluator.java|552 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|33 42
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|32 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java|11 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ExpressionUtils.java|180 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataProjection.java|8 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ViewStorageProperties.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java|1 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|3 3
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/stats/TestColumnStatsIndices.java|98 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/stats/TestExpressionEvaluator.java|374 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|31 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableSource.java|7 11
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestAvroSchemaConverter.java|53 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestConfigurations.java|3 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestViewStorageProperties.java|1 1

Revision: c00ea8498527d44de127ba34700dfe5000db3652
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 03/07/2022 08:47:48
Message:
[HUDI-3505] Add call procedure for UpgradeOrDowngradeCommand (#6012) #MsgLength=117


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|2 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala|107 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala|97 0

Revision: c0e15879668537d6de96db2994fc68209ad0baa5
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 03/07/2022 17:17:25
Message:
[HUDI-3730] Improve meta sync class design and hierarchies (#5854) #MsgLength=285


----
Modified: docker/demo/sparksql-incremental.commands|9 9
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|22 42
Renamed: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncTool.java [from hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java]|14 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/TypedProperties.java|6 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/StringUtils.java|16 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestStringUtils.java|9 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|60 45
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestHiveSyncContext.java|7 6
Modified: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncConfig.java|102 94
Modified: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/BigQuerySyncTool.java|40 27
Modified: hudi-gcp/src/main/java/org/apache/hudi/gcp/bigquery/HoodieBigQuerySyncClient.java|27 82
Modified: hudi-gcp/src/test/java/org/apache/hudi/gcp/bigquery/TestBigQuerySyncConfig.java|24 68
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|6 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/helpers/HiveServiceProvider.java|7 9
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|8 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|4 67
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|39 39
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|11 12
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|36 51
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/cli/BootstrapExecutorUtils.java|17 11
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|6 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaApp.java|12 6
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaGenerateApp.java|12 6
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|12 6
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/TestDataSourceUtils.java|7 36
Deleted: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AbstractAdbSyncHoodieClient.java|0 128
Modified: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncConfig.java|96 127
Modified: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncTool.java|93 76
Modified: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/HoodieAdbJdbcClient.java|112 48
Modified: hudi-sync/hudi-adb-sync/src/test/java/org/apache/hudi/sync/adb/TestAdbSyncConfig.java|58 33
Modified: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncClient.java|13 70
Modified: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/DataHubSyncTool.java|19 23
Modified: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/DataHubSyncConfig.java|40 30
Modified: hudi-sync/hudi-datahub-sync/src/main/java/org/apache/hudi/sync/datahub/config/HoodieDataHubDatasetIdentifier.java|8 5
Modified: hudi-sync/hudi-datahub-sync/src/test/java/org/apache/hudi/sync/datahub/config/TestDataHubSyncConfig.java|22 4
Deleted: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/AbstractHiveSyncHoodieClient.java|0 142
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveStylePartitionValueExtractor.java|2 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|124 246
Added: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java|128 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|121 123
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java]|71 90
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/MultiPartKeysValueExtractor.java|8 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/NonPartitionedExtractor.java|9 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedDayPartitionValueExtractor.java|9 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/SlashEncodedHourPartitionValueExtractor.java|9 6
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/DDLExecutor.java|2 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|45 38
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|17 17
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|19 16
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|36 28
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncConfig.java|27 29
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/GlobalHiveSyncTool.java|19 21
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitParams.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitConfig.java]|37 26
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitTool.java|25 23
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/ReplicationStateSync.java|10 14
Renamed: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/transaction/lock/HiveMetastoreBasedLockProvider.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveMetastoreBasedLockProvider.java]|8 7
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HivePartitionUtil.java|18 12
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/util/HiveSchemaUtil.java|17 11
Deleted: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncGlobalCommitTool.java|0 128
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|151 139
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java|1 1
Added: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|154 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveSyncFunctionalTestHarness.java|32 22
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|23 13
Deleted: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncHoodieClient.java|0 276
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieMetaSyncOperations.java|196 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncClient.java|161 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|88 52
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncTool.java|62 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/FieldSchema.java|83 0
Added: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/PartitionEvent.java|50 0
Renamed: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/model/PartitionValueExtractor.java [from hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/PartitionValueExtractor.java]|8 7
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ConfigUtils.java|14 2
Renamed: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SparkDataSourceTableUtils.java [from hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/AbstractSyncTool.java]|13 39
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java|27 20
Modified: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestSyncUtilHelpers.java|51 24
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/BootstrapExecutor.java|9 6
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|6 4
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHiveIncrementalPuller.java|26 22
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|17 11
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|10 7
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|28 17
Modified: packaging/hudi-aws-bundle/pom.xml|1 1

Revision: e0954040a9ce490843a56d3497715bbc9eb7ffc0
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 03/07/2022 21:44:56
Message:
[HUDI-3511] Add call procedure for MetadataCommand (#6018) #MsgLength=60


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|7 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataFilesProcedure.scala|83 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataPartitionsProcedure.scala|81 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataCreateProcedure.scala|80 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataDeleteProcedure.scala|71 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataInitProcedure.scala|84 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataStatsProcedure.scala|75 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateMetadataFilesProcedure.scala|147 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala|262 0

Revision: c091e4cc3029fcad734667068b7177ea6f871a33
Author: voonhous <voonhousu@gmail.com>
Date: 05/07/2022 06:07:19
Message:
[HUDI-3730] Add ConfigTool#toMap UT (#6035) #MsgLength=95


----
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/ConfigUtils.java|4 0
Added: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestConfigUtils.java|50 0

Revision: 6187622178e4e802f4a32a5fa8c856846bf12bd5
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 05/07/2022 09:03:50
Message:
[MINOR] Improve variable names (#6039) #MsgLength=40


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ReflectionUtils.java|3 3
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/util/SyncUtilHelpers.java|19 19

Revision: 45fdcf68a1ce7e780f472b4af67edb4946a4fbc3
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 05/07/2022 10:24:18
Message:
[HUDI-3116]Add a new HoodieDropPartitionsTool to let users drop table partitions through a standalone job. (#4459) #MsgLength=164


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java|396 0

Revision: fbda4ad5bd7cfb8a06badbaaefafafe95ea93b6b
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 05/07/2022 14:37:21
Message:
[HUDI-4360] Fix HoodieDropPartitionsTool based on refactored meta sync (#6043) #MsgLength=80


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java|16 12

Revision: 23c9c5c2962e1ac053cb4395fa148b9015272990
Author: xi chaomin <36392121+xicm@users.noreply.github.com>
Date: 05/07/2022 22:50:17
Message:
[HUDI-3836] Improve the way of fetching metadata partitions from table (#5286) #MsgLength=120


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieKeyLookupHandle.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|2 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/RunIndexActionExecutor.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndexHelper.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|13 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieIndex.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|5 5
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|1 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|2 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|16 17

Revision: 8570c3aab432c2313d20f80ace70704fbc61974c
Author: ForwardXu <forwardxu315@gmail.com>
Date: 05/07/2022 23:56:32
Message:
[HUDI-4359] Support show_fs_path_detail command on Call Produce Command (#6042) #MsgLength=81


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFsPathDetailProcedure.scala|112 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestShowFsPathDetailProcedure.scala|54 0

Revision: 3670e82af5b0298190def96a536fba553b745826
Author:  <dongkelun01@inspur.com>
Date: 06/07/2022 00:08:23
Message:
[HUDI-4356] Fix the error when sync hive in CTAS (#6029) #MsgLength=58


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|1 0

Revision: b18c32379ff167c8338b8d18e1f88bb88eb07618
Author: shenjiayu17 <54424149+shenjiayu17@users.noreply.github.com>
Date: 06/07/2022 09:10:35
Message:
[HUDI-4219] Merge Into when update expression "col=s.col+2" on precombine cause exception (#5828) #MsgLength=99


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|34 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|181 0

Revision: 7eeaff9ee0ee12e93e6bd7a6e8fa5f15a2081a0b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/07/2022 13:42:58
Message:
[HUDI-4357] Support flink 1.15.x (#6050) #MsgLength=42


----
Modified: hudi-client/hudi-flink-client/pom.xml|6 6
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|1 2
Modified: hudi-examples/hudi-examples-flink/pom.xml|8 14
Modified: hudi-examples/hudi-examples-flink/src/main/java/org/apache/hudi/examples/quickstart/source/ContinuousFileSource.java|3 2
Modified: hudi-flink-datasource/hudi-flink/pom.xml|11 11
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/append/AppendWriteFunction.java|1 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|14 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/meta/CkpMetadata.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|3 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|4 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|1 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java|51 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/HoodiePipeline.java|5 6
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/source/ContinuousFileSource.java|3 2
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|23 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java|27 0
Added: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java|27 0
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/adapter/Utils.java|12 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java]|0 0
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java]|3 3
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|29 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java|27 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java|27 0
Modified: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/adapter/Utils.java|12 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|523 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java|70 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|79 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java|46 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java|54 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java|325 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java|473 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java|313 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java|84 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java|119 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java|76 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java|385 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java|199 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java|304 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java|57 0
Added: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java|304 0
Added: hudi-flink-datasource/hudi-flink1.15.x/pom.xml|175 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorAdapter.java|27 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/AbstractStreamOperatorFactoryAdapter.java|33 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/DataStreamScanProviderAdapter.java|34 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/DataStreamSinkProviderAdapter.java|37 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/MailboxExecutorAdapter.java|37 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/RateLimiterAdapter.java|40 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/adapter/Utils.java|62 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|523 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java|70 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|79 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java|46 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/ParquetDecimalVector.java|54 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/AbstractColumnReader.java|325 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java|473 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/BaseVectorizedColumnReader.java|313 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/FixedLenBytesColumnReader.java|84 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/Int64TimestampColumnReader.java|119 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/MapColumnReader.java|76 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java|385 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReader.java|199 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetDataColumnReaderFactory.java|304 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RowColumnReader.java|57 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/RunLengthDecoder.java|304 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/OutputAdapter.java|32 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/StateInitializationContextAdapter.java|31 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/StreamingRuntimeContextAdapter.java|43 0
Added: hudi-flink-datasource/hudi-flink1.15.x/src/test/java/org/apache/hudi/adapter/TestTableEnvs.java|52 0
Modified: hudi-flink-datasource/pom.xml|1 0
Modified: hudi-kafka-connect/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|6 6
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 1
Modified: pom.xml|58 7

Revision: e74ad324c33c3c51d762c4b3349b92a25888ed10
Author: Lanyuanxiaoyao <lanyuanxiaoyao@gmail.com>
Date: 07/07/2022 14:11:26
Message:
[HUDI-4152] Flink offline compaction support compacting multi compaction plan at once (#5677) #MsgLength=564


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|16 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|80 40
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/MultiCompactionPlanSourceFunction.java|90 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/AllPendingCompactionPlanSelectStrategy.java|35 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanSelectStrategy.java|34 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/InstantCompactionPlanSelectStrategy.java|50 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/MultiCompactionPlanSelectStrategy.java|42 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/SingleCompactionPlanSelectStrategy.java|43 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|117 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/TestCompactionPlanSelectStrategy.java|149 0

Revision: 5673819736571287c80568750bde0dde3b1c2b39
Author: KnightChess <981159963@qq.com>
Date: 08/07/2022 09:38:09
Message:
[HUDI-4309] fix spark32 repartition error (#6033) #MsgLength=51


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala|44 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala|22 10

Revision: c744848c5915c6e8b50d77c2502e772e76107ca7
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/07/2022 09:55:07
Message:
[HUDI-4366] Synchronous cleaning for flink bounded source (#6051) #MsgLength=67


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|8 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|2 2

Revision: a9985863967052783bad0e0a4381c9f602c31280
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/07/2022 09:56:10
Message:
[minor] following 4152, refactor the clazz about plan selection strategy (#6060) #MsgLength=82


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanSourceFunction.java|14 17
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/FlinkCompactionConfig.java|13 13
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|16 37
Deleted: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/MultiCompactionPlanSourceFunction.java|0 90
Deleted: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/AllPendingCompactionPlanSelectStrategy.java|0 35
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanStrategies.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/InstantCompactionPlanSelectStrategy.java]|42 18
Renamed: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanStrategy.java [from hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/CompactionPlanSelectStrategy.java]|10 6
Deleted: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/MultiCompactionPlanSelectStrategy.java|0 42
Deleted: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/strategy/SingleCompactionPlanSelectStrategy.java|0 43
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|11 37
Renamed: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/TestCompactionPlanStrategy.java [from hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/TestCompactionPlanSelectStrategy.java]|30 29

Revision: f20acb8dc35f7107301b103140f28b92cc7b4983
Author:  <scx_white@aliyun.com>
Date: 08/07/2022 15:08:11
Message:
[HUDI-4367] Support copyToTable on call (#6054) #MsgLength=49


----
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CopyToTableProcedure.scala|128 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCopyToTableProcedure.scala|353 0

Revision: fc8d96246a1a97ac1e569a19e58aefbfc33706eb
Author: Kumud Kumar Srivatsava Tirupati <kumudkumartirupati@users.noreply.github.com>
Date: 08/07/2022 22:47:49
Message:
[HUDI-4335] Bug fixes in AWSGlueCatalogSyncClient post schema evolution. (#5995) #MsgLength=296


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|18 16

Revision: b686c07407bc4d84f7fb181628d373f35ff9f1de
Author: xiarixiaoyao <mengtao0326@qq.com>
Date: 09/07/2022 03:08:38
Message:
[HUDI-4276] Reconcile schema-inject null values for missing fields and add new fields (#6017) #MsgLength=263


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|12 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieMergeHelper.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|21 21
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieCommonConfig.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaMerger.java|4 6
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/AvroSchemaEvolutionUtils.java|34 40
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/InternalSchemaUtils.java|5 2
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|30 0
Modified: hudi-common/src/test/java/org/apache/hudi/internal/schema/utils/TestAvroSchemaEvolutionUtils.java|65 13
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|1 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|19 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala|66 2

Revision: 6566fc6625072b76dd121f0b28ce7b1ef11b6259
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 09/07/2022 09:29:14
Message:
[HUDI-3500] Add call procedure for RepairsCommand (#6053) #MsgLength=59


----
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DeDupeType.scala|28 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DedupeSparkJob.scala|245 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/SparkHelpers.scala|134 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|5 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairAddpartitionmetaProcedure.scala|89 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairCorruptedCleanFilesProcedure.scala|86 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairDeduplicateProcedure.scala|86 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairMigratePartitionMetaProcedure.scala|112 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RepairOverwriteHoodiePropsProcedure.scala|89 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/table-config.properties|21 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRepairsProcedure.scala|507 0

Revision: 126b88b48ddf3af4ad6b48551cab09eea4c800c9
Author: liujinhui <965147871@qq.com>
Date: 09/07/2022 22:30:48
Message:
[HUDI-2150] Rename/Restructure configs for better modularity (#6061) #MsgLength=256


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|4 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|6 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|4 2
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieArchivalConfig.java|194 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCleanConfig.java|297 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|3 394
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodiePayloadConfig.java|20 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|8 8
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|71 26
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|11 5
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestTransactionManager.java|4 4
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|7 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|6 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|21 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|47 26
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|17 17
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBase.java|15 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieMetadataBootstrap.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/hbase/TestSparkHoodieHBaseIndex.java|5 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|18 12
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|25 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestCleanPlanExecutor.java|33 42
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java|5 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|7 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestBase.java|5 4
Modified: hudi-examples/hudi-examples-java/src/main/java/org/apache/hudi/examples/java/HoodieJavaWriteClientExample.java|2 2
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/spark/HoodieWriteClientExample.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|25 19
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|3 3
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectWriterProvider.java|9 10
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|3 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|11 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamerWithMultiWriter.java|9 9
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|4 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|8 5

Revision: 10aec07fd2557c1b91d76ec5ab1a4902e918c488
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date: 09/07/2022 22:32:36
Message:
[MINOR] Bump xalan from 2.7.1 to 2.7.2 (#6062) #MsgLength=327


----
Modified: pom.xml|1 1

Revision: 046044c83d6382d455cfb0ff5c1130ddf926fcf3
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 10/07/2022 13:46:09
Message:
[HUDI-4324] Remove use_jdbc config from hudi sync (#6072) #MsgLength=153


----
Modified: conf/hudi-defaults.conf.template|1 1
Modified: docker/demo/config/hoodie-incr.properties|2 1
Modified: docker/demo/sparksql-incremental.commands|2 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/test/resources/external-config/hudi-defaults.conf|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|0 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|0 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|0 4
Modified: hudi-kafka-connect/demo/config-sink-hive.json|0 1
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|0 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 10
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|0 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|0 5
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java|1 10
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java|13 19
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitParams.java|2 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java|3 6

Revision: 63f95ab801c0266bd4f03762b7a353f831b61784
Author:  <fengjian428@gmail.com>
Date: 10/07/2022 14:12:34
Message:
[HUDI-3730][RFC-55] Improve hudi-sync classes design and simplify configs (#5695) #MsgLength=280


----
Added: rfc/rfc-55/hudi-sync-class-diagram.png|0 0
Added: rfc/rfc-55/hudi-sync-flows.png|0 0
Added: rfc/rfc-55/rfc-55.md|157 0

Revision: 51244eba820b49cf5f5fbdfa6482482a74efaee7
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 11/07/2022 12:33:31
Message:
[HUDI-4323] Make database table names optional in sync tool (#6073) #MsgLength=183


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 2
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|10 14
Added: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java|55 0

Revision: a270eeeef97ebf87e1ab6c3595ff895b3692c946
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 11/07/2022 15:34:25
Message:
[MINOR] Update RFCs status (#6078) #MsgLength=36


----
Modified: rfc/README.md|8 8

Revision: 994c56148859a8b7d6b6b5c068a7715167e9bb70
Author: HunterXHunter <1356469429@qq.com>
Date: 12/07/2022 14:49:44
Message:
[HUDI-4298] When reading the mor table with QUERY_TYPE_SNAPSHOT,Unabl (#5937) #MsgLength=180


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteCopyOnWrite.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|57 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/utils/TestWriteBase.java|4 15
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|105 41

Revision: ee956b8951f673bf69cd7104255cfef298d09a8c
Author: Luning (Lucas) Wang <rsl4@foxmail.com>
Date: 12/07/2022 15:03:24
Message:
[HUDI-4379] Bump Flink versions to 1.14.5 and 1.15.1 (#6080) #MsgLength=62


----
Modified: pom.xml|2 2

Revision: e70a427956be8206e15aaf158680d2d7f4dbe215
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/07/2022 15:19:26
Message:
[HUDI-4391] Incremental read from archived commits for flink (#6096) #MsgLength=70


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/InstantRange.java|106 14
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|8 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/partitioner/profile/WriteProfiles.java|42 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/IncrementalInputSplits.java|155 26
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|8 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|34 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|100 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestUtils.java|8 0

Revision: aaccc63ad5afe6b15c379520722943b88df9c9f9
Author: Yann Byron <biyan900116@gmail.com>
Date: 14/07/2022 15:36:26
Message:
[RFC-51] [HUDI-3478] Hudi to support Change-Data-Capture (#5436) #MsgLength=140


----
Added: rfc/rfc-51/arch.jpg|0 0
Added: rfc/rfc-51/points.jpg|0 0
Added: rfc/rfc-51/query_cdc_on_mor.jpg|0 0
Added: rfc/rfc-51/read_cdc_log_file.jpg|0 0
Added: rfc/rfc-51/rfc-51.md|281 0
Added: rfc/rfc-51/scenario-definition.jpg|0 0

Revision: 05606708fabdd3b6414cce04802ac85617976d04
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 14/07/2022 16:00:08
Message:
[HUDI-4393] Add marker file for target file when flink merge handle rolls over (#6103) #MsgLength=88


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeAndReplaceHandle.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|6 22

Revision: 4898ea52f77758e682ca1ffc59c6f30d184c7638
Author: Tim Brown <tim.brown126@gmail.com>
Date: 15/07/2022 09:11:45
Message:
[HUDI-4399][RFC-57] Claim RFC 57 for DeltaStreamer proto support (#6112) #MsgLength=74


----
Modified: rfc/README.md|1 0

Revision: b781b310452f117dd11c2cd5322b0cb4bea5c423
Author: JerryYue-M <272614347@qq.com>
Date: 15/07/2022 12:21:50
Message:
[HUDI-4397] Flink Inline Cluster and Compact plan distribute strategy changed from rebalance to hash to avoid potential multiple threads accessing the same file (#6106) #MsgLength=220


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|8 4

Revision: 726e8e3590bad14e2ab39bb733873a13d079a548
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 16/07/2022 01:23:21
Message:
[MINOR] Disable TestHiveSyncGlobalCommitTool (#6119) #MsgLength=54


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|2 0

Revision: 0faa562b6fc4bf3368d099bf9b43381baf77dd1a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/07/2022 12:02:17
Message:
[HUDI-4403] Fix the end input metadata for bounded source (#6116) #MsgLength=67


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|11 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|14 9
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|8 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|13 9
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|4 21

Revision: 6aec9d754f4a091136c2dba9643b27ae66db255b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/07/2022 20:46:23
Message:
[HUDI-4408] Reuse old rollover file as base file for flink merge handle (#6120) #MsgLength=81


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/FlinkMergeHandle.java|20 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|1 11

Revision: 80368a049d0764b45ae0ce998a0e7d5897858615
Author: simonsssu <barley0806@gmail.com>
Date: 16/07/2022 22:33:26
Message:
[HUDI-3503]  Add call procedure for CleanCommand (#6065) #MsgLength=156


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala|95 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala|64 0

Revision: 4bda6afe0b2858d31337fe42979929523ba07f6d
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 17/07/2022 07:26:48
Message:
[HUDI-4249] Fixing in-memory `HoodieData` implementation to operate lazily  (#5855) #MsgLength=85


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java|0 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bloom/ListBasedHoodieBloomIndexHelper.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|2 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|3 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndex.java|4 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|1 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|1 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|2 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|2 3
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|4 7
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|3 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/HoodieJavaWriteClient.java|2 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/JavaExecutionStrategy.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/common/HoodieJavaEngineContext.java|3 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/index/JavaHoodieIndex.java|4 4
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaTable.java|1 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|3 5
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaDeleteHelper.java|2 3
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|2 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaPairRDD.java|14 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/data/HoodieJavaRDD.java|10 22
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieBaseListData.java|72 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieData.java|111 56
Renamed: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieListData.java [from hudi-common/src/main/java/org/apache/hudi/common/data/HoodieList.java]|80 76
Added: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieListPairData.java|201 0
Deleted: hudi-common/src/main/java/org/apache/hudi/common/data/HoodieMapPair.java|0 168
Modified: hudi-common/src/main/java/org/apache/hudi/common/data/HoodiePairData.java|46 24
Modified: hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieLocalEngineContext.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|14 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/Either.java|93 0
Renamed: hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieListData.java [from hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieList.java]|19 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieListDataPairData.java [from hudi-common/src/test/java/org/apache/hudi/common/data/TestHoodieMapPair.java]|50 30
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionCommitSink.java|2 2

Revision: ded197800aaacd270ea601037caeb59f84af7788
Author: RexAn <bonean131@gmail.com>
Date: 17/07/2022 16:11:45
Message:
[HUDI-4170] Make user can use hoodie.datasource.read.paths to read necessary files (#5722) #MsgLength=197


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|12 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|37 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|11 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|2 18
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|34 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|90 0

Revision: 3964c476e01c6f4de339df0b4777f9587fb1e68c
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 18/07/2022 09:49:29
Message:
Fix file group count issue with metadata partitions (#5892) #MsgLength=61


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|7 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/MetadataPartitionType.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieIndexer.java|25 6
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|58 4

Revision: 9282611baec5069156f627a2c96ee8cdd480bf90
Author: Bo Cui <cuibo0108@163.com>
Date: 18/07/2022 11:46:23
Message:
[HUDI-4098] Support HMS for flink HudiCatalog (#6082) #MsgLength=101


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|6 0
Added: hudi-common/src/main/java/org/apache/hudi/exception/HoodieCatalogException.java|42 0
Modified: hudi-flink-datasource/hudi-flink/pom.xml|36 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsResolver.java|9 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java|18 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|203 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java|26 10
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogUtil.java|96 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java|899 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java|64 0
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TypeInfoLogicalTypeVisitor.java|236 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/FilePathUtils.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|15 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|42 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/HoodieCatalogTestUtils.java|66 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalogFactory.java|98 0
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java|182 0
Added: hudi-flink-datasource/hudi-flink/src/test/resources/hive-site.xml|30 0
Added: hudi-flink-datasource/hudi-flink/src/test/resources/test-catalog-factory-conf/hive-site.xml|26 0

Revision: 1959b843b706babed8c16ee31c6fc266871d709f
Author: liujinhui <965147871@qq.com>
Date: 18/07/2022 22:45:52
Message:
[HUDI-4409] Improve LockManager wait logic when catch exception (#6122) #MsgLength=73


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|5 0

Revision: 382d19e85b06d0fc7f4ad37bb4e4eae3f5e76b78
Author:  <fengjian428@gmail.com>
Date: 19/07/2022 07:52:47
Message:
[HUDI-4065] Add FileBasedLockProvider (#6071) #MsgLength=47


----
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/FileSystemBasedLockProvider.java|152 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|8 1
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestFileBasedLockProvider.java|135 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieClientMultiWriter.java|52 35
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/LockConfiguration.java|2 0

Revision: 6c3578069e985a3ec2a115585bd0fa8753d50ff6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/07/2022 15:38:47
Message:
[HUDI-4416] Default database path for hoodie hive catalog (#6136) #MsgLength=67


----
Modified: hudi-flink-datasource/hudi-flink/pom.xml|13 12
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|18 14
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java|56 44
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TypeInfoLogicalTypeVisitor.java|18 56
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|13 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|0 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/HoodieCatalogTestUtils.java|1 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java|2 1

Revision: e3675fe9b014f0d6c24caeaa23578a54e194e92c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/07/2022 16:10:19
Message:
[HUDI-4372] Enable matadata table by default for flink (#6066) #MsgLength=64


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|29 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|11 7
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ExpressionEvaluator.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestCompactionUtil.java|6 0

Revision: 2b828ccb98b48f122f2fcc5c268b8e2bf8fd8854
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/07/2022 05:09:45
Message:
[HUDI-4401] Skip HBase version check (#6114) #MsgLength=46


----
Modified: hudi-common/src/main/resources/hbase-site.xml|8 1

Revision: 348519f3cde1fba7a3c22f259f19ac6563f4db03
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 21/07/2022 09:38:26
Message:
[HUDI-4427] Add a computed column IT test (#6150) #MsgLength=51


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|28 0

Revision: 2394c629731f3f1705517e1366e1cad3950ddec7
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 21/07/2022 15:25:02
Message:
[HUDI-4146][RFC-55] Update config changes proposal (#6162) #MsgLength=60


----
Modified: rfc/rfc-55/rfc-55.md|23 7

Revision: de37774e120e0c21354f0ae31326736d5023e786
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 21/07/2022 17:36:06
Message:
[HUDI-3896] Porting Nested Schema Pruning optimization for Hudi's custom Relations (#5428) #MsgLength=1049


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|19 54
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala|77 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|14 55
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/common/HoodieExampleSparkUtils.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|32 27
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|162 50
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|0 19
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|4 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala|33 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSparkSessionExtension.scala|7 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|19 9
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieRelations.scala|56 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|57 26
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestMORDataSource.scala|40 30
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|2 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/avro/TestAvroSerDe.scala|61 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/avro/TestSchemaConverters.scala|40 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala|121 0
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystPlanUtils.scala|73 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|6 57
Added: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala|77 0
Deleted: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3SqlUtils.scala|0 45
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|4 64
Added: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/NestedSchemaPruning.scala|197 0
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark31CatalystExpressionUtils.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark3_1CatalystExpressionUtils.scala]|1 1
Added: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark31CatalystPlanUtils.scala|31 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|4 5
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|1 0
Renamed: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystExpressionUtils.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark3_2CatalystExpressionUtils.scala]|1 1
Added: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala|38 0
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|4 25
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|25 3

Revision: c7fe3fd01dc0b7b3d1c4c579391337a0f9c609dd
Author: wenningd <wenningding95@gmail.com>
Date: 21/07/2022 17:42:17
Message:
[HUDI-3764] Allow loading external configs while querying Hudi tables with Spark (#4915) #MsgLength=471


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/DFSPropertiesConfiguration.java|6 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|5 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSqlConf.scala|24 13

Revision: a33bdd32e37a0a7859256f9db32d2bef0a44c1fa
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 21/07/2022 21:20:47
Message:
[HUDI-3993] Replacing UDF in Bulk Insert w/ RDD transformation (#5470) #MsgLength=72


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java|126 125
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriter.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowParquetWriter.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|86 37
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandleWithoutMetaFields.java|0 64
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java|18 16
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|19 7
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|6 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|6 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGenUtils.java|59 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|68 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java|2 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/util/DataTypeUtils.java|0 95
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieUnsafeRowUtils.scala|120 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java|30 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java|27 14
Added: hudi-client/hudi-spark-client/src/test/scala/org/apache/spark/sql/TestHoodieUnsafeRowUtils.scala|166 0
Deleted: hudi-common/src/main/java/org/apache/hudi/TypeUtils.java|0 35
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/BloomFilter.java|8 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/HoodieDynamicBoundedBloomFilter.java|6 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/bloom/SimpleBloomFilter.java|7 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/Either.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|11 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/TypeUtils.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|1 1
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|4 5
Deleted: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieDatasetBulkInsertHelper.java|0 189
Deleted: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/SparkRowWriteHelper.java|0 72
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|71 49
Added: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala|158 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 8
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieDatasetBulkInsertHelper.java|57 41
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/DataSourceTestUtils.java|7 7
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|2 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestGenericRecordAndRowConsistency.scala|2 1
Modified: hudi-spark-datasource/hudi-spark3/pom.xml|26 30

Revision: 2bf7920bd9dcd1c357854c5aacba87251b60faf4
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 22/07/2022 00:57:18
Message:
[MINOR] Add logger for HoodieCopyOnWriteTableInputFormat (#6161) #MsgLength=116


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|4 0

Revision: 473be87aa5d71939c2e8a367851b0e3b96744bc0
Author: Rahil Chertara <rchertar@amazon.com>
Date: 21/07/2022 08:04:00
Message:
Disable EmrFS file metadata caching and EMR Spark's data prefetcher feature #MsgLength=76


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|3 0


Revision: 50cdb867c733536d93a83fbbe86cf46af04784e1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 22/07/2022 02:38:25
Message:
[HUDI-4400] Fix missing bloom filters in metadata table in non-partitioned table (#6113) #MsgLength=296


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java|169 34
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|6 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|12 11
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|3 2

Revision: 2e0dd297149f71bee2de0b7e52c86eb5f58a8894
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 22/07/2022 06:57:34
Message:
[HUDI-4204] Fixing NPE with row writer path and with OCC (#5850) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/DataSourceInternalWriterHelper.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|14 2

Revision: 36e656aa7732f8cd30dbbbebc8c8e230e91d015a
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 22/07/2022 06:58:40
Message:
[HUDI-4247] Upgrading protocol buffers version for presto bundle (#5852) #MsgLength=74


----
Modified: packaging/hudi-presto-bundle/pom.xml|1 1

Revision: 8e0b47e3609be579da1b66deb9b077b83f87ea90
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 22/07/2022 07:25:22
Message:
[MINOR] Fix result missing information issue in commits_compare Procedure (#6165) #MsgLength=130


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala|4 6

Revision: 51b578316102a42cd71f042425f14b4cc0689e6a
Author: ForwardXu <forwardxu315@gmail.com>
Date: 22/07/2022 09:40:52
Message:
[HUDI-4404] Fix insert into dynamic partition write misalignment (#6124) #MsgLength=74


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|27 31
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|150 10

Revision: 41653fc708854828bacb23ed624ca6b3a67d6737
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 22/07/2022 21:25:58
Message:
[MINOR] Fallback to default for hive-style partitioning, url-encoding configs (#6175) #MsgLength=134


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|2 2

Revision: d5c904e10e04980d360129a2ed6b73432b1d2206
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 22/07/2022 23:30:00
Message:
[MINOR] Fix CI issue with TestHiveSyncTool (#6110) #MsgLength=52


----
Modified: azure-pipelines.yml|4 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|3 3
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestCluster.java [from hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java]|25 36
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|58 101
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|2 5

Revision: eea4a692c09694c778354c726fdcd4a3d75e13d0
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 22/07/2022 23:35:07
Message:
[HUDI-4039] Make sure all builtin `KeyGenerator`s properly implement Spark specific APIs (#5523) #MsgLength=255


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/ComplexAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/CustomAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/GlobalAvroDeleteKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/NonpartitionedAvroKeyGenerator.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/SimpleAvroKeyGenerator.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/TimestampBasedAvroKeyGenerator.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java|41 35
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieInternalRowFileWriterFactory.java|27 38
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|44 41
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|511 83
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/ComplexKeyGenerator.java|18 15
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/CustomKeyGenerator.java|34 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/GlobalDeleteKeyGenerator.java|14 13
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/NonpartitionedKeyGenerator.java|21 13
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGenUtils.java|0 59
Deleted: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/RowKeyGeneratorHelper.java|0 355
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|36 14
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SparkKeyGeneratorInterface.java|48 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/TimestampBasedKeyGenerator.java|29 25
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/BaseBootstrapMetadataHandler.java|8 5
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/unsafe/UTF8StringBuilder.java|100 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieUnsafeRowUtils.scala|13 11
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieInternalRowParquetWriter.java|2 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/storage/row/TestHoodieRowCreateHandle.java|9 7
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkDatasetTestUtils.java|1 0
Deleted: hudi-client/hudi-spark-client/src/test/scala/org/apache/hudi/keygen/TestRowGeneratorHelper.scala|0 102
Modified: hudi-client/hudi-spark-client/src/test/scala/org/apache/spark/sql/TestHoodieUnsafeRowUtils.scala|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|4 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|11 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieTimer.java|13 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/ParquetUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/BaseKeyGenerator.java|2 12
Modified: hudi-common/src/main/java/org/apache/hudi/keygen/KeyGenerator.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestParquetUtils.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/DeltaGenerator.java|1 1
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|2 3
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/utils/KafkaConnectUtils.java|4 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java|13 23
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala|3 4
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestComplexKeyGenerator.java|11 11
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestCustomKeyGenerator.java|22 21
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestGlobalDeleteRecordGenerator.java|0 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestNonpartitionedKeyGenerator.java|2 3
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestSimpleKeyGenerator.java|19 14
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/keygen/TestTimestampBasedKeyGenerator.java|8 7
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/testutils/KeyGeneratorTestUtilities.java|1 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/ScalaAssertionSupport.scala|39 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|345 370

Revision: 716dd3512b9ae6a519f083ccc601c4c6ff9a8ab1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/07/2022 01:16:55
Message:
[MINOR] Disable Flink compactor IT test (#6189) #MsgLength=49


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|3 0

Revision: 6b84384022f0ee6e709d215d66c07b718c4e8467
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 23/07/2022 03:20:39
Message:
Revert "[MINOR] Fix CI issue with TestHiveSyncTool (#6110)" (#6192) #MsgLength=130


----
Modified: azure-pipelines.yml|0 4
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|1 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|1 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|3 3
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|101 58
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|2 2
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java [from hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestCluster.java]|36 25
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|2 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|5 2

Revision: 39f2a06c85d237c51c3bf2b1e2f6876e7eb65e06
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 23/07/2022 06:32:44
Message:
[HUDI-3979] Optimize out mandatory columns when no merging is performed (#5430) #MsgLength=328


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|2 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|59 41
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|14 10
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|16 13
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|94 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieRelations.scala|0 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|1 0

Revision: a36762a8628ba743f773acb8e0d1de1d71575359
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 23/07/2022 08:14:36
Message:
[HUDI-4303] Use Hive sentinel value as partition default to avoid type caste issues (#5954) #MsgLength=93


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/RowDataKeyGen.java|5 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/bulk/TestRowDataKeyGen.java|11 10
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestFileIndex.java|14 10
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/TestStreamReadOperator.java|5 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSourceDefaults.scala|9 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|5 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|11 11

Revision: d5c7c79d875125999a239392170399a90d04a5c6
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 23/07/2022 08:18:45
Message:
Revert "[HUDI-4324] Remove use_jdbc config from hudi sync (#6072)" (#6160) #MsgLength=137


----
Modified: conf/hudi-defaults.conf.template|1 1
Modified: docker/demo/config/hoodie-incr.properties|1 2
Modified: docker/demo/sparksql-incremental.commands|0 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java|1 1
Modified: hudi-common/src/test/resources/external-config/hudi-defaults.conf|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|4 0
Modified: hudi-kafka-connect/demo/config-sink-hive.json|1 0
Modified: hudi-kafka-connect/src/main/java/org/apache/hudi/connect/writers/KafkaConnectConfigs.java|1 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|10 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|1 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|5 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfigHolder.java|10 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java|19 13
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/replication/HiveSyncGlobalCommitParams.java|0 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieDropPartitionsTool.java|6 3

Revision: af10a97e7ac00271f05964818cc2d3311707e81d
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 23/07/2022 08:26:16
Message:
[HUDI-4435] Fix Avro field not found issue introduced by Avro 1.10 (#6155) #MsgLength=126


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java|9 1
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieRealtimeRecordReader.java|17 0

Revision: 340c3dbbe17d70099400a2754e5abb0f4e6a0712
Author:  <fengjian428@gmail.com>
Date: 23/07/2022 08:58:04
Message:
[HUDI-4437] Fix test conflicts by clearing file system cache (#6123) #MsgLength=241


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|0 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|3 2
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java|3 1

Revision: a5348cc6854e7b35b008fb922868d3b9b2a714f9
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 23/07/2022 13:47:47
Message:
[HUDI-4436] Invalidate cached table in Spark after write (#6159) #MsgLength=112


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|28 0

Revision: 859157ec01125ee98d2c38bbe767ab7eb0452924
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 23/07/2022 17:18:38
Message:
[MINOR] Fix Call Procedure code style (#6186) #MsgLength=128


----
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateMetadataTableProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataCreateProcedure.scala]|5 5
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CreateSavepointsProcedure.scala]|6 6
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteMarkerProcedure.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteMetadataTableProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataDeleteProcedure.scala]|5 5
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/DeleteSavepointsProcedure.scala]|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HdfsParquetImportProcedure.scala|7 7
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|10 10
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/InitMetadataTableProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/MetadataInitProcedure.scala]|6 6
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToSavepointProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackSavepointsProcedure.scala]|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunBootstrapProcedure.scala|15 15
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala|4 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapMappingProcedure.scala|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFileSystemViewProcedure.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataTableFilesProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataFilesProcedure.scala]|13 8
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataTablePartitionsProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ListMetadataPartitionsProcedure.scala]|5 5
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataTableStatsProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowMetadataStatsProcedure.scala]|5 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsFileSizeProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/UpgradeOrDowngradeProcedure.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateMetadataTableFilesProcedure.scala [from hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateMetadataFilesProcedure.scala]|5 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala|6 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala|10 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala|18 18
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala|9 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala|3 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala|3 3

Revision: f0e843249c4f64495ee8329ac4231237262c7bd1
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 23/07/2022 23:07:51
Message:
[MINOR] Bump CI timeout to 150m (#6198) #MsgLength=41


----
Modified: azure-pipelines.yml|5 5

Revision: f1f0109ab89f7317c89c6d1d51545a24f12b4692
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 24/07/2022 02:44:40
Message:
[HUDI-4440] Treat boostrapped table as non-partitioned in HudiFileIndex if partition column is missing from schema (#6163) #MsgLength=170


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|19 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|28 14

Revision: da28e38fe3d25e3ab212dc02312f0ae395371072
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 24/07/2022 03:37:04
Message:
[HUDI-4071] Make NONE sort mode as default for bulk insert (#6195) #MsgLength=68


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|1 1

Revision: 2d745057eae3f6644339ceaba2dfcb6450871442
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 24/07/2022 05:59:16
Message:
[HUDI-4420] Fixing table schema delineation on partition/data schema for Spark relations  (#5708) #MsgLength=99


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|17 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|93 69
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDataSourceHelper.scala|10 8
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala|124 119
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|11 31
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|95 25
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|1 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|3 3
Modified: hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|3 3

Revision: a0ffd05b7773c4c83714a60dcaa79332ee3aada3
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/07/2022 07:10:53
Message:
[HUDI-4448] Remove the latest commit refresh for timeline server (#6179) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|0 14
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestTableSchemaEvolution.java|1 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|0 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|2 21
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/TimelineService.java|0 10

Revision: ba11082282d48af41126b94e233ea12fcf89c279
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/07/2022 08:44:22
Message:
[HUDI-4450] Revert the checkpoint abort notification (#6181) #MsgLength=62


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|0 9
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/common/AbstractStreamWriteFunction.java|1 8

Revision: 1a5a9f7f03ec114afa9182af072ea4110b1fdd0d
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 24/07/2022 12:08:21
Message:
[HUDI-4439] Fix Amazon CloudWatch reporter for metadata enabled tables (#6164) #MsgLength=184


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|5 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|42 22

Revision: a54c963543039cc6dce50d51830bb272f71baec2
Author: KnightChess <981159963@qq.com>
Date: 24/07/2022 21:29:47
Message:
[HUDI-4348] fix merge into sql data quality in concurrent scene (#6020) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|7 4

Revision: 1a910fd47396e012b58477c709dd340f3a0281af
Author: simonsssu <barley0806@gmail.com>
Date: 25/07/2022 09:28:46
Message:
[HUDI-3510] Add sync validate procedure (#6200) #MsgLength=141


----
Renamed: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncValidateCommand.java [from hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncCommand.java]|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateHoodieSyncProcedure.scala|208 0

Revision: 2a08a65f719b5c155dde85a0dc318af5033c31d5
Author: Vander <30547463+vanderzh@users.noreply.github.com>
Date: 25/07/2022 12:41:42
Message:
[MINOR] Fix typos in Spark client related classes (#6204) #MsgLength=59


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SingleSparkJobExecutionStrategy.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkInternalSchemaConverter.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/utils/SparkValidatorUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java|3 3

Revision: 76a28daeb08e7192d75dfc447624c827643bef0d
Author: Tim Brown <tim@onehouse.ai>
Date: 25/07/2022 12:42:15
Message:
[HUDI-4456] Close FileSystem in SparkClientFunctionalTestHarness  (#6201) #MsgLength=75


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|14 1

Revision: f6e7227ed548ea5bac66e224df42e2985fb814a9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 25/07/2022 13:08:33
Message:
[MINOR] Only log stdout output for non-zero exit from commands in IT (#6199) #MsgLength=78


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestBase.java|3 1

Revision: b513232449a4d85648dfb4675c0bdb1073efbcf2
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/07/2022 17:49:01
Message:
[HUDI-4458] Add a converter cache for flink ColumnStatsIndices (#6205) #MsgLength=72


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java|18 8

Revision: 1fda9ee9bb100d78638467965d2d6dc09f3f07dc
Author: superche <73096722+hechao-ustc@users.noreply.github.com>
Date: 25/07/2022 18:40:23
Message:
[HUDI-4071] Match ROLLBACK_USING_MARKERS_ENABLE in sql as datasource (#6206) #MsgLength=125


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala|2 0

Revision: 71c2c3102b854a02116c7deb00dfa72b333b4382
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/07/2022 21:35:34
Message:
[HUDI-4455] Improve test classes for TestHiveSyncTool (#6202) #MsgLength=122


----
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/testsuite/job/TestHoodieTestSuiteJob.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|3 3
Renamed: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestCluster.java [from hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/TestCluster.java]|26 36
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestService.java|61 106
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|3 3
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/HoodieDeltaStreamerTestBase.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/testutils/UtilitiesTestBase.java|2 5

Revision: eee6a02f77c625c86258a5e9b6ae5013c1268c5c
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 25/07/2022 23:13:06
Message:
[HUDI-4456] Clean up test resources (#6203) #MsgLength=45


----
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|1 1
Modified: hudi-client/hudi-java-client/src/test/java/org/apache/hudi/testutils/HoodieJavaClientTestHarness.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/MiniClusterUtil.java|2 2
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestInputPathHandler.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|1 1

Revision: 6e7ac457352e007939ba3c44c9dc197de7b88ed3
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 26/07/2022 02:42:29
Message:
[HUDI-3884] Support archival beyond savepoint commits (#5837) #MsgLength=111


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieTimelineArchiver.java|38 17
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieArchivalConfig.java|18 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|5 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/HoodieTable.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/io/TestHoodieTimelineArchiver.java|129 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|12 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|27 9
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieTimeline.java|9 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieFileGroup.java|26 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|51 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|15 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|22 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/MockHoodieTimeline.java|6 0

Revision: e7c8df7e8b886261a9b0da7696a75e73eca04f11
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 26/07/2022 06:36:12
Message:
[HUDI-4250][HUDI-4202] Optimize performance of Column Stats Index reading in Data Skipping  (#5746) #MsgLength=276


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/JFunction.scala|30 2
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|9 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|3 3
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieMetadataConfig.java|28 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|42 40
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|2 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ColumnStatsIndices.java|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/ColumnStatsIndexSupport.scala|319 162
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCatalystUtils.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetUtils.scala]|27 7
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala|3 4
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileIndex.scala|50 50
Renamed: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieUnsafeUtils.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieUnsafeRDDUtils.scala]|41 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieFileIndex.scala|7 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|88 80
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestParquetColumnProjection.scala|2 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|22 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|22 0

Revision: 74d7b4d751ac3d3d701db6a4c54e858d089a7e07
Author: Dongwook Kwon <dongwook@amazon.com>
Date: 11/03/2021 09:42:09
Message:
[HUDI-4471] Relocate AWSDmsAvroPayload class to hudi-common #MsgLength=60


----
Renamed: hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java [from hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java]|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/AWSDmsTransformer.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestAWSDatabaseMigrationServiceSource.java|1 1

Revision: 1ea1e659c2862e512b3989038a4499bc33a67e6a
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 26/07/2022 17:58:31
Message:
[HUDI-4474] Infer metasync configs (#6217) #MsgLength=700


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|5 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|0 4
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|26 31
Modified: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java|76 0

Revision: e5faf2cc8470f83323b34305a135461c7e43d14e
Author:  <fengjian428@gmail.com>
Date: 26/07/2022 18:09:17
Message:
[HUDI-4210] Create custom hbase index to solve data skew issue on hbase regions (#5797) #MsgLength=89


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieHBaseIndexConfig.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/RebalancedSparkHoodieHBaseIndex.java|38 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|7 3

Revision: 717f159bfd171299d6e748eaf31363321418cea0
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 27/07/2022 18:30:44
Message:
[HUDI-3730] Keep metasync configs backward compatible (#6221) #MsgLength=63


----
Renamed: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AwsGlueCatalogSyncTool.java [from hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncTool.java]|3 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|2 2
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|30 21
Modified: packaging/hudi-aws-bundle/pom.xml|1 1

Revision: 924c30c7ea3236151cc3670e3f7e4b96d00d2d95
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 28/07/2022 05:04:59
Message:
[HUDI-4469] Flip reuse flag to true in HoodieBackedTableMetadata to improve file listing (#6214) #MsgLength=98


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|16 12
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataFileSystemView.java|1 1

Revision: cdaec5a8da060157eb7426b5b70419c5f8868e04
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date: 28/07/2022 05:47:49
Message:
[HUDI-4186] Support Hudi with Spark 3.3.0 (#5943) #MsgLength=99


----
Modified: .github/workflows/bot.yml|4 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieStorageConfig.java|15 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|4 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/bootstrap/HoodieSparkBootstrapSchemaProvider.java|14 4
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowParquetWriteSupport.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|2 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala|3 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|39 9
Modified: hudi-examples/hudi-examples-flink/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieFlinkQuickstart.java|2 0
Modified: hudi-examples/hudi-examples-spark/pom.xml|6 0
Modified: hudi-spark-datasource/README.md|12 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|23 13
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|4 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/parser/HoodieCommonSqlParser.scala|8 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTableDropPartition.scala|9 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala|7 4
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/hudi/Spark2HoodieFileScanRDD.scala|35 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|30 5
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|0 17
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark31HoodieFileScanRDD.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieFileScanRDD.scala]|7 6
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|35 2
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark31NestedSchemaPruning.scala [from hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/NestedSchemaPruning.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/Spark312ResolveHudiAlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommand312.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_1ExtendedSqlParser.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark312ExtendedSqlParser.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.2.x/pom.xml [from hudi-spark-datasource/hudi-spark3/pom.xml]|34 31
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/antlr4/imports/SqlBase.g4 [from hudi-spark-datasource/hudi-spark3/src/main/antlr4/imports/SqlBase.g4]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4 [from hudi-spark-datasource/hudi-spark3/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java [from hudi-spark-datasource/hudi-spark3/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister [from hudi-spark-datasource/hudi-spark3/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister]|0 0
Added: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/hudi/Spark32HoodieFileScanRDD.scala|35 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystExpressionUtils.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystExpressionUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala]|29 5
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroDeserializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroSerializer.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_2AvroSerializer.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala]|0 0
Added: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark32NestedSchemaPruning.scala|197 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/Spark32ResolveHudiAlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/ResolveHudiAlterTableCommandSpark32.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala]|0 0
Added: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|367 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlAstBuilder.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_2ExtendedSqlParser.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java [from hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java [from hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java [from hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/test/resources/log4j-surefire-quiet.properties [from hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire-quiet.properties]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2.x/src/test/resources/log4j-surefire.properties [from hudi-spark-datasource/hudi-spark3/src/test/resources/log4j-surefire.properties]|0 0
Added: hudi-spark-datasource/hudi-spark3.3.x/pom.xml|332 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/antlr4/imports/SqlBase.g4|1908 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/antlr4/org/apache/hudi/spark/sql/parser/HoodieSqlBase.g4|33 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieVectorizedParquetRecordReader.java|191 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|19 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark33HoodieFileScanRDD.scala|35 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala|47 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalystExpressionUtils.scala|85 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalystPlanUtils.scala|38 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_3Adapter.scala|80 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|499 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|381 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroUtils.scala|228 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_3AvroDeserializer.scala|31 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_3AvroSerializer.scala|29 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala|33 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala|43 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark33NestedSchemaPruning.scala|195 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33DataSourceUtils.scala|77 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieParquetFileFormat.scala|505 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/Spark33ResolveHudiAlterTableCommand.scala|72 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|222 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala|57 0
Renamed: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala [from hudi-spark-datasource/hudi-spark3/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala]|1 1
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala|129 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala|98 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java|23 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala|347 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_3ExtendedSqlAstBuilder.scala|3351 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/parser/HoodieSpark3_3ExtendedSqlParser.scala|199 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieBulkInsertDataInternalWriter.java|174 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java|330 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/test/java/org/apache/hudi/spark3/internal/TestReflectUtil.java|53 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire-quiet.properties|30 0
Added: hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire.properties|31 0
Modified: pom.xml|48 10

Revision: 51599af2818562b6cea9bd01bd81af363209a2d2
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 28/07/2022 05:58:29
Message:
[HUDI-4126] Disable file splits for Bootstrap real time queries (via InputFormat) (#6219) #MsgLength=214


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieRealtimePath.java|1 1
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/TestHoodieCopyOnWriteTableInputFormat.java|60 0
Added: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/realtime/TestHoodieMergeOnReadTableInputFormat.java|68 0

Revision: 0a5ce000bfbd8a9696f08c763b1863939465627a
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 28/07/2022 10:55:06
Message:
[HUDI-4490] Make AWSDmsAvroPayload class backwards compatible (#6229) #MsgLength=123


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java|1 2
Renamed: hudi-common/src/test/java/org/apache/hudi/common/model/TestAWSDmsAvroPayload.java [from hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/payload/TestAWSDmsAvroPayload.java]|2 5
Added: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/payload/AWSDmsAvroPayload.java|48 0

Revision: 07eedd3ef6a57467582c8abad3ef0f42b98a0044
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 28/07/2022 20:57:13
Message:
[HUDI-4484] Add default lock config options for flink metadata table (#6222) #MsgLength=78


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/TransactionManager.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieLockConfig.java|10 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|15 8
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|0 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|18 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|1 5
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|7 10
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|6 1

Revision: ea1fbc71ecf9eec20815e2bc51bb8489e4ca1804
Author: Yann Byron <biyan900116@gmail.com>
Date: 28/07/2022 22:15:01
Message:
[HUDI-4494] keep the fields' order when data is written out of order (#6233) #MsgLength=78


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|9 6
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|16 0

Revision: 70b5cf6dabf03ac54d5472b147bf52303de14e63
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date: 29/07/2022 00:32:34
Message:
[MINOR] Minor changes around Spark 3.3 support (#6231) #MsgLength=104


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/DeleteHoodieTableCommand.scala|1 2
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_3Adapter.scala|1 1

Revision: cfd0c1ee34460332053491fd1e68c2607c14e958
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 29/07/2022 06:36:03
Message:
[HUDI-4081][HUDI-4472] Addressing Spark SQL vs Spark DS performance gap (#6213) #MsgLength=81


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala|22 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|21 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|50 37
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/InsertIntoHoodieTableCommand.scala|146 97
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/HoodieSparkSqlTestBase.scala|15 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteTable.scala|29 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestInsertTable.scala|18 13
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestShowPartitions.scala|16 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestSpark3DDL.scala|19 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestUpdateTable.scala|22 6
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystPlanUtils.scala|10 2
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala|10 2

Revision: c39e88dcf0c196bca08aced6e16d47fc72f5e83e
Author: Udit Mehrotra <uditme@amazon.com>
Date: 29/07/2022 11:04:14
Message:
[HUDI-4495] Fix handling of S3 paths incompatible with java URI standards (#6237) #MsgLength=83


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/HoodieWrapperFileSystem.java|5 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|17 0

Revision: ce4330d62b9f2ecd58d9c81b316a56ab3f4d6abe
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/07/2022 15:01:29
Message:
[HUDI-4499] Tweak default retry times for flink metadata table lock (#6238) #MsgLength=77


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: 765dd2eae6937eae12e2bf0b9141b7bd388be73d
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 29/07/2022 15:49:56
Message:
[HUDI-4221] Optimzing getAllPartitionPaths  (#6234) #MsgLength=92


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/FileSystemBackedTableMetadata.java|29 21

Revision: 9335e4e487f3bc6d4d1025b4c91f53c9da6a21ed
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 29/07/2022 18:10:12
Message:
Moving to 0.13.0-SNAPSHOT on master branch. #MsgLength=44


----
Modified: docker/hoodie/hadoop/base/pom.xml|1 1
Modified: docker/hoodie/hadoop/base_java11/pom.xml|1 1
Modified: docker/hoodie/hadoop/datanode/pom.xml|1 1
Modified: docker/hoodie/hadoop/historyserver/pom.xml|1 1
Modified: docker/hoodie/hadoop/hive_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/namenode/pom.xml|1 1
Modified: docker/hoodie/hadoop/pom.xml|1 1
Modified: docker/hoodie/hadoop/prestobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/spark_base/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkadhoc/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkmaster/pom.xml|1 1
Modified: docker/hoodie/hadoop/sparkworker/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinobase/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinocoordinator/pom.xml|1 1
Modified: docker/hoodie/hadoop/trinoworker/pom.xml|1 1
Modified: hudi-aws/pom.xml|2 2
Modified: hudi-cli/pom.xml|1 1
Modified: hudi-client/hudi-client-common/pom.xml|2 2
Modified: hudi-client/hudi-flink-client/pom.xml|2 2
Modified: hudi-client/hudi-java-client/pom.xml|2 2
Modified: hudi-client/hudi-spark-client/pom.xml|2 2
Modified: hudi-client/pom.xml|1 1
Modified: hudi-common/pom.xml|1 1
Modified: hudi-examples/hudi-examples-common/pom.xml|1 1
Modified: hudi-examples/hudi-examples-flink/pom.xml|1 1
Modified: hudi-examples/hudi-examples-java/pom.xml|1 1
Modified: hudi-examples/hudi-examples-spark/pom.xml|1 1
Modified: hudi-examples/pom.xml|1 1
Modified: hudi-flink-datasource/hudi-flink/pom.xml|2 2
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|2 2
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|2 2
Modified: hudi-flink-datasource/hudi-flink1.15.x/pom.xml|2 2
Modified: hudi-flink-datasource/pom.xml|2 2
Modified: hudi-gcp/pom.xml|1 1
Modified: hudi-hadoop-mr/pom.xml|1 1
Modified: hudi-integ-test/pom.xml|1 1
Modified: hudi-kafka-connect/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark2-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|1 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3.2.x/pom.xml|2 2
Modified: hudi-spark-datasource/hudi-spark3.3.x/pom.xml|2 2
Modified: hudi-spark-datasource/pom.xml|1 1
Modified: hudi-sync/hudi-adb-sync/pom.xml|1 1
Modified: hudi-sync/hudi-datahub-sync/pom.xml|1 1
Modified: hudi-sync/hudi-hive-sync/pom.xml|1 1
Modified: hudi-sync/hudi-sync-common/pom.xml|1 1
Modified: hudi-sync/pom.xml|1 1
Modified: hudi-timeline-service/pom.xml|1 1
Modified: hudi-utilities/pom.xml|1 1
Modified: packaging/hudi-aws-bundle/pom.xml|1 1
Modified: packaging/hudi-datahub-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-flink-bundle/pom.xml|1 1
Modified: packaging/hudi-gcp-bundle/pom.xml|1 1
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|1 1
Modified: packaging/hudi-hive-sync-bundle/pom.xml|1 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|1 1
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|1 1
Modified: packaging/hudi-presto-bundle/pom.xml|1 1
Modified: packaging/hudi-spark-bundle/pom.xml|1 1
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 1
Modified: packaging/hudi-trino-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-bundle/pom.xml|1 1
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|1 1
Modified: pom.xml|1 1

Revision: a1cf401350ee7f8a66b4e927bce22b45a11260fc
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/07/2022 20:06:24
Message:
[HUDI-4504] Disable metadata table by default for flink (#6241) #MsgLength=65


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 2

Revision: e04b3188e2222465eabed71ba19342cb92d10963
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 29/07/2022 23:32:19
Message:
[HUDI-4505] Returns instead of throws if lock file exists for FileSystemBasedLockProvider (#6242) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/FileSystemBasedLockProvider.java|10 5

Revision: 0f703a7e15833493037f7f7a07882cd73044ee65
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 30/07/2022 10:25:57
Message:
[HUDI-4507] Improve file name extraction logic in metadata utils (#6250) #MsgLength=74


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|18 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 17
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestFSUtils.java|10 2

Revision: c9725899c3f9516412dcc683875d81ac226d9b45
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 30/07/2022 10:26:30
Message:
[MINOR] Fix convertPathWithScheme tests (#6251) #MsgLength=49


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/fs/TestStorageSchemes.java|6 1

Revision: c72d895fed4b8f0ca899f15ff07d3446143811ac
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 31/07/2022 22:32:21
Message:
[MINOR] Add license header (#6247) #MsgLength=73


----
Modified: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/util/TestConfigUtils.java|18 0

Revision: 2996292f2baa4fce2fedb9a72f169fba24d8ae41
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 02/08/2022 11:43:06
Message:
[HUDI-4025] Add Presto and Trino query node to validate queries (#5578) #MsgLength=215


----
Added: docker/demo/config/test-suite/deltastreamer-hive-sync-presto.yaml|78 0
Modified: hudi-integ-test/pom.xml|10 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteJob.java|23 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DeltaConfig.java|51 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|79 35
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseQueryNode.java|62 0
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|12 34
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/PrestoQueryNode.java|60 0
Added: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/TrinoQueryNode.java|60 0
Modified: hudi-integ-test/src/test/resources/unit-test-cow-dag.yaml|21 1
Modified: packaging/hudi-integ-test-bundle/pom.xml|2 0
Modified: pom.xml|14 0

Revision: 251b63ef0bfc97a153a27d2eae55b04f22c89533
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 02/08/2022 12:01:06
Message:
[HUDI-4518] Free lock if allocated but not acquired (#6272) #MsgLength=243


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/transaction/lock/HiveMetastoreBasedLockProvider.java|2 0

Revision: 84d195d4d4fbb1ca915d03999c704a910b6588fc
Author: 5herhom <35916131+5herhom@users.noreply.github.com>
Date: 02/08/2022 14:29:05
Message:
[HUDI-4510] Repair config "hive_sync.metastore.uris" in flink sql hive schema sync is not effective (#6257) #MsgLength=109


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/HiveSyncContext.java|3 0

Revision: 5cb51220fecdd82e2651bbd1cc8b41533ec5008b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 02/08/2022 22:08:38
Message:
[HUDI-3848] Fixing minor bug in listing based rollback request generation (#6244) #MsgLength=83


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/ListingBasedRollbackStrategy.java|3 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestCopyOnWriteRollbackActionExecutor.java|67 0

Revision: 0f88efb278f44626c443ebe49a553be63de42ab6
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 03/08/2022 03:22:01
Message:
[HUDI-4512][HUDI-4513] Fix bundle name for spark3 profile (#6261) #MsgLength=67


----
Modified: pom.xml|1 1
Modified: scripts/release/deploy_staging_jars.sh|1 0
Modified: scripts/release/validate_staged_bundles.sh|1 0

Revision: cdbd1561e0df1f66d582aadd9d62b30a16fb04b0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 03/08/2022 06:20:38
Message:
[HUDI-4501] Throwing exception when restore is attempted with hoodie.arhive.beyond.savepoint is enabled (#6239) #MsgLength=113


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|57 0

Revision: 4ec060129fb66dfd753a61266ef2436fa6748168
Author:  <fengjian428@gmail.com>
Date: 03/08/2022 07:09:33
Message:
[HUDI-4516] fix Task not serializable error when run HoodieCleaner after one failure (#6265) #MsgLength=144


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/DefaultSizeEstimator.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/ExternalSpillableMap.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/collection/RocksDBBasedMap.java|2 2

Revision: 2ac48721157c883164a169a0f98b3f5db20979a7
Author:  <408317717@qq.com>
Date: 03/08/2022 11:22:12
Message:
remove test resources (#6147) #MsgLength=80


----
Modified: hudi-flink-datasource/hudi-flink/pom.xml|0 3

Revision: 8b35013658eb432dec1db2c0b487d8588e4f9c64
Author: F7753 <mabiaocas@gmail.com>
Date: 03/08/2022 12:32:32
Message:
[HUDI-4477] Adjust partition number of flink sink task (#6218) #MsgLength=109


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|2 3

Revision: e3dabbc3ad0a686c1bc526eb9b21586fe665812f
Author: HunterXHunter <1356469429@qq.com>
Date: 03/08/2022 16:49:51
Message:
[HUDI-4298] Mor table reading for base and log files lost sequence of events (#6286) #MsgLength=216


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|8 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|13 6
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/TestInputFormat.java|26 0

Revision: 3042b2c7c54c91578dba69a1a814563fb00718d5
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 04/08/2022 05:27:21
Message:
[HUDI-4525] Fixing Spark 3.3 `AvroSerializer` implementation (#6279) #MsgLength=70


----
Modified: .github/workflows/bot.yml|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|4 2
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|28 6
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|25 2
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|15 20
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|96 25

Revision: 7307ff3d5c6d843dbc94e15e57837955def2755e
Author: KnightChess <981159963@qq.com>
Date: 04/08/2022 06:56:51
Message:
[HUDI-4447] fix no partitioned path extractor error when sync meta (#6263) #MsgLength=76


----
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|1 1
Modified: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java|6 0

Revision: 345dd81ec86b08f44fa3076597aaabd8088a14e5
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date: 04/08/2022 09:41:10
Message:
[HUDI-4520] Support qualified table 'db.table' in call procedures (#6274) #MsgLength=75


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieCLIUtils.scala|15 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|3 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/CommitsCompareProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ExportInstantsProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RollbackToInstantTimeProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowArchivedCommitsProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitFilesProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitPartitionsProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitWriteStatsProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowCommitsProcedure.scala|2 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestNestedSchemaPruningOptimization.scala|0 1
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/HoodieSparkProcedureTestBase.scala|26 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestBootstrapProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestClusteringProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCommitsProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCompactionProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCopyToTableProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestExportInstantsProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestFsViewProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHdfsParquetImportProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestHoodieLogFileProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestMetadataProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestRepairsProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestSavepointsProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestShowFsPathDetailProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestStatsProcedure.scala|1 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala|1 2

Revision: e22b6c12b00e047a8c03726c0e0c689229403293
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 04/08/2022 09:53:09
Message:
[HUDI-4531] Wrong partition path for flink hive catalog when the partition fields are not in the last (#6292) #MsgLength=111


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|26 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogUtil.java|20 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java|13 19
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/TableOptionProperties.java|6 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java|18 10

Revision: bab8254fb8f564fb4bda74870587b2c534dd7e15
Author: Yann Byron <biyan900116@gmail.com>
Date: 04/08/2022 11:05:24
Message:
[HUDI-4487] support to create ro/rt table by spark sql (#6262) #MsgLength=64


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|4 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableCommand.scala|25 8
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|8 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|132 0

Revision: b13cc76b5e2fdcc6ab82c91eaaa6a7b1584e3d68
Author: ForwardXu <forwardxu315@gmail.com>
Date: 04/08/2022 12:32:08
Message:
[HUDI-4533] Fix RunCleanProcedure's ArrayIndexOutOfBoundsException (#6293) #MsgLength=76


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala|3 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala|4 0

Revision: 706108e5ea2029148ca2796d7594acb933762a70
Author: Nicholas Jiang <programgeek@163.com>
Date: 04/08/2022 20:25:24
Message:
[HUDI-4536] ClusteringOperator causes the NullPointerException when writing with BulkInsertWriterHelper in clustering (#6298) #MsgLength=127


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java|1 0

Revision: 1761b897ca2dbc2a5bbcbeb111e737e776f5131e
Author: HunterXHunter <1356469429@qq.com>
Date: 04/08/2022 20:28:28
Message:
[HUDI-4385] Support online compaction in the flink batch mode write (#6093) #MsgLength=198


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteOperatorCoordinator.java|5 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|8 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|4 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|18 0

Revision: a75cc02273ae87c383ae1ed46f95006c366f70fc
Author: KnightChess <981159963@qq.com>
Date: 05/08/2022 09:28:08
Message:
[HUDI-4530] fix default payloadclass in mor is different with cow (#6288) #MsgLength=75


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieOptionConfig.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestHoodieOptionConfig.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|2 1

Revision: e03cd0a198f63df7fb7ba71d1c9a0b01ae33f021
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 05/08/2022 14:16:53
Message:
[HUDI-4545] Do not modify the current record directly for OverwriteNonDefaultsWithLatestAvroPayload (#6306) #MsgLength=109


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|6 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java|9 2

Revision: fcdd4cf06cd130bfb128e5060605924f13ae25cb
Author: Yonghua Jian_deepnova <47289660@qq.com>
Date: 05/08/2022 14:38:07
Message:
[HUDI-4544] support retain hour cleaning policy for flink (#6300) #MsgLength=67


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|8 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|7 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|1 0

Revision: ae7395df1e13112a1d99675edb04af05d0242703
Author: HunterXHunter <1356469429@qq.com>
Date: 05/08/2022 19:30:26
Message:
[HUDI-4547] Fix SortOperatorGen sort indices (#6309) #MsgLength=102


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/bulk/sort/SortOperatorGen.java|3 2

Revision: b93f03ad0637c4ddf00378355a7f37c5e9a6169e
Author: Rahil Chertara <rchertar@amazon.com>
Date: 03/08/2022 06:27:40
Message:
[HUDI-4470] Remove spark dataPrefetch disabled prop in DefaultSource #MsgLength=69


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|1 2

Revision: 59527c35903ee76e89ecc3c2bdc5806ac40691d1
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 06/08/2022 08:11:35
Message:
[HUDI-4540] Cover different table types in functional tests of Spark structured streaming (#6317) #MsgLength=99


----
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|90 74

Revision: 56ee5205e6a2e8734e87001fc8509ecde4c8b799
Author: Yann Byron <biyan900116@gmail.com>
Date: 06/08/2022 18:29:34
Message:
[HUDI-4514] optimize CTAS to adapt to saveAsTable api in different modes (#6295) #MsgLength=82


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|12 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/CreateHoodieTableAsSelectCommand.scala|4 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|66 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|1 1

Revision: 4cc7d409242ec3281e5e9faab89115ce975e8f99
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 06/08/2022 19:38:27
Message:
[HUDI-4474] Fix inferring props for meta sync (#6310) #MsgLength=409


----
Modified: docker/demo/config/hoodie-incr.properties|3 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|3 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|2 1
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|3 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|13 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 0

Revision: a76f694902db07e9aa5e3a3d9dfa090dfa56c2d1
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 06/08/2022 23:05:55
Message:
[HUDI-4550] Fallback to listing based rollback for completed instant (#6313) #MsgLength=502


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/CopyOnWriteRestoreActionExecutor.java|0 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/MergeOnReadRestoreActionExecutor.java|0 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|1 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackPlanActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/CopyOnWriteRollbackActionExecutor.java|1 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/MergeOnReadRollbackActionExecutor.java|1 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|55 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|6 18
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/rollback/TestMergeOnReadRollbackActionExecutor.java|2 17

Revision: 767c196631240aeda5a8ef4603c17f05a407d8f7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/08/2022 06:19:29
Message:
[HUDI-4303] Adding 4 to 5 upgrade handler to check for old deprecated "default" partition value (#6248) #MsgLength=485


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|17 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FiveToFourDowngradeHandler.java|35 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/FourToFiveUpgradeHandler.java|74 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/upgrade/UpgradeDowngrade.java|4 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/upgrade/TestUpgradeDowngrade.java|91 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java|4 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java|1 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestUpgradeOrDowngradeProcedure.scala|2 2

Revision: 78eeb02beb1d342bd86422cf6482129afde14012
Author: leesf <490081539@qq.com>
Date: 07/08/2022 10:52:54
Message:
[HUDI-4546] Optimize catalog cast logic in HoodieSpark3Analysis (#6307) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|4 7

Revision: 98f01666c740244a23f883ed4a754448fbea1d5b
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 07/08/2022 11:08:24
Message:
[HUDI-4534] Fixing upgrade to reload Metaclient for deltastreamer writes (#6296) #MsgLength=82


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|6 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedMetadata.java|1 0

Revision: 95d7489bc5712077eceef831de76a1ba2460641e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 07/08/2022 11:09:46
Message:
[HUDI-4517] If no marker type file, fallback to timeline based marker (#6266) #MsgLength=354


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/marker/MarkerBasedRollbackUtils.java|30 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestMarkerBasedRollbackStrategy.java|22 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/MarkerUtils.java|2 1
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerDirState.java|1 1

Revision: 660177bce1cd82975d7c25715497e0d2fbb2a95e
Author: HunterXHunter <1356469429@qq.com>
Date: 07/08/2022 11:40:20
Message:
[HUDI-3669] Add a remote request retry mechanism for 'Remotehoodietablefiles (#5884) #MsgLength=191


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|76 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|51 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java|28 18
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 0
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|29 0

Revision: 9796de9d4c9e173689a573c4ae384dee7792c982
Author:  <fengjian428@gmail.com>
Date: 07/08/2022 13:30:03
Message:
[HUDI-4464] Clear warnings in Azure CI (#6210) #MsgLength=98


----
Modified: azure-pipelines.yml|13 13
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|22 13
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|8 0

Revision: 0fa2609815ff2f817c606b0319f7e6ef54cf9ca4
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 07/08/2022 13:33:11
Message:
[MINOR] Update PR description template (#6323) #MsgLength=48


----
Modified: .github/PULL_REQUEST_TEMPLATE.md|11 37

Revision: da60f2acdce8242e7186c894dc02a7848f823c28
Author: 5herhom <543872547@qq.com>
Date: 07/08/2022 15:02:33
Message:
[HUDI-4508] Repair the exception when reading optimized query for mor in hive and presto/trino (#6254) #MsgLength=536


----
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieCopyOnWriteTableInputFormat.java|16 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieMergeOnReadTableInputFormat.java|12 0

Revision: 2be7c3502dc58955a314a790ab31f1bb83db1cf4
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 08/08/2022 10:03:16
Message:
[HUDI-4548] Unpack the column max/min to string instead of Utf8 for Mor table (#6311) #MsgLength=87


----
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|4 2

Revision: 61fc3c03a69c76c47e65a1b2ee8d17bd9477c3a2
Author: RexXiong <lvshuang.tb@gmail.com>
Date: 08/08/2022 13:59:38
Message:
[HUDI-4447] fix SQL metasync when perform delete table operation (#6180) #MsgLength=74


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|5 0

Revision: 59f652a19c51b9cc208728843c87eec32a7cac12
Author:  <fengjian428@gmail.com>
Date: 08/08/2022 14:14:04
Message:
[HUDI-4424] Add new compactoin trigger stratgy: NUM_COMMITS_AFTER_REQ (#6144) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/CompactionTriggerStrategy.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/ScheduleCompactionActionExecutor.java|23 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|74 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CompactionUtils.java|30 0

Revision: 6b02877779efa5d800da8355a4ee1623be8fcf9b
Author: ForwardXu <forwardxu315@gmail.com>
Date: 08/08/2022 17:28:15
Message:
[MINOR] improve flink dummySink's parallelism (#6325) #MsgLength=55


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|3 1

Revision: 8a1b2fe7de9de8f3eeefc754614a180fd8ecd18c
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 09/08/2022 02:27:30
Message:
[HUDI-4568] Shade dropwizard metrics-core in hudi-aws-bundle (#6327) #MsgLength=70


----
Modified: packaging/hudi-aws-bundle/pom.xml|5 0
Modified: packaging/hudi-flink-bundle/pom.xml|0 1
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|0 1
Modified: packaging/hudi-utilities-bundle/pom.xml|0 1
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|0 1

Revision: f4b2782886b9f01f7b1cce1ef2c06752ff1573e4
Author:  <fengjian428@gmail.com>
Date: 09/08/2022 10:10:30
Message:
[HUDI-4572] Fix 'Not a valid schema field: ts' error in HoodieFlinkCompactor if precombine field is not ts (#6331) #MsgLength=164


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|14 0

Revision: 417cca94df8a0d87de6388b5a48b56462c832f18
Author: BruceLin <brucekellan@gmail.com>
Date: 09/08/2022 13:29:00
Message:
[HUDI-4570] Fix hive sync path error due to reuse of storage descriptors. (#6329) #MsgLength=83


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|3 2

Revision: 75f6266594245cee998a5530711f929023d87a44
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 09/08/2022 14:40:53
Message:
[HUDI-4571] Fix partition extractor infer function when partition field mismatch (#6333) #MsgLength=351


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/replication/TestHiveSyncGlobalCommitTool.java|3 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncConfig.java|20 10
Modified: hudi-sync/hudi-sync-common/src/test/java/org/apache/hudi/sync/common/TestHoodieSyncConfig.java|47 13

Revision: 009259645fd3ac9736659f391034a70f743a881b
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 09/08/2022 17:41:44
Message:
[HUDI-4570] Add test for updating multiple partitions in hive sync (#6340) #MsgLength=76


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|15 7

Revision: d2cca295462f5fc5d657477afa3c3c5330d3072d
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 09/08/2022 18:24:29
Message:
[MINOR] Fix wrong key to determine sync sql cascade (#6339) #MsgLength=61


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|1 1

Revision: 850d50b50132cdf6acdab8edbf061622ca3845a1
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date: 09/08/2022 19:57:19
Message:
[HUDI-4581] Claim RFC-58 for data skipping integration with query engines (#6346) #MsgLength=83


----
Modified: rfc/README.md|36 35

Revision: 96892b31e18a145e90cb842df804fdeacc498ab7
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 10/08/2022 01:51:53
Message:
[HUDI-4577] Adding test coverage for `DELETE FROM`, Spark Quickstart guide (#6318) #MsgLength=84


----
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java|46 9
Modified: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java|15 15
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDeleteFromTable.scala|83 0
Added: hudi-utilities/src/test/resources/hive-site.xml|35 0

Revision: c75e2649d852e0538aaee5df6fc94bf40f3012e5
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 10/08/2022 09:47:02
Message:
[HUDI-4556] Improve functional test coverage of column stats index (#6319) #MsgLength=76


----
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/cow-updated2-column-stats-index-table.json|13 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/mor-updated2-column-stats-index-table.json|13 0
Added: hudi-spark-datasource/hudi-spark/src/test/resources/index/colstats/update-input-table-json/part-00000-7e680484-e7e1-48b6-8289-1a7c483b530b-c000.json|11 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestColumnStatsIndex.scala|119 98

Revision: fdd0c30d3dfc0755a55cb331bdee8001c0b77cd1
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date: 10/08/2022 10:00:57
Message:
[HUDI-4558] lost 'hoodie.table.keygenerator.class' in hoodie.properties (#6320) #MsgLength=123


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|3 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestStreamerUtil.java|3 0

Revision: 676b3817bf2042d441aa8abc69036760735efcfa
Author: YonghuaJian <47289660@qq.com>
Date: 10/08/2022 10:11:18
Message:
[HUDI-4543] Support natural order when table schema contains a field named 'ts' (#6246) #MsgLength=224


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|24 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|14 0

Revision: 43d67102871e0cb5f38dfec41dc1b7fef58f6f64
Author: Xinyao Tian (Richard) <31195026+XinyaoTian@users.noreply.github.com>
Date: 10/08/2022 13:43:42
Message:
[HUDI-4569][RFC-58] Claim RFC-58 for adding a new feature named 'Multiple event_time Fields Latest Verification in a Single Table' for Hudi (#6328) #MsgLength=200


----
Modified: rfc/README.md|2 1

Revision: f9eb91a9ef70f865c9e1496e1474c740649907dc
Author: KnightChess <981159963@qq.com>
Date: 10/08/2022 16:30:31
Message:
[HUDI-3503] Support more feature to call procedure CleanCommand (#6353) #MsgLength=73


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunCleanProcedure.scala|14 9
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCleanProcedure.scala|55 1

Revision: 34f72fd0d089d0accbda1f2765600ca647d9b6f8
Author: BruceLin <brucekellan@gmail.com>
Date: 10/08/2022 20:25:02
Message:
[HUDI-4590] Add hudi-aws dependency to hudi-flink-bundle. (#6356) #MsgLength=67


----
Modified: packaging/hudi-flink-bundle/pom.xml|5 0

Revision: bd2f99976855e8701e250fb0b7d826b0c1af947b
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date: 11/08/2022 19:57:07
Message:
[MINOR] fix potential npe in spark writer (#6363) #MsgLength=107


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|3 3

Revision: 71909f0f8299d86e25f7bfc82ae571e7c72e4fb9
Author: Manu <36392121+xicm@users.noreply.github.com>
Date: 11/08/2022 22:49:30
Message:
fix bug in cli show fsview all (#6314) #MsgLength=40


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|7 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|2 2

Revision: 2ca1fdc1c8b85be7ebd0f8e857d706b5e6eba01e
Author: vamshigv <107005799+vamshigv@users.noreply.github.com>
Date: 12/08/2022 05:41:30
Message:
[HUDI-4488] Improve S3EventsHoodieIncrSource efficiency (#6228) #MsgLength=65


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java|42 23

Revision: 0d0a4152cfd362185066519ae926ac4513c7a152
Author: feiyang_deepnova <736320652@qq.com>
Date: 12/08/2022 11:24:56
Message:
[HUDI-4611] Fix the duplicate creation of config in HoodieFlinkStreamer (#6369) #MsgLength=126


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 4

Revision: 553e280c6d7f3cc349bf7718104a66f7d2866a9b
Author: RexAn <bonean131@gmail.com>
Date: 15/08/2022 14:30:10
Message:
[HUDI-3189] Fallback to full table scan with incremental query when files are cleaned up or achived for MOR table (#6141) #MsgLength=186


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/IncrementalRelation.scala|71 51
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadIncrementalRelation.scala|53 15
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|0 83
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestIncrementalReadWithFullTableScan.scala|187 0

Revision: 997200f27f5ad64c11bc7b6dedc01ca4c898c890
Author: flashJd <47289660@qq.com>
Date: 15/08/2022 16:02:11
Message:
[MINOR] fix progress field calculate logic in HoodieLogRecordReader (#6291) #MsgLength=77


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|1 1

Revision: 2633e88a39dc0357141bff15dea734a839ecb9ad
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/08/2022 04:44:34
Message:
[HUDI-4608] Fix upgrade command in Hudi CLI (#6374) #MsgLength=53


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|3 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|51 17

Revision: f5bb78bbef23fe0f20b2e1348ddf1ad2836602b0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 16/08/2022 07:26:29
Message:
[HUDI-4609] Improve usability of upgrade/downgrade commands in Hudi CLI (#6377) #MsgLength=81


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java|24 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUpgradeDowngradeCommand.java|14 0

Revision: bad954c3b27b9e5236b93c6b0e2be219337fa179
Author: novisfff <62633257+novisfff@users.noreply.github.com>
Date: 16/08/2022 10:40:09
Message:
[HUDI-4574] Fixed timeline based marker thread safety issue (#6383) #MsgLength=181


----
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/MarkerHandler.java|3 2
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/handlers/marker/MarkerCreationDispatchingRunnable.java|4 2

Revision: 9bbd3dacd775bc720b1ed235709d61dee33e1964
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date: 16/08/2022 14:28:00
Message:
[HUDI-4621] Add validation that bucket index fields should be subset of primary keys (#6396) #MsgLength=167


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|15 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|41 0

Revision: 8c02e90a9bc36bdd1f9aa115b792c0dc57ae7868
Author: Qi Ji <qjqqyy@users.noreply.github.com>
Date: 17/08/2022 00:53:46
Message:
[HUDI-4354] Add --force-empty-sync flag to deltastreamer (#6027) #MsgLength=66


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|6 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|21 0

Revision: 642f87cc6b6b2971911d2f27619ee6e6f02e76a4
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date: 17/08/2022 09:49:41
Message:
[HUDI-4601] Read error from MOR table after compaction with timestamp partitioning (#6365) #MsgLength=176


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|8 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|8 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|23 6

Revision: 042241fa2ca5c90161dc6e062485eef4e0981962
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 17/08/2022 13:56:19
Message:
[MINOR] Update DOAP with 0.12.0 Release (#6413) #MsgLength=49


----
Modified: doap_HUDI.rdf|5 0

Revision: 1ad0e9560e4805b682fe661d78f2ad0f2fa1025b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/08/2022 14:20:36
Message:
[HUDI-4529] Tweak some default config options for flink (#6287) #MsgLength=65


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|5 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableFactory.java|15 19
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/TestHoodieTableFactory.java|15 4

Revision: 9055b2f65d670c2b153c7492ca323188b84c3362
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/08/2022 14:22:10
Message:
[HUDI-4632] Remove the force active property for flink1.14 profile (#6415) #MsgLength=76


----
Modified: pom.xml|0 2

Revision: efd9dab14cdea9ec2b09d79499fa95d5584df4fa
Author: Nicholas Jiang <programgeek@163.com>
Date: 18/08/2022 16:13:28
Message:
[HUDI-4551] Tweak the default parallelism of flink pipeline to execution env  parallelism (#6312) #MsgLength=99


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|10 10
Added: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/OptionsInference.java|65 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|7 13
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/HoodieFlinkStreamer.java|4 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSink.java|5 4
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|2 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|5 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/cluster/ITTestHoodieFlinkClustering.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|4 4
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|2 2

Revision: c855d8a31c0a8340551334547989e83c5a9b6572
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/08/2022 02:40:15
Message:
[MINOR] Improve code style of CLI Command classes (#6427) #MsgLength=59


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|2 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java|2 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|13 11
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java|2 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|57 60
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|50 49
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|7 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|6 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MarkersCommand.java|3 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|1 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|5 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|11 11
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|5 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|19 19
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|13 14
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java|3 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java|1 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|1 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|6 5
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|1 1

Revision: ba6d7cb54b25343e1300446d26c7b8fc9e49a9df
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/08/2022 02:51:58
Message:
[HUDI-3625] Claim RFC-60 for Federated Storage Layer (#6440) #MsgLength=62


----
Modified: rfc/README.md|1 0

Revision: a41386fda238c7c52fd4abd6a72fc107eb992ced
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 19/08/2022 03:43:44
Message:
[HUDI-4616] Adding `PulsarSource` to `DeltaStreamer` to support ingesting from Apache Pulsar (#6386) #MsgLength=335


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieConversionUtils.scala|13 0
Added: hudi-common/src/main/java/org/apache/hudi/common/util/ThreadUtils.java|41 0
Modified: hudi-utilities/pom.xml|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|7 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|16 1
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/PulsarSource.java|297 0
Modified: pom.xml|7 0

Revision: a6740d0767f7b7296b05d5762071a3ba71abc9b8
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/08/2022 08:13:32
Message:
[HUDI-3579] Add timeline commands in hudi-cli (#5139) #MsgLength=55


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java|60 13
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|15 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Table.java|41 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java|10 0
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TimelineCommand.java|410 0

Revision: 39b16c58c9c6792d68bd46264af823e75086b419
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/08/2022 10:19:27
Message:
[HUDI-4638] Rename payload clazz and preCombine field options for flink sql (#6434) #MsgLength=85


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|43 36

Revision: b49417ff01d3c30e5e60ed3c4449e30b5ddc070e
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 20/08/2022 03:43:57
Message:
Revert "[HUDI-4632] Remove the force active property for flink1.14 profile (#6415)" (#6449) #MsgLength=154


----
Modified: pom.xml|2 0

Revision: 419f881167bc9800a93d0e121cb376cf092bfb6f
Author:  <dongkelun01@inspur.com>
Date: 20/08/2022 12:34:46
Message:
[HUDI-4643] MergeInto syntax WHEN MATCHED is optional but must be set (#6443) #MsgLength=79


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|5 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|93 1

Revision: 1e95f14b6ca144b2569b20b15840c29b00009b95
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 20/08/2022 17:32:26
Message:
[HUDI-4644] Change default flink profile to 1.15.x (#6445) #MsgLength=60


----
Modified: hudi-examples/hudi-examples-flink/pom.xml|0 7
Modified: hudi-flink-datasource/hudi-flink/pom.xml|0 5
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|0 1
Modified: pom.xml|11 28

Revision: 3adb5715310b372c2e0330102169c40d1c7448ba
Author:  <fengjian428@gmail.com>
Date: 22/08/2022 10:34:00
Message:
[HUDI-4678] Claim RFC-61 for Snapshot view management (#6461) #MsgLength=111


----
Modified: rfc/README.md|5 3

Revision: 4966978a550701a2acfaf40da394eec1ae32c3f1
Author:  <fengjian428@gmail.com>
Date: 23/08/2022 09:37:28
Message:
[HUDI-4676] infer cleaner policy when write concurrency mode is OCC (#6459) #MsgLength=196


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCleanConfig.java|10 0

Revision: c677333f26aaa4dc880a04b7532929b68bd978ed
Author: hehuiyuan <471627698@qq.com>
Date: 23/08/2022 10:11:46
Message:
[HUDI-4683] Use enum class value for default value in flink options (#6453) #MsgLength=77


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|8 5

Revision: a9982d12c59128b3d00b90f3f1e23d2f9d2d8219
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 23/08/2022 15:17:42
Message:
[HUDI-4584] Cleaning up Spark utilities (#6351) #MsgLength=98


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|1 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngradeHelper.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala|3 6
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|3 209
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/PathUtils.scala|84 0
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/util/SparkKeyGenUtils.scala|60 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystExpressionUtils.scala|115 37
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala|0 5
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|7 6
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieWriterUtils.scala|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/MergeOnReadSnapshotRelation.scala|0 55
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/streaming/HoodieStreamSource.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|5 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestConvertFilterToCatalystExpression.scala|13 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|3 4
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkUtils.scala|0 57
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/util/TestPathUtils.scala|85 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystExpressionUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/HoodieSpark2CatalystPlanUtils.scala|0 4
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|7 9
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala|0 4
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|6 4
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|4 3

Revision: 1879efa45d556c87d2cda56fa16d5de535481c06
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/08/2022 18:54:57
Message:
[HUDI-4686] Flip option 'write.ignore.failed' to default false (#6467) #MsgLength=95


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|15 35

Revision: ca8a57a21d163e573e3a617fd6173fa4b913666c
Author: Zouxxyy <zouxxyy@qq.com>
Date: 24/08/2022 09:40:34
Message:
[HUDI-4515] Fix savepoints will be cleaned in keeping latest versions policy (#6267) #MsgLength=86


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|5 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestClientRollback.java|98 0

Revision: 16a80e6d41920478dc3fe8a0da179728945bdfe0
Author: Manu <36392121+xicm@users.noreply.github.com>
Date: 24/08/2022 10:30:17
Message:
[HUDI-4637] Release thread in RateLimiter doesn't been terminated (#6433) #MsgLength=75


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/hbase/SparkHoodieHBaseIndex.java|8 3

Revision: 822c1397e04936b89fda771bb1c269de5fb0dd4b
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/08/2022 12:17:53
Message:
[HUDI-4698] Rename the package 'org.apache.flink.table.data' to avoid conflicts with flink table core (#6481) #MsgLength=111


----
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/ColumnarArrayData.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarArrayData.java]|12 4
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/ColumnarMapData.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarMapData.java]|3 1
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/ColumnarRowData.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/ColumnarRowData.java]|10 2
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/vector/MapColumnVector.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/MapColumnVector.java]|2 1
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/vector/RowColumnVector.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/RowColumnVector.java]|4 2
Renamed: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/data/vector/VectorizedColumnBatch.java [from hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/flink/table/data/vector/VectorizedColumnBatch.java]|13 1
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|1 1
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapArrayVector.java|2 1
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|3 2
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapRowColumnVector.java|4 3
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ArrayColumnReader.java|1 1
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/vector/reader/ParquetColumnarRowSplitReader.java|2 2

Revision: 1e162bb73af9f39024e6e5d098958b9c0d926e6a
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date: 24/08/2022 19:28:26
Message:
HUDI-4687 add show_invalid_parquet procedure (#6480) #MsgLength=110


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowInvalidParquetProcedure.scala|83 0
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestShowInvalidParquetProcedure.scala|71 0

Revision: e5584b373544bc99d20cfaa5bc2e96c7f9b0d4ae
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 25/08/2022 07:11:34
Message:
[HUDI-4584] Fixing `SQLConf` not being propagated to executor (#6352) #MsgLength=198


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|13 2
Added: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/SQLConfInjectingRDD.scala|61 0

Revision: 5f92221655416a345749eae38836d94be873d8e1
Author: Tim Brown <tim@onehouse.ai>
Date: 25/08/2022 09:48:26
Message:
[HUDI-4441] Log4j2 configuration fixes and removal of log4j1 dependencies (#6170) #MsgLength=83


----
Modified: .github/workflows/bot.yml|5 3
Modified: azure-pipelines.yml|2 2
Deleted: docker/demo/config/log4j.properties|0 42
Added: docker/demo/config/log4j2.properties|60 0
Modified: docker/demo/setup_demo_container.sh|1 1
Modified: hudi-aws/pom.xml|7 14
Deleted: hudi-aws/src/test/resources/log4j-surefire.properties|0 25
Modified: hudi-cli/pom.xml|7 26
Deleted: hudi-cli/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-cli/src/test/resources/log4j-surefire.properties|0 25
Modified: hudi-client/hudi-client-common/pom.xml|6 14
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/callback/http/TestCallbackHttpClient.java|11 3
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogHttpClient.java|11 6
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/datadog/TestDatadogReporter.java|2 1
Deleted: hudi-client/hudi-client-common/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-client/hudi-client-common/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-client/hudi-flink-client/pom.xml|14 0
Deleted: hudi-client/hudi-flink-client/src/main/resources/log4j-surefire.properties|0 31
Deleted: hudi-client/hudi-flink-client/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-client/hudi-java-client/pom.xml|6 0
Deleted: hudi-client/hudi-java-client/src/main/resources/log4j.properties|0 23
Deleted: hudi-client/hudi-java-client/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-client/hudi-spark-client/pom.xml|30 0
Deleted: hudi-client/hudi-spark-client/src/main/resources/log4j.properties|0 23
Deleted: hudi-client/hudi-spark-client/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-client/hudi-spark-client/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-common/pom.xml|39 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestPriorityBasedFileSystemView.java|19 21
Deleted: hudi-common/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-common/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-examples/hudi-examples-flink/pom.xml|6 1
Deleted: hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-examples/hudi-examples-flink/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-examples/hudi-examples-java/pom.xml|6 0
Modified: hudi-examples/hudi-examples-spark/pom.xml|11 0
Deleted: hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-examples/hudi-examples-spark/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-flink-datasource/hudi-flink/pom.xml|6 1
Deleted: hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-flink-datasource/hudi-flink/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|6 1
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|6 1
Modified: hudi-flink-datasource/hudi-flink1.15.x/pom.xml|6 1
Modified: hudi-gcp/pom.xml|7 14
Deleted: hudi-gcp/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-gcp/src/test/resources/log4j-surefire.properties|0 29
Modified: hudi-hadoop-mr/pom.xml|6 0
Deleted: hudi-hadoop-mr/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-hadoop-mr/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-integ-test/pom.xml|10 44
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|0 4
Deleted: hudi-integ-test/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-integ-test/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-kafka-connect/pom.xml|7 8
Deleted: hudi-kafka-connect/src/main/resources/log4j.properties|0 23
Deleted: hudi-kafka-connect/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-kafka-connect/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|6 0
Deleted: hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-spark-datasource/hudi-spark-common/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-spark-datasource/hudi-spark/pom.xml|6 29
Deleted: hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-spark-datasource/hudi-spark/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|6 0
Deleted: hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-spark-datasource/hudi-spark2/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|6 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|6 0
Deleted: hudi-spark-datasource/hudi-spark3.2.x/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-spark-datasource/hudi-spark3.2.x/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-spark-datasource/hudi-spark3.3.x/pom.xml|6 0
Modified: hudi-sync/hudi-adb-sync/pom.xml|8 8
Deleted: hudi-sync/hudi-adb-sync/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-sync/hudi-adb-sync/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-sync/hudi-datahub-sync/pom.xml|8 8
Deleted: hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-sync/hudi-datahub-sync/src/test/resources/log4j-surefire.properties|0 29
Modified: hudi-sync/hudi-hive-sync/pom.xml|4 10
Deleted: hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-sync/hudi-hive-sync/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-sync/hudi-sync-common/pom.xml|3 2
Deleted: hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-sync/hudi-sync-common/src/test/resources/log4j-surefire.properties|0 30
Added: hudi-tests-common/pom.xml|71 0
Renamed: hudi-tests-common/src/main/resources/log4j2-surefire-quiet.properties [from hudi-client/hudi-client-common/src/main/resources/log4j.properties]|16 6
Renamed: hudi-tests-common/src/main/resources/log4j2-surefire.properties [from hudi-client/hudi-flink-client/src/main/resources/log4j.properties]|20 6
Modified: hudi-timeline-service/pom.xml|8 8
Deleted: hudi-timeline-service/src/test/resources/log4j-surefire-quiet.properties|0 29
Deleted: hudi-timeline-service/src/test/resources/log4j-surefire.properties|0 30
Modified: hudi-utilities/pom.xml|7 20
Deleted: hudi-utilities/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-utilities/src/test/resources/log4j-surefire.properties|0 31
Modified: packaging/hudi-timeline-server-bundle/pom.xml|1 8
Modified: pom.xml|204 30

Revision: c188852f49b7f97546fb1618a44f9ef426e93ae8
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 25/08/2022 13:25:05
Message:
[HUDI-4665] Flipping default for "ignore failed batch" config in streaming sink to false (#6450) #MsgLength=98


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|4 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|1 0

Revision: e46647341c21762ab96a8d6906e2ec2568ee9409
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 25/08/2022 16:10:31
Message:
[HUDI-4713] Fix flaky ITTestHoodieDataSource#testAppendWrite (#6490) #MsgLength=70


----
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|3 3

Revision: e90872b396630318e6cc18d560f23e16c3595a29
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 26/08/2022 05:58:35
Message:
[HUDI-4696] Fix flaky TestHoodieCombineHiveInputFormat (#6494) #MsgLength=64


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/minicluster/HdfsTestService.java|5 7
Renamed: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/hive/TestHoodieCombineHiveInputFormat.java [from hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/functional/TestHoodieCombineHiveInputFormat.java]|4 7

Revision: 11f85d1efb32e58c774585f0594144e0a775fbe7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 26/08/2022 07:13:56
Message:
Revert "[HUDI-3669] Add a remote request retry mechanism for 'Remotehoodietablefiles (#5884)" (#6501) #MsgLength=165


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|0 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|0 76
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|16 51
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java|18 28
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|0 5
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|0 29

Revision: 797e7a67a90f0144efe532d400222874aebc5f7b
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 27/08/2022 03:55:21
Message:
[Stacked on 6386] Fixing `DebeziumSource` to properly commit offsets; (#6416) #MsgLength=79


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|1 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/DebeziumSource.java|8 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|7 3

Revision: b228a2788ac92b8e2aa39efd6b079d9cf0a122f6
Author: Tim Brown <tim@onehouse.ai>
Date: 28/08/2022 19:28:31
Message:
[HUDI-4399][RFC-57] Protobuf support in DeltaStreamer (#6111) #MsgLength=63


----
Added: rfc/rfc-57/rfc-57.md|111 0

Revision: b6b515917c34c4111216375bc2639876ab50dc30
Author: Yann Byron <biyan900116@gmail.com>
Date: 29/08/2022 10:32:26
Message:
[HUDI-4703] use the historical schema to response time travel query (#6499) #MsgLength=146


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|29 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBaseRelation.scala|10 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|86 10
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestTimeTravelTable.scala|59 0

Revision: 71fc8b2fbe5e4921fd872b2d904b3f1557959839
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 29/08/2022 11:54:10
Message:
[HUDI-4549]  Remove avro from hudi-hive-sync-bundle and hudi-aws-bundle (#6472) #MsgLength=228


----
Modified: packaging/hudi-aws-bundle/pom.xml|2 17
Modified: packaging/hudi-hive-sync-bundle/pom.xml|0 13

Revision: c50b6346b5877a2f13193e65cc1ad62a28e85095
Author: KnightChess <981159963@qq.com>
Date: 30/08/2022 06:04:51
Message:
[HUDI-4482] remove guava and use caffeine instead for cache (#6240) #MsgLength=69


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/payload/SqlTypedRecord.scala|11 17
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/payload/ExpressionPayload.scala|16 17
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|55 59
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowBootstrapMappingProcedure.scala|0 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFileSystemViewProcedure.scala|7 5
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowFsPathDetailProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileMetadataProcedure.scala|5 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ShowHoodieLogFileRecordsProcedure.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsFileSizeProcedure.scala|2 3
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/StatsWriteAmplificationProcedure.scala|1 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/procedure/TestCallCommandParser.scala|7 7
Modified: packaging/hudi-hadoop-mr-bundle/pom.xml|0 1
Modified: packaging/hudi-spark-bundle/pom.xml|0 1
Modified: style/scalastyle.xml|5 0

Revision: ac9ce8533472418101c0cdadf442aa58d2ed159a
Author: KnightChess <981159963@qq.com>
Date: 30/08/2022 10:23:47
Message:
[HUDI-4483] Fix checkstyle in integ-test module (#6523) #MsgLength=57


----
Modified: hudi-integ-test/pom.xml|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieContinousTestSuiteWriter.java|0 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieInlineTestSuiteWriter.java|0 8
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieMultiWriterTestSuiteJob.java|1 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/HoodieTestSuiteWriter.java|2 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/SparkDataSourceContinuousIngestTool.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/configuration/DFSDeltaConfig.java|1 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/DagUtils.java|10 18
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseQueryNode.java|1 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/BaseValidateDatasetNode.java|12 12
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveQueryNode.java|1 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/HiveSyncNode.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/PrestoQueryNode.java|1 2
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/TrinoQueryNode.java|2 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/nodes/ValidateAsyncOperations.java|2 9
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/dag/scheduler/DagScheduler.java|0 1
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/generator/GenericRecordFullPayloadGenerator.java|3 3
Modified: hudi-integ-test/src/main/java/org/apache/hudi/integ/testsuite/reader/DFSAvroDeltaInputReader.java|5 3

Revision: 71b81740589c9c3ec1ee1bd4910342fde0656790
Author: Teng <teng_huo@outlook.com>
Date: 30/08/2022 10:28:23
Message:
[HUDI-4340] fix not parsable text DateTimeParseException by addng a method parseDateFromInstantTimeSafely for parsing timestamp when output metrics (#6000) #MsgLength=157


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|8 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDWriteClient.java|6 16
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java|41 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|1 6
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/timeline/TestHoodieActiveTimeline.java|20 3

Revision: 7c9ceb63702f534f710ecdccf88547027b3d21ba
Author: leandro-rouberte <37634317+leandro-rouberte@users.noreply.github.com>
Date: 30/08/2022 12:55:41
Message:
[DOCS] Add docs about javax.security.auth.login.LoginException when starting Hudi Sink Connector (#6255) #MsgLength=106


----
Modified: hudi-kafka-connect/README.md|25 0

Revision: a3481efdf076036b613a4be5de0cf0f9dba3aa96
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 30/08/2022 12:59:15
Message:
[HUDI-4327] Fixing flaky deltastreamer test (testCleanerDeleteReplacedDataWithArchive) (#6533) #MsgLength=96


----
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|3 1

Revision: 439afa55821df6f7bf6494e27e396e1c1dcaca29
Author:  <fengjian428@gmail.com>
Date: 30/08/2022 15:12:27
Message:
[HUDI-4730] Fix batch job cannot clean old commits files (#6515) #MsgLength=176


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/CleanFunction.java|5 11

Revision: 30e36f35eb2d81515feb6189066418e0fee14f52
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 30/08/2022 16:34:38
Message:
[HUDI-4740] Add metadata fields for hive catalog #createTable (#6541) #MsgLength=71


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|18 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java|8 4
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java|30 1

Revision: d7a52400a81b344f120c8b257fafb6b2886a46b6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 30/08/2022 22:26:43
Message:
[HUDI-4695] Fixing flaky TestInlineCompaction#testCompactionRetryOnFailureBasedOnTime (#6534) #MsgLength=95


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|4 2

Revision: 570989dc4011d5370f60991d8782408dd0f72c07
Author: Jon Vexler <jbvexler@gmail.com>
Date: 31/08/2022 05:49:37
Message:
[HUDI-4193] change protoc version to unblock hudi compilation on m1 mac (#6535) #MsgLength=81


----
Modified: pom.xml|12 0

Revision: f7038e0195c1ac269f987b96f77c5486bfe02bf7
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 31/08/2022 12:19:08
Message:
[HUDI-4438] Fix flaky TestCopyOnWriteActionExecutor#testPartitionMetafileFormat (#6546) #MsgLength=89


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/commit/TestCopyOnWriteActionExecutor.java|1 1

Revision: dd096b087ff6cf418193eb221ded30a707c31602
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 31/08/2022 13:43:49
Message:
[MINOR] Fix typo in HoodieArchivalConfig (#6542) #MsgLength=50


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieArchivalConfig.java|5 5

Revision: 3e99ca71ce4f7384aa30fe1eb16540f9077891f9
Author: smilecrazy <smilecrazy1h@gmail.com>
Date: 31/08/2022 14:00:59
Message:
[HUDI-4582] Support batch synchronization of partition to HMS to avoid timeout (#6347) #MsgLength=132


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncConfig.java|7 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java|20 12
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/JDBCExecutor.java|0 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java|0 3

Revision: 5d9db864f1ca77e49ea3e7d90e193ac05feeaa01
Author: Xixi Hua <smilecrazy1h@gmail.com>
Date: 01/09/2022 12:23:37
Message:
[HUDI-4742] Fix AWS Glue partition's location is wrong when updatePartition (#6545) #MsgLength=127


----
Modified: hudi-aws/src/main/java/org/apache/hudi/aws/sync/AWSGlueCatalogSyncClient.java|1 1

Revision: f5de4e434b33720d4846c6fe2450539a284ea14f
Author: Tim Brown <tim@onehouse.ai>
Date: 01/09/2022 23:33:20
Message:
[HUDI-4418] Add support for ProtoKafkaSource (#6135) #MsgLength=663


----
Modified: hudi-kafka-connect/pom.xml|0 15
Modified: hudi-utilities/pom.xml|21 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java|28 9
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/ProtoClassBasedSchemaProvider.java|78 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/AvroKafkaSource.java|4 39
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JsonKafkaSource.java|4 39
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/KafkaSource.java|77 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ProtoKafkaSource.java|105 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/Source.java|1 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java|6 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/ProtoConversionUtil.java|359 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/schema/TestProtoClassBasedSchemaProvider.java|61 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/BaseTestKafkaSource.java|280 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSource.java|18 249
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestJsonKafkaSourcePostProcessor.java|41 9
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestProtoKafkaSource.java|216 0
Added: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestProtoConversionUtil.java|367 0
Added: hudi-utilities/src/test/resources/schema-provider/proto/sample.proto|77 0
Added: hudi-utilities/src/test/resources/schema-provider/proto/sample_schema_flattened.txt|1 0
Added: hudi-utilities/src/test/resources/schema-provider/proto/sample_schema_nested.txt|1 0
Modified: pom.xml|49 0

Revision: 98c3d88b2f3635199f307c608e10015fffa0df73
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 02/09/2022 13:55:25
Message:
[HUDI-4642] Adding support to hudi-cli to repair deprecated partition (#6438) #MsgLength=79


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|27 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|44 1
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|84 0
Modified: hudi-client/hudi-java-client/src/test/resources/testDataGeneratorSchema.txt|2 1
Modified: hudi-client/hudi-spark-client/src/test/resources/testDataGeneratorSchema.txt|2 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestDataGenerator.java|2 1

Revision: 82d41f4b877b0f6d85fd14bd9c1259c77b746498
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 04/09/2022 01:12:55
Message:
[HUDI-4751] Fix owner instants for transaction manager api callers (#6549) #MsgLength=76


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/InProcessLockProvider.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/restore/BaseRestoreActionExecutor.java|6 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|2 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestInProcessLockProvider.java|41 0

Revision: 24dd00724cf8f49b8e2d5ad07afaa7756165e0a7
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date: 05/09/2022 12:10:13
Message:
[HUDI-4739] Wrong value returned when key's length equals 1 (#6539) #MsgLength=136


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|10 15
Added: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/TestKeyGenUtils.java|37 0

Revision: edbd7fd6ccc335583640929e8e2d9a188e48cd7b
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 05/09/2022 14:15:26
Message:
[HUDI-4528] Add diff tool to compare commit metadata (#6485) #MsgLength=245


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieTableHeaderFields.java|32 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|86 143
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|29 23
Added: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DiffCommand.java|184 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncValidateCommand.java|3 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|34 0
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/CommitUtil.java|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|58 29
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|1 1
Added: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestDiffCommand.java|147 0
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieTestCommitMetadataGenerator.java|25 7
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|4 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java|15 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|9 1

Revision: d2c46fb62a3bc05b40041c86df4e41a544f6e424
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 05/09/2022 14:16:41
Message:
[HUDI-4648] Support rename partition through CLI (#6569) #MsgLength=58


----
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|31 1
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|67 20
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|48 0

Revision: 0f76d69e942335440b91468acdc124a4359268a6
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 05/09/2022 19:32:59
Message:
[HUDI-4775] Fixing incremental source for MOR table (#6587) #MsgLength=184


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/IncrSourceHelper.java|1 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|34 5

Revision: 2ffa1f74eaa9a62aeea63e2fa43fd5d296b31bf0
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 05/09/2022 23:18:02
Message:
[HUDI-4694] Print testcase running time for CI jobs (#6586) #MsgLength=61


----
Modified: azure-pipelines.yml|12 0

Revision: af78567925b6d7e1d4814f488588396ef9b0d1ae
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 06/09/2022 06:09:43
Message:
[RFC] Claim RFC-62 for Diagnostic Reporter (#6599) #MsgLength=100


----
Modified: rfc/README.md|1 0

Revision: 7e9ad053173ea0883503750918d93ab2fff0e6db
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 06/09/2022 09:36:15
Message:
[minor] following HUDI-4739, fix the extraction for simple record keys (#6594) #MsgLength=80


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|3 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/TestKeyGenUtils.java|5 0

Revision: 2590d2abf13a91eea8d73fb36c069da7efa375b9
Author: HunterXHunter <1356469429@qq.com>
Date: 06/09/2022 12:14:11
Message:
[HUDI-4619] Add a remote request retry mechanism for 'Remotehoodietablefilesystemview'. (#6393) #MsgLength=97


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/embedded/EmbeddedTimelineService.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewManager.java|1 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/FileSystemViewStorageConfig.java|76 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|28 17
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/RetryHelper.java|33 19
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|5 0
Modified: hudi-timeline-service/src/test/java/org/apache/hudi/timeline/service/functional/TestRemoteHoodieTableFileSystemView.java|46 0

Revision: 57e6223cad2dea8c5586d15ff36be7dc702f6f55
Author: komao <masterwangzx@gmail.com>
Date: 07/09/2022 00:39:12
Message:
[HUDI-4720] Fix HoodieInternalRow return wrong num of fields when source not contains meta fields (#6500) #MsgLength=174


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/model/HoodieInternalRow.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/model/TestHoodieInternalRow.java|22 0

Revision: 993b3f1f3dc0f87f81308328269fe062c9d03db4
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 07/09/2022 01:56:16
Message:
[HUDI-4389] Make HoodieStreamingSink idempotent (#6098) #MsgLength=338


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|27 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieStreamingSink.scala|118 29
Modified: hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStructuredStreaming.scala|2 2
Modified: style/scalastyle.xml|1 1

Revision: 5fcec2fdc4e7fbbbec4a01bcdf79b737655744f6
Author: felixYyu <felix2003@live.cn>
Date: 07/09/2022 04:28:33
Message:
[MINOR] Remove redundant braces (#6604) #MsgLength=41


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|1 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/HoodieSqlCommonUtils.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/DedupeSparkJob.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/RunClusteringProcedure.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/ValidateHoodieSyncProcedure.scala|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroDeserializer.scala|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/avro/AvroSerializer.scala|1 1

Revision: 454f7d37b8d466908690bcf9213fd5497489fb00
Author: hehuiyuan <471627698@qq.com>
Date: 07/09/2022 04:39:14
Message:
[HUDI-4618] Separate log word for CommitUitls class (#6392) #MsgLength=61


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CommitUtils.java|1 1

Revision: 323f19685c5e38b65476fcee70bbc56809d609f5
Author: KnightChess <981159963@qq.com>
Date: 07/09/2022 05:54:11
Message:
[HUDI-4776] Fix merge into use unresolved assignment (#6589) #MsgLength=62


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|10 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable.scala|36 1

Revision: 27c7efb4efc380360af7a18fc57c0757f852390f
Author: Bingeng Huang <304979636@qq.com>
Date: 07/09/2022 10:09:54
Message:
[HUDI-4795] Fix KryoException when bulk insert into a not bucket index hudi table #MsgLength=129


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|1 1

Revision: d2d1cb8b289f43e4f467d197013f1273cd350034
Author: Vinish Reddy <vinishreddygunner17@gmail.com>
Date: 07/09/2022 11:54:38
Message:
[HUDI-4615] Return checkpoint as null for empty data from events queue.  (#6387) #MsgLength=130


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/S3EventsMetaSelector.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/helpers/TestS3EventsMetaSelector.java|24 0

Revision: 8ffcb2fc9470077bdcf3810756545d081fb6523c
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 07/09/2022 15:55:12
Message:
[HUDI-4782] Support TIMESTAMP_LTZ type for flink (#6607) #MsgLength=58


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|26 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroToRowDataConverters.java|3 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java|8 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/RowDataToAvroConverters.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|32 0
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestAvroSchemaConverter.java|38 0
Modified: hudi-flink-datasource/hudi-flink1.13.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|5 1
Modified: hudi-flink-datasource/hudi-flink1.14.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|5 1
Modified: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/ParquetSplitReaderUtil.java|5 1

Revision: dbb044b751e3ff33c87b16a80e6d6b0b5615ef65
Author: junyuc25 <10862251+junyuc25@users.noreply.github.com>
Date: 07/09/2022 16:09:14
Message:
[HUDI-4731] Shutdown CloudWatch reporter when query completes (#6468) #MsgLength=71


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|6 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|2 0
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|5 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|27 1
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|2 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|31 0

Revision: e8aee84c7c76383dc18e163796dd960f346db398
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 07/09/2022 23:14:56
Message:
[HUDI-4793] Fixing ScalaTest tests to properly respect Log4j2 configs (#6617) #MsgLength=79


----
Added: hudi-tests-common/src/main/resources/log4j2.component.properties|18 0
Modified: pom.xml|8 8

Revision: adf36093d2454c7e3cd7090a0cb3fd5af140b919
Author: voonhous <voonhousu@gmail.com>
Date: 08/09/2022 09:22:58
Message:
[HUDI-4766] Strengthen flink clustering job (#6566) #MsgLength=478


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSizeBasedClusteringPlanStrategy.java|0 8
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|6 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringCommitSink.java|7 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/ClusteringOperator.java|5 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java|50 11
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java|50 10
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|16 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 2

Revision: dcb55b7019af834fb1898a46294ddc1f20c2afda
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date: 08/09/2022 17:29:05
Message:
[HUDI-4797] fix merge into table for source table with different column order (#6620) #MsgLength=143


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|4 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestMergeIntoTable2.scala|37 0

Revision: e1da06fa7024b9fa84811ec030b8f5f06ce52b06
Author: Xingcan Cui <xcui@wealthsimple.com>
Date: 09/09/2022 09:25:31
Message:
[MINOR] Typo fix for kryo in flink-bundle (#6639) #MsgLength=51


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 1

Revision: 13eb892081fc4ddd5e1592ef8698831972012666
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 09/09/2022 09:34:56
Message:
[HUDI-4811] Fix the checkstyle of hudi flink (#6633) #MsgLength=54


----
Modified: hudi-client/hudi-flink-client/pom.xml|281 280
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/FlinkTaskContextSupplier.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|8 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/common/HoodieFlinkEngineContext.java|3 4
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/execution/FlinkLazyInsertIterable.java|5 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/MiniBatchHandle.java|2 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowDataParquetWriter.java|1 1
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/io/storage/row/parquet/ParquetSchemaConverter.java|2 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/metadata/FlinkHoodieBackedTableMetadataWriter.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/ExplicitWriteHandleTable.java|11 11
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|12 11
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkMergeOnReadTable.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkTable.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkDeleteHelper.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertOverwriteTableCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkInsertPreppedCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkMergeHelper.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkUpsertPreppedCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/BaseFlinkDeltaCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertDeltaCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/delta/FlinkUpsertPreppedDeltaCommitActionExecutor.java|3 0
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/client/common/TestHoodieFlinkEngineContext.java|1 1
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/index/bloom/TestFlinkHoodieBloomIndex.java|7 6
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkClientTestHarness.java|5 4
Modified: hudi-client/hudi-flink-client/src/test/java/org/apache/hudi/testutils/HoodieFlinkWriteableTestTable.java|4 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/FlinkOptions.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/configuration/HadoopConfigurations.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/FlinkClusteringConfig.java|5 5
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/clustering/HoodieFlinkClusteringJob.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/CompactionPlanOperator.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/compact/HoodieFlinkCompactor.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/utils/Pipelines.java|9 9
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/source/stats/ExpressionEvaluator.java|1 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/streamer/FlinkStreamerConfig.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/HoodieTableSource.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|10 6
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieHiveCatalog.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/AvroSchemaConverter.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/ClusteringUtil.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/CompactionUtil.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/DataTypeUtils.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/FlinkStateBackendConverter.java|4 2
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/HoodiePipeline.java|31 31
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/util/StreamerUtil.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/ITTestDataStreamWrite.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/TestWriteMergeOnRead.java|26 26
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/ITTestHoodieFlinkCompactor.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/sink/compact/TestCompactionPlanStrategy.java|20 19
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/source/stats/TestExpressionEvaluator.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/ITTestHoodieDataSource.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/HoodieCatalogTestUtils.java|6 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalogFactory.java|1 1
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieHiveCatalog.java|2 2
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/utils/TestData.java|8 8
Modified: hudi-flink-datasource/hudi-flink/src/test/resources/hive-site.xml|8 8
Modified: hudi-flink-datasource/hudi-flink/src/test/resources/test-catalog-factory-conf/hive-site.xml|5 5
Modified: hudi-flink-datasource/hudi-flink1.15.x/src/main/java/org/apache/hudi/table/format/cow/vector/HeapMapColumnVector.java|1 1

Revision: 4af60dcfbaeea5e79bc4b9457477e9ee0f9cdb79
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 09/09/2022 11:09:00
Message:
[HUDI-4465] Optimizing file-listing sequence of Metadata Table (#6016) #MsgLength=628


----
Modified: docker/demo/config/dfs-source.properties|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadataWriter.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/BuiltinKeyGenerator.java|0 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/keygen/SimpleKeyGenerator.java|7 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/execution/datasources/SparkParsePartitionUtil.scala|6 6
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestConsistentBucketIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|22 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java|15 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableIncrementalRead.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|6 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|5 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|8 4
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|64 23
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|8 5
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/BaseFile.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieHFileDataBlock.java|11 15
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|7 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/hadoop/CachingPath.java|57 2
Modified: hudi-common/src/main/java/org/apache/hudi/hadoop/SerializablePath.java|5 4
Modified: hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieHFileUtils.java|3 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/BaseTableMetadata.java|77 58
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|2 9
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieMetadataPayload.java|16 2
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadata.java|17 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestUtils.java|18 17
Modified: hudi-hadoop-mr/src/test/java/org/apache/hudi/hadoop/testutils/InputFormatTestUtil.java|4 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/SparkHoodieTableFileIndex.scala|16 12
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestTimeTravelQuery.scala|3 3
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/execution/datasources/Spark2ParsePartitionUtil.scala|7 7
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/ReflectUtil.java|2 2
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|1 3
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/execution/datasources/Spark3ParsePartitionUtil.scala|27 21
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|5 5
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/TestHoodieIncrSource.java|2 2

Revision: 228b6fe40fab468c8f810ce43db984a01802a403
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 09/09/2022 23:55:24
Message:
[HUDI-4807] Use base table instant for metadata initialization (#6629) #MsgLength=72


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/index/ScheduleIndexActionExecutor.java|1 1

Revision: e87a92d603e2476a2c952c1bf2b178b2885907ab
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 10/09/2022 02:51:44
Message:
[HUDI-3453] Fix HoodieBackedTableMetadata concurrent reading issue (#5091) #MsgLength=178


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|59 0
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java|11 5

Revision: d0830c81cf272c00f5845454747e8f676b11a8a2
Author: KnightChess <981159963@qq.com>
Date: 10/09/2022 02:55:02
Message:
[HUDI-4518] Add unit test for reentrant lock in diff lockProvider (#6624) #MsgLength=75


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/functional/TestHiveMetastoreBasedLockProvider.java|22 0

Revision: c92ea8a8bb80d0bedba8554bb2f3b9fc423379d8
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 10/09/2022 08:23:28
Message:
[HUDI-4810] Fixing Hudi bundles requiring log4j2 on the classpath (#6631) #MsgLength=300


----
Modified: hudi-aws/pom.xml|6 0
Modified: hudi-cli/pom.xml|6 0
Modified: hudi-client/hudi-client-common/pom.xml|6 0
Modified: hudi-client/hudi-flink-client/pom.xml|15 1
Modified: hudi-client/hudi-java-client/pom.xml|6 0
Modified: hudi-client/hudi-spark-client/pom.xml|6 0
Modified: hudi-common/pom.xml|1 17
Modified: hudi-examples/hudi-examples-java/pom.xml|7 0
Modified: hudi-examples/hudi-examples-spark/pom.xml|8 5
Modified: hudi-flink-datasource/hudi-flink/pom.xml|14 0
Modified: hudi-flink-datasource/hudi-flink1.13.x/pom.xml|15 0
Modified: hudi-flink-datasource/hudi-flink1.14.x/pom.xml|15 0
Modified: hudi-flink-datasource/hudi-flink1.15.x/pom.xml|15 0
Modified: hudi-gcp/pom.xml|6 0
Modified: hudi-hadoop-mr/pom.xml|6 0
Modified: hudi-integ-test/pom.xml|1 2
Modified: hudi-kafka-connect/pom.xml|0 7
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|6 0
Modified: hudi-spark-datasource/hudi-spark/pom.xml|6 0
Modified: hudi-spark-datasource/hudi-spark3.2.x/pom.xml|8 0
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire-quiet.properties|0 30
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/test/resources/log4j-surefire.properties|0 31
Modified: hudi-sync/hudi-adb-sync/pom.xml|9 2
Modified: hudi-sync/hudi-datahub-sync/pom.xml|0 7
Modified: hudi-sync/hudi-hive-sync/pom.xml|7 8
Modified: hudi-sync/hudi-sync-common/pom.xml|9 0
Modified: hudi-tests-common/pom.xml|18 2
Modified: hudi-timeline-service/pom.xml|6 7
Modified: hudi-utilities/pom.xml|1 2
Modified: packaging/hudi-integ-test-bundle/pom.xml|0 18
Modified: packaging/hudi-kafka-connect-bundle/pom.xml|0 14
Modified: packaging/hudi-timeline-server-bundle/pom.xml|0 7
Modified: pom.xml|9 0

Revision: e788eb2decd4a70266c041e9917af3f16e407fb7
Author: wangp-nhlab <95683046+wangp-nhlab@users.noreply.github.com>
Date: 10/09/2022 12:35:57
Message:
[HUDI-4826] Update RemoteHoodieTableFileSystemView to allow base path in UTF-8 (#6544) #MsgLength=88


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|8 6

Revision: a311965816ece4dd88650fabf2f59fb46705bd65
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 10/09/2022 23:51:59
Message:
[HUDI-4763] Allow hoodie read client to choose index (#6506) #MsgLength=116


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|14 0

Revision: 70a724a9c3933ed762046d2c6dfbc72cf1a93645
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 12/09/2022 13:39:19
Message:
[DOCS] Fix Slack invite link in README.md (#6648) #MsgLength=51


----
Modified: README.md|1 1

Revision: 6badae46f0f3e743f0502bd34e124cf6cfabcec0
Author: Yuwei XIAO <ywxiaozero@gmail.com>
Date: 12/09/2022 14:35:40
Message:
[HUDI-3558] Consistent bucket index: bucket resizing (split&merge) & concurrent write during resizing (#4958) #MsgLength=514


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieClusteringConfig.java|38 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|54 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|29 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|12 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/BucketIndexLocationMapper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/ConsistentBucketIdentifier.java|99 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieBucketIndex.java|3 3
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieSimpleBucketIndex.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|6 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java|3 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/ClusteringPlanStrategy.java|7 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/PartitionAwareClusteringPlanStrategy.java|4 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/strategy/UpdateStrategy.java|8 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseBulkInsertHelper.java|2 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseCommitActionExecutor.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/storage/HoodieConsistentBucketLayout.java|4 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/config/TestHoodieWriteConfig.java|28 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestBucketIdentifier.java|11 10
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/index/bucket/TestConsistentBucketIdIdentifier.java|143 22
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/FlinkSizeBasedClusteringPlanStrategy.java|4 11
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/JavaSizeBasedClusteringPlanStrategy.java|4 11
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkConsistentBucketClusteringPlanStrategy.java|322 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSingleFileSortPlanStrategy.java|3 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkSizeBasedClusteringPlanStrategy.java|4 11
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|4 2
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkConsistentBucketClusteringExecutionStrategy.java|79 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|2 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/BaseSparkUpdateStrategy.java|4 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkAllowUpdateStrategy.java|5 5
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkConsistentBucketDuplicateUpdateStrategy.java|150 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkRejectUpdateStrategy.java|4 5
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/BulkInsertInternalPartitionerFactory.java|11 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDBucketIndexPartitioner.java|33 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDConsistentBucketPartitioner.java|277 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bucket/HoodieSparkConsistentBucketIndex.java|82 14
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|30 14
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkBulkInsertHelper.java|15 1
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/SparkInsertOverwritePartitioner.java|1 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/deltacommit/BaseSparkDeltaCommitActionExecutor.java|1 2
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/clustering/plan/strategy/TestSparkConsistentBucketClusteringPlanStrategy.java|190 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestConsistentBucketIndex.java|100 36
Added: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestSparkConsistentBucketClustering.java|292 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/TestHoodieIndexConfigs.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieSimpleBucketIndex.java|1 1
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|44 1
Modified: hudi-common/src/main/avro/HoodieClusteringGroup.avsc|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/ConsistentHashingNode.java|26 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/FileSlice.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieConsistentHashingMetadata.java|24 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/HoodieInstantTimeGenerator.java|9 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/HoodieRecordSizeEstimator.java|1 3

Revision: cda31c65c3fa7f4cb755384b66d681f0f0503a48
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 12/09/2022 19:47:58
Message:
[MINOR] Add dev setup and spark 3.3 profile to readme (#6656) #MsgLength=63


----
Modified: README.md|9 2

Revision: 8dea9cf89df859ae0c6e2c9b527458328cdf2baa
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 13/09/2022 03:06:41
Message:
[HUDI-4831] Fix AWSDmsAvroPayload#getInsertValue,combineAndGetUpdateValue to invoke correct api (#6637) #MsgLength=157


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java|2 4
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestAWSDmsAvroPayload.java|10 4

Revision: ddb1c1aff6c3561890137da263e5deb40dcb7ee5
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date: 13/09/2022 05:54:58
Message:
[HUDI-4806] Use Avro version from the root pom for Flink bundle (#6628) #MsgLength=121


----
Modified: packaging/hudi-flink-bundle/pom.xml|1 2

Revision: dc5ec0ce0f36b208a272669c7883b7d3d93a7f21
Author: Abhishek Modi <modi@makenotion.com>
Date: 13/09/2022 07:28:14
Message:
[HUDI-4833] Add Postgres Schema Name to Postgres Debezium Source (#6616) #MsgLength=74


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/debezium/DebeziumConstants.java|2 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/debezium/PostgresDebeziumSource.java|2 0

Revision: 3cfe4855c265814290389c8144ed2f199fc31b01
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 13/09/2022 07:50:18
Message:
[HUDI-4825] Remove redundant fields in serialized commit metadata in JSON (#6646) #MsgLength=83


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/JsonUtils.java|6 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieCommitMetadata.java|29 0
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestHoodieReplaceCommitMetadata.java|47 0

Revision: a942d9d1bacf656b2dc3c76ad0b1f96c7d601109
Author: shuai.xu <chiggics@gmail.com>
Date: 13/09/2022 11:33:13
Message:
[MINOR] Insert should call validateInsertSchema in HoodieFlinkWriteClient (#5919) #MsgLength=131


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/client/HoodieFlinkWriteClient.java|1 1

Revision: 1b2179269efab4eb419fdcbc2a4fad717ee8b343
Author: YueZhang <69956021+zhangyue19921010@users.noreply.github.com>
Date: 13/09/2022 15:25:24
Message:
[HUDI-3879] Suppress exceptions that are not fatal in HoodieMetadataTableValidator (#5344) #MsgLength=196


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieMetadataTableValidator.java|24 4

Revision: 03c49cae52b75cee17a58d70369ce3c261f44177
Author:  <dongkelun01@inspur.com>
Date: 13/09/2022 21:54:48
Message:
[HUDI-3998] Fix getCommitsSinceLastCleaning failed when async cleaning (#5478) #MsgLength=315


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanActionExecutor.java|1 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|12 5
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|11 0
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java|4 3
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|24 15
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|4 3
Modified: hudi-common/src/main/avro/HoodieCleanMetadata.avsc|1 0
Modified: hudi-common/src/main/avro/HoodieCleanerPlan.avsc|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/HoodieCleanStat.java|20 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataV1MigrationHandler.java|1 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanMetadataV2MigrationHandler.java|1 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV1MigrationHandler.java|4 6
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/versioning/clean/CleanPlanV2MigrationHandler.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CleanerUtils.java|4 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java|2 2
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/FileCreateUtils.java|9 5
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|7 6
Modified: hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/RequestHandler.java|30 8

Revision: ddda7fad91ff2935e5fbd4391ae91a6d2f78de57
Author: Angel Conde <neuw84@gmail.com>
Date: 13/09/2022 23:45:19
Message:
[HUDI-3994] - Added support for initializing DeltaStreamer without a defined Spark Master (#5630) #MsgLength=339


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|18 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java|10 5
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java|4 2

Revision: c7c64a7f680c1219b254a3f972fdf7e4113eb56c
Author: FocusComputing <xiaoxingstack@gmail.com>
Date: 14/09/2022 09:41:02
Message:
[HUDI-4628] Hudi-flink support GLOBAL_BLOOMGLOBAL_SIMPLEBUCKET index type (#6406) #MsgLength=145


----
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/index/FlinkHoodieIndexFactory.java|9 0

Revision: 45ec376777f4a560612d60859b863fa267584c70
Author: eric9204 <90449228+eric9204@users.noreply.github.com>
Date: 14/09/2022 10:27:21
Message:
[HUDI-4814] Schedules new clustering plan based on latest clustering instant (#6574) #MsgLength=206


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/cluster/ClusteringPlanActionExecutor.java|7 5

Revision: 39dba796405d0bc62a1cdd4818fcd6205012c608
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 14/09/2022 14:29:13
Message:
[HUDI-4817] Delete markers after full-record bootstrap operation (#6667) #MsgLength=74


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|20 9
Modified: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestBootstrap.java|10 2

Revision: 8c296e03568dca4e98e97a0d81ada509c8238037
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 14/09/2022 23:21:03
Message:
[HUDI-4691] Cleaning up duplicated classes in Spark 3.3 module (#6550) #MsgLength=398


----
Modified: azure-pipelines.yml|1 1
Modified: hudi-cli/pom.xml|5 1
Modified: hudi-client/hudi-flink-client/pom.xml|13 13
Modified: hudi-client/hudi-spark-client/pom.xml|5 1
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalogUtils.scala [from hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala]|6 15
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieCatalystPlansUtils.scala|1 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/SerDeHelper.java|2 2
Modified: hudi-examples/hudi-examples-spark/pom.xml|5 7
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|5 1
Modified: hudi-spark-datasource/hudi-spark/pom.xml|12 43
Modified: hudi-spark-datasource/hudi-spark/run_hoodie_app.sh|1 1
Modified: hudi-spark-datasource/hudi-spark/run_hoodie_generate_app.sh|1 1
Modified: hudi-spark-datasource/hudi-spark/run_hoodie_streaming_app.sh|1 1
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|2 6
Modified: hudi-spark-datasource/hudi-spark2/pom.xml|0 6
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|4 0
Modified: hudi-spark-datasource/hudi-spark3-common/pom.xml|0 5
Added: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalogUtils.scala|45 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala|2 2
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|3 1
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/HoodieUnaryLikeSham.scala [from hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java]|31 23
Renamed: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala]|0 0
Modified: hudi-spark-datasource/hudi-spark3.1.x/pom.xml|0 5
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark31HoodieVectorizedParquetRecordReader.java [from hudi-spark-datasource/hudi-spark3.1.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark312HoodieVectorizedParquetRecordReader.java]|2 2
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|1 1
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark31DefaultSource.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/hudi/Spark3xDefaultSource.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark31CatalogUtils.scala [from hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala]|8 25
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_1Adapter.scala|3 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/avro/HoodieSpark3_1AvroDeserializer.scala|8 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark31HoodieParquetFileFormat.scala|1 1
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/Spark31ResolveHudiAlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/Spark312ResolveHudiAlterTableCommand.scala]|11 13
Renamed: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/command/Spark31AlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand312.scala]|10 10
Modified: hudi-spark-datasource/hudi-spark3.2.x/pom.xml|11 11
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|1 1
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/hudi/Spark32HoodieFileScanRDD.scala|0 3
Added: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalogUtils.scala|29 0
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_2Adapter.scala|8 6
Deleted: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieParquetFileFormat.scala|0 505
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/Spark32ResolveHudiAlterTableCommand.scala|0 1
Added: hudi-spark-datasource/hudi-spark3.2plus-common/pom.xml|234 0
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32PlusHoodieVectorizedParquetRecordReader.java [from hudi-spark-datasource/hudi-spark3.2.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark32HoodieVectorizedParquetRecordReader.java]|2 2
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/hudi/Spark32PlusDefaultSource.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/hudi/Spark3DefaultSource.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32PlusDataSourceUtils.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32DataSourceUtils.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark32PlusHoodieParquetFileFormat.scala [from hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieParquetFileFormat.scala]|9 9
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala]|1 45
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala]|11 9
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala]|15 10
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala]|1 1
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala]|9 8
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/catalog/TableCreationMode.java]|23 23
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala]|0 0
Renamed: hudi-spark-datasource/hudi-spark3.2plus-common/src/main/scala/org/apache/spark/sql/hudi/logical/TimeTravelRelation.scala [from hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/TimeTravelRelation.scala]|0 0
Modified: hudi-spark-datasource/hudi-spark3.3.x/pom.xml|8 5
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/java/org/apache/spark/sql/execution/datasources/parquet/Spark33HoodieVectorizedParquetRecordReader.java|0 191
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/resources/META-INF/services/org.apache.spark.sql.sources.DataSourceRegister|1 1
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/hudi/Spark33HoodieFileScanRDD.scala|3 2
Added: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalogUtils.scala|30 0
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/adapter/Spark3_3Adapter.scala|5 3
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/connector/catalog/HoodieIdentifier.scala|0 43
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/Spark33DataSourceUtils.scala|0 77
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/Spark33ResolveHudiAlterTableCommand.scala|0 1
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieSpark3Analysis.scala|0 222
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/BasicStagedTable.scala|0 57
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieCatalog.scala|0 367
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieInternalV2Table.scala|0 129
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/catalog/HoodieStagedTable.scala|0 98
Deleted: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/hudi/command/AlterTableCommand.scala|0 347
Modified: hudi-utilities/pom.xml|13 31
Modified: packaging/hudi-integ-test-bundle/pom.xml|42 63
Modified: packaging/hudi-spark-bundle/pom.xml|14 37
Modified: packaging/hudi-utilities-bundle/pom.xml|21 33
Modified: packaging/hudi-utilities-slim-bundle/pom.xml|0 12
Modified: pom.xml|65 7

Revision: 1f2e72e06e0b1a1db3eccc4bc090705a708c5eb9
Author: Manu <36392121+xicm@users.noreply.github.com>
Date: 15/09/2022 12:27:43
Message:
[HUDI-4752] Add dedup support for MOR table in cli (#6608) #MsgLength=60


----
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|2 2
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|80 37

Revision: 35d03e9a1bede05d10f10c6e4b57ffe66ca7f330
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 15/09/2022 13:11:34
Message:
[HUDI-4837] Stop sleeping where it is not necessary after the success (#6270) #MsgLength=206


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java|3 1
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/sources/BaseTestKafkaSource.java|2 2

Revision: 7ab59b9a0c40bde0dc4c110ca361c55a76c6bd2a
Author: wuwenchi <wuwenchihdu@hotmail.com>
Date: 15/09/2022 15:54:24
Message:
[HUDI-4843] Delete the useless timer in BaseRollbackActionExecutor (#6671) #MsgLength=118


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/rollback/BaseRollbackActionExecutor.java|0 2

Revision: 851c6e12db9fea9e7776dfc3da2d9d6e31d2bb4e
Author: luokey <loukey.j@gmail.com>
Date: 15/09/2022 15:56:10
Message:
[HUDI-4780] hoodie.logfile.max.size It does not take effect, causing the log file to be too large (#6602) #MsgLength=244


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/SizeAwareFSDataOutputStream.java|1 1

Revision: a1dedf3d595e3e1a7bd0aaab4c431b50a47843af
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 15/09/2022 19:41:54
Message:
[HUDI-4844] Skip partition value resolving when the field does not exists for MergeOnReadInputFormat#getReader (#6678) #MsgLength=120


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|7 1
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/mor/MergeOnReadInputFormat.java|7 1

Revision: c22568ee28fa0c8197e15742b4069cc8b00c8766
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 15/09/2022 22:32:54
Message:
[MINOR] Fix the Spark job status description for metadata-only bootstrap operation (#6666) #MsgLength=92


----
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|1 1

Revision: a3921a845f608f2018ec3237f9d7421696b7b05d
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 15/09/2022 23:10:37
Message:
[HUDI-3403] Ensure keygen props are set for bootstrap (#6645) #MsgLength=63


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|1 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|7 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|10 8
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|25 18

Revision: 39f562f4fa3f9c8329e40763b8ae1723b0eb155e
Author: Sylwester Lachiewicz <slachiewicz@apache.org>
Date: 16/09/2022 03:50:31
Message:
[HUDI-4193] Upgrade Protobuf to 3.21.5 (#5784) #MsgLength=48


----
Modified: pom.xml|2 14

Revision: 488f58d770137057532196065f2f69eea1a15db8
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 16/09/2022 09:06:44
Message:
[HUDI-4785] Fix partition discovery in bootstrap operation (#6673) #MsgLength=122


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieBootstrapConfig.java|12 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapCommitActionExecutor.java|35 12
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/bootstrap/SparkBootstrapDeltaCommitActionExecutor.java|9 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/TableSchemaResolver.java|16 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTableSchemaResolver.java|7 5
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieBootstrapRelation.scala|3 4
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/bootstrap/SparkFullBootstrapDataProviderBase.java|3 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestDataSourceForBootstrap.scala|14 4

Revision: 22d6019559b10ca4315a6edd09b6171dbbcdc603
Author: komao <masterwangzx@gmail.com>
Date: 16/09/2022 09:43:01
Message:
[HUDI-4706] Fix InternalSchemaChangeApplier#applyAddChange error to add nest type (#6486) #MsgLength=202


----
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/InternalSchemaChangeApplier.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/action/TableChangesHelper.java|5 0
Modified: hudi-common/src/test/java/org/apache/hudi/internal/schema/action/TestTableChanges.java|86 0

Revision: 6e31b7cef4b6f03b7763d4ea11f0aa94a4225074
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 16/09/2022 09:45:02
Message:
[HUDI-4851] Fixing CSI not handling `InSet` operator properly (#6685) #MsgLength=71


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|15 5
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|55 17

Revision: bf64e60d3121c67f51859be4ce42d04c6a5704be
Author: Tim Brown <tim@onehouse.ai>
Date: 16/09/2022 09:57:58
Message:
[HUDI-4796] MetricsReporter stop bug (#6619) #MsgLength=46


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/ConsoleMetricsReporter.java|4 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/InMemoryMetricsReporter.java|0 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/JmxMetricsReporter.java|0 7
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/Metrics.java|4 11
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsGraphiteReporter.java|0 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/MetricsReporter.java|0 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/cloudwatch/CloudWatchMetricsReporter.java|0 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogMetricsReporter.java|0 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PrometheusReporter.java|4 9
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/prometheus/PushGatewayMetricsReporter.java|3 8
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/metrics/TestMetricsReporterFactory.java|0 6

Revision: c2b72306bdb13ad28ee74058519f049bf1eb2764
Author: KnightChess <981159963@qq.com>
Date: 16/09/2022 13:05:44
Message:
[HUDI-3861] update tblp 'path' when rename table (#5320) #MsgLength=58


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/command/AlterHoodieTableRenameCommand.scala|9 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestAlterTable.scala|75 3

Revision: f70678f4354c6264b6a1e38900dd7a11cb345b96
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 16/09/2022 13:56:23
Message:
[HUDI-4853] Get field by name for OverwriteNonDefaultsWithLatestAvroPayload to avoid schema mismatch (#6689) #MsgLength=110


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|1 1
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestOverwriteNonDefaultsWithLatestAvroPayload.java|56 3

Revision: 3faddb7da09e5e11d1b126ba49cea4ebdeba8fc7
Author: FocusComputing <xiaoxingstack@gmail.com>
Date: 16/09/2022 13:58:05
Message:
[HUDI-4813] Fix infer keygen not work in sparksql side issue (#6634) #MsgLength=196


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DataSourceOptions.scala|7 3
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/catalyst/catalog/HoodieCatalogTable.scala|6 3
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestHoodieSparkSqlWriter.scala|1 1
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestCreateTable.scala|72 2

Revision: 36fe10a0b2018aaaedd8c6813c45d0dc26cf401d
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/09/2022 08:26:33
Message:
[HUDI-4856] Missing option for HoodieCatalogFactory (#6693) #MsgLength=61


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/CatalogOptions.java|24 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HoodieCatalogFactory.java|1 9
Modified: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/catalog/TestHoodieCatalogFactory.java|24 2

Revision: 21cbfce617689a1eff4d405bf5b19639d16e1c68
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 17/09/2022 09:47:29
Message:
[HUDI-4864] Fix AWSDmsAvroPayload#combineAndGetUpdateValue when using MOR snapshot query after delete operations with test (#6688) #MsgLength=184


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java|6 3
Modified: hudi-common/src/test/java/org/apache/hudi/common/model/TestAWSDmsAvroPayload.java|21 0

Revision: f1caa3a2f9278ca00d64266dc9d3748583b6a42f
Author: voonhous <voonhousu@gmail.com>
Date: 17/09/2022 15:38:58
Message:
[HUDI-4841] Fix sort idempotency issue (#6669) #MsgLength=48


----
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/format/cow/CopyOnWriteInputFormat.java|3 8
Added: hudi-flink-datasource/hudi-flink/src/test/java/org/apache/hudi/table/format/cow/TestBlockLocationSort.java|52 0

Revision: d95caa93007a490bd12c56a3c859e46c7ddcedd5
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 17/09/2022 20:34:17
Message:
[HUDI-4865] Optimize HoodieAvroUtils#isMetadataField to use O(1) complexity (#6702) #MsgLength=85


----
Modified: hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java|4 8
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|3 2
Modified: hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java|3 3
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/table/catalog/HiveSchemaUtils.java|2 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|2 2
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java|5 5

Revision: fd7bb181cf438513aab80d6ef7883671eeb0d3e9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 17/09/2022 22:27:32
Message:
[HUDI-4736] Fix inflight clean action preventing clean service to continue when multiple cleans are not allowed (#6536) #MsgLength=121


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/BaseHoodieWriteClient.java|9 9
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestCleaner.java|16 11

Revision: cd2ea2a10b5b1f4e44a5fc844198c25d768fb2ca
Author:  <scx_white@aliyun.com>
Date: 18/09/2022 01:08:19
Message:
[HUDI-4842] Support compaction strategy based on delta log file num (#6670) #MsgLength=112


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|8 4
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/strategy/LogFileNumBasedCompactionStrategy.java|49 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/strategy/TestHoodieCompactionStrategy.java|45 9

Revision: eaa2f8ed3bb32b17e937a0b7971967a97b81596e
Author: 5herhom <543872547@qq.com>
Date: 18/09/2022 03:19:23
Message:
[HUDI-4282] Repair IOException in CHDFS when check block corrupted in HoodieLogFileReader (#6031) #MsgLength=153


----
Added: hudi-common/src/main/java/org/apache/hudi/common/fs/BoundedFsDataInputStream.java|68 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|8 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|5 1

Revision: 7e83f613092aa37d57d42a0386d8fe3cefda5c4e
Author: Jon Vexler <jon@onehouse.ai>
Date: 18/09/2022 03:42:04
Message:
[HUDI-4757] Create pyspark examples (#6672) #MsgLength=45


----
Modified: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java|1 0
Added: hudi-examples/hudi-examples-spark/src/test/python/HoodiePySparkQuickstart.py|266 0
Added: hudi-examples/hudi-examples-spark/src/test/python/README.md|42 0
Modified: hudi-spark-datasource/hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java|31 5

Revision: 05adfa2930166e8c3ac0ee905ee5cc4bb0530cce
Author: simonsssu <barley0806@gmail.com>
Date: 18/09/2022 06:16:52
Message:
[HUDI-3959] Rename class name for spark rdd reader (#5409) #MsgLength=114


----
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/HoodieReadClient.java|8 191
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/SparkRDDReadClient.java|234 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/TestHoodieReadClient.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/TestHoodieMergeOnReadTable.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/CompactionTestBase.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestAsyncCompaction.java|10 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/action/compact/TestInlineCompaction.java|10 10
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/FunctionalTestHarness.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestHarness.java|4 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieClientTestUtils.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/SparkClientFunctionalTestHarness.java|2 2
Modified: hudi-examples/hudi-examples-spark/src/test/java/org/apache/hudi/examples/quickstart/TestHoodieSparkQuickstart.java|2 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/DataSourceUtils.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieIndexer.java|2 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestHoodieRepairTool.java|2 2

Revision: 8dfdd15f89729cca1f3e1c12baa81bf8863fd6b4
Author: y0908105023 <283999377@qq.com>
Date: 18/09/2022 06:57:12
Message:
[HUDI-4828] Fix the extraction of record keys which may be cut out (#6650) #MsgLength=182


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/keygen/KeyGenUtils.java|1 1
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/keygen/TestKeyGenUtils.java|8 5

Revision: 5cbd1d83bacda48a07808c10638375b0263c2bfd
Author: Volodymyr Burenin <vburenin@gmail.com>
Date: 18/09/2022 06:59:25
Message:
[HUDI-4873] Report number of messages to be processed via metrics (#6271) #MsgLength=202


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamerMetrics.java|6 0
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/KafkaSource.java|2 0

Revision: 5a28f7f15358839388c9db9d4fce2aa81862b46a
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 19/09/2022 01:03:16
Message:
[HUDI-4870] Improve compaction config description (#6706) #MsgLength=59


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java|6 2

Revision: 3160c89d6d13b6cd2774c7cf4303455b3b944d9f
Author:  <fengjian428@gmail.com>
Date: 19/09/2022 09:43:56
Message:
[HUDI-3304] Support partial update payload (#4676) #MsgLength=102


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/BaseWriteHelper.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteHelper.java|6 2
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|7 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|6 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|7 6
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableCompaction.java|11 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/SerializableSchema.java|5 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java|14 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteNonDefaultsWithLatestAvroPayload.java|32 11
Added: hudi-common/src/main/java/org/apache/hudi/common/model/PartialUpdateAvroPayload.java|227 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/AbstractHoodieLogRecordReader.java|10 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|1 1
Added: hudi-common/src/test/java/org/apache/hudi/common/model/TestPartialUpdateAvroPayload.java|210 0
Modified: hudi-flink-datasource/hudi-flink/src/main/java/org/apache/hudi/sink/StreamWriteFunction.java|3 2
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/functional/TestHoodieDeltaStreamer.java|20 0

Revision: 3a5bddaca89e24ae815c16c4377a980e2c631327
Author: FocusComputing <xiaoxingstack@gmail.com>
Date: 19/09/2022 14:16:24
Message:
[HUDI-4808] Fix HoodieSimpleBucketIndex not consider bucket num in lo (#6630) #MsgLength=227


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndexUtils.java|21 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/bucket/HoodieSimpleBucketIndex.java|5 5
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/testutils/HoodieWriteableTestTable.java|9 16
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieSimpleBucketIndex.java|16 5
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieSparkWriteableTestTable.java|11 0

Revision: c0eae6dfde4084dca94e0c95c544d1eaed328612
Author: Paul Zhang <xzhangyao@126.com>
Date: 19/09/2022 14:30:00
Message:
[HUDI-4485] Bump spring shell to 2.1.1 in CLI (#6489) #MsgLength=158


----
Modified: docker/demo/compaction-bootstrap.commands|15 15
Modified: docker/demo/compaction.commands|15 15
Modified: docker/demo/sync-validate.commands|15 15
Modified: hudi-cli/hudi-cli.sh|2 2
Modified: hudi-cli/pom.xml|37 6
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java|10 14
Deleted: hudi-cli/src/main/java/org/apache/hudi/cli/HoodieSplashScreen.java|0 72
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/Main.java|4 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ArchivedCommitsCommand.java|25 27
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/BootstrapCommand.java|35 39
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CleansCommand.java|26 29
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ClusteringCommand.java|32 38
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CommitsCommand.java|76 69
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/CompactionCommand.java|120 124
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/DiffCommand.java|29 26
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/ExportCommand.java|17 19
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/FileSystemViewCommand.java|45 51
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HDFSParquetImportCommand.java|23 26
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieLogFileCommand.java|26 29
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/HoodieSyncValidateCommand.java|13 15
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MarkersCommand.java|11 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/MetadataCommand.java|25 27
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java|51 51
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/RollbacksCommand.java|25 26
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java|28 27
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkEnvCommand.java|10 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/SparkMain.java|3 2
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/StatsCommand.java|25 27
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TableCommand.java|38 35
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TempViewCommand.java|10 12
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/TimelineCommand.java|50 52
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UpgradeOrDowngradeCommand.java|17 17
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/commands/UtilsCommand.java|7 9
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java|5 3
Modified: hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkTempViewProvider.java|9 16
Deleted: hudi-cli/src/main/resources/META-INF/spring/spring-shell-plugin.xml|0 28
Added: hudi-cli/src/main/resources/application.yml|23 0
Added: hudi-cli/src/main/resources/banner.txt|14 0
Added: hudi-cli/src/main/resources/log4j2.properties|38 0
Modified: hudi-cli/src/main/scala/org/apache/hudi/cli/DedupeSparkJob.scala|3 3
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestArchivedCommitsCommand.java|18 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCleansCommand.java|14 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCommitsCommand.java|39 31
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestCompactionCommand.java|16 10
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestDiffCommand.java|10 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestFileSystemViewCommand.java|20 13
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestHoodieLogFileCommand.java|18 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRepairsCommand.java|21 14
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestRollbacksCommand.java|14 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSavepointsCommand.java|13 6
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestSparkEnvCommand.java|14 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestStatsCommand.java|14 7
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTableCommand.java|27 23
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestTempViewCommand.java|17 9
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/commands/TestUtilsCommand.java|20 13
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestHarness.java|2 13
Deleted: hudi-cli/src/test/java/org/apache/hudi/cli/functional/CLIFunctionalTestSuite.java|0 31
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestBootstrapCommand.java|18 13
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestClusteringCommand.java|24 17
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCommitsCommand.java|22 16
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestCompactionCommand.java|41 35
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestHDFSParquetImportCommand.java|17 11
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestMarkersCommand.java|11 4
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestRepairsCommand.java|23 17
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/integ/ITTestSavepointsCommand.java|23 17
Modified: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/HoodieCLIIntegrationTestHarness.java|0 22
Added: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/MockCommandLineInput.java|57 0
Renamed: hudi-cli/src/test/java/org/apache/hudi/cli/testutils/ShellEvaluationResultUtil.java [from hudi-cli/src/main/java/org/apache/hudi/cli/HoodieHistoryFileNameProvider.java]|13 20
Modified: hudi-examples/hudi-examples-flink/pom.xml|6 0
Modified: hudi-examples/hudi-examples-spark/pom.xml|6 0
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java|2 2
Modified: hudi-integ-test/src/test/java/org/apache/hudi/integ/command/ITTestHoodieSyncCommand.java|2 2
Modified: pom.xml|28 0

Revision: 1b2792cefa4ac34909a40acaf4d740eabe19a69a
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 19/09/2022 15:44:29
Message:
[minor] following 3304, some code refactoring (#6713) #MsgLength=55


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/execution/HoodieLazyInsertIterable.java|1 1
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/commit/HoodieWriteHelper.java|2 3
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/action/commit/FlinkWriteHelper.java|2 2
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/JavaWriteHelper.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/util/CollectionUtils.java|9 1

Revision: 89629469964a434ca924f654b6c2c307b3d529f3
Author: Sagar Sumit <sagarsumit09@gmail.com>
Date: 19/09/2022 18:57:11
Message:
[HUDI-4832] Fix drop partition meta sync (#6662) #MsgLength=50


----
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/timeline/TimelineUtils.java|25 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|0 18
Modified: hudi-common/src/test/java/org/apache/hudi/common/table/TestTimelineUtils.java|2 2
Modified: hudi-sync/hudi-adb-sync/src/main/java/org/apache/hudi/sync/adb/AdbSyncTool.java|1 1
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|7 7
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|27 11
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/testutils/HiveTestUtil.java|1 1
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncClient.java|21 20

Revision: 7f9e43be5806a974753cecbb5706f7be669a7071
Author: eric9204 <90449228+eric9204@users.noreply.github.com>
Date: 19/09/2022 20:26:27
Message:
[HUDI-4810] Fix log4j imports to use bridge API  (#6710) #MsgLength=104


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/callback/client/http/HoodieWriteCommitHttpCallbackClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogHttpClient.java|2 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/metrics/datadog/DatadogReporter.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/plan/strategy/SparkConsistentBucketClusteringPlanStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkConsistentBucketClusteringExecutionStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/update/strategy/SparkConsistentBucketDuplicateUpdateStrategy.java|2 2
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDConsistentBucketPartitioner.java|2 2
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/testutils/HoodieMergeOnReadTestUtils.java|2 2

Revision: b5dc4312a4038e62374c6a12f601df2889cced56
Author: FocusComputing <xiaoxingstack@gmail.com>
Date: 20/09/2022 09:31:50
Message:
[HUDI-4877] Fix org.apache.hudi.index.bucket.TestHoodieSimpleBucketIndex#testTagLocation not work correct issue (#6717) #MsgLength=183


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/index/bucket/TestHoodieSimpleBucketIndex.java|3 1

Revision: e03c0388d9ddea7e4d650b3f7a64dff41e180d50
Author: Kyle Zhike Chen <zk.chan007@gmail.com>
Date: 20/09/2022 10:48:02
Message:
[HUDI-4326] add updateTableSerDeInfo for HiveSyncTool (#5920) #MsgLength=331


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|3 0
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java|44 0
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|3 0
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieMetaSyncOperations.java|6 0

Revision: 6b7157536d52ee1853a0ff362d750f2d473566c2
Author: Yann Byron <biyan900116@gmail.com>
Date: 20/09/2022 13:08:42
Message:
[MINOR] fix indent to make build pass (#6721) #MsgLength=47


----
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|2 2

Revision: e8c26c5639d03634286966d2227b80c8cbb5e3bb
Author: Yann Byron <biyan900116@gmail.com>
Date: 20/09/2022 18:52:05
Message:
 [HUDI-3478] Implement CDC Write in Spark (#6697) #MsgLength=51


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java|0 18
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCDCLogger.java|253 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|35 4
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|17 6
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|36 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|31 4
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|1 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieWriteStat.java|28 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java|25 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java|24 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCOperation.java|50 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCSupplementalLoggingMode.java|50 0
Added: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCUtils.java|150 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieLogFileReader.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/HoodieMergedLogRecordScanner.java|5 1
Added: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCDCDataBlock.java|57 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieLogBlock.java|2 1
Modified: hudi-common/src/main/java/org/apache/hudi/metadata/HoodieTableMetadataUtil.java|4 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|72 9
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala|4 2

Revision: 61ed29271bf8e68bb8d5e62fc66463bb8bdabd17
Author: Shiyan Xu <2701446+xushiyan@users.noreply.github.com>
Date: 20/09/2022 20:22:30
Message:
[HUDI-4326] Fix hive sync serde properties (#6722) #MsgLength=52


----
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HiveSyncTool.java|1 3
Modified: hudi-sync/hudi-hive-sync/src/main/java/org/apache/hudi/hive/HoodieHiveSyncClient.java|16 24
Modified: hudi-sync/hudi-hive-sync/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java|3 3
Modified: hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieMetaSyncOperations.java|3 2

Revision: 2506c0fd2ce9865e778e6f2f80ddd9da7c7fc861
Author: dohongdayi <dohongdayi@126.com>
Date: 20/09/2022 23:44:51
Message:
[HUDI-4875] Fix NoSuchTableException when dropping temporary view after applied HoodieSparkSessionExtension in Spark 3.2 (#6709) #MsgLength=130


----
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/analysis/HoodieAnalysis.scala|2 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestDropTable.scala|22 1

Revision: 6dbe2960f2eaf0408dc0ef544991cad0190050a9
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 21/09/2022 00:14:00
Message:
[DOCS] Improve the quick start guide for Kafka Connect Sink (#6708) #MsgLength=69


----
Modified: hudi-kafka-connect/README.md|16 7

Revision: 30f489e42424f4935808924045a9b2db7cca0672
Author: shaoxiong.zhan <31836510+microbearz@users.noreply.github.com>
Date: 21/09/2022 16:50:22
Message:
[HUDI-4729] Fix file group pending compaction cannot be queried when query _ro table (#6516) #MsgLength=318


----
Modified: hudi-common/src/main/java/org/apache/hudi/BaseHoodieTableFileIndex.java|0 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieFileGroup.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|30 30
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/spark/sql/hudi/TestQueryMergeOnReadOptimizedTable.scala|82 0

Revision: 598d0694d2257bc4bd2ffabf289d228135918838
Author: Manu <36392121+xicm@users.noreply.github.com>
Date: 21/09/2022 19:46:55
Message:
[HUDI-3983] Fix ClassNotFoundException when using hudi-spark-bundle to write table with hbase index (#6715) #MsgLength=109


----
Modified: hudi-common/src/main/resources/hbase-site.xml|0 7
Modified: packaging/hudi-spark-bundle/pom.xml|3 0

Revision: 84b05c8473aec8ded4fcb2a45f87dd32284b7229
Author: Jon Vexler <jon@onehouse.ai>
Date: 21/09/2022 22:52:08
Message:
[HUDI-4758] Add validations to java spark examples (#6615) #MsgLength=60


----
Modified: hudi-examples/hudi-examples-common/src/main/java/org/apache/hudi/examples/common/HoodieExampleDataGenerator.java|50 9
Modified: hudi-examples/hudi-examples-spark/src/main/java/org/apache/hudi/examples/quickstart/HoodieSparkQuickstart.java|46 21

Revision: cbf9b83ca6d3dada14eea551a5bae25144ca0459
Author: Nicolas Paris <nicolas.paris@riseup.net>
Date: 22/09/2022 05:41:03
Message:
[HUDI-4792] Batch clean files to delete (#6580) #MsgLength=352


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanActionExecutor.java|9 2
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|125 112
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkCopyOnWriteTableArchiveWithReplace.java|2 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/AbstractTableFileSystemView.java|15 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/PriorityBasedFileSystemView.java|5 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/RemoteHoodieTableFileSystemView.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/view/TableFileSystemView.java|8 6

Revision: 5e624698f78f4707d62c7f26b044a69a250aae43
Author: RexAn <bonean131@gmail.com>
Date: 22/09/2022 21:17:09
Message:
[HUDI-4363] Support Clustering row writer to improve performance (#6046) #MsgLength=74


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/HoodieInternalWriteStatus.java|17 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|3 3
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/MultipleSparkJobExecutionStrategy.java|158 28
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkConsistentBucketClusteringExecutionStrategy.java|14 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSingleFileSortExecutionStrategy.java|36 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/clustering/run/strategy/SparkSortAndSizeExecutionStrategy.java|32 6
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RDDSpatialCurveSortPartitioner.java|2 35
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/RowSpatialCurveSortPartitioner.java|42 0
Added: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/execution/bulkinsert/SpatialCurveSortPartitionerBase.java|83 0
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/io/storage/row/HoodieRowCreateHandle.java|24 4
Renamed: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BulkInsertDataInternalWriterHelper.java [from hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/internal/BulkInsertDataInternalWriterHelper.java]|13 4
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieDatasetBulkInsertHelper.scala]|55 6
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/HoodieUnsafeRDD.scala]|0 0
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/SparkAdapterSupport.scala|7 1
Renamed: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/HoodieUnsafeUtils.scala [from hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/HoodieUnsafeUtils.scala]|0 1
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/spark/sql/hudi/SparkAdapter.scala|13 1
Modified: hudi-common/src/main/java/org/apache/hudi/common/config/HoodieConfig.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/fs/FSUtils.java|4 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecord.java|2 0
Modified: hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java|11 2
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/BaseFileOnlyRelation.scala|0 1
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/hudi/DefaultSource.scala|55 40
Renamed: hudi-spark-datasource/hudi-spark/src/test/java/org/apache/hudi/functional/TestHoodieSparkMergeOnReadTableClustering.java [from hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableClustering.java]|39 16
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestCOWDataSource.scala|12 0
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestLayoutOptimization.scala|25 12
Modified: hudi-spark-datasource/hudi-spark2/src/main/java/org/apache/hudi/internal/HoodieBulkInsertDataInternalWriter.java|1 0
Modified: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/adapter/Spark2Adapter.scala|14 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/java/org/apache/hudi/spark3/internal/HoodieBulkInsertDataInternalWriter.java|1 1
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/adapter/BaseSpark3Adapter.scala|16 2

Revision: 90d678c0f74b4c2e19085d7332325dd2dd0c7517
Author: Yann Byron <biyan900116@gmail.com>
Date: 23/09/2022 01:33:19
Message:
[HUDI-3478][HUDI-4887] Use Avro as the format of persisted cdc data (#6734) #MsgLength=77


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCDCLogger.java|11 25
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|11 2
Modified: hudi-common/src/main/java/org/apache/hudi/avro/AvroSchemaUtils.java|6 2
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCUtils.java|49 53
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|47 12
Added: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/cdc/TestCDCDataFrameSuite.scala|324 0

Revision: 0558b6cfd916c9b48f79adfa4e0cf2ce821d51ec
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 23/09/2022 06:43:45
Message:
[HUDI-4851] Fixing handling of `UTF8String` w/in `InSet` operator (#6739) #MsgLength=147


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/DataSkippingUtils.scala|10 2
Modified: hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/TestDataSkippingUtils.scala|27 2
Added: hudi-spark-datasource/hudi-spark2/src/main/scala/org/apache/spark/sql/catalyst/encoders/DummyExpressionHolder.scala|29 0

Revision: a9e0823398dfd108bfba63f4d76f420a66d7daa0
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 23/09/2022 10:21:20
Message:
[HUDI-3901] Correct the description of hoodie.index.type (#6749) #MsgLength=66


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java|2 1

Revision: 4c0c1c7a6b62d14265980ef03325b7f6ac55f64d
Author: Rahil C <32500120+rahil-c@users.noreply.github.com>
Date: 23/09/2022 10:37:43
Message:
[MINOR] Add .mvn directory to gitignore (#6746) #MsgLength=101


----
Modified: .gitignore|1 0

Revision: 1380075a2d4d3f9696fdce4de69dda2445b7d181
Author: Shawn Chang <42792772+CTTY@users.noreply.github.com>
Date: 23/09/2022 14:22:19
Message:
[HUDI-4901] Add avro.version to Flink profiles (#6757) #MsgLength=144


----
Modified: hudi-flink-datasource/hudi-flink/pom.xml|1 2
Modified: pom.xml|7 0

Revision: a47dec71c3b6b5faff63512b42814078d0911c21
Author: ForwardXu <forwardxu315@gmail.com>
Date: 23/09/2022 16:04:42
Message:
[HUDI-4559] Support hiveSync command based on Call Produce Command (#6322) #MsgLength=76


----
Modified: hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/hudi/ProvidesHoodieConfig.scala|20 13
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/MergeIntoHoodieTableCommand.scala|2 4
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/BaseProcedure.scala|1 33
Added: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HiveSyncProcedure.scala|107 0
Modified: hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/spark/sql/hudi/command/procedures/HoodieProcedures.scala|1 0

Revision: efd1d79fe2d030244f74b693d1f60096e1cc7ce0
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date: 23/09/2022 18:03:01
Message:
[HUDI-4883] Supporting delete savepoint for MOR (#6744) #MsgLength=140


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/savepoint/SavepointHelpers.java|0 4
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieClientOnCopyOnWriteStorage.java|3 0
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/table/functional/TestHoodieSparkMergeOnReadTableRollback.java|3 0

Revision: efe553b327bc025d242afa37221a740dca9b1ea6
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 23/09/2022 18:36:48
Message:
[HUDI-4897] Refactor the merge handle in CDC mode (#6740) #MsgLength=59


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieWriteConfig.java|9 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieCDCLogger.java|82 66
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java|10 46
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandleFactory.java|101 0
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieMergeHandleWithChangeLog.java|97 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandle.java|6 17
Added: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieSortedMergeHandleWithChangeLog.java|59 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/io/HoodieWriteHandle.java|11 0
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java|6 16
Modified: hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/HoodieFlinkCopyOnWriteTable.java|3 8
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/HoodieJavaCopyOnWriteTable.java|3 8
Modified: hudi-client/hudi-java-client/src/main/java/org/apache/hudi/table/action/commit/BaseJavaCommitActionExecutor.java|3 17
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/HoodieSparkCopyOnWriteTable.java|3 8
Modified: hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/action/commit/BaseSparkCommitActionExecutor.java|3 11
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCOperation.java|3 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCSupplementalLoggingMode.java|12 0
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/cdc/HoodieCDCUtils.java|6 3
Modified: hudi-common/src/main/java/org/apache/hudi/common/table/log/block/HoodieCDCDataBlock.java|3 1

Revision: 092375fc1f058c7841d9d63cd04e842c062fae74
Author: wangxianghu <wangxianghu@apache.org>
Date: 23/09/2022 19:53:18
Message:
[HUDI-3523] Introduce AddColumnSchemaPostProcessor to support add columns to the end of a schema (#5031) #MsgLength=106


----
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/AddColumnSchemaPostProcessor.java|172 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|57 5

Revision: 9bab1063f47397832a8d86a5cabab7908e2a9043
Author: wangxianghu <wangxianghu@apache.org>
Date: 23/09/2022 20:18:18
Message:
Revert "[HUDI-3523] Introduce AddColumnSchemaPostProcessor to support add columns to the end of a schema (#5031)" (#6768) #MsgLength=184


----
Deleted: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/AddColumnSchemaPostProcessor.java|0 172
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|5 57

Revision: 01352ca71684dbe4592636318c9394d3965316b8
Author: wangxianghu <wangxianghu@apache.org>
Date: 23/09/2022 20:20:46
Message:
[HUDI-3523] Introduce AddPrimitiveColumnSchemaPostProcessor to support add new primitive column to the end of a schema (#6769) #MsgLength=128


----
Modified: hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java|1 1
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/postprocessor/ChainedSchemaPostProcessor.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/ChainedSchemaPostProcessor.java]|2 1
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/postprocessor/DeleteSupportSchemaPostProcessor.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DeleteSupportSchemaPostProcessor.java]|2 1
Renamed: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/postprocessor/DropColumnSchemaPostProcessor.java [from hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/DropColumnSchemaPostProcessor.java]|2 1
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/postprocessor/add/AddPrimitiveColumnSchemaPostProcessor.java|97 0
Added: hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/postprocessor/add/BaseSchemaPostProcessorConfig.java|53 0
Modified: hudi-utilities/src/test/java/org/apache/hudi/utilities/TestSchemaPostProcessor.java|47 9

Revision: 08dbc24049885a3cc5950bb3095a91ac643af39f
Author: wulei <wulei.1023@bytedance.com>
Date: 23/09/2022 20:44:56
Message:
[HUDI-4903] Fix TestHoodieLogFormat`s minor typo (#6762) #MsgLength=58


----
Modified: hudi-common/src/test/java/org/apache/hudi/common/functional/TestHoodieLogFormat.java|3 3

Revision: 377a20d7088e2cf486cfd1dc1b339db07784e903
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 23/09/2022 22:06:20
Message:
[MINOR] Drastically reducing concurrency level (to avoid CI flakiness) (#6754) #MsgLength=80


----
Modified: hudi-client/hudi-spark-client/src/test/java/org/apache/hudi/client/functional/TestHoodieBackedTableMetadata.java|1 1

Revision: f34a2d733fafae377079864bc8557984e70a6df5
Author: Xingjun Wang <wongxingjun@126.com>
Date: 24/09/2022 00:33:43
Message:
Update HoodieIndex.java #MsgLength=35


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|1 1


Revision: c133fd9145cb1ee9bdb68a1315ff6d9e7f08ea46
Author: Danny Chan <yuzhao.cyz@gmail.com>
Date: 24/09/2022 03:07:32
Message:
[HUDI-4906] Fix the local tests for hudi-flink (#6763) #MsgLength=56


----
Modified: hudi-cli/pom.xml|1 0
Modified: hudi-client/hudi-spark-client/pom.xml|1 0
Modified: hudi-examples/hudi-examples-spark/pom.xml|1 0
Modified: hudi-flink-datasource/hudi-flink/pom.xml|2 1
Modified: hudi-spark-datasource/hudi-spark-common/pom.xml|1 0
Modified: packaging/hudi-flink-bundle/pom.xml|2 1
Modified: pom.xml|0 13

Revision: 4276494c460b65d56ae75a1b5c73eec84d0dfc30
Author: Alexey Kudinkin <alexey@infinilake.com>
Date: 24/09/2022 03:58:30
Message:
[HUDI-4899] Fixing compatibility w/ Spark 3.2.2 (#6755) #MsgLength=57


----
Modified: hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/HoodieSparkUtils.scala|1 0
Modified: hudi-spark-datasource/hudi-spark3-common/src/main/scala/org/apache/spark/sql/HoodieSpark3CatalystPlanUtils.scala|9 3
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/HoodieSpark31CatalystPlanUtils.scala|4 1
Modified: hudi-spark-datasource/hudi-spark3.1.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark31NestedSchemaPruning.scala|7 6
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/HoodieSpark32CatalystPlanUtils.scala|20 1
Modified: hudi-spark-datasource/hudi-spark3.2.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark32NestedSchemaPruning.scala|7 6
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/HoodieSpark33CatalystPlanUtils.scala|5 1
Modified: hudi-spark-datasource/hudi-spark3.3.x/src/main/scala/org/apache/spark/sql/execution/datasources/Spark33NestedSchemaPruning.scala|5 2
Modified: pom.xml|1 1

Revision: fd876a8568e089c66abf4abe4dfedf62b3f9f067
Author: Y Ethan Guo <ethan.guoyihua@gmail.com>
Date: 24/09/2022 05:20:51
Message:
[HUDI-4892] Fix hudi-spark3-bundle (#6735) #MsgLength=44


----
Modified: pom.xml|3 1

Revision: 097e5a868746695ae63713c1dfc0a97c1416471c
Author: Xingjun Wang <wongxingjun@126.com>
Date: 24/09/2022 11:55:24
Message:
[MINOR] Fix a few typos in HoodieIndex (#6784) #MsgLength=101


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/index/HoodieIndex.java|3 3

Revision: 7cc614c6049812202b7fc427e9f399d3a792f5bb
Author: liujinhui <965147871@qq.com>
Date: 24/09/2022 15:34:09
Message:
[HUDI-4412] Fix multi writer INSERT_OVERWRITE NPE bug (#6130) #MsgLength=496


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/ConcurrentOperation.java|3 2
Modified: hudi-client/hudi-client-common/src/test/java/org/apache/hudi/client/transaction/TestSimpleConcurrentFileWritesConflictResolutionStrategy.java|49 0
Modified: hudi-common/src/test/java/org/apache/hudi/common/testutils/HoodieTestTable.java|6 0

Revision: 60b62fc25c0b7d34ff011a16c68b5d699c8e6bbc
Author: Yann Byron <biyan900116@gmail.com>
Date: 25/09/2022 05:19:30
Message:
[MINOR] retain avro's namespace (#6783) #MsgLength=41


----
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/convert/AvroInternalSchemaConverter.java|19 12
Modified: hudi-common/src/main/java/org/apache/hudi/internal/schema/utils/AvroSchemaEvolutionUtils.java|3 1

Revision: 78528f6a5f89d2e217b83f2b339c16c3525cbca1
Author:  <scx_white@aliyun.com>
Date: 25/09/2022 06:49:12
Message:
[MINOR] Simple logging fix in LockManager (#6765) #MsgLength=86


----
Modified: hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java|1 1

