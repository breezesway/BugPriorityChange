Revision: f1f0c83a5a6b143b9cb831b00197fa93d1d9d24c
Author: Rafael H. Schloming <rhs@apache.org>
Date: 20/09/2006 06:06:50
Message:
Import of qpid from etp: #MsgLength=208


----
Added: DESIGN|89 0
Added: Makefile|53 0
Added: README|48 0
Added: broker/Makefile|47 0
Added: broker/inc/AutoDelete.h|54 0
Added: broker/inc/Binding.h|35 0
Added: broker/inc/Channel.h|87 0
Added: broker/inc/Configuration.h|125 0
Added: broker/inc/ConnectionToken.h|35 0
Added: broker/inc/Consumer.h|34 0
Added: broker/inc/DirectExchange.h|55 0
Added: broker/inc/Exchange.h|39 0
Added: broker/inc/ExchangeBinding.h|45 0
Added: broker/inc/ExchangeRegistry.h|42 0
Added: broker/inc/FanOutExchange.h|58 0
Added: broker/inc/Message.h|73 0
Added: broker/inc/NameGenerator.h|36 0
Added: broker/inc/Queue.h|106 0
Added: broker/inc/QueueRegistry.h|88 0
Added: broker/inc/SessionHandlerFactoryImpl.h|49 0
Added: broker/inc/SessionHandlerImpl.h|230 0
Added: broker/inc/TopicExchange.h|55 0
Added: broker/src/AutoDelete.cpp|93 0
Added: broker/src/Broker.cpp|92 0
Added: broker/src/Channel.cpp|148 0
Added: broker/src/Configuration.cpp|195 0
Added: broker/src/DirectExchange.cpp|72 0
Added: broker/src/ExchangeBinding.cpp|32 0
Added: broker/src/ExchangeRegistry.cpp|43 0
Added: broker/src/FanOutExchange.cpp|56 0
Added: broker/src/Message.cpp|97 0
Added: broker/src/NameGenerator.cpp|29 0
Added: broker/src/Queue.cpp|148 0
Added: broker/src/QueueRegistry.cpp|72 0
Added: broker/src/SessionHandlerFactoryImpl.cpp|40 0
Added: broker/src/SessionHandlerImpl.cpp|378 0
Added: broker/src/TopicExchange.cpp|62 0
Added: broker/test/Makefile|20 0
Added: broker/test/QueueRegistryTest.cpp|79 0
Added: broker/test/exchange_test.cpp|68 0
Added: broker/test/message_test.cpp|57 0
Added: broker/test/queue_test.cpp|138 0
Added: client/Makefile|43 0
Added: client/inc/Channel.h|127 0
Added: client/inc/Connection.h|105 0
Added: client/inc/Exchange.h|49 0
Added: client/inc/IncomingMessage.h|60 0
Added: client/inc/Message.h|86 0
Added: client/inc/MessageListener.h|37 0
Added: client/inc/Queue.h|47 0
Added: client/inc/ResponseHandler.h|49 0
Added: client/inc/ReturnedMessageHandler.h|37 0
Added: client/src/Channel.cpp|432 0
Added: client/src/Connection.cpp|237 0
Added: client/src/Exchange.cpp|30 0
Added: client/src/IncomingMessage.cpp|85 0
Added: client/src/Message.cpp|147 0
Added: client/src/Queue.cpp|47 0
Added: client/src/ResponseHandler.cpp|63 0
Added: client/test/Makefile|45 0
Added: client/test/client_test.cpp|97 0
Added: client/test/topic_listener.cpp|180 0
Added: client/test/topic_publisher.cpp|253 0
Added: common/Makefile|51 0
Added: common/concurrent/inc/APRBase.h|63 0
Added: common/concurrent/inc/APRMonitor.h|48 0
Added: common/concurrent/inc/APRThread.h|48 0
Added: common/concurrent/inc/APRThreadFactory.h|44 0
Added: common/concurrent/inc/APRThreadPool.h|67 0
Added: common/concurrent/inc/LMonitor.h|44 0
Added: common/concurrent/inc/LThreadFactory.h|37 0
Added: common/concurrent/inc/LockedQueue.h|68 0
Added: common/concurrent/inc/Monitor.h|59 0
Added: common/concurrent/inc/MonitorImpl.h|57 0
Added: common/concurrent/inc/Runnable.h|34 0
Added: common/concurrent/inc/TaskQueue.h|200 0
Added: common/concurrent/inc/Thread.h|37 0
Added: common/concurrent/inc/ThreadFactory.h|38 0
Added: common/concurrent/inc/ThreadFactoryImpl.h|52 0
Added: common/concurrent/inc/ThreadPool.h|40 0
Added: common/concurrent/src/APRBase.cpp|97 0
Added: common/concurrent/src/APRMonitor.cpp|60 0
Added: common/concurrent/src/APRThread.cpp|50 0
Added: common/concurrent/src/APRThreadFactory.cpp|35 0
Added: common/concurrent/src/APRThreadPool.cpp|85 0
Added: common/error/inc/QpidError.h|47 0
Added: common/error/inc/QpidErrorIO.h|29 0
Added: common/framing/Makefile|28 0
Added: common/framing/generated/Makefile|41 0
Added: common/framing/generated/stylesheets/amqp_client.xsl|155 0
Added: common/framing/generated/stylesheets/amqp_client_handler_impl.xsl|187 0
Added: common/framing/generated/stylesheets/amqp_client_operations.xsl|105 0
Added: common/framing/generated/stylesheets/amqp_consts.xsl|77 0
Added: common/framing/generated/stylesheets/amqp_server.xsl|155 0
Added: common/framing/generated/stylesheets/amqp_server_handler_impl.xsl|187 0
Added: common/framing/generated/stylesheets/amqp_server_operations.xsl|113 0
Added: common/framing/generated/stylesheets/code_gen.xsl|91 0
Added: common/framing/generated/stylesheets/code_utils.xsl|210 0
Added: common/framing/generated/stylesheets/convert_0.81.xsl|407 0
Added: common/framing/generated/stylesheets/cpp.xsl|318 0
Added: common/framing/generated/stylesheets/framing.xsl|49 0
Added: common/framing/generated/stylesheets/prepare1.xsl|104 0
Added: common/framing/generated/stylesheets/prepare2.xsl|54 0
Added: common/framing/generated/stylesheets/prepare3.xsl|54 0
Added: common/framing/generated/stylesheets/registry.xsl|12 0
Added: common/framing/generated/stylesheets/utils.xsl|194 0
Added: common/framing/inc/AMQBody.h|46 0
Added: common/framing/inc/AMQContentBody.h|49 0
Added: common/framing/inc/AMQDataBlock.h|39 0
Added: common/framing/inc/AMQFrame.h|61 0
Added: common/framing/inc/AMQHeaderBody.h|55 0
Added: common/framing/inc/AMQHeartbeatBody.h|43 0
Added: common/framing/inc/AMQMethodBody.h|56 0
Added: common/framing/inc/BasicHeaderProperties.h|93 0
Added: common/framing/inc/BodyHandler.h|50 0
Added: common/framing/inc/Buffer.h|77 0
Added: common/framing/inc/FieldTable.h|68 0
Added: common/framing/inc/HeaderProperties.h|43 0
Added: common/framing/inc/InitiationHandler.h|37 0
Added: common/framing/inc/InputHandler.h|37 0
Added: common/framing/inc/NamedValue.h|49 0
Added: common/framing/inc/OutputHandler.h|37 0
Added: common/framing/inc/ProtocolInitiation.h|48 0
Added: common/framing/inc/Value.h|109 0
Added: common/framing/inc/amqp_framing.h|31 0
Added: common/framing/inc/amqp_types.h|36 0
Added: common/framing/src/AMQContentBody.cpp|35 0
Added: common/framing/src/AMQFrame.cpp|147 0
Added: common/framing/src/AMQHeaderBody.cpp|60 0
Added: common/framing/src/AMQMethodBody.cpp|43 0
Added: common/framing/src/BasicHeaderProperties.cpp|102 0
Added: common/framing/src/BodyHandler.cpp|49 0
Added: common/framing/src/Buffer.cpp|167 0
Added: common/framing/src/FieldTable.cpp|127 0
Added: common/framing/src/NamedValue.cpp|67 0
Added: common/framing/src/ProtocolInitiation.cpp|53 0
Added: common/framing/src/Value.cpp|57 0
Added: common/framing/test/BodyHandlerTest.cpp|107 0
Added: common/framing/test/Makefile|21 0
Added: common/framing/test/field_table_test.cpp|55 0
Added: common/framing/test/framing_test.cpp|147 0
Added: common/framing/test/header_test.cpp|144 0
Added: common/io/Makefile|35 0
Added: common/io/inc/APRConnector.h|95 0
Added: common/io/inc/APRIOProcessor.h|86 0
Added: common/io/inc/APRSocket.h|45 0
Added: common/io/inc/Acceptor.h|38 0
Added: common/io/inc/BlockingAPRAcceptor.h|62 0
Added: common/io/inc/BlockingAPRSessionContext.h|94 0
Added: common/io/inc/Connector.h|56 0
Added: common/io/inc/ConnectorImpl.h|53 0
Added: common/io/inc/IOSession.h|45 0
Added: common/io/inc/LConnector.h|48 0
Added: common/io/inc/LFAcceptor.h|71 0
Added: common/io/inc/LFProcessor.h|116 0
Added: common/io/inc/LFSessionContext.h|89 0
Added: common/io/inc/SessionContext.h|37 0
Added: common/io/inc/SessionHandler.h|42 0
Added: common/io/inc/SessionHandlerFactory.h|38 0
Added: common/io/inc/SessionManager.h|40 0
Added: common/io/inc/ShutdownHandler.h|34 0
Added: common/io/inc/TimeoutHandler.h|36 0
Added: common/io/src/APRConnector.cpp|198 0
Added: common/io/src/APRIOProcessor.cpp|100 0
Added: common/io/src/APRSocket.cpp|76 0
Added: common/io/src/BlockingAPRAcceptor.cpp|81 0
Added: common/io/src/BlockingAPRSessionContext.cpp|177 0
Added: common/io/src/LFAcceptor.cpp|80 0
Added: common/io/src/LFProcessor.cpp|191 0
Added: common/io/src/LFSessionContext.cpp|187 0
Added: common/utils/inc/logger.h|82 0
Added: common/utils/inc/memory.h|17 0
Added: common/utils/src/Makefile|40 0
Added: common/utils/src/logger.cpp|209 0
Added: common/utils/src/logger_test.cpp|78 0
Added: doxygen/Makefile|23 0
Added: doxygen/doxygen.cfg|1238 0
Added: options.mk|54 0
Added: test_plugins.mk|42 0
Added: tools/saxon8.jar|0 0

Revision: 1a89e25fededc5a9d83100cde54d958a21fe45bf
Author: Gordon Sim <gsim@apache.org>
Date: 22/09/2006 00:19:13
Message:
Use the generated proxy classes rather than constructing frames directly. #MsgLength=76


----
Modified: broker/inc/SessionHandlerImpl.h|2 0
Modified: broker/src/SessionHandlerImpl.cpp|18 21
Modified: common/framing/generated/stylesheets/amqp_client.xsl|13 13
Modified: common/framing/generated/stylesheets/amqp_server.xsl|56 24

Revision: 3e19fe8e1d4237fbe9d6af58fb2129639447fd82
Author: Alan Conway <aconway@apache.org>
Date: 22/09/2006 02:26:31
Message:
Implemented topic pattern matching for the TopicExchange. Corrected default bindings to use the exchange named "" rather than "amqp.direct". Added python and unit tests for all of the above. Minor improvements to testlib.py, also some tests for testlib itself. #MsgLength=263


----
Modified: Makefile|1 6
Modified: README|11 0
Modified: broker/Makefile|1 3
Modified: broker/inc/DirectExchange.h|4 7
Modified: broker/inc/Exchange.h|5 3
Modified: broker/inc/ExchangeRegistry.h|3 1
Modified: broker/inc/FanOutExchange.h|4 7
Modified: broker/inc/TopicExchange.h|55 16
Modified: broker/src/DirectExchange.cpp|2 2
Modified: broker/src/ExchangeRegistry.cpp|14 0
Modified: broker/src/FanOutExchange.cpp|1 1
Modified: broker/src/SessionHandlerFactoryImpl.cpp|12 5
Modified: broker/src/SessionHandlerImpl.cpp|3 3
Modified: broker/src/TopicExchange.cpp|117 17
Added: broker/test/TopicExchangeTest.cpp|186 0
Modified: client/Makefile|1 3
Modified: common/Makefile|2 4
Modified: options.mk|7 11

Revision: 889f1cc6f25d952d10c8e0c690cce8b41312cb52
Author: Gordon Sim <gsim@apache.org>
Date: 22/09/2006 17:53:47
Message:
Added tests for basic_cancel and for handling of invalid channel ids. #MsgLength=72


----
Modified: broker/inc/SessionHandlerImpl.h|2 1
Modified: broker/src/Channel.cpp|12 7
Modified: broker/src/SessionHandlerImpl.cpp|23 13

Revision: ce62d029dce58a949f2bf9a2639a168d281b3561
Author: Gordon Sim <gsim@apache.org>
Date: 27/09/2006 21:21:43
Message:
Initial implementation of basic_ack & basic_recover #MsgLength=54


----
Modified: broker/inc/Channel.h|43 3
Modified: broker/src/Channel.cpp|53 8
Modified: broker/src/SessionHandlerImpl.cpp|6 2
Modified: client/test/topic_listener.cpp|1 1

Revision: 353a15e8745e97765790d43731e483233e715fbf
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2006 00:44:02
Message:
Moved ack tests to basic class, added test for requeueing on recovery. Implemented requeuing on recovery. #MsgLength=108


----
Modified: broker/inc/Message.h|2 0
Modified: broker/src/Channel.cpp|1 1
Modified: broker/src/Message.cpp|7 2

Revision: cc2fbac086a53c7dc435381d151319640a980529
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2006 03:50:23
Message:
 #MsgLength=0


----
Modified: Makefile|8 4
Added: broker/src/HeadersExchange.cpp|119 0
Modified: broker/src/SessionHandlerFactoryImpl.cpp|3 0
Modified: broker/src/SessionHandlerImpl.cpp|7 1
Modified: common/framing/inc/AMQBody.h|5 3
Modified: common/framing/inc/AMQContentBody.h|1 0
Modified: common/framing/inc/AMQHeaderBody.h|2 0
Modified: common/framing/inc/AMQHeartbeatBody.h|2 1
Modified: common/framing/inc/Buffer.h|2 1
Modified: common/framing/inc/FieldTable.h|41 31
Deleted: common/framing/inc/NamedValue.h|0 49
Modified: common/framing/inc/Value.h|129 78
Modified: common/framing/src/AMQContentBody.cpp|5 0
Modified: common/framing/src/AMQFrame.cpp|3 15
Modified: common/framing/src/AMQHeaderBody.cpp|13 0
Modified: common/framing/src/Buffer.cpp|1 0
Modified: common/framing/src/FieldTable.cpp|83 62
Deleted: common/framing/src/NamedValue.cpp|0 67
Modified: common/framing/src/Value.cpp|68 14

Revision: c7dd4c852ad23cb3d82c6668ecb3322ec2bb5d4f
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2006 22:20:54
Message:
New files missed from yesterdays checkin, apologies! #MsgLength=54


----
Added: broker/inc/HeadersExchange.h|60 0
Added: broker/test/HeadersExchangeTest.cpp|115 0
Added: broker/test/ValueTest.cpp|99 0
Added: common/framing/src/AMQBody.cpp|33 0
Added: common/framing/src/AMQHeartbeatBody.cpp|26 0

Revision: 5303123d6117ba969fdcb3f4b3ec4cbb52cb40e6
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2006 04:36:25
Message:
Ignore qpidd logs from Makefile. #MsgLength=34


----

Revision: 1c91c675d2b396eb15752348a8af94261fbae0cc
Author: Gordon Sim <gsim@apache.org>
Date: 29/09/2006 15:54:00
Message:
Cleanup of unused classes. #MsgLength=29


----
Deleted: common/io/inc/APRIOProcessor.h|0 86
Deleted: common/io/inc/IOSession.h|0 45
Modified: common/io/inc/LFProcessor.h|0 1
Modified: common/io/inc/LFSessionContext.h|3 4
Deleted: common/io/src/APRIOProcessor.cpp|0 100

Revision: ae69dd21f7d4e1d9674ba85559c601c287c91707
Author: Gordon Sim <gsim@apache.org>
Date: 07/10/2006 00:17:06
Message:
Decoupled routing from the channel and message classes. #MsgLength=58


----
Modified: broker/inc/Channel.h|44 4
Modified: broker/inc/Message.h|11 8
Added: broker/inc/Router.h|39 0
Modified: broker/src/Channel.cpp|6 27
Modified: broker/src/Message.cpp|0 10
Added: broker/src/Router.cpp|32 0
Modified: broker/src/SessionHandlerImpl.cpp|4 3
Added: broker/test/ChannelTest.cpp|81 0
Added: broker/test/RouterTest.cpp|91 0
Modified: client/inc/IncomingMessage.h|1 1
Modified: client/src/IncomingMessage.cpp|1 1
Modified: common/framing/generated/stylesheets/utils.xsl|2 2

Revision: 4ca60a9234c23cb14c7e5efe59447a62f2bab085
Author: Gordon Sim <gsim@apache.org>
Date: 10/10/2006 18:06:36
Message:
Implementation and tests for basic_qos (i.e. prefetching) #MsgLength=60


----
Modified: broker/inc/Channel.h|23 7
Modified: broker/inc/Message.h|3 2
Modified: broker/src/Channel.cpp|70 29
Modified: broker/src/Message.cpp|3 9
Modified: broker/src/SessionHandlerImpl.cpp|5 1
Modified: broker/test/ChannelTest.cpp|102 18
Modified: common/framing/inc/AMQContentBody.h|1 1
Modified: common/framing/src/AMQContentBody.cpp|1 1

Revision: ed931d1556ce47eb9992cadd7023493536cdf4a9
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2006 16:24:42
Message:
Implementation of basic_get. #MsgLength=31


----
Modified: broker/inc/Channel.h|24 8
Modified: broker/inc/Message.h|12 2
Modified: broker/src/Channel.cpp|45 8
Modified: broker/src/Message.cpp|15 1
Modified: broker/src/Queue.cpp|7 1
Modified: broker/src/SessionHandlerImpl.cpp|7 3
Renamed: broker/test/QueueTest.cpp [from broker/test/queue_test.cpp]|44 3

Revision: 6dd349f8b52dcd5569f7626594f06735a02e709a
Author: Alan Conway <aconway@apache.org>
Date: 11/10/2006 23:50:15
Message:
Turned up gcc warnings, fixed warnings in code, enabled -Werror. Note: #include "qpid_test_plugin.h" instead of <cppunit/TestPlugin.h> Works around warning from a cppunit macro. #MsgLength=180


----
Modified: broker/inc/Channel.h|2 2
Modified: broker/inc/Exchange.h|1 1
Modified: broker/inc/TopicExchange.h|1 1
Modified: broker/src/Broker.cpp|1 1
Modified: broker/src/Channel.cpp|15 14
Modified: broker/src/Configuration.cpp|2 1
Modified: broker/src/DirectExchange.cpp|3 3
Modified: broker/src/FanOutExchange.cpp|3 3
Modified: broker/src/HeadersExchange.cpp|21 20
Modified: broker/src/Message.cpp|2 2
Modified: broker/src/Queue.cpp|11 10
Modified: broker/src/SessionHandlerImpl.cpp|47 46
Modified: broker/src/TopicExchange.cpp|4 3
Modified: broker/test/ChannelTest.cpp|1 4
Modified: broker/test/HeadersExchangeTest.cpp|1 4
Modified: broker/test/QueueRegistryTest.cpp|1 4
Modified: broker/test/QueueTest.cpp|1 4
Modified: broker/test/RouterTest.cpp|7 12
Modified: broker/test/TopicExchangeTest.cpp|2 4
Modified: broker/test/ValueTest.cpp|1 4
Modified: broker/test/exchange_test.cpp|1 4
Modified: broker/test/message_test.cpp|1 4
Modified: client/inc/IncomingMessage.h|1 1
Modified: client/inc/Message.h|2 2
Modified: client/inc/MessageListener.h|1 0
Modified: client/inc/ReturnedMessageHandler.h|1 0
Modified: client/src/Channel.cpp|16 10
Modified: client/src/Connection.cpp|7 7
Modified: client/src/IncomingMessage.cpp|8 8
Added: client/src/MessageListener.cpp|21 0
Modified: client/src/Queue.cpp|2 2
Modified: client/src/ResponseHandler.cpp|2 2
Added: client/src/ReturnedMessageHandler.cpp|21 0
Modified: client/test/client_test.cpp|2 2
Modified: client/test/topic_listener.cpp|4 4
Modified: common/Makefile|0 4
Modified: common/concurrent/inc/Runnable.h|1 0
Modified: common/concurrent/src/APRBase.cpp|1 2
Modified: common/concurrent/src/APRThread.cpp|1 1
Modified: common/concurrent/src/APRThreadPool.cpp|2 4
Added: common/concurrent/src/Runnable.cpp|19 0
Modified: common/framing/generated/stylesheets/amqp_client_handler_impl.xsl|4 4
Modified: common/framing/generated/stylesheets/amqp_server_handler_impl.xsl|2 2
Modified: common/framing/generated/stylesheets/amqp_server_operations.xsl|1 1
Modified: common/framing/generated/stylesheets/cpp.xsl|2 5
Modified: common/framing/inc/AMQHeaderBody.h|1 1
Modified: common/framing/inc/AMQHeartbeatBody.h|2 2
Modified: common/framing/inc/BasicHeaderProperties.h|12 12
Modified: common/framing/inc/BodyHandler.h|1 0
Modified: common/framing/inc/Buffer.h|8 8
Modified: common/framing/inc/InitiationHandler.h|1 0
Modified: common/framing/inc/InputHandler.h|1 0
Modified: common/framing/inc/OutputHandler.h|1 0
Modified: common/framing/inc/Value.h|2 2
Modified: common/framing/src/AMQContentBody.cpp|2 2
Modified: common/framing/src/AMQFrame.cpp|6 26
Modified: common/framing/src/AMQHeaderBody.cpp|2 2
Modified: common/framing/src/AMQMethodBody.cpp|2 2
Modified: common/framing/src/BasicHeaderProperties.cpp|17 19
Modified: common/framing/src/BodyHandler.cpp|2 0
Modified: common/framing/src/Buffer.cpp|24 24
Modified: common/framing/src/FieldTable.cpp|8 9
Added: common/framing/src/InitiationHandler.cpp|21 0
Added: common/framing/src/InputHandler.cpp|21 0
Added: common/framing/src/OutputHandler.cpp|21 0
Modified: common/framing/test/BodyHandlerTest.cpp|1 5
Modified: common/framing/test/field_table_test.cpp|1 4
Modified: common/framing/test/framing_test.cpp|1 4
Modified: common/framing/test/header_test.cpp|1 4
Modified: common/io/Makefile|0 4
Modified: common/io/inc/APRConnector.h|1 1
Modified: common/io/inc/ConnectorImpl.h|2 2
Modified: common/io/inc/LFProcessor.h|1 1
Modified: common/io/src/APRConnector.cpp|13 10
Modified: common/io/src/APRSocket.cpp|3 1
Modified: common/io/src/BlockingAPRAcceptor.cpp|5 4
Modified: common/io/src/BlockingAPRSessionContext.cpp|9 8
Modified: common/io/src/LFAcceptor.cpp|6 6
Modified: common/io/src/LFProcessor.cpp|15 17
Modified: common/io/src/LFSessionContext.cpp|18 16
Deleted: common/utils/inc/logger.h|0 82
Modified: common/utils/src/Makefile|3 6
Deleted: common/utils/src/logger.cpp|0 209
Deleted: common/utils/src/logger_test.cpp|0 78
Modified: options.mk|15 4
Added: test/include/qpid_test_plugin.h|40 0

Revision: 5e9c9ef2067286299a4077bb7209d85f3587e048
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2006 07:43:57
Message:
Renamed to follow naming conventions. #MsgLength=39


----
Renamed: broker/test/ExchangeTest.cpp [from broker/test/exchange_test.cpp]|0 0
Renamed: broker/test/MessageTest.cpp [from broker/test/message_test.cpp]|0 0

Revision: 8de60360a99ab4e55e1c8370a523ae0f556cbc27
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2006 18:04:53
Message:
Fixed bug causing ChannelTest.testDeliveryNoAck to fail intermittently. #MsgLength=74


----
Modified: broker/src/Channel.cpp|1 1
Modified: broker/test/ChannelTest.cpp|1 1

Revision: 7cf00be8bd796e68f6717b803e76e4af78e19844
Author: Alan Conway <aconway@apache.org>
Date: 13/10/2006 02:52:49
Message:
Converted broker to a class for use in tests, plugins etc. qpid::Exception base class for all exceptions, inherits std::exception. Require boost on all platforms: http://www.boost.org, 'yum boost' on fedora. #MsgLength=209


----
Modified: Makefile|3 6
Modified: README|2 0
Modified: broker/Makefile|6 12
Added: broker/inc/Broker.h|86 0
Modified: broker/inc/Configuration.h|22 12
Modified: broker/src/Broker.cpp|43 51
Modified: broker/src/Configuration.cpp|7 7
Modified: common/Makefile|1 1
Added: common/error/inc/Exception.h|46 0
Modified: common/error/inc/QpidError.h|12 13
Renamed: common/error/src/Exception.cpp [from common/error/inc/QpidErrorIO.h]|2 10
Added: common/error/src/QpidError.cpp|32 0
Modified: common/io/inc/Acceptor.h|18 3
Modified: common/io/inc/BlockingAPRAcceptor.h|5 2
Modified: common/io/inc/LFAcceptor.h|5 2
Modified: common/io/inc/LFProcessor.h|5 1
Added: common/io/src/Acceptor.cpp|21 0
Modified: common/io/src/BlockingAPRAcceptor.cpp|27 8
Modified: common/io/src/LFAcceptor.cpp|23 9
Modified: common/io/src/LFProcessor.cpp|4 0
Modified: options.mk|1 1
Added: qpidd/Makefile|42 0
Added: qpidd/src/qpidd.cpp|52 0

Revision: 1b69eca0db0bffc50202c919523e22a2d15ea733
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2006 21:50:26
Message:
Build system reorg, see README and Makefile comments for details. #MsgLength=67


----
Modified: DESIGN|15 25
Modified: Makefile|109 21
Modified: README|2 0
Deleted: broker/Makefile|0 39
Deleted: client/Makefile|0 41
Deleted: client/test/Makefile|0 45
Deleted: common/Makefile|0 45
Deleted: common/framing/Makefile|0 28
Deleted: common/framing/generated/Makefile|0 41
Deleted: common/io/Makefile|0 31
Deleted: common/utils/src/Makefile|0 37
Renamed: etc/stylesheets/amqp_client.xsl [from common/framing/generated/stylesheets/amqp_client.xsl]|2 2
Renamed: etc/stylesheets/amqp_client_handler_impl.xsl [from common/framing/generated/stylesheets/amqp_client_handler_impl.xsl]|1 1
Renamed: etc/stylesheets/amqp_client_operations.xsl [from common/framing/generated/stylesheets/amqp_client_operations.xsl]|1 1
Renamed: etc/stylesheets/amqp_consts.xsl [from common/framing/generated/stylesheets/amqp_consts.xsl]|1 1
Renamed: etc/stylesheets/amqp_server.xsl [from common/framing/generated/stylesheets/amqp_server.xsl]|2 2
Renamed: etc/stylesheets/amqp_server_handler_impl.xsl [from common/framing/generated/stylesheets/amqp_server_handler_impl.xsl]|1 1
Renamed: etc/stylesheets/amqp_server_operations.xsl [from common/framing/generated/stylesheets/amqp_server_operations.xsl]|1 1
Renamed: etc/stylesheets/code_gen.xsl [from common/framing/generated/stylesheets/code_gen.xsl]|0 0
Renamed: etc/stylesheets/code_utils.xsl [from common/framing/generated/stylesheets/code_utils.xsl]|0 0
Renamed: etc/stylesheets/convert_0.81.xsl [from common/framing/generated/stylesheets/convert_0.81.xsl]|0 0
Renamed: etc/stylesheets/cpp.xsl [from common/framing/generated/stylesheets/cpp.xsl]|10 10
Renamed: etc/stylesheets/framing.xsl [from common/framing/generated/stylesheets/framing.xsl]|0 0
Renamed: etc/stylesheets/prepare1.xsl [from common/framing/generated/stylesheets/prepare1.xsl]|0 0
Renamed: etc/stylesheets/prepare2.xsl [from common/framing/generated/stylesheets/prepare2.xsl]|0 0
Renamed: etc/stylesheets/prepare3.xsl [from common/framing/generated/stylesheets/prepare3.xsl]|0 0
Renamed: etc/stylesheets/registry.xsl [from common/framing/generated/stylesheets/registry.xsl]|0 0
Renamed: etc/stylesheets/utils.xsl [from common/framing/generated/stylesheets/utils.xsl]|0 0
Modified: options.mk|17 35
Deleted: qpidd/Makefile|0 42
Renamed: src/memory.h [from common/utils/inc/memory.h]|0 0
Renamed: src/qpid/Exception.cpp [from common/error/src/Exception.cpp]|1 1
Renamed: src/qpid/Exception.h [from common/error/inc/Exception.h]|0 0
Renamed: src/qpid/QpidError.cpp [from common/error/src/QpidError.cpp]|1 1
Renamed: src/qpid/QpidError.h [from common/error/inc/QpidError.h]|1 1
Renamed: src/qpid/broker/AutoDelete.cpp [from broker/src/AutoDelete.cpp]|1 1
Renamed: src/qpid/broker/AutoDelete.h [from broker/inc/AutoDelete.h]|4 4
Renamed: src/qpid/broker/Binding.h [from broker/inc/Binding.h]|1 1
Renamed: src/qpid/broker/Broker.cpp [from broker/src/Broker.cpp]|7 7
Renamed: src/qpid/broker/Broker.h [from broker/inc/Broker.h]|4 4
Renamed: src/qpid/broker/Channel.cpp [from broker/src/Channel.cpp]|2 2
Renamed: src/qpid/broker/Channel.h [from broker/inc/Channel.h]|10 10
Renamed: src/qpid/broker/Configuration.cpp [from broker/src/Configuration.cpp]|1 1
Renamed: src/qpid/broker/Configuration.h [from broker/inc/Configuration.h]|1 1
Renamed: src/qpid/broker/ConnectionToken.h [from broker/inc/ConnectionToken.h]|0 0
Renamed: src/qpid/broker/Consumer.h [from broker/inc/Consumer.h]|1 1
Renamed: src/qpid/broker/DirectExchange.cpp [from broker/src/DirectExchange.cpp]|2 2
Renamed: src/qpid/broker/DirectExchange.h [from broker/inc/DirectExchange.h]|5 5
Renamed: src/qpid/broker/Exchange.h [from broker/inc/Exchange.h]|3 3
Renamed: src/qpid/broker/ExchangeBinding.cpp [from broker/src/ExchangeBinding.cpp]|2 2
Renamed: src/qpid/broker/ExchangeBinding.h [from broker/inc/ExchangeBinding.h]|3 3
Renamed: src/qpid/broker/ExchangeRegistry.cpp [from broker/src/ExchangeRegistry.cpp]|2 2
Renamed: src/qpid/broker/ExchangeRegistry.h [from broker/inc/ExchangeRegistry.h]|2 2
Renamed: src/qpid/broker/FanOutExchange.cpp [from broker/src/FanOutExchange.cpp]|2 2
Renamed: src/qpid/broker/FanOutExchange.h [from broker/inc/FanOutExchange.h]|5 5
Renamed: src/qpid/broker/HeadersExchange.cpp [from broker/src/HeadersExchange.cpp]|4 4
Renamed: src/qpid/broker/HeadersExchange.h [from broker/inc/HeadersExchange.h]|5 5
Renamed: src/qpid/broker/Message.cpp [from broker/src/Message.cpp]|3 3
Renamed: src/qpid/broker/Message.h [from broker/inc/Message.h]|7 7
Renamed: src/qpid/broker/NameGenerator.cpp [from broker/src/NameGenerator.cpp]|1 1
Renamed: src/qpid/broker/NameGenerator.h [from broker/inc/NameGenerator.h]|1 1
Renamed: src/qpid/broker/Queue.cpp [from broker/src/Queue.cpp]|2 2
Renamed: src/qpid/broker/Queue.h [from broker/inc/Queue.h]|7 7
Renamed: src/qpid/broker/QueueRegistry.cpp [from broker/src/QueueRegistry.cpp]|3 3
Renamed: src/qpid/broker/QueueRegistry.h [from broker/inc/QueueRegistry.h]|2 2
Renamed: src/qpid/broker/Router.cpp [from broker/src/Router.cpp]|1 1
Renamed: src/qpid/broker/Router.h [from broker/inc/Router.h]|2 2
Renamed: src/qpid/broker/SessionHandlerFactoryImpl.cpp [from broker/src/SessionHandlerFactoryImpl.cpp]|4 4
Renamed: src/qpid/broker/SessionHandlerFactoryImpl.h [from broker/inc/SessionHandlerFactoryImpl.h]|8 8
Renamed: src/qpid/broker/SessionHandlerImpl.cpp [from broker/src/SessionHandlerImpl.cpp]|5 5
Renamed: src/qpid/broker/SessionHandlerImpl.h [from broker/inc/SessionHandlerImpl.h]|15 15
Renamed: src/qpid/broker/TopicExchange.cpp [from broker/src/TopicExchange.cpp]|2 2
Renamed: src/qpid/broker/TopicExchange.h [from broker/inc/TopicExchange.h]|5 5
Renamed: src/qpid/client/Channel.cpp [from client/src/Channel.cpp]|5 5
Renamed: src/qpid/client/Channel.h [from client/inc/Channel.h]|12 12
Renamed: src/qpid/client/Connection.cpp [from client/src/Connection.cpp]|5 5
Renamed: src/qpid/client/Connection.h [from client/inc/Connection.h]|12 12
Renamed: src/qpid/client/Exchange.cpp [from client/src/Exchange.cpp]|1 1
Renamed: src/qpid/client/Exchange.h [from client/inc/Exchange.h]|0 0
Renamed: src/qpid/client/IncomingMessage.cpp [from client/src/IncomingMessage.cpp]|2 2
Renamed: src/qpid/client/IncomingMessage.h [from client/inc/IncomingMessage.h]|2 2
Renamed: src/qpid/client/Message.cpp [from client/src/Message.cpp]|1 1
Renamed: src/qpid/client/Message.h [from client/inc/Message.h]|1 1
Renamed: src/qpid/client/MessageListener.cpp [from client/src/MessageListener.cpp]|1 1
Renamed: src/qpid/client/MessageListener.h [from client/inc/MessageListener.h]|1 1
Renamed: src/qpid/client/Queue.cpp [from client/src/Queue.cpp]|1 1
Renamed: src/qpid/client/Queue.h [from client/inc/Queue.h]|0 0
Renamed: src/qpid/client/ResponseHandler.cpp [from client/src/ResponseHandler.cpp]|3 3
Renamed: src/qpid/client/ResponseHandler.h [from client/inc/ResponseHandler.h]|2 2
Renamed: src/qpid/client/ReturnedMessageHandler.cpp [from client/src/ReturnedMessageHandler.cpp]|1 1
Renamed: src/qpid/client/ReturnedMessageHandler.h [from client/inc/ReturnedMessageHandler.h]|1 1
Renamed: src/qpid/concurrent/APRBase.cpp [from common/concurrent/src/APRBase.cpp]|2 2
Renamed: src/qpid/concurrent/APRBase.h [from common/concurrent/inc/APRBase.h]|0 0
Renamed: src/qpid/concurrent/APRMonitor.cpp [from common/concurrent/src/APRMonitor.cpp]|2 2
Renamed: src/qpid/concurrent/APRMonitor.h [from common/concurrent/inc/APRMonitor.h]|1 1
Renamed: src/qpid/concurrent/APRThread.cpp [from common/concurrent/src/APRThread.cpp]|2 2
Renamed: src/qpid/concurrent/APRThread.h [from common/concurrent/inc/APRThread.h]|3 3
Renamed: src/qpid/concurrent/APRThreadFactory.cpp [from common/concurrent/src/APRThreadFactory.cpp]|2 2
Renamed: src/qpid/concurrent/APRThreadFactory.h [from common/concurrent/inc/APRThreadFactory.h]|4 4
Renamed: src/qpid/concurrent/APRThreadPool.cpp [from common/concurrent/src/APRThreadPool.cpp]|3 3
Renamed: src/qpid/concurrent/APRThreadPool.h [from common/concurrent/inc/APRThreadPool.h]|5 5
Renamed: src/qpid/concurrent/LMonitor.h [from common/concurrent/inc/LMonitor.h]|1 1
Renamed: src/qpid/concurrent/LThreadFactory.h [from common/concurrent/inc/LThreadFactory.h]|0 0
Renamed: src/qpid/concurrent/LockedQueue.h [from common/concurrent/inc/LockedQueue.h]|1 1
Renamed: src/qpid/concurrent/Monitor.h [from common/concurrent/inc/Monitor.h]|1 1
Renamed: src/qpid/concurrent/MonitorImpl.h [from common/concurrent/inc/MonitorImpl.h]|2 2
Renamed: src/qpid/concurrent/Runnable.cpp [from common/concurrent/src/Runnable.cpp]|1 1
Renamed: src/qpid/concurrent/Runnable.h [from common/concurrent/inc/Runnable.h]|0 0
Renamed: src/qpid/concurrent/TaskQueue.h [from common/concurrent/inc/TaskQueue.h]|3 3
Renamed: src/qpid/concurrent/Thread.h [from common/concurrent/inc/Thread.h]|0 0
Renamed: src/qpid/concurrent/ThreadFactory.h [from common/concurrent/inc/ThreadFactory.h]|2 2
Renamed: src/qpid/concurrent/ThreadFactoryImpl.h [from common/concurrent/inc/ThreadFactoryImpl.h]|2 2
Renamed: src/qpid/concurrent/ThreadPool.h [from common/concurrent/inc/ThreadPool.h]|2 2
Renamed: src/qpid/framing/AMQBody.cpp [from common/framing/src/AMQBody.cpp]|1 1
Renamed: src/qpid/framing/AMQBody.h [from common/framing/inc/AMQBody.h]|3 3
Renamed: src/qpid/framing/AMQContentBody.cpp [from common/framing/src/AMQContentBody.cpp]|1 1
Renamed: src/qpid/framing/AMQContentBody.h [from common/framing/inc/AMQContentBody.h]|3 3
Renamed: src/qpid/framing/AMQDataBlock.h [from common/framing/inc/AMQDataBlock.h]|1 1
Renamed: src/qpid/framing/AMQFrame.cpp [from common/framing/src/AMQFrame.cpp]|2 2
Renamed: src/qpid/framing/AMQFrame.h [from common/framing/inc/AMQFrame.h]|9 9
Renamed: src/qpid/framing/AMQHeaderBody.cpp [from common/framing/src/AMQHeaderBody.cpp]|3 3
Renamed: src/qpid/framing/AMQHeaderBody.h [from common/framing/inc/AMQHeaderBody.h]|4 4
Renamed: src/qpid/framing/AMQHeartbeatBody.cpp [from common/framing/src/AMQHeartbeatBody.cpp]|1 1
Renamed: src/qpid/framing/AMQHeartbeatBody.h [from common/framing/inc/AMQHeartbeatBody.h]|3 3
Renamed: src/qpid/framing/AMQMethodBody.cpp [from common/framing/src/AMQMethodBody.cpp]|2 2
Renamed: src/qpid/framing/AMQMethodBody.h [from common/framing/inc/AMQMethodBody.h]|4 4
Renamed: src/qpid/framing/BasicHeaderProperties.cpp [from common/framing/src/BasicHeaderProperties.cpp]|1 1
Renamed: src/qpid/framing/BasicHeaderProperties.h [from common/framing/inc/BasicHeaderProperties.h]|4 4
Renamed: src/qpid/framing/BodyHandler.cpp [from common/framing/src/BodyHandler.cpp]|2 2
Renamed: src/qpid/framing/BodyHandler.h [from common/framing/inc/BodyHandler.h]|4 4
Renamed: src/qpid/framing/Buffer.cpp [from common/framing/src/Buffer.cpp]|2 2
Renamed: src/qpid/framing/Buffer.h [from common/framing/inc/Buffer.h]|1 1
Renamed: src/qpid/framing/FieldTable.cpp [from common/framing/src/FieldTable.cpp]|4 4
Renamed: src/qpid/framing/FieldTable.h [from common/framing/inc/FieldTable.h]|1 1
Renamed: src/qpid/framing/HeaderProperties.h [from common/framing/inc/HeaderProperties.h]|2 2
Renamed: src/qpid/framing/InitiationHandler.cpp [from common/framing/src/InitiationHandler.cpp]|1 1
Renamed: src/qpid/framing/InitiationHandler.h [from common/framing/inc/InitiationHandler.h]|1 1
Renamed: src/qpid/framing/InputHandler.cpp [from common/framing/src/InputHandler.cpp]|1 1
Renamed: src/qpid/framing/InputHandler.h [from common/framing/inc/InputHandler.h]|1 1
Renamed: src/qpid/framing/OutputHandler.cpp [from common/framing/src/OutputHandler.cpp]|1 1
Renamed: src/qpid/framing/OutputHandler.h [from common/framing/inc/OutputHandler.h]|1 1
Renamed: src/qpid/framing/ProtocolInitiation.cpp [from common/framing/src/ProtocolInitiation.cpp]|1 1
Renamed: src/qpid/framing/ProtocolInitiation.h [from common/framing/inc/ProtocolInitiation.h]|3 3
Renamed: src/qpid/framing/Value.cpp [from common/framing/src/Value.cpp]|4 4
Renamed: src/qpid/framing/Value.h [from common/framing/inc/Value.h]|2 2
Renamed: src/qpid/framing/amqp_framing.h [from common/framing/inc/amqp_framing.h]|14 14
Renamed: src/qpid/framing/amqp_types.h [from common/framing/inc/amqp_types.h]|0 0
Renamed: src/qpid/io/APRConnector.cpp [from common/io/src/APRConnector.cpp]|4 4
Renamed: src/qpid/io/APRConnector.h [from common/io/inc/APRConnector.h]|9 9
Renamed: src/qpid/io/APRSocket.cpp [from common/io/src/APRSocket.cpp]|2 2
Renamed: src/qpid/io/APRSocket.h [from common/io/inc/APRSocket.h]|1 1
Renamed: src/qpid/io/Acceptor.cpp [from common/io/src/Acceptor.cpp]|1 1
Renamed: src/qpid/io/Acceptor.h [from common/io/inc/Acceptor.h]|1 1
Renamed: src/qpid/io/BlockingAPRAcceptor.cpp [from common/io/src/BlockingAPRAcceptor.cpp]|3 3
Renamed: src/qpid/io/BlockingAPRAcceptor.h [from common/io/inc/BlockingAPRAcceptor.h]|9 9
Renamed: src/qpid/io/BlockingAPRSessionContext.cpp [from common/io/src/BlockingAPRSessionContext.cpp]|4 4
Renamed: src/qpid/io/BlockingAPRSessionContext.h [from common/io/inc/BlockingAPRSessionContext.h]|10 10
Renamed: src/qpid/io/Connector.h [from common/io/inc/Connector.h]|6 6
Renamed: src/qpid/io/ConnectorImpl.h [from common/io/inc/ConnectorImpl.h]|2 2
Renamed: src/qpid/io/LConnector.h [from common/io/inc/LConnector.h]|7 7
Renamed: src/qpid/io/LFAcceptor.cpp [from common/io/src/LFAcceptor.cpp]|2 2
Renamed: src/qpid/io/LFAcceptor.h [from common/io/inc/LFAcceptor.h]|10 10
Renamed: src/qpid/io/LFProcessor.cpp [from common/io/src/LFProcessor.cpp]|4 4
Renamed: src/qpid/io/LFProcessor.h [from common/io/inc/LFProcessor.h]|3 3
Renamed: src/qpid/io/LFSessionContext.cpp [from common/io/src/LFSessionContext.cpp]|3 3
Renamed: src/qpid/io/LFSessionContext.h [from common/io/inc/LFSessionContext.h]|7 7
Renamed: src/qpid/io/SessionContext.h [from common/io/inc/SessionContext.h]|1 1
Renamed: src/qpid/io/SessionHandler.h [from common/io/inc/SessionHandler.h]|4 4
Renamed: src/qpid/io/SessionHandlerFactory.h [from common/io/inc/SessionHandlerFactory.h]|2 2
Renamed: src/qpid/io/SessionManager.h [from common/io/inc/SessionManager.h]|2 2
Renamed: src/qpid/io/ShutdownHandler.h [from common/io/inc/ShutdownHandler.h]|0 0
Renamed: src/qpid/io/TimeoutHandler.h [from common/io/inc/TimeoutHandler.h]|0 0
Renamed: src/qpidd.cpp [from qpidd/src/qpidd.cpp]|2 6
Renamed: test/client/client_test.cpp [from client/test/client_test.cpp]|0 0
Renamed: test/client/topic_listener.cpp [from client/test/topic_listener.cpp]|0 0
Renamed: test/client/topic_publisher.cpp [from client/test/topic_publisher.cpp]|0 0
Renamed: test/unit/qpid/broker/ChannelTest.cpp [from broker/test/ChannelTest.cpp]|2 2
Renamed: test/unit/qpid/broker/ExchangeTest.cpp [from broker/test/ExchangeTest.cpp]|4 4
Renamed: test/unit/qpid/broker/HeadersExchangeTest.cpp [from broker/test/HeadersExchangeTest.cpp]|3 3
Renamed: test/unit/qpid/broker/Makefile [from broker/test/Makefile]|0 0
Renamed: test/unit/qpid/broker/MessageTest.cpp [from broker/test/MessageTest.cpp]|2 2
Renamed: test/unit/qpid/broker/QueueRegistryTest.cpp [from broker/test/QueueRegistryTest.cpp]|1 1
Renamed: test/unit/qpid/broker/QueueTest.cpp [from broker/test/QueueTest.cpp]|2 2
Renamed: test/unit/qpid/broker/RouterTest.cpp [from broker/test/RouterTest.cpp]|5 5
Renamed: test/unit/qpid/broker/TopicExchangeTest.cpp [from broker/test/TopicExchangeTest.cpp]|1 1
Renamed: test/unit/qpid/broker/ValueTest.cpp [from broker/test/ValueTest.cpp]|1 1
Renamed: test/unit/qpid/framing/BodyHandlerTest.cpp [from common/framing/test/BodyHandlerTest.cpp]|1 1
Renamed: test/unit/qpid/framing/Makefile [from common/framing/test/Makefile]|0 0
Renamed: test/unit/qpid/framing/field_table_test.cpp [from common/framing/test/field_table_test.cpp]|1 1
Renamed: test/unit/qpid/framing/framing_test.cpp [from common/framing/test/framing_test.cpp]|1 1
Renamed: test/unit/qpid/framing/header_test.cpp [from common/framing/test/header_test.cpp]|1 1
Deleted: test_plugins.mk|0 42

Revision: bc05c44d7dc3e76d719b62b0dce573cd3fd0adab
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2006 22:12:49
Message:
Renamed unit tests to follow naming conventions, fixed some #include inconsistencies. #MsgLength=87


----
Modified: Makefile|1 5
Modified: src/qpid/broker/AutoDelete.cpp|1 1
Modified: src/qpid/broker/AutoDelete.h|4 4
Modified: src/qpid/broker/Binding.h|1 1
Modified: src/qpid/broker/Broker.cpp|7 7
Modified: src/qpid/broker/Broker.h|4 4
Modified: src/qpid/broker/Channel.cpp|2 2
Modified: src/qpid/broker/Channel.h|9 9
Modified: src/qpid/broker/Configuration.cpp|1 1
Modified: src/qpid/broker/Configuration.h|1 1
Modified: src/qpid/broker/Consumer.h|1 1
Modified: src/qpid/broker/DirectExchange.cpp|2 2
Modified: src/qpid/broker/DirectExchange.h|5 5
Modified: src/qpid/broker/Exchange.h|3 3
Modified: src/qpid/broker/ExchangeBinding.cpp|2 2
Modified: src/qpid/broker/ExchangeBinding.h|3 3
Modified: src/qpid/broker/ExchangeRegistry.cpp|2 2
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/broker/FanOutExchange.cpp|2 2
Modified: src/qpid/broker/FanOutExchange.h|5 5
Modified: src/qpid/broker/HeadersExchange.cpp|4 4
Modified: src/qpid/broker/HeadersExchange.h|5 5
Modified: src/qpid/broker/Message.cpp|3 3
Modified: src/qpid/broker/Message.h|7 7
Modified: src/qpid/broker/NameGenerator.cpp|1 1
Modified: src/qpid/broker/NameGenerator.h|1 1
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/Queue.h|7 7
Modified: src/qpid/broker/QueueRegistry.cpp|3 3
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/Router.cpp|1 1
Modified: src/qpid/broker/Router.h|2 2
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|4 4
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|8 8
Modified: src/qpid/broker/SessionHandlerImpl.cpp|5 5
Modified: src/qpid/broker/SessionHandlerImpl.h|13 13
Modified: src/qpid/broker/TopicExchange.cpp|2 2
Modified: src/qpid/broker/TopicExchange.h|5 5
Modified: src/qpid/framing/AMQBody.h|1 1
Modified: src/qpid/framing/BodyHandler.cpp|1 1
Modified: test/unit/qpid/broker/ChannelTest.cpp|2 2
Modified: test/unit/qpid/broker/ExchangeTest.cpp|4 4
Modified: test/unit/qpid/broker/HeadersExchangeTest.cpp|3 3
Modified: test/unit/qpid/broker/MessageTest.cpp|2 2
Modified: test/unit/qpid/broker/QueueRegistryTest.cpp|1 1
Modified: test/unit/qpid/broker/QueueTest.cpp|2 2
Modified: test/unit/qpid/broker/RouterTest.cpp|5 5
Modified: test/unit/qpid/broker/TopicExchangeTest.cpp|1 1
Modified: test/unit/qpid/broker/ValueTest.cpp|1 1
Modified: test/unit/qpid/framing/BodyHandlerTest.cpp|1 1
Renamed: test/unit/qpid/framing/FieldTableTest.cpp [from test/unit/qpid/framing/field_table_test.cpp]|1 1
Renamed: test/unit/qpid/framing/FramingTest.cpp [from test/unit/qpid/framing/framing_test.cpp]|2 2
Renamed: test/unit/qpid/framing/HeaderTest.cpp [from test/unit/qpid/framing/header_test.cpp]|1 1

Revision: 48e19fac19ee50b781147551c4547afc2057c2db
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2006 01:36:08
Message:
Add apr-1/ prefix to APR #includes to pick up from standard location. #MsgLength=71


----
Modified: README|6 6
Modified: options.mk|1 1
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/concurrent/APRBase.h|2 2
Modified: src/qpid/concurrent/APRMonitor.h|2 2
Modified: src/qpid/concurrent/APRThread.cpp|1 1
Modified: src/qpid/concurrent/APRThread.h|1 1
Modified: src/qpid/concurrent/APRThreadFactory.h|1 1
Modified: src/qpid/io/APRConnector.h|2 2
Modified: src/qpid/io/APRSocket.h|1 1
Modified: src/qpid/io/BlockingAPRAcceptor.h|3 3
Modified: src/qpid/io/BlockingAPRSessionContext.h|2 2
Modified: src/qpid/io/LFAcceptor.h|3 3
Modified: src/qpid/io/LFProcessor.h|1 1
Modified: src/qpid/io/LFSessionContext.h|3 3
Modified: src/qpidd.cpp|1 1

Revision: f25a5ad65aa9da3ddd793a42876cfe27f023e82a
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2006 02:32:55
Message:
Link with absolute paths to qpid libs so exes work anywhere. #MsgLength=62


----
Modified: Makefile|4 4

Revision: aeeb2d8da883789ca37f03e9cfa701e8da180d2e
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2006 03:13:35
Message:
Fix problem with generated code re-starting makefile. #MsgLength=55


----
Modified: Makefile|13 14

Revision: 2ec17e5e888b2fa4ec44d49646dad47785fee10c
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2006 03:17:55
Message:
Re enable python tests accidentally commented out in previous checkin. #MsgLength=72


----
Modified: Makefile|1 1

Revision: 9d098fc6c058e60f80cbb1bcd0a1e5e13dd895f4
Author: Alan Conway <aconway@apache.org>
Date: 18/10/2006 03:07:18
Message:
Removed dependencies on linked libraries to avoid needless relinking. Header dependencies will cause libraries to relink when necessary. #MsgLength=138


----
Modified: Makefile|6 6
Modified: options.mk|1 1

Revision: c6de6e5a8be911b7cd5f21e8111b71f5d9d71fc8
Author: Alan Conway <aconway@apache.org>
Date: 18/10/2006 03:49:12
Message:
Fix #include dependencies. #MsgLength=28


----
Modified: Makefile|3 0

Revision: 7d1625cdabc9954fbb9233293bfcfa79cf9c2ad4
Author: Alan Conway <aconway@apache.org>
Date: 18/10/2006 05:03:03
Message:
Fix core dump if address in use. #MsgLength=34


----
Modified: src/qpid/broker/HeadersExchange.cpp|0 2
Modified: src/qpid/concurrent/APRThread.cpp|3 3
Modified: src/qpid/concurrent/APRThread.h|1 1
Modified: src/qpidd.cpp|1 1

Revision: 357154d5bf55a8d4b9aef626045c4bb0af2f024d
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2006 06:48:55
Message:
Fix build problems in makefile & client tests. #MsgLength=48


----
Modified: Makefile|3 3
Modified: test/client/client_test.cpp|7 9
Modified: test/client/topic_listener.cpp|7 7
Modified: test/client/topic_publisher.cpp|10 10

Revision: 946015bf66236485c28e43689e97a51e132223f8
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2006 07:51:15
Message:
Remove bad assert #MsgLength=18


----
Modified: src/qpid/io/APRSocket.cpp|2 3

Revision: 27263193eccd3a84046997cf276d5237d2c93462
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2006 08:42:50
Message:
Fixed various minor TODO issues. #MsgLength=34


----
Modified: Makefile|10 10
Modified: src/qpid/broker/SessionHandlerImpl.cpp|1 8
Modified: src/qpid/broker/SessionHandlerImpl.h|10 10
Modified: src/qpid/client/Channel.cpp|1 3
Modified: src/qpid/framing/AMQHeaderBody.cpp|0 4
Modified: src/qpid/io/APRSocket.cpp|0 1
Modified: src/qpid/io/BlockingAPRSessionContext.cpp|1 2
Modified: test/unit/qpid/broker/ExchangeTest.cpp|0 3
Modified: test/unit/qpid/broker/MessageTest.cpp|0 3
Modified: test/unit/qpid/broker/TopicExchangeTest.cpp|0 2
Modified: test/unit/qpid/broker/ValueTest.cpp|0 12
Modified: test/unit/qpid/framing/FramingTest.cpp|10 12
Modified: test/unit/qpid/framing/HeaderTest.cpp|0 3

Revision: 63cdbc4faf8e21d10551057be0007d8a072e8029
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2006 21:02:53
Message:
Updated stylesheet for generator such that a const reference is used where a FieldTable is passed as an argument to a method body. #MsgLength=135


----
Modified: etc/stylesheets/utils.xsl|1 1

Revision: 956745195959d33bc5dc8203696a0c71044feda2
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2006 21:54:40
Message:
Fixed deps to ensure unit tests are built. #MsgLength=45


----
Modified: Makefile|1 0

Revision: 26bca093bc9a0e3cf710447795797e2e4a80c2d6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/10/2006 21:01:03
Message:
Tidy-up of generated code #MsgLength=26


----
Modified: etc/stylesheets/amqp_server_operations.xsl|2 1

Revision: 6e61bc9f7dc4d488595d97242b19ca6ba27a5e57
Author: Alan Conway <aconway@apache.org>
Date: 24/10/2006 21:29:05
Message:
QPID-52: use of tr1 and unordered_map break build or RHEL4. Replaced unordered_map with std::map. Use boost::shared_ptr instead of std::tr1::shared_ptr. Since we're using boost for other things now anyway it's simpler & more portable. #MsgLength=237


----
Modified: Makefile|2 2
Modified: etc/stylesheets/cpp.xsl|1 1
Deleted: src/memory.h|0 17
Modified: src/qpid/broker/Broker.h|2 2
Modified: src/qpid/broker/Message.cpp|3 8
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/SessionHandlerImpl.cpp|1 1
Modified: src/qpid/broker/TopicExchange.cpp|0 8
Modified: src/qpid/broker/TopicExchange.h|7 6
Modified: src/qpid/client/Channel.cpp|1 1
Modified: src/qpid/client/Connection.cpp|2 2
Modified: src/qpid/framing/AMQBody.h|2 2
Modified: src/qpid/framing/AMQContentBody.h|1 1
Modified: src/qpid/framing/AMQHeaderBody.h|1 1
Modified: src/qpid/framing/AMQHeartbeatBody.h|1 1
Modified: src/qpid/framing/AMQMethodBody.h|1 1
Modified: src/qpid/framing/BodyHandler.cpp|2 2
Modified: src/qpid/framing/FieldTable.h|4 5
Modified: test/unit/qpid/broker/ChannelTest.cpp|1 1

Revision: f393f2a83746aaaf2335e3092de521f3c803f6ca
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2006 05:13:01
Message:
Makefile support for optimized release build. Do make BUILD=RELEASE. #MsgLength=70


----
Modified: README|13 10
Modified: options.mk|8 4
Modified: src/qpid/io/LFProcessor.cpp|2 2
Modified: test/unit/qpid/broker/ChannelTest.cpp|1 1

Revision: 2d8f868b1d8b5d26dc64cb1c8de893f8aecbc8e5
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2006 00:46:22
Message:
Clean test/client directory properly. #MsgLength=39


----
Modified: Makefile|6 5

Revision: dd8126c3957ca41edfa4e379804a0f5fcd7e2abd
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2006 03:27:54
Message:
Initial implementation for tx class. #MsgLength=39


----
Added: src/qpid/broker/AccumulatedAck.cpp|46 0
Added: src/qpid/broker/AccumulatedAck.h|52 0
Modified: src/qpid/broker/Channel.cpp|85 90
Modified: src/qpid/broker/Channel.h|32 111
Modified: src/qpid/broker/Configuration.cpp|4 2
Added: src/qpid/broker/DeletingTxOp.cpp|42 0
Added: src/qpid/broker/DeletingTxOp.h|42 0
Renamed: src/qpid/broker/Deliverable.h [from src/qpid/broker/Router.h]|6 11
Renamed: src/qpid/broker/DeliverableMessage.cpp [from src/qpid/broker/Router.cpp]|8 10
Added: src/qpid/broker/DeliverableMessage.h|38 0
Added: src/qpid/broker/DeliveryRecord.cpp|87 0
Added: src/qpid/broker/DeliveryRecord.h|61 0
Modified: src/qpid/broker/DirectExchange.cpp|2 2
Modified: src/qpid/broker/DirectExchange.h|1 1
Modified: src/qpid/broker/Exchange.h|3 3
Modified: src/qpid/broker/FanOutExchange.cpp|2 2
Modified: src/qpid/broker/FanOutExchange.h|1 1
Modified: src/qpid/broker/HeadersExchange.cpp|2 2
Modified: src/qpid/broker/HeadersExchange.h|1 1
Modified: src/qpid/broker/Message.cpp|0 1
Modified: src/qpid/broker/Message.h|6 4
Added: src/qpid/broker/MessageBuilder.cpp|53 0
Added: src/qpid/broker/MessageBuilder.h|51 0
Added: src/qpid/broker/MessageStore.h|71 0
Added: src/qpid/broker/Prefetch.cpp|26 0
Added: src/qpid/broker/Prefetch.h|39 0
Modified: src/qpid/broker/Queue.cpp|25 1
Modified: src/qpid/broker/Queue.h|15 5
Modified: src/qpid/broker/QueueRegistry.cpp|3 2
Modified: src/qpid/broker/QueueRegistry.h|3 1
Modified: src/qpid/broker/SessionHandlerImpl.cpp|31 9
Modified: src/qpid/broker/SessionHandlerImpl.h|20 8
Modified: src/qpid/broker/TopicExchange.cpp|2 2
Modified: src/qpid/broker/TopicExchange.h|1 1
Added: src/qpid/broker/TransactionalStore.h|35 0
Added: src/qpid/broker/TxAck.cpp|46 0
Added: src/qpid/broker/TxAck.h|44 0
Added: src/qpid/broker/TxBuffer.cpp|48 0
Added: src/qpid/broker/TxBuffer.h|102 0
Added: src/qpid/broker/TxOp.h|34 0
Added: src/qpid/broker/TxPublish.cpp|56 0
Added: src/qpid/broker/TxPublish.h|65 0
Modified: test/unit/qpid/broker/ChannelTest.cpp|0 27
Modified: test/unit/qpid/broker/ExchangeTest.cpp|3 1
Added: test/unit/qpid/broker/MessageBuilderTest.cpp|110 0
Deleted: test/unit/qpid/broker/RouterTest.cpp|0 86
Added: test/unit/qpid/concurrent/APRBaseTest.cpp|44 0

Revision: e89e1dba00fea2b2e937e7028b449d91aca94372
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2006 07:47:19
Message:
Reworked Makefile to support multiple builds, see README for details #MsgLength=69


----
Modified: Makefile|72 88
Modified: README|45 8
Renamed: doxygen.cfg [from doxygen/doxygen.cfg]|3 3
Deleted: doxygen/Makefile|0 23
Modified: etc/stylesheets/code_utils.xsl|23 23
Modified: options.mk|46 10

Revision: a5de984cbbe0fb7634dacdb37459d7d1cbbf8b43
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2006 21:10:17
Message:
Some additional unit tests. #MsgLength=30


----
Modified: src/qpid/broker/AccumulatedAck.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|2 4
Modified: src/qpid/broker/TxAck.cpp|1 1
Modified: src/qpid/broker/TxAck.h|11 2
Added: test/unit/qpid/broker/AccumulatedAckTest.cpp|57 0
Added: test/unit/qpid/broker/ConfigurationTest.cpp|94 0
Added: test/unit/qpid/broker/TxAckTest.cpp|112 0
Added: test/unit/qpid/broker/TxBufferTest.cpp|183 0

Revision: c18359ce99b1b20ece12214f310b50d1111c3ed0
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2006 23:38:36
Message:
Added doc & unit tests. #MsgLength=26


----
Modified: src/qpid/broker/AccumulatedAck.cpp|1 1
Modified: src/qpid/broker/TxPublish.h|10 0
Modified: test/unit/qpid/broker/AccumulatedAckTest.cpp|25 0
Added: test/unit/qpid/broker/TxPublishTest.cpp|103 0

Revision: bf1186eabc88ab19efcb72ce4e38c0d89033fefe
Author: Gordon Sim <gsim@apache.org>
Date: 01/11/2006 02:33:40
Message:
Hid locking within exchange registry, switched to shared_ptr for exchanges, added some extra error handling and tests. #MsgLength=121


----
Modified: src/qpid/broker/Channel.cpp|2 2
Modified: src/qpid/broker/Channel.h|2 2
Modified: src/qpid/broker/DirectExchange.h|2 0
Modified: src/qpid/broker/Exchange.h|16 12
Modified: src/qpid/broker/ExchangeRegistry.cpp|30 17
Modified: src/qpid/broker/ExchangeRegistry.h|8 9
Modified: src/qpid/broker/FanOutExchange.h|2 0
Modified: src/qpid/broker/HeadersExchange.h|2 0
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|5 5
Modified: src/qpid/broker/SessionHandlerImpl.cpp|20 32
Modified: src/qpid/broker/SessionHandlerImpl.h|1 1
Modified: src/qpid/broker/TopicExchange.h|2 0

Revision: db42017196a5b9a08211dbab7490237f3e2a6b67
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2006 03:53:55
Message:
IO refactor phase 1. Reduced dependencies, removed redundant classes. Renamed pricipal APR classes in preparation for move to apr namespace. #MsgLength=142


----
Modified: Makefile|2 1
Renamed: src/qpid/SharedObject.h [from src/qpid/concurrent/LThreadFactory.h]|28 13
Modified: src/qpid/broker/AutoDelete.h|5 5
Modified: src/qpid/broker/Broker.cpp|8 38
Modified: src/qpid/broker/Broker.h|15 22
Modified: src/qpid/broker/Channel.h|2 2
Modified: src/qpid/broker/Configuration.cpp|2 8
Modified: src/qpid/broker/Configuration.h|0 3
Modified: src/qpid/broker/DirectExchange.h|2 2
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/broker/FanOutExchange.h|2 2
Modified: src/qpid/broker/HeadersExchange.h|2 2
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/QueueRegistry.cpp|1 1
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/TopicExchange.h|2 2
Modified: src/qpid/client/Channel.cpp|5 5
Modified: src/qpid/client/Connection.cpp|2 2
Modified: src/qpid/client/ResponseHandler.cpp|2 2
Deleted: src/qpid/concurrent/APRMonitor.h|0 48
Deleted: src/qpid/concurrent/APRThread.h|0 48
Deleted: src/qpid/concurrent/APRThreadFactory.h|0 44
Deleted: src/qpid/concurrent/APRThreadPool.h|0 67
Deleted: src/qpid/concurrent/LMonitor.h|0 44
Renamed: src/qpid/concurrent/Monitor.cpp [from src/qpid/concurrent/APRMonitor.cpp]|9 9
Modified: src/qpid/concurrent/Monitor.h|19 22
Deleted: src/qpid/concurrent/MonitorImpl.h|0 57
Renamed: src/qpid/concurrent/Thread.cpp [from src/qpid/concurrent/APRThread.cpp]|7 7
Modified: src/qpid/concurrent/Thread.h|15 4
Renamed: src/qpid/concurrent/ThreadFactory.cpp [from src/qpid/concurrent/APRThreadFactory.cpp]|5 5
Modified: src/qpid/concurrent/ThreadFactory.h|8 2
Deleted: src/qpid/concurrent/ThreadFactoryImpl.h|0 52
Renamed: src/qpid/concurrent/ThreadPool.cpp [from src/qpid/concurrent/APRThreadPool.cpp]|9 9
Modified: src/qpid/concurrent/ThreadPool.h|31 4
Modified: src/qpid/framing/InputHandler.h|8 11
Modified: src/qpid/framing/OutputHandler.h|9 12
Deleted: src/qpid/io/APRConnector.h|0 95
Renamed: src/qpid/io/APRPool.cpp [from src/qpid/framing/OutputHandler.cpp]|20 2
Renamed: src/qpid/io/APRPool.h [from src/qpid/io/SessionManager.h]|23 16
Modified: src/qpid/io/Acceptor.cpp|59 2
Modified: src/qpid/io/Acceptor.h|32 25
Deleted: src/qpid/io/BlockingAPRAcceptor.cpp|0 101
Deleted: src/qpid/io/BlockingAPRAcceptor.h|0 65
Deleted: src/qpid/io/BlockingAPRSessionContext.cpp|0 177
Deleted: src/qpid/io/BlockingAPRSessionContext.h|0 94
Renamed: src/qpid/io/Connector.cpp [from src/qpid/io/APRConnector.cpp]|21 21
Modified: src/qpid/io/Connector.h|56 17
Deleted: src/qpid/io/ConnectorImpl.h|0 53
Deleted: src/qpid/io/LConnector.h|0 48
Deleted: src/qpid/io/LFAcceptor.cpp|0 94
Deleted: src/qpid/io/LFAcceptor.h|0 74
Modified: src/qpid/io/LFProcessor.h|5 5
Modified: src/qpid/io/LFSessionContext.cpp|3 3
Modified: src/qpid/io/LFSessionContext.h|3 3
Renamed: src/qpid/io/doxygen_summary.h [from src/qpid/framing/InputHandler.cpp]|15 2
Modified: src/qpidd.cpp|1 1
Modified: test/client/client_test.cpp|2 2
Modified: test/client/topic_publisher.cpp|2 2
Modified: test/unit/qpid/broker/ConfigurationTest.cpp|0 19

Revision: 188bded6ea6902093b0f87b4b98c92ced5f76c5b
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2006 09:19:12
Message:
Moved APR specific sources into src_apr. #MsgLength=42


----
Modified: Makefile|22 14
Modified: options.mk|8 4
Modified: src/qpid/broker/Queue.cpp|3 3
Modified: src/qpid/broker/Queue.h|2 2
Added: src/qpid/concurrent/Time.h|52 0
Renamed: src_apr/qpid/concurrent/APRBase.cpp [from src/qpid/concurrent/APRBase.cpp]|0 0
Renamed: src_apr/qpid/concurrent/APRBase.h [from src/qpid/concurrent/APRBase.h]|0 0
Renamed: src_apr/qpid/concurrent/Monitor.cpp [from src/qpid/concurrent/Monitor.cpp]|0 0
Renamed: src_apr/qpid/concurrent/Monitor.h [from src/qpid/concurrent/Monitor.h]|0 0
Renamed: src_apr/qpid/concurrent/Thread.cpp [from src/qpid/concurrent/Thread.cpp]|0 0
Renamed: src_apr/qpid/concurrent/Thread.h [from src/qpid/concurrent/Thread.h]|0 0
Renamed: src_apr/qpid/concurrent/ThreadFactory.cpp [from src/qpid/concurrent/ThreadFactory.cpp]|0 0
Renamed: src_apr/qpid/concurrent/ThreadFactory.h [from src/qpid/concurrent/ThreadFactory.h]|0 0
Renamed: src_apr/qpid/concurrent/ThreadPool.cpp [from src/qpid/concurrent/ThreadPool.cpp]|0 0
Renamed: src_apr/qpid/concurrent/ThreadPool.h [from src/qpid/concurrent/ThreadPool.h]|0 0
Added: src_apr/qpid/concurrent/Time.cpp|29 0
Renamed: src_apr/qpid/io/APRPool.cpp [from src/qpid/io/APRPool.cpp]|0 0
Renamed: src_apr/qpid/io/APRPool.h [from src/qpid/io/APRPool.h]|0 0
Renamed: src_apr/qpid/io/APRSocket.cpp [from src/qpid/io/APRSocket.cpp]|0 0
Renamed: src_apr/qpid/io/APRSocket.h [from src/qpid/io/APRSocket.h]|0 0
Renamed: src_apr/qpid/io/Acceptor.cpp [from src/qpid/io/Acceptor.cpp]|0 0
Renamed: src_apr/qpid/io/Acceptor.h [from src/qpid/io/Acceptor.h]|0 0
Renamed: src_apr/qpid/io/Connector.cpp [from src/qpid/io/Connector.cpp]|0 0
Renamed: src_apr/qpid/io/Connector.h [from src/qpid/io/Connector.h]|0 0
Renamed: src_apr/qpid/io/LFProcessor.cpp [from src/qpid/io/LFProcessor.cpp]|0 0
Renamed: src_apr/qpid/io/LFProcessor.h [from src/qpid/io/LFProcessor.h]|0 0
Renamed: src_apr/qpid/io/LFSessionContext.cpp [from src/qpid/io/LFSessionContext.cpp]|0 0
Renamed: src_apr/qpid/io/LFSessionContext.h [from src/qpid/io/LFSessionContext.h]|0 0

Revision: 124a3c9ec812f3ed54d94fa31ec279686e20f906
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2006 10:11:58
Message:
Misc. cleanup. #MsgLength=16


----
Modified: README|2 0
Modified: options.mk|3 3
Modified: src/qpid/SharedObject.h|3 3
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpid/broker/Broker.h|3 3
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|1 0
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|2 1
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/framing/InputHandler.h|3 2
Modified: src/qpid/framing/OutputHandler.h|3 2
Modified: src/qpid/io/SessionContext.h|9 8
Modified: src/qpid/io/SessionHandler.h|4 4
Modified: src/qpid/io/SessionHandlerFactory.h|14 11
Modified: src/qpidd.cpp|1 1

Revision: 33d5459436f58f6a63eddd7bb5e70406a752de53
Author: Alan Conway <aconway@apache.org>
Date: 02/11/2006 05:43:43
Message:
Removed unused code. #MsgLength=22


----
Deleted: src/qpid/concurrent/LockedQueue.h|0 68
Deleted: src/qpid/concurrent/TaskQueue.h|0 200
Deleted: src_apr/qpid/concurrent/ThreadPool.cpp|0 83
Deleted: src_apr/qpid/concurrent/ThreadPool.h|0 67
Modified: src_apr/qpid/io/Acceptor.h|0 1

Revision: 9f56fd7e95200e83a2f87d2fb605e64a75970a53
Author: Gordon Sim <gsim@apache.org>
Date: 03/11/2006 21:44:21
Message:
Added some methods to MessageStore interface and hooked these in where appropriate. #MsgLength=86


----
Modified: src/qpid/broker/Message.cpp|8 1
Modified: src/qpid/broker/Message.h|4 3
Modified: src/qpid/broker/MessageStore.h|19 2
Modified: src/qpid/broker/Queue.cpp|17 4
Modified: src/qpid/broker/Queue.h|4 2
Modified: src/qpid/broker/QueueRegistry.cpp|4 4
Modified: src/qpid/broker/QueueRegistry.h|2 3
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|12 3
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|7 3
Modified: src/qpid/broker/SessionHandlerImpl.cpp|9 4
Modified: src/qpid/framing/BasicHeaderProperties.h|1 0
Modified: test/unit/qpid/broker/ConfigurationTest.cpp|2 2
Modified: test/unit/qpid/broker/ExchangeTest.cpp|2 2
Modified: test/unit/qpid/broker/QueueTest.cpp|3 3
Modified: test/unit/qpid/broker/TxAckTest.cpp|73 69
Modified: test/unit/qpid/broker/TxPublishTest.cpp|66 62

Revision: ab5d34584a2bbb5a4353a18a06a7257eb4d37ac8
Author: Alan Conway <aconway@apache.org>
Date: 04/11/2006 05:06:51
Message:
2006-11-03  Jim Meyering  <meyering@redhat.com> #MsgLength=203


----
Modified: Makefile|1 1
Modified: src_apr/qpid/io/APRPool.cpp|1 1
Modified: src_apr/qpid/io/Acceptor.h|0 1

Revision: b96375b7650cae6e5348e5081a215d5e30b3d2ba
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/11/2006 05:27:48
Message:
Added protocol version and version exception classes in preparation for multi-protocol generation. #MsgLength=99


----
Modified: src/qpid/framing/ProtocolInitiation.cpp|7 5
Modified: src/qpid/framing/ProtocolInitiation.h|8 5
Added: src/qpid/framing/ProtocolVersion.cpp|61 0
Added: src/qpid/framing/ProtocolVersion.h|49 0
Added: src/qpid/framing/ProtocolVersionException.cpp|63 0
Added: src/qpid/framing/ProtocolVersionException.h|52 0

Revision: 9598a587d39d7fa0e0211474598045aed92a7e71
Author: Alan Conway <aconway@apache.org>
Date: 07/11/2006 00:43:31
Message:
Minor source reorg, see README. #MsgLength=33


----
Modified: Makefile|1 1
Modified: README|24 4
Modified: options.mk|9 14
Modified: src/qpid/broker/AutoDelete.h|7 7
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Broker.h|4 4
Modified: src/qpid/broker/Channel.cpp|1 1
Modified: src/qpid/broker/Channel.h|2 2
Modified: src/qpid/broker/DirectExchange.h|2 2
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/broker/FanOutExchange.cpp|1 1
Modified: src/qpid/broker/FanOutExchange.h|2 2
Modified: src/qpid/broker/HeadersExchange.cpp|1 1
Modified: src/qpid/broker/HeadersExchange.h|2 2
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/Queue.h|3 3
Modified: src/qpid/broker/QueueRegistry.cpp|2 2
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|1 1
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|6 6
Modified: src/qpid/broker/SessionHandlerImpl.cpp|2 2
Modified: src/qpid/broker/SessionHandlerImpl.h|6 6
Modified: src/qpid/broker/TopicExchange.h|2 2
Modified: src/qpid/client/Channel.cpp|3 3
Modified: src/qpid/client/Channel.h|6 6
Modified: src/qpid/client/Connection.cpp|3 3
Modified: src/qpid/client/Connection.h|6 6
Modified: src/qpid/client/ResponseHandler.cpp|2 2
Modified: src/qpid/client/ResponseHandler.h|2 2
Renamed: src/qpid/sys/APRBase.cpp [from src_apr/qpid/concurrent/APRBase.cpp]|4 4
Renamed: src/qpid/sys/APRBase.h [from src_apr/qpid/concurrent/APRBase.h]|1 1
Renamed: src/qpid/sys/APRPool.cpp [from src_apr/qpid/io/APRPool.cpp]|3 3
Renamed: src/qpid/sys/APRPool.h [from src_apr/qpid/io/APRPool.h]|1 1
Renamed: src/qpid/sys/APRSocket.cpp [from src_apr/qpid/io/APRSocket.cpp]|4 4
Renamed: src/qpid/sys/APRSocket.h [from src_apr/qpid/io/APRSocket.h]|1 1
Renamed: src/qpid/sys/Acceptor.cpp [from src_apr/qpid/io/Acceptor.cpp]|4 4
Renamed: src/qpid/sys/Acceptor.h [from src_apr/qpid/io/Acceptor.h]|9 9
Renamed: src/qpid/sys/Connector.cpp [from src_apr/qpid/io/Connector.cpp]|5 5
Renamed: src/qpid/sys/Connector.h [from src_apr/qpid/io/Connector.h]|11 11
Renamed: src/qpid/sys/LFProcessor.cpp [from src_apr/qpid/io/LFProcessor.cpp]|5 5
Renamed: src/qpid/sys/LFProcessor.h [from src_apr/qpid/io/LFProcessor.h]|9 9
Renamed: src/qpid/sys/LFSessionContext.cpp [from src_apr/qpid/io/LFSessionContext.cpp]|4 4
Renamed: src/qpid/sys/LFSessionContext.h [from src_apr/qpid/io/LFSessionContext.h]|8 8
Renamed: src/qpid/sys/Monitor.cpp [from src_apr/qpid/concurrent/Monitor.cpp]|10 10
Renamed: src/qpid/sys/Monitor.h [from src_apr/qpid/concurrent/Monitor.h]|2 2
Renamed: src/qpid/sys/Runnable.cpp [from src/qpid/concurrent/Runnable.cpp]|2 2
Renamed: src/qpid/sys/Runnable.h [from src/qpid/concurrent/Runnable.h]|1 1
Renamed: src/qpid/sys/SessionContext.h [from src/qpid/io/SessionContext.h]|1 1
Renamed: src/qpid/sys/SessionHandler.h [from src/qpid/io/SessionHandler.h]|2 2
Renamed: src/qpid/sys/SessionHandlerFactory.h [from src/qpid/io/SessionHandlerFactory.h]|1 1
Renamed: src/qpid/sys/ShutdownHandler.h [from src/qpid/io/ShutdownHandler.h]|1 1
Renamed: src/qpid/sys/Thread.cpp [from src_apr/qpid/concurrent/Thread.cpp]|4 4
Renamed: src/qpid/sys/Thread.h [from src_apr/qpid/concurrent/Thread.h]|4 4
Renamed: src/qpid/sys/ThreadFactory.cpp [from src_apr/qpid/concurrent/ThreadFactory.cpp]|3 3
Renamed: src/qpid/sys/ThreadFactory.h [from src_apr/qpid/concurrent/ThreadFactory.h]|5 5
Renamed: src/qpid/sys/Time.cpp [from src_apr/qpid/concurrent/Time.cpp]|2 2
Renamed: src/qpid/sys/Time.h [from src/qpid/concurrent/Time.h]|1 1
Renamed: src/qpid/sys/TimeoutHandler.h [from src/qpid/io/TimeoutHandler.h]|1 1
Renamed: src/qpid/sys/doxygen_summary.h [from src/qpid/io/doxygen_summary.h]|1 1
Modified: src/qpidd.cpp|1 1
Modified: test/client/client_test.cpp|2 2
Modified: test/client/topic_publisher.cpp|2 2
Modified: test/unit/qpid/broker/ChannelTest.cpp|1 1
Modified: test/unit/qpid/broker/ExchangeTest.cpp|1 1
Modified: test/unit/qpid/broker/MessageBuilderTest.cpp|1 1
Modified: test/unit/qpid/broker/MessageTest.cpp|2 2
Modified: test/unit/qpid/broker/QueueTest.cpp|1 1
Renamed: test/unit/qpid/sys/APRBaseTest.cpp [from test/unit/qpid/concurrent/APRBaseTest.cpp]|2 2

Revision: c8380bf6224d294dade0ed1f70f40b8bd8662bf2
Author: Alan Conway <aconway@apache.org>
Date: 07/11/2006 00:52:28
Message:
Removed redundant directories. #MsgLength=32


----

Revision: 422aa88f2b3cdcadcd6866e1f2dca867a89ea9c6
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2006 19:26:50
Message:
Made passing of transaction context in message store explicit (to avoid thread local storage in case this doesn't fit with new io design). #MsgLength=141


----
Modified: src/qpid/broker/Channel.cpp|1 1
Modified: src/qpid/broker/DeletingTxOp.cpp|2 2
Modified: src/qpid/broker/DeletingTxOp.h|1 1
Modified: src/qpid/broker/DeliveryRecord.cpp|2 6
Modified: src/qpid/broker/DeliveryRecord.h|1 2
Modified: src/qpid/broker/MessageStore.h|2 2
Added: src/qpid/broker/NullMessageStore.cpp|55 0
Added: src/qpid/broker/NullMessageStore.h|51 0
Modified: src/qpid/broker/Queue.cpp|11 8
Modified: src/qpid/broker/Queue.h|6 2
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|5 3
Modified: src/qpid/broker/TransactionalStore.h|8 3
Modified: src/qpid/broker/TxAck.cpp|7 2
Modified: src/qpid/broker/TxAck.h|1 1
Modified: src/qpid/broker/TxBuffer.cpp|8 10
Modified: src/qpid/broker/TxBuffer.h|2 0
Modified: src/qpid/broker/TxOp.h|3 1
Modified: src/qpid/broker/TxPublish.cpp|5 4
Modified: src/qpid/broker/TxPublish.h|3 2
Modified: test/unit/qpid/broker/TxAckTest.cpp|9 6
Modified: test/unit/qpid/broker/TxBufferTest.cpp|46 4
Modified: test/unit/qpid/broker/TxPublishTest.cpp|9 6

Revision: 65e9fae4de2081564359978ab5064c46041ec1ae
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2006 00:58:31
Message:
Modified TransactionalStore to return the txn ctxt as an auto_ptr to make ownership more obvious. #MsgLength=99


----
Modified: src/qpid/broker/NullMessageStore.cpp|2 2
Modified: src/qpid/broker/NullMessageStore.h|1 1
Modified: src/qpid/broker/TransactionalStore.h|5 1
Modified: src/qpid/broker/TxBuffer.cpp|12 8
Modified: test/unit/qpid/broker/TxAckTest.cpp|1 1
Modified: test/unit/qpid/broker/TxBufferTest.cpp|44 40
Modified: test/unit/qpid/broker/TxPublishTest.cpp|1 1

Revision: e9ad7ef1aca01e977da1d000d0d0380d01bed793
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2006 01:07:44
Message:
More reorg to separate APR/posix code, work in progress. #MsgLength=57


----
Modified: Makefile|1 1
Modified: README|2 2
Modified: options.mk|2 1
Renamed: src/qpid/apr/APRBase.cpp [from src/qpid/sys/APRBase.cpp]|2 2
Renamed: src/qpid/apr/APRBase.h [from src/qpid/sys/APRBase.h]|1 1
Renamed: src/qpid/apr/APRPool.cpp [from src/qpid/sys/APRPool.cpp]|1 2
Renamed: src/qpid/apr/APRPool.h [from src/qpid/sys/APRPool.h]|0 0
Renamed: src/qpid/apr/APRSocket.cpp [from src/qpid/sys/APRSocket.cpp]|2 3
Renamed: src/qpid/apr/APRSocket.h [from src/qpid/sys/APRSocket.h]|0 0
Renamed: src/qpid/apr/Acceptor.cpp [from src/qpid/sys/Acceptor.cpp]|2 3
Renamed: src/qpid/apr/Acceptor.h [from src/qpid/sys/Acceptor.h]|4 7
Renamed: src/qpid/apr/Connector.cpp [from src/qpid/sys/Connector.cpp]|7 18
Renamed: src/qpid/apr/Connector.h [from src/qpid/sys/Connector.h]|7 9
Renamed: src/qpid/apr/LFProcessor.cpp [from src/qpid/sys/LFProcessor.cpp]|38 55
Renamed: src/qpid/apr/LFProcessor.h [from src/qpid/sys/LFProcessor.h]|4 5
Renamed: src/qpid/apr/LFSessionContext.cpp [from src/qpid/sys/LFSessionContext.cpp]|10 29
Renamed: src/qpid/apr/LFSessionContext.h [from src/qpid/sys/LFSessionContext.h]|39 40
Renamed: src/qpid/apr/Monitor.cpp [from src/qpid/sys/Monitor.cpp]|27 23
Renamed: src/qpid/apr/Monitor.h [from src/qpid/sys/Monitor.h]|36 17
Renamed: src/qpid/apr/Thread.cpp [from src/qpid/sys/Thread.cpp]|22 17
Renamed: src/qpid/apr/Thread.h [from src/qpid/sys/ThreadFactory.h]|20 19
Renamed: src/qpid/apr/Time.cpp [from src/qpid/sys/Time.cpp]|13 3
Modified: src/qpid/broker/AutoDelete.cpp|14 25
Modified: src/qpid/broker/AutoDelete.h|6 7
Modified: src/qpid/broker/Channel.cpp|5 5
Modified: src/qpid/broker/Channel.h|1 1
Modified: src/qpid/broker/DirectExchange.cpp|4 6
Modified: src/qpid/broker/DirectExchange.h|1 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 3
Modified: src/qpid/broker/ExchangeRegistry.h|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|3 3
Modified: src/qpid/broker/FanOutExchange.h|1 1
Modified: src/qpid/broker/HeadersExchange.cpp|3 3
Modified: src/qpid/broker/HeadersExchange.h|1 1
Modified: src/qpid/broker/Message.cpp|0 2
Deleted: src/qpid/broker/Prefetch.cpp|0 26
Modified: src/qpid/broker/Prefetch.h|1 1
Modified: src/qpid/broker/Queue.cpp|13 13
Modified: src/qpid/broker/Queue.h|1 2
Modified: src/qpid/broker/QueueRegistry.cpp|3 4
Modified: src/qpid/broker/QueueRegistry.h|1 1
Modified: src/qpid/broker/TopicExchange.cpp|4 7
Modified: src/qpid/broker/TopicExchange.h|1 1
Modified: src/qpid/client/Channel.cpp|16 35
Modified: src/qpid/client/Channel.h|3 7
Modified: src/qpid/client/ResponseHandler.cpp|10 15
Modified: src/qpid/client/ResponseHandler.h|2 2
Modified: src/qpid/sys/Runnable.h|8 8
Modified: src/qpid/sys/Thread.h|6 27
Deleted: src/qpid/sys/ThreadFactory.cpp|0 35
Modified: src/qpid/sys/Time.h|6 20
Renamed: src/qpid/sys/platform.h [from src/qpid/sys/Runnable.cpp]|12 2
Modified: src/qpidd.cpp|4 1
Modified: test/client/client_test.cpp|5 7
Modified: test/client/topic_listener.cpp|6 5
Modified: test/client/topic_publisher.cpp|26 26
Renamed: test/unit/qpid/apr/APRBaseTest.cpp [from test/unit/qpid/sys/APRBaseTest.cpp]|1 1
Modified: test/unit/qpid/broker/MessageTest.cpp|1 4

Revision: 97111e8651ea3aa6c7898be6dccdc8e9379d4853
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2006 01:33:03
Message:
Files missed in last commit. #MsgLength=30


----
Added: src/qpid/sys/Acceptor.h|26 0
Added: src/qpid/sys/Connector.h|25 0
Added: src/qpid/sys/Monitor.h|25 0

Revision: b22865a9b777d01347793dae895e944bfac4ceaa
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2006 09:29:59
Message:
More separation of concerns with APR, client side complete. #MsgLength=61


----
Deleted: src/qpid/apr/Monitor.cpp|0 64
Modified: src/qpid/apr/Monitor.h|60 11
Added: src/qpid/apr/Socket.h|107 0
Modified: src/qpid/client/Connection.h|2 2
Renamed: src/qpid/client/Connector.cpp [from src/qpid/apr/Connector.cpp]|23 44
Renamed: src/qpid/client/Connector.h [from src/qpid/apr/Connector.h]|9 12
Renamed: src/qpid/sys/Socket.h [from src/qpid/sys/Connector.h]|7 5
Modified: src/qpid/sys/Time.h|3 3
Modified: test/client/topic_publisher.cpp|2 3

Revision: 42f54ee948aee962a2733a77b827fdb4d7afaf5c
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2006 18:29:41
Message:
Removed invalid and redundant include. #MsgLength=41


----
Modified: src/qpid/client/Connection.cpp|0 1

Revision: 0885dfc2c5a00d1b73c00246e351ddef5dd00517
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2006 18:40:56
Message:
Added some encode/decode routines to Message (plus test). Altered Buffer to allow memory for data to be specified on construction. #MsgLength=134


----
Modified: src/qpid/broker/Message.cpp|50 0
Modified: src/qpid/broker/Message.h|10 2
Modified: src/qpid/broker/Queue.cpp|5 0
Modified: src/qpid/broker/Queue.h|6 2
Modified: src/qpid/framing/Buffer.cpp|5 2
Modified: src/qpid/framing/Buffer.h|2 0
Modified: test/unit/qpid/broker/MessageTest.cpp|51 9

Revision: 30f1b8b2f9eec02e93bec85baca10382c62e453c
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2006 01:49:32
Message:
Updated properties. #MsgLength=22


----

Revision: dbe23202980642bc4b5a5bc4714c938699c288cf
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2006 05:55:34
Message:
Added POSIX equivalents to APR classes used by clients, inlined trivial calls. #MsgLength=79


----
Modified: Makefile|13 8
Modified: README|4 6
Modified: options.mk|46 40
Modified: src/qpid/Exception.cpp|1 1
Modified: src/qpid/QpidError.cpp|1 1
Modified: src/qpid/QpidError.h|1 1
Renamed: src/qpid/apr/APRAcceptor.cpp [from src/qpid/apr/Acceptor.cpp]|34 6
Modified: src/qpid/apr/APRBase.h|2 2
Modified: src/qpid/apr/APRSocket.h|2 2
Modified: src/qpid/apr/LFProcessor.h|3 3
Modified: src/qpid/apr/LFSessionContext.cpp|1 1
Modified: src/qpid/apr/LFSessionContext.h|8 8
Deleted: src/qpid/apr/Monitor.h|0 124
Renamed: src/qpid/apr/Socket.cpp [from src/qpid/apr/Socket.h]|13 44
Modified: src/qpid/apr/Thread.cpp|2 27
Modified: src/qpid/broker/AccumulatedAck.cpp|1 1
Modified: src/qpid/broker/AutoDelete.cpp|3 2
Modified: src/qpid/broker/AutoDelete.h|3 3
Modified: src/qpid/broker/Binding.h|1 1
Modified: src/qpid/broker/Broker.cpp|4 4
Modified: src/qpid/broker/Broker.h|43 43
Modified: src/qpid/broker/Channel.cpp|2 2
Modified: src/qpid/broker/Channel.h|20 20
Modified: src/qpid/broker/Configuration.cpp|1 1
Modified: src/qpid/broker/Configuration.h|1 1
Modified: src/qpid/broker/Consumer.h|1 1
Modified: src/qpid/broker/DeletingTxOp.cpp|1 1
Modified: src/qpid/broker/DeletingTxOp.h|1 1
Modified: src/qpid/broker/Deliverable.h|1 1
Modified: src/qpid/broker/DeliverableMessage.cpp|1 1
Modified: src/qpid/broker/DeliverableMessage.h|3 3
Modified: src/qpid/broker/DeliveryRecord.cpp|2 2
Modified: src/qpid/broker/DeliveryRecord.h|4 4
Modified: src/qpid/broker/DirectExchange.cpp|2 2
Modified: src/qpid/broker/DirectExchange.h|5 5
Modified: src/qpid/broker/Exchange.h|3 3
Modified: src/qpid/broker/ExchangeBinding.cpp|2 2
Modified: src/qpid/broker/ExchangeBinding.h|3 3
Modified: src/qpid/broker/ExchangeRegistry.cpp|5 5
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/broker/FanOutExchange.cpp|2 2
Modified: src/qpid/broker/FanOutExchange.h|5 5
Modified: src/qpid/broker/HeadersExchange.cpp|4 4
Modified: src/qpid/broker/HeadersExchange.h|5 5
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Message.h|7 7
Modified: src/qpid/broker/MessageBuilder.cpp|1 1
Modified: src/qpid/broker/MessageBuilder.h|6 6
Modified: src/qpid/broker/MessageStore.h|3 3
Modified: src/qpid/broker/NameGenerator.cpp|1 1
Modified: src/qpid/broker/NameGenerator.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|3 3
Modified: src/qpid/broker/NullMessageStore.h|3 3
Modified: src/qpid/broker/Prefetch.h|1 1
Modified: src/qpid/broker/Queue.cpp|7 6
Modified: src/qpid/broker/Queue.h|6 6
Modified: src/qpid/broker/QueueRegistry.cpp|2 2
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|6 6
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|10 10
Modified: src/qpid/broker/SessionHandlerImpl.cpp|4 4
Modified: src/qpid/broker/SessionHandlerImpl.h|15 15
Modified: src/qpid/broker/TopicExchange.cpp|2 2
Modified: src/qpid/broker/TopicExchange.h|5 5
Modified: src/qpid/broker/TxAck.cpp|1 1
Modified: src/qpid/broker/TxAck.h|3 3
Modified: src/qpid/broker/TxBuffer.cpp|1 1
Modified: src/qpid/broker/TxBuffer.h|2 2
Modified: src/qpid/broker/TxOp.h|1 1
Modified: src/qpid/broker/TxPublish.cpp|1 1
Modified: src/qpid/broker/TxPublish.h|5 5
Modified: src/qpid/client/Channel.cpp|4 4
Modified: src/qpid/client/Channel.h|9 9
Modified: src/qpid/client/Connection.cpp|4 4
Modified: src/qpid/client/Connection.h|12 12
Modified: src/qpid/client/Connector.cpp|2 2
Modified: src/qpid/client/Connector.h|8 8
Modified: src/qpid/client/Exchange.cpp|1 1
Modified: src/qpid/client/IncomingMessage.cpp|2 2
Modified: src/qpid/client/IncomingMessage.h|2 2
Modified: src/qpid/client/Message.cpp|1 1
Modified: src/qpid/client/Message.h|1 1
Modified: src/qpid/client/MessageListener.cpp|1 1
Modified: src/qpid/client/MessageListener.h|1 1
Modified: src/qpid/client/Queue.cpp|1 1
Modified: src/qpid/client/ResponseHandler.cpp|3 3
Modified: src/qpid/client/ResponseHandler.h|1 1
Modified: src/qpid/client/ReturnedMessageHandler.cpp|1 1
Modified: src/qpid/client/ReturnedMessageHandler.h|1 1
Modified: src/qpid/framing/AMQBody.cpp|1 1
Modified: src/qpid/framing/AMQBody.h|2 2
Modified: src/qpid/framing/AMQContentBody.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.h|3 3
Modified: src/qpid/framing/AMQDataBlock.h|1 1
Modified: src/qpid/framing/AMQFrame.cpp|2 2
Modified: src/qpid/framing/AMQFrame.h|9 9
Modified: src/qpid/framing/AMQHeaderBody.cpp|3 3
Modified: src/qpid/framing/AMQHeaderBody.h|4 4
Modified: src/qpid/framing/AMQHeartbeatBody.cpp|1 1
Modified: src/qpid/framing/AMQHeartbeatBody.h|3 3
Modified: src/qpid/framing/AMQMethodBody.cpp|2 2
Modified: src/qpid/framing/AMQMethodBody.h|4 4
Modified: src/qpid/framing/BasicHeaderProperties.cpp|1 1
Modified: src/qpid/framing/BasicHeaderProperties.h|4 4
Modified: src/qpid/framing/BodyHandler.cpp|1 1
Modified: src/qpid/framing/BodyHandler.h|4 4
Modified: src/qpid/framing/Buffer.cpp|2 2
Modified: src/qpid/framing/Buffer.h|1 1
Modified: src/qpid/framing/FieldTable.cpp|4 4
Modified: src/qpid/framing/FieldTable.h|1 1
Modified: src/qpid/framing/HeaderProperties.h|2 2
Modified: src/qpid/framing/InitiationHandler.cpp|1 1
Modified: src/qpid/framing/InitiationHandler.h|1 1
Modified: src/qpid/framing/InputHandler.h|1 1
Modified: src/qpid/framing/OutputHandler.h|1 1
Modified: src/qpid/framing/ProtocolInitiation.cpp|1 1
Modified: src/qpid/framing/ProtocolInitiation.h|4 4
Modified: src/qpid/framing/ProtocolVersion.cpp|1 1
Modified: src/qpid/framing/ProtocolVersion.h|1 1
Modified: src/qpid/framing/ProtocolVersionException.cpp|1 1
Modified: src/qpid/framing/ProtocolVersionException.h|2 2
Modified: src/qpid/framing/Value.cpp|4 4
Modified: src/qpid/framing/Value.h|2 2
Modified: src/qpid/framing/amqp_framing.h|14 14
Renamed: src/qpid/posix/PosixAcceptor.cpp [from src/qpid/apr/Thread.h]|18 18
Added: src/qpid/posix/Socket.cpp|87 0
Renamed: src/qpid/posix/Thread.cpp [from src/qpid/sys/platform.h]|6 10
Renamed: src/qpid/posix/check.cpp [from src/qpid/apr/Acceptor.h]|8 35
Renamed: src/qpid/posix/check.h [from src/qpid/apr/Time.cpp]|8 13
Modified: src/qpid/sys/Acceptor.h|20 2
Modified: src/qpid/sys/Monitor.h|204 2
Modified: src/qpid/sys/SessionContext.h|1 1
Modified: src/qpid/sys/SessionHandler.h|4 4
Modified: src/qpid/sys/Socket.h|40 2
Modified: src/qpid/sys/Thread.h|78 2
Added: src/qpid/sys/Time.cpp|60 0
Modified: src/qpid/sys/Time.h|41 6
Modified: src/qpid/sys/doxygen_summary.h|1 8
Modified: src/qpidd.cpp|3 3
Modified: test/client/client_test.cpp|7 7
Modified: test/client/topic_listener.cpp|8 8
Modified: test/client/topic_publisher.cpp|9 9
Modified: test/unit/qpid/apr/APRBaseTest.cpp|1 1
Modified: test/unit/qpid/broker/AccumulatedAckTest.cpp|1 1
Modified: test/unit/qpid/broker/ChannelTest.cpp|2 2
Modified: test/unit/qpid/broker/ConfigurationTest.cpp|1 1
Modified: test/unit/qpid/broker/ExchangeTest.cpp|5 5
Modified: test/unit/qpid/broker/HeadersExchangeTest.cpp|3 3
Modified: test/unit/qpid/broker/MessageBuilderTest.cpp|2 2
Modified: test/unit/qpid/broker/QueueRegistryTest.cpp|1 1
Modified: test/unit/qpid/broker/QueueTest.cpp|2 2
Modified: test/unit/qpid/broker/TopicExchangeTest.cpp|1 1
Modified: test/unit/qpid/broker/TxAckTest.cpp|3 3
Modified: test/unit/qpid/broker/TxBufferTest.cpp|1 1
Modified: test/unit/qpid/broker/TxPublishTest.cpp|3 3
Modified: test/unit/qpid/broker/ValueTest.cpp|1 1
Modified: test/unit/qpid/framing/BodyHandlerTest.cpp|2 2
Modified: test/unit/qpid/framing/FieldTableTest.cpp|1 1
Modified: test/unit/qpid/framing/FramingTest.cpp|2 2
Modified: test/unit/qpid/framing/HeaderTest.cpp|1 1

Revision: 787a6fed3f4a0be4bbdd10d128ae21aca6ce844d
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2006 22:35:02
Message:
Some more riguorous 'const' declarations in basic header properties. Some more comments in queue header. #MsgLength=107


----
Modified: src/qpid/broker/Queue.h|7 1
Modified: src/qpid/client/Message.cpp|21 21
Modified: src/qpid/client/Message.h|21 21
Modified: src/qpid/framing/BasicHeaderProperties.h|26 26

Revision: 8579b176570f291b23c6b1c6e6fc9d4b15c8d419
Author: Stephen Vinoski <vinoski@apache.org>
Date: 11/11/2006 07:18:04
Message:
update Apache licenses to the current version #MsgLength=46


----
Modified: Makefile|16 13
Modified: etc/stylesheets/amqp_client.xsl|21 1
Modified: etc/stylesheets/amqp_client_handler_impl.xsl|20 0
Modified: etc/stylesheets/amqp_client_operations.xsl|20 0
Modified: etc/stylesheets/amqp_consts.xsl|20 0
Modified: etc/stylesheets/amqp_server.xsl|20 0
Modified: etc/stylesheets/amqp_server_handler_impl.xsl|20 0
Modified: etc/stylesheets/amqp_server_operations.xsl|20 0
Modified: etc/stylesheets/code_gen.xsl|20 0
Modified: etc/stylesheets/code_utils.xsl|16 13
Modified: etc/stylesheets/convert_0.81.xsl|20 0
Modified: etc/stylesheets/cpp.xsl|20 0
Modified: etc/stylesheets/framing.xsl|20 0
Modified: etc/stylesheets/prepare1.xsl|20 0
Modified: etc/stylesheets/prepare2.xsl|20 0
Modified: etc/stylesheets/prepare3.xsl|20 0
Modified: etc/stylesheets/registry.xsl|20 0
Modified: etc/stylesheets/utils.xsl|20 0
Modified: options.mk|16 13
Modified: src/qpid/Exception.cpp|16 13
Modified: src/qpid/Exception.h|16 13
Modified: src/qpid/QpidError.cpp|16 13
Modified: src/qpid/QpidError.h|16 13
Modified: src/qpid/SharedObject.h|16 13
Modified: src/qpid/apr/APRAcceptor.cpp|16 13
Modified: src/qpid/apr/APRBase.cpp|16 13
Modified: src/qpid/apr/APRBase.h|16 13
Modified: src/qpid/apr/APRPool.cpp|16 13
Modified: src/qpid/apr/APRPool.h|16 13
Modified: src/qpid/apr/APRSocket.cpp|16 13
Modified: src/qpid/apr/APRSocket.h|16 13
Modified: src/qpid/apr/LFProcessor.cpp|16 13
Modified: src/qpid/apr/LFProcessor.h|16 13
Modified: src/qpid/apr/LFSessionContext.cpp|16 13
Modified: src/qpid/apr/LFSessionContext.h|16 13
Modified: src/qpid/apr/Socket.cpp|16 13
Modified: src/qpid/apr/Thread.cpp|16 13
Modified: src/qpid/broker/AccumulatedAck.cpp|16 13
Modified: src/qpid/broker/AccumulatedAck.h|16 13
Modified: src/qpid/broker/AutoDelete.cpp|16 13
Modified: src/qpid/broker/AutoDelete.h|16 13
Modified: src/qpid/broker/Binding.h|16 13
Modified: src/qpid/broker/Broker.cpp|16 13
Modified: src/qpid/broker/Broker.h|16 13
Modified: src/qpid/broker/Channel.cpp|16 13
Modified: src/qpid/broker/Channel.h|16 13
Modified: src/qpid/broker/Configuration.cpp|16 13
Modified: src/qpid/broker/Configuration.h|16 13
Modified: src/qpid/broker/ConnectionToken.h|16 13
Modified: src/qpid/broker/Consumer.h|16 13
Modified: src/qpid/broker/DeletingTxOp.cpp|16 13
Modified: src/qpid/broker/DeletingTxOp.h|16 13
Modified: src/qpid/broker/Deliverable.h|16 13
Modified: src/qpid/broker/DeliverableMessage.cpp|16 13
Modified: src/qpid/broker/DeliverableMessage.h|16 13
Modified: src/qpid/broker/DeliveryRecord.cpp|16 13
Modified: src/qpid/broker/DeliveryRecord.h|16 13
Modified: src/qpid/broker/DirectExchange.cpp|16 13
Modified: src/qpid/broker/DirectExchange.h|16 13
Modified: src/qpid/broker/Exchange.h|16 13
Modified: src/qpid/broker/ExchangeBinding.cpp|16 13
Modified: src/qpid/broker/ExchangeBinding.h|16 13
Modified: src/qpid/broker/ExchangeRegistry.cpp|16 13
Modified: src/qpid/broker/ExchangeRegistry.h|16 13
Modified: src/qpid/broker/FanOutExchange.cpp|16 13
Modified: src/qpid/broker/FanOutExchange.h|16 13
Modified: src/qpid/broker/HeadersExchange.cpp|16 13
Modified: src/qpid/broker/HeadersExchange.h|16 13
Modified: src/qpid/broker/Message.cpp|16 13
Modified: src/qpid/broker/Message.h|16 13
Modified: src/qpid/broker/MessageBuilder.cpp|16 13
Modified: src/qpid/broker/MessageBuilder.h|16 13
Modified: src/qpid/broker/MessageStore.h|16 13
Modified: src/qpid/broker/NameGenerator.cpp|16 13
Modified: src/qpid/broker/NameGenerator.h|16 13
Modified: src/qpid/broker/NullMessageStore.cpp|16 13
Modified: src/qpid/broker/NullMessageStore.h|16 13
Modified: src/qpid/broker/Prefetch.h|16 13
Modified: src/qpid/broker/Queue.cpp|16 13
Modified: src/qpid/broker/Queue.h|16 13
Modified: src/qpid/broker/QueueRegistry.cpp|16 13
Modified: src/qpid/broker/QueueRegistry.h|16 13
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|16 13
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|16 13
Modified: src/qpid/broker/SessionHandlerImpl.cpp|16 13
Modified: src/qpid/broker/SessionHandlerImpl.h|16 13
Modified: src/qpid/broker/TopicExchange.cpp|16 13
Modified: src/qpid/broker/TopicExchange.h|16 13
Modified: src/qpid/broker/TransactionalStore.h|16 13
Modified: src/qpid/broker/TxAck.cpp|16 13
Modified: src/qpid/broker/TxAck.h|16 13
Modified: src/qpid/broker/TxBuffer.cpp|16 13
Modified: src/qpid/broker/TxBuffer.h|16 13
Modified: src/qpid/broker/TxOp.h|16 13
Modified: src/qpid/broker/TxPublish.cpp|16 13
Modified: src/qpid/broker/TxPublish.h|16 13
Modified: src/qpid/client/Channel.cpp|16 13
Modified: src/qpid/client/Channel.h|16 13
Modified: src/qpid/client/Connection.cpp|16 13
Modified: src/qpid/client/Connection.h|16 13
Modified: src/qpid/client/Connector.cpp|16 13
Modified: src/qpid/client/Connector.h|16 13
Modified: src/qpid/client/Exchange.cpp|16 13
Modified: src/qpid/client/Exchange.h|16 13
Modified: src/qpid/client/IncomingMessage.cpp|16 13
Modified: src/qpid/client/IncomingMessage.h|16 13
Modified: src/qpid/client/Message.cpp|16 13
Modified: src/qpid/client/Message.h|16 13
Modified: src/qpid/client/MessageListener.cpp|16 13
Modified: src/qpid/client/MessageListener.h|16 13
Modified: src/qpid/client/Queue.cpp|16 13
Modified: src/qpid/client/Queue.h|16 13
Modified: src/qpid/client/ResponseHandler.cpp|16 13
Modified: src/qpid/client/ResponseHandler.h|16 13
Modified: src/qpid/client/ReturnedMessageHandler.cpp|16 13
Modified: src/qpid/client/ReturnedMessageHandler.h|16 13
Modified: src/qpid/framing/AMQBody.cpp|16 13
Modified: src/qpid/framing/AMQBody.h|16 13
Modified: src/qpid/framing/AMQContentBody.cpp|16 13
Modified: src/qpid/framing/AMQContentBody.h|16 13
Modified: src/qpid/framing/AMQDataBlock.h|16 13
Modified: src/qpid/framing/AMQFrame.cpp|16 13
Modified: src/qpid/framing/AMQFrame.h|16 13
Modified: src/qpid/framing/AMQHeaderBody.cpp|16 13
Modified: src/qpid/framing/AMQHeaderBody.h|16 13
Modified: src/qpid/framing/AMQHeartbeatBody.cpp|16 13
Modified: src/qpid/framing/AMQHeartbeatBody.h|16 13
Modified: src/qpid/framing/AMQMethodBody.cpp|16 13
Modified: src/qpid/framing/AMQMethodBody.h|16 13
Modified: src/qpid/framing/BasicHeaderProperties.cpp|16 13
Modified: src/qpid/framing/BasicHeaderProperties.h|16 13
Modified: src/qpid/framing/BodyHandler.cpp|16 13
Modified: src/qpid/framing/BodyHandler.h|16 13
Modified: src/qpid/framing/Buffer.cpp|16 13
Modified: src/qpid/framing/Buffer.h|16 13
Modified: src/qpid/framing/FieldTable.cpp|16 13
Modified: src/qpid/framing/FieldTable.h|16 13
Modified: src/qpid/framing/HeaderProperties.h|16 13
Modified: src/qpid/framing/InitiationHandler.cpp|16 13
Modified: src/qpid/framing/InitiationHandler.h|16 13
Modified: src/qpid/framing/InputHandler.h|16 13
Modified: src/qpid/framing/OutputHandler.h|16 13
Modified: src/qpid/framing/ProtocolInitiation.cpp|16 13
Modified: src/qpid/framing/ProtocolInitiation.h|16 13
Modified: src/qpid/framing/ProtocolVersion.cpp|16 13
Modified: src/qpid/framing/ProtocolVersion.h|16 13
Modified: src/qpid/framing/ProtocolVersionException.cpp|16 13
Modified: src/qpid/framing/ProtocolVersionException.h|16 13
Modified: src/qpid/framing/Value.cpp|16 13
Modified: src/qpid/framing/Value.h|16 13
Modified: src/qpid/framing/amqp_framing.h|16 13
Modified: src/qpid/framing/amqp_types.h|16 13
Modified: src/qpid/posix/PosixAcceptor.cpp|16 13
Modified: src/qpid/posix/Socket.cpp|16 13
Modified: src/qpid/posix/Thread.cpp|16 13
Modified: src/qpid/posix/check.cpp|16 13
Modified: src/qpid/posix/check.h|16 13
Modified: src/qpid/sys/Acceptor.h|16 13
Modified: src/qpid/sys/Monitor.h|16 13
Modified: src/qpid/sys/Runnable.h|16 13
Modified: src/qpid/sys/SessionContext.h|16 13
Modified: src/qpid/sys/SessionHandler.h|16 13
Modified: src/qpid/sys/SessionHandlerFactory.h|16 13
Modified: src/qpid/sys/ShutdownHandler.h|16 13
Modified: src/qpid/sys/Socket.h|16 13
Modified: src/qpid/sys/Thread.h|16 13
Modified: src/qpid/sys/Time.cpp|16 13
Modified: src/qpid/sys/Time.h|16 13
Modified: src/qpid/sys/TimeoutHandler.h|16 13
Modified: src/qpid/sys/doxygen_summary.h|16 13
Modified: src/qpidd.cpp|16 13
Modified: test/client/client_test.cpp|16 13
Modified: test/client/topic_listener.cpp|16 13
Modified: test/client/topic_publisher.cpp|16 13
Modified: test/include/qpid_test_plugin.h|16 13
Modified: test/unit/qpid/apr/APRBaseTest.cpp|16 13
Modified: test/unit/qpid/broker/AccumulatedAckTest.cpp|16 13
Modified: test/unit/qpid/broker/ChannelTest.cpp|16 13
Modified: test/unit/qpid/broker/ConfigurationTest.cpp|16 13
Modified: test/unit/qpid/broker/ExchangeTest.cpp|16 13
Modified: test/unit/qpid/broker/HeadersExchangeTest.cpp|16 13
Modified: test/unit/qpid/broker/Makefile|16 13
Modified: test/unit/qpid/broker/MessageBuilderTest.cpp|16 13
Modified: test/unit/qpid/broker/MessageTest.cpp|16 13
Modified: test/unit/qpid/broker/QueueRegistryTest.cpp|19 0
Modified: test/unit/qpid/broker/QueueTest.cpp|16 13
Modified: test/unit/qpid/broker/TopicExchangeTest.cpp|18 0
Modified: test/unit/qpid/broker/TxAckTest.cpp|16 13
Modified: test/unit/qpid/broker/TxBufferTest.cpp|16 13
Modified: test/unit/qpid/broker/TxPublishTest.cpp|16 13
Modified: test/unit/qpid/broker/ValueTest.cpp|18 0
Modified: test/unit/qpid/framing/BodyHandlerTest.cpp|16 13
Modified: test/unit/qpid/framing/FieldTableTest.cpp|16 13
Modified: test/unit/qpid/framing/FramingTest.cpp|16 13
Modified: test/unit/qpid/framing/HeaderTest.cpp|16 13
Modified: test/unit/qpid/framing/Makefile|16 13

Revision: 7191e61c8cca0097bfa311bd7e49044ddd91bdcf
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2006 03:28:23
Message:
EventChannel classes, start of epoll-based posix implementation. #MsgLength=66


----
Modified: src/qpid/Exception.h|46 17
Added: src/qpid/posix/EpollEventChannel.cpp|74 0
Added: src/qpid/posix/EpollEventChannel.h|48 0
Modified: src/qpid/posix/Socket.cpp|6 6
Modified: src/qpid/posix/check.cpp|8 6
Modified: src/qpid/posix/check.h|5 3
Added: src/qpid/sys/EventChannel.h|239 0
Modified: src/qpid/sys/Monitor.h|14 14
Modified: src/qpid/sys/SessionHandlerFactory.h|2 0
Modified: src/qpid/sys/Thread.h|2 2
Added: src/qpid/sys/signal.h|46 0
Modified: src/qpidd.cpp|2 2

Revision: d85f33b6770a4907a47630ff6610f0055ef3153c
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2006 03:28:50
Message:
EventChannel classes, start of epoll-based posix implementation. #MsgLength=66


----
Added: test/unit/qpid/posix/EpollEventChannelTest.cpp|71 0

Revision: 731f6bbc4699055be45dfcc4f7f985eaa05db60a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 14/11/2006 04:26:06
Message:
Tidy-up of version code #MsgLength=24


----
Modified: src/qpid/framing/ProtocolInitiation.cpp|4 4
Modified: src/qpid/framing/ProtocolInitiation.h|2 2
Modified: src/qpid/framing/ProtocolVersion.cpp|1 1
Modified: src/qpid/framing/ProtocolVersion.h|7 2

Revision: 6b4e955bc370eaa69d023a13a9af9ceca8bad5e7
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2006 18:28:11
Message:
Added ability for broker to load a message store implementation from a library. #MsgLength=82


----
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Configuration.cpp|6 0
Modified: src/qpid/broker/Configuration.h|3 0
Added: src/qpid/broker/MessageStoreModule.cpp|79 0
Added: src/qpid/broker/MessageStoreModule.h|55 0
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|4 2
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|1 1
Added: src/qpid/sys/Module.h|161 0
Modified: test/unit/qpid/broker/ConfigurationTest.cpp|11 1

Revision: 154e64f795cf61212e3a95358e0d2615df2db7ee
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2006 23:47:00
Message:
Re-enabled tracing of requests sent and received. #MsgLength=52


----
Modified: src/qpid/apr/APRAcceptor.cpp|7 5
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/posix/PosixAcceptor.cpp|1 1
Modified: src/qpid/sys/Acceptor.h|1 1

Revision: 11cc2acc92e26c0cd67dfaec8c30f47d08216fb1
Author: Gordon Sim <gsim@apache.org>
Date: 16/11/2006 22:43:29
Message:
Minor modifications for recovery and debug. #MsgLength=46


----
Modified: src/qpid/broker/Queue.cpp|4 4
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|2 4
Modified: src/qpid/broker/SessionHandlerFactoryImpl.h|0 1
Modified: src/qpid/framing/AMQHeaderBody.cpp|6 3
Modified: src/qpid/framing/FieldTable.cpp|1 1

Revision: 2a0128830c267207acf775914549992ed2b10b45
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2006 19:03:22
Message:
Some fixes and tests for bugs uncovered during testing of persistence. #MsgLength=73


----
Modified: src/qpid/broker/Channel.cpp|2 0
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/SessionHandlerImpl.cpp|17 10
Modified: src/qpid/broker/TxBuffer.cpp|2 0
Modified: test/unit/qpid/broker/TxBufferTest.cpp|34 0

Revision: 94c4c4859dc1a093f6daf4d082ecffe9dc26361c
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2006 04:30:42
Message:
Patch from Andrew Stitcher to fix APR #include using apr-config. Fixed build problems with USE_APR= - builds OK but broker non-functional. #MsgLength=140


----
Modified: options.mk|2 2
Modified: src/qpid/apr/APRBase.h|2 2
Modified: src/qpid/apr/APRPool.h|1 1
Modified: src/qpid/apr/APRSocket.h|1 1
Modified: src/qpid/apr/LFProcessor.h|1 1
Modified: src/qpid/apr/LFSessionContext.h|3 3
Modified: src/qpid/posix/EpollEventChannel.cpp|2 0
Modified: src/qpid/posix/check.cpp|1 1
Modified: src/qpid/sys/Module.h|1 1
Modified: src/qpid/sys/Monitor.h|2 2
Modified: src/qpid/sys/Socket.h|1 1
Modified: src/qpid/sys/Thread.h|2 2
Modified: src/qpid/sys/Time.h|1 1
Modified: src/qpid/sys/signal.h|1 1
Deleted: test/unit/qpid/posix/EpollEventChannelTest.cpp|0 71

Revision: 0960eda68ad6be222a00897432e8b911a2f92210
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2006 19:26:45
Message:
Modifications to recovery process to allow for recovery of default bindings. #MsgLength=79


----
Modified: src/qpid/broker/MessageStore.h|2 5
Modified: src/qpid/broker/MessageStoreModule.cpp|1 1
Modified: src/qpid/broker/MessageStoreModule.h|2 2
Modified: src/qpid/broker/NullMessageStore.cpp|2 2
Modified: src/qpid/broker/NullMessageStore.h|1 3
Modified: src/qpid/broker/QueueRegistry.h|0 2
Added: src/qpid/broker/RecoveryManager.cpp|42 0
Added: src/qpid/broker/RecoveryManager.h|45 0
Modified: src/qpid/broker/SessionHandlerFactoryImpl.cpp|4 1
Modified: test/unit/qpid/broker/TxAckTest.cpp|2 2
Modified: test/unit/qpid/broker/TxPublishTest.cpp|2 2

Revision: 42be4e039632ac8a92700bb830d4e792a2fa3322
Author: Gordon Sim <gsim@apache.org>
Date: 21/11/2006 19:49:14
Message:
Added another example for client api. #MsgLength=40


----
Modified: src/qpid/client/Connector.cpp|9 4
Modified: src/qpid/client/Connector.h|1 0
Added: test/client/echo_service.cpp|197 0

Revision: ac87d50fb3d84ae24dab718b96c162a8e8552a05
Author: Steven Shaw <steshaw@apache.org>
Date: 22/11/2006 03:08:47
Message:
QPID-120 Enabled qpid-cpp to build on RHEL3 with less pain. #MsgLength=61


----
Modified: Makefile|13 1
Added: README.rhel3|15 0
Added: options-rhel3.mk|20 0
Modified: options.mk|7 2
Modified: src/qpid/framing/amqp_types.h|1 1

Revision: 8d4a87c2a1e535fd60cd26e46dd9e98d90e5cb1b
Author: Steven Shaw <steshaw@apache.org>
Date: 22/11/2006 03:38:36
Message:
QPID-121 Added a makefile for use by users after release. #MsgLength=59


----
Added: test/client/Makefile.cppclient.examples|56 0

Revision: bfcd063cfad020f27ac44114b3ec8a8865f1eb4d
Author: Steven Shaw <steshaw@apache.org>
Date: 22/11/2006 04:16:09
Message:
QPID-120 Forget the build.rhel3 script in earlier commit. #MsgLength=59


----
Added: build.rhel3|11 0

Revision: 876e8ca1af68e31d01583296be2b5acf989928c5
Author: Steven Shaw <steshaw@apache.org>
Date: 22/11/2006 05:20:01
Message:
QPID-121 Added script to build a release package of qpid cpp client. #MsgLength=70


----
Modified: README.rhel3|7 0
Added: release.client.rhel3|57 0
Modified: test/client/Makefile.cppclient.examples|1 1

Revision: d5e11dc8ac2665b6c03ced70c84c8fd7e8f0ccff
Author: Gordon Sim <gsim@apache.org>
Date: 22/11/2006 23:08:03
Message:
Temporary fix to avoid type name clashes. Will very shortly move this definition of string into the qpid::framing namespace to avoid any pollution of the global namespace. #MsgLength=174


----
Modified: src/qpid/framing/amqp_types.h|1 2

Revision: 307f89be3e1d5e159e8cb85700680fa7f64a13f7
Author: Gordon Sim <gsim@apache.org>
Date: 23/11/2006 00:18:06
Message:
Enclose any 'using std::string' statements within qpid namespaces to avoid pollution of global namespaces. Explicit use of std::string in many places, especially for client APIs where not already done. #MsgLength=204


----
Modified: src/qpid/broker/Channel.h|2 0
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Modified: src/qpid/broker/Exchange.h|6 4
Modified: src/qpid/broker/ExchangeRegistry.h|4 4
Modified: src/qpid/broker/Message.h|2 1
Modified: src/qpid/broker/MessageStore.h|4 4
Modified: src/qpid/broker/Queue.h|1 0
Modified: src/qpid/broker/RecoveryManager.h|2 2
Modified: src/qpid/broker/TxPublish.h|2 2
Modified: src/qpid/client/Channel.h|1 1
Modified: src/qpid/client/Connection.h|2 2
Modified: src/qpid/client/IncomingMessage.h|2 2
Modified: src/qpid/client/Message.h|1 1
Modified: src/qpid/framing/amqp_types.h|7 0
Modified: test/client/client_test.cpp|1 0
Modified: test/client/echo_service.cpp|1 0
Modified: test/client/topic_listener.cpp|1 0
Modified: test/client/topic_publisher.cpp|1 0

Revision: 83ff3a947f92adce8894faff7274d9fc2c4c989d
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/11/2006 00:57:35
Message:
Merged AMQP version-sensitive generated files with C++ trunk. Phase 1 of merge complete - all locations where version info is required in the framing, broker and client code, the version has been hard-coded to mahor=8, minor=0. Next step: make broker and client version-aware. #MsgLength=277


----
Modified: Makefile|21 10
Modified: options.mk|4 1
Modified: src/qpid/broker/Channel.cpp|3 4
Modified: src/qpid/broker/Channel.h|3 3
Modified: src/qpid/broker/DirectExchange.cpp|3 3
Modified: src/qpid/broker/DirectExchange.h|3 3
Modified: src/qpid/broker/Exchange.h|3 3
Modified: src/qpid/broker/ExchangeBinding.cpp|1 1
Modified: src/qpid/broker/ExchangeBinding.h|2 2
Modified: src/qpid/broker/FanOutExchange.cpp|3 3
Modified: src/qpid/broker/FanOutExchange.h|3 3
Modified: src/qpid/broker/HeadersExchange.cpp|3 3
Modified: src/qpid/broker/HeadersExchange.h|3 3
Modified: src/qpid/broker/Message.cpp|11 2
Modified: src/qpid/broker/Message.h|0 1
Modified: src/qpid/broker/SessionHandlerImpl.cpp|35 29
Modified: src/qpid/broker/SessionHandlerImpl.h|45 25
Modified: src/qpid/broker/TopicExchange.cpp|3 3
Modified: src/qpid/broker/TopicExchange.h|3 3
Modified: src/qpid/client/Channel.cpp|36 30
Modified: src/qpid/client/Channel.h|1 0
Modified: src/qpid/client/Connection.cpp|18 13
Modified: src/qpid/client/Connection.h|1 0
Added: src/qpid/client/MethodBodyInstances.h|101 0
Modified: src/qpid/framing/AMQFrame.cpp|26 10
Modified: src/qpid/framing/AMQFrame.h|5 2
Modified: src/qpid/framing/AMQMethodBody.h|4 1
Modified: src/qpid/framing/BasicHeaderProperties.h|1 1
Modified: src/qpid/framing/amqp_framing.h|3 1
Modified: test/unit/qpid/framing/BodyHandlerTest.cpp|4 1
Modified: test/unit/qpid/framing/FramingTest.cpp|17 13

Revision: b7f3d5fbdc2104f1e7d2ebba11d8fa8500221f4a
Author: Steven Shaw <steshaw@apache.org>
Date: 24/11/2006 02:51:56
Message:
Added echo_service to EXAMPLES #MsgLength=32


----
Modified: test/client/Makefile.cppclient.examples|1 1

Revision: 1a13b8dd51013c723afbda8c7bdcbd8f42bd9ce7
Author: Steven Shaw <steshaw@apache.org>
Date: 24/11/2006 02:53:41
Message:
Renamed (slightly) the rhel3 release tarball #MsgLength=46


----
Modified: release.client.rhel3|1 1

Revision: 655b8866166c8a9fb7eb441e3929dcbefed7f34c
Author: Alan Conway <aconway@apache.org>
Date: 24/11/2006 04:43:40
Message:
Scripts to simplify runnning topictest. topicall is the main script. #MsgLength=70


----
Added: test/bin/broker|45 0
Added: test/bin/env|23 0
Added: test/bin/topicall|25 0
Added: test/bin/topictest|42 0

Revision: 49d82132ec73c0e21de714a6a81819bc0dd68a00
Author: Gordon Sim <gsim@apache.org>
Date: 25/11/2006 01:21:47
Message:
Initial sketching out of staging functionality for large messages (i.e. allowing content to be stored as it arrives, rather than collecting it in memory until complete). #MsgLength=172


----
Modified: src/qpid/broker/Channel.cpp|2 0
Modified: src/qpid/broker/Message.cpp|68 27
Modified: src/qpid/broker/Message.h|30 2
Modified: src/qpid/broker/MessageBuilder.cpp|14 3
Modified: src/qpid/broker/MessageBuilder.h|5 1
Modified: src/qpid/broker/MessageStore.h|19 0
Modified: src/qpid/broker/MessageStoreModule.cpp|10 0
Modified: src/qpid/broker/MessageStoreModule.h|2 0
Modified: src/qpid/broker/NullMessageStore.cpp|37 17
Modified: src/qpid/broker/NullMessageStore.h|14 10
Modified: test/unit/qpid/broker/MessageBuilderTest.cpp|84 0
Modified: test/unit/qpid/broker/TxAckTest.cpp|3 12
Modified: test/unit/qpid/broker/TxPublishTest.cpp|3 11

Revision: b656ec504300392a53b00fac3e69e521adab291a
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2006 00:22:27
Message:
Bug fix, basic_qos_ok was set to wrong type. #MsgLength=47


----
Modified: src/qpid/client/MethodBodyInstances.h|29 29

Revision: 403f2cdff856a0335f049102d79b315956051ede
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2006 23:25:35
Message:
Modifications to allow loading of message data in chunks, refragmentation of messages, plus some related refactoring and tests. #MsgLength=129


----
Added: src/qpid/broker/Content.h|42 0
Added: src/qpid/broker/InMemoryContent.cpp|69 0
Added: src/qpid/broker/InMemoryContent.h|45 0
Added: src/qpid/broker/LazyLoadedContent.cpp|58 0
Added: src/qpid/broker/LazyLoadedContent.h|45 0
Modified: src/qpid/broker/Message.cpp|50 41
Modified: src/qpid/broker/Message.h|17 9
Modified: src/qpid/broker/MessageBuilder.cpp|13 8
Modified: src/qpid/broker/MessageBuilder.h|1 1
Modified: src/qpid/broker/MessageStore.h|18 3
Modified: src/qpid/broker/MessageStoreModule.cpp|10 0
Modified: src/qpid/broker/MessageStoreModule.h|2 0
Modified: src/qpid/broker/NullMessageStore.cpp|21 0
Modified: src/qpid/broker/NullMessageStore.h|13 11
Added: test/unit/qpid/broker/InMemoryContentTest.cpp|97 0
Added: test/unit/qpid/broker/LazyLoadedContentTest.cpp|122 0
Modified: test/unit/qpid/broker/MessageBuilderTest.cpp|12 6
Modified: test/unit/qpid/broker/MessageTest.cpp|4 7

Revision: a6c91474335f480ffc338723f5a44c5647d08a6d
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2006 03:49:41
Message:
Bug fixes: corrected fragmentation of large messages in client, set buffer size on server to be the same as the max frame size (this still needs some work to be better managed and configurable). #MsgLength=197


----
Modified: src/qpid/apr/LFSessionContext.cpp|2 2
Modified: src/qpid/client/Channel.cpp|11 9

Revision: 6ac00869dc92d70466337a154b6d1094750a8e9f
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2006 22:36:08
Message:
Posix EventChannel implementation using epoll. Placeholder for kevents. Dynamic thread pool EventChannelThreads to serve EventChannel. Misc cleanup/enhancements. #MsgLength=163


----
Modified: Makefile|18 9
Modified: src/qpid/Exception.cpp|19 1
Modified: src/qpid/Exception.h|13 30
Added: src/qpid/ExceptionHolder.cpp|32 0
Added: src/qpid/ExceptionHolder.h|60 0
Modified: src/qpid/QpidError.cpp|12 3
Modified: src/qpid/QpidError.h|34 16
Modified: src/qpid/apr/APRBase.cpp|2 1
Modified: src/qpid/apr/LFProcessor.cpp|2 2
Modified: src/qpid/apr/Socket.cpp|18 14
Modified: src/qpid/broker/AutoDelete.cpp|1 1
Modified: src/qpid/broker/AutoDelete.h|2 3
Modified: src/qpid/broker/Configuration.cpp|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|2 1
Modified: src/qpid/broker/Queue.cpp|3 3
Modified: src/qpid/broker/TopicExchange.cpp|2 1
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/Connector.cpp|10 7
Deleted: src/qpid/posix/EpollEventChannel.cpp|0 76
Added: src/qpid/posix/EventChannel.cpp|325 0
Added: src/qpid/posix/EventChannel.h|176 0
Added: src/qpid/posix/EventChannelThreads.cpp|119 0
Added: src/qpid/posix/EventChannelThreads.h|92 0
Modified: src/qpid/posix/Socket.cpp|43 15
Modified: src/qpid/posix/check.cpp|9 3
Modified: src/qpid/posix/check.h|27 4
Added: src/qpid/sys/AtomicCount.h|71 0
Deleted: src/qpid/sys/EventChannel.h|0 239
Modified: src/qpid/sys/Monitor.h|25 128
Added: src/qpid/sys/Mutex.h|151 0
Renamed: src/qpid/sys/Runnable.cpp [from src/qpid/posix/EpollEventChannel.h]|7 23
Modified: src/qpid/sys/Runnable.h|16 4
Modified: src/qpid/sys/Socket.h|25 5
Modified: src/qpid/sys/Thread.h|39 3
Modified: src/qpid/sys/Time.cpp|18 21
Modified: src/qpid/sys/Time.h|14 32
Modified: test/client/client_test.cpp|3 1
Modified: test/client/echo_service.cpp|2 2
Modified: test/client/topic_listener.cpp|7 6
Modified: test/client/topic_publisher.cpp|7 5
Added: test/unit/qpid/ExceptionTest.cpp|61 0
Added: test/unit/qpid/posix/EventChannelTest.cpp|187 0
Added: test/unit/qpid/posix/EventChannelThreadsTest.cpp|247 0

Revision: b42c146e01b68fb5088518c559c657c43c8f3379
Author: Alan Conway <aconway@apache.org>
Date: 30/11/2006 01:50:44
Message:
Fix apr-1 header includes. #MsgLength=28


----
Modified: src/qpid/sys/Monitor.h|1 1
Modified: src/qpid/sys/Mutex.h|1 1

Revision: 6b7cdccb51ce2f97f96c4212139b0758e38ec562
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/11/2006 04:11:04
Message:
no longer used #MsgLength=17


----
Deleted: tools/saxon8.jar|0 0

Revision: 29f1115aaeb65eb1c746bcc728928b8e64579564
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/11/2006 04:12:14
Message:
Added license files #MsgLength=22


----
Added: LICENSE.txt|203 0
Added: NOTICE.txt|21 0

Revision: 11cf68284ae50c85298d798e8902e71cc544733b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/11/2006 04:33:06
Message:
Removed old xslt generation files no longer used. #MsgLength=52


----
Deleted: etc/stylesheets/amqp_client.xsl|0 175
Deleted: etc/stylesheets/amqp_client_handler_impl.xsl|0 207
Deleted: etc/stylesheets/amqp_client_operations.xsl|0 125
Deleted: etc/stylesheets/amqp_consts.xsl|0 97
Deleted: etc/stylesheets/amqp_server.xsl|0 207
Deleted: etc/stylesheets/amqp_server_handler_impl.xsl|0 207
Deleted: etc/stylesheets/amqp_server_operations.xsl|0 134
Deleted: etc/stylesheets/code_gen.xsl|0 111
Deleted: etc/stylesheets/code_utils.xsl|0 213
Deleted: etc/stylesheets/convert_0.81.xsl|0 427
Deleted: etc/stylesheets/cpp.xsl|0 335
Deleted: etc/stylesheets/framing.xsl|0 69
Deleted: etc/stylesheets/prepare1.xsl|0 124
Deleted: etc/stylesheets/prepare2.xsl|0 74
Deleted: etc/stylesheets/prepare3.xsl|0 74
Deleted: etc/stylesheets/registry.xsl|0 32
Deleted: etc/stylesheets/utils.xsl|0 214

Revision: c5c470383c1808d782b11a1e8a3385c990430257
Author: Steven Shaw <steshaw@apache.org>
Date: 30/11/2006 20:49:10
Message:
Added some comments about building a debug release for RHEL3 #MsgLength=61


----
Modified: README.rhel3|7 0
Modified: options-rhel3.mk|1 0
Modified: release.client.rhel3|4 2

Revision: d20dfa0c0f175932519e3e68e66d08d6b82b7d41
Author: Steven Shaw <steshaw@apache.org>
Date: 30/11/2006 22:18:03
Message:
Changes for building on RHEL3. Also bundle debug and release libs #MsgLength=66


----
Modified: Makefile|1 0
Modified: README.rhel3|10 16
Modified: build.rhel3|7 0
Modified: options-rhel3.mk|0 3
Modified: release.client.rhel3|16 8
Modified: src/qpid/ExceptionHolder.h|2 0

Revision: 97cedc65f4c4f6b8ce8956a4b981badd80beb7a7
Author: Gordon Sim <gsim@apache.org>
Date: 30/11/2006 22:48:24
Message:
Some further tweaks to MessageStore interface. #MsgLength=49


----
Modified: src/qpid/broker/LazyLoadedContent.cpp|5 5
Modified: src/qpid/broker/LazyLoadedContent.h|2 2
Modified: src/qpid/broker/Message.cpp|5 1
Modified: src/qpid/broker/MessageBuilder.cpp|1 2
Modified: src/qpid/broker/MessageStore.h|18 8
Modified: src/qpid/broker/MessageStoreModule.cpp|6 6
Modified: src/qpid/broker/MessageStoreModule.h|3 3
Modified: src/qpid/broker/NullMessageStore.cpp|3 3
Modified: src/qpid/broker/NullMessageStore.h|3 3
Modified: test/unit/qpid/broker/LazyLoadedContentTest.cpp|2 2

Revision: d0408cf61976679404effeceaee12929f76fe193
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2006 00:41:52
Message:
Patches from Andrew Stitcher to fix QPID-140, QPID-141. #MsgLength=57


----
Modified: src/qpid/framing/AMQFrame.cpp|11 7
Modified: src/qpid/framing/AMQFrame.h|2 1
Modified: test/bin/topictest|1 1

Revision: b36714527c3b18eb7ce25b0c8448441705a6d6a9
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2006 13:11:45
Message:
2006-12-01  Jim Meyering  <meyering@redhat.com> #MsgLength=1084


----
Deleted: Makefile|0 171
Added: Makefile.am|10 0
Modified: README|68 55
Added: build-aux/compile|142 0
Added: build-aux/config.guess|1501 0
Added: build-aux/config.rpath|614 0
Added: build-aux/config.sub|1619 0
Added: build-aux/depcomp|584 0
Added: build-aux/install-sh|507 0
Added: build-aux/ltmain.sh|6871 0
Added: build-aux/mdate-sh|201 0
Added: build-aux/missing|367 0
Added: configure.ac|93 0
Added: gen/Makefile.am|38 0
Added: gen/gen-src.mk|99 0
Added: lib/Makefile.am|1 0
Renamed: lib/broker/AccumulatedAck.cpp [from src/qpid/broker/AccumulatedAck.cpp]|1 1
Renamed: lib/broker/AccumulatedAck.h [from src/qpid/broker/AccumulatedAck.h]|0 0
Renamed: lib/broker/AutoDelete.cpp [from src/qpid/broker/AutoDelete.cpp]|2 2
Renamed: lib/broker/AutoDelete.h [from src/qpid/broker/AutoDelete.h]|4 4
Renamed: lib/broker/Binding.h [from src/qpid/broker/Binding.h]|1 1
Renamed: lib/broker/Broker.cpp [from src/qpid/broker/Broker.cpp]|1 1
Renamed: lib/broker/Broker.h [from src/qpid/broker/Broker.h]|5 5
Renamed: lib/broker/BrokerChannel.cpp [from src/qpid/broker/Channel.cpp]|2 2
Renamed: lib/broker/BrokerChannel.h [from src/qpid/broker/Channel.h]|20 20
Renamed: lib/broker/BrokerExchange.h [from src/qpid/broker/Exchange.h]|3 3
Renamed: lib/broker/BrokerMessage.cpp [from src/qpid/broker/Message.cpp]|7 7
Renamed: lib/broker/BrokerMessage.h [from src/qpid/broker/Message.h]|7 7
Renamed: lib/broker/BrokerQueue.cpp [from src/qpid/broker/Queue.cpp]|4 4
Renamed: lib/broker/BrokerQueue.h [from src/qpid/broker/Queue.h]|6 6
Renamed: lib/broker/Configuration.cpp [from src/qpid/broker/Configuration.cpp]|1 1
Renamed: lib/broker/Configuration.h [from src/qpid/broker/Configuration.h]|1 1
Renamed: lib/broker/ConnectionToken.h [from src/qpid/broker/ConnectionToken.h]|0 0
Renamed: lib/broker/Consumer.h [from src/qpid/broker/Consumer.h]|1 1
Renamed: lib/broker/Content.h [from src/qpid/broker/Content.h]|3 3
Renamed: lib/broker/DeletingTxOp.cpp [from src/qpid/broker/DeletingTxOp.cpp]|1 1
Renamed: lib/broker/DeletingTxOp.h [from src/qpid/broker/DeletingTxOp.h]|1 1
Renamed: lib/broker/Deliverable.h [from src/qpid/broker/Deliverable.h]|1 1
Renamed: lib/broker/DeliverableMessage.cpp [from src/qpid/broker/DeliverableMessage.cpp]|1 1
Renamed: lib/broker/DeliverableMessage.h [from src/qpid/broker/DeliverableMessage.h]|3 3
Renamed: lib/broker/DeliveryRecord.cpp [from src/qpid/broker/DeliveryRecord.cpp]|2 2
Renamed: lib/broker/DeliveryRecord.h [from src/qpid/broker/DeliveryRecord.h]|4 4
Renamed: lib/broker/DirectExchange.cpp [from src/qpid/broker/DirectExchange.cpp]|2 2
Renamed: lib/broker/DirectExchange.h [from src/qpid/broker/DirectExchange.h]|5 5
Renamed: lib/broker/ExchangeBinding.cpp [from src/qpid/broker/ExchangeBinding.cpp]|2 2
Renamed: lib/broker/ExchangeBinding.h [from src/qpid/broker/ExchangeBinding.h]|3 3
Renamed: lib/broker/ExchangeRegistry.cpp [from src/qpid/broker/ExchangeRegistry.cpp]|5 5
Renamed: lib/broker/ExchangeRegistry.h [from src/qpid/broker/ExchangeRegistry.h]|2 2
Renamed: lib/broker/FanOutExchange.cpp [from src/qpid/broker/FanOutExchange.cpp]|2 2
Renamed: lib/broker/FanOutExchange.h [from src/qpid/broker/FanOutExchange.h]|5 5
Renamed: lib/broker/HeadersExchange.cpp [from src/qpid/broker/HeadersExchange.cpp]|4 4
Renamed: lib/broker/HeadersExchange.h [from src/qpid/broker/HeadersExchange.h]|5 5
Renamed: lib/broker/InMemoryContent.cpp [from src/qpid/broker/InMemoryContent.cpp]|1 1
Renamed: lib/broker/InMemoryContent.h [from src/qpid/broker/InMemoryContent.h]|1 1
Renamed: lib/broker/LazyLoadedContent.cpp [from src/qpid/broker/LazyLoadedContent.cpp]|1 1
Renamed: lib/broker/LazyLoadedContent.h [from src/qpid/broker/LazyLoadedContent.h]|2 2
Added: lib/broker/Makefile.am|78 0
Renamed: lib/broker/MessageBuilder.cpp [from src/qpid/broker/MessageBuilder.cpp]|3 3
Renamed: lib/broker/MessageBuilder.h [from src/qpid/broker/MessageBuilder.h]|7 7
Renamed: lib/broker/MessageStore.h [from src/qpid/broker/MessageStore.h]|3 3
Renamed: lib/broker/MessageStoreModule.cpp [from src/qpid/broker/MessageStoreModule.cpp]|1 1
Renamed: lib/broker/MessageStoreModule.h [from src/qpid/broker/MessageStoreModule.h]|5 5
Renamed: lib/broker/NameGenerator.cpp [from src/qpid/broker/NameGenerator.cpp]|1 1
Renamed: lib/broker/NameGenerator.h [from src/qpid/broker/NameGenerator.h]|1 1
Renamed: lib/broker/NullMessageStore.cpp [from src/qpid/broker/NullMessageStore.cpp]|3 3
Renamed: lib/broker/NullMessageStore.h [from src/qpid/broker/NullMessageStore.h]|3 3
Renamed: lib/broker/Prefetch.h [from src/qpid/broker/Prefetch.h]|1 1
Renamed: lib/broker/QueueRegistry.cpp [from src/qpid/broker/QueueRegistry.cpp]|2 2
Renamed: lib/broker/QueueRegistry.h [from src/qpid/broker/QueueRegistry.h]|2 2
Renamed: lib/broker/RecoveryManager.cpp [from src/qpid/broker/RecoveryManager.cpp]|1 1
Renamed: lib/broker/RecoveryManager.h [from src/qpid/broker/RecoveryManager.h]|2 2
Renamed: lib/broker/SessionHandlerFactoryImpl.cpp [from src/qpid/broker/SessionHandlerFactoryImpl.cpp]|7 7
Renamed: lib/broker/SessionHandlerFactoryImpl.h [from src/qpid/broker/SessionHandlerFactoryImpl.h]|10 10
Renamed: lib/broker/SessionHandlerImpl.cpp [from src/qpid/broker/SessionHandlerImpl.cpp]|4 4
Renamed: lib/broker/SessionHandlerImpl.h [from src/qpid/broker/SessionHandlerImpl.h]|15 15
Renamed: lib/broker/TopicExchange.cpp [from src/qpid/broker/TopicExchange.cpp]|2 2
Renamed: lib/broker/TopicExchange.h [from src/qpid/broker/TopicExchange.h]|5 5
Renamed: lib/broker/TransactionalStore.h [from src/qpid/broker/TransactionalStore.h]|0 0
Renamed: lib/broker/TxAck.cpp [from src/qpid/broker/TxAck.cpp]|1 1
Renamed: lib/broker/TxAck.h [from src/qpid/broker/TxAck.h]|3 3
Renamed: lib/broker/TxBuffer.cpp [from src/qpid/broker/TxBuffer.cpp]|1 1
Renamed: lib/broker/TxBuffer.h [from src/qpid/broker/TxBuffer.h]|2 2
Renamed: lib/broker/TxOp.h [from src/qpid/broker/TxOp.h]|1 1
Renamed: lib/broker/TxPublish.cpp [from src/qpid/broker/TxPublish.cpp]|1 1
Renamed: lib/broker/TxPublish.h [from src/qpid/broker/TxPublish.h]|5 5
Renamed: lib/client/ClientChannel.cpp [from src/qpid/client/Channel.cpp]|5 5
Renamed: lib/client/ClientChannel.h [from src/qpid/client/Channel.h]|9 9
Renamed: lib/client/ClientExchange.cpp [from src/qpid/client/Exchange.cpp]|1 1
Renamed: lib/client/ClientExchange.h [from src/qpid/client/Exchange.h]|0 0
Renamed: lib/client/ClientMessage.cpp [from src/qpid/client/Message.cpp]|1 1
Renamed: lib/client/ClientMessage.h [from src/qpid/client/Message.h]|1 1
Renamed: lib/client/ClientQueue.cpp [from src/qpid/client/Queue.cpp]|1 1
Renamed: lib/client/ClientQueue.h [from src/qpid/client/Queue.h]|0 0
Renamed: lib/client/Connection.cpp [from src/qpid/client/Connection.cpp]|5 5
Renamed: lib/client/Connection.h [from src/qpid/client/Connection.h]|12 12
Renamed: lib/client/Connector.cpp [from src/qpid/client/Connector.cpp]|2 2
Renamed: lib/client/Connector.h [from src/qpid/client/Connector.h]|9 9
Renamed: lib/client/IncomingMessage.cpp [from src/qpid/client/IncomingMessage.cpp]|2 2
Renamed: lib/client/IncomingMessage.h [from src/qpid/client/IncomingMessage.h]|2 2
Added: lib/client/Makefile.am|31 0
Renamed: lib/client/MessageListener.cpp [from src/qpid/client/MessageListener.cpp]|1 1
Renamed: lib/client/MessageListener.h [from src/qpid/client/MessageListener.h]|1 1
Renamed: lib/client/MethodBodyInstances.h [from src/qpid/client/MethodBodyInstances.h]|1 1
Renamed: lib/client/ResponseHandler.cpp [from src/qpid/client/ResponseHandler.cpp]|3 3
Renamed: lib/client/ResponseHandler.h [from src/qpid/client/ResponseHandler.h]|2 2
Renamed: lib/client/ReturnedMessageHandler.cpp [from src/qpid/client/ReturnedMessageHandler.cpp]|1 1
Renamed: lib/client/ReturnedMessageHandler.h [from src/qpid/client/ReturnedMessageHandler.h]|1 1
Renamed: lib/common/Exception.cpp [from src/qpid/Exception.cpp]|1 1
Renamed: lib/common/Exception.h [from src/qpid/Exception.h]|0 0
Renamed: lib/common/ExceptionHolder.cpp [from src/qpid/ExceptionHolder.cpp]|0 0
Renamed: lib/common/ExceptionHolder.h [from src/qpid/ExceptionHolder.h]|1 1
Added: lib/common/Makefile.am|109 0
Renamed: lib/common/QpidError.cpp [from src/qpid/QpidError.cpp]|1 1
Renamed: lib/common/QpidError.h [from src/qpid/QpidError.h]|1 1
Renamed: lib/common/SharedObject.h [from src/qpid/SharedObject.h]|0 0
Renamed: lib/common/framing/AMQBody.cpp [from src/qpid/framing/AMQBody.cpp]|1 1
Renamed: lib/common/framing/AMQBody.h [from src/qpid/framing/AMQBody.h]|2 2
Renamed: lib/common/framing/AMQContentBody.cpp [from src/qpid/framing/AMQContentBody.cpp]|1 1
Renamed: lib/common/framing/AMQContentBody.h [from src/qpid/framing/AMQContentBody.h]|3 3
Renamed: lib/common/framing/AMQDataBlock.h [from src/qpid/framing/AMQDataBlock.h]|1 1
Renamed: lib/common/framing/AMQFrame.cpp [from src/qpid/framing/AMQFrame.cpp]|2 2
Renamed: lib/common/framing/AMQFrame.h [from src/qpid/framing/AMQFrame.h]|9 9
Renamed: lib/common/framing/AMQHeaderBody.cpp [from src/qpid/framing/AMQHeaderBody.cpp]|3 3
Renamed: lib/common/framing/AMQHeaderBody.h [from src/qpid/framing/AMQHeaderBody.h]|4 4
Renamed: lib/common/framing/AMQHeartbeatBody.cpp [from src/qpid/framing/AMQHeartbeatBody.cpp]|1 1
Renamed: lib/common/framing/AMQHeartbeatBody.h [from src/qpid/framing/AMQHeartbeatBody.h]|3 3
Renamed: lib/common/framing/AMQMethodBody.cpp [from src/qpid/framing/AMQMethodBody.cpp]|2 2
Renamed: lib/common/framing/AMQMethodBody.h [from src/qpid/framing/AMQMethodBody.h]|4 4
Renamed: lib/common/framing/BasicHeaderProperties.cpp [from src/qpid/framing/BasicHeaderProperties.cpp]|1 1
Renamed: lib/common/framing/BasicHeaderProperties.h [from src/qpid/framing/BasicHeaderProperties.h]|4 4
Renamed: lib/common/framing/BodyHandler.cpp [from src/qpid/framing/BodyHandler.cpp]|1 1
Renamed: lib/common/framing/BodyHandler.h [from src/qpid/framing/BodyHandler.h]|4 4
Renamed: lib/common/framing/Buffer.cpp [from src/qpid/framing/Buffer.cpp]|2 2
Renamed: lib/common/framing/Buffer.h [from src/qpid/framing/Buffer.h]|1 1
Renamed: lib/common/framing/FieldTable.cpp [from src/qpid/framing/FieldTable.cpp]|4 4
Renamed: lib/common/framing/FieldTable.h [from src/qpid/framing/FieldTable.h]|1 1
Renamed: lib/common/framing/HeaderProperties.h [from src/qpid/framing/HeaderProperties.h]|2 2
Renamed: lib/common/framing/InitiationHandler.cpp [from src/qpid/framing/InitiationHandler.cpp]|1 1
Renamed: lib/common/framing/InitiationHandler.h [from src/qpid/framing/InitiationHandler.h]|1 1
Renamed: lib/common/framing/InputHandler.h [from src/qpid/framing/InputHandler.h]|1 1
Renamed: lib/common/framing/OutputHandler.h [from src/qpid/framing/OutputHandler.h]|1 1
Renamed: lib/common/framing/ProtocolInitiation.cpp [from src/qpid/framing/ProtocolInitiation.cpp]|1 1
Renamed: lib/common/framing/ProtocolInitiation.h [from src/qpid/framing/ProtocolInitiation.h]|4 4
Renamed: lib/common/framing/ProtocolVersion.cpp [from src/qpid/framing/ProtocolVersion.cpp]|1 1
Renamed: lib/common/framing/ProtocolVersion.h [from src/qpid/framing/ProtocolVersion.h]|1 1
Renamed: lib/common/framing/ProtocolVersionException.cpp [from src/qpid/framing/ProtocolVersionException.cpp]|1 1
Renamed: lib/common/framing/ProtocolVersionException.h [from src/qpid/framing/ProtocolVersionException.h]|2 2
Renamed: lib/common/framing/Value.cpp [from src/qpid/framing/Value.cpp]|4 4
Renamed: lib/common/framing/Value.h [from src/qpid/framing/Value.h]|2 2
Renamed: lib/common/framing/amqp_framing.h [from src/qpid/sys/doxygen_summary.h]|16 10
Renamed: lib/common/framing/amqp_types.h [from src/qpid/framing/amqp_types.h]|0 0
Renamed: lib/common/sys/Acceptor.h [from src/qpid/sys/Acceptor.h]|1 1
Renamed: lib/common/sys/AtomicCount.h [from src/qpid/sys/AtomicCount.h]|0 0
Renamed: lib/common/sys/Module.h [from src/qpid/sys/Module.h]|3 3
Renamed: lib/common/sys/Monitor.h [from src/qpid/sys/Monitor.h]|2 2
Renamed: lib/common/sys/Mutex.h [from src/qpid/sys/Mutex.h]|3 3
Renamed: lib/common/sys/Runnable.cpp [from src/qpid/sys/Runnable.cpp]|0 0
Renamed: lib/common/sys/Runnable.h [from src/qpid/sys/Runnable.h]|0 0
Renamed: lib/common/sys/SessionContext.h [from src/qpid/sys/SessionContext.h]|1 1
Renamed: lib/common/sys/SessionHandler.h [from src/qpid/sys/SessionHandler.h]|4 4
Renamed: lib/common/sys/SessionHandlerFactory.h [from src/qpid/sys/SessionHandlerFactory.h]|0 0
Renamed: lib/common/sys/ShutdownHandler.h [from src/qpid/sys/ShutdownHandler.h]|0 0
Renamed: lib/common/sys/Socket.h [from src/qpid/sys/Socket.h]|1 1
Renamed: lib/common/sys/Thread.h [from src/qpid/sys/Thread.h]|4 4
Renamed: lib/common/sys/Time.cpp [from src/qpid/sys/Time.cpp]|0 0
Renamed: lib/common/sys/Time.h [from src/qpid/sys/Time.h]|0 0
Renamed: lib/common/sys/TimeoutHandler.h [from src/qpid/sys/TimeoutHandler.h]|0 0
Renamed: lib/common/sys/apr/APRAcceptor.cpp [from src/qpid/apr/APRAcceptor.cpp]|2 2
Renamed: lib/common/sys/apr/APRBase.cpp [from src/qpid/apr/APRBase.cpp]|1 1
Renamed: lib/common/sys/apr/APRBase.h [from src/qpid/apr/APRBase.h]|0 0
Renamed: lib/common/sys/apr/APRPool.cpp [from src/qpid/apr/APRPool.cpp]|0 0
Renamed: lib/common/sys/apr/APRPool.h [from src/qpid/apr/APRPool.h]|0 0
Renamed: lib/common/sys/apr/APRSocket.cpp [from src/qpid/apr/APRSocket.cpp]|0 0
Renamed: lib/common/sys/apr/APRSocket.h [from src/qpid/apr/APRSocket.h]|1 1
Renamed: lib/common/sys/apr/LFProcessor.cpp [from src/qpid/apr/LFProcessor.cpp]|1 1
Renamed: lib/common/sys/apr/LFProcessor.h [from src/qpid/apr/LFProcessor.h]|3 3
Renamed: lib/common/sys/apr/LFSessionContext.cpp [from src/qpid/apr/LFSessionContext.cpp]|1 1
Renamed: lib/common/sys/apr/LFSessionContext.h [from src/qpid/apr/LFSessionContext.h]|5 5
Renamed: lib/common/sys/apr/Socket.cpp [from src/qpid/apr/Socket.cpp]|3 3
Renamed: lib/common/sys/apr/Thread.cpp [from src/qpid/apr/Thread.cpp]|1 1
Renamed: lib/common/sys/posix/EventChannel.cpp [from src/qpid/posix/EventChannel.cpp]|2 2
Renamed: lib/common/sys/posix/EventChannel.h [from src/qpid/posix/EventChannel.h]|2 2
Renamed: lib/common/sys/posix/EventChannelThreads.cpp [from src/qpid/posix/EventChannelThreads.cpp]|1 1
Renamed: lib/common/sys/posix/EventChannelThreads.h [from src/qpid/posix/EventChannelThreads.h]|5 5
Renamed: lib/common/sys/posix/PosixAcceptor.cpp [from src/qpid/posix/PosixAcceptor.cpp]|2 2
Renamed: lib/common/sys/posix/Socket.cpp [from src/qpid/posix/Socket.cpp]|3 3
Renamed: lib/common/sys/posix/Thread.cpp [from src/qpid/posix/Thread.cpp]|1 1
Renamed: lib/common/sys/posix/check.cpp [from src/qpid/posix/check.cpp]|0 0
Renamed: lib/common/sys/posix/check.h [from src/qpid/posix/check.h]|1 1
Added: m4/clock_time.m4|30 0
Added: m4/compiler-flags.m4|23 0
Added: m4/extensions.m4|58 0
Added: src/Makefile.am|14 0
Deleted: src/qpid/framing/amqp_framing.h|0 36
Deleted: src/qpid/sys/signal.h|0 46
Modified: src/qpidd.cpp|4 4
Deleted: test/client/Makefile.cppclient.examples|0 56
Deleted: test/unit/qpid/broker/Makefile|0 23
Deleted: test/unit/qpid/broker/ValueTest.cpp|0 102
Deleted: test/unit/qpid/framing/BodyHandlerTest.cpp|0 109
Deleted: test/unit/qpid/framing/FramingTest.cpp|0 149
Deleted: test/unit/qpid/framing/HeaderTest.cpp|0 141
Deleted: test/unit/qpid/framing/Makefile|0 24
Deleted: test/unit/qpid/posix/EventChannelTest.cpp|0 187
Deleted: test/unit/qpid/posix/EventChannelThreadsTest.cpp|0 247
Renamed: tests/APRBaseTest.cpp [from test/unit/qpid/apr/APRBaseTest.cpp]|1 1
Renamed: tests/AccumulatedAckTest.cpp [from test/unit/qpid/broker/AccumulatedAckTest.cpp]|1 1
Added: tests/BodyHandlerTest.cpp|109 0
Renamed: tests/ChannelTest.cpp [from test/unit/qpid/broker/ChannelTest.cpp]|2 2
Renamed: tests/ConfigurationTest.cpp [from test/unit/qpid/broker/ConfigurationTest.cpp]|1 1
Added: tests/EventChannelTest.cpp|187 0
Added: tests/EventChannelThreadsTest.cpp|247 0
Renamed: tests/ExceptionTest.cpp [from test/unit/qpid/ExceptionTest.cpp]|1 1
Renamed: tests/ExchangeTest.cpp [from test/unit/qpid/broker/ExchangeTest.cpp]|5 5
Renamed: tests/FieldTableTest.cpp [from test/unit/qpid/framing/FieldTableTest.cpp]|1 1
Added: tests/FramingTest.cpp|149 0
Added: tests/HeaderTest.cpp|141 0
Renamed: tests/HeadersExchangeTest.cpp [from test/unit/qpid/broker/HeadersExchangeTest.cpp]|3 3
Renamed: tests/InMemoryContentTest.cpp [from test/unit/qpid/broker/InMemoryContentTest.cpp]|1 1
Renamed: tests/LazyLoadedContentTest.cpp [from test/unit/qpid/broker/LazyLoadedContentTest.cpp]|2 2
Added: tests/Makefile.am|100 0
Renamed: tests/MessageBuilderTest.cpp [from test/unit/qpid/broker/MessageBuilderTest.cpp]|5 5
Renamed: tests/MessageTest.cpp [from test/unit/qpid/broker/MessageTest.cpp]|1 1
Renamed: tests/QueueRegistryTest.cpp [from test/unit/qpid/broker/QueueRegistryTest.cpp]|1 1
Renamed: tests/QueueTest.cpp [from test/unit/qpid/broker/QueueTest.cpp]|2 2
Renamed: tests/TopicExchangeTest.cpp [from test/unit/qpid/broker/TopicExchangeTest.cpp]|1 1
Renamed: tests/TxAckTest.cpp [from test/unit/qpid/broker/TxAckTest.cpp]|3 3
Renamed: tests/TxBufferTest.cpp [from test/unit/qpid/broker/TxBufferTest.cpp]|1 1
Renamed: tests/TxPublishTest.cpp [from test/unit/qpid/broker/TxPublishTest.cpp]|3 3
Added: tests/ValueTest.cpp|102 0
Renamed: tests/broker [from test/bin/broker]|0 0
Renamed: tests/client_test.cpp [from test/client/client_test.cpp]|7 7
Renamed: tests/echo_service.cpp [from test/client/echo_service.cpp]|7 7
Renamed: tests/env [from test/bin/env]|0 0
Added: tests/gen.mk|101 0
Renamed: tests/qpid_test_plugin.h [from test/include/qpid_test_plugin.h]|0 0
Renamed: tests/topic_listener.cpp [from test/client/topic_listener.cpp]|7 7
Renamed: tests/topic_publisher.cpp [from test/client/topic_publisher.cpp]|8 8
Renamed: tests/topicall [from test/bin/topicall]|0 0
Renamed: tests/topictest [from test/bin/topictest]|0 0

Revision: 440b63f0298e05a854ff6aa53016eb14073ac126
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2006 13:13:31
Message:
Script to bootstrap autconf/automake in a fresh checkout. #MsgLength=59


----
Added: bootstrap|8 0

Revision: 4baa20e0c3d7cf7a6a23da23b2797fc0cdb9f0ff
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2006 15:36:35
Message:
Buliding APR code, running python tests. #MsgLength=42


----
Modified: configure.ac|2 1
Modified: lib/broker/Makefile.am|2 1
Modified: lib/client/Makefile.am|2 1
Modified: lib/common/Makefile.am|34 27
Modified: tests/Makefile.am|11 4
Deleted: tests/gen.mk|0 101

Revision: df81dde943c2b52272921fff4b79a09fcb53fef6
Author: Gordon Sim <gsim@apache.org>
Date: 01/12/2006 21:14:15
Message:
Fix to test. Throw exception where previously printed warning. #MsgLength=65


----
Modified: lib/broker/BrokerMessage.cpp|1 0
Modified: tests/MessageBuilderTest.cpp|2 2

Revision: 681dde8b964e25101cec92a9179023c32e670454
Author: Gordon Sim <gsim@apache.org>
Date: 01/12/2006 23:14:01
Message:
Modification to ensure lazy loading is setup correctly where required on recovery. #MsgLength=85


----
Modified: lib/broker/BrokerQueue.cpp|3 0

Revision: d2f95b5fdccee16ef777b2389dc8de9a3f1500f0
Author: Gordon Sim <gsim@apache.org>
Date: 01/12/2006 23:15:18
Message:
Path from Jim Meyering (sent to qpid-dev list) to fix issue with gen.mk plus apr dependencies etc. #MsgLength=101


----
Modified: bootstrap|7 2
Modified: configure.ac|9 1
Modified: lib/broker/Makefile.am|7 7
Modified: lib/client/Makefile.am|7 7
Modified: lib/common/Makefile.am|8 8

Revision: 5b6233c9fcc6337f7b770ed9e965ffbc45e01d57
Author: Gordon Sim <gsim@apache.org>
Date: 01/12/2006 23:42:07
Message:
Further checkin of previous patch ( I seem to have done something wrong to have missed it first time round). #MsgLength=111


----
Modified: tests/Makefile.am|18 19

Revision: cfb1e264b87a5d4ebd2c0a891fe617fbc44bfe9c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 02/12/2006 01:03:16
Message:
Backed apr dependancy down to >=1.2.2 to be able to build on FC5 and FC6 #MsgLength=75


----
Modified: configure.ac|1 1

Revision: 882cbf1f5a7aef4ceb717dafda23210f4a5bde34
Author: Gordon Sim <gsim@apache.org>
Date: 02/12/2006 01:18:54
Message:
Re-enable signal handling. Make APRAcceptor::shutdown() threadsafe. #MsgLength=70


----
Modified: lib/common/sys/apr/APRAcceptor.cpp|19 8
Modified: src/qpidd.cpp|4 2

Revision: 38619f3a7bfdae54648b4ac2ff35b7b9dfa53598
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2006 01:39:09
Message:
Jim Meyering: README typos, svn:ignore properties on directories. #MsgLength=67


----
Modified: README|9 12

Revision: 1d46f39c2749ebc25892b7a0d47b2c1b4973d81b
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2006 02:26:28
Message:
Fixed quoting error in tests/Makefile.am. More svn:ignore properties. #MsgLength=71


----
Modified: tests/Makefile.am|1 2

Revision: de02bb6b6a18d1543195cd2b392ddacacf64c322
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2006 02:49:01
Message:
Split README into README-dev for developers and README-dist for people building the source distro. The latter needs work. #MsgLength=123


----
Renamed: README-dev [from README]|3 5
Added: README-dist|26 0

Revision: 0c023baa5e78122820daf0da09f0cbbd0206fb17
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2006 00:55:45
Message:
2006-12-04  Jim Meyering  <jim@meyering.net> #MsgLength=262


----
Modified: configure.ac|4 1
Modified: tests/Makefile.am|2 4

Revision: ea590cf8ef5d5d8017a9de0b313d45d8f8623866
Author: Gordon Sim <gsim@apache.org>
Date: 05/12/2006 01:00:42
Message:
Patch from Andrew Stitcher, sent to qpid-dev list. #MsgLength=53


----
Modified: tests/env|3 3

Revision: 0d37e7624d13e6c9ed9542a2f7dedfc583800ff5
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2006 01:03:39
Message:
2006-12-01  Jim Meyering  <meyering@redhat.com> #MsgLength=696


----
Modified: bootstrap|10 1
Modified: configure.ac|13 0
Modified: gen/Makefile.am|22 16
Deleted: gen/gen-src.mk|0 99

Revision: b74cb66907646cb9ffef416f928ccb7a8927594f
Author: Gordon Sim <gsim@apache.org>
Date: 05/12/2006 01:47:33
Message:
Patch from Andrew Stitcher: #MsgLength=229


----
Modified: lib/common/sys/apr/APRBase.cpp|1 1
Modified: lib/common/sys/apr/APRBase.h|1 1

Revision: 4c7eda10a96710f87742bd1e174ce7dec23deb16
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2006 05:31:08
Message:
Andrew Stitcher: Reduced CppUnit version requirement to 1.10.2 #MsgLength=63


----
Modified: README-dev|1 1
Modified: configure.ac|1 1

Revision: a345799ed34b477bd9eae83eb203dabbf2ad8289
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2006 05:33:33
Message:
2006-12-04  Jim Meyering  <jim@meyering.net> #MsgLength=292


----
Modified: gen/Makefile.am|7 6

Revision: 2675addf92c1486973e58c71494017fe98ab7c7e
Author: Gordon Sim <gsim@apache.org>
Date: 05/12/2006 21:12:25
Message:
Patch submitted on qpid-dev: #MsgLength=476


----
Modified: bootstrap|11 2
Modified: gen/Makefile.am|6 6

Revision: 6c978c6b7849a40a5101c6012cbc329365983461
Author: Gordon Sim <gsim@apache.org>
Date: 05/12/2006 21:14:38
Message:
Added queue policy class for controlling when message content should be released from memory. #MsgLength=96


----
Modified: lib/broker/BrokerMessage.cpp|6 0
Modified: lib/broker/BrokerMessage.h|5 3
Modified: lib/broker/BrokerQueue.cpp|43 8
Modified: lib/broker/BrokerQueue.h|9 1
Modified: lib/broker/Makefile.am|2 0
Added: lib/broker/QueuePolicy.cpp|49 0
Added: lib/broker/QueuePolicy.h|46 0
Modified: lib/broker/SessionHandlerImpl.cpp|3 3

Revision: c8cdccf579c618929fe91261aaa193f86914edf9
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2006 01:43:00
Message:
Allow settings to be set and persisted for queues. Define policy based on these settings. #MsgLength=92


----
Modified: lib/broker/BrokerQueue.cpp|18 18
Modified: lib/broker/BrokerQueue.h|4 1
Modified: lib/broker/MessageStore.h|2 1
Modified: lib/broker/MessageStoreModule.cpp|2 2
Modified: lib/broker/MessageStoreModule.h|1 1
Modified: lib/broker/NullMessageStore.cpp|1 1
Modified: lib/broker/NullMessageStore.h|1 1
Modified: lib/broker/QueuePolicy.cpp|27 1
Modified: lib/broker/QueuePolicy.h|9 0

Revision: 5a3ac19b44871af8143865c0f70a06ecb155063a
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2006 04:42:53
Message:
2006-12-05  Jim Meyering  <meyering@redhat.com> #MsgLength=119


----
Modified: src/qpidd.cpp|0 2

Revision: 2cac03225125037c70e29826707b5bdaa70857ed
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2006 04:44:18
Message:
2006-12-05  Jim Meyering  <meyering@redhat.com> #MsgLength=119


----
Modified: lib/broker/Configuration.cpp|1 1

Revision: c96d8c603d271d59a0b851357615e4744f75d811
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2006 16:11:57
Message:
Patch sumbitted to qpid-dev: #MsgLength=857


----
Modified: lib/broker/Configuration.cpp|37 21
Modified: lib/broker/Configuration.h|5 1
Modified: src/qpidd.cpp|11 5
Modified: tests/ConfigurationTest.cpp|5 5

Revision: a84ca1371679ffe7926a9e14898de27baf44a6d4
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2006 20:01:40
Message:
Added new configuration option for staging threshold (size above which messages will be written to disk as content arrives rather than accumulating that content in memory). Pass this through to all channels and to the store on recovery. #MsgLength=241


----
Modified: lib/broker/BrokerChannel.cpp|3 3
Modified: lib/broker/BrokerChannel.h|4 3
Modified: lib/broker/Configuration.cpp|29 0
Modified: lib/broker/Configuration.h|17 0
Modified: lib/broker/QueueRegistry.cpp|4 0
Modified: lib/broker/QueueRegistry.h|6 0
Modified: lib/broker/SessionHandlerFactoryImpl.cpp|5 4
Modified: lib/broker/SessionHandlerFactoryImpl.h|3 2
Modified: lib/broker/SessionHandlerImpl.cpp|5 4
Modified: lib/broker/SessionHandlerImpl.h|10 2
Modified: tests/ConfigurationTest.cpp|10 0

Revision: 3e939fe5544967676f767d4c1dedfe9f277e5a05
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2006 23:16:20
Message:
Patch submitted to dev list: #MsgLength=170


----
Modified: configure.ac|20 6

Revision: 131b6e5af1b93dc691b2933e94feb402661af7cf
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/12/2006 00:55:44
Message:
2006-12-06  Jim Meyering  <meyering@redhat.com> #MsgLength=421


----
Modified: configure.ac|3 1

Revision: c5d74c45c363a25ccb41bb056b6a24e664df3f79
Author: Steven Shaw <steshaw@apache.org>
Date: 07/12/2006 01:36:24
Message:
allow automake from RHEL4 #MsgLength=26


----
Modified: Makefile.am|1 1

Revision: 2dd385267e84962bd1560ffa8a3d724f005a15fe
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2006 01:51:42
Message:
Allow non-durable messages to be lazy-loaded. Cleanup of lazy-loaded messages that are never enqueued. #MsgLength=106


----
Modified: lib/broker/BrokerMessage.cpp|6 1
Modified: lib/broker/BrokerQueue.cpp|2 2
Modified: lib/broker/Content.h|1 0
Modified: lib/broker/InMemoryContent.cpp|4 0
Modified: lib/broker/InMemoryContent.h|1 0
Modified: lib/broker/LazyLoadedContent.cpp|5 0
Modified: lib/broker/LazyLoadedContent.h|1 0
Modified: lib/broker/MessageBuilder.cpp|1 1
Modified: lib/broker/MessageStore.h|7 5
Modified: lib/broker/MessageStoreModule.cpp|4 4
Modified: lib/broker/MessageStoreModule.h|4 4
Modified: lib/broker/NullMessageStore.cpp|4 4
Modified: lib/broker/NullMessageStore.h|4 4
Modified: tests/MessageBuilderTest.cpp|41 31
Modified: tests/TxAckTest.cpp|9 9
Modified: tests/TxPublishTest.cpp|6 6

Revision: 782d332bfba1bfee36e9c20a63e4537d09235eab
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/12/2006 03:11:18
Message:
Missed file from Jim's patch #MsgLength=32


----
Added: cppunit.m4|178 0

Revision: c1458a02d8038726bf5bc18eeb5be37d3cfbe5e2
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2006 17:31:23
Message:
Moved cppunit.m4 to correct location. #MsgLength=40


----
Renamed: m4/cppunit.m4 [from cppunit.m4]|0 0

Revision: 2fd756e5f8552ddf5608109f2b03606ff7a62514
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2006 18:13:44
Message:
Macro was defined twice, removed second copy. #MsgLength=48


----
Modified: m4/cppunit.m4|0 89

Revision: eb4c9bdb6115c426ccbf4510ba83ecadac610bfb
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2006 20:44:08
Message:
Added unit test and slightly refactored code. #MsgLength=48


----
Modified: lib/broker/BrokerQueue.cpp|7 2
Modified: lib/broker/QueuePolicy.cpp|9 15
Modified: lib/broker/QueuePolicy.h|4 5
Modified: tests/Makefile.am|1 0
Added: tests/QueuePolicyTest.cpp|89 0

Revision: 8b1bed104d661fe04038868b950c1a14ff76ced7
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2006 02:40:06
Message:
Added "make html" target to build doxygen documentation in docs/api/html. #MsgLength=75


----
Modified: Makefile.am|3 2
Modified: README-dev|6 2
Modified: README-dist|1 1
Renamed: docs/api/Doxyfile [from doxygen.cfg]|3 3
Added: docs/api/Makefile.am|37 0

Revision: d1f8264f4005fb0b151901d2fef151cdcd9fd1e9
Author: Steven Shaw <steshaw@apache.org>
Date: 08/12/2006 04:07:19
Message:
New make-dist script and related files. Just a hack for now to build a binary dev release. Also updated README-dev with correct automake version and note about configuring cppunit #MsgLength=180


----
Modified: README-dev|2 1
Deleted: build.rhel3|0 18
Added: make-dist|83 0
Deleted: options-rhel3.mk|0 18
Deleted: options.mk|0 100
Deleted: release.client.rhel3|0 67
Added: tests/examples.Makefile|66 0
Added: tests/examples.README|18 0

Revision: 54a8ce01326d6a25149ee9e58ba7cc32690df5f8
Author: Steven Shaw <steshaw@apache.org>
Date: 08/12/2006 04:56:55
Message:
Additional notes about setting up cppunit and boost #MsgLength=52


----
Modified: README-dist|8 0

Revision: b352be242dc61e155324569f27b8b6c8fbdfe753
Author: Gordon Sim <gsim@apache.org>
Date: 08/12/2006 18:36:32
Message:
Some more unit tests. #MsgLength=24


----
Modified: lib/broker/BrokerQueue.cpp|2 0
Modified: lib/broker/InMemoryContent.cpp|1 2
Modified: tests/ChannelTest.cpp|200 15

Revision: f0e44b63a6c2602f2ddfdfecdee8b5c81a35ac33
Author: Steven Shaw <steshaw@apache.org>
Date: 08/12/2006 19:26:48
Message:
Append system and processor to the tarball name #MsgLength=48


----
Modified: make-dist|1 1

Revision: e89ab54358af07a319bb7de58ce507d072e4bab3
Author: Steven Shaw <steshaw@apache.org>
Date: 08/12/2006 19:30:55
Message:
Thanks Alan the static_cast does prevent the warning on rhel4/x86_64 #MsgLength=69


----
Modified: lib/broker/BrokerChannel.cpp|1 1

Revision: c5c395765789e3d5e0134be477ba8295a7735c8c
Author: Gordon Sim <gsim@apache.org>
Date: 08/12/2006 20:44:20
Message:
Added docs/api/Makefile to the list of files to create in configure.ac. #MsgLength=75


----
Modified: configure.ac|1 0

Revision: ecffe864a41ec340386a59a796c27f2ef8d355fd
Author: Gordon Sim <gsim@apache.org>
Date: 08/12/2006 20:53:21
Message:
Patch submitted to dev: #MsgLength=261


----
Modified: Makefile.am|1 1
Modified: configure.ac|3 0
Added: man/Makefile.am|18 0
Added: man/qpidd.x|5 0

Revision: a2a5ef19355ad7229b664754a967ac82bc31b81f
Author: Gordon Sim <gsim@apache.org>
Date: 08/12/2006 21:06:38
Message:
Merged in changes from patch submitted by Jim Meyering on dev list. #MsgLength=252


----
Modified: README-dev|18 10

Revision: fd044bac41da1ac1afe7751bf1ae79bb891beab9
Author: Gordon Sim <gsim@apache.org>
Date: 08/12/2006 22:09:38
Message:
Some svn:ignore property updates. #MsgLength=36


----

Revision: 133e8eec68b84c0d173b9994ed2c73752028007c
Author: Alan Conway <aconway@apache.org>
Date: 09/12/2006 02:36:33
Message:
2006-12-08  Based on a patch by Jim Meyering  <meyering@redhat.com> #MsgLength=213


----
Modified: tests/Makefile.am|3 4

Revision: ca2a46ce6d24ead76eea9c25bf5688b90b519c94
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/12/2006 03:58:32
Message:
2006-12-08  Jim Meyering  <meyering@redhat.com> #MsgLength=192


----
Modified: tests/Makefile.am|3 2

Revision: c7d8806a99662887ab267bb0993b1e8ed0062776
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2006 16:07:11
Message:
Restored lost edit from earlier merge (note about cppunit being on path). #MsgLength=76


----
Modified: README-dev|2 1

Revision: a50086943bf3f6aac3a178ca209b2d876d5e509a
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2006 18:41:13
Message:
Patch posted to dev listed: #MsgLength=517


----
Modified: tests/Makefile.am|2 11
Added: tests/run-python-tests|15 0
Added: tests/run-unit-tests|3 0

Revision: bab15bd0135e870db7a1acb45568ec26a1ec7dba
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2006 18:44:03
Message:
Allow xid to be associated with publication and acknowledgements. #MsgLength=68


----
Modified: lib/broker/BrokerChannel.cpp|1 1
Modified: lib/broker/DeliveryRecord.cpp|6 2
Modified: lib/broker/DeliveryRecord.h|2 1
Modified: lib/broker/TxAck.cpp|3 3
Modified: lib/broker/TxAck.h|3 1
Modified: lib/broker/TxPublish.cpp|2 2
Modified: lib/broker/TxPublish.h|2 1
Modified: tests/TxAckTest.cpp|20 11
Modified: tests/TxPublishTest.cpp|22 5

Revision: c5fdc8c82c1a8f2373e27e5aea7dacf2653c5343
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/12/2006 02:02:50
Message:
Added new Content class and other methods in Buffer to support the new transport in AMQP 0-9. This will allow the code produced by the code generator for 0-9 to compile. #MsgLength=170


----
Modified: lib/common/Makefile.am|2 0
Modified: lib/common/framing/Buffer.cpp|9 0
Modified: lib/common/framing/Buffer.h|4 0
Added: lib/common/framing/Content.cpp|41 0
Added: lib/common/framing/Content.h|47 0

Revision: 9d5ff913c41342b148e91efe5cffa3095459c932
Author: Gordon Sim <gsim@apache.org>
Date: 12/12/2006 20:57:08
Message:
Renamed Content.h (and Content.cpp for consistency) in framing to avoid clashing with existing Content.h file. #MsgLength=112


----
Modified: lib/common/Makefile.am|2 2
Modified: lib/common/framing/Buffer.cpp|1 1
Renamed: lib/common/framing/FramingContent.cpp [from lib/common/framing/Content.cpp]|1 1
Renamed: lib/common/framing/FramingContent.h [from lib/common/framing/Content.h]|0 0

Revision: f3fc8a94e0045a11b3bc0d7aea554bafd623080d
Author: Alan Conway <aconway@apache.org>
Date: 13/12/2006 00:05:01
Message:
2006-12-11  Alan Conway  <aconway@redhat.com> #MsgLength=352


----
Modified: Makefile.am|1 1
Modified: README-dev|4 4
Modified: configure.ac|3 7
Modified: docs/api/Makefile.am|6 5
Renamed: docs/api/user.doxygen [from docs/api/Doxyfile]|15 9
Renamed: docs/man/Makefile.am [from man/Makefile.am]|1 1
Renamed: docs/man/qpidd.x [from man/qpidd.x]|0 0
Added: etc/init.d/qpidd|83 0
Modified: gen/Makefile.am|13 10
Modified: lib/broker/Makefile.am|3 3
Modified: lib/client/Makefile.am|13 12
Modified: lib/common/Makefile.am|47 41
Modified: src/Makefile.am|3 3
Modified: tests/Makefile.am|3 3

Revision: 1ad927d6fd161cee2fcecb66996f7eafcc6abde1
Author: Alan Conway <aconway@apache.org>
Date: 13/12/2006 08:26:30
Message:
Sundry fixes to spec and build system for RPM packaging. #MsgLength=58


----
Modified: Makefile.am|4 1
Modified: README-dev|2 1
Added: README.txt|1 0
Modified: configure.ac|1 3
Modified: docs/api/Makefile.am|3 19
Modified: docs/api/user.doxygen|1 1
Modified: lib/broker/Makefile.am|4 0
Modified: lib/common/Makefile.am|5 1
Added: qpidc.spec|108 0
Modified: src/Makefile.am|3 0

Revision: ead3cd1d7c7ad5bb686c0a8b131914b18374b889
Author: Gordon Sim <gsim@apache.org>
Date: 13/12/2006 17:22:07
Message:
Added prepared() method to MessageStore interface. #MsgLength=53


----
Modified: lib/broker/MessageStore.h|5 0
Modified: lib/broker/MessageStoreModule.cpp|5 0
Modified: lib/broker/MessageStoreModule.h|3 2
Modified: lib/broker/NullMessageStore.cpp|5 0
Modified: lib/broker/NullMessageStore.h|3 2
Modified: lib/client/Connection.h|22 4

Revision: 4d150d79be0ab54031db0756c01887bc81208f96
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2006 01:15:01
Message:
Added some doxygen comments for the client API. #MsgLength=50


----
Modified: lib/client/ClientChannel.h|192 1
Modified: lib/client/ClientExchange.cpp|4 3
Modified: lib/client/ClientExchange.h|58 5
Modified: lib/client/ClientMessage.h|25 0
Modified: lib/client/ClientQueue.h|51 0
Modified: lib/client/Connection.h|48 2
Modified: lib/client/MessageListener.h|8 0
Modified: lib/client/MethodBodyInstances.h|4 5
Modified: lib/client/ReturnedMessageHandler.h|8 0
Modified: lib/common/framing/FieldTable.h|10 0
Modified: tests/echo_service.cpp|4 4
Modified: tests/topic_listener.cpp|1 1
Modified: tests/topic_publisher.cpp|3 3

Revision: e2d13ada9e351962ff017087b687e27c9baf008e
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2006 02:40:09
Message:
README-dev: Added Fedora 6 setup instructions. versions: simple script to print out versions of packages in use. #MsgLength=114


----
Modified: README-dev|16 3
Added: versions|12 0

Revision: 9ddac8156b71dea4dcaad054ea33cfeeb67c8eb0
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2006 03:03:52
Message:
A bit more documentation for the client tests which are currently doubling as examples. #MsgLength=89


----
Modified: tests/client_test.cpp|46 10
Modified: tests/echo_service.cpp|32 0
Modified: tests/topic_listener.cpp|26 0
Modified: tests/topic_publisher.cpp|24 0

Revision: bb54ef165dc862518a7f82bc6ef68bd1521df4ec
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/12/2006 05:38:28
Message:
Broker side dynamic version hook up. #MsgLength=39


----
Modified: lib/broker/SessionHandlerImpl.cpp|51 34
Modified: lib/broker/SessionHandlerImpl.h|1 1

Revision: e60fbfcd40dd4fa046f97e221b9aea74097d6021
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/12/2006 02:41:04
Message:
[for Jim Meyring] configure.ac: Restore the logic used to determine whether to #MsgLength=79


----
Modified: configure.ac|6 3

Revision: cb6bf86dde2c5d25948a57e78ba35e2b93c03965
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/12/2006 23:37:14
Message:
Added additional files AMQP_HighestVersion.h/.cpp to identify the highest available version for client use. #MsgLength=108


----
Modified: lib/common/Makefile.am|2 0
Added: lib/common/framing/AMQP_HighestVersion.h|45 0

Revision: fad393e531801574458ab2c3247ce6d3ee4a04d4
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/12/2006 00:06:46
Message:
Added additional svn:ignore properties for cpp/gen to accomodate new generated files. #MsgLength=86


----

Revision: 36fee504a77548f26f08e69ef43b1a6147c41fc7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/12/2006 01:07:27
Message:
[For Jim Meyering] Added new utility to download and build required tools to build the C++ version #MsgLength=99


----
Modified: README-dev|30 7
Added: qpid-autotools-install|205 0

Revision: 279ee051f008106180fc2190cbfb741b2c94932b
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2006 01:55:16
Message:
	* cpp/gen/Makefile.am: fixed generated code dependencies. * *Channel,SessionHandlerImpl,FramingTest: added FieldTable argument to consume() to conform to updated XML. #MsgLength=173


----
Modified: gen/Makefile.am|2 4
Modified: lib/broker/BrokerChannel.cpp|1 1
Modified: lib/broker/BrokerChannel.h|2 1
Modified: lib/broker/SessionHandlerImpl.cpp|8 5
Modified: lib/broker/SessionHandlerImpl.h|9 15
Modified: lib/client/ClientChannel.cpp|10 4
Modified: lib/client/ClientChannel.h|5 2
Modified: qpidc.spec|2 2
Modified: tests/FramingTest.cpp|2 1

Revision: 903d4796ffa3f31e3f52df2f6852984a3bd91f7b
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2006 03:21:37
Message:
Print program locations with versions. #MsgLength=40


----
Modified: versions|1 1

Revision: 0387d5001f8801c80cd63a1eee68f8eb8e2e12c1
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/12/2006 04:54:22
Message:
[For Andrew Stitcher] inlined qpid::sys::check() in APRBase.h; This is called a lot - for every call to an APR call, inlining this seems to give about 8% speed in my tests (even though originally check() only seemed to use 1-2% of the time). I think this must be a 2nd order instruction caching effect. #MsgLength=303


----
Modified: lib/common/sys/apr/APRBase.cpp|0 10
Modified: lib/common/sys/apr/APRBase.h|12 0

Revision: 7fb4f20ee047d2d98c625e497ba8d3d2b568d996
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2006 22:40:09
Message:
make rpm in cpp directory builds qpidc RPMs in default locations. #MsgLength=256


----
Modified: Makefile.am|13 4
Modified: README.txt|15 1
Modified: docs/api/Makefile.am|1 1
Renamed: etc/qpidd [from etc/init.d/qpidd]|0 0
Modified: qpidc.spec|48 22

Revision: 522efafe4861b4b874915b526d54fa180f91e28a
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2006 23:11:37
Message:
Adding files for EventChannel implementation. #MsgLength=47


----
Added: lib/common/sys/posix/EventChannelAcceptor.cpp|149 0
Added: lib/common/sys/posix/EventChannelConnection.cpp|229 0
Added: lib/common/sys/posix/EventChannelConnection.h|102 0
Added: tests/AcceptorTest.cpp|95 0
Added: tests/EventChannelConnectionTest.cpp|109 0
Added: tests/MockSessionHandler.h|113 0
Added: tests/run-system-tests|38 0

Revision: 45f0bf91c2ec83656bcbe59a0a4f3c3fd6f71d38
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 21/12/2006 06:29:38
Message:
Support for multi version, merge part 1. - can still refactor out dup use of version object in client and server opperations. #MsgLength=128


----
Modified: lib/broker/BrokerChannel.cpp|6 5
Modified: lib/broker/BrokerChannel.h|2 1
Modified: lib/broker/BrokerMessage.cpp|8 12
Modified: lib/broker/BrokerMessage.h|6 2
Modified: lib/broker/SessionHandlerImpl.cpp|7 2
Modified: lib/client/ClientChannel.h|1 1
Modified: lib/client/Connection.cpp|3 5
Modified: lib/client/Connection.h|5 1
Modified: lib/common/framing/AMQFrame.h|5 0
Modified: tests/ChannelTest.cpp|4 4
Modified: tests/FramingTest.cpp|1 3
Modified: tests/MessageTest.cpp|1 1
Modified: tests/client_test.cpp|1 1

Revision: c729aec45ed3242b83d9d73a673ca96acdebf892
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/12/2006 01:43:56
Message:
Multi version part 3. (2 more to come + tests) #MsgLength=49


----
Modified: tests/ChannelTest.cpp|6 4
Modified: tests/FramingTest.cpp|3 1
Modified: tests/MessageTest.cpp|2 1

Revision: 01adc3edd139be410ef8ab46bdb35c12dae9158d
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/12/2006 01:58:07
Message:
missed files from last commit. #MsgLength=33


----
Modified: lib/client/Connection.h|2 1
Modified: lib/common/framing/AMQFrame.h|0 4

Revision: 26cc49a7426144e56a30c9bab82ab5158cf2007f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/12/2006 02:26:40
Message:
File tidy-up for AMQP version code: Removed old XSLT files; moved cluster.asl into spec directory; renamed spec files to better reflect version notation; updated java, c++ and python files to reference new names. #MsgLength=213


----
Modified: gen/Makefile.am|1 1

Revision: 70239fb28867b0f233150b4e892679d747af4656
Author: Alan Conway <aconway@apache.org>
Date: 24/12/2006 01:20:37
Message:
- rpm: make rpm now builds RPMs under rpm/ directory. - src/qpidd.cpp: added --daemon option to run as daemon. - etc/qpidd: fixed bugs in init.rc script. - qpidc.spec: fixed rpmlint warnings, added apache URL #MsgLength=210


----
Modified: Makefile.am|4 12
Modified: configure.ac|1 0
Modified: docs/api/Makefile.am|5 5
Modified: docs/api/user.doxygen|2 2
Modified: docs/man/Makefile.am|3 1
Modified: etc/qpidd|16 33
Modified: lib/broker/Configuration.cpp|11 5
Modified: lib/broker/Configuration.h|137 126
Added: lib/common/doxygen_mainpage.h|45 0
Modified: qpidc.spec|24 15
Added: rpm/Makefile.am|25 0
Modified: src/qpidd.cpp|20 0

Revision: 9a34682e9d01e4207308b04b15d37d6d1b54698b
Author: Alan Conway <aconway@apache.org>
Date: 04/01/2007 05:50:59
Message:
Comment correction. #MsgLength=21


----
Modified: lib/client/ClientExchange.h|6 5

Revision: ddc1e3ea0700d167d844480dd7204ecfd1b77fd6
Author: Alan Conway <aconway@apache.org>
Date: 04/01/2007 22:47:50
Message:
Added -build flag: a new working copy can be built with just "bootstrap -build" #MsgLength=81


----
Modified: bootstrap|5 0

Revision: b968c1ebf668a5bab366d90ea139cfa5cb54d07c
Author: Alan Conway <aconway@apache.org>
Date: 04/01/2007 22:52:22
Message:
Added "make check" to -build flag. #MsgLength=36


----
Modified: bootstrap|1 0

Revision: 352b73bad3903c78d66b13bac3430188f39da7b1
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 00:55:03
Message:
Added "make check" to -build flag. Removed rpm build directories from svn. Create them during make. #MsgLength=101


----
Modified: rpm/Makefile.am|2 1

Revision: 11fb3232a008b33da770ecb561d8bb702c193111
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 01:06:38
Message:
Removed unused qpid/ subdirectory. #MsgLength=36


----

Revision: a3b604c2ae8ddf108d9eca07789b599eb4463300
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/01/2007 05:30:39
Message:
Fixed C++ client sending protocol version 0-0 over the wire. Minor fixes and tidy-up in related code. #MsgLength=102


----
Modified: lib/common/Makefile.am|1 2
Deleted: lib/common/framing/AMQP_HighestVersion.h|0 45

Revision: e284e3ecbe2e128a878c3f60b53643ad464cbe79
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2007 02:34:08
Message:
Add refernece to prereqs in README-dist. #MsgLength=42


----
Modified: README-dev|5 3

Revision: 57b9081f8e2b73256b276baa12a47ff41acd4b9b
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2007 03:09:10
Message:
2007-01-05  Jim Meyering  <meyering@redhat.com> #MsgLength=370


----
Modified: gen/Makefile.am|6 1

Revision: 8c0b1dae966031ea35a4f7ddfca216375a90b6e9
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2007 03:25:32
Message:
2007-01-05  Jim Meyering  <meyering@redhat.com> #MsgLength=209


----
Modified: lib/broker/Makefile.am|2 1
Modified: lib/client/Makefile.am|3 2

Revision: 412441de7db06922288091d499003fbfd300a7ad
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/01/2007 03:44:50
Message:
Most of remaining version changes for C++. Still need to deal with AMQFrame defualt constructor and do some clean up here and there.. #MsgLength=136


----
Modified: lib/broker/BrokerMessage.cpp|7 7
Modified: lib/broker/BrokerMessage.h|1 1
Modified: lib/broker/Content.h|2 1
Modified: lib/broker/InMemoryContent.cpp|4 4
Modified: lib/broker/InMemoryContent.h|2 1
Modified: lib/broker/LazyLoadedContent.cpp|3 3
Modified: lib/broker/LazyLoadedContent.h|1 1
Modified: lib/client/ClientChannel.cpp|19 19
Modified: lib/client/Connection.cpp|9 9
Modified: lib/client/Connector.cpp|4 3
Modified: lib/client/Connector.h|3 1
Modified: lib/common/framing/AMQFrame.cpp|15 21
Modified: lib/common/framing/AMQFrame.h|6 4
Modified: tests/BodyHandlerTest.cpp|5 4
Modified: tests/FramingTest.cpp|2 2
Modified: tests/InMemoryContentTest.cpp|2 1
Modified: tests/LazyLoadedContentTest.cpp|2 1

Revision: e5b3159beee1d50d8121807a90141ad114e9c563
Author: Alan Conway <aconway@apache.org>
Date: 10/01/2007 05:23:08
Message:
Fix build order: common first. #MsgLength=32


----
Modified: lib/Makefile.am|1 1

Revision: 2ab6490becda730f2ef9999d335953e61a426e00
Author: Alan Conway <aconway@apache.org>
Date: 13/01/2007 00:18:49
Message:
2007-01-11  Jim Meyering  <jim@meyering.net> #MsgLength=146


----
Modified: qpidc.spec|3 6

Revision: 9f46c0c67f7391729b50cd179d63432eda902378
Author: Alan Conway <aconway@apache.org>
Date: 13/01/2007 01:52:28
Message:
With thanks to Jim Meyering and Rafael Schloming: Fix incorrect error number shown by python test failure in: testDifferentDeclaredType (tests.exchange.MiscellaneousErrorsTests) ... #MsgLength=183


----
Modified: lib/broker/SessionHandlerImpl.cpp|1 1

Revision: 3c0e4a1a1b82f00987664d9fe93edf2f8317a129
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2007 21:58:07
Message:
2006-12-08  Jim Meyering  <meyering@redhat.com> #MsgLength=597


----
Modified: lib/broker/AccumulatedAck.h|3 1
Modified: lib/broker/BrokerChannel.cpp|1 0
Modified: tests/AccumulatedAckTest.cpp|2 4
Modified: tests/TxAckTest.cpp|1 1

Revision: 3f30ebdcdde8ee60f4277a4600b21f9212399706
Author: Gordon Sim <gsim@apache.org>
Date: 16/01/2007 20:00:22
Message:
Some basic additional error logging of framing errors. #MsgLength=58


----
Modified: lib/common/framing/Value.cpp|4 1
Modified: lib/common/sys/apr/LFSessionContext.cpp|9 3

Revision: 532c18a2d3b43d0eec65f675d39abb78efcb279b
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2007 16:11:12
Message:
Close connection when connection.close is sent to client. #MsgLength=60


----
Modified: lib/broker/SessionHandlerImpl.cpp|2 0
Modified: lib/common/sys/apr/LFSessionContext.cpp|1 1

Revision: e636ddbe989513b0a2e2bb10bd91000b9978fdbc
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2007 22:14:54
Message:
Added the non-standard 'binary' type to the field table implementation to support the java client. #MsgLength=101


----
Modified: lib/common/framing/Value.cpp|5 0
Modified: lib/common/framing/Value.h|8 0

Revision: 0d12cf6c06fd3b50d3e96b575de36ea26521a6cf
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2007 19:49:39
Message:
Fixed creation of error message for unknown channel. #MsgLength=55


----
Modified: lib/broker/SessionHandlerImpl.cpp|4 1

Revision: 0bcb4043a78f6acaec6e1fb33b6038e6e24d16c2
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2007 23:12:27
Message:
Patch from Jim Meyering (jim@meyering.net) submitted on dev list. #MsgLength=1420


----
Modified: README-dev|21 4
Modified: configure.ac|16 0
Modified: docs/api/Makefile.am|5 6
Modified: qpid-autotools-install|2 2
Added: tests/.vg-supp|2481 0
Modified: tests/Makefile.am|8 0
Modified: tests/run-python-tests|29 9
Modified: tests/run-unit-tests|7 1
Added: tests/setup|74 0

Revision: 51d20c6bb178931d1d1daf11cb18ff41862de011
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2007 20:01:48
Message:
2007-01-24  Jim Meyering  <meyering@redhat.com> #MsgLength=760


----
Modified: LICENSE.txt|0 0
Modified: Makefile.am|13 2
Renamed: qpidc.spec.in [from qpidc.spec]|4 5

Revision: 6cc5b5bdab6fbea51ccb13b31aca0746e9fa4893
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2007 21:54:10
Message:
Ignore generated files qpidc.spec, rpm/ BUILD RPMS SOURCES SPECS SRPMS #MsgLength=72


----

Revision: 78304c52c28c75ae30c0abda7f57192bf2dd1278
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2007 22:26:45
Message:
* Removed .txt extension from README NOTICE LICENSE to follow common practice. * Updated all references to .txt files. * rpm/Makefile.am: Fixed local-clean target to clean up generaed directories. #MsgLength=198


----
Renamed: LICENSE [from LICENSE.txt]|0 0
Modified: Makefile.am|1 1
Renamed: NOTICE [from NOTICE.txt]|1 1
Renamed: README [from README.txt]|0 0
Modified: qpidc.spec.in|1 1
Modified: rpm/Makefile.am|2 2

Revision: 2cf8aab6538c856599927b9de8c3442cfcdb9daf
Author: Alan Conway <aconway@apache.org>
Date: 26/01/2007 00:45:48
Message:
* qpidc.spec.in: updated to release 3 for RPM. * gen/make-gen-src-mk.sh: fixed problem with makefile generation in a new checkout. * Other Makefile.am: added missing files to maintainer-clean. * Added missing svn-ignores. #MsgLength=223


----
Modified: gen/Makefile.am|2 21
Added: gen/make-gen-src-mk.sh|30 0
Modified: qpidc.spec.in|4 1
Modified: rpm/Makefile.am|3 2
Modified: tests/Makefile.am|3 0

Revision: a088aa8d340a2a295d08b9c0bff1b6cc002e3725
Author: Alan Conway <aconway@apache.org>
Date: 26/01/2007 00:50:44
Message:
* qpidc.spec.in: fixed bad date in changelog. #MsgLength=47


----
Modified: qpidc.spec.in|3 2

Revision: 50a3131922e7f358590b99ad538169e7e31ac271
Author: Alan Conway <aconway@apache.org>
Date: 26/01/2007 01:38:02
Message:
* Fixed typo in make rpm target. #MsgLength=34


----
Modified: rpm/Makefile.am|1 1

Revision: e68240ed9e213e233f78c6939c8bd73f021c76c2
Author: Gordon Sim <gsim@apache.org>
Date: 12/02/2007 18:32:56
Message:
* lib/client/Connection.h - changed default virtual host from '/' to '' as per QPID-349 * lib/client/ClientExchange.h - fixed typo in a comment #MsgLength=146


----
Modified: lib/client/ClientExchange.h|1 1
Modified: lib/client/Connection.h|1 1

Revision: 5d783e005a05aa5431cc0a3789dfd44cc993fc9f
Author: Robert Greig <rgreig@apache.org>
Date: 13/02/2007 18:59:55
Message:
(Submitted by Rupert Smith) Qpid-351, c++ build instructions, all in one file. #MsgLength=79


----
Added: README-build|222 0

Revision: 3ba4153a7d428868e635b833a8599c8f299674a2
Author: Robert Greig <rgreig@apache.org>
Date: 13/02/2007 19:21:23
Message:
(Submitted by Rupert Smith) Small ommission corrected. #MsgLength=55


----
Modified: README-build|2 1

Revision: b4c25df4b48b05d52aeb3dd986ebf8b67e8d9153
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2007 17:46:08
Message:
Applied patch from Jim Meyering, submitted on dev list: #MsgLength=236


----
Modified: configure.ac|4 4

Revision: e6f75772e87d3e5d8f05efc48404c5185f1304d1
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2007 17:53:38
Message:
Applied patch from Jim Meyering submitted on dev list: #MsgLength=185


----
Modified: qpidc.spec.in|2 3

Revision: 07b355dadbd94ced1be7371d1283927305946ea8
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2007 17:58:53
Message:
Applied patch from Jim Meyering, submitted on dev list: #MsgLength=115


----
Modified: tests/setup|1 1

Revision: 5ff9851dd71fee2d8f9b33ceed1bb2dbed5d19ac
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2007 18:33:58
Message:
Applied patch from Jim Meyering, submitted on dev list: #MsgLength=228


----
Modified: gen/Makefile.am|1 1

Revision: 22a9d99c6e451fa77df39125f4912d52d344fa6e
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2007 23:38:57
Message:
Add durability property to queues and pass this to broker on declare. #MsgLength=72


----
Modified: lib/client/ClientChannel.cpp|1 1
Modified: lib/client/ClientQueue.cpp|13 5
Modified: lib/client/ClientQueue.h|11 8

Revision: 1887f1b7784524dfbb48b22f520c636849de0867
Author: Alan Conway <aconway@apache.org>
Date: 15/02/2007 06:43:06
Message:
Applied QPID-351 patch 1 with the following mods: - Moved "source distro" instructions in front of "subversion checkout" instructions. - Added instructions on using qpid-autotools-install - Added general blurb with links at top - renamed to README, removed other README-* files. - Updated makefiles (spec file was already OK.) #MsgLength=333


----
Modified: Makefile.am|1 1
Modified: README|264 7
Deleted: README-build|0 223
Deleted: README-dev|0 201
Deleted: README-dist|0 34
Deleted: README.rhel3|0 23
Modified: bootstrap|1 1

Revision: 499c39c737836dfe8004db57fc9d844f18c8eccc
Author: Jim Meyering <meyering@apache.org>
Date: 19/02/2007 22:11:17
Message:
* qpidc.spec.in (URL): Update URL: and Source0: to point use http://rhm.et.redhat.com. #MsgLength=88


----
Modified: qpidc.spec.in|2 2

Revision: 558bad44d8c5eba9948b2eb8c726226d24969252
Author: Jim Meyering <meyering@apache.org>
Date: 21/02/2007 04:21:56
Message:
* qpidc.spec.in: Add a %changelog entry for 0.1-4. #MsgLength=52


----
Modified: qpidc.spec.in|6 1

Revision: f4cc2089a16455037759b143d88e93aed4d15e0a
Author: Gordon Sim <gsim@apache.org>
Date: 22/02/2007 03:23:25
Message:
Check for existing channel on channel_open #MsgLength=45


----
Modified: lib/broker/SessionHandlerImpl.cpp|9 3

Revision: c4bd46524b8dac6cb75fb6792a6a1f55965f5251
Author: Robert Greig <rgreig@apache.org>
Date: 01/03/2007 23:09:17
Message:
(Patch submitted by Rupert Smith) Small changes to use virtual hosts, merged back in from perftesting_persistent branch. #MsgLength=121


----
Modified: tests/client_test.cpp|1 1
Modified: tests/topic_listener.cpp|1 1
Modified: tests/topic_publisher.cpp|1 1
Modified: tests/topictest|42 42

Revision: 2908d0dfe26b4dd76e4cbcc6e2e849b54c7f846e
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2007 06:53:11
Message:
Send missing recoverOk response to recover. #MsgLength=45


----
Modified: lib/broker/SessionHandlerImpl.cpp|1 0

Revision: 68135eb0bcb0350b92a3959ca746997adbfaacc4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/03/2007 00:33:20
Message:
Fixed end of line property on test scripts #MsgLength=43


----

Revision: 7ce00adc0879de0447989a61c2769d9fe747deb2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/03/2007 00:34:39
Message:
Fixed line endings #MsgLength=19


----
Modified: tests/topictest|42 42

Revision: 4ee698deaa4134dc0fc40db64498a96a4536bc84
Author: Alan Conway <aconway@apache.org>
Date: 17/03/2007 08:18:26
Message:
* python/qpid/testlib.py: - fix testlib ops to use 0-8 or 0-9 classes as appropriate. - fix bug in arg parsing of specfile. #MsgLength=300


----
Modified: tests/run-python-tests|1 1

Revision: d16021817110f7a97b3e252830129f4dcf0c488f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/01/2007 00:02:36
Message:
Branch for AMQP 0-9 #MsgLength=20


----

Revision: dae17074426b8e32c9c9a3589688d8a69bbcfa07
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/01/2007 00:51:05
Message:
Changes to lick off the 0-9 generation. Note that the new spec file specs/amqp-nogen.0-9.xml causes the classes basic, file and stream not to generate. There are plenty of compile errors to sort through... #MsgLength=206


----
Modified: gen/Makefile.am|1 1

Revision: afefa97489e0ebb24b3bf3df37332dee97f46994
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 04:14:20
Message:
Fixed some compile errors: - Fix error in code generator for decoding timestamps. - Add dummy op<< for framing::Content #MsgLength=121


----
Modified: lib/common/framing/FramingContent.h|11 8

Revision: d28253b5ba02dce04ccbbd9ec79da5632db8c39d
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 06:05:53
Message:
Fixed compile errors, not all fixed yet: - Fix error in code generator for decoding timestamps. - Add dummy op<< for framing::Content #MsgLength=135


----
Modified: lib/common/framing/AMQFrame.h|23 24
Modified: lib/common/framing/FramingContent.h|2 4
Modified: lib/common/framing/amqp_types.h|5 8

Revision: 90d9b1cf059da7bfd7e6eb0b650f8870a979820f
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 06:31:05
Message:
Unsupress generation of 0-8 classes. Re-suppress when new Messaging classes are ready to replace them. #MsgLength=104


----
Modified: gen/Makefile.am|7 2

Revision: c2b7c0f2b41548c727eb7187b69e3aee2e19a51f
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 06:42:56
Message:
Compile fixes, still not complete: #def class in FramingContent.h #MsgLength=67


----
Modified: lib/broker/SessionHandlerImpl.h|3 2

Revision: 77d6eb83bf2f5039653759c7438e9ad0356756b5
Author: Alan Conway <aconway@apache.org>
Date: 05/01/2007 08:52:33
Message:
0-9 branch now compiles but is not yet functional. Areas needing attention are marked FIXME. #MsgLength=410


----
Modified: README-dev|7 0
Modified: lib/broker/SessionHandlerImpl.cpp|61 4
Modified: lib/broker/SessionHandlerImpl.h|26 3
Modified: lib/common/framing/FramingContent.cpp|18 12
Modified: lib/common/framing/FramingContent.h|3 24

Revision: 697d5d956eebe28c59cfee9a9e49f470af15647b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/01/2007 21:08:49
Message:
Merged changes from trunk to fix C++ client version 0-0 bug. Changes to cpp/lib/common/Makefile.am, so bootstrap, configure required to remake Makefiels. #MsgLength=154


----
Modified: lib/common/Makefile.am|1 2
Deleted: lib/common/framing/AMQP_HighestVersion.h|0 45

Revision: aad13a35f7a30a836e3c1eadb3550c9bc4d67d83
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2007 10:57:26
Message:
Disabled python tests, added system tests to build: client_test, topictest. #MsgLength=77


----
Modified: tests/Makefile.am|6 9
Deleted: tests/broker|0 45
Deleted: tests/env|0 23
Modified: tests/run-python-tests|0 15
Modified: tests/run-system-tests|11 7
Modified: tests/topic_publisher.cpp|8 6
Deleted: tests/topicall|0 25
Modified: tests/topictest|28 29

Revision: 07191e877cd7b49af29b97e6d69a4a2c1c1c3978
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/01/2007 23:04:57
Message:
Patch from Andrew, I will merge the solution that I am working on shortly, but this patch should enable the branch to work till then #MsgLength=135


----
Modified: lib/common/framing/AMQFrame.cpp|2 2

Revision: d280d1a7e5fcdfde2ec34f58230d6e7aca7f1b58
Author: Alan Conway <aconway@apache.org>
Date: 10/01/2007 00:55:27
Message:
Automated C++ client_test and topictest. Andrew Stitcher: patch to change hardcoded 8-0 version numbers to 0-9. #MsgLength=113


----
Modified: tests/Makefile.am|3 2
Modified: tests/client_test.cpp|19 13
Added: tests/kill_broker|3 0
Added: tests/python_tests|12 0
Added: tests/quick_topictest|7 0
Deleted: tests/run-system-tests|0 42
Added: tests/start_broker|10 0
Modified: tests/topic_listener.cpp|2 0
Modified: tests/topic_publisher.cpp|5 3
Modified: tests/topictest|8 12

Revision: d88e67937b365ca81e109e04296add9516ea1bad
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/01/2007 02:48:57
Message:
merged in code form Andrew, to clean up version map construction. #MsgLength=68


----
Modified: lib/common/framing/AMQFrame.cpp|1 3

Revision: 500f243fd3bb4a2b11a1fe72212a196983eeb4e1
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/01/2007 04:29:06
Message:
version back merge from trunk rev 494553. #MsgLength=44


----
Modified: lib/broker/BrokerMessage.cpp|7 7
Modified: lib/broker/BrokerMessage.h|1 1
Modified: lib/broker/Content.h|2 1
Modified: lib/broker/InMemoryContent.cpp|4 4
Modified: lib/broker/InMemoryContent.h|2 1
Modified: lib/broker/LazyLoadedContent.cpp|3 3
Modified: lib/broker/LazyLoadedContent.h|1 1
Modified: lib/client/ClientChannel.cpp|19 19
Modified: lib/client/Connection.cpp|9 9
Modified: lib/client/Connector.cpp|4 3
Modified: lib/client/Connector.h|3 1
Modified: lib/common/framing/AMQFrame.cpp|9 17
Modified: lib/common/framing/AMQFrame.h|5 3
Modified: tests/BodyHandlerTest.cpp|5 4
Modified: tests/FramingTest.cpp|2 2
Modified: tests/InMemoryContentTest.cpp|2 1
Modified: tests/LazyLoadedContentTest.cpp|2 1

Revision: 632fa2ef6d9ba8bcfa64e6ab2d5c48afc51a2b45
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2007 06:44:12
Message:
Encoding and decoding of AMQP 0-9 request and response frames. #MsgLength=64


----
Modified: lib/common/framing/AMQBody.cpp|1 4
Modified: lib/common/framing/AMQBody.h|10 2
Modified: lib/common/framing/AMQFrame.cpp|21 18
Modified: lib/common/framing/AMQFrame.h|6 7
Modified: lib/common/framing/AMQMethodBody.cpp|20 7
Modified: lib/common/framing/AMQMethodBody.h|18 16
Added: lib/common/framing/AMQRequestBody.cpp|58 0
Added: lib/common/framing/AMQRequestBody.h|67 0
Added: lib/common/framing/AMQResponseBody.cpp|59 0
Added: lib/common/framing/AMQResponseBody.h|70 0
Modified: lib/common/framing/BodyHandler.cpp|1 1
Modified: lib/common/framing/BodyHandler.h|1 1
Modified: lib/common/framing/Buffer.h|1 2

Revision: eceea1f32490046ed0ec421870eced5744ca841f
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2007 23:25:54
Message:
 * Build order - src before tests. * docs/api/developer.doxygen: Generate for all classes, private members etc. #MsgLength=114


----
Modified: Makefile.am|1 1
Added: docs/api/developer.doxygen|1241 0
Modified: lib/broker/BrokerChannel.h|4 3
Modified: lib/broker/BrokerExchange.h|4 3
Modified: lib/broker/BrokerMessage.h|4 3
Modified: lib/broker/BrokerQueue.h|4 3
Modified: lib/broker/ExchangeRegistry.h|4 3
Modified: lib/client/ClientChannel.h|4 5
Modified: lib/client/ClientMessage.h|4 6
Modified: lib/client/ClientQueue.h|4 5
Modified: lib/common/Makefile.am|3 1
Modified: tests/FramingTest.cpp|57 16
Modified: tests/Makefile.am|0 1
Modified: tests/quick_topictest|1 1
Modified: tests/topictest|1 0

Revision: 878e07c833449ed71d0cbec86216c2de5be3a9fc
Author: Alan Conway <aconway@apache.org>
Date: 12/01/2007 03:32:46
Message:
Include *.cpp in developer doxygen to get calls/called-by links. #MsgLength=66


----
Modified: docs/api/developer.doxygen|3 3

Revision: eecba3a1e63f8da8e2795d3d512afbfaf9d3a71a
Author: Alan Conway <aconway@apache.org>
Date: 13/01/2007 02:24:13
Message:
Use amqp 0-9 request/response framing in broker and client. Updated: framing, client, broker, generated code. #MsgLength=258


----
Modified: lib/broker/SessionHandlerImpl.cpp|3 1
Modified: lib/client/ClientChannel.cpp|3 3
Modified: lib/common/framing/AMQFrame.cpp|12 12
Modified: lib/common/framing/AMQFrame.h|9 7
Modified: lib/common/framing/AMQMethodBody.cpp|14 11
Modified: lib/common/framing/AMQMethodBody.h|13 5
Modified: lib/common/framing/AMQRequestBody.cpp|23 23
Modified: lib/common/framing/AMQRequestBody.h|28 24
Modified: lib/common/framing/AMQResponseBody.cpp|22 21
Modified: lib/common/framing/AMQResponseBody.h|27 23
Modified: lib/common/framing/BodyHandler.cpp|7 6
Modified: lib/common/framing/amqp_types.h|4 1
Modified: tests/FramingTest.cpp|11 20

Revision: 1f656d27e738c846632d1900aa290ff31a75ba87
Author: Alan Conway <aconway@apache.org>
Date: 13/01/2007 02:39:26
Message:
Andrew Stitcher <astitcher@redhat.com> * Add empty implementation of handler class for protocol Message class. #MsgLength=112


----
Modified: lib/broker/SessionHandlerImpl.cpp|142 2
Modified: lib/broker/SessionHandlerImpl.h|112 27

Revision: bacda07641a020b9cf7abafe01f056120f0098a8
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2007 02:30:25
Message:
* Added Requester/Responder classes to manage request-ids, response-ids, and response-mark. Response batches not yet supported. #MsgLength=131


----
Modified: lib/broker/SessionHandlerImpl.cpp|1 2
Modified: lib/common/Makefile.am|2 0
Modified: lib/common/framing/AMQRequestBody.h|11 11
Modified: lib/common/framing/AMQResponseBody.h|11 11
Added: lib/common/framing/Requester.cpp|46 0
Added: lib/common/framing/Requester.h|59 0
Added: lib/common/framing/Responder.cpp|40 0
Added: lib/common/framing/Responder.h|61 0
Modified: tests/FramingTest.cpp|96 1

Revision: 40816c54876741ac09bff23416bdb4a1804bfd7b
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2007 02:48:47
Message:
* Combined README.txt and READE-dist into README. Fixes cwiki link, and provides more useful chunk of info. * Fixed rpm target to create build directories. #MsgLength=159


----
Modified: Makefile.am|1 1
Renamed: README [from README-dist]|15 5
Deleted: README.txt|0 15
Modified: lib/broker/SessionHandlerImpl.cpp|1 0
Modified: qpidc.spec|1 1
Modified: rpm/Makefile.am|9 3

Revision: 329d5be48944eed729773dcba1a045069a335c1d
Author: Alan Conway <aconway@apache.org>
Date: 16/01/2007 02:28:29
Message:
* Refactor: Moved major broker components (exchanges, queues etc.) from class SessionHandlerImplFactory to more logical class Broker. #MsgLength=137


----
Modified: docs/api/developer.doxygen|2 2
Modified: lib/broker/Broker.cpp|50 5
Modified: lib/broker/Broker.h|18 2
Modified: lib/broker/SessionHandlerFactoryImpl.cpp|11 37
Modified: lib/broker/SessionHandlerFactoryImpl.h|16 27
Modified: lib/broker/SessionHandlerImpl.cpp|30 28
Modified: lib/broker/SessionHandlerImpl.h|6 7
Modified: lib/common/framing/Responder.cpp|2 2
Modified: lib/common/framing/Responder.h|1 1
Modified: tests/FramingTest.cpp|3 3

Revision: 07b5298622c31bcc07f0a0dcd137da0abe14c573
Author: Alan Conway <aconway@apache.org>
Date: 16/01/2007 05:56:23
Message:
* Client & broker using Requester/Responder to manage request/response IDs. #MsgLength=77


----
Modified: lib/broker/Broker.cpp|2 0
Modified: lib/broker/Broker.h|13 0
Modified: lib/broker/SessionHandlerImpl.cpp|150 107
Modified: lib/broker/SessionHandlerImpl.h|19 16
Modified: lib/client/Connection.cpp|16 2
Modified: lib/client/Connection.h|5 0
Modified: lib/client/Connector.cpp|16 3
Modified: lib/client/Connector.h|61 48
Modified: lib/common/framing/AMQFrame.h|8 1
Modified: lib/common/framing/AMQRequestBody.cpp|6 0
Modified: lib/common/framing/AMQRequestBody.h|6 0
Modified: lib/common/framing/AMQResponseBody.cpp|5 0
Modified: lib/common/framing/AMQResponseBody.h|7 0
Modified: lib/common/framing/ProtocolVersionException.h|4 7
Modified: lib/common/framing/Requester.h|1 1

Revision: 74bf34008ca96be95505ff30d73007d5f75a678c
Author: Alan Conway <aconway@apache.org>
Date: 17/01/2007 04:17:50
Message:
* Renamed Session* classes to Connection* to align with AMQP spec - broker::SessionHandlerImpl -> broker::Connection - broker::SessionHandlerImplFactory -> broker::ConnectionFactory - sys::SessionHandler -> ConnectionInputHandler - sys::SessionHandlerFactory -> ConnectionInputHandlerFactory #MsgLength=297


----
Modified: lib/broker/Broker.cpp|3 3
Modified: lib/broker/Broker.h|2 2
Renamed: lib/broker/Connection.cpp [from lib/broker/SessionHandlerImpl.cpp]|70 69
Renamed: lib/broker/Connection.h [from lib/broker/SessionHandlerImpl.h]|20 41
Renamed: lib/broker/ConnectionFactory.cpp [from lib/broker/SessionHandlerFactoryImpl.cpp]|7 7
Renamed: lib/broker/ConnectionFactory.h [from lib/broker/SessionHandlerFactoryImpl.h]|7 7
Modified: lib/broker/Makefile.am|4 4
Modified: lib/broker/QueueRegistry.cpp|0 1
Modified: lib/common/Exception.h|11 0
Modified: lib/common/Makefile.am|2 2
Modified: lib/common/framing/Requester.cpp|7 5
Modified: lib/common/sys/Acceptor.h|2 2
Renamed: lib/common/sys/ConnectionInputHandler.h [from lib/common/sys/SessionHandler.h]|3 3
Renamed: lib/common/sys/ConnectionInputHandlerFactory.h [from lib/common/sys/SessionHandlerFactory.h]|7 7
Modified: lib/common/sys/apr/APRAcceptor.cpp|3 3
Modified: lib/common/sys/apr/LFSessionContext.cpp|1 1
Modified: lib/common/sys/apr/LFSessionContext.h|3 3
Modified: lib/common/sys/posix/EventChannelAcceptor.cpp|5 5
Modified: lib/common/sys/posix/EventChannelConnection.cpp|2 2
Modified: lib/common/sys/posix/EventChannelConnection.h|5 5
Modified: lib/common/sys/posix/PosixAcceptor.cpp|1 1
Modified: tests/AcceptorTest.cpp|2 2
Modified: tests/EventChannelConnectionTest.cpp|4 4
Modified: tests/Makefile.am|1 1
Renamed: tests/MockConnectionInputHandler.h [from tests/MockSessionHandler.h]|13 13

Revision: 653936e0382cd56e520540da5dda174787b4e0a7
Author: Alan Conway <aconway@apache.org>
Date: 17/01/2007 11:49:35
Message:
Separated adapter code from Connection class: Extracted all HandlerImpl classes to BrokerAdapter. The Connection is now part of the version-invariant core, all version-dependent code is in BrokerAdapter. #MsgLength=358


----
Added: lib/broker/BrokerAdapter.cpp|537 0
Added: lib/broker/BrokerAdapter.h|261 0
Modified: lib/broker/BrokerChannel.cpp|10 6
Modified: lib/broker/BrokerChannel.h|1 0
Modified: lib/broker/Connection.cpp|55 535
Modified: lib/broker/Connection.h|43 281
Modified: lib/broker/Makefile.am|6 4
Modified: lib/common/framing/amqp_types.h|1 1

Revision: 996c31c37520d6906ecb519e698fa4b02a7b22eb
Author: Alan Conway <aconway@apache.org>
Date: 18/01/2007 14:27:50
Message:
There are a ton of FIXMES and request/response IDs are not yet working fully but all tests are passing. * broker::Broker: Removed requester/responder from broker. * framing::BodyHandler: added Requester/Responder to BodyHandler, becomes the base class for channel adapters in broker and client. * broker::BrokerAdapter: Inherit BodyHandler, wraps a broker::Channel. Hide private *HandlerImpl detail classes in BodyHandler.cpp. * broker::Connection: Requester/Responder/Adapter now per-channel. Connection channel map replaced with adapter map of BrokerAdapters. handle* functions moved to BrokerAdapter. All methods now handled by a BrokerAdapter for the relevant channel. ChannelHandlerImpl is repsonsible for checking that - No method on a non-0 channel is processed before open() - Channel 0 methods only happen on channel 0 and similar for non-zero methods Checks are not yet complete (see FIXMES) * client::ResponseHandler: fix for client hang if broker crashs. #MsgLength=987


----
Modified: lib/broker/Broker.h|0 6
Modified: lib/broker/BrokerAdapter.cpp|425 178
Modified: lib/broker/BrokerAdapter.h|25 217
Modified: lib/broker/BrokerChannel.cpp|22 13
Modified: lib/broker/BrokerChannel.h|83 72
Modified: lib/broker/Connection.cpp|20 115
Modified: lib/broker/Connection.h|9 33
Modified: lib/client/Connection.cpp|1 0
Modified: lib/client/ResponseHandler.cpp|7 7
Modified: lib/common/framing/BodyHandler.cpp|38 14
Modified: lib/common/framing/BodyHandler.h|46 25
Deleted: tests/BodyHandlerTest.cpp|0 110
Modified: tests/ChannelTest.cpp|1 0
Modified: tests/Makefile.am|0 1
Modified: tests/start_broker|4 0

Revision: 74413b3d0278bb788ecec50698bf93a4f3043970
Author: Alan Conway <aconway@apache.org>
Date: 18/01/2007 15:54:09
Message:
From: Andrew Stitcher <astitcher@redhat.com> #MsgLength=834


----
Modified: lib/broker/BrokerAdapter.cpp|84 306
Modified: lib/broker/Makefile.am|2 0
Added: lib/broker/MessageHandlerImpl.cpp|219 0
Added: lib/broker/MessageHandlerImpl.h|124 0
Modified: tests/Makefile.am|2 1
Added: tests/MessageHandlerTest.cpp|57 0
Modified: tests/client_test.cpp|1 1
Modified: tests/start_broker|1 1

Revision: bcc350e523d49001bdd7f5f49edccc7e95f7603f
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2007 00:02:21
Message:
In case any channel is waiting for a response on termination of the connection, notify the response handler. (Fix to QPID-303). #MsgLength=130


----
Modified: lib/client/ClientChannel.cpp|1 0

Revision: 2831f20fca4d991609b6db1672302785c216fa18
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2007 01:45:23
Message:
* MethodContext: added invocation context for methods. Can carry RequestId as well as ChannelId. * gentools: AMQP_Clinet|ServerOperations and *Body::invoke(): pass MethodContex   instead of channel ID. * All *HandlerImpl classe: use MethodContext instead of channel ID. #MsgLength=273


----
Modified: lib/broker/BrokerAdapter.cpp|68 71
Modified: lib/broker/MessageHandlerImpl.cpp|19 17
Modified: lib/broker/MessageHandlerImpl.h|15 15
Modified: lib/common/framing/AMQMethodBody.cpp|2 1
Modified: lib/common/framing/AMQMethodBody.h|2 2
Added: lib/common/framing/MethodContext.h|55 0

Revision: e37c1e2b012073186e4b37c1a33ac8cbba3184fc
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2007 03:22:40
Message:
Initial implementation of AMQP content data type. #MsgLength=52


----
Modified: lib/broker/BrokerAdapter.cpp|3 2
Modified: lib/common/framing/AMQMethodBody.h|1 0
Modified: lib/common/framing/FramingContent.cpp|38 7
Modified: lib/common/framing/FramingContent.h|17 4
Modified: tests/FramingTest.cpp|24 0

Revision: 32e8ba2f4a8c808bba151ae58133de869a563ef9
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2007 17:37:56
Message:
* tests/FramingTest.cpp - added test for validation of content data type * lib/broker/BrokerAdapter.cpp - initial unbind implementation * lib/common/framing/FramingContent.cpp - minor code cleanup #MsgLength=199


----
Modified: lib/broker/BrokerAdapter.cpp|22 35
Modified: lib/common/framing/FramingContent.cpp|2 5
Modified: tests/FramingTest.cpp|34 0

Revision: 935ee644dcd5b1ca2236b98058f67a3f3957c54a
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2007 05:33:27
Message:
Last big refactoring for 0-9 framing. Still need additional tests & debugging but the overall structure is all in place. #MsgLength=569


----
Modified: configure.ac|1 0
Modified: lib/broker/Broker.cpp|3 2
Modified: lib/broker/BrokerAdapter.cpp|48 46
Modified: lib/broker/BrokerAdapter.h|6 2
Modified: lib/broker/BrokerChannel.h|3 2
Modified: lib/broker/BrokerMessage.cpp|1 0
Modified: lib/broker/Connection.cpp|9 8
Modified: lib/broker/Connection.h|17 13
Modified: lib/broker/ConnectionFactory.cpp|2 2
Modified: lib/broker/ConnectionFactory.h|1 1
Modified: lib/broker/InMemoryContent.cpp|1 0
Modified: lib/broker/LazyLoadedContent.cpp|1 0
Modified: lib/broker/MessageHandlerImpl.cpp|9 9
Modified: lib/broker/MessageHandlerImpl.h|18 18
Modified: lib/client/ClientChannel.cpp|10 0
Modified: lib/client/ClientChannel.h|17 13
Modified: lib/client/Connection.cpp|10 0
Modified: lib/client/Connection.h|20 14
Modified: lib/common/Makefile.am|3 1
Modified: lib/common/framing/AMQFrame.cpp|3 3
Modified: lib/common/framing/AMQFrame.h|3 3
Modified: lib/common/framing/AMQMethodBody.cpp|4 0
Modified: lib/common/framing/AMQMethodBody.h|7 0
Modified: lib/common/framing/AMQResponseBody.cpp|7 0
Modified: lib/common/framing/AMQResponseBody.h|5 0
Modified: lib/common/framing/BodyHandler.cpp|0 19
Modified: lib/common/framing/BodyHandler.h|5 19
Added: lib/common/framing/ChannelAdapter.cpp|70 0
Added: lib/common/framing/ChannelAdapter.h|90 0
Modified: lib/common/framing/MethodContext.h|23 9
Modified: lib/common/framing/OutputHandler.h|1 1
Modified: lib/common/sys/ConnectionInputHandlerFactory.h|2 2
Renamed: lib/common/sys/ConnectionOutputHandler.h [from lib/common/sys/SessionContext.h]|3 3
Modified: lib/common/sys/apr/LFSessionContext.h|2 2
Modified: lib/common/sys/posix/EventChannelAcceptor.cpp|1 1
Modified: lib/common/sys/posix/EventChannelConnection.h|4 4
Modified: lib/common/sys/posix/check.h|1 1
Modified: tests/ChannelTest.cpp|4 1
Modified: tests/InMemoryContentTest.cpp|1 0
Modified: tests/LazyLoadedContentTest.cpp|1 0
Modified: tests/MessageBuilderTest.cpp|3 0
Modified: tests/MessageTest.cpp|1 0
Modified: tests/MockConnectionInputHandler.h|1 1

Revision: f339aac2ae94c96d380ac594ddef86b9ffd88e3d
Author: Alan Conway <aconway@apache.org>
Date: 22/01/2007 23:20:54
Message:
* AMQRequestBody.cpp: encode/decode bug - added missing reserved 4 byte word. * BrokerSingleton: allow broker to run in-process. * RequestResponseTest: skeleton test for request-response round-trip. #MsgLength=200


----
Added: lib/broker/BrokerSingleton.cpp|36 0
Added: lib/broker/BrokerSingleton.h|52 0
Modified: lib/broker/Makefile.am|2 0
Modified: lib/common/framing/AMQRequestBody.cpp|2 0
Modified: tests/Makefile.am|6 1
Added: tests/RequestResponseTest.cpp|57 0

Revision: a148efe3860e650aef5594408cd554ff6c5ab17f
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2007 23:53:15
Message:
Updated size calculation of request frame. #MsgLength=45


----
Modified: lib/common/framing/AMQRequestBody.h|1 1

Revision: 8cb69beb280d94f008c02c87401911d95a81597d
Author: Alan Conway <aconway@apache.org>
Date: 23/01/2007 01:10:25
Message:
* Fixed request-response correlation on the broker. #MsgLength=53


----
Modified: lib/broker/Connection.cpp|1 1
Modified: lib/broker/ConnectionFactory.h|2 1
Modified: lib/common/framing/ChannelAdapter.cpp|1 1
Modified: lib/common/framing/Responder.cpp|3 2
Modified: tests/Makefile.am|3 2
Modified: tests/RequestResponseTest.cpp|7 7

Revision: 67546b825e2c30d9e6e213d53912d0a21d3fb118
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2007 18:04:31
Message:
Don't close channel on connection (resulting in BrokerAdapter being deleted) until close request has been successfully sent. #MsgLength=127


----
Modified: lib/broker/BrokerAdapter.cpp|1 1

Revision: 1592c68a3f87726b25bb5742c40c8b8f4e9ee9a1
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2007 18:54:43
Message:
use same name for pid file as start_broker #MsgLength=45


----
Modified: tests/kill_broker|1 1

Revision: 25d63737a199af46d6478c4af6a9cdd00fccf18d
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2007 00:13:24
Message:
* Added ClientAdapter - client side ChannelAdapter. Updated client side. * Moved ChannelAdapter initialization from ctor to init(), updated broker side. * Improved various exception messages with boost::format messages. * Removed unnecssary virtual inheritance. * Widespread: fixed incorrect non-const ProtocolVersion& parameters. * Client API: pass channels by reference, not pointer. * codegen: - MethodBodyClass.h.templ: Added CLASS_ID, METHOD_ID and isA() template. - Various: fixed non-const ProtocolVersion& parameters. * cpp/bootstrap: Allow config arguments with -build. * cpp/gen/Makefile.am: Merged codegen fixes from trunk. #MsgLength=638


----
Modified: bootstrap|2 1
Modified: gen/Makefile.am|2 16
Added: gen/make-gen-src-mk.sh|30 0
Modified: lib/broker/BrokerAdapter.cpp|11 10
Modified: lib/broker/BrokerAdapter.h|2 0
Modified: lib/broker/BrokerChannel.h|1 0
Modified: lib/broker/Connection.cpp|1 0
Modified: lib/broker/Content.h|1 1
Modified: lib/broker/InMemoryContent.cpp|1 1
Modified: lib/broker/InMemoryContent.h|1 1
Modified: lib/broker/LazyLoadedContent.cpp|1 1
Modified: lib/broker/LazyLoadedContent.h|1 1
Added: lib/client/ClientAdapter.cpp|70 0
Added: lib/client/ClientAdapter.h|66 0
Modified: lib/client/ClientChannel.cpp|246 162
Modified: lib/client/ClientChannel.h|296 254
Modified: lib/client/Connection.cpp|70 184
Modified: lib/client/Connection.h|139 134
Modified: lib/client/Connector.cpp|9 21
Modified: lib/client/Connector.h|2 12
Modified: lib/client/ResponseHandler.cpp|29 10
Modified: lib/client/ResponseHandler.h|33 18
Modified: lib/common/framing/AMQFrame.cpp|7 6
Modified: lib/common/framing/AMQFrame.h|1 1
Modified: lib/common/framing/AMQMethodBody.cpp|2 6
Modified: lib/common/framing/AMQMethodBody.h|10 4
Modified: lib/common/framing/AMQRequestBody.cpp|1 1
Modified: lib/common/framing/AMQResponseBody.cpp|1 1
Modified: lib/common/framing/ChannelAdapter.cpp|36 7
Modified: lib/common/framing/ChannelAdapter.h|29 12
Modified: lib/common/framing/ProtocolInitiation.h|1 1
Modified: lib/common/framing/amqp_types.h|3 0
Modified: lib/common/sys/apr/APRSocket.cpp|1 1
Modified: lib/common/sys/apr/APRSocket.h|1 1
Modified: tests/TxBufferTest.cpp|1 1
Modified: tests/client_test.cpp|7 11
Modified: tests/echo_service.cpp|2 2
Modified: tests/topic_listener.cpp|1 1
Modified: tests/topic_publisher.cpp|1 1

Revision: 01b3c5e7238169178eaca75e82a106c1e3f87fbf
Author: Kim van der Riet <kpvdr@apache.org>
Date: 31/01/2007 00:40:41
Message:
Separated the errata in the XML spec file and put them into a file amqp-errara.0-9.xml. Added this file to the codegen. Fixed minor codegen bug in which fields in merged classes have repeating ordinal numbers. Added missing mandatory field to Message.Transger in the new errata file. #MsgLength=284


----
Modified: gen/Makefile.am|2 2

Revision: 160634f488c089007282a1690b761e5285080131
Author: Alan Conway <aconway@apache.org>
Date: 31/01/2007 02:20:00
Message:
* client/* framing/*: fixed client-side request ID processing. #MsgLength=450


----
Modified: lib/client/ClientChannel.cpp|19 20
Modified: lib/client/ClientChannel.h|4 4
Modified: lib/client/Connection.cpp|33 27
Modified: lib/client/Connection.h|14 12
Modified: lib/client/Connector.h|21 22
Modified: lib/common/framing/ChannelAdapter.cpp|6 3
Modified: lib/common/framing/ChannelAdapter.h|4 1
Modified: lib/common/framing/MethodContext.h|2 2
Modified: lib/common/sys/apr/APRAcceptor.cpp|3 2
Modified: tests/FramingTest.cpp|48 3
Added: tests/InProcessBroker.h|153 0

Revision: 74dfff1d57bd5a445b9aa75e660865bb752e1222
Author: Alan Conway <aconway@apache.org>
Date: 31/01/2007 04:07:41
Message:
Andrew Stitcher <astitcher@redhat.com> r723@fuschia:  andrew | 2007-01-12 00:35:16 +0000 Branch for my work on Qpid.0-9 r724@fuschia:  andrew | 2007-01-12 00:59:28 +0000 Added in empty implementation of handler class for protocol Message class r768@fuschia:  andrew | 2007-01-17 01:25:16 +0000 * Added Test for new MessageHandlerImpl (but no actual tests yet) * Filled in lots of the blanks in the MessageHandlerImpl with code stolen from the BasicHandlerImpl r800@fuschia:  andrew | 2007-01-17 17:34:13 +0000 Updated to latest upstream changes r840@fuschia:  andrew | 2007-01-19 00:31:59 +0000 Fixed merge errors r841@fuschia:  andrew | 2007-01-19 00:47:29 +0000 Another merge problem fixed r878@fuschia:  andrew | 2007-01-24 11:27:48 +0000 Started work on the Message class handler implementation r976@fuschia:  andrew | 2007-01-30 17:05:05 +0000 Working again after broker Message refactor r980@fuschia:  andrew | 2007-01-30 18:39:18 +0000 Fix for extra parameter to transfer #MsgLength=1000


----
Modified: lib/broker/BrokerAdapter.cpp|8 8
Modified: lib/broker/BrokerMessage.cpp|26 26
Modified: lib/broker/BrokerMessage.h|7 6
Added: lib/broker/BrokerMessageBase.h|268 0
Added: lib/broker/BrokerMessageMessage.h|134 0
Modified: lib/broker/Connection.cpp|1 1
Modified: lib/broker/MessageHandlerImpl.cpp|25 13
Modified: lib/broker/MessageHandlerImpl.h|2 1
Modified: lib/client/Connection.cpp|4 3
Modified: lib/common/framing/ChannelAdapter.cpp|3 3
Modified: lib/common/framing/ChannelAdapter.h|1 1
Modified: lib/common/framing/MethodContext.h|8 1
Modified: tests/ChannelTest.cpp|2 2
Modified: tests/ExchangeTest.cpp|1 1
Modified: tests/InProcessBroker.h|153 0
Modified: tests/MessageBuilderTest.cpp|8 8
Modified: tests/MessageTest.cpp|2 2
Modified: tests/QueueTest.cpp|6 6
Modified: tests/TxAckTest.cpp|1 1
Modified: tests/TxPublishTest.cpp|1 1

Revision: 211529bf7a64af0f1cd0495ba256757804bf646e
Author: Alan Conway <aconway@apache.org>
Date: 31/01/2007 07:25:56
Message:
* cpp/lib/broker/Broker.cpp: Defer creation of acceptor till needed so InProcessBroker will not listen on any port. #MsgLength=205


----
Modified: lib/broker/Broker.cpp|17 7
Modified: lib/broker/Broker.h|7 5
Modified: lib/broker/BrokerAdapter.cpp|11 7
Modified: lib/broker/BrokerAdapter.h|2 4
Modified: lib/broker/Connection.cpp|9 8
Modified: lib/broker/Connection.h|8 4
Modified: tests/InProcessBroker.h|1 10

Revision: 02b47959570213122b56a2d64eb0ee77f95f0da8
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2007 00:51:42
Message:
* broker/Broker.cpp: Don't create Acceptor in shutdown() - required so InProcessBroker does not attempt to bind. #MsgLength=116


----
Modified: lib/broker/Broker.cpp|2 1

Revision: 415cdd2cc7daa471f674e0392edb3cf0be7d9bb3
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2007 03:07:04
Message:
* framing/ChannelAdapter.cpp: Enable channel state assertions. #MsgLength=450


----
Modified: lib/broker/Configuration.h|5 4
Modified: lib/client/Connection.cpp|0 4
Modified: lib/client/Connection.h|2 4
Modified: lib/client/ResponseHandler.cpp|2 4
Modified: lib/common/Exception.h|18 9
Modified: lib/common/QpidError.cpp|8 10
Modified: lib/common/QpidError.h|15 4
Modified: lib/common/framing/AMQFrame.cpp|1 1
Modified: lib/common/framing/ChannelAdapter.cpp|13 14
Modified: lib/common/framing/ProtocolVersion.h|1 1
Modified: lib/common/framing/ProtocolVersionException.cpp|6 39
Modified: lib/common/framing/ProtocolVersionException.h|14 10
Modified: lib/common/framing/Requester.cpp|5 2

Revision: 7502f507e4056e1b9ca6a8d34e4a0bfa29848025
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2007 04:17:14
Message:
Trivial FIXMEs. #MsgLength=17


----
Modified: lib/broker/BrokerAdapter.h|6 5
Modified: lib/broker/BrokerChannel.h|0 1
Modified: lib/broker/Connection.h|1 3
Modified: lib/client/Connection.cpp|1 0
Modified: lib/common/framing/AMQMethodBody.h|0 2
Modified: lib/common/framing/Responder.cpp|6 4

Revision: 75f9169c963c0b71de7587696a7e1c33b6db37f9
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2007 07:28:38
Message:
From Andrew Stitcher <astitcher@redhat.com> #MsgLength=1188


----
Modified: lib/broker/BrokerMessage.cpp|26 23
Modified: lib/broker/BrokerMessage.h|1 12
Modified: lib/broker/BrokerMessageBase.h|41 140
Added: lib/broker/BrokerMessageMessage.cpp|94 0
Modified: lib/broker/BrokerMessageMessage.h|12 74
Modified: lib/broker/Makefile.am|2 0
Modified: lib/broker/MessageHandlerImpl.cpp|6 6

Revision: ed95945544134f5483a9577c61e20daa544af79a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/02/2007 21:27:03
Message:
Changed methodBody in Methodcontext to be a shared_ptr #MsgLength=56


----
Modified: lib/broker/Connection.cpp|1 1
Modified: lib/common/framing/ChannelAdapter.cpp|3 3
Modified: lib/common/framing/MethodContext.h|13 5

Revision: 2666ea8ed26072162ea9aed0c888b9f82c26007f
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2007 06:03:10
Message:
* cpp/lib/common/framing/MethodContext.h: Reduced MethodContext to ChannelAdapter and Method Body. Request ID comes from body, ChannelAdapter is used to send frames, not OutputHandler. #MsgLength=942


----
Modified: lib/broker/Broker.cpp|1 1
Modified: lib/broker/BrokerAdapter.cpp|53 247
Modified: lib/broker/BrokerAdapter.h|160 26
Modified: lib/broker/BrokerChannel.cpp|60 14
Modified: lib/broker/BrokerChannel.h|39 33
Modified: lib/broker/BrokerMessage.cpp|54 42
Modified: lib/broker/BrokerMessage.h|96 94
Modified: lib/broker/BrokerMessageBase.h|122 120
Modified: lib/broker/BrokerMessageMessage.cpp|16 17
Modified: lib/broker/BrokerMessageMessage.h|33 34
Modified: lib/broker/Connection.cpp|15 23
Modified: lib/broker/Connection.h|15 15
Modified: lib/broker/Content.h|16 12
Modified: lib/broker/InMemoryContent.cpp|8 5
Modified: lib/broker/InMemoryContent.h|1 1
Modified: lib/broker/LazyLoadedContent.cpp|8 5
Modified: lib/broker/LazyLoadedContent.h|6 2
Modified: lib/broker/MessageBuilder.h|3 1
Modified: lib/broker/MessageHandlerImpl.cpp|58 57
Modified: lib/broker/NullMessageStore.h|1 1
Modified: lib/client/ClientChannel.cpp|12 16
Modified: lib/client/ResponseHandler.cpp|5 1
Modified: lib/client/ResponseHandler.h|4 3
Modified: lib/common/framing/AMQMethodBody.cpp|0 4
Modified: lib/common/framing/AMQMethodBody.h|2 5
Modified: lib/common/framing/AMQRequestBody.h|1 1
Modified: lib/common/framing/AMQResponseBody.cpp|0 7
Modified: lib/common/framing/AMQResponseBody.h|3 5
Modified: lib/common/framing/ChannelAdapter.cpp|4 12
Modified: lib/common/framing/ChannelAdapter.h|7 14
Modified: lib/common/framing/MethodContext.h|24 35
Modified: lib/common/framing/ProtocolVersion.cpp|4 1
Modified: tests/ChannelTest.cpp|58 34
Modified: tests/ExchangeTest.cpp|7 1
Modified: tests/FramingTest.cpp|4 3
Modified: tests/InMemoryContentTest.cpp|14 21
Modified: tests/LazyLoadedContentTest.cpp|9 21
Modified: tests/MessageBuilderTest.cpp|17 7
Modified: tests/MessageTest.cpp|11 14
Modified: tests/QueueTest.cpp|13 7
Modified: tests/TxAckTest.cpp|5 2
Modified: tests/TxPublishTest.cpp|7 4

Revision: 7d07ac37d4415a693611f976fa2111bcdbbbe9ad
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2007 21:20:42
Message:
File missed in last commit. #MsgLength=29


----
Added: tests/DummyChannel.h|69 0

Revision: 0b772864cd352c8dc4c8e611f702bfdc58331992
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:18:32
Message:
 r768@fuschia:  andrew | 2007-01-17 01:25:16 +0000 * Added Test for new MessageHandlerImpl (but no actual tests yet) * Filled in lots of the blanks in the MessageHandlerImpl with code stolen from the BasicHandlerImpl #MsgLength=221


----
Modified: tests/Makefile.am|1 0
Modified: tests/MessageHandlerTest.cpp|1 1

Revision: 93168fbb39f7c8a538251893c9460cc7c5c63c74
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:18:46
Message:
 #MsgLength=0


----

Revision: d0c1674fa0e2a04c5bd73f73942f89a90766b152
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:19:50
Message:
 r800@fuschia:  andrew | 2007-01-17 17:34:13 +0000 Updated to latest upstream changes #MsgLength=88


----
Modified: lib/broker/BrokerAdapter.cpp|193 0
Modified: tests/MessageHandlerTest.cpp|1 1

Revision: 4c81fae95c36306b0abafb311e711ce4f3459dfb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:20:06
Message:
 #MsgLength=0


----

Revision: 245ec3f8292f029957332d88dc5261e1b7329d29
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:20:21
Message:
 #MsgLength=0


----

Revision: 441cff4337c9d0f9676625a663f97ad93fc2cc12
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:20:42
Message:
 #MsgLength=0


----
Modified: lib/broker/BrokerAdapter.cpp|23 0

Revision: e5818967cffb454071599928d4eff8d6e23028f9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 22:21:02
Message:
 #MsgLength=0


----
Modified: lib/broker/BrokerAdapter.cpp|23 0

Revision: 5c462acb1ebfb940ba3457f6a1204cd8c3433e22
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2007 23:01:45
Message:
* broker/Reference, tests/ReferenceTest: class representing a reference. * broker/BrokerChannel.cpp (complete): get destination exchange from Message, don't assume only one message in progress (could have multiple references open.) * broker/BrokerMessageMessage.cpp,.h: Contains transfer body and vector of append bodies. Construct from Reference. * broker/CompletionHandler.h: Extracted from BrokerMessage, used for MessageMessage also. * broker/ExchangeRegistry.cpp: Moved throw for missing exchanges to registry. * cpp/tests/start_broker: Increased wait time to 5 secs. * cpp/tests/*: renamed DummyChannel  as MockChannel. #MsgLength=638


----
Modified: lib/broker/BrokerAdapter.cpp|0 240
Modified: lib/broker/BrokerChannel.cpp|16 14
Modified: lib/broker/BrokerChannel.h|4 4
Modified: lib/broker/BrokerMessageMessage.cpp|33 18
Modified: lib/broker/BrokerMessageMessage.h|22 11
Added: lib/broker/CompletionHandler.h|39 0
Modified: lib/broker/ExchangeRegistry.cpp|4 1
Modified: lib/broker/Makefile.am|2 0
Modified: lib/broker/MessageBuilder.cpp|4 1
Modified: lib/broker/MessageBuilder.h|4 7
Modified: lib/broker/MessageHandlerImpl.cpp|48 40
Modified: lib/broker/MessageHandlerImpl.h|16 7
Added: lib/broker/Reference.cpp|56 0
Added: lib/broker/Reference.h|111 0
Modified: lib/common/framing/MethodContext.h|4 1
Modified: tests/ChannelTest.cpp|8 7
Modified: tests/InMemoryContentTest.cpp|2 2
Modified: tests/LazyLoadedContentTest.cpp|2 2
Modified: tests/Makefile.am|9 7
Modified: tests/MessageBuilderTest.cpp|11 11
Modified: tests/MessageTest.cpp|3 3
Renamed: tests/MockChannel.h [from tests/DummyChannel.h]|9 9
Modified: tests/QueueTest.cpp|2 2
Added: tests/ReferenceTest.cpp|116 0
Modified: tests/TxAckTest.cpp|2 2
Modified: tests/TxPublishTest.cpp|2 2
Modified: tests/start_broker|1 1

Revision: 7448b54a618d29b92eacf056a832576b0c75099d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/02/2007 23:53:33
Message:
Inline transferred messages delivered #MsgLength=39


----
Modified: lib/broker/BrokerAdapter.cpp|5 0
Modified: lib/broker/BrokerChannel.cpp|11 0
Modified: lib/broker/BrokerChannel.h|9 1
Modified: lib/broker/BrokerMessageMessage.cpp|40 6
Modified: lib/broker/BrokerMessageMessage.h|10 2
Modified: lib/broker/MessageHandlerImpl.cpp|20 22
Modified: tests/Makefile.am|0 1

Revision: 0527e798d5fece568696eaf74164a3a19bef50ee
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2007 05:38:30
Message:
* cpp/lib/broker/BrokerQueue.cpp (): Centralized exceptions. * cpp/lib/broker/BrokerAdapter.cpp (consume): Moved exceptions to Queue * cpp/lib/broker/BrokerChannel.cpp (consume): Moved exceptions to Queue * cpp/lib/broker/BrokerMessageBase.cpp: - Added getApplicationHeaders. * cpp/lib/broker/BrokerMessageMessage.cpp: - Fixed exchangeName/destination mix up. - Removed redundant constructor. - Added getApplicationHeaders * cpp/lib/broker/MessageHandlerImpl.cpp: - Added missing acknowledgements - Replaced assert(0) with throw "unimplemented". - Moved exchange existence exceptions to ExchangeRegistry - Handle transfers with references. * cpp/tests/Makefile.am (check): Don't run tests unless all libs built OK. * cpp/tests/python_tests: Re-enabled python tests. Not all passing. #MsgLength=868


----
Modified: lib/broker/BrokerAdapter.cpp|14 15
Modified: lib/broker/BrokerChannel.cpp|8 7
Modified: lib/broker/BrokerMessage.cpp|8 1
Modified: lib/broker/BrokerMessage.h|1 0
Modified: lib/broker/BrokerMessageBase.h|6 0
Modified: lib/broker/BrokerMessageMessage.cpp|37 31
Modified: lib/broker/BrokerMessageMessage.h|2 7
Modified: lib/broker/BrokerQueue.cpp|13 4
Modified: lib/broker/BrokerQueue.h|3 3
Modified: lib/broker/MessageHandlerImpl.cpp|57 65
Modified: lib/broker/MessageHandlerImpl.h|3 4
Modified: tests/Makefile.am|3 0
Modified: tests/python_tests|0 4

Revision: fdd95d3937963d4431365615f05b583481032df9
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2007 18:13:41
Message:
* broker/BrokerMessage.cpp: Added ConnectionToken publisher. #MsgLength=289


----
Modified: lib/broker/BrokerChannel.cpp|3 1
Modified: lib/broker/BrokerChannel.h|1 1
Modified: lib/broker/BrokerMessage.cpp|7 10
Modified: lib/broker/BrokerMessage.h|0 2
Modified: lib/broker/BrokerMessageBase.h|10 4
Modified: lib/broker/BrokerMessageMessage.cpp|38 46
Modified: lib/broker/BrokerMessageMessage.h|11 8
Modified: lib/broker/MessageHandlerImpl.cpp|7 8
Modified: lib/broker/Reference.cpp|4 4
Modified: lib/broker/Reference.h|13 12
Modified: tests/ReferenceTest.cpp|20 20

Revision: 1fb566e32e7221bb13a4158b128ea38beaa2b31c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/02/2007 00:15:58
Message:
 r840@fuschia:  andrew | 2007-01-19 00:31:59 +0000 Fixed merge errors r841@fuschia:  andrew | 2007-01-19 00:47:29 +0000 Another merge problem fixed r878@fuschia:  andrew | 2007-01-24 11:27:48 +0000 Started work on the Message class handler implementation r976@fuschia:  andrew | 2007-01-30 17:05:05 +0000 Working again after broker Message refactor r980@fuschia:  andrew | 2007-01-30 18:39:18 +0000 Fix for extra parameter to transfer r992@fuschia:  andrew | 2007-01-31 18:29:57 +0000 Checkpoint of work on broker MessageMessage r1001@fuschia:  andrew | 2007-01-31 22:02:27 +0000 MessageMessage work now compiles r1071@fuschia:  andrew | 2007-02-06 14:14:30 +0000 Implemented outgoing Message.Transfer so that messages are now delivered - Still to do: correctly process the Message.Ok acknowledgements; Message.Get etc. r1081@fuschia:  andrew | 2007-02-06 14:53:22 +0000 Fixed broken push r1084@fuschia:  andrew | 2007-02-06 15:48:20 +0000 Merge fixes r1091@fuschia:  andrew | 2007-02-07 16:15:27 +0000 Implement contentSize for inline content #MsgLength=1071


----
Modified: lib/broker/BrokerMessageMessage.cpp|5 2

Revision: 46882f05fe9deec8c65006a6fa401d09c75d02cc
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2007 05:31:51
Message:
Removed out of date FIXME. #MsgLength=28


----
Modified: lib/broker/MessageHandlerImpl.cpp|0 1

Revision: 06b84c2dc23da80ec77d356ad8055f62702000e9
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2007 05:59:22
Message:
* cpp/lib/broker/Content.h: removed destroy. Destructor cleans up. * cpp/lib/broker/BrokerMessage.cpp: Removed Content::destroy call, * cpp/lib/broker/InMemoryContent.cpp/.h: Remove empty destroy() and destructor. * cpp/lib/broker/LazyLoadedContent.cpp/.h: Moved destroy() to destructor #MsgLength=288


----
Modified: lib/broker/BrokerMessage.cpp|1 3
Modified: lib/broker/Content.h|24 4
Modified: lib/broker/InMemoryContent.cpp|0 3
Modified: lib/broker/InMemoryContent.h|0 2
Modified: lib/broker/LazyLoadedContent.cpp|5 4
Modified: lib/broker/LazyLoadedContent.h|1 2

Revision: 05d360e816de9b5cb3d4adcdba0f5fa5e57084dc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/02/2007 08:52:46
Message:
 r1102@fuschia:  andrew | 2007-02-09 00:52:04 +0000 Got ack working for the non batched case Small tidy up in broker Channel #MsgLength=128


----
Modified: lib/broker/BrokerAdapter.cpp|1 1
Modified: lib/broker/BrokerChannel.cpp|14 7
Modified: lib/broker/BrokerChannel.h|3 3
Modified: lib/broker/MessageHandlerImpl.cpp|7 12
Modified: lib/common/framing/ChannelAdapter.cpp|7 2
Modified: lib/common/framing/ChannelAdapter.h|1 0
Modified: lib/common/framing/Requester.h|3 0
Modified: tests/ChannelTest.cpp|1 1

Revision: f1cc9a5ca6193e67ddc66742855201d1c66e2077
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/02/2007 10:16:03
Message:
 r1104@fuschia:  andrew | 2007-02-09 02:14:00 +0000 Initial implementation of Message.get delivery #MsgLength=101


----
Modified: lib/broker/BrokerAdapter.cpp|1 1
Modified: lib/broker/BrokerChannel.cpp|3 4
Modified: lib/broker/BrokerChannel.h|1 1
Modified: lib/broker/BrokerMessage.cpp|2 1
Modified: lib/broker/BrokerMessage.h|1 0
Modified: lib/broker/BrokerMessageBase.h|1 0
Modified: lib/broker/BrokerMessageMessage.cpp|28 2
Modified: lib/broker/BrokerMessageMessage.h|1 0
Modified: lib/broker/MessageHandlerImpl.cpp|2 2

Revision: f0a48d840b609871e03169781e98a2b38bdbd3d2
Author: Gordon Sim <gsim@apache.org>
Date: 09/02/2007 21:52:00
Message:
Fix to close connection when issuing a connection exception (ideally would wait a short while before doing so, but this is better than nothing for now). #MsgLength=155


----
Modified: lib/broker/BrokerChannel.cpp|2 0

Revision: c4f4735dbeb4b2eef7aa872525e9b96d081ed44c
Author: Gordon Sim <gsim@apache.org>
Date: 09/02/2007 22:03:16
Message:
'Corrected' error code (507 no longer exists in the spec so using what java has i.e. 530). #MsgLength=93


----
Modified: lib/broker/BrokerAdapter.cpp|1 1

Revision: 08abae0f893da051d347e0193945b9fd3d4e9c8c
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2007 00:46:16
Message:
Handle invalid channels. #MsgLength=27


----
Modified: lib/broker/BrokerChannel.cpp|10 10
Modified: lib/broker/BrokerChannel.h|1 0
Modified: lib/broker/Connection.cpp|5 0
Modified: lib/broker/Connection.h|1 0
Modified: tests/ChannelTest.cpp|2 0

Revision: 7f1dadfb678baeb8d0cd49c71a7612162b927f34
Author: Gordon Sim <gsim@apache.org>
Date: 12/02/2007 18:52:55
Message:
Changed default virtual host to "" (was "/"). #MsgLength=48


----
Modified: lib/client/Connection.h|1 1
Modified: tests/FramingTest.cpp|1 1

Revision: 8d2062bc9838049b617138e2fbc538feaea8c955
Author: Gordon Sim <gsim@apache.org>
Date: 12/02/2007 22:26:01
Message:
Corrected calculation of inline content size. #MsgLength=48


----
Modified: lib/broker/BrokerMessageMessage.cpp|1 1

Revision: e8c6b8229d4951a33ee96b440be796f5815ac699
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2007 10:41:14
Message:
* gentools/templ.cpp/*Proxy*, CppGenerator.java: Changes to Proxy classes to make them directly usable as an API for low-level AMQP access. - Proxies hold reference to a ChannelAdapter not just an output handler. - Removed MethodContext parameter, makes no sense on requester end. - Return RequestId from request methods so caller can correlate incoming responses. - Add RequestId parameter to response methods so caller can provide correlation for outgoing responses. - No longer inherit from *Operations classes as the signatures no longer match. Proxy is for caller (client/requester) and Operations is for callee (server/responder) #MsgLength=1146


----
Modified: lib/Makefile.am|1 1
Modified: lib/broker/Broker.h|0 1
Modified: lib/broker/BrokerAdapter.cpp|98 69
Modified: lib/broker/BrokerAdapter.h|55 41
Modified: lib/broker/BrokerChannel.cpp|44 51
Modified: lib/broker/BrokerChannel.h|15 11
Modified: lib/broker/BrokerMessage.cpp|3 0
Modified: lib/broker/BrokerMessage.h|6 7
Modified: lib/broker/BrokerMessageBase.h|22 22
Modified: lib/broker/BrokerQueue.cpp|3 1
Modified: lib/broker/BrokerQueue.h|7 3
Modified: lib/broker/Connection.cpp|23 20
Modified: lib/broker/Connection.h|32 29
Added: lib/broker/HandlerImpl.h|71 0
Modified: lib/broker/MessageHandlerImpl.cpp|16 17
Modified: lib/broker/MessageHandlerImpl.h|5 8
Modified: lib/client/ClientChannel.cpp|12 0
Modified: lib/client/ClientChannel.h|18 4
Modified: lib/client/Connection.cpp|1 1
Modified: lib/client/Connection.h|5 6
Modified: lib/client/Connector.cpp|9 5
Modified: lib/client/Connector.h|1 1
Modified: lib/common/Makefile.am|8 4
Modified: lib/common/framing/AMQFrame.cpp|13 6
Modified: lib/common/framing/AMQFrame.h|4 4
Modified: lib/common/framing/ChannelAdapter.cpp|6 2
Modified: lib/common/framing/ChannelAdapter.h|7 8
Modified: lib/common/framing/FramingContent.h|3 3
Added: lib/common/framing/MethodContext.cpp|31 0
Modified: lib/common/framing/MethodContext.h|6 2
Modified: lib/common/framing/ProtocolInitiation.cpp|11 6
Modified: lib/common/framing/ProtocolInitiation.h|2 2
Modified: lib/common/framing/ProtocolVersion.cpp|6 29
Modified: lib/common/framing/ProtocolVersion.h|13 13
Modified: lib/common/framing/ProtocolVersionException.h|1 1
Added: lib/common/framing/Proxy.cpp|32 0
Added: lib/common/framing/Proxy.h|51 0
Modified: lib/common/framing/amqp_types.h|9 0
Added: lib/common/framing/amqp_types_full.h|36 0
Modified: tests/MessageTest.cpp|1 1

Revision: 21f89996e73cb2bb2cee95108503a817e968f93c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/02/2007 05:52:30
Message:
 r1111@fuschia:  andrew | 2007-02-09 15:51:10 +0000 Removed currently unused request tracking logic r1125@fuschia:  andrew | 2007-02-13 21:51:30 +0000 Implemented receiveing batched Message.ok in c++ broker Implemented batched response frames in python client code #MsgLength=270


----
Modified: lib/broker/AccumulatedAck.cpp|6 6
Modified: lib/broker/AccumulatedAck.h|1 1
Modified: lib/broker/BrokerAdapter.cpp|1 5
Modified: lib/broker/BrokerChannel.cpp|21 8
Modified: lib/broker/BrokerChannel.h|1 2
Modified: lib/common/framing/ChannelAdapter.cpp|0 3
Modified: lib/common/framing/ChannelAdapter.h|2 2
Modified: lib/common/framing/Requester.cpp|2 13
Modified: lib/common/framing/Requester.h|7 2

Revision: 92a3b7fd561989597965f7110df8d2440bb40668
Author: Alan Conway <aconway@apache.org>
Date: 14/02/2007 23:02:10
Message:
* cpp/lib/common/sys/ProducerConsumer.h: #MsgLength=481


----
Modified: lib/broker/BrokerChannel.cpp|2 2
Modified: lib/broker/BrokerChannel.h|0 1
Modified: lib/client/ClientChannel.cpp|0 6
Modified: lib/client/ClientChannel.h|6 2
Modified: lib/common/Makefile.am|4 2
Modified: lib/common/sys/AtomicCount.h|3 21
Added: lib/common/sys/ProducerConsumer.cpp|141 0
Added: lib/common/sys/ProducerConsumer.h|165 0
Added: lib/common/sys/ScopedIncrement.h|59 0
Modified: tests/InProcessBroker.h|18 149
Modified: tests/Makefile.am|3 2
Added: tests/ProducerConsumerTest.cpp|283 0

Revision: 59c5872a651a8f5deeaae36bae4832763f49ef17
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/02/2007 00:22:38
Message:
 r1127@fuschia:  andrew | 2007-02-14 16:15:34 +0000 Fixed tests, and fixed an exposed bug #MsgLength=92


----
Modified: lib/broker/AccumulatedAck.cpp|5 2
Modified: tests/AccumulatedAckTest.cpp|8 8

Revision: df9a1bddc8765c56e034664b69937fbc6e3072ae
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2007 00:58:52
Message:
Added durability property to queues and pass this to broker on declare. (This change also applied on trunk) #MsgLength=153


----
Modified: lib/broker/AccumulatedAck.cpp|9 4
Modified: lib/client/ClientChannel.cpp|1 1
Modified: lib/client/ClientQueue.cpp|13 5
Modified: lib/client/ClientQueue.h|11 8
Modified: tests/AccumulatedAckTest.cpp|29 5

Revision: bc8158eeebf6a16252327be02a028c59d70fbaab
Author: Alan Conway <aconway@apache.org>
Date: 16/02/2007 05:20:52
Message:
Constructor version argument defaults to highestProtocolVersion. #MsgLength=66


----
Modified: tests/InProcessBroker.h|7 3

Revision: 16b4aabfb0f80e578b7aafbc974fcfeee963033d
Author: Gordon Sim <gsim@apache.org>
Date: 16/02/2007 20:26:11
Message:
Altered exception thrown for unopened and reopened references. #MsgLength=65


----
Modified: lib/broker/Reference.cpp|2 3

Revision: c29476e3ee9158458f99dcd9d5880799dbebfbec
Author: Alan Conway <aconway@apache.org>
Date: 17/02/2007 11:46:44
Message:
* cpp/lib/client/ClientMessage.h/.cpp: Added Message constructor taking data. * cpp/lib/client/IncomingMessage.cpp: Simplified message aggregation. * cpp/lib/common/framing/AMQ*Body.h: remove unnecessary virtual inheritance. * cpp/lib/common/framing/AMQMethodBody.h: add bool isRequest, isResponse * cpp/lib/common/sys/Mutex.h (class ScopedUnlock): Added ScopedUnlock * cpp/lib/common/sys/ThreadSafeQueue.h: Thread-safe queue template. * cpp/tests/BrokerChannelTest.cpp: Renamed from ChannelTest. * cpp/tests/ClientChannelTest.cpp: Test client API. * cpp/tests/RequestResponseTest.cpp: Removed empty test. * cpp/lib/client/Connection.h,.cpp: - non-static channelIdCounter - No close() in dtor. #MsgLength=697


----
Modified: docs/api/developer.doxygen|3 3
Modified: lib/client/ClientChannel.cpp|2 2
Modified: lib/client/ClientMessage.cpp|9 2
Modified: lib/client/ClientMessage.h|8 6
Modified: lib/client/Connection.cpp|2 6
Modified: lib/client/Connection.h|1 1
Modified: lib/client/IncomingMessage.cpp|5 17
Modified: lib/client/IncomingMessage.h|2 4
Modified: lib/common/ExceptionHolder.h|1 0
Modified: lib/common/framing/AMQContentBody.h|1 1
Modified: lib/common/framing/AMQHeaderBody.h|1 1
Modified: lib/common/framing/AMQHeartbeatBody.h|1 1
Modified: lib/common/framing/AMQMethodBody.h|3 0
Modified: lib/common/framing/AMQRequestBody.h|1 0
Modified: lib/common/framing/AMQResponseBody.h|1 0
Modified: lib/common/sys/Mutex.h|11 0
Added: lib/common/sys/ThreadSafeQueue.h|99 0
Renamed: tests/BrokerChannelTest.cpp [from tests/ChannelTest.cpp]|4 4
Renamed: tests/ClientChannelTest.cpp [from tests/RequestResponseTest.cpp]|46 21
Modified: tests/InProcessBroker.h|3 4
Modified: tests/Makefile.am|17 15

Revision: c301076561f8d1506e1801f5917ded4531336fcb
Author: Alan Conway <aconway@apache.org>
Date: 17/02/2007 11:54:15
Message:
ClientChannel: removed server proxy, not used. #MsgLength=48


----
Modified: lib/client/ClientChannel.cpp|2 10
Modified: lib/client/ClientChannel.h|0 13

Revision: bb896c5b718ba2163c201109d01eb219e177ff08
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/02/2007 08:23:25
Message:
 r1152@fuschia:  andrew | 2007-02-17 21:14:42 +0000 More support for references (and transfers of reference content) r1220@fuschia:  andrew | 2007-02-21 00:22:53 +0000 Working version of delivering Message Transfers by reference #MsgLength=233


----
Modified: lib/broker/BrokerMessageMessage.cpp|40 5
Modified: lib/broker/BrokerMessageMessage.h|8 10
Modified: lib/broker/MessageHandlerImpl.cpp|67 48
Modified: lib/broker/Reference.cpp|9 10
Modified: lib/broker/Reference.h|11 12
Modified: tests/ReferenceTest.cpp|20 34

Revision: 9526e9ee082fdf42af9e6afcd05860d2f2198c5a
Author: Alan Conway <aconway@apache.org>
Date: 22/02/2007 03:25:45
Message:
Thread safety fixes for race conditions on incoming messages. * cpp/lib/client/MessageListener.h:  const correctness. * cpp/tests/*: MessageListener const change. * cpp/lib/broker/Content.h:  Removed out-of-date FIXME comments. * cpp/lib/client/ClientChannel.h/	.cpp(): - added locking for consumers map and other member access. - refactored implementations of Basic get, deliver, return: most logic now encapsulted in IncomingMessage class. - fix channel close problems. * cpp/lib/client/ClientMessage.h/.cpp: - const correctness & API convenience fixes. - getMethod/setMethod/getHeader: for new IncomingMessage * cpp/lib/client/Connection.h/.cpp: - Fixes to channel closure. * cpp/lib/client/IncomingMessage.h/.cpp: - Encapsulate *all* incoming message handling for client. - Moved handling of BasicGetOk to IncomingMessage to fix race. - Thread safety fixes. * cpp/lib/client/ResponseHandler.h/.cpp: - added getResponse for ClientChannel. * cpp/lib/common/Exception.h: - added missing throwSelf implementations. - added ShutdownException as general purpose shut-down indicator. - added EmptyException as general purpose "empty" indicator. * cpp/lib/common/sys/Condition|Monitor|Mutex.h|.cpp: - Condition variable abstraction extracted from Monitor for situations where a single lock is associated with multiple conditions. * cpp/tests/ClientChannelTest.cpp: - Test incoming message transfer, get, consume etc. #MsgLength=1436


----
Modified: lib/broker/Content.h|0 4
Modified: lib/client/ClientChannel.cpp|130 172
Modified: lib/client/ClientChannel.h|6 15
Modified: lib/client/ClientMessage.cpp|21 16
Modified: lib/client/ClientMessage.h|81 71
Modified: lib/client/Connection.cpp|9 6
Modified: lib/client/IncomingMessage.cpp|124 28
Modified: lib/client/IncomingMessage.h|87 30
Modified: lib/client/ResponseHandler.cpp|9 5
Modified: lib/client/ResponseHandler.h|1 1
Modified: lib/common/Exception.cpp|4 0
Modified: lib/common/Exception.h|16 0
Modified: lib/common/ExceptionHolder.h|9 5
Modified: lib/common/framing/ChannelAdapter.h|2 0
Added: lib/common/sys/Condition.h|128 0
Modified: lib/common/sys/Monitor.h|6 78
Modified: lib/common/sys/Mutex.h|3 0
Modified: tests/ClientChannelTest.cpp|96 14

Revision: a9a4663c3ee2762ea960d363652faf5f92bbb9e3
Author: Alan Conway <aconway@apache.org>
Date: 22/02/2007 04:09:23
Message:
Fix spurious error message printed by client when broker closes connection. #MsgLength=77


----
Modified: lib/client/Connector.cpp|5 3
Modified: lib/common/sys/apr/Socket.cpp|5 2

Revision: 159e67fb676bd1528038c3964bfd108ab7dbfc8e
Author: Alan Conway <aconway@apache.org>
Date: 22/02/2007 23:39:58
Message:
Added some more logging. #MsgLength=26


----
Modified: tests/topic_listener.cpp|31 28

Revision: ade0fdc5d09db8c5dac62ee2f8a7e071dee72cb4
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2007 07:23:52
Message:
* cpp/lib/client/Basic.*, ClientChannel.*: Extracted Basic functionality from Channel into separate Basic class. * cpp/lib/client/*, cpp/test/*: Adjusted for new Channel::getBasic() API. #MsgLength=190


----
Added: lib/client/Basic.cpp|255 0
Added: lib/client/Basic.h|195 0
Modified: lib/client/ClientChannel.cpp|43 221
Modified: lib/client/ClientChannel.h|41 153
Modified: lib/client/ClientMessage.h|2 1
Modified: lib/client/Connection.h|1 0
Modified: lib/client/Makefile.am|2 0
Modified: lib/common/sys/ThreadSafeQueue.h|2 3
Modified: tests/ClientChannelTest.cpp|14 14
Modified: tests/client_test.cpp|2 2
Modified: tests/echo_service.cpp|5 5
Modified: tests/topic_listener.cpp|12 12
Modified: tests/topic_publisher.cpp|18 18

Revision: 0dccf4033849dcd9790ba52eaf5eadf9aca37b21
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/02/2007 23:41:28
Message:
 r1237@fuschia:  andrew | 2007-02-23 15:40:44 +0000 Bug in acks - Small typo fixed #MsgLength=85


----
Modified: lib/broker/BrokerChannel.cpp|1 3

Revision: 4cd224f2f15f62dc47811b05bb22484863ce5512
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2007 02:01:22
Message:
 r1239@fuschia:  andrew | 2007-02-26 10:58:52 +0000 Refactored message transfer to extract commmonality from deliver/get r1242@fuschia:  andrew | 2007-03-05 17:54:44 +0000 Turn oversize inline transfers into reference transfers #MsgLength=232


----
Modified: lib/broker/BrokerMessageMessage.cpp|56 33
Modified: lib/broker/BrokerMessageMessage.h|4 0
Modified: lib/broker/MessageHandlerImpl.cpp|3 3

Revision: fcbfe6d30a0bb73e00d24d091bb80b01c90fddc8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/03/2007 03:43:09
Message:
 r1278@fuschia:  andrew | 2007-03-08 19:42:43 +0000 Correctly split reference messages into chunks shorter than the framesize #MsgLength=129


----
Modified: lib/broker/BrokerMessageMessage.cpp|15 3

Revision: 4253b4da3302a34f30d905a2c63c0854f3d67b9f
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2007 00:51:47
Message:
Merged revisions 492636 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=306


----
Modified: rpm/Makefile.am|5 10

Revision: 9255d73d3ee506f86f5743795386d2ac0e71ebd5
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2007 00:56:13
Message:
Merged revisions 492641 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=239


----

Revision: 24b77ae7554ce4220ea794444ebb5aaefff5a3cf
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2007 01:57:40
Message:
Merged revisions 492756 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=303


----
Modified: lib/common/Makefile.am|1 0

Revision: 2e90e509578191535727d9aaed54523ff260d139
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2007 02:15:02
Message:
Merged revisions 493126-493151 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=1031


----
Modified: README-dev|5 3
Modified: gen/Makefile.am|1 1
Modified: lib/broker/Makefile.am|2 1
Modified: lib/client/Makefile.am|3 2

Revision: 9f641330fb128ea4e68770d15c6db8b71e7dcb29
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 03:44:09
Message:
Merged revisions 495629 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=355


----
Modified: qpidc.spec|3 6

Revision: e01887f3ff71f3facfe548f5d03a09f2a4bc807e
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 04:14:31
Message:
Merged revisions 496317 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=821


----
Modified: lib/broker/AccumulatedAck.h|3 1
Modified: lib/broker/BrokerChannel.cpp|1 0
Modified: tests/AccumulatedAckTest.cpp|3 5
Modified: tests/TxAckTest.cpp|1 1

Revision: 982342db1f13692b63592e6af14362ecf4cdbb5f
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 04:16:58
Message:
Merged revisions 496665 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=257


----
Modified: lib/common/framing/Value.cpp|4 1
Modified: lib/common/sys/apr/LFSessionContext.cpp|9 3

Revision: a83cae34062e544b3cf7edf14977fb4bfca83d1b
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 04:28:37
Message:
Merged revisions 496678 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=269


----
Modified: lib/common/sys/apr/LFSessionContext.cpp|1 1

Revision: f36fb9156c0618a649dcb01126383be0dfd4ed19
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 04:39:05
Message:
Merged revisions 497341 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=259


----
Modified: lib/common/sys/apr/LFSessionContext.cpp|1 1

Revision: 90ad6f89a07134c6d3274014b746c4b51561658f
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 05:23:20
Message:
Merged revisions 497439 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=300


----
Modified: lib/common/framing/Value.cpp|5 0
Modified: lib/common/framing/Value.h|8 0

Revision: b41989e79c69599dee3c14a00585b0a70890abc7
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 05:55:02
Message:
Merged revisions 499049 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=1682


----
Modified: README-dev|21 4
Modified: configure.ac|16 0
Modified: docs/api/Makefile.am|5 6
Modified: qpid-autotools-install|2 2
Added: tests/.vg-supp|2481 0
Modified: tests/Makefile.am|19 4
Modified: tests/run-unit-tests|7 1
Added: tests/setup|74 0

Revision: ec1a5816e53f48ddfa09434bb4b8fde501523fc5
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 06:04:40
Message:
Merged revisions 499374 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=990


----
Modified: LICENSE.txt|0 0
Modified: Makefile.am|13 2
Deleted: qpidc.spec|0 140

Revision: 0a7cb5431774e5d9576d4babda18ca73980cddff
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 06:10:16
Message:
Merged revisions 499803 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=405


----
Renamed: LICENSE [from LICENSE.txt]|0 0
Modified: Makefile.am|1 1
Renamed: NOTICE [from NOTICE.txt]|1 1
Modified: README|2 0
Modified: rpm/Makefile.am|2 2

Revision: 16e7db3875a92c84b897c069e3542b0a6cf9e1fd
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 07:01:36
Message:
Restore qpidc.spec.in, accidentally deleted during merge #MsgLength=57


----
Added: qpidc.spec.in|139 0

Revision: 7dcaed00352ace9ab9eb1864a5ef91915ac9b996
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2007 07:10:31
Message:
Merged revisions 499845 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=432


----
Modified: qpidc.spec.in|4 1
Modified: rpm/Makefile.am|5 4
Modified: tests/Makefile.am|3 0

Revision: f55ddcf0b1101b29e343ae4e6c98eb55a341b167
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 00:11:03
Message:
Merged revisions 499847 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=250


----
Modified: qpidc.spec.in|3 2

Revision: 21c09510a966fd8be017846564b1ccb182f3c2d7
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 00:13:06
Message:
Merged revisions 499864 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=237


----
Modified: rpm/Makefile.am|1 1

Revision: 5545ddfb72ce2a797e7c7b5099f5460d0602d480
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 00:27:56
Message:
Merged revisions 506406 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=347


----
Modified: lib/client/ClientExchange.h|1 1
Modified: lib/client/Connection.h|1 1
Modified: tests/Makefile.am|0 6

Revision: 303c93fd117555956812b6de5afbcf40461b18e7
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:41:37
Message:
Merged revisions 506967 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=281


----
Added: README-build|222 0

Revision: a56bfc495c889cbce2ec36a1cc094d5e5813b945
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:44:54
Message:
Ignore distribution files. #MsgLength=28


----

Revision: 93438409c243d7ff3480979dcff166d1dcd1d432
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:47:00
Message:
Merged revisions 506972 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=257


----
Modified: README-build|2 1

Revision: 2fab4c77176afec1c9ea0cee0afcfa57650cbf02
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:47:47
Message:
Merged revisions 507455 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=445


----
Modified: configure.ac|4 4

Revision: ef8bd0d0817e40cbd2a907943076a428d96ccfdd
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:48:54
Message:
Merged revisions 507457 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=394


----
Modified: qpidc.spec.in|2 3

Revision: 022d6d41136cbe4c5c08e572e1a1f90420a11aaf
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 01:52:17
Message:
Merged revisions 507458 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=318


----
Modified: tests/setup|1 1

Revision: 514dee0bfd1fbe5740680a242a4449088fb1d5be
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 02:03:26
Message:
Merged revisions 507582 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=271


----
Modified: lib/client/ClientChannel.cpp|1 1

Revision: 833d70e1580e01ee3960008946f86f4c05799038
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 02:27:17
Message:
Merged revisions 507729 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=549


----
Modified: Makefile.am|1 1
Modified: README|251 23
Deleted: README-build|0 223
Deleted: README-dev|0 208
Deleted: README.rhel3|0 23
Modified: bootstrap|2 1

Revision: c3ff81132bfb0efc39e912a7922597e94e01af04
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 02:29:24
Message:
cpp/tests/FramingTest.cpp: Updated for new default virtual host "/" #MsgLength=68


----
Modified: tests/FramingTest.cpp|1 1

Revision: a1fbf0067f469b436d568e60033fb029a20db618
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 02:42:28
Message:
Merged revisions 509208 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=294


----
Modified: qpidc.spec.in|2 2

Revision: c63d5fce388d8e7673d0c53a990d1897e8e6840c
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 02:50:34
Message:
Merged revisions 509737 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=256


----
Modified: qpidc.spec.in|6 1

Revision: 8254310e91df3397cf0d02b8d3029202e75d48ec
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2007 03:40:45
Message:
Merged revisions 513371 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid #MsgLength=323


----
Modified: tests/client_test.cpp|3 2
Modified: tests/topic_listener.cpp|1 1
Modified: tests/topic_publisher.cpp|1 1

Revision: 7aec4e2043b81f4fb44e04d337d389151a4a7e80
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2007 03:22:02
Message:
Changed u_int<n>_t to uint<n>_t for posix compliance. #MsgLength=54


----
Modified: lib/broker/AccumulatedAck.cpp|4 4
Modified: lib/broker/AccumulatedAck.h|5 5
Modified: lib/broker/AutoDelete.cpp|1 1
Modified: lib/broker/AutoDelete.h|2 2
Modified: lib/broker/Broker.h|4 4
Modified: lib/broker/BrokerAdapter.cpp|19 19
Modified: lib/broker/BrokerAdapter.h|20 20
Modified: lib/broker/BrokerChannel.cpp|7 7
Modified: lib/broker/BrokerChannel.h|11 11
Modified: lib/broker/BrokerMessage.cpp|17 17
Modified: lib/broker/BrokerMessage.h|14 14
Modified: lib/broker/BrokerMessageBase.h|13 13
Modified: lib/broker/BrokerMessageMessage.cpp|13 13
Modified: lib/broker/BrokerMessageMessage.h|11 11
Modified: lib/broker/BrokerQueue.cpp|4 4
Modified: lib/broker/BrokerQueue.h|8 8
Modified: lib/broker/Connection.cpp|2 2
Modified: lib/broker/Connection.h|11 11
Modified: lib/broker/Content.h|2 2
Modified: lib/broker/DeliveryRecord.cpp|3 3
Modified: lib/broker/DeliveryRecord.h|4 4
Modified: lib/broker/InMemoryContent.cpp|4 4
Modified: lib/broker/InMemoryContent.h|2 2
Modified: lib/broker/LazyLoadedContent.cpp|5 5
Modified: lib/broker/LazyLoadedContent.h|4 4
Modified: lib/broker/MessageBuilder.cpp|1 1
Modified: lib/broker/MessageBuilder.h|2 2
Modified: lib/broker/MessageHandlerImpl.cpp|12 12
Modified: lib/broker/MessageHandlerImpl.h|12 12
Modified: lib/broker/MessageStore.h|2 2
Modified: lib/broker/MessageStoreModule.cpp|1 1
Modified: lib/broker/MessageStoreModule.h|1 1
Modified: lib/broker/NullMessageStore.cpp|1 1
Modified: lib/broker/NullMessageStore.h|1 1
Modified: lib/broker/Prefetch.h|2 2
Modified: lib/broker/QueuePolicy.cpp|3 3
Modified: lib/broker/QueuePolicy.h|9 9
Modified: lib/broker/QueueRegistry.cpp|1 1
Modified: lib/broker/QueueRegistry.h|1 1
Modified: lib/broker/Reference.h|2 2
Modified: lib/client/Basic.cpp|5 5
Modified: lib/client/Basic.h|1 1
Modified: lib/client/ClientChannel.cpp|4 4
Modified: lib/client/ClientChannel.h|4 4
Modified: lib/client/ClientMessage.cpp|7 7
Modified: lib/client/ClientMessage.h|7 7
Modified: lib/client/Connection.cpp|1 1
Modified: lib/client/Connection.h|3 3
Modified: lib/client/Connector.cpp|3 3
Modified: lib/client/Connector.h|5 5
Modified: lib/client/MethodBodyInstances.h|1 1
Modified: lib/common/framing/AMQBody.h|3 3
Modified: lib/common/framing/AMQContentBody.cpp|2 2
Modified: lib/common/framing/AMQContentBody.h|3 3
Modified: lib/common/framing/AMQDataBlock.h|1 1
Modified: lib/common/framing/AMQFrame.cpp|7 7
Modified: lib/common/framing/AMQFrame.h|7 7
Modified: lib/common/framing/AMQHeaderBody.cpp|3 3
Modified: lib/common/framing/AMQHeaderBody.h|7 7
Modified: lib/common/framing/AMQHeartbeatBody.h|3 3
Modified: lib/common/framing/AMQMethodBody.cpp|1 1
Modified: lib/common/framing/AMQMethodBody.h|6 6
Modified: lib/common/framing/AMQRequestBody.h|2 2
Modified: lib/common/framing/AMQResponseBody.h|5 5
Modified: lib/common/framing/BasicHeaderProperties.cpp|7 7
Modified: lib/common/framing/BasicHeaderProperties.h|13 13
Modified: lib/common/framing/Buffer.cpp|37 37
Modified: lib/common/framing/Buffer.h|18 18
Modified: lib/common/framing/FieldTable.cpp|9 9
Modified: lib/common/framing/FieldTable.h|3 3
Modified: lib/common/framing/FramingContent.cpp|1 1
Modified: lib/common/framing/FramingContent.h|2 2
Modified: lib/common/framing/HeaderProperties.h|3 3
Modified: lib/common/framing/ProtocolInitiation.cpp|1 1
Modified: lib/common/framing/ProtocolInitiation.h|4 4
Modified: lib/common/framing/ProtocolVersion.h|7 7
Modified: lib/common/framing/Value.cpp|2 2
Modified: lib/common/framing/Value.h|13 13
Modified: lib/common/framing/amqp_types.h|11 11
Modified: lib/common/sys/apr/APRSocket.cpp|1 1
Modified: lib/common/sys/apr/APRSocket.h|1 1
Modified: tests/AccumulatedAckTest.cpp|4 4
Modified: tests/BrokerChannelTest.cpp|8 8
Modified: tests/EventChannelConnectionTest.cpp|2 2
Modified: tests/HeaderTest.cpp|6 6
Modified: tests/InMemoryContentTest.cpp|1 1
Modified: tests/LazyLoadedContentTest.cpp|5 5
Modified: tests/MessageBuilderTest.cpp|3 3
Modified: tests/MessageTest.cpp|2 2
Modified: tests/QueuePolicyTest.cpp|2 2
Modified: tests/QueueTest.cpp|8 8
Modified: tests/TxPublishTest.cpp|2 2

Revision: b4260b909791120d445fb8bf87bad7506ef3eaf0
Author: Alan Conway <aconway@apache.org>
Date: 17/03/2007 05:18:26
Message:
Make --enable-valgrind the default, suppress all current leaks so we can see new ones. Fixing suppressed leaks is QPID-424. #MsgLength=124


----
Modified: configure.ac|1 1
Modified: tests/.vg-supp|2224 0

Revision: ca2bbb265524134d4dce19f4bf36d38488710dcd
Author: Gordon Sim <gsim@apache.org>
Date: 21/03/2007 01:35:28
Message:
Catch exception now thrown by ExchangeRegistry::getDefault() when a default has not been set. #MsgLength=96


----
Modified: lib/broker/RecoveryManager.cpp|7 3

Revision: d7b940203c6b2146a26462e40e8bd288eed824d4
Author: Alan Conway <aconway@apache.org>
Date: 21/03/2007 09:26:37
Message:
* cpp-0-9: svn copy of 0-9 branch cpp, will rename to cpp on next update. * cpp-0-9/gentools: independent copy of gentools for cpp. Temporary measure till /java and /gentools are at 0-9 * python/tests_0-9: tests from 0-9 branch. * python/qpid/testlib.py: Use tests_0-9 with 0-9 spec (default is still 0-8) #MsgLength=309


----
Modified: bootstrap|1 1
Modified: gen/Makefile.am|1 1
Added: gentools/README|61 0
Added: gentools/build|15 0
Added: gentools/build.xml|34 0
Added: gentools/src/org/apache/qpid/gentools/AmqpClass.java|148 0
Added: gentools/src/org/apache/qpid/gentools/AmqpClassMap.java|29 0
Added: gentools/src/org/apache/qpid/gentools/AmqpConstant.java|205 0
Added: gentools/src/org/apache/qpid/gentools/AmqpConstantSet.java|133 0
Added: gentools/src/org/apache/qpid/gentools/AmqpDomain.java|78 0
Added: gentools/src/org/apache/qpid/gentools/AmqpDomainMap.java|119 0
Added: gentools/src/org/apache/qpid/gentools/AmqpDomainVersionMap.java|58 0
Added: gentools/src/org/apache/qpid/gentools/AmqpField.java|156 0
Added: gentools/src/org/apache/qpid/gentools/AmqpFieldMap.java|348 0
Added: gentools/src/org/apache/qpid/gentools/AmqpFlagMap.java|84 0
Added: gentools/src/org/apache/qpid/gentools/AmqpMethod.java|211 0
Added: gentools/src/org/apache/qpid/gentools/AmqpMethodMap.java|36 0
Added: gentools/src/org/apache/qpid/gentools/AmqpModel.java|80 0
Added: gentools/src/org/apache/qpid/gentools/AmqpOrdinalFieldMap.java|89 0
Added: gentools/src/org/apache/qpid/gentools/AmqpOrdinalVersionMap.java|72 0
Added: gentools/src/org/apache/qpid/gentools/AmqpOverloadedParameterMap.java|29 0
Added: gentools/src/org/apache/qpid/gentools/AmqpParseException.java|30 0
Added: gentools/src/org/apache/qpid/gentools/AmqpTemplateException.java|30 0
Added: gentools/src/org/apache/qpid/gentools/AmqpTypeMappingException.java|30 0
Added: gentools/src/org/apache/qpid/gentools/AmqpVersion.java|68 0
Added: gentools/src/org/apache/qpid/gentools/AmqpVersionSet.java|74 0
Added: gentools/src/org/apache/qpid/gentools/CppGenerator.java|1635 0
Added: gentools/src/org/apache/qpid/gentools/DotnetGenerator.java|339 0
Added: gentools/src/org/apache/qpid/gentools/Generator.java|429 0
Added: gentools/src/org/apache/qpid/gentools/JavaGenerator.java|1702 0
Added: gentools/src/org/apache/qpid/gentools/LanguageConverter.java|39 0
Added: gentools/src/org/apache/qpid/gentools/Main.java|353 0
Added: gentools/src/org/apache/qpid/gentools/NodeAware.java|46 0
Added: gentools/src/org/apache/qpid/gentools/Printable.java|28 0
Added: gentools/src/org/apache/qpid/gentools/TargetDirectoryException.java|30 0
Added: gentools/src/org/apache/qpid/gentools/Utils.java|146 0
Added: gentools/src/org/apache/qpid/gentools/VersionConsistencyCheck.java|26 0
Added: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|64 0
Added: gentools/templ.cpp/AMQP_ClientProxy.cpp.tmpl|52 0
Added: gentools/templ.cpp/AMQP_ClientProxy.h.tmpl|59 0
Added: gentools/templ.cpp/AMQP_Constants.h.tmpl|34 0
Added: gentools/templ.cpp/AMQP_HighestVersion.h.tmpl|42 0
Added: gentools/templ.cpp/AMQP_MethodVersionMap.cpp.tmpl|62 0
Added: gentools/templ.cpp/AMQP_MethodVersionMap.h.tmpl|57 0
Added: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|65 0
Added: gentools/templ.cpp/AMQP_ServerProxy.cpp.tmpl|51 0
Added: gentools/templ.cpp/AMQP_ServerProxy.h.tmpl|59 0
Added: gentools/templ.cpp/MethodBodyClass.h.tmpl|110 0
Added: gentools/templ.java/AmqpConstantsClass.tmpl|37 0
Added: gentools/templ.java/MethodBodyClass.tmpl|180 0
Added: gentools/templ.java/MethodRegistryClass.tmpl|125 0
Added: gentools/templ.java/PropertyContentHeaderClass.tmpl|207 0
Added: gentools/templ.java/ProtocolVersionListClass.tmpl|38 0
Added: gentools/xml-src/amqp-0.10.test.xml|4241 0
Added: gentools/xml-src/amqp-0.8.test.xml|3959 0
Added: gentools/xml-src/amqp-0.9.test.xml|4282 0
Added: gentools/xml-src/cluster-0.9.test.xml|59 0
Modified: tests/python_tests|1 1


Revision: c21f0e2939af066cfaa4784e6e58b68c619a35ee
Author: Gordon Sim <gsim@apache.org>
Date: 22/03/2007 00:01:45
Message:
Modifications to allow messages produced by the message class to be persisted as well as those from the basic class. Fix to broker initialisation (ensure queues use the correct store). #MsgLength=187


----
Modified: lib/broker/Broker.cpp|8 5
Modified: lib/broker/Broker.h|3 1
Modified: lib/broker/BrokerMessageBase.h|6 6
Modified: lib/broker/BrokerMessageMessage.cpp|69 8
Modified: lib/broker/BrokerMessageMessage.h|11 3
Modified: lib/common/framing/AMQRequestBody.h|1 1
Modified: tests/.vg-supp|412 0

Revision: 45dce4c7a3ca7fbf59e2124d099c18ec19382b61
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2007 03:12:14
Message:
Refactored client side for dual-mode Channel supporting either 0-9 Message or 0-8 Basic. #MsgLength=90


----
Added: lib/client/AckMode.h|102 0
Added: lib/client/BasicMessageChannel.cpp|261 0
Added: lib/client/BasicMessageChannel.h|87 0
Modified: lib/client/ClientChannel.cpp|41 10
Modified: lib/client/ClientChannel.h|118 17
Modified: lib/client/ClientMessage.cpp|0 1
Modified: lib/client/IncomingMessage.h|1 0
Modified: lib/client/Makefile.am|4 2
Added: lib/client/MessageChannel.h|94 0
Modified: lib/common/Makefile.am|1 0
Modified: lib/common/framing/FramingContent.h|1 0
Added: lib/common/shared_ptr.h|31 0
Modified: tests/ClientChannelTest.cpp|55 16
Modified: tests/InProcessBroker.h|15 10
Modified: tests/ProducerConsumerTest.cpp|5 4
Modified: tests/client_test.cpp|2 2
Modified: tests/echo_service.cpp|5 5
Modified: tests/topic_listener.cpp|3 3
Modified: tests/topic_publisher.cpp|5 4

Revision: 48c92d81c62cb40eb610bf69c840ee5fc16623f6
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2007 03:21:59
Message:
Removed unused files and #includes. #MsgLength=37


----
Deleted: lib/client/Basic.cpp|0 255
Deleted: lib/client/Basic.h|0 195
Modified: lib/client/Connection.h|5 20
Modified: tests/ClientChannelTest.cpp|1 0

Revision: f82f87e1faa870da37b2e2fc32833839fe91756d
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2007 04:58:01
Message:
Cleaned up signatures: safer to return string than const string&. #MsgLength=67


----
Modified: lib/client/ClientMessage.cpp|11 11
Modified: lib/client/ClientMessage.h|16 38
Modified: lib/common/framing/BasicHeaderProperties.h|29 29

Revision: 21c6f83cfacaf771f4e5f8443489c283e4ccf4bc
Author: Alan Conway <aconway@apache.org>
Date: 27/03/2007 23:36:39
Message:
Refactored client::Message to be independent of all Basic class concepts and client::IncomingMessage to handle 0-9 style references and appends. #MsgLength=1380


----
Modified: lib/broker/BrokerMessage.cpp|6 13
Modified: lib/broker/BrokerMessageBase.h|0 4
Modified: lib/broker/BrokerQueue.cpp|3 4
Modified: lib/broker/InMemoryContent.cpp|0 1
Modified: lib/client/BasicMessageChannel.cpp|205 71
Modified: lib/client/BasicMessageChannel.h|6 2
Modified: lib/client/ClientChannel.cpp|40 33
Modified: lib/client/ClientChannel.h|8 7
Deleted: lib/client/ClientMessage.cpp|0 161
Modified: lib/client/ClientMessage.h|17 58
Modified: lib/client/IncomingMessage.cpp|81 123
Modified: lib/client/IncomingMessage.h|63 68
Modified: lib/client/Makefile.am|0 1
Modified: lib/client/ResponseHandler.cpp|25 32
Modified: lib/client/ResponseHandler.h|29 22
Modified: lib/common/framing/BasicHeaderProperties.cpp|2 2
Modified: lib/common/framing/BasicHeaderProperties.h|77 59
Modified: lib/common/framing/MethodContext.h|0 5
Modified: lib/common/shared_ptr.h|6 1
Modified: lib/common/sys/ProducerConsumer.cpp|10 10
Modified: lib/common/sys/ProducerConsumer.h|10 10
Modified: lib/common/sys/ThreadSafeQueue.h|4 4
Modified: tests/ClientChannelTest.cpp|0 11
Modified: tests/HeaderTest.cpp|2 2
Modified: tests/MessageTest.cpp|1 2
Modified: tests/ProducerConsumerTest.cpp|13 13
Modified: tests/setup|2 1
Modified: tests/topictest|2 1

Revision: 922c65029b9b9a2d986ab09b20ac1e2a2f4ade10
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2007 03:57:00
Message:
Fix valgrind on unit tests: missing symbols for dynamically unloaded libs. Interposed library supresses dlclose so symbols are reported. #MsgLength=138


----
Modified: tests/Makefile.am|5 1
Added: tests/dlclose_noop.c|30 0
Modified: tests/run-unit-tests|2 2

Revision: bd3360b219817baf269c547ac8096e76806d3efa
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2007 04:31:34
Message:
Removed useless ExceptionTest.cpp. #MsgLength=36


----
Deleted: tests/ExceptionTest.cpp|0 61
Modified: tests/Makefile.am|0 1

Revision: d46ebc954744af866ee8664429370620c65fcc56
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2007 05:23:40
Message:
* cpp/tests/BrokerChannelTest.cpp: Fix leak. * cpp/lib/broker/Connection.h: signature fix, pass const& instead of *. * cpp/lib/client/IncomingMessage.cpp: Correct error codes. * cpp/lib/broker/Reference.cpp: Fix TODO. #MsgLength=219


----
Modified: lib/broker/Connection.cpp|3 3
Modified: lib/broker/Connection.h|1 1
Modified: lib/broker/Reference.cpp|0 2
Modified: lib/broker/Reference.h|3 0
Modified: lib/client/IncomingMessage.cpp|10 10
Modified: lib/common/framing/InitiationHandler.h|1 1
Modified: lib/common/sys/apr/LFSessionContext.cpp|1 1
Modified: tests/BrokerChannelTest.cpp|1 1
Modified: tests/InProcessBroker.h|1 1

Revision: 9c10715b3f626f0d7645c2be8810948ed236dd7c
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2007 03:57:28
Message:
* cpp/tests/setup,run-unit-tests: - make run-unit-tests work directly as ./run-unit-tests as well as via make. - run-unit-tests takes list of tests to run as args or in env UNIT_TESTS. #MsgLength=333


----
Modified: tests/.vg-supp|154 678
Modified: tests/Makefile.am|2 0
Modified: tests/run-unit-tests|11 2
Modified: tests/setup|6 1

Revision: 8bfa7a45ad0913121e743c57a984e5b1468fc078
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2007 05:45:06
Message:
* cpp/tests/run-unit-tests,setup: use valgrind --log-file rather than redirecting stderr. Redirecting also swallows DllPlugInTester output. * cpp/lib/common/sys/Acceptor.h: getPort() to return uint16_t, not int16t. #MsgLength=357


----
Modified: lib/common/sys/Acceptor.h|1 1
Modified: lib/common/sys/apr/APRAcceptor.cpp|10 8
Modified: tests/AcceptorTest.cpp|7 4
Modified: tests/Makefile.am|1 0
Modified: tests/MockConnectionInputHandler.h|2 2
Modified: tests/run-unit-tests|3 1
Modified: tests/setup|1 0

Revision: f63c194d46d07e12a1be65b5bae68eab79df25b1
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2007 05:46:28
Message:
Missed changes on previous commit. #MsgLength=36


----
Modified: lib/common/sys/apr/APRAcceptor.cpp|0 4
Modified: tests/AcceptorTest.cpp|1 4
Modified: tests/Makefile.am|0 1

Revision: 52f532829b49e53999578d9ea9fde75961b50ebb
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2007 06:40:09
Message:
* cpp/tests/.vg-supp: Removed wildcarded suppressions generated before the dlclose_noop fix, replaced with fully qualified ones. #MsgLength=132


----
Modified: tests/.vg-supp|404 3446

Revision: ccf616f9c07a3c9c4ac3cd87f6b64365d0c286e3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/03/2007 04:23:19
Message:
* Preliminary fix for rearranging all #include lines #MsgLength=54


----
Modified: lib/broker/ConnectionFactory.cpp|1 1

Revision: 996ac6874ce01f62486f0c676d0a20905b041a5c
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 06:01:03
Message:
* cpp/tests/.vg-supp (fun): Remove wildcarded suppressions generated before the dlclose_noop fix, replaced with fully qualified ones. #MsgLength=281


----
Modified: tests/.vg-supp|0 1551
Modified: tests/InProcessBroker.h|27 38
Modified: tests/run-unit-tests|9 3

Revision: 66c8a88a3a816dc7a9590d30010c66bb6328f2b1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/03/2007 06:11:11
Message:
More changes preparatory to changing all #include lines #MsgLength=57


----
Modified: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ClientProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ClientProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_HighestVersion.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.cpp.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ServerProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|5 5

Revision: d1fa125a5b7698f384b523d8c5065e4f2388e548
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 06:30:48
Message:
Fixed memory leak: removed Binding and ExchangeBinding. #MsgLength=358


----
Deleted: lib/broker/Binding.h|0 38
Modified: lib/broker/BrokerQueue.cpp|1 10
Modified: lib/broker/BrokerQueue.h|0 8
Modified: lib/broker/DirectExchange.cpp|1 3
Deleted: lib/broker/ExchangeBinding.cpp|0 35
Deleted: lib/broker/ExchangeBinding.h|0 48
Modified: lib/broker/FanOutExchange.cpp|1 5
Modified: lib/broker/HeadersExchange.cpp|1 3
Modified: lib/broker/Makefile.am|0 2
Modified: lib/broker/TopicExchange.cpp|1 3
Modified: tests/QueueTest.cpp|0 36

Revision: 3daee0c4e522988b58cdac3481b401f06968e646
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 06:49:06
Message:
 * tests/InProcessBroker: Fix embarassing bug in previous merge * tests/.vg-supp: Updated supressions - down to only 3 leaks! #MsgLength=128


----
Modified: tests/.vg-supp|93 0
Modified: tests/InProcessBroker.h|2 2

Revision: 4caa2b949a92487e25ad3c389de40662cf519dd1
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 07:08:08
Message:
 * tests/BrokerChannelTest.cpp: fixed leak in test code. * tests/.vg-supp: Updated supressions #MsgLength=97


----
Modified: tests/.vg-supp|0 21
Modified: tests/BrokerChannelTest.cpp|18 17

Revision: 8a71373667b73d79a1727e6fbd77f7992540a4f7
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 07:20:45
Message:
Fixed more test memory leaks. #MsgLength=31


----
Modified: tests/.vg-supp|0 54
Modified: tests/InMemoryContentTest.cpp|2 2
Modified: tests/LazyLoadedContentTest.cpp|2 2
Modified: tests/MessageTest.cpp|1 1
Modified: tests/MockChannel.h|3 2

Revision: 4eccfc2e2a780e44983a0306d85e6d306ed076a9
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 22:02:51
Message:
Removed unused and defective AcceptorTest.cpp #MsgLength=46


----
Deleted: tests/AcceptorTest.cpp|0 95

Revision: 2c8c31aafddc13f25b7c5be033d58c02568dac61
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2007 23:31:58
Message:
Fix configure.ac. It was broken by removal of ExchangeBinding.cpp. #MsgLength=67


----
Modified: configure.ac|1 1

Revision: 23f91a92eae6f6a4054ab7cca87a3f1878a20511
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2007 23:50:07
Message:
Refactored the MessageStore interface to restrict visibility of broker core from store implementations. #MsgLength=106


----
Modified: lib/broker/Broker.cpp|3 3
Modified: lib/broker/BrokerChannel.cpp|1 1
Modified: lib/broker/BrokerMessage.cpp|14 8
Modified: lib/broker/BrokerMessage.h|7 7
Modified: lib/broker/BrokerMessageBase.h|8 6
Modified: lib/broker/BrokerMessageMessage.cpp|12 7
Modified: lib/broker/BrokerMessageMessage.h|6 6
Modified: lib/broker/BrokerQueue.cpp|40 6
Modified: lib/broker/BrokerQueue.h|13 5
Modified: lib/broker/DeliveryRecord.cpp|2 6
Modified: lib/broker/DeliveryRecord.h|1 2
Modified: lib/broker/LazyLoadedContent.cpp|4 4
Modified: lib/broker/LazyLoadedContent.h|1 0
Modified: lib/broker/Makefile.am|8 1
Modified: lib/broker/MessageBuilder.cpp|1 1
Modified: lib/broker/MessageStore.h|96 107
Modified: lib/broker/MessageStoreModule.cpp|31 26
Modified: lib/broker/MessageStoreModule.h|33 26
Modified: lib/broker/NullMessageStore.cpp|24 23
Modified: lib/broker/NullMessageStore.h|32 27
Added: lib/broker/Persistable.h|62 0
Renamed: lib/broker/PersistableExchange.h [from lib/broker/RecoveryManager.cpp]|19 21
Added: lib/broker/PersistableMessage.h|53 0
Added: lib/broker/PersistableQueue.h|45 0
Added: lib/broker/RecoverableMessage.h|57 0
Added: lib/broker/RecoverableQueue.h|49 0
Modified: lib/broker/RecoveryManager.h|8 8
Added: lib/broker/RecoveryManagerImpl.cpp|131 0
Added: lib/broker/RecoveryManagerImpl.h|55 0
Modified: lib/broker/TransactionalStore.h|27 17
Modified: lib/broker/TxAck.cpp|3 3
Modified: lib/broker/TxAck.h|1 2
Modified: lib/broker/TxBuffer.cpp|2 2
Modified: lib/broker/TxPublish.cpp|5 5
Modified: lib/broker/TxPublish.h|2 4
Modified: tests/BrokerChannelTest.cpp|14 14
Modified: tests/LazyLoadedContentTest.cpp|1 1
Modified: tests/MessageBuilderTest.cpp|9 10
Modified: tests/TxAckTest.cpp|5 17
Modified: tests/TxBufferTest.cpp|11 8
Modified: tests/TxPublishTest.cpp|7 24

Revision: 1bd4d936472255c961977fbbd9653398f7286740
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2007 00:35:06
Message:
Fixed and improved running selected unit tests. See comment in run-unit-tests #MsgLength=78


----
Modified: tests/run-unit-tests|20 9

Revision: 10cc36916eccfe143f960adb9c71cc4dd3d973fe
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2007 04:14:10
Message:
Fixed autmake $wildcard warnings, added html-dev to generate full doxygen for developers (slow!). #MsgLength=98


----
Modified: docs/api/Makefile.am|23 14
Modified: docs/api/developer.doxygen|1 1
Added: docs/api/doxygen.mk|9 0

Revision: dc9c8e4ba6c63b1b994f5dc92741d39575cc6857
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/04/2007 19:40:48
Message:
Fix for the most disruptive items in QPID-243. * All #include lines now use '""' rather than '<>' where appropriate. * #include lines within the qpid project use relative includes so that the same path will work in /usr/include when installed as part of the client libraries. * All the source code has now been rearranged to be under src in a directory analogous to the namespace of the classes in it. #MsgLength=409


----
Modified: Makefile.am|1 1
Modified: bootstrap|2 2
Modified: configure.ac|5 7
Modified: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ClientProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ClientProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_HighestVersion.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.cpp.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ServerProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|5 5
Deleted: lib/Makefile.am|0 1
Deleted: lib/common/Makefile.am|0 143
Deleted: lib/common/sys/apr/APRAcceptor.cpp|0 120
Deleted: lib/common/sys/apr/APRBase.cpp|0 90
Deleted: lib/common/sys/apr/APRBase.h|0 78
Deleted: lib/common/sys/apr/APRSocket.cpp|0 78
Deleted: lib/common/sys/apr/APRSocket.h|0 48
Deleted: lib/common/sys/apr/LFProcessor.cpp|0 179
Deleted: lib/common/sys/apr/LFProcessor.h|0 121
Deleted: lib/common/sys/apr/LFSessionContext.cpp|0 179
Deleted: lib/common/sys/apr/LFSessionContext.h|0 90
Deleted: lib/common/sys/apr/Socket.cpp|0 86
Deleted: lib/common/sys/apr/Thread.cpp|0 33
Deleted: lib/common/sys/posix/EventChannel.h|0 176
Deleted: lib/common/sys/posix/EventChannelAcceptor.cpp|0 149
Deleted: lib/common/sys/posix/EventChannelConnection.cpp|0 229
Deleted: lib/common/sys/posix/EventChannelConnection.h|0 102
Deleted: lib/common/sys/posix/EventChannelThreads.cpp|0 119
Deleted: lib/common/sys/posix/EventChannelThreads.h|0 92
Deleted: lib/common/sys/posix/PosixAcceptor.cpp|0 48
Deleted: lib/common/sys/posix/Socket.cpp|0 118
Deleted: lib/common/sys/posix/Thread.cpp|0 28
Deleted: lib/common/sys/posix/check.cpp|0 39
Deleted: lib/common/sys/posix/check.h|0 62
Renamed: src/Exception.cpp [from lib/common/Exception.cpp]|1 1
Renamed: src/Exception.h [from lib/common/Exception.h]|1 1
Renamed: src/ExceptionHolder.cpp [from lib/common/ExceptionHolder.cpp]|0 0
Renamed: src/ExceptionHolder.h [from lib/common/ExceptionHolder.h]|1 1
Modified: src/Makefile.am|144 11
Renamed: src/QpidError.cpp [from lib/common/QpidError.cpp]|1 1
Renamed: src/QpidError.h [from lib/common/QpidError.h]|1 1
Renamed: src/SharedObject.h [from lib/common/SharedObject.h]|0 0
Renamed: src/broker/AccumulatedAck.cpp [from lib/broker/AccumulatedAck.cpp]|0 0
Renamed: src/broker/AccumulatedAck.h [from lib/broker/AccumulatedAck.h]|0 0
Renamed: src/broker/AutoDelete.cpp [from lib/broker/AutoDelete.cpp]|2 2
Renamed: src/broker/AutoDelete.h [from lib/broker/AutoDelete.h]|4 4
Renamed: src/broker/Broker.cpp [from lib/broker/Broker.cpp]|5 5
Renamed: src/broker/Broker.h [from lib/broker/Broker.h]|13 13
Renamed: src/broker/BrokerAdapter.cpp [from lib/broker/BrokerAdapter.cpp]|2 2
Renamed: src/broker/BrokerAdapter.h [from lib/broker/BrokerAdapter.h]|1 1
Renamed: src/broker/BrokerChannel.cpp [from lib/broker/BrokerChannel.cpp]|8 8
Renamed: src/broker/BrokerChannel.h [from lib/broker/BrokerChannel.h]|8 8
Renamed: src/broker/BrokerExchange.h [from lib/broker/BrokerExchange.h]|3 3
Renamed: src/broker/BrokerMessage.cpp [from lib/broker/BrokerMessage.cpp]|11 11
Renamed: src/broker/BrokerMessage.h [from lib/broker/BrokerMessage.h]|6 6
Renamed: src/broker/BrokerMessageBase.h [from lib/broker/BrokerMessageBase.h]|1 1
Renamed: src/broker/BrokerMessageMessage.cpp [from lib/broker/BrokerMessageMessage.cpp]|5 5
Renamed: src/broker/BrokerMessageMessage.h [from lib/broker/BrokerMessageMessage.h]|1 1
Renamed: src/broker/BrokerQueue.cpp [from lib/broker/BrokerQueue.cpp]|4 4
Renamed: src/broker/BrokerQueue.h [from lib/broker/BrokerQueue.h]|7 7
Renamed: src/broker/BrokerSingleton.cpp [from lib/broker/BrokerSingleton.cpp]|0 0
Renamed: src/broker/BrokerSingleton.h [from lib/broker/BrokerSingleton.h]|0 0
Renamed: src/broker/CompletionHandler.h [from lib/broker/CompletionHandler.h]|0 0
Renamed: src/broker/Configuration.cpp [from lib/broker/Configuration.cpp]|2 2
Renamed: src/broker/Configuration.h [from lib/broker/Configuration.h]|1 1
Renamed: src/broker/Connection.cpp [from lib/broker/Connection.cpp]|0 0
Renamed: src/broker/Connection.h [from lib/broker/Connection.h]|8 8
Renamed: src/broker/ConnectionFactory.cpp [from lib/broker/ConnectionFactory.cpp]|1 1
Renamed: src/broker/ConnectionFactory.h [from lib/broker/ConnectionFactory.h]|1 1
Renamed: src/broker/ConnectionToken.h [from lib/broker/ConnectionToken.h]|0 0
Renamed: src/broker/Consumer.h [from lib/broker/Consumer.h]|1 1
Renamed: src/broker/Content.h [from lib/broker/Content.h]|3 3
Renamed: src/broker/DeletingTxOp.cpp [from lib/broker/DeletingTxOp.cpp]|1 1
Renamed: src/broker/DeletingTxOp.h [from lib/broker/DeletingTxOp.h]|1 1
Renamed: src/broker/Deliverable.h [from lib/broker/Deliverable.h]|1 1
Renamed: src/broker/DeliverableMessage.cpp [from lib/broker/DeliverableMessage.cpp]|1 1
Renamed: src/broker/DeliverableMessage.h [from lib/broker/DeliverableMessage.h]|3 3
Renamed: src/broker/DeliveryRecord.cpp [from lib/broker/DeliveryRecord.cpp]|2 2
Renamed: src/broker/DeliveryRecord.h [from lib/broker/DeliveryRecord.h]|4 4
Renamed: src/broker/DirectExchange.cpp [from lib/broker/DirectExchange.cpp]|1 1
Renamed: src/broker/DirectExchange.h [from lib/broker/DirectExchange.h]|5 5
Renamed: src/broker/ExchangeRegistry.cpp [from lib/broker/ExchangeRegistry.cpp]|5 5
Renamed: src/broker/ExchangeRegistry.h [from lib/broker/ExchangeRegistry.h]|2 2
Renamed: src/broker/FanOutExchange.cpp [from lib/broker/FanOutExchange.cpp]|1 1
Renamed: src/broker/FanOutExchange.h [from lib/broker/FanOutExchange.h]|5 5
Renamed: src/broker/HandlerImpl.h [from lib/broker/HandlerImpl.h]|0 0
Renamed: src/broker/HeadersExchange.cpp [from lib/broker/HeadersExchange.cpp]|3 3
Renamed: src/broker/HeadersExchange.h [from lib/broker/HeadersExchange.h]|5 5
Renamed: src/broker/InMemoryContent.cpp [from lib/broker/InMemoryContent.cpp]|3 3
Renamed: src/broker/InMemoryContent.h [from lib/broker/InMemoryContent.h]|1 1
Renamed: src/broker/LazyLoadedContent.cpp [from lib/broker/LazyLoadedContent.cpp]|3 3
Renamed: src/broker/LazyLoadedContent.h [from lib/broker/LazyLoadedContent.h]|2 2
Renamed: src/broker/Makefile.am [from lib/broker/Makefile.am]|1 5
Renamed: src/broker/MessageBuilder.cpp [from lib/broker/MessageBuilder.cpp]|3 3
Renamed: src/broker/MessageBuilder.h [from lib/broker/MessageBuilder.h]|7 7
Renamed: src/broker/MessageHandlerImpl.cpp [from lib/broker/MessageHandlerImpl.cpp]|2 2
Renamed: src/broker/MessageHandlerImpl.h [from lib/broker/MessageHandlerImpl.h]|0 0
Renamed: src/broker/MessageStore.h [from lib/broker/MessageStore.h]|0 0
Renamed: src/broker/MessageStoreModule.cpp [from lib/broker/MessageStoreModule.cpp]|1 1
Renamed: src/broker/MessageStoreModule.h [from lib/broker/MessageStoreModule.h]|5 5
Renamed: src/broker/NameGenerator.cpp [from lib/broker/NameGenerator.cpp]|1 1
Renamed: src/broker/NameGenerator.h [from lib/broker/NameGenerator.h]|1 1
Renamed: src/broker/NullMessageStore.cpp [from lib/broker/NullMessageStore.cpp]|2 2
Renamed: src/broker/NullMessageStore.h [from lib/broker/NullMessageStore.h]|3 3
Renamed: src/broker/Persistable.h [from lib/broker/Persistable.h]|2 2
Renamed: src/broker/PersistableExchange.h [from lib/broker/PersistableExchange.h]|0 0
Renamed: src/broker/PersistableMessage.h [from lib/broker/PersistableMessage.h]|1 1
Renamed: src/broker/PersistableQueue.h [from lib/broker/PersistableQueue.h]|0 0
Renamed: src/broker/Prefetch.h [from lib/broker/Prefetch.h]|1 1
Renamed: src/broker/QueuePolicy.cpp [from lib/broker/QueuePolicy.cpp]|1 1
Renamed: src/broker/QueuePolicy.h [from lib/broker/QueuePolicy.h]|1 1
Renamed: src/broker/QueueRegistry.cpp [from lib/broker/QueueRegistry.cpp]|1 1
Renamed: src/broker/QueueRegistry.h [from lib/broker/QueueRegistry.h]|2 2
Renamed: src/broker/RecoverableMessage.h [from lib/broker/RecoverableMessage.h]|2 2
Renamed: src/broker/RecoverableQueue.h [from lib/broker/RecoverableQueue.h]|0 0
Renamed: src/broker/RecoveryManager.h [from lib/broker/RecoveryManager.h]|1 1
Renamed: src/broker/RecoveryManagerImpl.cpp [from lib/broker/RecoveryManagerImpl.cpp]|1 1
Renamed: src/broker/RecoveryManagerImpl.h [from lib/broker/RecoveryManagerImpl.h]|0 0
Renamed: src/broker/Reference.cpp [from lib/broker/Reference.cpp]|1 1
Renamed: src/broker/Reference.h [from lib/broker/Reference.h]|0 0
Renamed: src/broker/TopicExchange.cpp [from lib/broker/TopicExchange.cpp]|1 1
Renamed: src/broker/TopicExchange.h [from lib/broker/TopicExchange.h]|5 5
Renamed: src/broker/TransactionalStore.h [from lib/broker/TransactionalStore.h]|0 0
Renamed: src/broker/TxAck.cpp [from lib/broker/TxAck.cpp]|1 1
Renamed: src/broker/TxAck.h [from lib/broker/TxAck.h]|3 3
Renamed: src/broker/TxBuffer.cpp [from lib/broker/TxBuffer.cpp]|1 1
Renamed: src/broker/TxBuffer.h [from lib/broker/TxBuffer.h]|2 2
Renamed: src/broker/TxOp.h [from lib/broker/TxOp.h]|1 1
Renamed: src/broker/TxPublish.cpp [from lib/broker/TxPublish.cpp]|1 1
Renamed: src/broker/TxPublish.h [from lib/broker/TxPublish.h]|5 5
Renamed: src/client/AckMode.h [from lib/client/AckMode.h]|0 0
Renamed: src/client/BasicMessageChannel.cpp [from lib/client/BasicMessageChannel.cpp]|2 2
Renamed: src/client/BasicMessageChannel.h [from lib/client/BasicMessageChannel.h]|0 0
Renamed: src/client/ClientAdapter.cpp [from lib/client/ClientAdapter.cpp]|2 2
Renamed: src/client/ClientAdapter.h [from lib/client/ClientAdapter.h]|1 1
Renamed: src/client/ClientChannel.cpp [from lib/client/ClientChannel.cpp]|5 5
Renamed: src/client/ClientChannel.h [from lib/client/ClientChannel.h]|7 7
Renamed: src/client/ClientExchange.cpp [from lib/client/ClientExchange.cpp]|1 1
Renamed: src/client/ClientExchange.h [from lib/client/ClientExchange.h]|0 0
Renamed: src/client/ClientMessage.h [from lib/client/ClientMessage.h]|1 1
Renamed: src/client/ClientQueue.cpp [from lib/client/ClientQueue.cpp]|1 1
Renamed: src/client/ClientQueue.h [from lib/client/ClientQueue.h]|0 0
Renamed: src/client/Connection.cpp [from lib/client/Connection.cpp]|5 5
Renamed: src/client/Connection.h [from lib/client/Connection.h]|3 3
Renamed: src/client/Connector.cpp [from lib/client/Connector.cpp]|2 2
Renamed: src/client/Connector.h [from lib/client/Connector.h]|10 10
Renamed: src/client/IncomingMessage.cpp [from lib/client/IncomingMessage.cpp]|1 1
Renamed: src/client/IncomingMessage.h [from lib/client/IncomingMessage.h]|1 1
Renamed: src/client/Makefile.am [from lib/client/Makefile.am]|2 5
Renamed: src/client/MessageChannel.h [from lib/client/MessageChannel.h]|2 2
Renamed: src/client/MessageListener.cpp [from lib/client/MessageListener.cpp]|1 1
Renamed: src/client/MessageListener.h [from lib/client/MessageListener.h]|1 1
Renamed: src/client/MethodBodyInstances.h [from lib/client/MethodBodyInstances.h]|1 1
Renamed: src/client/ResponseHandler.cpp [from lib/client/ResponseHandler.cpp]|2 2
Renamed: src/client/ResponseHandler.h [from lib/client/ResponseHandler.h]|2 2
Renamed: src/client/ReturnedMessageHandler.cpp [from lib/client/ReturnedMessageHandler.cpp]|1 1
Renamed: src/client/ReturnedMessageHandler.h [from lib/client/ReturnedMessageHandler.h]|1 1
Renamed: src/doxygen_mainpage.h [from lib/common/doxygen_mainpage.h]|0 0
Renamed: src/framing/AMQBody.cpp [from lib/common/framing/AMQBody.cpp]|1 1
Renamed: src/framing/AMQBody.h [from lib/common/framing/AMQBody.h]|2 2
Renamed: src/framing/AMQContentBody.cpp [from lib/common/framing/AMQContentBody.cpp]|1 1
Renamed: src/framing/AMQContentBody.h [from lib/common/framing/AMQContentBody.h]|3 3
Renamed: src/framing/AMQDataBlock.h [from lib/common/framing/AMQDataBlock.h]|1 1
Renamed: src/framing/AMQFrame.cpp [from lib/common/framing/AMQFrame.cpp]|2 2
Renamed: src/framing/AMQFrame.h [from lib/common/framing/AMQFrame.h]|10 10
Renamed: src/framing/AMQHeaderBody.cpp [from lib/common/framing/AMQHeaderBody.cpp]|3 3
Renamed: src/framing/AMQHeaderBody.h [from lib/common/framing/AMQHeaderBody.h]|4 4
Renamed: src/framing/AMQHeartbeatBody.cpp [from lib/common/framing/AMQHeartbeatBody.cpp]|1 1
Renamed: src/framing/AMQHeartbeatBody.h [from lib/common/framing/AMQHeartbeatBody.h]|3 3
Renamed: src/framing/AMQMethodBody.cpp [from lib/common/framing/AMQMethodBody.cpp]|3 3
Renamed: src/framing/AMQMethodBody.h [from lib/common/framing/AMQMethodBody.h]|5 5
Renamed: src/framing/AMQRequestBody.cpp [from lib/common/framing/AMQRequestBody.cpp]|0 0
Renamed: src/framing/AMQRequestBody.h [from lib/common/framing/AMQRequestBody.h]|0 0
Renamed: src/framing/AMQResponseBody.cpp [from lib/common/framing/AMQResponseBody.cpp]|0 0
Renamed: src/framing/AMQResponseBody.h [from lib/common/framing/AMQResponseBody.h]|0 0
Renamed: src/framing/BasicHeaderProperties.cpp [from lib/common/framing/BasicHeaderProperties.cpp]|1 1
Renamed: src/framing/BasicHeaderProperties.h [from lib/common/framing/BasicHeaderProperties.h]|4 4
Renamed: src/framing/BodyHandler.cpp [from lib/common/framing/BodyHandler.cpp]|7 7
Renamed: src/framing/BodyHandler.h [from lib/common/framing/BodyHandler.h]|0 0
Renamed: src/framing/Buffer.cpp [from lib/common/framing/Buffer.cpp]|3 3
Renamed: src/framing/Buffer.h [from lib/common/framing/Buffer.h]|1 1
Renamed: src/framing/ChannelAdapter.cpp [from lib/common/framing/ChannelAdapter.cpp]|1 1
Renamed: src/framing/ChannelAdapter.h [from lib/common/framing/ChannelAdapter.h]|1 1
Renamed: src/framing/FieldTable.cpp [from lib/common/framing/FieldTable.cpp]|4 4
Renamed: src/framing/FieldTable.h [from lib/common/framing/FieldTable.h]|1 1
Renamed: src/framing/FramingContent.cpp [from lib/common/framing/FramingContent.cpp]|1 1
Renamed: src/framing/FramingContent.h [from lib/common/framing/FramingContent.h]|0 0
Renamed: src/framing/HeaderProperties.h [from lib/common/framing/HeaderProperties.h]|2 2
Renamed: src/framing/InitiationHandler.cpp [from lib/common/framing/InitiationHandler.cpp]|1 1
Renamed: src/framing/InitiationHandler.h [from lib/common/framing/InitiationHandler.h]|1 1
Renamed: src/framing/InputHandler.h [from lib/common/framing/InputHandler.h]|1 1
Renamed: src/framing/MethodContext.cpp [from lib/common/framing/MethodContext.cpp]|0 0
Renamed: src/framing/MethodContext.h [from lib/common/framing/MethodContext.h]|0 0
Renamed: src/framing/OutputHandler.h [from lib/common/framing/OutputHandler.h]|0 0
Renamed: src/framing/ProtocolInitiation.cpp [from lib/common/framing/ProtocolInitiation.cpp]|1 1
Renamed: src/framing/ProtocolInitiation.h [from lib/common/framing/ProtocolInitiation.h]|4 4
Renamed: src/framing/ProtocolVersion.cpp [from lib/common/framing/ProtocolVersion.cpp]|1 1
Renamed: src/framing/ProtocolVersion.h [from lib/common/framing/ProtocolVersion.h]|1 1
Renamed: src/framing/ProtocolVersionException.cpp [from lib/common/framing/ProtocolVersionException.cpp]|1 1
Renamed: src/framing/ProtocolVersionException.h [from lib/common/framing/ProtocolVersionException.h]|2 2
Renamed: src/framing/Proxy.cpp [from lib/common/framing/Proxy.cpp]|0 0
Renamed: src/framing/Proxy.h [from lib/common/framing/Proxy.h]|0 0
Renamed: src/framing/Requester.cpp [from lib/common/framing/Requester.cpp]|1 1
Renamed: src/framing/Requester.h [from lib/common/framing/Requester.h]|0 0
Renamed: src/framing/Responder.cpp [from lib/common/framing/Responder.cpp]|1 1
Renamed: src/framing/Responder.h [from lib/common/framing/Responder.h]|0 0
Renamed: src/framing/Value.cpp [from lib/common/framing/Value.cpp]|4 4
Renamed: src/framing/Value.h [from lib/common/framing/Value.h]|2 2
Added: src/framing/amqp_framing.h|36 0
Renamed: src/framing/amqp_types.h [from lib/common/framing/amqp_types.h]|1 1
Renamed: src/framing/amqp_types_full.h [from lib/common/framing/amqp_types_full.h]|0 0
Renamed: src/gen/Makefile.am [from gen/Makefile.am]|2 2
Renamed: src/gen/make-gen-src-mk.sh [from gen/make-gen-src-mk.sh]|0 0
Modified: src/qpidd.cpp|3 3
Renamed: src/shared_ptr.h [from lib/common/shared_ptr.h]|0 0
Renamed: src/sys/Acceptor.h [from lib/common/sys/Acceptor.h]|1 1
Renamed: src/sys/AtomicCount.h [from lib/common/sys/AtomicCount.h]|0 0
Renamed: src/sys/Condition.h [from lib/common/sys/Condition.h]|3 3
Renamed: src/sys/ConnectionInputHandler.h [from lib/common/sys/ConnectionInputHandler.h]|4 4
Renamed: src/sys/ConnectionInputHandlerFactory.h [from lib/common/sys/ConnectionInputHandlerFactory.h]|0 0
Renamed: src/sys/ConnectionOutputHandler.h [from lib/common/sys/ConnectionOutputHandler.h]|1 1
Renamed: src/sys/Module.h [from lib/common/sys/Module.h]|3 3
Renamed: src/sys/Monitor.h [from lib/common/sys/Monitor.h]|2 2
Renamed: src/sys/Mutex.h [from lib/common/sys/Mutex.h]|5 5
Renamed: src/sys/ProducerConsumer.cpp [from lib/common/sys/ProducerConsumer.cpp]|1 1
Renamed: src/sys/ProducerConsumer.h [from lib/common/sys/ProducerConsumer.h]|2 2
Renamed: src/sys/Runnable.cpp [from lib/common/sys/Runnable.cpp]|0 0
Renamed: src/sys/Runnable.h [from lib/common/sys/Runnable.h]|0 0
Renamed: src/sys/ScopedIncrement.h [from lib/common/sys/ScopedIncrement.h]|0 0
Renamed: src/sys/ShutdownHandler.h [from lib/common/sys/ShutdownHandler.h]|0 0
Renamed: src/sys/Socket.h [from lib/common/sys/Socket.h]|2 2
Renamed: src/sys/Thread.h [from lib/common/sys/Thread.h]|7 7
Renamed: src/sys/ThreadSafeQueue.h [from lib/common/sys/ThreadSafeQueue.h]|1 1
Renamed: src/sys/Time.cpp [from lib/common/sys/Time.cpp]|0 0
Renamed: src/sys/Time.h [from lib/common/sys/Time.h]|2 2
Renamed: src/sys/TimeoutHandler.h [from lib/common/sys/TimeoutHandler.h]|0 0
Added: src/sys/apr/APRAcceptor.cpp|120 0
Added: src/sys/apr/APRBase.cpp|90 0
Added: src/sys/apr/APRBase.h|78 0
Renamed: src/sys/apr/APRPool.cpp [from lib/common/sys/apr/APRPool.cpp]|0 0
Renamed: src/sys/apr/APRPool.h [from lib/common/sys/apr/APRPool.h]|0 0
Added: src/sys/apr/APRSocket.cpp|78 0
Added: src/sys/apr/APRSocket.h|48 0
Added: src/sys/apr/LFProcessor.cpp|179 0
Added: src/sys/apr/LFProcessor.h|121 0
Added: src/sys/apr/LFSessionContext.cpp|179 0
Added: src/sys/apr/LFSessionContext.h|90 0
Added: src/sys/apr/Socket.cpp|86 0
Added: src/sys/apr/Thread.cpp|33 0
Renamed: src/sys/posix/EventChannel.cpp [from lib/common/sys/posix/EventChannel.cpp]|2 2
Added: src/sys/posix/EventChannel.h|176 0
Added: src/sys/posix/EventChannelAcceptor.cpp|149 0
Added: src/sys/posix/EventChannelConnection.cpp|229 0
Added: src/sys/posix/EventChannelConnection.h|102 0
Added: src/sys/posix/EventChannelThreads.cpp|119 0
Added: src/sys/posix/EventChannelThreads.h|92 0
Added: src/sys/posix/PosixAcceptor.cpp|48 0
Added: src/sys/posix/Socket.cpp|118 0
Renamed: src/sys/posix/Thread.cpp [from lib/common/framing/amqp_framing.h]|8 16
Added: src/sys/posix/check.cpp|39 0
Added: src/sys/posix/check.h|62 0
Added: src/tests/.vg-supp|18 0
Added: src/tests/APRBaseTest.cpp|47 0
Added: src/tests/AccumulatedAckTest.cpp|107 0
Renamed: src/tests/BrokerChannelTest.cpp [from tests/BrokerChannelTest.cpp]|10 10
Added: src/tests/ClientChannelTest.cpp|193 0
Added: src/tests/ConfigurationTest.cpp|98 0
Added: src/tests/EventChannelConnectionTest.cpp|109 0
Added: src/tests/EventChannelTest.cpp|187 0
Added: src/tests/EventChannelThreadsTest.cpp|247 0
Added: src/tests/ExchangeTest.cpp|73 0
Added: src/tests/FieldTableTest.cpp|55 0
Renamed: src/tests/FramingTest.cpp [from tests/FramingTest.cpp]|13 13
Added: src/tests/HeaderTest.cpp|141 0
Added: src/tests/HeadersExchangeTest.cpp|115 0
Added: src/tests/InMemoryContentTest.cpp|92 0
Added: src/tests/InProcessBroker.h|163 0
Added: src/tests/LazyLoadedContentTest.cpp|112 0
Added: src/tests/Makefile.am|117 0
Added: src/tests/MessageBuilderTest.cpp|225 0
Added: src/tests/MessageHandlerTest.cpp|57 0
Added: src/tests/MessageTest.cpp|88 0
Added: src/tests/MockChannel.h|70 0
Added: src/tests/MockConnectionInputHandler.h|113 0
Added: src/tests/ProducerConsumerTest.cpp|284 0
Added: src/tests/QueuePolicyTest.cpp|89 0
Added: src/tests/QueueRegistryTest.cpp|95 0
Added: src/tests/QueueTest.cpp|149 0
Added: src/tests/ReferenceTest.cpp|102 0
Added: src/tests/TopicExchangeTest.cpp|200 0
Added: src/tests/TxAckTest.cpp|113 0
Added: src/tests/TxBufferTest.cpp|269 0
Added: src/tests/TxPublishTest.cpp|108 0
Added: src/tests/ValueTest.cpp|102 0
Added: src/tests/client_test.cpp|138 0
Added: src/tests/dlclose_noop.c|30 0
Added: src/tests/echo_service.cpp|230 0
Added: src/tests/examples.Makefile|66 0
Renamed: src/tests/examples.README [from tests/examples.README]|0 0
Added: src/tests/kill_broker|3 0
Renamed: src/tests/python_tests [from tests/python_tests]|2 2
Added: src/tests/qpid_test_plugin.h|43 0
Renamed: src/tests/quick_topictest [from tests/quick_topictest]|0 0
Added: src/tests/run-python-tests|0 0
Added: src/tests/run-unit-tests|37 0
Added: src/tests/setup|81 0
Renamed: src/tests/start_broker [from tests/start_broker]|1 1
Added: src/tests/topic_listener.cpp|217 0
Added: src/tests/topic_publisher.cpp|287 0
Added: src/tests/topictest|39 0
Deleted: tests/.vg-supp|0 18
Deleted: tests/APRBaseTest.cpp|0 47
Deleted: tests/AccumulatedAckTest.cpp|0 107
Deleted: tests/ClientChannelTest.cpp|0 193
Deleted: tests/ConfigurationTest.cpp|0 98
Deleted: tests/EventChannelConnectionTest.cpp|0 109
Deleted: tests/EventChannelTest.cpp|0 187
Deleted: tests/EventChannelThreadsTest.cpp|0 247
Deleted: tests/ExchangeTest.cpp|0 73
Deleted: tests/FieldTableTest.cpp|0 55
Deleted: tests/HeaderTest.cpp|0 141
Deleted: tests/HeadersExchangeTest.cpp|0 115
Deleted: tests/InMemoryContentTest.cpp|0 92
Deleted: tests/InProcessBroker.h|0 163
Deleted: tests/LazyLoadedContentTest.cpp|0 112
Deleted: tests/Makefile.am|0 123
Deleted: tests/MessageBuilderTest.cpp|0 225
Deleted: tests/MessageHandlerTest.cpp|0 57
Deleted: tests/MessageTest.cpp|0 88
Deleted: tests/MockChannel.h|0 70
Deleted: tests/MockConnectionInputHandler.h|0 113
Deleted: tests/ProducerConsumerTest.cpp|0 284
Deleted: tests/QueuePolicyTest.cpp|0 89
Deleted: tests/QueueRegistryTest.cpp|0 95
Deleted: tests/QueueTest.cpp|0 149
Deleted: tests/ReferenceTest.cpp|0 102
Deleted: tests/TopicExchangeTest.cpp|0 200
Deleted: tests/TxAckTest.cpp|0 113
Deleted: tests/TxBufferTest.cpp|0 269
Deleted: tests/TxPublishTest.cpp|0 108
Deleted: tests/ValueTest.cpp|0 102
Deleted: tests/client_test.cpp|0 138
Deleted: tests/dlclose_noop.c|0 30
Deleted: tests/echo_service.cpp|0 230
Deleted: tests/examples.Makefile|0 66
Deleted: tests/kill_broker|0 3
Deleted: tests/qpid_test_plugin.h|0 43
Deleted: tests/run-python-tests|0 0
Deleted: tests/run-unit-tests|0 37
Deleted: tests/setup|0 81
Deleted: tests/topic_listener.cpp|0 217
Deleted: tests/topic_publisher.cpp|0 287
Deleted: tests/topictest|0 39

Revision: 63316a3cd4868f2ab81ef6f5e44a3702e6f239c3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2007 01:40:54
Message:
More QPID-243 * Moved most of the C++ make into src/Makefile.am * There is still a separate src/tests/Makefile.am #MsgLength=115


----
Modified: configure.ac|1 1
Modified: src/Makefile.am|166 4
Renamed: src/client/ClientConnection.cpp [from src/client/Connection.cpp]|0 0
Modified: src/tests/Makefile.am|2 2

Revision: 2eaddd2258aec1a74b302feb9c8c464b04d024e5
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2007 04:27:21
Message:
* src/tests/examples.README,examples.Makefile: out of date, removed. * src/tests/README: details on running tests. * cpp/README: Point to src/tests/README * src/tests/ .valgrind.supp, .valgrindrc-default: moved valgrind options to file, easier to modify locally updated suppressions (see README) * src/tests/test_env, run-unit-tests: more flexible test running (see README) #MsgLength=375


----
Renamed: src/tests/.valgrind.supp [from src/tests/.vg-supp]|16 0
Added: src/tests/.valgrindrc-default|7 0
Modified: src/tests/Makefile.am|22 23
Added: src/tests/README|71 0
Deleted: src/tests/examples.Makefile|0 66
Deleted: src/tests/examples.README|0 18
Modified: src/tests/run-unit-tests|5 16
Deleted: src/tests/setup|0 81
Added: src/tests/test_env|43 0

Revision: e85ffbebb0c8ae6f89692536b67ab29e8f9318de
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2007 05:22:33
Message:
Updated to point to tests/README. #MsgLength=35


----
Modified: README|2 23

Revision: 794f1c1b4f479f1c32377f81dab5c9c5137dabec
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2007 05:57:29
Message:
Fix error in previous commit. #MsgLength=31


----
Modified: src/tests/Makefile.am|3 3

Revision: ffa6fac84f09ca6f089e8cb40979e9af97518ac2
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2007 06:05:57
Message:
Fix error in flags. #MsgLength=21


----
Modified: src/tests/.valgrindrc-default|1 1

Revision: 8e3cc38094947b9ab47e3523ee271e7380f8d13b
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2007 06:07:02
Message:
Run selected python tests with make check TESTS=python_tests  PYTHON_TESTS=<some test> #MsgLength=88


----
Modified: src/tests/python_tests|1 1

Revision: c41d15fd5b9aa3c3464c067da15df17b6c96c1b7
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 02:50:43
Message:
* cpp/src/broker/Broker.cpp: Join cleaner thread. #MsgLength=226


----
Modified: src/broker/Broker.cpp|1 0
Modified: src/broker/BrokerMessageMessage.cpp|118 103
Modified: src/broker/BrokerMessageMessage.h|15 12
Modified: src/tests/ReferenceTest.cpp|26 28

Revision: cfcf769ec66564316037b70477275962ec54d000
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 02:52:33
Message:
Ignore .deps directory #MsgLength=23


----

Revision: b12850ec7b51d5d1c72cf0e7b16c80de886c9315
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 05:18:17
Message:
Moved BasicMessage::WaitableDestination to IncomingMessage::WaitableDestination  so it can be shared by Basic and Message implementations. #MsgLength=140


----
Modified: src/client/BasicMessageChannel.cpp|8 58
Modified: src/client/BasicMessageChannel.h|2 3
Modified: src/client/IncomingMessage.cpp|38 0
Modified: src/client/IncomingMessage.h|24 2

Revision: a8c8f9af36a617a92170147cbe0db2c27819d05b
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 05:56:22
Message:
* Remove redundant Makefile.am, not needed with single src/ makefile. * Fixed automake warnings. #MsgLength=98


----
Modified: bootstrap|2 2
Modified: configure.ac|0 3
Modified: src/Makefile.am|7 8
Deleted: src/broker/Makefile.am|0 97
Deleted: src/client/Makefile.am|0 34
Deleted: src/gen/Makefile.am|0 37
Renamed: src/make-gen-src-mk.sh [from src/gen/make-gen-src-mk.sh]|3 3

Revision: 50801785a86bf3486e4431e0f41bd7f5e154dc88
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 06:27:10
Message:
* tests/FramingTest.cpp: Fixed integer types to build on 64 bit architectures * tests/test_env: added missing executable property. #MsgLength=132


----
Modified: src/tests/FramingTest.cpp|15 15
Modified: src/tests/test_env|0 0

Revision: f439ef19814baeab173d556515b7135feb7a1abe
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2007 23:45:37
Message:
* Made client::Channel bi-modal: 0-8 or 0-9 modes. * Added dummy impl of client::MessageMessageChannel. * Generalised ClientChannelTest to be able to test both modes. #MsgLength=168


----
Modified: src/Makefile.am|7 5
Modified: src/client/ClientChannel.cpp|10 10
Modified: src/client/ClientChannel.h|2 1
Added: src/client/MessageMessageChannel.cpp|331 0
Added: src/client/MessageMessageChannel.h|82 0
Modified: src/tests/ClientChannelTest.cpp|56 40

Revision: eb1a9afa61ac6de317a5dec3161c35dec6ea10a8
Author: Gordon Sim <gsim@apache.org>
Date: 05/04/2007 19:48:05
Message:
* Further (minor) changes to the interface between store and broker. * TxBuffer now uses shared_ptr to TxOps (removed DeletingTxOp) * Queue now persists the field table of settings #MsgLength=184


----
Modified: src/Makefile.am|0 2
Modified: src/broker/BrokerChannel.cpp|8 7
Modified: src/broker/BrokerMessageBase.h|2 2
Modified: src/broker/BrokerQueue.cpp|10 8
Modified: src/broker/BrokerQueue.h|2 1
Deleted: src/broker/DeletingTxOp.cpp|0 45
Deleted: src/broker/DeletingTxOp.h|0 45
Modified: src/broker/Persistable.h|1 1
Modified: src/broker/RecoverableMessage.h|1 0
Modified: src/broker/RecoverableQueue.h|2 0
Modified: src/broker/RecoveryManagerImpl.cpp|12 0
Modified: src/broker/TxBuffer.cpp|5 4
Modified: src/broker/TxBuffer.h|3 3
Modified: src/broker/TxOp.h|3 0
Modified: src/tests/FieldTableTest.cpp|33 0
Modified: src/tests/TxBufferTest.cpp|55 52

Revision: 12210d20b898d1a21fda8cc36632fbe99a025929
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2007 03:16:09
Message:
* Exteneded use of shared pointers frame bodies across all send() commands. * tests/Makefile.am: added check-unit target to run just unit tests. #MsgLength=1111


----
Modified: src/Makefile.am|2 1
Modified: src/client/BasicMessageChannel.cpp|5 5
Modified: src/client/ClientChannel.cpp|18 17
Modified: src/client/ClientChannel.h|7 4
Modified: src/client/ClientConnection.cpp|2 2
Modified: src/client/ClientMessage.h|2 0
Modified: src/client/MessageMessageChannel.cpp|84 19
Modified: src/framing/ChannelAdapter.cpp|16 6
Modified: src/framing/ChannelAdapter.h|18 10
Added: src/framing/Correlator.cpp|42 0
Added: src/framing/Correlator.h|68 0
Modified: src/framing/Requester.h|9 8
Modified: src/shared_ptr.h|9 1
Modified: src/tests/ClientChannelTest.cpp|11 0
Modified: src/tests/FramingTest.cpp|49 4
Modified: src/tests/Makefile.am|3 0

Revision: 4324b5c00bfdbaae3caf2d1ad483533a192f109a
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2007 05:23:14
Message:
* cpp/src/broker/BrokerMessageMessage.h: Change reference from weak_ptr to shared_ptr. Broker messages hold their reference. * cpp/src/broker/Reference.cpp (close): clear messages array to break shared_ptr cycle and avoid a leak. * cpp/src/client/MessageMessageChannel.cpp (publish): Support references for large messages. * cpp/src/shared_ptr.h (make_shared_ptr): added deleter variant. * cpp/src/tests/ClientChannelTest.cpp: Enabled testGetNoContent, testGetFragmentedMessage #MsgLength=487


----
Modified: src/broker/BrokerMessageMessage.cpp|1 1
Modified: src/broker/BrokerMessageMessage.h|1 1
Modified: src/broker/Reference.cpp|1 0
Modified: src/client/MessageMessageChannel.cpp|39 4
Modified: src/shared_ptr.h|5 0
Modified: src/tests/ClientChannelTest.cpp|2 0

Revision: 8959c6ecd5bd9c33d16138d3ea285e89dfdb5721
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2007 06:36:12
Message:
* docs/api/*: Fixed API doc generation to work with VPATH builds. * src/Makefile.am: - Added missing .h files in distribution. * src & tests Makefile.am: - Made generated .mk fragments maintaner-clean, not distclean, otherwise distclean followed by a VPATH build fails. * cpp/src/tests/quick_topictest: cat error log on failure. #MsgLength=336


----
Modified: Makefile.am|2 2
Modified: configure.ac|2 0
Modified: docs/api/Makefile.am|9 17
Renamed: docs/api/developer.doxygen.in [from docs/api/developer.doxygen]|2 2
Deleted: docs/api/doxygen.mk|0 9
Added: docs/api/doxygen_mk.sh|19 0
Renamed: docs/api/user.doxygen.in [from docs/api/user.doxygen]|2 2
Modified: rpm/Makefile.am|9 10
Modified: src/Makefile.am|228 217
Modified: src/tests/Makefile.am|5 6
Modified: src/tests/quick_topictest|4 2

Revision: c6e7039aab06df88e47c6845513f5b04c34fecf6
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2007 06:39:18
Message:
* docs/api: Updated ignore flags for generated doxygen config files. #MsgLength=70


----

Revision: de18070e8a0bf2b7a6e5b837bc0097cf0e5a3881
Author: Gordon Sim <gsim@apache.org>
Date: 11/04/2007 20:10:17
Message:
Added extra method to transaction control interface for store plugins. #MsgLength=73


----
Modified: src/broker/MessageStoreModule.cpp|5 0
Modified: src/broker/MessageStoreModule.h|1 0
Modified: src/broker/NullMessageStore.cpp|5 0
Modified: src/broker/NullMessageStore.h|1 0
Modified: src/broker/TransactionalStore.h|3 0
Modified: src/tests/TxBufferTest.cpp|5 0

Revision: 059e32bcabea310abe5d4909793477111be521c4
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2007 21:06:30
Message:
* Fixes to enable VPATH builds. #MsgLength=33


----
Modified: docs/man/Makefile.am|1 1
Modified: src/Makefile.am|3 4
Modified: src/broker/Configuration.cpp|1 1
Modified: src/qpidd.cpp|1 1

Revision: e1d43e7fa6eaaa74f6742262d50ce3a864098340
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2007 03:53:32
Message:
* cpp/qpidc.spec.in: Added qpidd-devel sub-package. * cpp/configure.ac: Use a more reliable srcdir test file. * cpp/docs/api/Makefile.am:  Fix bug in VPATH builds. * cpp/gentools/*, src/**.h,**.cpp: Fix #includes of files in gen/ * cpp/rpm/Makefile.am: Removed. RPM targets defined in top level Makefile.am. * cpp/Makefile.am: Add RPM targets, fix VPATH bug with RPM targets * cpp/rpm/README.qpidd-devel: placeholder for qpidd-devel documentation. #MsgLength=449


----
Modified: Makefile.am|30 8
Modified: README|2 2
Modified: configure.ac|6 3
Modified: docs/api/Makefile.am|4 2
Modified: docs/api/user.doxygen.in|1 1
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|2 2
Modified: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|1 1
Modified: qpidc.spec.in|38 18
Deleted: rpm/Makefile.am|0 26
Added: rpm/README.qpidd-devel|11 0
Modified: src/Makefile.am|4 10
Modified: src/broker/BrokerAdapter.h|1 1
Modified: src/broker/BrokerChannel.h|1 1
Modified: src/broker/BrokerMessage.cpp|2 2
Modified: src/broker/BrokerMessageMessage.cpp|4 4
Modified: src/broker/BrokerMessageMessage.h|1 1
Modified: src/broker/Connection.cpp|1 1
Modified: src/broker/Connection.h|2 2
Modified: src/broker/HandlerImpl.h|1 1
Modified: src/broker/MessageBuilder.h|1 1
Modified: src/broker/MessageHandlerImpl.cpp|2 2
Modified: src/broker/MessageHandlerImpl.h|2 2
Modified: src/broker/Reference.cpp|1 1
Modified: src/client/ClientAdapter.cpp|1 1
Modified: src/framing/AMQFrame.h|2 2
Modified: src/framing/AMQMethodBody.cpp|1 1
Modified: src/framing/AMQMethodBody.h|1 1
Modified: src/framing/AMQRequestBody.cpp|1 1
Modified: src/framing/AMQResponseBody.cpp|1 1
Modified: src/framing/amqp_framing.h|1 1
Modified: src/tests/BrokerChannelTest.cpp|1 1
Modified: src/tests/ExchangeTest.cpp|1 1
Modified: src/tests/FramingTest.cpp|3 3
Modified: src/tests/InMemoryContentTest.cpp|1 1
Modified: src/tests/InProcessBroker.h|1 1
Modified: src/tests/LazyLoadedContentTest.cpp|1 1
Modified: src/tests/Makefile.am|14 10
Modified: src/tests/MessageHandlerTest.cpp|1 1
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/MockChannel.h|1 1
Modified: src/tests/ProducerConsumerTest.cpp|1 1
Modified: src/tests/ReferenceTest.cpp|2 2

Revision: b73f02e9ee120eb9d0622128c84bf472c89e6b92
Author: Jim Meyering <meyering@apache.org>
Date: 12/04/2007 04:28:42
Message:
* src/tests/Makefile.am (check): Depend on ../qpidd, too, so that "make check" fails right away when that file is missing. #MsgLength=124


----
Modified: src/tests/Makefile.am|2 1

Revision: e77f50ff48932073123ea3fbedf8213218f4cbc6
Author: Jim Meyering <meyering@apache.org>
Date: 12/04/2007 04:47:30
Message:
* src/tests/Makefile.am: Use .NOTPARALLEL target to suppress parallelism in this directory, even when make is invoked with e.g., -j2. #MsgLength=135


----
Modified: src/tests/Makefile.am|4 0

Revision: 807b4ba1dd2579a125380bbd769d501182c79829
Author: Jim Meyering <meyering@apache.org>
Date: 12/04/2007 04:50:03
Message:
* src/tests/Makefile.am: Remove trailing blanks. #MsgLength=50


----
Modified: src/tests/Makefile.am|3 3

Revision: 97f67c988b68f690e59f5d41a2fe9241be13d67d
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2007 06:32:30
Message:
* cpp/configure.ac: Disable static libraries by default. Half the build time! * cpp/src/Makefile.am (maintainer-clean): added missing maintainer-clean * cpp/src/tests/Makefile.am (check): remove un-necessary dependencies that were causing trouble with parallel builds. #MsgLength=273


----
Modified: configure.ac|14 22
Modified: src/Makefile.am|4 0
Modified: src/tests/Makefile.am|2 3

Revision: b88a7cff6997102b81d3d8d271988bd2372460d7
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2007 00:04:01
Message:
* cpp/qpid-config.in, Makefile.am, configure.ac: added qpid-config script. * cpp/m4/qpid.m4: added qpid.m4 script. * cpp/docs/api/doxygen_mk.sh: removed, unused. * cpp/docs/api/Makefile.am: fixed dependency typo. #MsgLength=214


----
Modified: Makefile.am|2 0
Modified: configure.ac|1 1
Modified: docs/api/Makefile.am|5 11
Deleted: docs/api/doxygen_mk.sh|0 19
Added: m4/qpid.m4|89 0
Added: qpid-config.in|98 0

Revision: 25b7dfd8fd12307b61a6ca2ffa31dea353b91e70
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2007 03:48:08
Message:
* Add pgg-config support for downstream packages * Bump version to 0.2 for downstream packages. #MsgLength=97


----
Modified: Makefile.am|7 10
Modified: configure.ac|10 2
Deleted: m4/qpid.m4|0 89
Added: qpidc.pc.in|12 0
Modified: qpidc.spec.in|6 3

Revision: c5dbca19ba0430cdafda872d3289a13cb00391a4
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2007 04:58:27
Message:
Moved src/ source code to src/qpid directory: - allows rhm package to build consistently against checked-out or installed qpid. - consistent correspondence between source paths and C++ namespaces. - consistent use of #include <qpid/foo> in source and by users. - allows header files to split over multiple directories, e.g. separating generated code, separating public API from private files. #MsgLength=402


----
Modified: README|5 2
Modified: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ClientProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ClientProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_HighestVersion.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.cpp.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_MethodVersionMap.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerProxy.cpp.tmpl|2 2
Modified: gentools/templ.cpp/AMQP_ServerProxy.h.tmpl|1 1
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|5 5
Modified: src/Makefile.am|47 44
Modified: src/make-gen-src-mk.sh|3 2
Renamed: src/qpid/Exception.cpp [from src/Exception.cpp]|0 0
Renamed: src/qpid/Exception.h [from src/Exception.h]|0 0
Renamed: src/qpid/ExceptionHolder.cpp [from src/ExceptionHolder.cpp]|0 0
Renamed: src/qpid/ExceptionHolder.h [from src/ExceptionHolder.h]|0 0
Renamed: src/qpid/QpidError.cpp [from src/QpidError.cpp]|0 0
Renamed: src/qpid/QpidError.h [from src/QpidError.h]|0 0
Renamed: src/qpid/SharedObject.h [from src/SharedObject.h]|0 0
Renamed: src/qpid/broker/AccumulatedAck.cpp [from src/broker/AccumulatedAck.cpp]|0 0
Renamed: src/qpid/broker/AccumulatedAck.h [from src/broker/AccumulatedAck.h]|0 0
Renamed: src/qpid/broker/AutoDelete.cpp [from src/broker/AutoDelete.cpp]|1 1
Renamed: src/qpid/broker/AutoDelete.h [from src/broker/AutoDelete.h]|2 2
Renamed: src/qpid/broker/Broker.cpp [from src/broker/Broker.cpp]|5 5
Renamed: src/qpid/broker/Broker.h [from src/broker/Broker.h]|5 5
Renamed: src/qpid/broker/BrokerAdapter.cpp [from src/broker/BrokerAdapter.cpp]|2 2
Renamed: src/qpid/broker/BrokerAdapter.h [from src/broker/BrokerAdapter.h]|2 2
Renamed: src/qpid/broker/BrokerChannel.cpp [from src/broker/BrokerChannel.cpp]|2 2
Renamed: src/qpid/broker/BrokerChannel.h [from src/broker/BrokerChannel.h]|2 2
Renamed: src/qpid/broker/BrokerExchange.h [from src/broker/BrokerExchange.h]|1 1
Renamed: src/qpid/broker/BrokerMessage.cpp [from src/broker/BrokerMessage.cpp]|7 7
Renamed: src/qpid/broker/BrokerMessage.h [from src/broker/BrokerMessage.h]|2 2
Renamed: src/qpid/broker/BrokerMessageBase.h [from src/broker/BrokerMessageBase.h]|1 1
Renamed: src/qpid/broker/BrokerMessageMessage.cpp [from src/broker/BrokerMessageMessage.cpp]|9 9
Renamed: src/qpid/broker/BrokerMessageMessage.h [from src/broker/BrokerMessageMessage.h]|2 2
Renamed: src/qpid/broker/BrokerQueue.cpp [from src/broker/BrokerQueue.cpp]|2 2
Renamed: src/qpid/broker/BrokerQueue.h [from src/broker/BrokerQueue.h]|3 3
Renamed: src/qpid/broker/BrokerSingleton.cpp [from src/broker/BrokerSingleton.cpp]|0 0
Renamed: src/qpid/broker/BrokerSingleton.h [from src/broker/BrokerSingleton.h]|0 0
Renamed: src/qpid/broker/CompletionHandler.h [from src/broker/CompletionHandler.h]|0 0
Renamed: src/qpid/broker/Configuration.cpp [from src/broker/Configuration.cpp]|0 0
Renamed: src/qpid/broker/Configuration.h [from src/broker/Configuration.h]|1 1
Renamed: src/qpid/broker/Connection.cpp [from src/broker/Connection.cpp]|1 1
Renamed: src/qpid/broker/Connection.h [from src/broker/Connection.h]|8 8
Renamed: src/qpid/broker/ConnectionFactory.cpp [from src/broker/ConnectionFactory.cpp]|0 0
Renamed: src/qpid/broker/ConnectionFactory.h [from src/broker/ConnectionFactory.h]|1 1
Renamed: src/qpid/broker/ConnectionToken.h [from src/broker/ConnectionToken.h]|0 0
Renamed: src/qpid/broker/Consumer.h [from src/broker/Consumer.h]|0 0
Renamed: src/qpid/broker/Content.h [from src/broker/Content.h]|3 3
Renamed: src/qpid/broker/Deliverable.h [from src/broker/Deliverable.h]|0 0
Renamed: src/qpid/broker/DeliverableMessage.cpp [from src/broker/DeliverableMessage.cpp]|0 0
Renamed: src/qpid/broker/DeliverableMessage.h [from src/broker/DeliverableMessage.h]|0 0
Renamed: src/qpid/broker/DeliveryRecord.cpp [from src/broker/DeliveryRecord.cpp]|0 0
Renamed: src/qpid/broker/DeliveryRecord.h [from src/broker/DeliveryRecord.h]|0 0
Renamed: src/qpid/broker/DirectExchange.cpp [from src/broker/DirectExchange.cpp]|0 0
Renamed: src/qpid/broker/DirectExchange.h [from src/broker/DirectExchange.h]|2 2
Renamed: src/qpid/broker/ExchangeRegistry.cpp [from src/broker/ExchangeRegistry.cpp]|0 0
Renamed: src/qpid/broker/ExchangeRegistry.h [from src/broker/ExchangeRegistry.h]|1 1
Renamed: src/qpid/broker/FanOutExchange.cpp [from src/broker/FanOutExchange.cpp]|0 0
Renamed: src/qpid/broker/FanOutExchange.h [from src/broker/FanOutExchange.h]|2 2
Renamed: src/qpid/broker/HandlerImpl.h [from src/broker/HandlerImpl.h]|1 1
Renamed: src/qpid/broker/HeadersExchange.cpp [from src/broker/HeadersExchange.cpp]|2 2
Renamed: src/qpid/broker/HeadersExchange.h [from src/broker/HeadersExchange.h]|2 2
Renamed: src/qpid/broker/InMemoryContent.cpp [from src/broker/InMemoryContent.cpp]|2 2
Renamed: src/qpid/broker/InMemoryContent.h [from src/broker/InMemoryContent.h]|0 0
Renamed: src/qpid/broker/LazyLoadedContent.cpp [from src/broker/LazyLoadedContent.cpp]|2 2
Renamed: src/qpid/broker/LazyLoadedContent.h [from src/broker/LazyLoadedContent.h]|0 0
Renamed: src/qpid/broker/MessageBuilder.cpp [from src/broker/MessageBuilder.cpp]|0 0
Renamed: src/qpid/broker/MessageBuilder.h [from src/broker/MessageBuilder.h]|4 4
Renamed: src/qpid/broker/MessageHandlerImpl.cpp [from src/broker/MessageHandlerImpl.cpp]|4 4
Renamed: src/qpid/broker/MessageHandlerImpl.h [from src/broker/MessageHandlerImpl.h]|2 2
Renamed: src/qpid/broker/MessageStore.h [from src/broker/MessageStore.h]|0 0
Renamed: src/qpid/broker/MessageStoreModule.cpp [from src/broker/MessageStoreModule.cpp]|0 0
Renamed: src/qpid/broker/MessageStoreModule.h [from src/broker/MessageStoreModule.h]|1 1
Renamed: src/qpid/broker/NameGenerator.cpp [from src/broker/NameGenerator.cpp]|0 0
Renamed: src/qpid/broker/NameGenerator.h [from src/broker/NameGenerator.h]|0 0
Renamed: src/qpid/broker/NullMessageStore.cpp [from src/broker/NullMessageStore.cpp]|0 0
Renamed: src/qpid/broker/NullMessageStore.h [from src/broker/NullMessageStore.h]|0 0
Renamed: src/qpid/broker/Persistable.h [from src/broker/Persistable.h]|2 2
Renamed: src/qpid/broker/PersistableExchange.h [from src/broker/PersistableExchange.h]|0 0
Renamed: src/qpid/broker/PersistableMessage.h [from src/broker/PersistableMessage.h]|1 1
Renamed: src/qpid/broker/PersistableQueue.h [from src/broker/PersistableQueue.h]|0 0
Renamed: src/qpid/broker/Prefetch.h [from src/broker/Prefetch.h]|1 1
Renamed: src/qpid/broker/QueuePolicy.cpp [from src/broker/QueuePolicy.cpp]|0 0
Renamed: src/qpid/broker/QueuePolicy.h [from src/broker/QueuePolicy.h]|1 1
Renamed: src/qpid/broker/QueueRegistry.cpp [from src/broker/QueueRegistry.cpp]|0 0
Renamed: src/qpid/broker/QueueRegistry.h [from src/broker/QueueRegistry.h]|1 1
Renamed: src/qpid/broker/RecoverableMessage.h [from src/broker/RecoverableMessage.h]|2 2
Renamed: src/qpid/broker/RecoverableQueue.h [from src/broker/RecoverableQueue.h]|0 0
Renamed: src/qpid/broker/RecoveryManager.h [from src/broker/RecoveryManager.h]|1 1
Renamed: src/qpid/broker/RecoveryManagerImpl.cpp [from src/broker/RecoveryManagerImpl.cpp]|0 0
Renamed: src/qpid/broker/RecoveryManagerImpl.h [from src/broker/RecoveryManagerImpl.h]|0 0
Renamed: src/qpid/broker/Reference.cpp [from src/broker/Reference.cpp]|2 2
Renamed: src/qpid/broker/Reference.h [from src/broker/Reference.h]|0 0
Renamed: src/qpid/broker/TopicExchange.cpp [from src/broker/TopicExchange.cpp]|0 0
Renamed: src/qpid/broker/TopicExchange.h [from src/broker/TopicExchange.h]|2 2
Renamed: src/qpid/broker/TransactionalStore.h [from src/broker/TransactionalStore.h]|0 0
Renamed: src/qpid/broker/TxAck.cpp [from src/broker/TxAck.cpp]|0 0
Renamed: src/qpid/broker/TxAck.h [from src/broker/TxAck.h]|0 0
Renamed: src/qpid/broker/TxBuffer.cpp [from src/broker/TxBuffer.cpp]|0 0
Renamed: src/qpid/broker/TxBuffer.h [from src/broker/TxBuffer.h]|0 0
Renamed: src/qpid/broker/TxOp.h [from src/broker/TxOp.h]|0 0
Renamed: src/qpid/broker/TxPublish.cpp [from src/broker/TxPublish.cpp]|0 0
Renamed: src/qpid/broker/TxPublish.h [from src/broker/TxPublish.h]|0 0
Renamed: src/qpid/client/AckMode.h [from src/client/AckMode.h]|0 0
Renamed: src/qpid/client/BasicMessageChannel.cpp [from src/client/BasicMessageChannel.cpp]|2 2
Renamed: src/qpid/client/BasicMessageChannel.h [from src/client/BasicMessageChannel.h]|0 0
Renamed: src/qpid/client/ClientAdapter.cpp [from src/client/ClientAdapter.cpp]|3 3
Renamed: src/qpid/client/ClientAdapter.h [from src/client/ClientAdapter.h]|1 1
Renamed: src/qpid/client/ClientChannel.cpp [from src/client/ClientChannel.cpp]|2 2
Renamed: src/qpid/client/ClientChannel.h [from src/client/ClientChannel.h]|3 3
Renamed: src/qpid/client/ClientConnection.cpp [from src/client/ClientConnection.cpp]|1 1
Renamed: src/qpid/client/ClientExchange.cpp [from src/client/ClientExchange.cpp]|0 0
Renamed: src/qpid/client/ClientExchange.h [from src/client/ClientExchange.h]|0 0
Renamed: src/qpid/client/ClientMessage.h [from src/client/ClientMessage.h]|1 1
Renamed: src/qpid/client/ClientQueue.cpp [from src/client/ClientQueue.cpp]|0 0
Renamed: src/qpid/client/ClientQueue.h [from src/client/ClientQueue.h]|0 0
Renamed: src/qpid/client/Connection.h [from src/client/Connection.h]|3 3
Renamed: src/qpid/client/Connector.cpp [from src/client/Connector.cpp]|2 2
Renamed: src/qpid/client/Connector.h [from src/client/Connector.h]|10 10
Renamed: src/qpid/client/IncomingMessage.cpp [from src/client/IncomingMessage.cpp]|1 1
Renamed: src/qpid/client/IncomingMessage.h [from src/client/IncomingMessage.h]|1 1
Renamed: src/qpid/client/MessageChannel.h [from src/client/MessageChannel.h]|2 2
Renamed: src/qpid/client/MessageListener.cpp [from src/client/MessageListener.cpp]|0 0
Renamed: src/qpid/client/MessageListener.h [from src/client/MessageListener.h]|0 0
Renamed: src/qpid/client/MessageMessageChannel.cpp [from src/client/MessageMessageChannel.cpp]|3 3
Renamed: src/qpid/client/MessageMessageChannel.h [from src/client/MessageMessageChannel.h]|1 1
Renamed: src/qpid/client/MethodBodyInstances.h [from src/client/MethodBodyInstances.h]|1 1
Renamed: src/qpid/client/ResponseHandler.cpp [from src/client/ResponseHandler.cpp]|2 2
Renamed: src/qpid/client/ResponseHandler.h [from src/client/ResponseHandler.h]|2 2
Renamed: src/qpid/client/ReturnedMessageHandler.cpp [from src/client/ReturnedMessageHandler.cpp]|0 0
Renamed: src/qpid/client/ReturnedMessageHandler.h [from src/client/ReturnedMessageHandler.h]|0 0
Renamed: src/qpid/doxygen_mainpage.h [from src/doxygen_mainpage.h]|0 0
Renamed: src/qpid/framing/AMQBody.cpp [from src/framing/AMQBody.cpp]|0 0
Renamed: src/qpid/framing/AMQBody.h [from src/framing/AMQBody.h]|0 0
Renamed: src/qpid/framing/AMQContentBody.cpp [from src/framing/AMQContentBody.cpp]|0 0
Renamed: src/qpid/framing/AMQContentBody.h [from src/framing/AMQContentBody.h]|0 0
Renamed: src/qpid/framing/AMQDataBlock.h [from src/framing/AMQDataBlock.h]|0 0
Renamed: src/qpid/framing/AMQFrame.cpp [from src/framing/AMQFrame.cpp]|1 1
Renamed: src/qpid/framing/AMQFrame.h [from src/framing/AMQFrame.h]|2 2
Renamed: src/qpid/framing/AMQHeaderBody.cpp [from src/framing/AMQHeaderBody.cpp]|1 1
Renamed: src/qpid/framing/AMQHeaderBody.h [from src/framing/AMQHeaderBody.h]|0 0
Renamed: src/qpid/framing/AMQHeartbeatBody.cpp [from src/framing/AMQHeartbeatBody.cpp]|0 0
Renamed: src/qpid/framing/AMQHeartbeatBody.h [from src/framing/AMQHeartbeatBody.h]|0 0
Renamed: src/qpid/framing/AMQMethodBody.cpp [from src/framing/AMQMethodBody.cpp]|2 2
Renamed: src/qpid/framing/AMQMethodBody.h [from src/framing/AMQMethodBody.h]|1 1
Renamed: src/qpid/framing/AMQRequestBody.cpp [from src/framing/AMQRequestBody.cpp]|1 1
Renamed: src/qpid/framing/AMQRequestBody.h [from src/framing/AMQRequestBody.h]|1 1
Renamed: src/qpid/framing/AMQResponseBody.cpp [from src/framing/AMQResponseBody.cpp]|1 1
Renamed: src/qpid/framing/AMQResponseBody.h [from src/framing/AMQResponseBody.h]|0 0
Renamed: src/qpid/framing/BasicHeaderProperties.cpp [from src/framing/BasicHeaderProperties.cpp]|0 0
Renamed: src/qpid/framing/BasicHeaderProperties.h [from src/framing/BasicHeaderProperties.h]|0 0
Renamed: src/qpid/framing/BodyHandler.cpp [from src/framing/BodyHandler.cpp]|1 1
Renamed: src/qpid/framing/BodyHandler.h [from src/framing/BodyHandler.h]|0 0
Renamed: src/qpid/framing/Buffer.cpp [from src/framing/Buffer.cpp]|0 0
Renamed: src/qpid/framing/Buffer.h [from src/framing/Buffer.h]|0 0
Renamed: src/qpid/framing/ChannelAdapter.cpp [from src/framing/ChannelAdapter.cpp]|1 1
Renamed: src/qpid/framing/ChannelAdapter.h [from src/framing/ChannelAdapter.h]|1 1
Renamed: src/qpid/framing/Correlator.cpp [from src/framing/Correlator.cpp]|0 0
Renamed: src/qpid/framing/Correlator.h [from src/framing/Correlator.h]|2 2
Renamed: src/qpid/framing/FieldTable.cpp [from src/framing/FieldTable.cpp]|1 1
Renamed: src/qpid/framing/FieldTable.h [from src/framing/FieldTable.h]|0 0
Renamed: src/qpid/framing/FramingContent.cpp [from src/framing/FramingContent.cpp]|1 1
Renamed: src/qpid/framing/FramingContent.h [from src/framing/FramingContent.h]|0 0
Renamed: src/qpid/framing/HeaderProperties.h [from src/framing/HeaderProperties.h]|0 0
Renamed: src/qpid/framing/InitiationHandler.cpp [from src/framing/InitiationHandler.cpp]|0 0
Renamed: src/qpid/framing/InitiationHandler.h [from src/framing/InitiationHandler.h]|0 0
Renamed: src/qpid/framing/InputHandler.h [from src/framing/InputHandler.h]|0 0
Renamed: src/qpid/framing/MethodContext.cpp [from src/framing/MethodContext.cpp]|0 0
Renamed: src/qpid/framing/MethodContext.h [from src/framing/MethodContext.h]|0 0
Renamed: src/qpid/framing/OutputHandler.h [from src/framing/OutputHandler.h]|0 0
Renamed: src/qpid/framing/ProtocolInitiation.cpp [from src/framing/ProtocolInitiation.cpp]|0 0
Renamed: src/qpid/framing/ProtocolInitiation.h [from src/framing/ProtocolInitiation.h]|0 0
Renamed: src/qpid/framing/ProtocolVersion.cpp [from src/framing/ProtocolVersion.cpp]|0 0
Renamed: src/qpid/framing/ProtocolVersion.h [from src/framing/ProtocolVersion.h]|0 0
Renamed: src/qpid/framing/ProtocolVersionException.cpp [from src/framing/ProtocolVersionException.cpp]|0 0
Renamed: src/qpid/framing/ProtocolVersionException.h [from src/framing/ProtocolVersionException.h]|1 1
Renamed: src/qpid/framing/Proxy.cpp [from src/framing/Proxy.cpp]|0 0
Renamed: src/qpid/framing/Proxy.h [from src/framing/Proxy.h]|0 0
Renamed: src/qpid/framing/Requester.cpp [from src/framing/Requester.cpp]|1 1
Renamed: src/qpid/framing/Requester.h [from src/framing/Requester.h]|0 0
Renamed: src/qpid/framing/Responder.cpp [from src/framing/Responder.cpp]|1 1
Renamed: src/qpid/framing/Responder.h [from src/framing/Responder.h]|0 0
Renamed: src/qpid/framing/Value.cpp [from src/framing/Value.cpp]|1 1
Renamed: src/qpid/framing/Value.h [from src/framing/Value.h]|0 0
Renamed: src/qpid/framing/amqp_framing.h [from src/framing/amqp_framing.h]|1 1
Renamed: src/qpid/framing/amqp_types.h [from src/framing/amqp_types.h]|0 0
Renamed: src/qpid/framing/amqp_types_full.h [from src/framing/amqp_types_full.h]|0 0
Renamed: src/qpid/shared_ptr.h [from src/shared_ptr.h]|0 0
Renamed: src/qpid/sys/Acceptor.h [from src/sys/Acceptor.h]|1 1
Renamed: src/qpid/sys/AtomicCount.h [from src/sys/AtomicCount.h]|0 0
Renamed: src/qpid/sys/Condition.h [from src/sys/Condition.h]|0 0
Renamed: src/qpid/sys/ConnectionInputHandler.h [from src/sys/ConnectionInputHandler.h]|3 3
Renamed: src/qpid/sys/ConnectionInputHandlerFactory.h [from src/sys/ConnectionInputHandlerFactory.h]|0 0
Renamed: src/qpid/sys/ConnectionOutputHandler.h [from src/sys/ConnectionOutputHandler.h]|1 1
Renamed: src/qpid/sys/Module.h [from src/sys/Module.h]|1 1
Renamed: src/qpid/sys/Monitor.h [from src/sys/Monitor.h]|0 0
Renamed: src/qpid/sys/Mutex.h [from src/sys/Mutex.h]|0 0
Renamed: src/qpid/sys/ProducerConsumer.cpp [from src/sys/ProducerConsumer.cpp]|1 1
Renamed: src/qpid/sys/ProducerConsumer.h [from src/sys/ProducerConsumer.h]|1 1
Renamed: src/qpid/sys/Runnable.cpp [from src/sys/Runnable.cpp]|0 0
Renamed: src/qpid/sys/Runnable.h [from src/sys/Runnable.h]|0 0
Renamed: src/qpid/sys/ScopedIncrement.h [from src/sys/ScopedIncrement.h]|0 0
Renamed: src/qpid/sys/ShutdownHandler.h [from src/sys/ShutdownHandler.h]|0 0
Renamed: src/qpid/sys/Socket.h [from src/sys/Socket.h]|0 0
Renamed: src/qpid/sys/Thread.h [from src/sys/Thread.h]|0 0
Renamed: src/qpid/sys/ThreadSafeQueue.h [from src/sys/ThreadSafeQueue.h]|1 1
Renamed: src/qpid/sys/Time.cpp [from src/sys/Time.cpp]|0 0
Renamed: src/qpid/sys/Time.h [from src/sys/Time.h]|0 0
Renamed: src/qpid/sys/TimeoutHandler.h [from src/sys/TimeoutHandler.h]|0 0
Renamed: src/qpid/sys/apr/APRAcceptor.cpp [from src/sys/apr/APRAcceptor.cpp]|2 2
Renamed: src/qpid/sys/apr/APRBase.cpp [from src/sys/apr/APRBase.cpp]|1 1
Renamed: src/qpid/sys/apr/APRBase.h [from src/sys/apr/APRBase.h]|1 1
Renamed: src/qpid/sys/apr/APRPool.cpp [from src/sys/apr/APRPool.cpp]|0 0
Renamed: src/qpid/sys/apr/APRPool.h [from src/sys/apr/APRPool.h]|0 0
Added: src/qpid/sys/apr/APRSocket.cpp|78 0
Renamed: src/qpid/sys/apr/APRSocket.h [from src/sys/apr/APRSocket.h]|1 1
Added: src/qpid/sys/apr/LFProcessor.cpp|179 0
Added: src/qpid/sys/apr/LFProcessor.h|121 0
Added: src/qpid/sys/apr/LFSessionContext.cpp|179 0
Added: src/qpid/sys/apr/LFSessionContext.h|90 0
Added: src/qpid/sys/apr/Socket.cpp|86 0
Added: src/qpid/sys/apr/Thread.cpp|33 0
Renamed: src/qpid/sys/posix/EventChannel.cpp [from src/sys/posix/EventChannel.cpp]|2 2
Added: src/qpid/sys/posix/EventChannel.h|176 0
Added: src/qpid/sys/posix/EventChannelAcceptor.cpp|149 0
Added: src/qpid/sys/posix/EventChannelConnection.cpp|229 0
Added: src/qpid/sys/posix/EventChannelConnection.h|102 0
Added: src/qpid/sys/posix/EventChannelThreads.cpp|119 0
Added: src/qpid/sys/posix/EventChannelThreads.h|92 0
Added: src/qpid/sys/posix/PosixAcceptor.cpp|48 0
Added: src/qpid/sys/posix/Socket.cpp|118 0
Renamed: src/qpid/sys/posix/Thread.cpp [from src/sys/apr/Thread.cpp]|6 11
Added: src/qpid/sys/posix/check.cpp|39 0
Added: src/qpid/sys/posix/check.h|62 0
Deleted: src/sys/apr/APRSocket.cpp|0 78
Deleted: src/sys/apr/LFProcessor.cpp|0 179
Deleted: src/sys/apr/LFProcessor.h|0 121
Deleted: src/sys/apr/LFSessionContext.cpp|0 179
Deleted: src/sys/apr/LFSessionContext.h|0 90
Deleted: src/sys/apr/Socket.cpp|0 86
Deleted: src/sys/posix/EventChannel.h|0 176
Deleted: src/sys/posix/EventChannelAcceptor.cpp|0 149
Deleted: src/sys/posix/EventChannelConnection.cpp|0 229
Deleted: src/sys/posix/EventChannelConnection.h|0 102
Deleted: src/sys/posix/EventChannelThreads.cpp|0 119
Deleted: src/sys/posix/EventChannelThreads.h|0 92
Deleted: src/sys/posix/PosixAcceptor.cpp|0 48
Deleted: src/sys/posix/Socket.cpp|0 118
Deleted: src/sys/posix/Thread.cpp|0 28
Deleted: src/sys/posix/check.cpp|0 39
Deleted: src/sys/posix/check.h|0 62
Modified: src/tests/APRBaseTest.cpp|1 1
Modified: src/tests/AccumulatedAckTest.cpp|1 1
Modified: src/tests/BrokerChannelTest.cpp|9 9
Modified: src/tests/ClientChannelTest.cpp|7 7
Modified: src/tests/ConfigurationTest.cpp|1 1
Modified: src/tests/EventChannelConnectionTest.cpp|6 6
Modified: src/tests/EventChannelTest.cpp|5 5
Modified: src/tests/EventChannelThreadsTest.cpp|2 2
Modified: src/tests/ExchangeTest.cpp|6 6
Modified: src/tests/FieldTableTest.cpp|1 1
Modified: src/tests/FramingTest.cpp|14 14
Modified: src/tests/HeaderTest.cpp|1 1
Modified: src/tests/HeadersExchangeTest.cpp|3 3
Modified: src/tests/InMemoryContentTest.cpp|3 3
Modified: src/tests/InProcessBroker.h|6 6
Modified: src/tests/LazyLoadedContentTest.cpp|4 4
Modified: src/tests/MessageBuilderTest.cpp|5 5
Modified: src/tests/MessageHandlerTest.cpp|3 3
Modified: src/tests/MessageTest.cpp|3 3
Modified: src/tests/MockChannel.h|5 5
Modified: src/tests/MockConnectionInputHandler.h|4 4
Modified: src/tests/ProducerConsumerTest.cpp|4 4
Modified: src/tests/QueuePolicyTest.cpp|1 1
Modified: src/tests/QueueRegistryTest.cpp|1 1
Modified: src/tests/QueueTest.cpp|2 2
Modified: src/tests/ReferenceTest.cpp|5 5
Modified: src/tests/TopicExchangeTest.cpp|1 1
Modified: src/tests/TxAckTest.cpp|3 3
Modified: src/tests/TxBufferTest.cpp|1 1
Modified: src/tests/TxPublishTest.cpp|3 3
Modified: src/tests/ValueTest.cpp|1 1
Modified: src/tests/client_test.cpp|7 7
Modified: src/tests/echo_service.cpp|7 7
Modified: src/tests/topic_listener.cpp|7 7
Modified: src/tests/topic_publisher.cpp|8 8

Revision: 1119593e61a9cf8f28f477d46e6516dcc018c708
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2007 05:15:00
Message:
Fixed broken installation of .h files. #MsgLength=39


----
Modified: src/Makefile.am|2 4

Revision: 9b530c398bd790696cf28a7b8aa379a20e89e4af
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2007 05:23:12
Message:
Fix minor typo in spec file #MsgLength=28


----
Modified: qpidc.spec.in|1 1

Revision: 29ff7e8a5e7e7d7b45c35767c4a023b421918382
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2007 06:03:56
Message:
* tests/Makefile.am: fix for source move. #MsgLength=43


----
Modified: src/tests/Makefile.am|2 4

Revision: ddfd5013d6fe752df5b171e08e57719ef5f6df41
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2007 22:49:07
Message:
svn:ignore generated code. #MsgLength=28


----

Revision: bd8039d0218045d8c9c40b1aa08c034b03789ada
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2007 00:38:02
Message:
* Moved code generation into top-level gen/ dir with own Makefile.am to correctly install generated headers. * Fixed gen-src.mk/Makefile dependency loop, bootstrap no longer needs to pre-create gen-src.mk. #MsgLength=211


----
Modified: Makefile.am|1 1
Modified: bootstrap|0 10
Modified: configure.ac|1 0
Modified: docs/api/user.doxygen.in|1 1
Added: gen/Makefile.am|41 0
Added: gen/gen-src-mk.sh|36 0
Modified: qpidc.spec.in|0 1
Modified: src/Makefile.am|8 47
Deleted: src/make-gen-src-mk.sh|0 31
Modified: src/qpidd.cpp|2 2
Modified: src/tests/Makefile.am|1 1

Revision: 801c39ec552708dcb4ac2130ed3ac91f9f924b99
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2007 00:46:28
Message:
Remove unused pkgconfig stuff. Causing trouble with rpmbuild #MsgLength=61


----
Modified: Makefile.am|1 8
Modified: configure.ac|0 1
Deleted: qpidc.pc.in|0 12

Revision: 5efd5060f6f8297cf3dca3d8aefe6030b8037358
Author: Gordon Sim <gsim@apache.org>
Date: 16/04/2007 19:32:43
Message:
Fixes QPID-303 and QPID-409. #MsgLength=226


----
Modified: src/qpid/client/ClientConnection.cpp|29 10
Modified: src/qpid/client/Connection.h|5 1
Modified: src/qpid/client/Connector.cpp|17 6
Modified: src/qpid/client/Connector.h|2 0

Revision: 0c072cce13cfa6fb7d28864e8a2428a23021beb5
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2007 03:27:23
Message:
Disable ClientChannelTest to allow RPM work to continue. I am investigating. #MsgLength=78


----
Modified: src/tests/Makefile.am|2 2

Revision: f4ef1a7784625f60f7494dd3feb523e132b32e9b
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2007 04:50:45
Message:
* qpidc.spec.in: bump RPM revision for bugfix. * src/qpid/framing/Correlator.cpp: Fix memory bug in correlator. * src/tests/Makefile.am: Re-enable ClientChannelTest, bug fixed. #MsgLength=178


----
Modified: qpidc.spec.in|4 1
Modified: src/qpid/framing/Correlator.cpp|6 5
Modified: src/tests/Makefile.am|1 1

Revision: 70ec80d6f4dd18290934b8b62c24e5a1335a29fb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/04/2007 21:49:27
Message:
More QPID-243 - Change Makefiles so that .o files are created in the same directory as the source files #MsgLength=107


----
Modified: configure.ac|2 2
Modified: gen/Makefile.am|1 2
Modified: src/Makefile.am|194 201

Revision: 83ee0d0189c7cc68c8adef82c56d522fbd32fba8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/04/2007 22:44:30
Message:
Fix for making gen code work again #MsgLength=36


----
Modified: gen/Makefile.am|3 4

Revision: 82883fd4a7a7c2eb982eec016392dd07fa124aee
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2007 02:58:16
Message:
Longer broker_start timeout to avoid failures in plague builds. #MsgLength=65


----
Modified: qpidc.spec.in|8 1
Modified: src/tests/start_broker|1 1

Revision: aa0cadcb1ebc673f000bfd6b8eb2842f2344e42f
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2007 03:29:19
Message:
Add missing %defattr to spec #MsgLength=29


----
Modified: qpidc.spec.in|1 0

Revision: 08c6c6770cc84fe825494b6a35555f4968bb83e9
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2007 04:24:29
Message:
- Add missing Requires: e2fsprogs-devel for qpidc-devel. #MsgLength=58


----
Modified: qpidc.spec.in|8 6

Revision: ca6ab600a0403bfb4cf3a35bb6a897bb5e6d52ec
Author: Gordon Sim <gsim@apache.org>
Date: 20/04/2007 01:56:21
Message:
Some dtx related updates. #MsgLength=28


----
Modified: src/Makefile.am|8 0
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/BrokerAdapter.cpp|3 2
Modified: src/qpid/broker/BrokerAdapter.h|5 1
Modified: src/qpid/broker/BrokerChannel.cpp|32 34
Modified: src/qpid/broker/BrokerChannel.h|8 4
Modified: src/qpid/broker/Connection.cpp|1 1
Added: src/qpid/broker/DtxBuffer.cpp|40 0
Added: src/qpid/broker/DtxBuffer.h|44 0
Added: src/qpid/broker/DtxHandlerImpl.cpp|124 0
Added: src/qpid/broker/DtxHandlerImpl.h|98 0
Added: src/qpid/broker/DtxManager.cpp|59 0
Added: src/qpid/broker/DtxManager.h|53 0
Added: src/qpid/broker/DtxWorkRecord.cpp|107 0
Added: src/qpid/broker/DtxWorkRecord.h|59 0
Modified: src/qpid/broker/TxBuffer.cpp|17 6
Modified: src/qpid/broker/TxBuffer.h|20 12
Modified: src/tests/TxBufferTest.cpp|48 9

Revision: 9fa0b46444e39353e09d6b46a9f96cc9353c0e2d
Author: Gordon Sim <gsim@apache.org>
Date: 21/04/2007 01:11:23
Message:
Added some dtx related unit tests Added support for suspend and resume #MsgLength=73


----
Modified: src/qpid/broker/BrokerChannel.cpp|29 2
Modified: src/qpid/broker/BrokerChannel.h|3 1
Modified: src/qpid/broker/DtxBuffer.cpp|17 1
Modified: src/qpid/broker/DtxBuffer.h|6 1
Modified: src/qpid/broker/DtxHandlerImpl.cpp|26 15
Modified: src/qpid/broker/DtxWorkRecord.cpp|2 2
Modified: src/qpid/broker/DtxWorkRecord.h|5 0
Added: src/tests/DtxWorkRecordTest.cpp|202 0
Modified: src/tests/Makefile.am|2 0
Modified: src/tests/TxBufferTest.cpp|1 132
Added: src/tests/TxMocks.h|227 0

Revision: f53568757fa84e6c26091ce1aad89493cc28c6da
Author: Alan Conway <aconway@apache.org>
Date: 26/04/2007 02:06:14
Message:
 * qpid/CommonOptions.h: - Convenience classs/functions to use boost::program_options. - CommonOptions class for options common to client/broker. * qpid/broker/Broker.h: - Replaced broker::Configuration with class Broker::Options, derived from CommonOptions. * qpidd.cpp: Updated options handling. * qpid/Exception.h: Added strError function to get std::string from errno. #MsgLength=387


----
Modified: src/Makefile.am|9 6
Added: src/qpid/CommonOptions.cpp|36 0
Added: src/qpid/CommonOptions.h|91 0
Modified: src/qpid/Exception.cpp|6 0
Modified: src/qpid/Exception.h|4 0
Modified: src/qpid/broker/Broker.cpp|39 16
Modified: src/qpid/broker/Broker.h|18 10
Deleted: src/qpid/broker/Configuration.cpp|0 252
Deleted: src/qpid/broker/Configuration.h|0 171
Modified: src/qpidd.cpp|66 35
Deleted: src/tests/ConfigurationTest.cpp|0 98
Modified: src/tests/Makefile.am|0 1

Revision: f50fd1f3c086d6fd33b046bb562f08f3063f138a
Author: Alan Conway <aconway@apache.org>
Date: 26/04/2007 05:26:53
Message:
Added environment variables as a source of Qpid configuration. Option "foo-bar" will be read from env. QPID_FOO_BAR if not specified on command line. #MsgLength=151


----
Modified: src/qpid/CommonOptions.cpp|20 0
Modified: src/qpid/CommonOptions.h|5 0
Modified: src/qpidd.cpp|11 2

Revision: a9f753a68d338bc2b3ff5e3934b1da325b00d641
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/04/2007 08:01:06
Message:
* Make APR/"posix" configurable using --disable-apr * Make "posix" code build (but not run correctly) * By default still build APR version, which works as before #MsgLength=163


----
Modified: configure.ac|16 5
Modified: src/Makefile.am|9 3
Modified: src/qpid/sys/posix/PosixAcceptor.cpp|1 1

Revision: 8787156fab4d5056152e98255a42625fc297a62c
Author: Alan Conway <aconway@apache.org>
Date: 26/04/2007 22:13:14
Message:
 - docs/man/qpidd.x: explain file and environment configuration. - src/qpidd.cpp: read config from file. #MsgLength=108


----
Modified: docs/man/qpidd.x|13 2
Modified: src/qpidd.cpp|18 10

Revision: 6a3367032f10a325f99b73d1f96293636d358e68
Author: Alan Conway <aconway@apache.org>
Date: 01/05/2007 03:03:53
Message:
Resolves: QPID-298, QPID-304: qpidd flags to control broker daemon. #MsgLength=764


----
Modified: README|1 1
Modified: qpidc.spec.in|3 1
Modified: src/Makefile.am|6 5
Added: src/qpid/broker/Daemon.cpp|144 0
Added: src/qpid/broker/Daemon.h|91 0
Modified: src/qpidd.cpp|80 21
Modified: src/tests/Makefile.am|1 1
Added: src/tests/daemon_test|24 0
Modified: src/tests/test_env|1 1

Revision: 5724a45420801e873340ed3c842a3844dd7a570a
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2007 00:10:42
Message:
Makefile fixes to get make distcheck passing. #MsgLength=47


----
Modified: docs/api/Makefile.am|1 1
Modified: docs/man/Makefile.am|3 3
Modified: gen/Makefile.am|12 5
Modified: src/tests/Makefile.am|6 10

Revision: 9698a90e7afc8610d07763f9b33d9bd4c86bb832
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2007 04:17:25
Message:
Moved parseOptions from qipdd to CommonOptions where it can be re-used. #MsgLength=73


----
Modified: src/qpid/CommonOptions.cpp|25 1
Modified: src/qpid/CommonOptions.h|11 0
Modified: src/qpidd.cpp|2 20

Revision: 54ec20416446867cddebe26d050b30fc6d1dc454
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2007 21:51:18
Message:
Check for libdaemon headers in configure. #MsgLength=43


----
Modified: configure.ac|9 1

Revision: 97224310d6810336d1493e04db9a9036b4e87a4c
Author: Alan Conway <aconway@apache.org>
Date: 09/05/2007 02:19:30
Message:
Recorded merge of revisions 536279 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/branches/M2 #MsgLength=304


----
Modified: src/qpid/broker/Daemon.cpp|1 1

Revision: ec6dfae87ff0ba02ce0ae8fef9678a253dacdee2
Author: Alan Conway <aconway@apache.org>
Date: 09/05/2007 05:39:30
Message:
* README: added libdaemon to yum instructions. * configure.ac: clarified missing package error messages. #MsgLength=106


----
Modified: README|1 1
Modified: configure.ac|2 2

Revision: 86527db1f004a7ba0c18f17496f013450abb062f
Author: Alan Conway <aconway@apache.org>
Date: 09/05/2007 05:42:56
Message:
Recorded merge of revisions 536339 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/branches/M2 #MsgLength=266


----
Modified: README|1 1

Revision: eb46d20dc518292dcfd24015895b7d16523a1454
Author: Alan Conway <aconway@apache.org>
Date: 12/05/2007 04:11:32
Message:
* cpp/src/Makefile.am: Move generated code into src. Fix generation script. * cpp/src/generate.sh: New generator script, simplify & fix some problems. * cpp/Makefile.am: removed gen subdir * cpp/bootstrap: remove redundant comment * cpp/configure.ac: remove generator tests, now in generate.sh * cpp/gen,cpp/gen/Makefile.am,cpp/gen/gen-src-mk.sh: Replaced by generate.sh * cpp/src/tests/Makefile.am: Remove client_test from EXTRA_DEPS #MsgLength=436


----
Modified: Makefile.am|1 1
Modified: bootstrap|0 3
Modified: configure.ac|1 14
Deleted: gen/Makefile.am|0 46
Deleted: gen/gen-src-mk.sh|0 36
Modified: src/Makefile.am|27 16
Added: src/generate.sh|46 0
Modified: src/tests/Makefile.am|11 10

Revision: 08e74594cd46c621171de0321afdf3c06af97534
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2007 02:04:10
Message:
Removed unnecessary suppressions. #MsgLength=35


----
Modified: src/tests/.valgrind.supp|1 34

Revision: 7fcb32251ad5475a3446edad83c1802fd3a2b1f8
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2007 02:24:21
Message:
Fix incorrect -I directive for generated code. #MsgLength=48


----
Modified: src/tests/Makefile.am|1 1

Revision: 3855780e77587e0906c489529e50eddc49b53b38
Author: Gordon Sim <gsim@apache.org>
Date: 17/05/2007 19:03:55
Message:
Changes to support durable exchanges. #MsgLength=40


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/BrokerAdapter.cpp|18 8
Added: src/qpid/broker/BrokerExchange.cpp|60 0
Modified: src/qpid/broker/BrokerExchange.h|29 6
Modified: src/qpid/broker/BrokerQueue.h|1 0
Modified: src/qpid/broker/DirectExchange.cpp|12 7
Modified: src/qpid/broker/DirectExchange.h|5 3
Modified: src/qpid/broker/ExchangeRegistry.cpp|18 6
Modified: src/qpid/broker/ExchangeRegistry.h|8 2
Modified: src/qpid/broker/FanOutExchange.cpp|9 2
Modified: src/qpid/broker/FanOutExchange.h|5 3
Modified: src/qpid/broker/HeadersExchange.cpp|18 4
Modified: src/qpid/broker/HeadersExchange.h|5 3
Modified: src/qpid/broker/MessageStore.h|13 1
Modified: src/qpid/broker/MessageStoreModule.cpp|12 0
Modified: src/qpid/broker/MessageStoreModule.h|4 0
Modified: src/qpid/broker/NullMessageStore.cpp|7 2
Modified: src/qpid/broker/NullMessageStore.h|5 0
Modified: src/qpid/broker/PersistableExchange.h|1 0
Added: src/qpid/broker/RecoverableExchange.h|49 0
Modified: src/qpid/broker/RecoveryManager.h|2 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|23 2
Modified: src/qpid/broker/RecoveryManagerImpl.h|1 1
Modified: src/qpid/broker/TopicExchange.cpp|20 5
Modified: src/qpid/broker/TopicExchange.h|7 4

Revision: e5b22d1353e0a726ad1a54b6cec809b815fbe1be
Author: Gordon Sim <gsim@apache.org>
Date: 18/05/2007 17:36:00
Message:
Added RecoverableExchange.h to Makefile.am #MsgLength=45


----
Modified: src/Makefile.am|1 0

Revision: 7477d5014b2a90fabff9698356f1af996b692630
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2007 21:04:30
Message:
Fix make distcheck #MsgLength=19


----
Modified: docs/api/user.doxygen.in|1 1

Revision: dc7e4216f0c50cc2fb85f299b483e136faf8c833
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2007 23:47:40
Message:
Fix RPM explicit dep error #MsgLength=27


----
Modified: qpidc.spec.in|0 1

Revision: 963e4f85052f841421fee53268412088eb7f8875
Author: Alan Conway <aconway@apache.org>
Date: 19/05/2007 03:21:14
Message:
* docs/api/Makefile.am: Adding html.timestamp to clean target. * src/Makefile.am: Fixed -I for generated code. * src/tests/Makefile.am: Fixed -I for generated code. * src/qpidd.cpp: Typo in help message. #MsgLength=205


----
Modified: docs/api/Makefile.am|1 1
Modified: src/Makefile.am|1 1
Modified: src/qpidd.cpp|1 1
Modified: src/tests/Makefile.am|1 1

Revision: d1592326d513cce7a9064a6122eb748f6f495bc2
Author: Gordon Sim <gsim@apache.org>
Date: 21/05/2007 18:13:52
Message:
Added back -s short option for store lib. #MsgLength=44


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 491fac1eb5bfa06e41619eb64db03dead82e0f41
Author: Gordon Sim <gsim@apache.org>
Date: 21/05/2007 19:04:31
Message:
Temporary hack to the logic used in parsing environment options to avoid treating QPID_DIR (used in external modules) from being treated as an (invalid) option 'dir'. #MsgLength=169


----
Modified: src/qpid/CommonOptions.cpp|2 1

Revision: 618430e4d964406140f661326db6679db1573efa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2007 23:18:08
Message:
* Split apart platform (threading etc.) from network io you can now use a posix platform implementation by configuring --disable-apr-platform * Changed Time classes to distinguish between absolute times (AbsTime) and durations (Duration). This should avoid bugs caused by confusing the two types of time. #MsgLength=314


----
Modified: configure.ac|29 11
Modified: src/Makefile.am|50 20
Modified: src/qpid/broker/AutoDelete.cpp|2 2
Modified: src/qpid/broker/AutoDelete.h|2 1
Modified: src/qpid/broker/Broker.cpp|7 3
Modified: src/qpid/broker/BrokerQueue.cpp|4 5
Modified: src/qpid/broker/BrokerQueue.h|2 2
Modified: src/qpid/client/Connector.cpp|7 8
Modified: src/qpid/client/Connector.h|7 5
Modified: src/qpid/sys/Condition.h|3 100
Modified: src/qpid/sys/Module.h|4 133
Modified: src/qpid/sys/Monitor.h|2 6
Modified: src/qpid/sys/Mutex.h|5 113
Modified: src/qpid/sys/ProducerConsumer.cpp|2 2
Modified: src/qpid/sys/ProducerConsumer.h|1 1
Modified: src/qpid/sys/Socket.h|3 60
Modified: src/qpid/sys/Thread.h|3 114
Modified: src/qpid/sys/Time.h|59 19
Modified: src/qpid/sys/apr/APRAcceptor.cpp|1 0
Added: src/qpid/sys/apr/Condition.h|84 0
Modified: src/qpid/sys/apr/LFProcessor.cpp|1 0
Modified: src/qpid/sys/apr/LFSessionContext.h|1 0
Added: src/qpid/sys/apr/Module.h|114 0
Added: src/qpid/sys/apr/Mutex.h|72 0
Modified: src/qpid/sys/apr/Socket.cpp|2 2
Added: src/qpid/sys/apr/Socket.h|75 0
Modified: src/qpid/sys/apr/Thread.cpp|2 1
Added: src/qpid/sys/apr/Thread.h|93 0
Added: src/qpid/sys/apr/Time.cpp|36 0
Added: src/qpid/sys/posix/Condition.h|86 0
Modified: src/qpid/sys/posix/EventChannelAcceptor.cpp|7 7
Modified: src/qpid/sys/posix/EventChannelConnection.cpp|2 2
Added: src/qpid/sys/posix/Module.h|126 0
Added: src/qpid/sys/posix/Mutex.h|127 0
Added: src/qpid/sys/posix/PrivatePosix.h|39 0
Modified: src/qpid/sys/posix/Socket.cpp|8 7
Added: src/qpid/sys/posix/Socket.h|76 0
Modified: src/qpid/sys/posix/Thread.cpp|2 1
Added: src/qpid/sys/posix/Thread.h|86 0
Renamed: src/qpid/sys/posix/Time.cpp [from src/qpid/sys/Time.cpp]|18 21
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/ProducerConsumerTest.cpp|5 5
Modified: src/tests/topic_listener.cpp|3 3
Modified: src/tests/topic_publisher.cpp|3 3

Revision: 570ebb0a0155107c3002ddb2e3096ac1020828f2
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2007 19:24:54
Message:
Added support for recovering prepared transactions. #MsgLength=54


----
Modified: src/Makefile.am|5 0
Modified: src/qpid/CommonOptions.cpp|5 2
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/DtxManager.cpp|21 1
Modified: src/qpid/broker/DtxManager.h|2 0
Modified: src/qpid/broker/DtxWorkRecord.cpp|6 0
Modified: src/qpid/broker/DtxWorkRecord.h|1 0
Modified: src/qpid/broker/RecoverableExchange.h|1 0
Added: src/qpid/broker/RecoverableTransaction.h|49 0
Added: src/qpid/broker/RecoveredDequeue.cpp|38 0
Added: src/qpid/broker/RecoveredDequeue.h|50 0
Added: src/qpid/broker/RecoveredEnqueue.cpp|38 0
Added: src/qpid/broker/RecoveredEnqueue.h|50 0
Modified: src/qpid/broker/RecoveryManager.h|4 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|56 2
Modified: src/qpid/broker/RecoveryManagerImpl.h|5 1

Revision: 1e05175ebe1a5caa40166d3768b20fdaeb54452b
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2007 23:22:51
Message:
Ensure work is marked completed when recovered. #MsgLength=50


----
Modified: src/qpid/broker/DtxManager.cpp|0 8
Modified: src/qpid/broker/DtxWorkRecord.cpp|2 0

Revision: aa8c102ec41b9a7105672009b6ca5fc7549d5871
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2007 15:18:04
Message:
Include new dtx classes in generated code. #MsgLength=45


----
Modified: src/generate.sh|1 1
Modified: src/qpid/broker/DtxHandlerImpl.h|2 5

Revision: 4f200fc637a8e53e88bfcf6498e9509f2be670ae
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2007 18:19:40
Message:
Remove dummy class defs. #MsgLength=27


----
Modified: src/qpid/broker/DtxHandlerImpl.h|0 4

Revision: 267508659b9d2750c4a4a5bd011d14707bec11d6
Author: Alan Conway <aconway@apache.org>
Date: 31/05/2007 00:13:58
Message:
Logging infrastructure: See qpidd --long-help for details. #MsgLength=668


----
Modified: docs/man/Makefile.am|1 1
Modified: src/Makefile.am|20 3
Modified: src/qpid/CommonOptions.cpp|18 7
Modified: src/qpid/CommonOptions.h|21 7
Modified: src/qpid/QpidError.h|2 0
Modified: src/qpid/broker/AutoDelete.cpp|2 1
Modified: src/qpid/broker/BrokerMessage.cpp|2 5
Modified: src/qpid/broker/BrokerQueue.cpp|2 1
Modified: src/qpid/broker/Connection.cpp|3 2
Modified: src/qpid/broker/DirectExchange.cpp|2 1
Modified: src/qpid/broker/NullMessageStore.cpp|15 15
Modified: src/qpid/broker/TxAck.cpp|2 1
Modified: src/qpid/broker/TxPublish.cpp|2 1
Modified: src/qpid/client/BasicMessageChannel.cpp|3 3
Modified: src/qpid/client/ClientChannel.cpp|4 5
Modified: src/qpid/client/ClientConnection.cpp|9 6
Modified: src/qpid/client/Connector.cpp|4 3
Modified: src/qpid/client/MessageMessageChannel.cpp|2 4
Added: src/qpid/log/Logger.cpp|204 0
Added: src/qpid/log/Logger.h|116 0
Added: src/qpid/log/Options.cpp|69 0
Added: src/qpid/log/Options.h|42 0
Added: src/qpid/log/Selector.cpp|66 0
Added: src/qpid/log/Selector.h|68 0
Added: src/qpid/log/Statement.cpp|67 0
Added: src/qpid/log/Statement.h|124 0
Added: src/qpid/memory.h|32 0
Modified: src/qpid/sys/Module.h|0 1
Modified: src/qpid/sys/apr/APRAcceptor.cpp|3 2
Modified: src/qpid/sys/apr/APRBase.cpp|3 3
Modified: src/qpid/sys/apr/APRSocket.cpp|2 1
Modified: src/qpid/sys/apr/LFProcessor.cpp|2 1
Modified: src/qpid/sys/apr/LFSessionContext.cpp|7 14
Modified: src/qpid/sys/apr/LFSessionContext.h|0 5
Modified: src/qpid/sys/apr/Module.h|2 2
Modified: src/qpid/sys/apr/Thread.h|14 1
Modified: src/qpid/sys/posix/EventChannel.cpp|3 3
Modified: src/qpid/sys/posix/EventChannelConnection.cpp|4 6
Modified: src/qpid/sys/posix/EventChannelThreads.cpp|3 5
Modified: src/qpid/sys/posix/Module.h|2 1
Modified: src/qpid/sys/posix/Thread.h|6 0
Modified: src/qpidd.cpp|45 33
Renamed: src/tests/.valgrind.supp-default [from src/tests/.valgrind.supp]|0 0
Modified: src/tests/AccumulatedAckTest.cpp|1 0
Modified: src/tests/Makefile.am|26 9
Modified: src/tests/kill_broker|1 2
Added: src/tests/run_test|60 0
Modified: src/tests/start_broker|4 13
Added: src/tests/unit/logging.cpp|373 0
Added: src/tests/unit/test_tools.h|53 0

Revision: 6dada59efefbad121438f6fa63dd8f8f8cb37f9b
Author: Alan Conway <aconway@apache.org>
Date: 31/05/2007 00:17:05
Message:
* Add ignore for generated .valgrind.supp file. #MsgLength=49


----

Revision: 4a4f8ee7e55231c8ddcb1a6a9295b1062df62434
Author: Gordon Sim <gsim@apache.org>
Date: 01/06/2007 00:31:20
Message:
Updates to dtx support. #MsgLength=26


----
Modified: src/Makefile.am|2 0
Modified: src/generate.sh|1 1
Modified: src/qpid/broker/BrokerChannel.cpp|9 6
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Added: src/qpid/broker/DtxAck.cpp|59 0
Added: src/qpid/broker/DtxAck.h|47 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|21 15
Modified: src/qpid/broker/DtxHandlerImpl.h|2 0
Modified: src/qpid/broker/DtxManager.cpp|1 0
Modified: src/qpid/sys/apr/LFSessionContext.cpp|1 1

Revision: 4301772cfce75162219bc40410ccde71e5cb9465
Author: Gordon Sim <gsim@apache.org>
Date: 05/06/2007 23:54:22
Message:
Some tests and fixes for dtx preview. #MsgLength=40


----
Modified: src/qpid/broker/BrokerChannel.cpp|32 9
Modified: src/qpid/broker/BrokerChannel.h|4 2
Modified: src/qpid/broker/DtxBuffer.cpp|15 1
Modified: src/qpid/broker/DtxBuffer.h|4 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|72 23
Modified: src/qpid/broker/DtxManager.cpp|32 9
Modified: src/qpid/broker/DtxManager.h|7 3
Modified: src/qpid/broker/DtxWorkRecord.cpp|59 23
Modified: src/qpid/broker/DtxWorkRecord.h|6 2
Modified: src/qpid/broker/NullMessageStore.cpp|30 7
Modified: src/qpid/broker/NullMessageStore.h|2 0
Modified: src/tests/DtxWorkRecordTest.cpp|3 3
Modified: src/tests/python_tests|1 1

Revision: 1f0024d46485c6584c44ee4a9abcc47123c8b917
Author: Alan Conway <aconway@apache.org>
Date: 06/06/2007 22:39:24
Message:
Fixed qpidd --trace flag to be equivalent to "--log.enable trace+" #MsgLength=68


----
Modified: src/qpidd.cpp|1 1

Revision: e19dfea067eb0c5ecee323079706092dffe08304
Author: Gordon Sim <gsim@apache.org>
Date: 07/06/2007 00:39:03
Message:
Merged in channel.flow implementation and interoperability tests. #MsgLength=68


----
Modified: src/qpid/broker/BrokerAdapter.cpp|5 1
Modified: src/qpid/broker/BrokerChannel.cpp|13 1
Modified: src/qpid/broker/BrokerChannel.h|2 0
Modified: src/qpid/broker/BrokerQueue.cpp|1 4
Added: src/tests/BasicP2PTest.cpp|66 0
Added: src/tests/BasicP2PTest.h|46 0
Added: src/tests/BasicPubSubTest.cpp|121 0
Added: src/tests/BasicPubSubTest.h|51 0
Modified: src/tests/BrokerChannelTest.cpp|37 0
Modified: src/tests/Makefile.am|13 1
Added: src/tests/SimpleTestCaseBase.cpp|87 0
Added: src/tests/SimpleTestCaseBase.h|88 0
Added: src/tests/TestCase.h|64 0
Added: src/tests/TestOptions.h|69 0
Added: src/tests/interop_runner.cpp|252 0

Revision: aebb76e67870c89b69c3aa45724dcdd620802f83
Author: Alan Conway <aconway@apache.org>
Date: 07/06/2007 04:26:52
Message:
Made FieldTable argument of client::Channel::bind() optional. #MsgLength=63


----
Modified: src/qpid/client/ClientChannel.h|2 1
Modified: src/tests/client_test.cpp|1 3

Revision: 9b950d6aefc2c17a3ba267e781f5f7b8a51a4db2
Author: Alan Conway <aconway@apache.org>
Date: 07/06/2007 22:29:24
Message:
Build support for clustering, initial CPG wrapper & tests. - src/qpid/cluster/Cpg.cpp: C++ wrapper for the openais CPG library. - src/tests/unit/Cpg.cpp: verify CPG functions in make check. - makefiles etc.: build cluster stuff only if openais is installed. #MsgLength=262


----
Modified: README|15 13
Modified: bootstrap|1 1
Modified: configure.ac|12 2
Modified: qpidc.spec.in|2 0
Modified: src/Makefile.am|14 10
Added: src/cluster.mk|11 0
Added: src/qpid/cluster/Cpg.cpp|62 0
Added: src/qpid/cluster/Cpg.h|122 0
Modified: src/tests/Makefile.am|10 4
Modified: src/tests/README|1 1
Added: src/tests/ais_unit_tests|2 0
Added: src/tests/cluster.mk|23 0
Deleted: src/tests/run-python-tests|0 0
Added: src/tests/unit/Cpg.cpp|97 0
Modified: src/tests/unit/logging.cpp|1 0
Modified: src/tests/unit/test_tools.h|1 1

Revision: 7fe4ef6040872ed07f19fd9b7841450b99650f86
Author: Alan Conway <aconway@apache.org>
Date: 07/06/2007 22:30:34
Message:
Add #MsgLength=4


----

Revision: 43fa87e80ac577df37216c43e3f18fb373ebd9bd
Author: Gordon Sim <gsim@apache.org>
Date: 08/06/2007 23:24:12
Message:
Timeout handling for dtx, plus tests. #MsgLength=40


----
Modified: src/Makefile.am|4 0
Modified: src/qpid/broker/BrokerChannel.cpp|25 10
Modified: src/qpid/broker/BrokerChannel.h|2 0
Modified: src/qpid/broker/DtxBuffer.cpp|14 1
Modified: src/qpid/broker/DtxBuffer.h|3 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|52 33
Modified: src/qpid/broker/DtxManager.cpp|72 10
Modified: src/qpid/broker/DtxManager.h|19 4
Added: src/qpid/broker/DtxTimeout.cpp|35 0
Added: src/qpid/broker/DtxTimeout.h|54 0
Modified: src/qpid/broker/DtxWorkRecord.cpp|28 2
Modified: src/qpid/broker/DtxWorkRecord.h|6 0
Added: src/qpid/broker/Timer.cpp|100 0
Added: src/qpid/broker/Timer.h|76 0
Modified: src/qpid/sys/Time.h|6 0
Modified: src/tests/Makefile.am|1 0
Added: src/tests/TimerTest.cpp|128 0

Revision: 64296bda708c5bb32885dcf836ace4951ede444d
Author: Alan Conway <aconway@apache.org>
Date: 09/06/2007 01:01:28
Message:
Add missing scripts to EXTRA_DIST #MsgLength=35


----
Modified: src/tests/Makefile.am|3 2

Revision: e59d1c1b13360b37afd1e4d2bd1209f2fb4bb3ed
Author: Alan Conway <aconway@apache.org>
Date: 09/06/2007 01:55:06
Message:
src/tests/Makefile.am: Fix typo in makefile #MsgLength=45


----
Modified: src/tests/Makefile.am|1 1

Revision: 0c0dcea13d39e3a71f9537491e756eb5b11bb75c
Author: Alan Conway <aconway@apache.org>
Date: 11/06/2007 21:14:49
Message:
Handler refactoring notes for cluster. #MsgLength=40


----
Added: src/qpid/cluster/doxygen_overview.h|161 0

Revision: 99c9adfe3304463173cee851aea7c82016aedcea
Author: Alan Conway <aconway@apache.org>
Date: 12/06/2007 00:05:06
Message:
QPID-504: Print bound port if --port 0 is specified. Not yet used by tests. #MsgLength=461


----
Modified: qpidc.spec.in|2 0
Modified: src/qpid/Exception.cpp|10 3
Modified: src/qpid/broker/Daemon.cpp|49 50
Modified: src/qpid/broker/Daemon.h|31 19
Modified: src/qpidd.cpp|94 66
Modified: src/tests/daemon_test|17 10

Revision: dd6fe5a25b31afe42544f27d2d799dfdb69b6cf9
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2007 03:06:31
Message:
add libqpidcluster.so to installed libraries. #MsgLength=47


----
Modified: qpidc.spec.in|1 0

Revision: e1c389551df8fb2eca1f41d5a02c6318bae7a8dd
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2007 03:37:17
Message:
Initial examples directory with jrobies example programs and Makefile.am. #MsgLength=75


----
Modified: configure.ac|1 0
Added: examples/Makefile.am|14 0
Added: examples/create_queue.cpp|83 0
Added: examples/topic_listener.cpp|99 0
Added: examples/topic_publisher.cpp|82 0

Revision: bed57ac8040ed9252f90c7d0b1f51301b3b1242a
Author: Gordon Sim <gsim@apache.org>
Date: 13/06/2007 20:41:49
Message:
Various minor fixes to build and test process: #MsgLength=337


----
Modified: Makefile.am|1 1
Modified: src/Makefile.am|1 0
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/start_broker|1 1

Revision: 95cdd528aee28413cbf730af3c23d39bc284b3fe
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2007 21:06:05
Message:
Example updates from jrobie. #MsgLength=29


----
Modified: examples/create_queue.cpp|3 4
Modified: examples/topic_listener.cpp|7 8

Revision: 4bc9b2101184e635aa8ff0667ad39971a04ba135
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2007 02:46:29
Message:
Examples update, exception handling. #MsgLength=38


----
Modified: examples/create_queue.cpp|1 1
Modified: examples/topic_listener.cpp|3 1
Modified: examples/topic_publisher.cpp|1 1

Revision: 6d36958f1cf222914cd7356cecf85f38d0cdfe83
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2007 04:27:19
Message:
Removed unused files src/qpid/client/ClientAdapter.cpp and .h. #MsgLength=64


----
Modified: src/Makefile.am|0 1
Deleted: src/qpid/client/ClientAdapter.cpp|0 70
Deleted: src/qpid/client/ClientAdapter.h|0 66

Revision: f16203901a4cd192f9fc90efcdf565b977f20e36
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2007 15:12:14
Message:
Add ability for a queue to record all bindings to it, such that these can be removed when the queue is deleted. Fix to QPID-438 #MsgLength=130


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/BrokerAdapter.cpp|7 2
Modified: src/qpid/broker/BrokerQueue.cpp|10 0
Modified: src/qpid/broker/BrokerQueue.h|4 0
Modified: src/qpid/broker/Connection.cpp|3 1
Added: src/qpid/broker/QueueBindings.cpp|45 0
Added: src/qpid/broker/QueueBindings.h|55 0
Modified: src/tests/QueueTest.cpp|50 0

Revision: 985f733cdeebde58b1215a6db7b00311054d5426
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2007 21:03:22
Message:
Fixed catch clauses to catch by const & and use std::exception for "generic" catches. #MsgLength=87


----
Modified: src/qpid/broker/DtxHandlerImpl.cpp|5 5
Modified: src/qpid/sys/apr/LFProcessor.cpp|1 1
Modified: src/tests/echo_service.cpp|2 2
Modified: src/tests/interop_runner.cpp|1 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1

Revision: e8ec84fa7aaee38f657b0d561ac18656612776b1
Author: Gordon Sim <gsim@apache.org>
Date: 16/06/2007 00:14:35
Message:
Minor update of log messages. #MsgLength=32


----
Modified: src/qpid/broker/NullMessageStore.cpp|2 2

Revision: 42a33927abc1bc973a89b4f8485c8af37cf3fbcd
Author: Alan Conway <aconway@apache.org>
Date: 16/06/2007 05:27:22
Message:
Parser for AMQP-95 URLs #MsgLength=24


----
Modified: src/Makefile.am|2 0
Added: src/qpid/Url.cpp|114 0
Added: src/qpid/Url.h|82 0
Modified: src/tests/Makefile.am|4 0
Added: src/tests/unit/Url.cpp|55 0

Revision: db045abe77108179be64a80fc6427beeb8661537
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/06/2007 20:11:32
Message:
Intermediate checkin with preliminary work on epoll based net IO #MsgLength=66


----
Modified: configure.ac|0 1
Modified: src/Makefile.am|3 1
Modified: src/qpid/Exception.cpp|17 1
Modified: src/qpid/Exception.h|61 4
Modified: src/qpid/QpidError.cpp|1 1
Modified: src/qpid/QpidError.h|1 1
Modified: src/qpid/log/Statement.h|0 1
Added: src/qpid/sys/Dispatcher.cpp|90 0
Added: src/qpid/sys/Dispatcher.h|74 0
Added: src/qpid/sys/Poller.h|93 0
Modified: src/qpid/sys/ScopedIncrement.h|11 3
Modified: src/qpid/sys/Time.h|4 0
Added: src/qpid/sys/epoll/EpollPoller.cpp|263 0
Modified: src/qpid/sys/posix/EventChannel.cpp|475 204
Modified: src/qpid/sys/posix/EventChannel.h|119 81
Modified: src/qpid/sys/posix/EventChannelAcceptor.cpp|4 4
Modified: src/qpid/sys/posix/EventChannelConnection.cpp|24 12
Modified: src/qpid/sys/posix/EventChannelConnection.h|2 2
Modified: src/qpid/sys/posix/EventChannelThreads.cpp|42 33
Modified: src/qpid/sys/posix/EventChannelThreads.h|28 15
Modified: src/qpid/sys/posix/check.h|5 1
Added: src/tests/DispatcherTest.cpp|128 0
Added: src/tests/PollerTest.cpp|164 0

Revision: 06fa8671622d08dac9ee5342964ba3fbf4b0d903
Author: Alan Conway <aconway@apache.org>
Date: 21/06/2007 06:19:10
Message:
Dummy libcluster.so when openais is not available, keep rpmbuild happy. #MsgLength=73


----
Modified: src/Makefile.am|0 2
Modified: src/cluster.mk|7 2

Revision: b2e8859d61bd3ce90c015b5e1d06c8066b0c8dc2
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 25/06/2007 22:15:45
Message:
Added troubleshooting case for ./configure #MsgLength=45


----
Modified: README|10 0

Revision: 60f0d8aa171abf65db62d0f5144258aa40324cc2
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2007 10:11:55
Message:
2007-06-25    <aconway@redhat.com> #MsgLength=1090


----
Modified: Makefile.am|2 1
Modified: README|6 9
Modified: configure.ac|14 7
Modified: src/Makefile.am|1 0
Modified: src/cluster.mk|8 3
Modified: src/generate.sh|2 1
Added: src/qpid/cluster/Cluster.cpp|159 0
Added: src/qpid/cluster/Cluster.h|116 0
Modified: src/qpid/cluster/Cpg.cpp|102 0
Modified: src/qpid/cluster/Cpg.h|70 17
Added: src/qpid/cluster/Dispatchable.h|52 0
Added: src/qpid/framing/FrameHandler.h|39 0
Modified: src/qpid/sys/Acceptor.h|1 0
Modified: src/qpid/sys/apr/APRAcceptor.cpp|7 0
Modified: src/qpid/sys/posix/EventChannelAcceptor.cpp|5 0
Modified: src/qpid/sys/posix/PosixAcceptor.cpp|1 0
Modified: src/qpid/sys/posix/Socket.cpp|15 1
Modified: src/tests/.valgrind.supp-default|9 0
Added: src/tests/Cluster.cpp|72 0
Added: src/tests/Cluster.h|83 0
Renamed: src/tests/Cpg.cpp [from src/tests/unit/Cpg.cpp]|45 35
Modified: src/tests/Makefile.am|29 24
Renamed: src/tests/Url.cpp [from src/tests/unit/Url.cpp]|1 0
Deleted: src/tests/ais_unit_tests|0 2
Modified: src/tests/cluster.mk|25 13
Renamed: src/tests/logging.cpp [from src/tests/unit/logging.cpp]|1 0
Modified: src/tests/run_test|3 3
Renamed: src/tests/test_tools.h [from src/tests/unit/test_tools.h]|4 1
Added: xml/cluster.xml|37 0

Revision: b534721b059e180c2ea61e78a8ff20f76ca48c90
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2007 12:44:13
Message:
Missing file from last commit #MsgLength=30


----
Added: src/tests/Cluster_child.cpp|51 0

Revision: 2fd9a100c3714d5381842b89a449fc15282c6aae
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2007 19:49:15
Message:
Fix bug in cluster-disabled mode. #MsgLength=35


----
Modified: configure.ac|2 1

Revision: d268a8f71c55329d28ac37a892f516e89e478a90
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2007 00:39:07
Message:
 * src/qpid/framing/Handler.h: Tempates for handlers and handler chains. * src/qpid/framing/FrameHandler.h: Use Handler.h templates. * src/tests/Handler.cpp: handler chain test. #MsgLength=181


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/framing/FrameHandler.h|2 8
Added: src/qpid/framing/Handler.h|98 0
Added: src/tests/Handler.cpp|67 0
Modified: src/tests/Makefile.am|4 0

Revision: c7fb122da624fa12ee868bf3ece2585c437d9a3b
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2007 03:33:00
Message:
	* src/tests/cluster.mk: Replace sudo with newgrp for ais tests. Skip ais tests with warning if user is not in ais group. * src/tests/Makefile.am: Enable valgrind for all tests. * src/qpid/client/Connector.cpp: Fix memory leak. #MsgLength=232


----
Modified: src/qpid/client/Connector.cpp|3 1
Modified: src/tests/Makefile.am|1 6
Modified: src/tests/cluster.mk|10 6

Revision: d728b4291e187c6123694aceb3502da1a75fa4bb
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2007 08:12:26
Message:
	Make check now starts a broker on a dynamically assigned port, so multiple qpid builds on one host will not conflict. #MsgLength=778


----
Modified: docs/man/Makefile.am|1 1
Modified: src/Makefile.am|3 3
Renamed: src/qpid/Options.cpp [from src/qpid/CommonOptions.cpp]|48 51
Renamed: src/qpid/Options.h [from src/qpid/CommonOptions.h]|79 52
Modified: src/qpid/Url.h|4 4
Modified: src/qpid/broker/Broker.cpp|8 9
Modified: src/qpid/broker/Broker.h|7 5
Modified: src/qpid/log/Logger.cpp|4 1
Modified: src/qpid/log/Options.cpp|8 13
Modified: src/qpid/log/Options.h|4 4
Modified: src/qpidd.cpp|37 68
Modified: src/tests/Makefile.am|3 3
Modified: src/tests/SimpleTestCaseBase.cpp|1 1
Modified: src/tests/TestOptions.h|20 31
Modified: src/tests/client_test.cpp|16 14
Deleted: src/tests/daemon_test|0 31
Modified: src/tests/interop_runner.cpp|32 35
Modified: src/tests/kill_broker|1 1
Modified: src/tests/logging.cpp|34 43
Modified: src/tests/run_test|12 6
Modified: src/tests/start_broker|1 4
Modified: src/tests/topic_listener.cpp|25 75
Modified: src/tests/topic_publisher.cpp|46 115
Modified: src/tests/topictest|1 1

Revision: 7abe0c9c27c9c50fd93108a19407d7810417de45
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2007 08:29:14
Message:
Fix shutdown race in Connector. #MsgLength=33


----
Modified: src/qpid/client/Connector.cpp|1 1

Revision: c0accdf085e3b0946e1f27e5d9bc8c63a0305ef2
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2007 10:28:30
Message:
Fixed client leak and python tests port #MsgLength=40


----
Modified: src/qpid/client/Connector.cpp|17 18
Modified: src/qpid/client/Connector.h|1 1
Modified: src/tests/python_tests|1 1

Revision: 33d59f2963e308a561daca4ca7d31be23a8bb533
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2007 20:39:49
Message:
Added preview of exchange- and binding- query methods that have been approved for 0-10. #MsgLength=90


----
Modified: src/qpid/broker/BrokerAdapter.cpp|44 0
Modified: src/qpid/broker/BrokerAdapter.h|20 0
Modified: src/qpid/broker/BrokerExchange.h|8 0
Modified: src/qpid/broker/BrokerQueue.cpp|17 0
Modified: src/qpid/broker/BrokerQueue.h|5 0
Modified: src/qpid/broker/DeliverableMessage.cpp|4 0
Modified: src/qpid/broker/DeliverableMessage.h|1 0
Modified: src/qpid/broker/DirectExchange.cpp|19 0
Modified: src/qpid/broker/DirectExchange.h|5 1
Modified: src/qpid/broker/FanOutExchange.cpp|6 0
Modified: src/qpid/broker/FanOutExchange.h|2 0
Modified: src/qpid/broker/HeadersExchange.cpp|24 0
Modified: src/qpid/broker/HeadersExchange.h|3 0
Modified: src/qpid/broker/TopicExchange.cpp|25 0
Modified: src/qpid/broker/TopicExchange.h|2 0
Modified: src/tests/ExchangeTest.cpp|94 2

Revision: 9af04339ea270e5db8caf3bd9559eb15cd6717dc
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2007 23:29:17
Message:
Fixes and tests: #MsgLength=187


----
Modified: src/qpid/broker/BrokerAdapter.cpp|0 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 3
Modified: src/qpid/broker/HeadersExchange.cpp|1 1
Modified: src/tests/ExchangeTest.cpp|16 0

Revision: c3cbcf343ad4fdf508f732c0f44e4354a9a3482e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/06/2007 05:05:50
Message:
Fixed missing POSIX implementation of Acceptor::getHost #MsgLength=57


----
Modified: src/qpid/sys/posix/EventChannelAcceptor.cpp|22 11
Modified: src/qpid/sys/posix/Socket.cpp|1 16
Modified: src/qpid/sys/posix/Socket.h|1 1

Revision: f58d8d02e1809f7547d3aa41c8d47899d8d3335c
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2007 05:19:14
Message:
	* src/qpid/framing/ChannelAdapter.cpp: Use handler chains for in and outbound frames. #MsgLength=548


----
Modified: src/qpid/broker/BrokerChannel.cpp|2 1
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/client/ClientConnection.cpp|7 9
Modified: src/qpid/client/Connection.h|2 2
Modified: src/qpid/client/Connector.cpp|5 6
Modified: src/qpid/client/Connector.h|1 1
Modified: src/qpid/framing/ChannelAdapter.cpp|14 4
Modified: src/qpid/framing/ChannelAdapter.h|22 17
Modified: src/qpid/framing/FrameHandler.h|2 2
Modified: src/qpid/framing/Handler.h|12 58
Modified: src/qpid/framing/InputHandler.h|16 2
Modified: src/qpid/framing/OutputHandler.h|17 2
Modified: src/qpid/sys/apr/LFSessionContext.cpp|6 8
Modified: src/qpid/sys/apr/LFSessionContext.h|3 2
Modified: src/qpidd.cpp|2 2
Modified: src/tests/BrokerChannelTest.cpp|3 3
Deleted: src/tests/Handler.cpp|0 67
Modified: src/tests/InProcessBroker.h|6 6
Modified: src/tests/Makefile.am|0 4
Modified: src/tests/MockChannel.h|3 3

Revision: bcfde6e47bf6e60374126cd1bd8e9edaae31d80c
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2007 06:40:49
Message:
	* src/qpid/broker/Plugin.h: Base class for plug-in objects. Plugins can contribute configuration options and can call extension point functions on the broker. * src/qpid/broker/ChannelInitializer.h: Interface for plug-in objects that want to modify newly created channels, e.g. to modify the handler chains. * src/qpid/broker/Broker.h: Added extension point for plug-ins to contribute ChannelInitializer objects. #MsgLength=426


----
Modified: src/Makefile.am|4 1
Modified: src/qpid/broker/Broker.h|5 0
Added: src/qpid/broker/ChannelInitializer.h|43 0
Added: src/qpid/broker/Plugin.cpp|67 0
Added: src/qpid/broker/Plugin.h|80 0

Revision: e7ce1b51e79c354e2edb00ead9a6f18d843cf7f2
Author: Alan Conway <aconway@apache.org>
Date: 30/06/2007 01:59:00
Message:
	* Summary: - Improved plugin framework and HandlerUpdater interface. - Cluster handlers for traffic to/from cluster. - Cluster HandlerUpdater configures channel chains for cluster. - Cluster PluginProvider registers cluster objects with broker. #MsgLength=1615


----
Modified: src/Makefile.am|4 4
Modified: src/cluster.mk|5 2
Renamed: src/qpid/Plugin.cpp [from src/qpid/broker/Plugin.cpp]|19 16
Added: src/qpid/Plugin.h|111 0
Modified: src/qpid/Url.cpp|5 6
Modified: src/qpid/Url.h|15 6
Modified: src/qpid/broker/Broker.cpp|19 4
Modified: src/qpid/broker/Broker.h|17 19
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/BrokerSingleton.cpp|2 2
Modified: src/qpid/broker/BrokerSingleton.h|3 3
Deleted: src/qpid/broker/Plugin.h|0 80
Added: src/qpid/cluster/ChannelManager.cpp|85 0
Added: src/qpid/cluster/ChannelManager.h|66 0
Modified: src/qpid/cluster/Cluster.cpp|75 46
Modified: src/qpid/cluster/Cluster.h|43 21
Added: src/qpid/cluster/ClusterPluginProvider.cpp|66 0
Modified: src/qpid/cluster/Cpg.h|1 2
Modified: src/qpid/framing/AMQFrame.cpp|2 8
Modified: src/qpid/framing/AMQFrame.h|6 7
Modified: src/qpid/framing/Handler.h|11 1
Renamed: src/qpid/framing/HandlerUpdater.h [from src/qpid/broker/ChannelInitializer.h]|17 16
Modified: src/qpid/framing/amqp_types.h|7 0
Modified: src/qpidd.cpp|3 3
Modified: src/tests/.valgrindrc-default|1 1
Modified: src/tests/BrokerChannelTest.cpp|1 1
Modified: src/tests/Cluster.cpp|13 15
Modified: src/tests/Cluster.h|22 21
Modified: src/tests/Cluster_child.cpp|6 8
Modified: src/tests/FramingTest.cpp|2 2
Modified: src/tests/InProcessBroker.h|1 1
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/Url.cpp|20 14
Modified: src/tests/run_test|1 1

Revision: 4757992b72740d2ade2539242385776fdb9f8b52
Author: Alan Conway <aconway@apache.org>
Date: 30/06/2007 02:14:35
Message:
Temporarily disable Cluster test while I'm fixing problems with it. #MsgLength=69


----
Modified: src/tests/cluster.mk|5 4

Revision: c0ba10e737160ad7b05c7c277b70bfc9d01ba3b6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/06/2007 02:56:11
Message:
* More work on asychronous network IO * Fix of current EventQueue code to carry on compiling #MsgLength=94


----
Modified: src/Makefile.am|4 1
Added: src/qpid/sys/AsynchIO.h|100 0
Modified: src/qpid/sys/Dispatcher.cpp|184 19
Modified: src/qpid/sys/Dispatcher.h|10 3
Added: src/qpid/sys/posix/AsynchIO.cpp|195 0
Modified: src/qpid/sys/posix/EventChannelConnection.cpp|11 13
Modified: src/qpid/sys/posix/EventChannelConnection.h|2 8

Revision: 7930ca805e8f0f92d95a055e4a872dc3ad475ce5
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/06/2007 05:16:17
Message:
Updated AutoDelete, now only run when auto delete queues exist and additional auto delete queues being declared. cuts 1-3% of CPU time for concurrent publisher run. #MsgLength=215


----
Modified: src/qpid/broker/AutoDelete.cpp|15 28
Modified: src/qpid/broker/AutoDelete.h|7 11
Modified: src/qpid/broker/Broker.cpp|2 3
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/ConnectionFactory.cpp|1 1

Revision: 794f17c324b9b5a41408ed343ec1dbf998e58788
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/07/2007 00:30:45
Message:
Small fixes to enable the --disable-apr-platform build to carry on compiling #MsgLength=78


----
Modified: src/qpid/Plugin.cpp|4 3
Modified: src/qpid/sys/posix/Module.h|3 3

Revision: 372ff77991290a7a579e38652ed976fb1e791d84
Author: Alan Conway <aconway@apache.org>
Date: 03/07/2007 06:35:33
Message:
2007-06-30    <aconway@redhat.com> #MsgLength=937


----
Modified: src/cluster.mk|0 2
Deleted: src/qpid/cluster/ChannelManager.cpp|0 85
Deleted: src/qpid/cluster/ChannelManager.h|0 66
Modified: src/qpid/cluster/Cluster.cpp|122 75
Modified: src/qpid/cluster/Cluster.h|55 50
Modified: src/qpid/cluster/ClusterPluginProvider.cpp|1 7
Modified: src/qpid/cluster/Cpg.cpp|32 16
Modified: src/qpid/cluster/Cpg.h|30 23
Modified: src/qpid/framing/Handler.h|3 6
Modified: src/qpid/log/Selector.h|2 0
Modified: src/tests/Cluster.cpp|24 23
Modified: src/tests/Cluster.h|28 24
Modified: src/tests/Cluster_child.cpp|9 9
Modified: src/tests/Cpg.cpp|3 6
Modified: src/tests/Makefile.am|14 15
Added: src/tests/ais_check|16 0
Modified: src/tests/cluster.mk|14 22

Revision: 30b44b0f4ff0f9d93d82922ccdfb45046761718c
Author: Alan Conway <aconway@apache.org>
Date: 03/07/2007 06:44:33
Message:
svn:ignore properties #MsgLength=22


----

Revision: 2a50ccd6869c9cb89dcbdcc2b59c8806cfed4024
Author: Gordon Sim <gsim@apache.org>
Date: 03/07/2007 17:04:00
Message:
Autodeletable shared queues are now deleted as soon as the consumer count drops to zero (i.e. there is no timeout). This closes QPID-533. #MsgLength=140


----
Modified: src/Makefile.am|0 2
Deleted: src/qpid/broker/AutoDelete.cpp|0 74
Deleted: src/qpid/broker/AutoDelete.h|0 52
Modified: src/qpid/broker/Broker.cpp|0 3
Modified: src/qpid/broker/Broker.h|0 5
Modified: src/qpid/broker/BrokerAdapter.cpp|1 4
Modified: src/qpid/broker/BrokerChannel.cpp|6 1
Modified: src/qpid/broker/BrokerQueue.cpp|2 5
Modified: src/qpid/broker/BrokerQueue.h|2 3
Modified: src/qpid/broker/Connection.cpp|0 1
Modified: src/qpid/broker/Connection.h|0 2
Modified: src/qpid/broker/QueueRegistry.cpp|1 1
Modified: src/qpid/broker/QueueRegistry.h|10 5

Revision: a9cb0497083f29810de118f99dfd0e5beecf1d3e
Author: Gordon Sim <gsim@apache.org>
Date: 03/07/2007 22:54:19
Message:
Fix (and test) for QPID-407. Messages are requeued at the head rather than the tail. #MsgLength=87


----
Modified: src/qpid/broker/BrokerChannel.cpp|4 4
Modified: src/qpid/broker/BrokerQueue.cpp|10 2
Modified: src/qpid/broker/BrokerQueue.h|9 2
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1

Revision: a56e272c2f27876fe2dcb686f3707767245dbb0e
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 02:27:06
Message:
 * src/tests/cluster_client.cpp: Cluster client test not yet included in test harness. * src/tests/start_cluster,src/tests/stop_cluster: scripts to start/stop cluster of processes on localhost. #MsgLength=199


----
Modified: src/tests/cluster.mk|6 0
Added: src/tests/cluster_client.cpp|77 0
Added: src/tests/start_cluster|19 0
Added: src/tests/stop_cluster|16 0

Revision: 890e7378a2fa85a464b61d55d0c793de98b14f86
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 04:39:16
Message:
Added UUID type based on libuuid from e2fsprogs package. #MsgLength=58


----
Modified: README|2 1
Modified: src/Makefile.am|2 0
Added: src/qpid/framing/Uuid.cpp|47 0
Added: src/qpid/framing/Uuid.h|56 0
Modified: src/tests/Makefile.am|5 0
Added: src/tests/Uuid.cpp|60 0

Revision: bab4c00765309652b1293375bfaeafba02ee29fc
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 04:40:21
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 382b9061a66cdd3c94cf224eea8e1ef9fa0589f6
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 07:51:17
Message:
 * cluster/ClasifierHandler: classifies frames for clustering treatment. Currently classifies wiring separately from everything else. #MsgLength=138


----
Modified: src/cluster.mk|3 1
Added: src/qpid/cluster/ClassifierHandler.cpp|73 0
Added: src/qpid/cluster/ClassifierHandler.h|48 0
Modified: src/tests/Cluster.cpp|28 2
Modified: src/tests/FramingTest.cpp|1 0
Modified: src/tests/Makefile.am|3 3

Revision: 251695bb5d6c54b561562e42635c78096451842a
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 09:24:21
Message:
Fix error from previous commit. #MsgLength=33


----
Modified: src/tests/FramingTest.cpp|0 1

Revision: ed15f0f10097bcb66a79b2b471c35ed185ec2d2a
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 11:24:48
Message:
 2007-07-02    <aconway@redhat.com #MsgLength=546


----
Modified: src/Makefile.am|7 4
Modified: src/qpid/Plugin.cpp|14 45
Modified: src/qpid/Plugin.h|14 22
Modified: src/qpid/broker/Broker.cpp|8 6
Modified: src/qpid/sys/Module.h|28 9
Added: src/qpid/sys/Shlib.cpp|38 0
Added: src/qpid/sys/Shlib.h|82 0
Deleted: src/qpid/sys/apr/Module.h|0 114
Added: src/qpid/sys/apr/Shlib.cpp|49 0
Deleted: src/qpid/sys/posix/Module.h|0 127
Added: src/qpid/sys/posix/Shlib.cpp|60 0
Modified: src/tests/Cluster.cpp|7 3
Modified: src/tests/Makefile.am|25 16
Added: src/tests/Shlib.cpp|56 0
Added: src/tests/shlibtest.cpp|28 0

Revision: 4f24a6f65b1a82141a7456bdfc34397017e9f775
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 11:25:44
Message:
svn:ignores #MsgLength=13


----

Revision: 44b3ff9b5cd57c912f2100e2a22d82f1ca6d7187
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2007 13:26:26
Message:
Encode/decode for UUIDs. #MsgLength=26


----
Modified: src/qpid/framing/Buffer.cpp|10 0
Modified: src/qpid/framing/Buffer.h|3 0
Modified: src/qpid/framing/Uuid.cpp|15 1
Modified: src/qpid/framing/Uuid.h|5 0
Modified: src/tests/Uuid.cpp|11 0

Revision: 0ab425ed9c761cda83c6f31bb8092c57a2c067d6
Author: Gordon Sim <gsim@apache.org>
Date: 05/07/2007 17:47:07
Message:
Fix for QPID-534. Get now detects closure correctly. Also fixed broker to allow channel.close-ok (and fixed client to send it). #MsgLength=130


----
Modified: src/qpid/broker/BrokerChannel.cpp|5 3
Modified: src/qpid/client/BasicMessageChannel.cpp|11 12
Modified: src/qpid/client/BasicMessageChannel.h|2 0
Modified: src/qpid/client/ClientChannel.cpp|35 11
Modified: src/qpid/client/ClientChannel.h|11 2
Modified: src/qpid/client/ClientConnection.cpp|6 0
Modified: src/qpid/client/MessageChannel.h|4 1
Modified: src/qpid/client/MessageMessageChannel.cpp|2 0
Modified: src/qpid/client/MessageMessageChannel.h|2 0
Modified: src/qpid/framing/ChannelAdapter.h|1 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/exception_test.cpp|67 0

Revision: caea3cedec9fd81778192184bb8211971d55a07d
Author: Jim Meyering <meyering@apache.org>
Date: 05/07/2007 22:33:16
Message:
Remove trailing blanks and blank line at end. #MsgLength=47


----
Modified: qpidc.spec.in|2 3

Revision: 755b2c46038cc0a9f4abe0c330ccfb90db210f49
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2007 00:08:29
Message:
	* src/qpid/cluster/SessionFrame.cpp, .h:  Wrap AMQFrame with session UUID and direction. * src/qpid/cluster/Cluster.cpp, .h: Use SessionFrame. #MsgLength=543


----
Modified: src/cluster.mk|3 1
Modified: src/qpid/cluster/Cluster.cpp|20 34
Modified: src/qpid/cluster/Cluster.h|7 6
Added: src/qpid/cluster/SessionFrame.cpp|51 0
Added: src/qpid/cluster/SessionFrame.h|71 0
Modified: src/qpid/framing/AMQFrame.cpp|0 4
Modified: src/qpid/framing/AMQFrame.h|5 2
Modified: src/qpid/framing/Buffer.h|2 0
Modified: src/qpid/framing/Uuid.cpp|1 7
Modified: src/qpid/framing/Uuid.h|21 5
Modified: src/tests/Cluster.cpp|14 8
Modified: src/tests/Cluster.h|10 11
Modified: src/tests/Cluster_child.cpp|8 5
Modified: src/tests/Uuid.cpp|4 2

Revision: 705ddaeb5cf340660c2099022653b3aa82256b4f
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2007 00:10:28
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 1bac753f97faa1befda3b082aa30a096e1ed11f5
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/07/2007 00:19:05
Message:
- Added RW lock - Updated all exchanges to us RW lock - Updated all registries to us RW lock - Still need to do (client, channel, message and queues) #MsgLength=153


----
Modified: src/qpid/broker/DirectExchange.cpp|3 3
Modified: src/qpid/broker/DirectExchange.h|1 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 3
Modified: src/qpid/broker/ExchangeRegistry.h|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|3 3
Modified: src/qpid/broker/FanOutExchange.h|1 1
Modified: src/qpid/broker/HeadersExchange.cpp|3 3
Modified: src/qpid/broker/HeadersExchange.h|1 1
Modified: src/qpid/broker/QueueRegistry.cpp|3 3
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/TopicExchange.cpp|3 3
Modified: src/qpid/broker/TopicExchange.h|1 1
Modified: src/qpid/sys/Mutex.h|20 0
Modified: src/qpid/sys/posix/Mutex.h|79 5

Revision: f8bcef43a2e917d65ea0588a99429943c29769ba
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/07/2007 01:43:57
Message:
- missing APR mutex update - should now all build again #MsgLength=58


----
Modified: src/qpid/sys/apr/Mutex.h|52 0

Revision: 48030324109855440b7c7b3fa47f2da8a516089c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/07/2007 03:01:00
Message:
- replaced Mutexes with 2 RWlocks, about 2% less time in wait-state with change. #MsgLength=83


----
Modified: src/qpid/broker/BrokerQueue.cpp|12 12
Modified: src/qpid/broker/BrokerQueue.h|2 1

Revision: 54bce5ae9c9e4cbaf35b73aef9677a7f5dce0494
Author: Jim Meyering <meyering@apache.org>
Date: 06/07/2007 15:08:47
Message:
* qpid-autotools-install: Update to use m4-1.4.9 and libtool-1.5.24. #MsgLength=70


----
Modified: qpid-autotools-install|5 5

Revision: ca83235c286f34bfbea9d3b68824383e8cbbcb33
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/07/2007 21:11:55
Message:
- added sleep to waiting thread. #MsgLength=35


----
Modified: examples/topic_listener.cpp|1 1

Revision: 959498a2697806bd4e770fc11dbc4be7d3d36077
Author: Gordon Sim <gsim@apache.org>
Date: 09/07/2007 18:07:26
Message:
refactoring: #MsgLength=188


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/BrokerAdapter.cpp|8 50
Modified: src/qpid/broker/BrokerAdapter.h|4 27
Modified: src/qpid/broker/BrokerChannel.cpp|5 10
Modified: src/qpid/broker/BrokerChannel.h|1 7
Modified: src/qpid/broker/Connection.cpp|10 30
Modified: src/qpid/broker/Connection.h|5 8
Added: src/qpid/broker/ConnectionAdapter.cpp|124 0
Added: src/qpid/broker/ConnectionAdapter.h|104 0
Modified: src/qpid/broker/HandlerImpl.h|24 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|2 3
Modified: src/tests/BrokerChannelTest.cpp|7 6

Revision: ed744dca22c41b56b45b23b1de452e89af2b5f38
Author: Jim Meyering <meyering@apache.org>
Date: 09/07/2007 22:26:42
Message:
Update for Fedora init-scripts guidelines: <http://fedoraproject.org/wiki/FCNewInit/Initscripts> * etc/qpidd: Provide an LSB header. Allow options to be specified via QPIDD_OPTIONS=... in /etc/sysconfig/qpidd. Diagnose and 'exit 3' for the unsupported "reload". Don't mention unused $pidfile. Remove useless curly braces: ${lockfile} -> $lockfile. Write usage and error diagnostics to stderr, not stdout. Change spelling: condrestart -> try-restart. #MsgLength=453


----
Modified: etc/qpidd|36 21

Revision: 14d716a184fa6d8cdd2825fc0f3b3239b6599262
Author: Jim Meyering <meyering@apache.org>
Date: 10/07/2007 17:09:59
Message:
* qpid-autotools-install: Update to use m4-1.4.10. #MsgLength=52


----
Modified: qpid-autotools-install|3 3

Revision: 846a66400af81c43cf0b94957b06d719d6e4bf50
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/07/2007 09:48:13
Message:
* Add libuuid to libcommon link (for when apr goes away) * Latest version of AsynchIO code #MsgLength=93


----
Modified: configure.ac|3 3
Modified: src/Makefile.am|1 0
Modified: src/qpid/sys/AsynchIO.h|31 12
Modified: src/qpid/sys/Dispatcher.cpp|203 53
Modified: src/qpid/sys/Dispatcher.h|17 4
Modified: src/qpid/sys/Poller.h|15 6
Modified: src/qpid/sys/epoll/EpollPoller.cpp|72 20
Modified: src/qpid/sys/posix/AsynchIO.cpp|92 28

Revision: 14f8e26e8ec139874b8477664dfd8a1ec8811546
Author: Alan Conway <aconway@apache.org>
Date: 12/07/2007 19:53:19
Message:
Add missing space in CPPFLAGS=-DCLUSTER #MsgLength=41


----
Modified: configure.ac|1 1

Revision: 9c8bd451e00af7dc4192a81bcebf18f204f4c182
Author: Alan Conway <aconway@apache.org>
Date: 13/07/2007 23:53:10
Message:
	* src/qpid/sys/ConcurrentQueue.h: Thread-safe queue with atomic pop() #MsgLength=400


----
Added: src/qpid/sys/ConcurrentQueue.h|67 0
Added: src/tests/ConcurrentQueue.cpp|208 0
Modified: src/tests/Makefile.am|4 0

Revision: d1b55ccfa7142a7d55918971d7e3320545df10c4
Author: Alan Conway <aconway@apache.org>
Date: 13/07/2007 23:53:55
Message:
update svn:ignore #MsgLength=19


----

Revision: aaa53e194e341590c7ccf7c2afcb6aca7a5c7af3
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2007 01:14:07
Message:
Add missing header file to distribution. #MsgLength=42


----
Modified: src/Makefile.am|1 0

Revision: 47150c11dcbfd83570134e7db8078d526d8ba863
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/07/2007 01:38:03
Message:
added notice entries #MsgLength=22


----
Modified: NOTICE|14 2

Revision: 0f9fbc992115eb45fa62ab2de306203351cd1345
Author: Alan Conway <aconway@apache.org>
Date: 17/07/2007 01:52:01
Message:
	* src/qpid/sys/Serializer.h: Serialize calls to a function, by queueing and dispatching in a separate thread if necessary. #MsgLength=180


----
Modified: src/Makefile.am|3 0
Added: src/qpid/framing/SerializeHandler.h|49 0
Added: src/qpid/sys/Serializer.cpp|125 0
Added: src/qpid/sys/Serializer.h|105 0
Modified: src/qpid/sys/apr/Mutex.h|9 9
Modified: src/qpid/sys/posix/Mutex.h|6 6
Modified: src/tests/Makefile.am|4 0
Added: src/tests/Serializer.cpp|147 0

Revision: 314ee9b0173e36689415710d8f8362817489415e
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/07/2007 01:56:59
Message:
clean up #MsgLength=10


----
Modified: NOTICE|15 9

Revision: a26ff2cf5045ff5c9b2fd72f1980f3f6e6ea392c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/07/2007 01:59:33
Message:
removed optional cppUnit as not included in distributed packages #MsgLength=66


----
Modified: NOTICE|0 4

Revision: ac307f4da217347ebc3864b1d3255e364293287d
Author: Alan Conway <aconway@apache.org>
Date: 17/07/2007 02:49:16
Message:
svn:ignore props. #MsgLength=19


----

Revision: b6f1636bfd6e0a494dc678f383650fbbc44b9b20
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2007 16:28:48
Message:
Some refactoring towards a more decoupled handler chain structure: #MsgLength=1263


----
Modified: src/Makefile.am|7 0
Modified: src/qpid/broker/BrokerAdapter.cpp|10 5
Modified: src/qpid/broker/BrokerAdapter.h|4 2
Modified: src/qpid/broker/BrokerChannel.cpp|33 66
Modified: src/qpid/broker/BrokerChannel.h|16 22
Modified: src/qpid/broker/BrokerMessageBase.h|1 1
Modified: src/qpid/broker/Connection.cpp|7 6
Modified: src/qpid/broker/Connection.h|2 2
Added: src/qpid/broker/ConsumeAdapter.cpp|37 0
Added: src/qpid/broker/ConsumeAdapter.h|43 0
Added: src/qpid/broker/DeliveryAdapter.h|51 0
Added: src/qpid/broker/GetAdapter.cpp|41 0
Added: src/qpid/broker/GetAdapter.h|47 0
Modified: src/qpid/broker/HandlerImpl.h|3 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|7 4
Added: src/qpid/broker/SemanticHandler.cpp|89 0
Added: src/qpid/broker/SemanticHandler.h|55 0
Modified: src/qpid/framing/ChannelAdapter.h|6 6
Modified: src/tests/BrokerChannelTest.cpp|47 77

Revision: 84c77b7ced3f520258f45aa58f682f63e4c6c355
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/07/2007 04:46:45
Message:
Updated queue class, can run dispatch on seperate thread or on thread servicing the request. current set to use a worker - better test results. #MsgLength=220


----
Modified: src/qpid/broker/BrokerQueue.cpp|37 35
Modified: src/qpid/broker/BrokerQueue.h|3 4
Modified: src/tests/QueueTest.cpp|5 1

Revision: b02605306abfe5fe3ccdfe4cd9e125ce27633161
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/07/2007 05:02:23
Message:
basic perf test, work in progress #MsgLength=36


----
Modified: configure.ac|1 0
Added: perftest/Makefile.am|11 0
Added: perftest/topic_listener.cpp|121 0
Added: perftest/topic_publisher.cpp|175 0

Revision: b19bc5e30d7ffefbacfa67694d191eec692a659b
Author: Gordon Sim <gsim@apache.org>
Date: 18/07/2007 17:05:02
Message:
Attempt to fix 'make distcheck' broken by perftest checkin. #MsgLength=62


----
Modified: Makefile.am|1 1

Revision: 874a19f1a6d578052fef43ef88dbd6275bef09e7
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 19/07/2007 02:03:54
Message:
Fixed MT safety issues pointed out by Gordon. #MsgLength=48


----
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/BrokerChannel.cpp|1 1
Modified: src/qpid/broker/BrokerQueue.cpp|5 0
Modified: src/qpid/broker/BrokerQueue.h|9 5
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 1
Modified: src/tests/BrokerChannelTest.cpp|3 0
Modified: src/tests/QueueTest.cpp|19 12

Revision: d1e3a14d3e8f08fb78f3acfb8f0444f3696a0a24
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2007 10:19:17
Message:
	* src/qpid/broker/Daemon.cpp, .h - Rewrote to remove libdaemon dependency. - PID file stored in /var/run if root, /tmp otherwise. #MsgLength=430


----
Modified: NOTICE|0 8
Modified: README|1 2
Modified: configure.ac|24 23
Modified: qpidc.spec.in|0 1
Modified: src/Makefile.am|1 1
Modified: src/qpid/broker/Daemon.cpp|127 91
Modified: src/qpid/broker/Daemon.h|29 51
Modified: src/qpidd.cpp|40 59

Revision: 02dc991afa24d3da6d0596b61d16ea3dd882db56
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2007 10:19:59
Message:
svn:ignore updates #MsgLength=20


----

Revision: 3b632614389bdbae1e1cbe177c254248826ea36e
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2007 16:27:36
Message:
removed the need to pass MethodContext/RequestId through proxy and handler/adapter interfaces #MsgLength=96


----
Modified: gentools/src/org/apache/qpid/gentools/AmqpClass.java|3 0
Modified: gentools/src/org/apache/qpid/gentools/AmqpMethod.java|1 0
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|34 9
Modified: gentools/src/org/apache/qpid/gentools/Utils.java|7 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/BrokerAdapter.cpp|72 72
Modified: src/qpid/broker/BrokerAdapter.h|30 33
Modified: src/qpid/broker/BrokerMessage.cpp|10 8
Modified: src/qpid/broker/BrokerMessage.h|4 4
Modified: src/qpid/broker/BrokerMessageBase.h|2 2
Modified: src/qpid/broker/BrokerMessageMessage.cpp|3 3
Modified: src/qpid/broker/BrokerMessageMessage.h|3 2
Modified: src/qpid/broker/ConnectionAdapter.cpp|12 13
Modified: src/qpid/broker/ConnectionAdapter.h|7 13
Modified: src/qpid/broker/DtxHandlerImpl.cpp|30 35
Modified: src/qpid/broker/DtxHandlerImpl.h|12 34
Modified: src/qpid/broker/GetAdapter.cpp|1 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|35 73
Modified: src/qpid/broker/MessageHandlerImpl.h|15 51
Modified: src/qpid/broker/SemanticHandler.cpp|25 0
Modified: src/qpid/broker/SemanticHandler.h|2 0
Modified: src/qpid/framing/FramingContent.h|20 0
Modified: src/qpid/framing/MethodContext.cpp|5 2
Modified: src/qpid/framing/Proxy.h|1 0
Added: src/qpid/framing/SequenceNumber.cpp|62 0
Added: src/qpid/framing/SequenceNumber.h|51 0
Modified: src/tests/BrokerChannelTest.cpp|2 5
Modified: src/tests/ExchangeTest.cpp|1 5
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/MessageBuilderTest.cpp|4 8
Modified: src/tests/MessageTest.cpp|1 2
Modified: src/tests/QueueTest.cpp|1 2
Added: src/tests/SequenceNumberTest.cpp|108 0
Modified: src/tests/TxAckTest.cpp|1 2
Modified: src/tests/TxPublishTest.cpp|1 2

Revision: 86e476b304f2b54467ff84c73ec2b29d1491cbfd
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2007 18:59:58
Message:
Added difference operator to the sequence number #MsgLength=51


----
Modified: src/qpid/framing/SequenceNumber.cpp|11 0
Modified: src/qpid/framing/SequenceNumber.h|3 0
Modified: src/tests/SequenceNumberTest.cpp|69 5

Revision: 0c6ddf0edb4d3f1f26ee18614f856b05a2ae068a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/07/2007 20:23:29
Message:
 r702@fuschia:  andrew | 2007-07-19 13:23:15 +0100 Make --disable-apr-platform the default #MsgLength=93


----
Modified: configure.ac|2 2

Revision: fbb06f5b06efcb9eb409e15604f5f2d9b4f9460d
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2007 00:12:22
Message:
Fix memory error that was crashing broker. #MsgLength=44


----
Modified: src/qpid/broker/Connection.cpp|5 1

Revision: 0cbfde6d942d37ee6d1bcef08390acc9c1feb0a5
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2007 01:09:09
Message:
	* src/tests/start_broker, stop_broker: Use valgrind on broker. #MsgLength=254


----
Modified: src/tests/Makefile.am|2 2
Modified: src/tests/README|1 1
Deleted: src/tests/kill_broker|0 2
Modified: src/tests/run_test|1 19
Modified: src/tests/start_broker|2 1
Added: src/tests/stop_broker|21 0
Added: src/tests/vg_check|23 0

Revision: 10be305c54ad320f204b3bac6a0d82ca9bfd7ce1
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2007 02:04:36
Message:
Added vg_tests to EXTRA_DIST. #MsgLength=31


----
Modified: src/tests/Makefile.am|1 1

Revision: c23216f8bd9021bface429c0af7e4cc4413c4b0b
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2007 05:52:24
Message:
	* Summary: - Connect cluster handlers into broker handler	chains. - Progress on wiring replication. * src/tests/cluster.mk: Temporarily disabled Cluster test. #MsgLength=923


----
Modified: src/cluster.mk|4 2
Modified: src/qpid/Plugin.cpp|7 7
Modified: src/qpid/Plugin.h|26 40
Modified: src/qpid/broker/Broker.cpp|17 8
Modified: src/qpid/broker/Broker.h|22 12
Modified: src/qpid/broker/Connection.cpp|4 1
Modified: src/qpid/cluster/Cluster.cpp|19 43
Modified: src/qpid/cluster/Cluster.h|17 26
Renamed: src/qpid/cluster/ClusterPlugin.cpp [from src/qpid/cluster/ClusterPluginProvider.cpp]|11 8
Added: src/qpid/cluster/SessionManager.cpp|103 0
Added: src/qpid/cluster/SessionManager.h|68 0
Modified: src/qpid/framing/HandlerUpdater.h|5 3
Modified: src/qpidd.cpp|42 19
Modified: src/tests/Cluster.cpp|8 2
Modified: src/tests/Cluster.h|6 4
Modified: src/tests/Cluster_child.cpp|3 1
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/cluster.mk|5 4

Revision: 03b45c46e230f591bee4e3f1447caf3e5c77041e
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2007 06:20:12
Message:
	* src/tests/start_broker, stop_broker: - Fix bug: tripping over old log files. #MsgLength=83


----
Modified: src/tests/start_broker|1 0
Modified: src/tests/stop_broker|4 2

Revision: 8256fd213b1897cad71f1dd0ba881b12a3c36943
Author: Gordon Sim <gsim@apache.org>
Date: 23/07/2007 20:29:17
Message:
Added initial 'execution-layer' to try out methods form the 0-10 execution class. #MsgLength=84


----
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|49 3
Modified: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|7 0
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|2 0
Modified: src/qpid/broker/BrokerAdapter.cpp|25 25
Modified: src/qpid/broker/BrokerAdapter.h|1 0
Modified: src/qpid/broker/BrokerMessage.cpp|4 4
Modified: src/qpid/broker/BrokerMessageMessage.cpp|6 6
Modified: src/qpid/broker/ConnectionAdapter.h|1 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|15 15
Modified: src/qpid/broker/InMemoryContent.cpp|2 2
Modified: src/qpid/broker/LazyLoadedContent.cpp|2 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|12 15
Modified: src/qpid/broker/SemanticHandler.cpp|30 5
Modified: src/qpid/broker/SemanticHandler.h|14 2
Modified: src/qpid/client/BasicMessageChannel.cpp|9 12
Modified: src/qpid/client/ClientChannel.cpp|47 6
Modified: src/qpid/client/ClientChannel.h|11 1
Modified: src/qpid/framing/AMQMethodBody.cpp|4 0
Modified: src/qpid/framing/AMQMethodBody.h|1 0
Modified: src/qpid/framing/ChannelAdapter.h|0 4
Modified: src/qpid/framing/SequenceNumber.h|6 0
Modified: src/tests/client_test.cpp|6 0

Revision: 5504cb933919a2a5eecd595d116a2f3ea0c8ae6f
Author: Alan Conway <aconway@apache.org>
Date: 23/07/2007 21:08:16
Message:
	* src/tests/cluster.mk: Enable cluster test. #MsgLength=670


----
Modified: src/qpid/Options.cpp|4 2
Modified: src/qpid/cluster/Cluster.cpp|18 16
Modified: src/qpid/cluster/Cpg.cpp|9 9
Modified: src/qpid/cluster/Cpg.h|5 0
Modified: src/qpid/framing/AMQFrame.cpp|2 2
Modified: src/qpid/log/Logger.cpp|10 1
Modified: src/qpid/sys/Time.h|25 23
Modified: src/tests/Cluster.cpp|17 12
Modified: src/tests/Cluster.h|12 7
Modified: src/tests/Cpg.cpp|2 2
Modified: src/tests/cluster.mk|4 5

Revision: 719fcf630b3726301376f8ff4dbcf413214e37d1
Author: Alan Conway <aconway@apache.org>
Date: 23/07/2007 21:09:59
Message:
Disable Cluster test. #MsgLength=23


----
Modified: src/tests/cluster.mk|1 1

Revision: c59fbb89faa070085c80be0af957d35ef7b6d166
Author: Gordon Sim <gsim@apache.org>
Date: 24/07/2007 22:27:31
Message:
Initial support for latest approved 0-10 xml (with some transitional hacks included). #MsgLength=88


----
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|15 0
Modified: src/Makefile.am|0 2
Modified: src/generate.sh|1 1
Modified: src/qpid/broker/BrokerAdapter.cpp|53 50
Modified: src/qpid/broker/BrokerAdapter.h|12 9
Modified: src/qpid/broker/BrokerChannel.cpp|16 7
Modified: src/qpid/broker/BrokerChannel.h|2 1
Modified: src/qpid/broker/BrokerExchange.h|2 1
Modified: src/qpid/broker/BrokerMessageBase.h|2 0
Modified: src/qpid/broker/BrokerMessageMessage.cpp|14 8
Modified: src/qpid/broker/BrokerQueue.cpp|15 2
Modified: src/qpid/broker/BrokerQueue.h|1 1
Modified: src/qpid/broker/Connection.cpp|1 0
Modified: src/qpid/broker/ConnectionAdapter.cpp|2 3
Modified: src/qpid/broker/ConnectionAdapter.h|1 1
Modified: src/qpid/broker/Deliverable.h|2 0
Modified: src/qpid/broker/DeliverableMessage.cpp|2 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|1 3
Modified: src/qpid/broker/DtxHandlerImpl.h|1 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|13 12
Modified: src/qpid/broker/SemanticHandler.cpp|5 2
Modified: src/qpid/broker/SemanticHandler.h|1 1
Modified: src/qpid/broker/TxPublish.cpp|1 0
Modified: src/qpid/client/BasicMessageChannel.cpp|2 8
Modified: src/qpid/client/ClientChannel.cpp|17 16
Deleted: src/qpid/client/MessageMessageChannel.cpp|0 431
Deleted: src/qpid/client/MessageMessageChannel.h|0 84
Modified: src/qpid/client/MethodBodyInstances.h|17 17
Modified: src/tests/FramingTest.cpp|13 11
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/python_tests|1 1
Modified: xml/cluster.xml|1 1

Revision: aa75191a969a11c573982b2558115ace0cee089e
Author: Alan Conway <aconway@apache.org>
Date: 25/07/2007 03:39:27
Message:
	* Summary: - Wiring (declare/delete/bind) is replicated via AIS. - TestOptions includes all logging options. - Logger automatically parses env vars so logging can be enabled for any program linked with libqpidcommon e.g. by setting QPID_TRACE=1. #MsgLength=986


----
Modified: src/qpid/Options.cpp|22 11
Modified: src/qpid/QpidError.cpp|2 3
Modified: src/qpid/QpidError.h|4 5
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/client/ClientConnection.cpp|0 3
Modified: src/qpid/cluster/ClassifierHandler.cpp|3 0
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 2
Modified: src/qpid/cluster/SessionManager.cpp|54 27
Modified: src/qpid/cluster/SessionManager.h|13 4
Modified: src/qpid/framing/ChannelAdapter.h|2 2
Modified: src/tests/Cluster.h|2 2
Modified: src/tests/Cluster_child.cpp|2 3
Modified: src/tests/TestOptions.h|24 2
Modified: src/tests/cluster_client.cpp|12 7
Modified: src/tests/start_cluster|4 4
Modified: src/tests/stop_cluster|1 3

Revision: 2a6a8a0c2fb1e8f76a55a8fb4a686a70c19ecd77
Author: Alan Conway <aconway@apache.org>
Date: 26/07/2007 05:29:02
Message:
Fix code generation rule so generator runs only once even if multiple generator files have changed. #MsgLength=101


----
Modified: src/Makefile.am|4 1

Revision: edb8f1eb6240a44c1413eeb531d85dd65f7a683f
Author: Alan Conway <aconway@apache.org>
Date: 26/07/2007 05:38:26
Message:
Fix code generation rule to use timestamp file. #MsgLength=49


----
Modified: src/Makefile.am|3 3

Revision: 8954fe57171c1fd6a6d2ec760482e61c8290aa4d
Author: Alan Conway <aconway@apache.org>
Date: 26/07/2007 23:47:23
Message:
	* README: Instructions for openais install. #MsgLength=369


----
Modified: README|35 26
Modified: configure.ac|12 18
Modified: src/Makefile.am|0 3
Modified: src/qpid/sys/ConcurrentQueue.h|50 3
Deleted: src/qpid/sys/ProducerConsumer.cpp|0 141
Deleted: src/qpid/sys/ProducerConsumer.h|0 165
Deleted: src/qpid/sys/ThreadSafeQueue.h|0 98
Modified: src/tests/Cluster.cpp|13 12
Modified: src/tests/Cluster.h|7 23
Modified: src/tests/Cluster_child.cpp|12 9
Modified: src/tests/Makefile.am|0 3
Deleted: src/tests/ProducerConsumerTest.cpp|0 284
Modified: src/tests/cluster.mk|1 0

Revision: 3b8cbf9483759decfff25ded1dfd675581fd15a9
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2007 02:54:49
Message:
Fix for code gen issues (again!) #MsgLength=34


----
Modified: bootstrap|3 0

Revision: 259d334ced6e398cd3f1bf7e92264fa0865ba9da
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2007 22:01:36
Message:
	* src/tests/ais_check, cluster.mk: Run AIS tests only if: - CLUSTER makefile conditional set by configure. - Effective gid == ais - aisexec is running Otherwise print a warning. #MsgLength=295


----
Deleted: src/tests/EventChannelConnectionTest.cpp|0 109
Modified: src/tests/ais_check|32 9
Modified: src/tests/cluster.mk|10 3

Revision: 4305e13a6226703e4adf2e6ec44c15a0626986d1
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2007 22:07:17
Message:
svn:ignore property #MsgLength=21


----

Revision: 4ac03f6deca44d1c2d8fc1246fd5a4954aff4802
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2007 23:44:18
Message:
Remove unused file. #MsgLength=21


----
Deleted: src/qpid/cluster/doxygen_overview.h|0 161

Revision: a354401659077621a8c01e6be651dfe017f2cae2
Author: Gordon Sim <gsim@apache.org>
Date: 27/07/2007 23:44:52
Message:
Use execution layer to acknowledge messages. Turn off 0-9 framing of requests and responses. Some refactoring around message delivery. #MsgLength=139


----
Modified: gentools/src/org/apache/qpid/gentools/AmqpMethod.java|1 0
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|7 15
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|1 0
Modified: src/Makefile.am|3 4
Modified: src/qpid/broker/BrokerAdapter.cpp|5 6
Modified: src/qpid/broker/BrokerChannel.cpp|55 31
Modified: src/qpid/broker/BrokerChannel.h|7 5
Modified: src/qpid/broker/BrokerMessage.cpp|56 5
Modified: src/qpid/broker/BrokerMessage.h|5 1
Modified: src/qpid/broker/BrokerMessageBase.h|4 17
Modified: src/qpid/broker/BrokerMessageMessage.cpp|16 13
Modified: src/qpid/broker/BrokerMessageMessage.h|4 11
Modified: src/qpid/broker/DeliveryAdapter.h|4 2
Renamed: src/qpid/broker/DeliveryToken.h [from src/qpid/broker/ConsumeAdapter.h]|13 11
Deleted: src/qpid/broker/GetAdapter.cpp|0 40
Modified: src/qpid/broker/MessageHandlerImpl.cpp|17 48
Modified: src/qpid/broker/SemanticHandler.cpp|46 6
Modified: src/qpid/broker/SemanticHandler.h|14 1
Modified: src/qpid/client/ClientChannel.cpp|5 5
Modified: src/qpid/cluster/SessionManager.cpp|6 2
Modified: src/qpid/framing/AMQMethodBody.cpp|5 0
Modified: src/qpid/framing/AMQMethodBody.h|5 1
Renamed: src/qpid/framing/SequenceNumberSet.cpp [from src/qpid/broker/ConsumeAdapter.cpp]|33 9
Renamed: src/qpid/framing/SequenceNumberSet.h [from src/qpid/broker/GetAdapter.h]|23 21
Modified: src/qpid/framing/amqp_types.h|1 0
Modified: src/tests/BrokerChannelTest.cpp|21 27
Modified: src/tests/FramingTest.cpp|19 19

Revision: 17b575236b034ba582d9e65153e4fa0ce9a8d6eb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/07/2007 01:19:30
Message:
* Asynchronous network IO subsystem - This is now implemented such that it very nearly only depends on the platform code (Socker & Poller), this is not 100% true at present, but should be simple to finish. - This is still not the default (use "./configure --disable-apr-netio" to get it) - Interrupting the broker gives a known error - Default for number of broker io threads is not correct (needs to be number of CPUs - it will run slower with too many io threads) #MsgLength=660


----
Modified: src/Makefile.am|2 9
Modified: src/qpid/client/Connector.cpp|0 1
Modified: src/qpid/sys/Acceptor.h|3 1
Modified: src/qpid/sys/AsynchIO.h|15 7
Added: src/qpid/sys/AsynchIOAcceptor.cpp|308 0
Modified: src/qpid/sys/Dispatcher.cpp|40 19
Modified: src/qpid/sys/Dispatcher.h|4 3
Modified: src/qpid/sys/Poller.h|7 6
Modified: src/qpid/sys/Socket.h|68 5
Modified: src/qpid/sys/apr/APRAcceptor.cpp|0 2
Modified: src/qpid/sys/apr/Socket.cpp|43 15
Deleted: src/qpid/sys/apr/Socket.h|0 75
Modified: src/qpid/sys/epoll/EpollPoller.cpp|8 7
Modified: src/qpid/sys/posix/AsynchIO.cpp|89 33
Deleted: src/qpid/sys/posix/EventChannel.cpp|0 596
Deleted: src/qpid/sys/posix/EventChannel.h|0 214
Deleted: src/qpid/sys/posix/EventChannelAcceptor.cpp|0 165
Deleted: src/qpid/sys/posix/EventChannelConnection.cpp|0 237
Deleted: src/qpid/sys/posix/EventChannelConnection.h|0 96
Deleted: src/qpid/sys/posix/EventChannelThreads.cpp|0 126
Deleted: src/qpid/sys/posix/EventChannelThreads.h|0 105
Deleted: src/qpid/sys/posix/PosixAcceptor.cpp|0 49
Modified: src/qpid/sys/posix/PrivatePosix.h|5 0
Modified: src/qpid/sys/posix/Socket.cpp|91 15
Deleted: src/qpid/sys/posix/Socket.h|0 76
Modified: src/tests/.valgrind.supp-default|8 0

Revision: 6f8c0ce39a05510b98e9df00b890b0b8ca31655c
Author: Alan Conway <aconway@apache.org>
Date: 28/07/2007 03:27:43
Message:
Drop SessionFrame, UUID is not required and more efficient to transmit plain AMQFrames. #MsgLength=89


----
Modified: src/tests/Cluster.cpp|10 20
Modified: src/tests/Cluster.h|1 2
Modified: src/tests/Cluster_child.cpp|7 10
Modified: src/tests/ais_check|3 3

Revision: 89dc83254dc56dab013e8a7fefe79678b7a2ff36
Author: Alan Conway <aconway@apache.org>
Date: 28/07/2007 06:08:51
Message:
	* src/tests/ais_check, cluster.mk: Run AIS tests only if: - CLUSTER makefile conditional set by configure. - Effective gid == ais - aisexec is running Otherwise print a warning. #MsgLength=295


----
Modified: src/cluster.mk|0 2
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 2
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|9 10
Modified: src/qpid/cluster/Cluster.h|6 7
Deleted: src/qpid/cluster/SessionFrame.cpp|0 51
Deleted: src/qpid/cluster/SessionFrame.h|0 71
Modified: src/qpid/cluster/SessionManager.cpp|16 39
Modified: src/qpid/cluster/SessionManager.h|7 8
Modified: src/qpid/framing/HandlerUpdater.h|2 2

Revision: 5b2cba37ac9d0c64c67e5f264dad9e2c5b02a18f
Author: Alan Conway <aconway@apache.org>
Date: 28/07/2007 06:49:35
Message:
Updated openais instructions. #MsgLength=31


----
Modified: README|21 3

Revision: 35ccaffc9e48f45792a0345d2b00194dd6602d89
Author: Alan Conway <aconway@apache.org>
Date: 29/07/2007 04:44:00
Message:
Extract Recoverable interface from MessageStore interface. #MsgLength=60


----
Modified: src/qpid/broker/MessageStore.h|1 6
Modified: src/qpid/broker/RecoveryManager.h|22 14

Revision: 0f6ecfe7ea2324903ef3bce4f413c733a85ba8a5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2007 21:25:31
Message:
 r797@fuschia:  andrew | 2007-07-30 14:25:02 +0100 * Removed all the leader-follower acceptor code (APR based acceptor) * Removed the --enable/disable-apr-netio option to configure #MsgLength=184


----
Modified: README|3 1
Modified: configure.ac|3 20
Modified: src/Makefile.am|12 38
Deleted: src/qpid/sys/apr/APRAcceptor.cpp|0 127
Deleted: src/qpid/sys/apr/APRSocket.cpp|0 79
Deleted: src/qpid/sys/apr/APRSocket.h|0 48
Deleted: src/qpid/sys/apr/LFProcessor.cpp|0 181
Deleted: src/qpid/sys/apr/LFProcessor.h|0 121
Deleted: src/qpid/sys/apr/LFSessionContext.cpp|0 170
Deleted: src/qpid/sys/apr/LFSessionContext.h|0 87

Revision: 5e8ca729e33b65238419101770278331812c23e1
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2007 05:22:21
Message:
Template visitor pattern for Handlers. #MsgLength=40


----
Added: src/qpid/framing/Visitor.h|71 0
Modified: src/tests/Makefile.am|4 0
Added: src/tests/Visitor.cpp|58 0

Revision: c28e8f5b1c79c53ca60eafc34cb920a08f227964
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2007 05:22:52
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 782795f2f8f573acbbb2245960b49e1cbd966d35
Author: Gordon Sim <gsim@apache.org>
Date: 31/07/2007 16:48:58
Message:
Added Vistor.h to distributed sources in order to pass 'make distcheck' #MsgLength=74


----
Modified: src/Makefile.am|1 0

Revision: 1be2197b8a65d9ba113c43a1eb0f3463e16fca66
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/07/2007 17:09:19
Message:
* Fix crash on shutdown due to underlying poller being shutdown twice - Actually just made the poller ignore subsequent shutdown attempts #MsgLength=139


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|4 0

Revision: fc3608f8235eb6f3ece05f4fe4dcb1bcf8893fd1
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2007 22:39:46
Message:
src/qpid/framing/Visitor.h: - Removed depdency on Handler, Visitor is a separate pattern. - QPID_VISITOR macro to generate visitor classes replaces use of mpl (Default limits on mpl::vector (20) is too low, concenred about compile time problems if raised to 150. #MsgLength=272


----
Modified: src/qpid/framing/Visitor.h|47 27
Modified: src/tests/Visitor.cpp|8 8

Revision: 71371171158e819588cc0fb9269f90e2cb36dafe
Author: Martin Ritchie <ritchiem@apache.org>
Date: 31/07/2007 23:53:37
Message:
Merged revisions 1-447993,447995-448007,448009-448141,448143-448157,448161-448194,448196-448210,448212-448218,448220-448223,448225-448233,448235,448237-448241,448243-448596,448598-448623,448625-448850,448852-448880,448882-448982,448984-449635,449637-449639,449641-449642,449644-449645,449647-449674,449676-449719,449721-449749,449751-449762,449764-449933,449935-449941,449943-450383,450385,450387-450400,450402-450433,450435-450503,450505-450555,450557-450860,450862-451024,451026-451149,451151-451316,451318-451931,451933-452139,452141-452162,452164-452320,452322,452324-452325,452327-452333,452335-452429,452431-452528,452530-452545,452547-453192,453194-453195,453197-453536,453538,453540-453656,453658-454676,454678-454735,454737,454739-454781,454783-462728,462730-462819,462821-462833,462835-462839,462841-463071,463073-463178,463180-463308,463310-463362,463364-463375,463377-463396,463398-463402,463404-463409,463411-463661,463663-463670,463672-463673,463675-464493,464495-464502,464504-464576,464578-464613,464615-464628,464630,464632-464866,464868-464899,464901-464942,464944-464949,464951-465004,465006-465016,465018-465053,465055-465165,465167-465321,465323-465406,465408-465427,465429-465431,465433-465548,465550-466044,466047-466075,466077,466079-466081,466083-466099,466101-466112,466114-466126,466128-466240,466242-466971,466973-466978,466980-467309,467311-467312,467316-467328,467330-467485,467487-467588,467590-467604,467606-467699,467701-467706,467708-467749,467751-468069,468071-468537,468539-469241,469244-469246,469248-469318,469320-469421,469423,469425-469429,469431-469435,469437-469462,469464-469469,469472-469477,469479-469490,469492-469503,469505-469529,469531-469598,469600-469624,469626-469737,469739-469752,469754-469806,469808-469928,469930-469953,469955-470011,470013-470109,470111-470335,470338-470339,470341-470379,470381,470383-470399,470401-470446,470448-470741,470743-470758,470760-470809,470811-470817,470819-470993,470995-471001,471003-471788,471790-471792,471794-472028,472030-472032,472034-472036,472038,472040,472043,472045-472059,472061,472063,472065-472066,472068,472070-472072,472074-472080,472082,472084-472092,472094-472107,472109-472123,472125-472158,472160-472165,472167-472172,472174-472457,472459-472460,472462-472464,472466-472470,472472-472483,472486-472491,472493-472494,472496-472497,472499,472501-472503,472505-472512,472514-472544,472546-472556,472558-472560,472562-472572,472574-472587,472589-472591,472593-472605,472607,472609-472731,472733-472786,472788-472843,472845-472849,472851-472859,472861-472878,472880-472903,472905,472907-472988,472990-472991,472993-473071,473073-473086,473088-473090,473093,473095-473096,473098-473106,473108-473110,473112-473185,473187-473260,473262,473268-473270,473275-473279,473281,473284-473287,473289-473295,473297-473306,473308-473330,473332-473335,473337,473339-473344,473346-473351,473353-473355,473357-473358,473361-473471,473473-473497,473499-473535,473537-473567,473569-473888,473890-474451,474454-474492,474494-474563,474565-474843,474845-474865,474867-474932,474934-475035,475037-475144,475146-475180,475182-475265,475267-475285,475287,475289-475293,475295-475296,475298-475302,475304-475631,475633-475649,475651-475748,475750-475752,475754-476107,476109-476302,476304-476413,476415-476430,476432-476700,476702-476868,476870-477147,477149-477213,477215-477263,477265-477340,477342-477635,477637-477789,477791-477825,477827-477841,477843,477846-477852,477854,477856,477858-477865,477867-477894,477896-478022,478024-478182,478184-478211,478213-478233,478235-478236,478238-478241,478243-478252,478254-478259,478261-478263,478265,478267-478269,478271-478286,478288-478342,478344-478379,478381-478412,478414-478443,478445-478636,478639-478658,478660-478821,478823-478853,478855-478922,478924-478962,478965-478974,478976-479029,479031-479049,479051-479210,479212-479214,479216-479407,479409-479415,479417-479425,479427-479559,479561-479639,479641-479676,479678-479685,479687-480030,480033-480086,480091-480093,480095-480118,480120-480139,480141,480143-480148,480150-480156,480158-480163,480165-480177,480179-480189,480191-480193,480195-480198,480200-480220,480222-480282,480284-480292,480294-480308,480310-480317,480320-480422,480424,480426-480581,480583-480656,480658-480692,480695-480702,480704,480706-480710,480712-480910,480913-480933,480935-480945,480947-480972,480974-480993,480995-481034,481036-481158,481161-481174,481176-481220,481222-481234,481236-481260,481263-481264,481266-481296,481298-481304,481306-481311,481313-481332,481334,481336-481380,481382-481441,481443-482144,482146-482180,482182-482193,482195-482232,482234-482236,482239,482241-482242,482244-482247,482250-482251,482253,482256-482261,482264-482288,482290-482364,482366,482368,482370-482554,482556,482558-482569,482572-482636,482638,482640-482696,482698-482722,482724-482732,482734-482771,482774-482957,482959-483045,483047-483105,483108,483110-483115,483117,483119-483127,483130-483134,483136-483148,483150-483158,483160-483164,483166-483178,483180-483391,483393-483400,483402-483403,483405-483418,483420-483421,483425-483436,483438-483470,483472-483502,483504-483558,483560-483599,483601-483637,483639-483644,483646-483659,483661-483670,483672-483878,483880-483910,483912-483915,483917-483940,483942,483944-483968,483970-483972,483974-483976,483978,483980-484612,484614-484657,484659-484693,484695-484718,484720-484842,484844-484847,484849-484986,484988-485019,485021-485489,485491-485544,485546-485591,485593,485595-485697,485699-485729,485731-485734,485736-485779,485781-485787,485789-485851,485853,485855-486007,486009,486011-486020,486022-486083,486085-486097,486099-486117,486120-486131,486133-486148,486150-486161,486163-486164,486166-486197,486199-486205,486208-486247,486249-486253,486256-486427,486429-486431,486433-486554,486556-486573,486575-486593,486595,486597-486609,486611-486619,486622,486625,486627-486641,486643-486645,486649-486687,486689-486721,486723-486730,486732-486746,486748-486759,486761,486763-486777,486779-486782,486784-486788,486790,486792,486794-486796,486798-487175,487178,487180-487213,487215,487217-487267,487269-487284,487286-487298,487300-487358,487360-487367,487369-487382,487384-487434,487436-487480,487482-487547,487549-487561,487563-487565,487567-487578,487580-487615,487617-487622,487624,487626,487628,487630-487635,487637-487703,487705-487777,487780-487781,487783-487800,487802-487803,487805-487820,487822-487848,487850-487902,487904-488103,488105-488133,488135-488158,488160-488163,488165-488187,488189-488216,488218-488248,488250-488278,488280,488282-488303,488305-488313,488315-488342,488344-488351,488353-488376,488378-488449,488451-488593,488595,488597-488623,488625-488700,488702-488704,488706-488710,488714,488716-488725,488727-488744,488746-488770,488772-488798,488800,488802-488807,488809,488811-488829,488831-488843,488845-488851,488853-489069,489071-489077,489079-489081,489084-489102,489104-489105,489107-489109,489111-489112,489114-489139,489141-489178,489181-489203,489205-489211,489213,489216-489329,489332-489402,489404-489417,489419-489421,489423-489643,489645-489690,489692-489703,489705-489714,489716-489747,489749-489753,489755-489803,489805-489904,489906-490372,490374-490504,490506-490604,490606-490707,490710-490733,490735-490871,490873-490984,490986-491028,491030,491032-491071,491073-491119,491121-491576,491578-491672,491674-491800,491802-491838,491840-491878,491880-492183,492185-492279,492281-492317,492319-492513,492515-492584,492586-492587,492589-492601,492603-492635,492637-492640,492642-492717,492719-492723,492725-492729,492731-492755,492757-492901,492903-492955,492957-492962,492964-492997,492999-493002,493004-493041,493043-493059,493062-493063,493065-493086,493088-493125,493127-493139,493141-493150,493152-493871,493873-494017,494019-494030,494032-494041,494043-494091,494093-494120,494122-494354,494356-494436,494438-494539,494541-494552,494554-494586,494588-494649,494651,494653-494654,494656-494657,494659-494764,494766-494768,494770-494796,494798-494799,494802,494804-494860,494862-494903,494905-494906,494908-495019,495021-495160,495162-495168,495171-495188,495190-495229,495231-495254,495256-495303,495305-495313,495315-495336,495338-495372,495374-495379,495381-495454,495457-495459,495462-495516,495518-495524,495526-495531,495533-495548,495551-495553,495555,495557-495558,495560,495562-495573,495575-495583,495585-495594,495596-495628,495630-495638,495640-495651,495653-495660,495662-495753,495755-496259,496261-496262,496264-496269,496271-496275,496277-496301,496303-496316,496318-496383,496385-496413,496415-496495,496497-496625,496627-496636,496638-496640,496642-496647,496650-496657,496659-496660,496663-496664,496666-496677,496679-496681,496683-496730,496732-496750,496752,496754-496784,496786-496832,496834-496840,496842-496990,496992-496995,496997-497340,497343-497351,497353-497403,497405-497424,497426-497438,497440-497481,497483-497497,497499-497765,497767-497769,497771-497775,497777-497778,497780,497782-497783,497785,497787-497812,497814-497871,497873-497877,497879-498573,498575-498588,498590,498592,498594-498636,498638-498669,498671-498686,498688-498689,498691-498719,498721-498964,498966-498969,498971-498973,498975-498982,498985-499035,499037-499040,499042,499044-499048,499050-499082,499084-499086,499088-499164,499167-499169,499171-499355,499357-499370,499372-499373,499375-499391,499393,499395-499425,499428,499430-499445,499447-499455,499457-499460,499462-499465,499467,499469-499489,499491-499492,499494-499531,499533-499562,499566-499627,499629-499715,499717-499732,499734-499755,499758-499763,499765-499780,499782-499795,499797-499802,499804-499844,499846,499848-499850,499852-499863,499865-499873,499875-499974,499976-499978,499980-500263,500265-500283,500285-500309,500311-501000,501002,501012-501057,501059-501095,501097-501390,501392-501410,501413-501447,501449-501454,501456,501458-501464,501466-501471,501473-501803,501805-501913,501915-501916,501918-501919,501921-501944,501946-502171,502173-502177,502181,502183-502247,502250-502252,502254-502260,502262-502267,502270,502272,502274-502575,502577-502609,502611-502619,502621-502626,502628-502654,502656-503592,503594-503603,503605-503608,503610-503636,503638-503645,503647-503705,503707-503789,503791-504024,504026-504111,504113-504506,504508-504735,504737-504863,504865-504867,504869-504914,504916-505241,505243-505254,505257-505267,505269-505354,505356-505891,505893-505971,505973-506400,506402-506404,506407-506438,506440-506516,506518-506541,506543-506966,506968-506971,506973-507095,507097-507108,507111-507454,507456,507459-507471,507473-507556,507558,507560-507581,507585-507594,507597,507599-507608,507610-507728,507730-507893,507895-507937,507940-508234,508236-508350,508352-508365,508367-508380,508383,508386-508415,508417-508648,508650-508941,508943-509146,509148-509171,509173-509175,509179-509201,509203-509207,509209-509215,509217-509222,509224-509477,509480-509627,509629-509634,509636-509641,509643-509736,509738-509931,509933-510059,510061-510075,510077-510158,510161-510896,510898-510938,510940-511388,511390-511922,511924-512287,512289-512698,512702-512813,512815-512817,512819-513359,513361-513370,513372-514702,514704-514886,514888-514902,514904-515126,515129-515141,515143-515516,515518-515534,515536-515538,515540-515648,515650-515651,515653-516070,516072-516411,516413-516448,516450,516452-517637,517639-517647,517649-517659,517661-517663,517665-517677,517679-517682,517684-517744,517746-518085,518087-518175,518177-518558,518560-518568,518571-518666,518668,518670-518699,518701-518987,518990-518992,518994-519908,519910-519932,519934-520414,520416-520842,520844-520937,520939-521362,521364-521681,521683-521704,521706-521709,521711-521714,521716-521781,521783-521792,521794-522462,522464-522527,522529-522534,522536-522566,522568-522958,522960,522962-522966,522968-522976,522978-522980,522982-522988,522992-522993,522995-523244,523246-523746,523748-524049,524051-524738,524741-524742,524744-524762,524764,524766,524768-525486,525488-525530,525532,525534,525537-525552,525554-525765,525767-525776,525778-525784,525789-525803,525805-525816,525818-525828,525830-525861,525863-525866,525868-526090,526092-526112,526114-526116,526119-526121,526123-526149,526151-526153,526155-526156,526160-526165,526167-526186,526188-526193,526196-526197,526200-526665,526667-526682,526686-526690,526693,526695-526708,526710-526713,526715-526775,526777-526802,526804-526806,526808-527048,527051-527052,527054-527181,527183-527486,527488-527492,527494-527498,527500-527508,527510-527517,527519-527536,527538-527555,527559-527802,527804-527842,527844-527847,527849-527875,527877-527940,527942-527958,527960-527971,527973-528002,528004,528006-528423,528425-529232,529234-529245,529247-529296,529298-529634,529636-529658,529660-529665,529667-529668,529670-530033,530035-530036,530038-530040,530045-530046,530050-530051,530053-530431,530433-530436,530439-530440,530443,530445-530446,530448,530450-530682,530684,530687-530696,530698-530733,530735-530776,530778-530795,530799,530801-530811,530813-530818,530820-530837,530839-531436,531438-531455,531457,531459-531511,531514,531516,531519-531523,531525,531528-531858,531860-531864,531866-531907,531909-531916,531918-531936,531938-531988,531990-532001,532003-532371,532373-532465,532467-532727,532729-532765,532767-532785,532788-532790,532792-532793,532795-533064,533066-533074,533076,533080-533130,533132-533139,533142-533703,533705-533720,533722-533763,533766-533818,533820-533839,533841-533859,533862-534035,534037-534112,534114-534116,534118-534472,534474-534477,534479-534762,534764-534896,534898-534902,534904-535253,535255-535308,535310-535808,535810-535873,535875-536007,536009-536140,536142-536162,536165-536242,536244-536252,536254-536278,536280-536338,536340-536448,536450-536479,536481-536482,536484-536485,536487-536495,536497,536500-536505,536507-536561,536563-536570,536572,536574-536583,536586-536823,536825-537014,537016-537018,537020-537025,537027-537028,537030-537160,537162-537170,537172-537672,537674-537781,537783-537833,537836-537840,537842-537844,537846-537953,537955-538034,538036-538078,538080-538083,538085-538097,538099-538108,538110-538239,538241-538881,538883-538906,538908-538911,538913-538921,538923-539177,539179-539190,539192-539469,539471-539475,539477-539480,539482-539483,539485-539500,539502-539593,539595-539782,539784-539787,539789-540106,540108-540168,540170-540510,540512-541246,541248-542483,542485-542788,542790-543495,543497-544108,544110-544421,544423-544507,544509-544865,544867-545145,545147-546095,546097-546189,546191-546440,546442-546457,546459-547177,547179-547626,547628-548275,548277-548278,548280-548301,548303-548307,548309-548311,548313-548314,548316,548318,548320-548380,548382-549010,549012-549529,549531-549848,549850-550508,550510-550747,550749-550772,550774-550848,550850-551116,551122-553446,553448-561282 via svnmerge from https://svn.apache.org/repos/asf/incubator/qpid/branches/M2 #MsgLength=27281


----
Modified: Makefile.am|1 1
Modified: NOTICE|4 6
Modified: README|6 3
Added: RELEASE_NOTES|41 0

Revision: 9285d1bcfb436313f3781dc2a44cc0fce3901793
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2007 03:08:40
Message:
oprofile script #MsgLength=18


----
Added: src/prof|18 0

Revision: e90f49e7a4cc4babaf3da0e0d1d678de933d89f9
Author: Alan Conway <aconway@apache.org>
Date: 01/08/2007 04:00:10
Message:
Ruby code generator for C++. #MsgLength=261


----
Added: rubygen/README|20 0
Added: rubygen/amqpgen.rb|208 0
Added: rubygen/cppgen.rb|126 0
Added: rubygen/samples/Operations.rb|85 0
Added: rubygen/samples/Proxy.rb|153 0
Added: rubygen/samples/runme|18 0

Revision: e5c890ca977cc22154655260381a1b8be0ec54b7
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 00:01:34
Message:
	* configure.ac: --disable-cluster flag. * qpidc.spec.in: openais dependency removed by --disable-flag #MsgLength=105


----
Modified: configure.ac|17 8
Modified: qpidc.spec.in|2 2

Revision: ed1bea564ce894e893aa84492afd0830ce78472a
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 00:50:33
Message:
	* src/generate.sh: Moved requirements test to configure.ac #MsgLength=535


----
Modified: bootstrap|0 4
Modified: configure.ac|17 22
Modified: rubygen/README|5 8
Modified: rubygen/amqpgen.rb|11 4
Modified: rubygen/cppgen.rb|25 0
Added: rubygen/generate|23 0
Added: rubygen/templates/frame_body_lists.rb|31 0
Modified: src/Makefile.am|59 38
Modified: src/generate.sh|10 10
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/ais_check|1 1
Modified: src/tests/cluster.mk|1 0

Revision: 2cc8fda84f4cde73202abbacc522b5798daa7b7d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/08/2007 01:17:06
Message:
Recoded writing code so that it doesn't allocate framing::Buffer on the heap #MsgLength=78


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|27 33

Revision: 2b31033f589221e087fdb983474e743c75f644cc
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 02:50:20
Message:
svn:ignore update. #MsgLength=20


----

Revision: 42a3587b67481cd3ff1b6cda89f435a7031247bb
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 05:14:26
Message:
Propagate --disable-cluster to spec file #MsgLength=41


----
Modified: configure.ac|7 5
Modified: qpidc.spec.in|7 3

Revision: 3e7113dafa041f92e816e25f3b5a31fe0785c977
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 05:22:15
Message:
Fix typo in changelog #MsgLength=22


----
Modified: qpidc.spec.in|1 1

Revision: 85b0f7efd2e28eb82021276d87ec6c3be9480e90
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2007 05:22:28
Message:
Fix typo in changelog #MsgLength=22


----
Modified: qpidc.spec.in|1 1

Revision: 1f1eefa3d5e13951578c16fd54fb6f6064089e30
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/08/2007 00:11:38
Message:
 r852@fuschia:  andrew | 2007-08-02 16:58:33 +0100 Allow use of topictest script from other directories (than cpp/src/tests) #MsgLength=127


----
Modified: src/tests/topictest|7 2

Revision: ffad2af36a705b5ee86a5a79a2889632b29ccc00
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/08/2007 00:41:06
Message:
* Changed Broker queue processing to avoid unnecessary uses of boost::bind * Changed Serializer::execute to take Tasks by reference to avoid overhead of copying #MsgLength=162


----
Modified: src/qpid/broker/BrokerQueue.cpp|5 4
Modified: src/qpid/broker/BrokerQueue.h|2 1
Modified: src/qpid/sys/Serializer.cpp|1 1
Modified: src/qpid/sys/Serializer.h|1 1

Revision: 9c6783a5e913005203e8f4ad8fad62f1c28d0cef
Author: Gordon Sim <gsim@apache.org>
Date: 03/08/2007 02:09:48
Message:
Some restructuring of the client code: * Introduced three separate 'handlers' for the connection, channel and execution 'layers'. * Support for asynchronous retrieval of response or completion status. * Channel methods no longer included in execution layers command id count. #MsgLength=282


----
Modified: src/Makefile.am|24 5
Modified: src/qpid/broker/SemanticHandler.cpp|10 3
Deleted: src/qpid/client/BasicMessageChannel.cpp|0 335
Deleted: src/qpid/client/BasicMessageChannel.h|0 92
Added: src/qpid/client/BlockingQueue.h|87 0
Added: src/qpid/client/ChainableFrameHandler.h|47 0
Added: src/qpid/client/ChannelHandler.cpp|123 0
Added: src/qpid/client/ChannelHandler.h|64 0
Modified: src/qpid/client/ClientChannel.cpp|160 230
Modified: src/qpid/client/ClientChannel.h|37 60
Modified: src/qpid/client/ClientConnection.cpp|21 31
Added: src/qpid/client/CompletionTracker.cpp|64 0
Added: src/qpid/client/CompletionTracker.h|56 0
Modified: src/qpid/client/Connection.h|3 4
Added: src/qpid/client/ConnectionHandler.cpp|196 0
Added: src/qpid/client/ConnectionHandler.h|80 0
Added: src/qpid/client/Correlator.cpp|44 0
Added: src/qpid/client/Correlator.h|52 0
Added: src/qpid/client/ExecutionHandler.cpp|159 0
Added: src/qpid/client/ExecutionHandler.h|70 0
Added: src/qpid/client/FutureCompletion.cpp|61 0
Added: src/qpid/client/FutureCompletion.h|52 0
Added: src/qpid/client/FutureFactory.cpp|51 0
Added: src/qpid/client/FutureFactory.h|48 0
Added: src/qpid/client/FutureResponse.cpp|42 0
Added: src/qpid/client/FutureResponse.h|44 0
Deleted: src/qpid/client/IncomingMessage.cpp|0 168
Deleted: src/qpid/client/IncomingMessage.h|0 136
Added: src/qpid/client/ReceivedContent.cpp|104 0
Added: src/qpid/client/ReceivedContent.h|83 0
Added: src/qpid/client/StateManager.cpp|68 0
Added: src/qpid/client/StateManager.h|46 0
Modified: src/tests/FramingTest.cpp|4 2
Modified: src/tests/Serializer.cpp|9 4
Modified: src/tests/client_test.cpp|3 8
Modified: src/tests/topic_listener.cpp|1 2
Modified: src/tests/topic_publisher.cpp|1 2

Revision: 07d7b1a41593e517d6cdaa76fdd40f322756cfd3
Author: Alan Conway <aconway@apache.org>
Date: 03/08/2007 05:00:54
Message:
Generate boost::variants for each class. Not yet used on trunk. #MsgLength=65


----
Modified: rubygen/cppgen.rb|6 5
Modified: rubygen/generate|1 1
Modified: rubygen/samples/Operations.rb|2 2
Modified: rubygen/samples/Proxy.rb|2 2
Added: rubygen/templates/ClassBodyVariant.rb|29 0

Revision: 4dbf5eeef384590c3c7194717e78ed9567311e7a
Author: Alan Conway <aconway@apache.org>
Date: 03/08/2007 23:47:44
Message:
Added index() to classes & methods. #MsgLength=37


----
Modified: rubygen/amqpgen.rb|9 3

Revision: aacb3259430df425d306dc11ff01f1b1ab012d31
Author: Alan Conway <aconway@apache.org>
Date: 05/08/2007 18:44:13
Message:
	* amqpgen.rb: fix sytax error. * cppgen.rb: - 0-10 types - typedef generator - automatic whitespace around classes etc. #MsgLength=126


----
Modified: rubygen/amqpgen.rb|3 7
Modified: rubygen/cppgen.rb|29 11

Revision: 9a38b31831fbfe995cb39a11e8f11e5dcd89dbc1
Author: Alan Conway <aconway@apache.org>
Date: 05/08/2007 18:52:05
Message:
Improved rubygen.mk rule. #MsgLength=27


----
Modified: src/Makefile.am|1 2

Revision: 9752a63f0732d66d5d42d3238c06febfec011dcb
Author: Gordon Sim <gsim@apache.org>
Date: 05/08/2007 21:25:36
Message:
Added first cut of generated client interface. Old channel interface still supported; shares SessionCore with the new interface. Todo: allow applications to signal completion of received commands; keywrod args for interface. #MsgLength=227


----
Modified: rubygen/amqpgen.rb|6 2
Modified: rubygen/cppgen.rb|1 1
Modified: rubygen/samples/Operations.rb|2 2
Modified: rubygen/samples/Proxy.rb|2 2
Added: rubygen/templates/Session.rb|136 0
Modified: src/Makefile.am|10 2
Modified: src/qpid/client/ClientChannel.cpp|28 79
Modified: src/qpid/client/ClientChannel.h|5 11
Modified: src/qpid/client/ClientConnection.cpp|24 104
Modified: src/qpid/client/ClientMessage.h|5 2
Modified: src/qpid/client/Connection.h|9 58
Modified: src/qpid/client/ConnectionHandler.cpp|3 2
Modified: src/qpid/client/ConnectionHandler.h|2 0
Added: src/qpid/client/ConnectionImpl.cpp|120 0
Added: src/qpid/client/ConnectionImpl.h|71 0
Modified: src/qpid/client/ExecutionHandler.cpp|9 14
Modified: src/qpid/client/ExecutionHandler.h|5 4
Added: src/qpid/client/Response.h|63 0
Added: src/qpid/client/SessionCore.cpp|115 0
Added: src/qpid/client/SessionCore.h|70 0
Added: src/qpid/framing/MethodContent.h|39 0
Modified: src/tests/FramingTest.cpp|6 4
Modified: src/tests/InProcessBroker.h|1 24

Revision: 975fb06a2e001a42c68395cca95410136597f558
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2007 16:49:27
Message:
Fixed race in connection shutdown preventing Connector from being garbage collected on occasion. #MsgLength=99


----
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|4 3
Modified: src/qpid/client/ConnectionImpl.h|1 1
Modified: src/qpid/client/Connector.cpp|1 5

Revision: 52ebe1d52e8197cad753f40809e4278332fb3d79
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2007 19:32:42
Message:
Connector should join with receiver thread on destruction #MsgLength=60


----
Modified: src/qpid/client/Connector.cpp|5 1

Revision: ad16c38ddce23ddba77afe67d516731b8927a42d
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2007 21:55:08
Message:
Channel dispatcher needs ti be joined on destruction. Also minor cleanup: removed redundant method and friend declarations. #MsgLength=126


----
Modified: src/qpid/client/ClientChannel.cpp|10 12
Modified: src/qpid/client/ClientChannel.h|2 7
Modified: src/qpid/client/Connection.h|0 3

Revision: 3949ce474eeb038820fc2c3137e85e1ca16b8f86
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2007 23:02:36
Message:
Send flush after get request. Fixes perftest. #MsgLength=49


----
Modified: src/qpid/client/ClientChannel.cpp|2 0
Modified: src/qpid/client/Response.h|2 1

Revision: 87feccb6ce4bc1f9821e334d28338abc0ba50a2f
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/08/2007 23:23:09
Message:
correct rate calc #MsgLength=18


----
Modified: perftest/topic_publisher.cpp|2 2

Revision: 789aa1485473a208d03dc19f1c2724159295cf65
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2007 07:31:17
Message:
 r899@fuschia:  andrew | 2007-08-07 00:30:24 +0100 Fixed Bad time calculations #MsgLength=81


----
Modified: perftest/topic_publisher.cpp|37 24

Revision: 5e6b4f0b8fc417efc6d5a8abbe72a91101c48c52
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2007 06:28:06
Message:
	* Summary: new Frame type to replace AMQFrame. Instead of holding a shared_ptr to a heap-allocated AMQBody subclass, it holds the body in-line in a boost::variant of all the concrete AMQBody subclasses. Actually there are nested variants, the compiler does not cope well with a single variant of 130-some types. #MsgLength=1643


----
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|1 1
Modified: rubygen/amqpgen.rb|1 1
Modified: rubygen/cppgen.rb|10 5
Added: rubygen/templates/method_variants.rb|72 0
Modified: src/Makefile.am|25 6
Modified: src/qpid/framing/AMQMethodBody.h|1 0
Added: src/qpid/framing/Frame.cpp|119 0
Added: src/qpid/framing/Frame.h|72 0
Added: src/qpid/framing/MethodHolder.cpp|93 0
Added: src/qpid/framing/MethodHolder.h|80 0
Modified: src/qpid/framing/amqp_types.h|1 0
Added: src/qpid/framing/variant.h|92 0
Added: src/tests/Frame.cpp|77 0
Modified: src/tests/Makefile.am|9 0

Revision: 1c87248626133b537178543df28833e6f1a4df55
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2007 20:23:45
Message:
Fixed include guard. #MsgLength=22


----
Modified: src/qpid/framing/Frame.h|3 3

Revision: 383e055f5277f72c543ba4c9d06b118a1adc9dc5
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2007 20:24:00
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 0ffc12bb005f9e6df89ef2b138c9ac1d02e118f5
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2007 21:42:23
Message:
	* src/tests/start_broker: Pass script parameters to broker. #MsgLength=342


----
Modified: src/qpid/broker/Broker.cpp|3 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|3 4
Modified: src/qpid/sys/Serializer.cpp|2 2
Modified: src/tests/.valgrind.supp-default|46 0
Modified: src/tests/start_broker|1 1

Revision: fd83f9e89d5e8a9c959851b6504fb4ba8649ff6b
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2007 21:50:44
Message:
NullMessageStore log levels changed from warning to info. #MsgLength=59


----
Modified: src/qpid/broker/NullMessageStore.cpp|10 10
Modified: src/tests/stop_broker|2 2

Revision: 8dca2dc500b87953aaf2beff995990e59905a2dc
Author: Alan Conway <aconway@apache.org>
Date: 09/08/2007 02:47:18
Message:
Removed new Frame & MethodHolder classes from build. Excessive compilation time. #MsgLength=82


----
Modified: src/Makefile.am|1 5
Modified: src/tests/Makefile.am|0 6

Revision: 3f42a3ad6d14d3a53e9347fed9e91dd83aa8a77a
Author: Alan Conway <aconway@apache.org>
Date: 09/08/2007 08:03:43
Message:
Moved Proxy generation to rubygen. #MsgLength=36


----
Modified: bootstrap|3 0
Modified: gentools/src/org/apache/qpid/gentools/Main.java|0 4
Deleted: gentools/templ.cpp/AMQP_ClientProxy.cpp.tmpl|0 52
Deleted: gentools/templ.cpp/AMQP_ClientProxy.h.tmpl|0 59
Deleted: gentools/templ.cpp/AMQP_ServerProxy.cpp.tmpl|0 51
Deleted: gentools/templ.cpp/AMQP_ServerProxy.h.tmpl|0 59
Modified: rubygen/amqpgen.rb|4 2
Modified: rubygen/cppgen.rb|3 3
Renamed: rubygen/templates/Proxy.rb [from rubygen/samples/Proxy.rb]|22 34
Modified: src/Makefile.am|24 31
Modified: src/generate.sh|2 2
Modified: src/qpid/framing/Proxy.h|1 0

Revision: ec2bddf0d7569cea139c11379d61fd8b911c0c94
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2007 16:24:50
Message:
Fixed distcheck #MsgLength=18


----
Modified: src/Makefile.am|1 1

Revision: c78e0a04158071eb2df45aa1b9bed18f4f660621
Author: Alan Conway <aconway@apache.org>
Date: 09/08/2007 22:39:07
Message:
Avoid clash with built-in ruby function Object.methods():n - Renamed methods*() to amqp_methods, classes*() to amqp_classes. - Renamed CppGen.class_() to cpp_class. #MsgLength=168


----
Modified: rubygen/amqpgen.rb|11 11
Modified: rubygen/cppgen.rb|1 1
Modified: rubygen/samples/Operations.rb|3 3
Modified: rubygen/templates/ClassBodyVariant.rb|3 3
Modified: rubygen/templates/Proxy.rb|9 9
Modified: rubygen/templates/Session.rb|4 4
Modified: rubygen/templates/frame_body_lists.rb|1 1
Modified: rubygen/templates/method_variants.rb|6 6

Revision: 76c7f85a815b528c8d5710f18ea7a223b567b724
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 01:26:59
Message:
	* rubygen/amqpgen.rb: workaround XML namespace problem with ruby 1.8.6. * src/Makefile.am: fixed so error in rubygen causes build to fail. #MsgLength=142


----
Modified: rubygen/amqpgen.rb|17 4
Modified: src/Makefile.am|3 2

Revision: 57bcc81061cfcb7d764205fdbeb82e37f61f328e
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 01:43:14
Message:
Fix for make rpmbuild issue: Configure forces rebuild of src/Makefile by touching .mk include files. #MsgLength=102


----
Modified: bootstrap|1 2
Modified: configure.ac|2 0

Revision: c44d25385fff128f66b3c999d90545d1c05a6b23
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/08/2007 02:27:27
Message:
 r948@fuschia:  andrew | 2007-08-09 18:46:30 +0100 r913@fuschia:  andrew | 2007-08-07 12:56:10 +0100 Removed extraneous parameter when creating Broker Acceptor r949@fuschia:  andrew | 2007-08-09 18:46:30 +0100 r914@fuschia:  andrew | 2007-08-07 12:56:55 +0100 Work in Progress: making the client library use the AsynchIO layer r950@fuschia:  andrew | 2007-08-09 18:46:30 +0100 r937@fuschia:  andrew | 2007-08-09 02:29:41 +0100 Shutdown connection properly r951@fuschia:  andrew | 2007-08-09 18:46:31 +0100 r952@fuschia:  andrew | 2007-08-09 19:27:03 +0100 Finishing touches to first cut of AsynchIO for client #MsgLength=636


----
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/client/Connector.cpp|68 24
Modified: src/qpid/client/Connector.h|8 3
Modified: src/qpid/sys/Acceptor.h|1 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|4 4

Revision: f75f83b4820810c2813a106f61b4cc9ae263d224
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 04:22:10
Message:
Blob: a crude kind of variant that avoids template hell. #MsgLength=58


----
Added: src/qpid/framing/Blob.h|134 0

Revision: 9b64b70498a4a76f732f64c2eb21c610761fff9e
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 06:31:59
Message:
	* src/qpid/framing/MethodHolder.h, .cpp: Replace boost::variant with Blob. * rubygen/templates/MethodHolder.rb: Generate support files for Blob-based MethodHolder. * src/Makefile.am: generate MethodHolder suppport files. * rubygen/cppgen.rb: Minor fixes/enhancements. #MsgLength=279


----
Modified: rubygen/cppgen.rb|5 3
Added: rubygen/templates/MethodHolder.rb|67 0
Modified: src/Makefile.am|10 1
Modified: src/qpid/framing/Blob.h|1 1
Modified: src/qpid/framing/MethodHolder.cpp|11 48
Modified: src/qpid/framing/MethodHolder.h|41 35

Revision: 0b037ac834c6710ab360285883ff5cae2372ee63
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 09:10:04
Message:
Revert $(dirname $0) changes, break distclean/rpm builds. #MsgLength=59


----
Modified: src/tests/topictest|2 7

Revision: ce49c233547bec9020648288380a62e21834311e
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 09:11:57
Message:
2007-08-09    <aconway@redhat.com> #MsgLength=315


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/framing/MethodHolder.cpp|0 1

Revision: 606a7bc9581226e0175d25811644b8aaf5474578
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 09:12:57
Message:
svn:ignore properties. #MsgLength=24


----

Revision: a0808a02d1cea0572c4cfd15655bb0c33cb98ee4
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 09:14:34
Message:
Fix unused argument warning. #MsgLength=30


----
Modified: rubygen/templates/MethodHolder.rb|1 1

Revision: ed804a6c715512008b73e8eace966a448417a05c
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 10:17:07
Message:
Update CLEANFILES for distcheck. #MsgLength=34


----
Modified: src/Makefile.am|1 0

Revision: ba5baa0a313995e9276e3a3d8b09e17005fb9631
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2007 22:30:54
Message:
Ensure MethodHolderMaxSize.h is built at the right time. #MsgLength=58


----
Modified: src/Makefile.am|4 2

Revision: ca96c550c8d65a095e38bc231d4e6c24b0cafb07
Author: Gordon Sim <gsim@apache.org>
Date: 10/08/2007 22:51:08
Message:
Broker management of message acknowledgements now runs entirely off execution layer. Flow control support. #MsgLength=109


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/AccumulatedAck.cpp|109 21
Modified: src/qpid/broker/AccumulatedAck.h|21 5
Modified: src/qpid/broker/BrokerAdapter.cpp|6 2
Modified: src/qpid/broker/BrokerChannel.cpp|181 61
Modified: src/qpid/broker/BrokerChannel.h|36 15
Modified: src/qpid/broker/BrokerMessage.cpp|14 10
Modified: src/qpid/broker/BrokerMessage.h|8 4
Modified: src/qpid/broker/BrokerMessageBase.h|4 1
Modified: src/qpid/broker/BrokerMessageMessage.cpp|9 1
Modified: src/qpid/broker/BrokerMessageMessage.h|2 1
Modified: src/qpid/broker/DeliveryAdapter.h|1 1
Added: src/qpid/broker/DeliveryId.h|34 0
Modified: src/qpid/broker/DeliveryRecord.cpp|36 10
Modified: src/qpid/broker/DeliveryRecord.h|16 7
Modified: src/qpid/broker/DtxAck.cpp|2 2
Modified: src/qpid/broker/DtxAck.h|1 1
Modified: src/qpid/broker/MessageHandlerImpl.cpp|45 2
Modified: src/qpid/broker/MessageHandlerImpl.h|9 0
Modified: src/qpid/broker/SemanticHandler.cpp|21 24
Modified: src/qpid/broker/TxAck.cpp|1 1
Modified: src/qpid/framing/SequenceNumber.cpp|15 0
Modified: src/qpid/framing/SequenceNumber.h|3 0
Modified: src/tests/AccumulatedAckTest.cpp|172 67
Modified: src/tests/TxAckTest.cpp|3 3

Revision: 6997fa115b11313f5cff1cb7eec396b5cdbdbd70
Author: Alan Conway <aconway@apache.org>
Date: 14/08/2007 04:08:37
Message:
Fix assertions that cause make -DNDEBUG to fail. #MsgLength=50


----
Modified: src/qpid/cluster/Cluster.cpp|2 4

Revision: dac79b393217e2672377be47bfcc7494f7ac32c4
Author: Gordon Sim <gsim@apache.org>
Date: 14/08/2007 20:20:14
Message:
Undoing change to asyncio as incomplete writes aren't handled. #MsgLength=65


----
Modified: src/qpid/client/Connector.cpp|24 68
Modified: src/qpid/client/Connector.h|3 8

Revision: 5c7dedb0c5ccc58998a610f6e37ea5a304a37839
Author: Gordon Sim <gsim@apache.org>
Date: 14/08/2007 22:04:26
Message:
Removed some unused files. #MsgLength=29


----
Modified: src/Makefile.am|0 6
Modified: src/qpid/client/ClientConnection.cpp|0 1
Deleted: src/qpid/client/MessageChannel.h|0 97
Deleted: src/qpid/client/MethodBodyInstances.h|0 100
Deleted: src/qpid/client/ResponseHandler.cpp|0 79
Deleted: src/qpid/client/ResponseHandler.h|0 75
Deleted: src/qpid/client/ReturnedMessageHandler.cpp|0 24
Deleted: src/qpid/client/ReturnedMessageHandler.h|0 49

Revision: 7c00c2ad14ec69840f8289f1c295b742416ec44e
Author: Alan Conway <aconway@apache.org>
Date: 14/08/2007 22:29:07
Message:
Deleted following files that are obsolete for 0-10: #MsgLength=520


----
Modified: src/Makefile.am|0 11
Modified: src/qpid/broker/ConnectionAdapter.cpp|0 4
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 2
Modified: src/qpid/broker/SemanticHandler.cpp|3 3
Modified: src/qpid/broker/SemanticHandler.h|1 1
Modified: src/qpid/cluster/SessionManager.cpp|1 1
Modified: src/qpid/framing/AMQFrame.cpp|1 8
Deleted: src/qpid/framing/AMQRequestBody.cpp|0 66
Deleted: src/qpid/framing/AMQRequestBody.h|0 78
Deleted: src/qpid/framing/AMQResponseBody.cpp|0 65
Deleted: src/qpid/framing/AMQResponseBody.h|0 85
Modified: src/qpid/framing/BodyHandler.cpp|0 8
Modified: src/qpid/framing/BodyHandler.h|1 8
Modified: src/qpid/framing/ChannelAdapter.cpp|1 41
Modified: src/qpid/framing/ChannelAdapter.h|3 16
Deleted: src/qpid/framing/Correlator.cpp|0 43
Deleted: src/qpid/framing/Correlator.h|0 68
Modified: src/qpid/framing/Frame.cpp|0 2
Modified: src/qpid/framing/FramingContent.h|2 0
Deleted: src/qpid/framing/MethodContext.cpp|0 34
Modified: src/qpid/framing/MethodContext.h|0 6
Deleted: src/qpid/framing/Requester.cpp|0 40
Deleted: src/qpid/framing/Requester.h|0 68
Deleted: src/qpid/framing/Responder.cpp|0 43
Deleted: src/qpid/framing/Responder.h|0 61
Modified: src/tests/FramingTest.cpp|0 170

Revision: 0974f668a0627b1f5547697dbcd15c03f4e60c32
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 00:15:26
Message:
Removed unused types: RequestId, ResponseId, MethodContext. #MsgLength=61


----
Modified: gentools/src/org/apache/qpid/gentools/AmqpMethod.java|0 9
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|8 29
Modified: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|1 1
Modified: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|1 1
Modified: rubygen/amqpgen.rb|9 0
Modified: rubygen/cppgen.rb|4 1
Modified: rubygen/templates/Proxy.rb|43 99
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/BrokerAdapter.cpp|0 13
Modified: src/qpid/broker/BrokerAdapter.h|0 1
Modified: src/qpid/broker/BrokerMessage.h|0 1
Modified: src/qpid/broker/BrokerMessageBase.h|0 1
Modified: src/qpid/broker/BrokerMessageMessage.cpp|3 6
Modified: src/qpid/broker/BrokerMessageMessage.h|2 4
Modified: src/qpid/broker/ConnectionAdapter.cpp|3 7
Modified: src/qpid/broker/ConnectionAdapter.h|1 2
Modified: src/qpid/broker/DtxHandlerImpl.cpp|0 6
Modified: src/qpid/broker/DtxHandlerImpl.h|0 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|4 5
Modified: src/qpid/broker/MessageHandlerImpl.h|2 2
Modified: src/qpid/broker/SemanticHandler.cpp|6 8
Modified: src/qpid/broker/SemanticHandler.h|3 5
Modified: src/qpid/cluster/SessionManager.cpp|3 3
Modified: src/qpid/framing/AMQMethodBody.cpp|1 1
Modified: src/qpid/framing/AMQMethodBody.h|1 2
Modified: src/qpid/framing/ChannelAdapter.cpp|2 8
Modified: src/qpid/framing/ChannelAdapter.h|2 12
Deleted: src/qpid/framing/MethodContext.h|0 69
Modified: src/tests/MockChannel.h|1 7
Modified: src/tests/ReferenceTest.cpp|2 2

Revision: f943840e687ce3bfd137ee7118138fade5b32f14
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 05:22:34
Message:
Simple inline message construction for exceptions. #MsgLength=52


----
Added: src/qpid/Msg.h|58 0

Revision: 11e4255df444c159091f6adfc0d7b15b88f7310f
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 05:25:18
Message:
Simple inline message construction for exceptions. #MsgLength=52


----
Modified: src/qpid/Exception.h|2 2

Revision: 52770d97a32a1e5c811eeac49f16fb8a56e03776
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 05:35:09
Message:
Inlined functions that should be inline. #MsgLength=42


----
Modified: src/qpid/Msg.h|7 4

Revision: fcdcb0fdfecc29bad58fb737d9013fb1c3c01a66
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 05:36:33
Message:
Fix compile error. #MsgLength=20


----
Modified: src/qpid/Msg.h|1 1

Revision: 3c802c12c4d07b4616d2faec4cf0de1f1c223bcd
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 06:32:43
Message:
Add qpid/Msg.h to sourc lists. #MsgLength=32


----
Modified: src/Makefile.am|1 0

Revision: 49b1600f048dd8c840c2bfb2350be3ad25ef4be8
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 20:26:33
Message:
Add missing files to source lists for distcheck. #MsgLength=50


----
Modified: src/Makefile.am|1 0

Revision: a8fc25a001c9a1ed9e4f9fd35bc84c178a6dde5a
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 22:56:51
Message:
	* perftest/topic_publisher.cpp, topic_listener.cpp: Combined into a single preftest.cpp executable and moved to src/tests. New perftest: - Supports all client-side options (--host, --port etc.) - Can be run as producer (--listen), consumer (--publish) or both. - --count specifies number of messages (default 500000 as before) #MsgLength=335


----
Deleted: perftest/Makefile.am|0 11
Deleted: perftest/topic_listener.cpp|0 121
Deleted: perftest/topic_publisher.cpp|0 188
Modified: src/tests/Makefile.am|7 0
Modified: src/tests/TestOptions.h|7 0
Added: src/tests/perftest.cpp|298 0

Revision: 2de14e85ad9311bb5a9fba4b2107f923c6ad69f6
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2007 23:09:25
Message:
Removed perftest from Makefile.am #MsgLength=35


----
Modified: Makefile.am|1 1

Revision: 3b755aedb74482ba7a932d3b3b957fcaf98b1d99
Author: Alan Conway <aconway@apache.org>
Date: 16/08/2007 00:14:11
Message:
Removed perftest. #MsgLength=19


----
Modified: configure.ac|0 1

Revision: 451c26c7daee3aa58dbd801ce3308360d0f2050b
Author: Alan Conway <aconway@apache.org>
Date: 16/08/2007 00:37:16
Message:
Build with -O3 -DNDEBUG for rpm release. #MsgLength=42


----
Modified: qpidc.spec.in|1 1

Revision: d570c5c66ed21cd0454c1cedff8606f69bf060f5
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2007 01:26:43
Message:
Altered old client channel to use new generated session interface (primarily to reduce the number of places where method bodies are constructed). #MsgLength=148


----
Modified: rubygen/templates/Session.rb|17 5
Modified: src/qpid/client/ClientChannel.cpp|39 70
Modified: src/qpid/client/ClientChannel.h|4 32
Modified: src/qpid/client/ConnectionImpl.cpp|2 3
Modified: src/qpid/client/Response.h|1 7

Revision: 6cb00d8660ffcba08a7bc599026190827d2ca466
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/08/2007 02:13:02
Message:
async IO for broker store #MsgLength=28


----
Modified: src/qpid/broker/BrokerQueue.cpp|30 5
Modified: src/qpid/broker/BrokerQueue.h|8 2
Modified: src/qpid/broker/MessageStore.h|21 2
Modified: src/qpid/broker/MessageStoreModule.cpp|5 0
Modified: src/qpid/broker/MessageStoreModule.h|2 0
Modified: src/qpid/broker/NullMessageStore.cpp|9 2
Modified: src/qpid/broker/NullMessageStore.h|1 0
Modified: src/qpid/broker/PersistableMessage.h|26 0
Modified: src/qpid/broker/PersistableQueue.h|12 0
Modified: src/qpid/broker/TxPublish.cpp|8 1

Revision: b34a2d7f442c11697ec632212fc70f86c1cdea31
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/08/2007 03:16:46
Message:
- async message fix in dequeue - addition of test for async enqueue of messages on BrokerQueue #MsgLength=97


----
Modified: src/qpid/broker/BrokerQueue.cpp|2 1
Modified: src/tests/QueueTest.cpp|25 0

Revision: aa3e0806cf2be0b1fb79ed756800e99438e51193
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2007 15:46:18
Message:
Bug fix for client shutdown. #MsgLength=31


----
Modified: src/qpid/client/ClientChannel.cpp|14 15

Revision: e2d6458c7e98156fe0fdb924146c12ea856003ae
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2007 17:28:20
Message:
Minor cleanup. #MsgLength=17


----
Modified: src/qpid/client/ClientChannel.cpp|0 1

Revision: 08fd9549f0aa58b5ea5fe1a5804fd810b01d6fdf
Author: Alan Conway <aconway@apache.org>
Date: 17/08/2007 04:12:33
Message:
AMQBodies are no longer allocated on the heap and passed with shared_ptr. #MsgLength=1063


----
Modified: gentools/src/org/apache/qpid/gentools/CppGenerator.java|7 6
Modified: gentools/src/org/apache/qpid/gentools/Main.java|1 3
Deleted: gentools/templ.cpp/AMQP_MethodVersionMap.h.tmpl|0 57
Modified: gentools/templ.cpp/MethodBodyClass.h.tmpl|13 11
Modified: rubygen/amqpgen.rb|3 6
Modified: rubygen/cppgen.rb|7 2
Added: rubygen/templates/MethodBodyConstVisitor.rb|27 0
Modified: rubygen/templates/MethodHolder.rb|28 9
Modified: rubygen/templates/Proxy.rb|1 1
Modified: rubygen/templates/Session.rb|2 2
Added: rubygen/templates/all_method_bodies.rb|21 0
Modified: src/Makefile.am|6 2
Modified: src/qpid/broker/BrokerChannel.cpp|3 3
Modified: src/qpid/broker/BrokerChannel.h|3 3
Modified: src/qpid/broker/BrokerMessage.cpp|30 29
Modified: src/qpid/broker/BrokerMessage.h|5 3
Modified: src/qpid/broker/BrokerMessageBase.h|4 9
Modified: src/qpid/broker/BrokerMessageMessage.cpp|113 119
Modified: src/qpid/broker/BrokerMessageMessage.h|5 10
Modified: src/qpid/broker/ConnectionAdapter.cpp|2 2
Modified: src/qpid/broker/ConnectionAdapter.h|4 4
Modified: src/qpid/broker/Content.h|1 1
Modified: src/qpid/broker/InMemoryContent.cpp|12 14
Modified: src/qpid/broker/InMemoryContent.h|4 3
Modified: src/qpid/broker/LazyLoadedContent.cpp|3 3
Modified: src/qpid/broker/LazyLoadedContent.h|1 1
Modified: src/qpid/broker/MessageBuilder.cpp|2 2
Modified: src/qpid/broker/MessageBuilder.h|2 2
Modified: src/qpid/broker/MessageHandlerImpl.cpp|2 3
Modified: src/qpid/broker/Reference.cpp|3 3
Modified: src/qpid/broker/Reference.h|4 3
Modified: src/qpid/broker/SemanticHandler.cpp|11 13
Modified: src/qpid/broker/SemanticHandler.h|14 6
Modified: src/qpid/client/ChannelHandler.cpp|22 22
Modified: src/qpid/client/ChannelHandler.h|1 7
Modified: src/qpid/client/ClientChannel.cpp|5 5
Modified: src/qpid/client/Connection.h|1 0
Modified: src/qpid/client/ConnectionHandler.cpp|32 33
Modified: src/qpid/client/ConnectionHandler.h|5 3
Modified: src/qpid/client/Correlator.cpp|1 1
Modified: src/qpid/client/Correlator.h|2 2
Modified: src/qpid/client/ExecutionHandler.cpp|22 18
Modified: src/qpid/client/ExecutionHandler.h|2 2
Modified: src/qpid/client/FutureResponse.cpp|4 4
Modified: src/qpid/client/FutureResponse.h|4 4
Modified: src/qpid/client/ReceivedContent.cpp|11 10
Modified: src/qpid/client/ReceivedContent.h|10 18
Modified: src/qpid/client/Response.h|2 2
Modified: src/qpid/client/SessionCore.cpp|2 2
Modified: src/qpid/client/SessionCore.h|2 2
Modified: src/qpid/cluster/ClassifierHandler.cpp|3 3
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/SessionManager.cpp|6 6
Modified: src/qpid/framing/AMQBody.h|48 29
Modified: src/qpid/framing/AMQContentBody.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.h|2 3
Modified: src/qpid/framing/AMQFrame.cpp|63 54
Modified: src/qpid/framing/AMQFrame.h|54 33
Modified: src/qpid/framing/AMQHeaderBody.cpp|11 31
Modified: src/qpid/framing/AMQHeaderBody.h|7 9
Modified: src/qpid/framing/AMQHeartbeatBody.h|1 2
Modified: src/qpid/framing/AMQMethodBody.cpp|1 41
Modified: src/qpid/framing/AMQMethodBody.h|25 42
Modified: src/qpid/framing/BasicHeaderProperties.h|1 1
Renamed: src/qpid/framing/Blob.cpp [from src/qpid/framing/Frame.h]|7 49
Modified: src/qpid/framing/Blob.h|41 14
Modified: src/qpid/framing/BodyHandler.cpp|8 5
Modified: src/qpid/framing/BodyHandler.h|7 5
Modified: src/qpid/framing/ChannelAdapter.cpp|4 1
Modified: src/qpid/framing/ChannelAdapter.h|3 3
Deleted: src/qpid/framing/Frame.cpp|0 117
Modified: src/qpid/framing/HeaderProperties.h|1 1
Modified: src/qpid/framing/MethodHolder.cpp|8 6
Modified: src/qpid/framing/MethodHolder.h|32 22
Modified: src/qpid/framing/amqp_framing.h|0 1
Modified: src/qpid/framing/amqp_types.h|0 2
Modified: src/qpid/shared_ptr.h|2 0
Modified: src/qpid/sys/posix/Socket.cpp|3 1
Modified: src/tests/BrokerChannelTest.cpp|12 12
Modified: src/tests/Cluster.cpp|4 4
Modified: src/tests/Cluster.h|0 2
Modified: src/tests/Cluster_child.cpp|1 1
Modified: src/tests/FramingTest.cpp|27 66
Modified: src/tests/InMemoryContentTest.cpp|4 5
Modified: src/tests/InProcessBroker.h|1 1
Modified: src/tests/LazyLoadedContentTest.cpp|2 1
Modified: src/tests/Makefile.am|0 5
Modified: src/tests/MessageBuilderTest.cpp|23 23
Modified: src/tests/MessageTest.cpp|9 8
Modified: src/tests/MockChannel.h|4 7
Modified: src/tests/ReferenceTest.cpp|8 14
Modified: src/tests/TxAckTest.cpp|2 1
Modified: src/tests/TxPublishTest.cpp|2 1
Deleted: src/tests/Visitor.cpp|0 58

Revision: cac98c914c6d6dcfe9d29dcc3bb184ee221f729f
Author: Alan Conway <aconway@apache.org>
Date: 17/08/2007 04:30:51
Message:
rubygen/templates/Session.rb: apply fixes that were mistakenly made to the generated file. #MsgLength=92


----
Modified: rubygen/templates/Session.rb|1 1

Revision: 9f27b023d295696a822d1f123b047c7b37648d00
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/08/2007 04:57:43
Message:
- Fix for asyncIO for store - Fix for dtx async IO recover - Temp patch for Tx commit ( existing bug uncovered ) - All store tests should be working again #MsgLength=458


----
Modified: src/qpid/broker/BrokerQueue.cpp|6 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 0
Modified: src/tests/TxPublishTest.cpp|11 3

Revision: 93507fb7e8ad14ea2dad71087faa7b99399c06c0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/08/2007 22:51:24
Message:
- corrected getMessageCount() for async messages - added test for async message count. #MsgLength=89


----
Modified: src/qpid/broker/BrokerQueue.cpp|8 1
Modified: src/tests/QueueTest.cpp|16 0

Revision: 238011c7dab4cfbc62310e98ccc81311590a7f06
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/08/2007 23:00:05
Message:
fix for new heap model #MsgLength=23


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: 8015c4326d8177060f799af4fbdfcf7caf985cc2
Author: Alan Conway <aconway@apache.org>
Date: 17/08/2007 23:52:07
Message:
	* Fixes for code generation. - Generate make fragments in $(srcdir) to fix VPATH builds. - rubygen: generates its own .mk fragment - rubygen: moved template info from Makefile.am to generated rubygen.mk, fixes circular dependency between Makefile and rubygen.mk - removed unused templates. #MsgLength=300


----
Modified: bootstrap|9 2
Modified: rubygen/amqpgen.rb|8 1
Modified: rubygen/generate|40 4
Deleted: rubygen/templates/ClassBodyVariant.rb|0 29
Deleted: rubygen/templates/method_variants.rb|0 72
Modified: src/Makefile.am|13 38
Modified: src/generate.sh|2 1

Revision: 5afbeab4ac4475c9b6d14d5c43e709d8366e20a9
Author: Alan Conway <aconway@apache.org>
Date: 18/08/2007 01:14:34
Message:
	* Respect the GENERATE automake conditional in generated rubygen.mk #MsgLength=70


----
Modified: rubygen/generate|3 1

Revision: fccb7e42b2b0170b6a3f1fafbb8325a119a7b006
Author: Alan Conway <aconway@apache.org>
Date: 18/08/2007 03:04:14
Message:
Fix cluster code for heap reuduction commit. #MsgLength=46


----
Modified: README|9 16
Modified: configure.ac|0 2
Modified: src/qpid/cluster/ClassifierHandler.cpp|1 1
Modified: src/qpid/cluster/SessionManager.cpp|1 1
Modified: src/tests/Cluster.cpp|1 0

Revision: b1ac10a48c9da9edf3df1ac1a0074509c9f3cc02
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/08/2007 03:55:06
Message:
- few more clean-ups for async message store. #MsgLength=48


----
Modified: src/qpid/broker/BrokerQueue.cpp|1 1
Modified: src/qpid/broker/RecoveredDequeue.cpp|1 0
Modified: src/qpid/broker/RecoveredEnqueue.cpp|1 0

Revision: 9ce756e1b4e0baf1b3ab9b1cbbf380e3430fbe5c
Author: Alan Conway <aconway@apache.org>
Date: 18/08/2007 04:24:19
Message:
Fix memory leak in client_test, caused by bug in Blob.h. #MsgLength=58


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/framing/Blob.h|12 9

Revision: 312de774b778c75facfc8bd18306a76e1631f462
Author: Alan Conway <aconway@apache.org>
Date: 18/08/2007 11:34:09
Message:
	* src/qpid/framing/MethodHolder.h * src/qpid/framing/Blob.h - add empty() test - get() returns 0 when empty #MsgLength=221


----
Modified: src/qpid/client/Response.h|2 1
Modified: src/qpid/framing/Blob.h|12 8
Modified: src/qpid/framing/MethodHolder.cpp|8 0
Modified: src/qpid/framing/MethodHolder.h|7 7
Added: src/tests/quick_perftest|2 0

Revision: 83d1e530cd89598fc832a3da020088fd3a4e8e3b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/08/2007 08:41:50
Message:
 r1036@fuschia:  andrew | 2007-08-20 01:41:12 +0100 Small fixes to allow code to compile #MsgLength=91


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/framing/AMQContentBody.h|1 1

Revision: d4008ca832290d74dfad2211bfb221400bcd12da
Author: Alan Conway <aconway@apache.org>
Date: 20/08/2007 21:09:46
Message:
	* qpidc.spec.in: Fix rpmlint "macro in changelog" warning. * etc/qpidd: Put description on one line. Continuation line causing rpmlint to barf with "wrong-line-in-lsb-tag * configure.ac: Fix typo. #MsgLength=202


----
Modified: configure.ac|1 1
Modified: etc/qpidd|1 2
Modified: qpidc.spec.in|1 1

Revision: 0c8f09efd6e65b2d73f11d93fa43e3bb4b63cb91
Author: Alan Conway <aconway@apache.org>
Date: 20/08/2007 21:27:15
Message:
If neither --listen nor --publish is specified, do both. #MsgLength=58


----
Modified: src/tests/perftest.cpp|2 0

Revision: b14cc4157e5b80a0469ddf715d60de8607b13ec9
Author: Alan Conway <aconway@apache.org>
Date: 20/08/2007 21:28:55
Message:
get() returns 0 if Blob is empty. #MsgLength=35


----
Modified: src/qpid/framing/Blob.h|1 1

Revision: 589e6fd5af231bf669ed9b42f25cff1d388ea421
Author: Alan Conway <aconway@apache.org>
Date: 20/08/2007 21:40:10
Message:
Undo over-hasty commit #MsgLength=23


----
Modified: src/qpid/framing/Blob.h|1 1

Revision: bbe44af1a908d1127698919415277a65ad00809c
Author: Alan Conway <aconway@apache.org>
Date: 21/08/2007 01:18:52
Message:
Fixed Blob bug causing test crashes/hangs. #MsgLength=44


----
Modified: src/qpid/framing/Blob.cpp|1 0
Modified: src/qpid/framing/Blob.h|35 21
Modified: src/qpid/framing/MethodHolder.cpp|2 2
Modified: src/qpid/framing/MethodHolder.h|1 1
Added: src/tests/Blob|0 0
Added: src/tests/Blob.cpp|125 0
Modified: src/tests/Makefile.am|7 6

Revision: 9de024ce34c9c1e05b2f61499c685db8ab6b48b1
Author: Gordon Sim <gsim@apache.org>
Date: 21/08/2007 23:51:41
Message:
Refresh of transitional xml to more closely reflect latest specification Initial execution-result support (not yet handled on c++ client) Generation is now all done through the ruby code (it is a little slower at present I'm afraid, will try to speed it up over the next weeks) #MsgLength=280


----
Modified: README|1 1
Deleted: gentools/README|0 61
Deleted: gentools/build|0 15
Deleted: gentools/build.xml|0 34
Deleted: gentools/src/org/apache/qpid/gentools/AmqpClass.java|0 151
Deleted: gentools/src/org/apache/qpid/gentools/AmqpClassMap.java|0 29
Deleted: gentools/src/org/apache/qpid/gentools/AmqpConstant.java|0 205
Deleted: gentools/src/org/apache/qpid/gentools/AmqpConstantSet.java|0 133
Deleted: gentools/src/org/apache/qpid/gentools/AmqpDomain.java|0 78
Deleted: gentools/src/org/apache/qpid/gentools/AmqpDomainMap.java|0 119
Deleted: gentools/src/org/apache/qpid/gentools/AmqpDomainVersionMap.java|0 58
Deleted: gentools/src/org/apache/qpid/gentools/AmqpField.java|0 156
Deleted: gentools/src/org/apache/qpid/gentools/AmqpFieldMap.java|0 348
Deleted: gentools/src/org/apache/qpid/gentools/AmqpFlagMap.java|0 84
Deleted: gentools/src/org/apache/qpid/gentools/AmqpMethod.java|0 204
Deleted: gentools/src/org/apache/qpid/gentools/AmqpMethodMap.java|0 36
Deleted: gentools/src/org/apache/qpid/gentools/AmqpModel.java|0 80
Deleted: gentools/src/org/apache/qpid/gentools/AmqpOrdinalFieldMap.java|0 89
Deleted: gentools/src/org/apache/qpid/gentools/AmqpOrdinalVersionMap.java|0 72
Deleted: gentools/src/org/apache/qpid/gentools/AmqpOverloadedParameterMap.java|0 29
Deleted: gentools/src/org/apache/qpid/gentools/AmqpTemplateException.java|0 30
Deleted: gentools/src/org/apache/qpid/gentools/AmqpTypeMappingException.java|0 30
Deleted: gentools/src/org/apache/qpid/gentools/AmqpVersion.java|0 68
Deleted: gentools/src/org/apache/qpid/gentools/AmqpVersionSet.java|0 74
Deleted: gentools/src/org/apache/qpid/gentools/CppGenerator.java|0 1693
Deleted: gentools/src/org/apache/qpid/gentools/DotnetGenerator.java|0 339
Deleted: gentools/src/org/apache/qpid/gentools/Generator.java|0 429
Deleted: gentools/src/org/apache/qpid/gentools/JavaGenerator.java|0 1702
Deleted: gentools/src/org/apache/qpid/gentools/LanguageConverter.java|0 39
Deleted: gentools/src/org/apache/qpid/gentools/Main.java|0 347
Deleted: gentools/src/org/apache/qpid/gentools/NodeAware.java|0 46
Deleted: gentools/src/org/apache/qpid/gentools/Printable.java|0 28
Deleted: gentools/src/org/apache/qpid/gentools/TargetDirectoryException.java|0 30
Deleted: gentools/src/org/apache/qpid/gentools/Utils.java|0 153
Deleted: gentools/src/org/apache/qpid/gentools/VersionConsistencyCheck.java|0 26
Deleted: gentools/templ.cpp/AMQP_ClientOperations.h.tmpl|0 64
Deleted: gentools/templ.cpp/AMQP_Constants.h.tmpl|0 34
Deleted: gentools/templ.cpp/AMQP_MethodVersionMap.cpp.tmpl|0 62
Deleted: gentools/templ.cpp/AMQP_ServerOperations.h.tmpl|0 72
Deleted: gentools/templ.cpp/MethodBodyClass.h.tmpl|0 115
Deleted: gentools/templ.java/AmqpConstantsClass.tmpl|0 37
Deleted: gentools/templ.java/MethodBodyClass.tmpl|0 180
Deleted: gentools/templ.java/MethodRegistryClass.tmpl|0 125
Deleted: gentools/templ.java/PropertyContentHeaderClass.tmpl|0 207
Deleted: gentools/templ.java/ProtocolVersionListClass.tmpl|0 38
Deleted: gentools/xml-src/amqp-0.10.test.xml|0 4241
Deleted: gentools/xml-src/amqp-0.8.test.xml|0 3959
Deleted: gentools/xml-src/amqp-0.9.test.xml|0 4282
Deleted: gentools/xml-src/cluster-0.9.test.xml|0 59
Modified: rubygen/amqpgen.rb|62 3
Modified: rubygen/cppgen.rb|30 1
Modified: rubygen/generate|11 1
Deleted: rubygen/samples/runme|0 18
Added: rubygen/templates/InvocationVisitor.rb|105 0
Renamed: rubygen/templates/Operations.rb [from rubygen/samples/Operations.rb]|37 14
Modified: rubygen/templates/Session.rb|3 3
Added: rubygen/templates/structs.rb|345 0
Modified: src/Makefile.am|9 24
Modified: src/qpid/broker/BrokerAdapter.cpp|29 28
Modified: src/qpid/broker/BrokerAdapter.h|16 20
Modified: src/qpid/broker/BrokerChannel.cpp|1 1
Modified: src/qpid/broker/BrokerQueue.h|3 1
Modified: src/qpid/broker/DtxHandlerImpl.cpp|27 36
Modified: src/qpid/broker/DtxHandlerImpl.h|11 11
Modified: src/qpid/broker/MessageHandlerImpl.cpp|16 4
Modified: src/qpid/broker/MessageHandlerImpl.h|16 10
Modified: src/qpid/broker/SemanticHandler.cpp|39 5
Modified: src/qpid/broker/SemanticHandler.h|4 1
Modified: src/qpid/client/ClientChannel.cpp|13 9
Modified: src/qpid/client/ClientChannel.h|4 1
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/ExecutionHandler.cpp|21 1
Modified: src/qpid/client/ExecutionHandler.h|4 1
Renamed: src/qpid/framing/AMQP_HighestVersion.h [from gentools/templ.cpp/AMQP_HighestVersion.h.tmpl]|3 5
Renamed: src/qpid/framing/StructHelper.h [from gentools/src/org/apache/qpid/gentools/AmqpParseException.java]|34 8
Modified: src/qpid/framing/amqp_types_full.h|1 0
Deleted: src/tests/Blob|0 0
Modified: src/tests/Cluster_child.cpp|1 1

Revision: def4ef1f01bce5cdcf7522427bd9b3b88ab64ee0
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2007 00:07:08
Message:
Create directory for generated files #MsgLength=39


----
Modified: rubygen/amqpgen.rb|1 1

Revision: ce1dab3fe32471f642dc9aa51fe9e5caad9fcb86
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2007 00:37:32
Message:
updated rule to reflect new location for generated file #MsgLength=58


----
Modified: src/Makefile.am|1 1

Revision: 75deeebee4ecf737780fead2fc83431ee907e520
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2007 02:02:03
Message:
Don't add the generated files to nobase_include_HEADERS they are already in EXTRA_DIST #MsgLength=89


----
Modified: src/Makefile.am|0 1

Revision: 0bd1fc359aaa14e143fcb8f294ce14f17e134ddd
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/08/2007 03:11:07
Message:
- header correction for buffer - added tests for one msg to multiple queue in async mode - added counter for async multiple msg #MsgLength=130


----
Modified: src/qpid/broker/BrokerQueue.cpp|1 0
Modified: src/qpid/broker/PersistableMessage.h|20 1
Modified: src/qpid/framing/StructHelper.h|1 0
Modified: src/tests/BrokerChannelTest.cpp|33 0

Revision: 8440c01e5d7e0ac027f83c3d37422df16c4fdbec
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2007 04:11:20
Message:
Invocation now uses the visitor mechanism #MsgLength=44


----
Modified: rubygen/templates/structs.rb|0 39
Modified: src/qpid/framing/AMQMethodBody.cpp|15 0
Modified: src/qpid/framing/AMQMethodBody.h|2 2

Revision: 1a416bc94073d576dc469bc7684f351de2723f3e
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2007 05:52:31
Message:
Undo revision 568249, causing tests to hang. #MsgLength=310


----
Modified: rubygen/templates/structs.rb|39 0
Modified: src/qpid/framing/AMQMethodBody.cpp|0 15
Modified: src/qpid/framing/AMQMethodBody.h|2 2

Revision: 23c135e031d3e373bfec6e0684a4f3154c30ed0e
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2007 07:35:23
Message:
	* src/qpid/sys/Serializer.h, .cpp: Template Serializer on functor for execute(). Old Serializer equivalent to Serializer<boost::function<void()> > #MsgLength=267


----
Modified: src/qpid/broker/BrokerQueue.cpp|1 1
Modified: src/qpid/broker/BrokerQueue.h|8 2
Modified: src/qpid/sys/Serializer.cpp|5 66
Modified: src/qpid/sys/Serializer.h|105 25
Modified: src/tests/Serializer.cpp|9 8

Revision: 806a8f4239575df65c593b63c4141864a486fa97
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2007 16:54:54
Message:
Reapply rev 568249 with the changes made to the generator this time, rather than the generated file itself. #MsgLength=110


----
Modified: rubygen/templates/InvocationVisitor.rb|2 2
Modified: rubygen/templates/structs.rb|0 39
Modified: src/qpid/framing/AMQMethodBody.cpp|15 0
Modified: src/qpid/framing/AMQMethodBody.h|2 2

Revision: 1f3e70afe7fd44da7ef3a0824b344c1219391524
Author: Alan Conway <aconway@apache.org>
Date: 23/08/2007 03:18:17
Message:
* specs/amqp-transitional.0-10.xml: Removed ping and pong methods. They have been removed from the spec. #MsgLength=196


----
Modified: src/tests/Cluster.cpp|7 7
Modified: src/tests/Cluster_child.cpp|5 5

Revision: f851afce92ca42fcaf787f0c1405fbe0b5191697
Author: Alan Conway <aconway@apache.org>
Date: 23/08/2007 21:31:06
Message:
qpid::ignore Blob #MsgLength=19


----

Revision: a969651e60bd5e666c459f4d957e862bb4bb15fb
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 24/08/2007 04:48:23
Message:
removed un-used code #MsgLength=21


----
Modified: src/qpid/broker/Connection.cpp|0 6
Modified: src/qpid/broker/Connection.h|0 1

Revision: a8c61485fc786e6feee6b2139246cb491430b7b5
Author: Alan Conway <aconway@apache.org>
Date: 25/08/2007 05:04:14
Message:
	* src/qpid/broker/Daemon.cpp: Additional logging. * configure.ac: Fixed problem with openais check. * src/tests/test_env: Remove LD_PRELOAD dlclose_noop, only for CppUnit. * src/tests/run-unit-tests: Added LD_PRELOAD dlclose_noop. #MsgLength=236


----
Modified: configure.ac|1 1
Modified: src/qpid/broker/Daemon.cpp|38 25
Modified: src/tests/run-unit-tests|3 1
Modified: src/tests/test_env|1 3

Revision: ad25996f84eb8ab06f612c1260c22f1f8fc13038
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2007 20:56:29
Message:
	* rubygen/amqpgen.rb: Performance and API improvements. #MsgLength=1510


----
Modified: rubygen/amqpgen.rb|145 151
Modified: rubygen/cppgen.rb|88 78
Modified: rubygen/generate|2 2
Modified: rubygen/templates/InvocationVisitor.rb|9 9
Modified: rubygen/templates/MethodBodyConstVisitor.rb|2 2
Modified: rubygen/templates/MethodHolder.rb|6 6
Modified: rubygen/templates/Operations.rb|11 12
Modified: rubygen/templates/Proxy.rb|7 7
Modified: rubygen/templates/Session.rb|6 6
Modified: rubygen/templates/all_method_bodies.rb|1 1
Modified: rubygen/templates/frame_body_lists.rb|1 1
Modified: rubygen/templates/structs.rb|23 37
Modified: src/qpid/framing/amqp_types_full.h|1 0
Modified: xml/cluster.xml|1 1

Revision: 85fdaa33ae1cf06e7cbc5359cd4fef61a20d2638
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2007 21:31:41
Message:
	* rubygen/cppgen.rb: Use uint rather than u_int form for consistency. * rubygen/amqpgen.rb: Removed unnecessary sorting. #MsgLength=124


----
Modified: rubygen/amqpgen.rb|0 6
Modified: rubygen/cppgen.rb|8 7
Modified: rubygen/templates/structs.rb|1 1

Revision: 7943bedefcea92ff27433e7d126162c66abda5d4
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2007 21:50:17
Message:
	* src/qpid/framing/FrameDefaultVisitor.h: Visitor for all concrete frame body types. Override to handle specific bodies (methods or header/content) and provide default handling for others. #MsgLength=392


----
Added: rubygen/MethodBodyDefaultVisitor.rb|34 0
Added: src/qpid/framing/FrameDefaultVisitor.h|56 0

Revision: c9b0fd7b1271408c7ec973bb8716074427a1c9cb
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 27/08/2007 23:25:17
Message:
- cache the exchange on a given Channel #MsgLength=42


----
Modified: src/qpid/broker/BrokerChannel.cpp|15 5
Modified: src/qpid/broker/BrokerChannel.h|5 0

Revision: e516bef041f0b1b050d3e2510583445400d2d58c
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2007 23:52:47
Message:
	* src/qpid/broker/SessionState.h: State of a session. * src/qpid/broker/SuspendedSessions.h, .cpp: Stores suspended sessions. * src/tests/Session.cpp: Test session classes. #MsgLength=177


----
Modified: src/Makefile.am|4 0
Added: src/qpid/broker/SessionState.h|57 0
Added: src/qpid/broker/SuspendedSessions.cpp|58 0
Added: src/qpid/broker/SuspendedSessions.h|59 0
Modified: src/tests/Makefile.am|5 0
Added: src/tests/Session.cpp|59 0

Revision: 9555bfafba8c278ccb21db648d6dcdb62729ebf4
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2007 23:54:27
Message:
svn:ignore #MsgLength=12


----

Revision: 462bc4edc89193e08fb377369550ee704e819821
Author: Alan Conway <aconway@apache.org>
Date: 28/08/2007 04:39:35
Message:
	* src/qpid/framing/FrameDefaultVisitor.h: A visitor for all concrete frame body types. #MsgLength=365


----
Modified: rubygen/cppgen.rb|6 0
Added: rubygen/templates/MethodBodyDefaultVisitor.rb|34 0
Modified: src/Makefile.am|3 1
Added: src/qpid/broker/SessionAdapter.cpp|88 0
Added: src/qpid/broker/SessionAdapter.h|65 0
Modified: src/qpid/broker/SessionState.h|22 9
Modified: src/qpid/broker/SuspendedSessions.cpp|15 13
Modified: src/qpid/framing/FrameDefaultVisitor.h|12 2
Modified: src/tests/Session.cpp|10 6

Revision: 23a922064a03b81e0f8f4d8311fac0ceda3bebc1
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 28/08/2007 05:02:11
Message:
- perf clean up. #MsgLength=19


----
Modified: src/qpid/broker/BrokerAdapter.cpp|6 9
Modified: src/qpid/broker/BrokerChannel.cpp|3 1

Revision: 0f0811014ec3a7596992bd66df50a055fda500c0
Author: Alan Conway <aconway@apache.org>
Date: 28/08/2007 05:38:40
Message:
* Fix compile errors. #MsgLength=23


----
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/SessionAdapter.h|19 16
Modified: src/qpid/framing/FrameDefaultVisitor.h|12 8

Revision: 9a2f32c3568423406bcdf5e802f40842e3a2376b
Author: Alan Conway <aconway@apache.org>
Date: 28/08/2007 05:45:02
Message:
* Fix compile errors. #MsgLength=23


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/SessionAdapter.cpp|4 0
Modified: src/qpid/broker/SessionAdapter.h|2 4

Revision: 55249880a37b62eaaac2e8eba1a288eeb797940e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/08/2007 01:56:48
Message:
Updated ignores #MsgLength=17


----

Revision: 3dc97af2473a3701fe0a3285228de954ec37b535
Author: Gordon Sim <gsim@apache.org>
Date: 29/08/2007 03:38:17
Message:
Updated message.transfer encoding to use header and content segments (including new structs). Unified more between the basic and message classes messages. #MsgLength=158


----
Modified: rubygen/templates/InvocationVisitor.rb|2 6
Modified: rubygen/templates/Operations.rb|4 8
Modified: rubygen/templates/Session.rb|1 1
Modified: rubygen/templates/structs.rb|20 0
Modified: src/Makefile.am|12 16
Modified: src/qpid/broker/AccumulatedAck.h|3 4
Modified: src/qpid/broker/BrokerAdapter.cpp|4 15
Modified: src/qpid/broker/BrokerAdapter.h|0 3
Modified: src/qpid/broker/BrokerChannel.cpp|7 45
Modified: src/qpid/broker/BrokerChannel.h|8 17
Modified: src/qpid/broker/BrokerExchange.h|1 1
Deleted: src/qpid/broker/BrokerMessage.cpp|0 299
Deleted: src/qpid/broker/BrokerMessage.h|0 146
Deleted: src/qpid/broker/BrokerMessageBase.h|0 168
Deleted: src/qpid/broker/BrokerMessageMessage.cpp|0 328
Deleted: src/qpid/broker/BrokerMessageMessage.h|0 90
Modified: src/qpid/broker/BrokerQueue.cpp|1 1
Modified: src/qpid/broker/BrokerQueue.h|2 1
Deleted: src/qpid/broker/CompletionHandler.h|0 39
Modified: src/qpid/broker/Consumer.h|1 1
Modified: src/qpid/broker/DeliverableMessage.h|1 1
Modified: src/qpid/broker/DeliveryAdapter.h|1 1
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Modified: src/qpid/broker/DirectExchange.h|0 1
Modified: src/qpid/broker/FanOutExchange.h|0 1
Modified: src/qpid/broker/HeadersExchange.h|0 1
Deleted: src/qpid/broker/LazyLoadedContent.h|0 50
Added: src/qpid/broker/Message.cpp|195 0
Added: src/qpid/broker/Message.h|139 0
Added: src/qpid/broker/MessageAdapter.h|108 0
Modified: src/qpid/broker/MessageBuilder.cpp|47 38
Modified: src/qpid/broker/MessageBuilder.h|18 20
Added: src/qpid/broker/MessageDelivery.cpp|140 0
Renamed: src/qpid/broker/MessageDelivery.h [from src/qpid/broker/Content.h]|27 31
Modified: src/qpid/broker/MessageHandlerImpl.cpp|6 19
Modified: src/qpid/broker/MessageHandlerImpl.h|1 6
Modified: src/qpid/broker/MessageStoreModule.h|0 1
Modified: src/qpid/broker/NameGenerator.h|1 1
Modified: src/qpid/broker/NullMessageStore.h|0 1
Modified: src/qpid/broker/PersistableExchange.h|1 1
Modified: src/qpid/broker/PersistableMessage.h|5 4
Modified: src/qpid/broker/RecoveredDequeue.h|1 1
Modified: src/qpid/broker/RecoveredEnqueue.h|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 21
Modified: src/qpid/broker/RecoveryManagerImpl.h|0 4
Deleted: src/qpid/broker/Reference.cpp|0 53
Deleted: src/qpid/broker/Reference.h|0 115
Modified: src/qpid/broker/SemanticHandler.cpp|123 75
Modified: src/qpid/broker/SemanticHandler.h|11 1
Modified: src/qpid/broker/TopicExchange.h|0 1
Modified: src/qpid/broker/TxPublish.h|2 2
Modified: src/qpid/client/ChannelHandler.cpp|2 2
Modified: src/qpid/client/ClientChannel.cpp|4 4
Modified: src/qpid/client/ClientChannel.h|1 1
Modified: src/qpid/client/ClientMessage.h|16 0
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.cpp|10 11
Modified: src/qpid/client/ExecutionHandler.h|3 3
Modified: src/qpid/client/SessionCore.cpp|1 1
Modified: src/qpid/client/SessionCore.h|2 2
Modified: src/qpid/cluster/Cluster.cpp|1 2
Modified: src/qpid/cluster/SessionManager.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.h|1 0
Modified: src/qpid/framing/AMQDataBlock.h|1 1
Modified: src/qpid/framing/AMQFrame.cpp|6 3
Modified: src/qpid/framing/AMQFrame.h|12 7
Modified: src/qpid/framing/AMQHeaderBody.cpp|48 20
Modified: src/qpid/framing/AMQHeaderBody.h|81 14
Modified: src/qpid/framing/AMQMethodBody.h|1 0
Modified: src/qpid/framing/BasicHeaderProperties.cpp|34 1
Modified: src/qpid/framing/BasicHeaderProperties.h|9 1
Modified: src/qpid/framing/ChannelAdapter.cpp|1 1
Renamed: src/qpid/framing/FrameSet.cpp [from src/qpid/client/ReceivedContent.cpp]|32 54
Added: src/qpid/framing/FrameSet.h|102 0
Modified: src/qpid/framing/ProtocolInitiation.cpp|1 1
Modified: src/qpid/framing/ProtocolInitiation.h|1 1
Renamed: src/qpid/framing/SendContent.cpp [from src/qpid/broker/InMemoryContent.cpp]|22 41
Renamed: src/qpid/framing/SendContent.h [from src/qpid/client/ReceivedContent.h]|14 36
Renamed: src/qpid/framing/TypeFilter.h [from src/qpid/broker/InMemoryContent.h]|24 18
Added: src/qpid/framing/frame_functors.h|108 0
Modified: src/tests/BrokerChannelTest.cpp|35 62
Modified: src/tests/Cluster.cpp|4 4
Modified: src/tests/Cluster_child.cpp|1 1
Modified: src/tests/ExchangeTest.cpp|2 1
Modified: src/tests/FramingTest.cpp|2 3
Modified: src/tests/HeaderTest.cpp|15 12
Deleted: src/tests/InMemoryContentTest.cpp|0 91
Deleted: src/tests/LazyLoadedContentTest.cpp|0 113
Modified: src/tests/Makefile.am|1 3
Modified: src/tests/MessageBuilderTest.cpp|137 147
Modified: src/tests/MessageTest.cpp|35 30
Renamed: src/tests/MessageUtils.h [from src/qpid/broker/LazyLoadedContent.cpp]|25 40
Modified: src/tests/QueueTest.cpp|7 2
Deleted: src/tests/ReferenceTest.cpp|0 94
Modified: src/tests/TxAckTest.cpp|7 5
Modified: src/tests/TxPublishTest.cpp|3 4

Revision: 9dd75db57768a1bce7edd713522c6910c151daf0
Author: Alan Conway <aconway@apache.org>
Date: 29/08/2007 03:40:36
Message:
Generate constants and reply exceptions from spec constants. #MsgLength=62


----
Modified: rubygen/amqpgen.rb|8 2
Modified: rubygen/templates/Operations.rb|0 3
Added: rubygen/templates/constants.rb|42 0

Revision: 51df61c7e274d291d66ced95ccbf3a37c47b6ebb
Author: Alan Conway <aconway@apache.org>
Date: 29/08/2007 08:00:50
Message:
	* rubygen/cppgen.rb: Use class Uuid for AMQP uuids. *   rubygen/templates/structs.rb: Use class Uuid for AMQP uuids. #MsgLength=120


----
Modified: rubygen/cppgen.rb|1 3
Modified: rubygen/templates/structs.rb|1 2

Revision: 26c57d715267a3bfe5b096b68b4943d34e414c50
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2007 00:24:16
Message:
Remove Java from code generation check. #MsgLength=41


----
Modified: configure.ac|1 3

Revision: 549a655a42c7a9ee401ffa9cb2b836093b64e2c3
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2007 07:27:40
Message:
	* src/qpid/broker/Session.h, .cpp: Session holds all state of a session including handlers created for that session. Session is not directly associated with a channel. * src/qpid/broker/SessionAdapter.h, .cpp: SessionAdapter is bound to a channel managed by the Connection. It can be attached to and detatched from a Session. * src/qpid/broker/Connection.cpp, .h:  Use SessionAdapter. * src/qpid/framing/Handler.h: Removed use of shared_ptr. Handlers belong either to a Session or a Connection and are destroyed with it. * src/qpid/framing/InputHandler.h, OutputHandler.h: Both now inherit from FrameHandler and can be used as FrameHandlers. Intermediate step to removing them entirely. #MsgLength=871


----
Modified: src/Makefile.am|2 3
Modified: src/qpid/broker/Connection.cpp|15 11
Modified: src/qpid/broker/Connection.h|5 2
Modified: src/qpid/broker/ConnectionAdapter.cpp|8 8
Modified: src/qpid/broker/ConnectionAdapter.h|19 20
Modified: src/qpid/broker/MessageDelivery.cpp|3 6
Added: src/qpid/broker/Session.cpp|40 0
Added: src/qpid/broker/Session.h|60 0
Modified: src/qpid/broker/SessionAdapter.cpp|11 58
Modified: src/qpid/broker/SessionAdapter.h|25 23
Modified: src/qpid/client/ConnectionHandler.h|2 1
Modified: src/qpid/framing/ChannelAdapter.cpp|9 11
Modified: src/qpid/framing/ChannelAdapter.h|9 5
Modified: src/qpid/framing/Handler.h|74 17
Modified: src/qpid/framing/InputHandler.h|3 15
Modified: src/qpid/framing/OutputHandler.h|3 15
Modified: src/tests/Makefile.am|6 4

Revision: b89d7bfe99544306db6f554b9f6a8defa5242bee
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2007 21:23:40
Message:
	* configure.ac: Disabled cluster build temporarily while fixing build problems. * src/qpid/framing/Handler.h: Add missing default constructor. #MsgLength=146


----
Modified: configure.ac|4 0
Modified: src/qpid/framing/Handler.h|1 1

Revision: 930c3f145ef61adf7b953e9e13d5d56a1a2f6fd1
Author: Alan Conway <aconway@apache.org>
Date: 31/08/2007 01:06:44
Message:
 - Update cluster code to work with new FrameHandler - Update ClassifierHandler to  use Visitor rather than map. - Replace heap allocation in cluster classes with boost::optional. #MsgLength=183


----
Modified: configure.ac|0 4
Modified: src/qpid/cluster/ClassifierHandler.cpp|18 43
Modified: src/qpid/cluster/ClassifierHandler.h|9 7
Modified: src/qpid/cluster/Cluster.cpp|11 22
Modified: src/qpid/cluster/Cluster.h|12 14
Modified: src/qpid/cluster/ClusterPlugin.cpp|9 10
Modified: src/qpid/cluster/Cpg.cpp|7 0
Modified: src/qpid/cluster/Cpg.h|2 0
Modified: src/qpid/cluster/SessionManager.cpp|17 16
Modified: src/qpid/cluster/SessionManager.h|29 11
Modified: src/qpid/framing/FrameDefaultVisitor.h|8 15
Modified: src/tests/Cluster.cpp|8 8
Modified: src/tests/Cluster.h|1 1
Modified: src/tests/cluster.mk|5 1

Revision: a0576716145cfd4af8f0e4a5cbe1e5f867abf687
Author: Alan Conway <aconway@apache.org>
Date: 31/08/2007 07:48:37
Message:
Fix compile errors in generated code. #MsgLength=39


----
Modified: rubygen/templates/MethodBodyDefaultVisitor.rb|4 3
Modified: rubygen/templates/constants.rb|1 1

Revision: eecb17801469f43e431110949faafc9871e41243
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2007 17:36:36
Message:
Fixed bug where stale iterator is used. #MsgLength=42


----
Modified: src/qpid/broker/AccumulatedAck.cpp|5 4

Revision: 74097f0b7bc1ea309e5cc08733f780e65c7cddbc
Author: Gordon Sim <gsim@apache.org>
Date: 01/09/2007 00:45:20
Message:
Pass QueuedMessage to queues consumers. This records the position of that message in the queue which is need to handle rlease and acquire. #MsgLength=141


----
Modified: src/qpid/broker/BrokerChannel.cpp|10 8
Modified: src/qpid/broker/BrokerChannel.h|7 5
Modified: src/qpid/broker/BrokerQueue.cpp|17 21
Modified: src/qpid/broker/BrokerQueue.h|5 7
Modified: src/qpid/broker/Consumer.h|12 1
Modified: src/qpid/broker/DeliveryRecord.cpp|18 16
Modified: src/qpid/broker/DeliveryRecord.h|8 4
Modified: src/tests/BrokerChannelTest.cpp|6 6
Modified: src/tests/QueueTest.cpp|8 8
Modified: src/tests/TxAckTest.cpp|3 1
Modified: src/tests/TxPublishTest.cpp|2 2

Revision: 913d4b33b10f07fceac864f84da45755ceec340a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/09/2007 02:20:29
Message:
* Changes to make C++ client code use the asynchronous network IO * Fixed up the test for buffer changes * Removed unused buffer operations #MsgLength=141


----
Modified: src/qpid/broker/DtxHandlerImpl.cpp|8 5
Modified: src/qpid/client/Connector.cpp|121 49
Modified: src/qpid/client/Connector.h|15 7
Modified: src/qpid/framing/Buffer.cpp|24 24
Modified: src/qpid/framing/Buffer.h|6 6
Modified: src/qpid/framing/StructHelper.h|16 10
Modified: src/qpid/sys/AsynchIO.h|10 12
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|5 5
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 7
Modified: src/tests/FieldTableTest.cpp|12 8
Modified: src/tests/FramingTest.cpp|54 36
Modified: src/tests/HeaderTest.cpp|17 12
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/MessageTest.cpp|7 7
Modified: src/tests/Uuid.cpp|6 4

Revision: edd52447b7758aa783613aa7bfec83664e996912
Author: Alan Conway <aconway@apache.org>
Date: 01/09/2007 04:51:22
Message:
	* Summary: - Moved BrokerChannel functionality into Session. - Moved ChannelHandler methods handling into SessionAdapter. - Updated all handlers to use session. (We're still using AMQP channel methods in SessionAdapter) #MsgLength=808


----
Modified: rubygen/templates/constants.rb|3 3
Modified: src/Makefile.am|0 2
Modified: src/cluster.mk|15 15
Modified: src/qpid/broker/BrokerAdapter.cpp|56 84
Modified: src/qpid/broker/BrokerAdapter.h|18 38
Modified: src/qpid/broker/Connection.cpp|6 16
Modified: src/qpid/broker/Connection.h|7 9
Modified: src/qpid/broker/DeliveryRecord.cpp|3 3
Modified: src/qpid/broker/DeliveryRecord.h|33 33
Modified: src/qpid/broker/DtxHandlerImpl.cpp|7 7
Modified: src/qpid/broker/HandlerImpl.h|4 32
Modified: src/qpid/broker/MessageHandlerImpl.cpp|16 16
Modified: src/qpid/broker/SemanticHandler.cpp|42 72
Modified: src/qpid/broker/SemanticHandler.h|16 15
Modified: src/qpid/broker/Session.cpp|526 4
Modified: src/qpid/broker/Session.h|152 4
Modified: src/qpid/broker/SessionAdapter.cpp|108 7
Modified: src/qpid/broker/SessionAdapter.h|29 3
Modified: src/qpid/cluster/SessionManager.cpp|7 7
Modified: src/qpid/framing/AMQContentBody.cpp|3 0
Modified: src/qpid/framing/AMQFrame.h|4 1
Modified: src/qpid/framing/ChannelAdapter.cpp|1 1
Modified: src/qpid/framing/ChannelAdapter.h|1 4
Modified: src/tests/BrokerChannelTest.cpp|5 0
Modified: src/tests/Makefile.am|2 3
Modified: src/tests/cluster.mk|53 49

Revision: f709b42061da72dc1ea1b0b6098789fcc28edd3e
Author: Alan Conway <aconway@apache.org>
Date: 01/09/2007 04:52:56
Message:
Removed BrokerChannel.cpp, .h: replaced by Session.cpp, .h #MsgLength=60


----
Deleted: src/qpid/broker/BrokerChannel.cpp|0 524
Deleted: src/qpid/broker/BrokerChannel.h|0 181

Revision: aa3bdb5852458631dfec826f100717e071417b29
Author: Gordon Sim <gsim@apache.org>
Date: 03/09/2007 17:15:35
Message:
Fix for QPID-561 Renabled MessageBuilderTest #MsgLength=47


----
Modified: src/qpid/broker/DtxHandlerImpl.cpp|1 9
Modified: src/tests/Makefile.am|2 2

Revision: 3ff9edd58658b374b64a1673c03d6573fddcacc6
Author: Gordon Sim <gsim@apache.org>
Date: 04/09/2007 01:35:35
Message:
Initial implementation (plus very simple tests) of message.acquire, message.release, message.reject and message.flush. #MsgLength=121


----
Modified: src/qpid/broker/AccumulatedAck.h|1 1
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/BrokerQueue.cpp|83 19
Modified: src/qpid/broker/BrokerQueue.h|8 2
Modified: src/qpid/broker/Consumer.h|6 1
Modified: src/qpid/broker/DeliveryRecord.cpp|46 13
Modified: src/qpid/broker/DeliveryRecord.h|29 4
Modified: src/qpid/broker/MessageHandlerImpl.cpp|34 8
Modified: src/qpid/broker/Session.cpp|47 8
Modified: src/qpid/broker/Session.h|8 2
Modified: src/qpid/framing/SequenceNumberSet.cpp|16 0
Modified: src/qpid/framing/SequenceNumberSet.h|1 0
Modified: src/tests/TxAckTest.cpp|1 1

Revision: c8c62ad089a2e44a3f088fc102ec0f26a567f7ea
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/09/2007 05:11:50
Message:
applied Nuno's patch #MsgLength=21


----
Modified: README|1 1
Modified: configure.ac|4 0

Revision: a509665fb1ef9e3309982fead3ac3ea6a56a9e89
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/09/2007 05:21:49
Message:
- removed profiler from configure #MsgLength=36


----
Modified: configure.ac|0 3

Revision: 1c8267b1c71d14b292293ec8b8c05400db50e49d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/09/2007 18:36:17
Message:
* Tidy up framing::Buffer class #MsgLength=33


----
Modified: src/qpid/framing/Buffer.cpp|4 37
Modified: src/qpid/framing/Buffer.h|0 10

Revision: 01ea647e0420cc0fb901b179828d273373eb71f1
Author: Gordon Sim <gsim@apache.org>
Date: 07/09/2007 04:27:33
Message:
Implementation of execution.result on the client side #MsgLength=57


----
Modified: rubygen/templates/Session.rb|35 29
Modified: rubygen/templates/structs.rb|4 8
Modified: src/Makefile.am|9 4
Modified: src/qpid/broker/BrokerAdapter.cpp|0 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Modified: src/qpid/broker/DtxAck.cpp|1 1
Modified: src/qpid/broker/DtxAck.h|2 2
Modified: src/qpid/broker/Session.h|2 2
Modified: src/qpid/broker/TxAck.cpp|1 0
Modified: src/qpid/broker/TxAck.h|3 3
Modified: src/qpid/client/ClientChannel.cpp|30 35
Modified: src/qpid/client/ClientChannel.h|3 4
Modified: src/qpid/client/ClientConnection.cpp|5 7
Added: src/qpid/client/Completion.h|53 0
Modified: src/qpid/client/CompletionTracker.cpp|65 9
Modified: src/qpid/client/CompletionTracker.h|26 5
Modified: src/qpid/client/ConnectionImpl.cpp|5 4
Added: src/qpid/client/Execution.h|40 0
Modified: src/qpid/client/ExecutionHandler.cpp|63 24
Modified: src/qpid/client/ExecutionHandler.h|25 12
Added: src/qpid/client/Future.h|97 0
Modified: src/qpid/client/FutureCompletion.cpp|4 17
Modified: src/qpid/client/FutureCompletion.h|3 7
Modified: src/qpid/client/FutureResponse.cpp|4 1
Modified: src/qpid/client/FutureResponse.h|3 1
Added: src/qpid/client/FutureResult.cpp|43 0
Added: src/qpid/client/FutureResult.h|46 0
Modified: src/qpid/client/Response.h|6 13
Added: src/qpid/client/ScopedAssociation.h|53 0
Modified: src/qpid/client/SessionCore.cpp|53 41
Modified: src/qpid/client/SessionCore.h|16 6
Added: src/qpid/client/TypedResult.h|51 0
Modified: src/qpid/framing/AMQMethodBody.h|3 1
Renamed: src/qpid/framing/AccumulatedAck.cpp [from src/qpid/broker/AccumulatedAck.cpp]|15 7
Renamed: src/qpid/framing/AccumulatedAck.h [from src/qpid/broker/AccumulatedAck.h]|13 11
Modified: src/qpid/framing/StructHelper.h|1 1
Modified: src/tests/AccumulatedAckTest.cpp|4 4
Added: src/tests/ClientSessionTest.cpp|71 0
Modified: src/tests/InProcessBroker.h|1 0
Modified: src/tests/Makefile.am|3 2

Revision: 04abf87758bd02397112dbe7f26be55c67d48f3b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/09/2007 04:41:56
Message:
interface to hang external journal's per queue onto a PersistableQueue #MsgLength=73


----
Modified: src/qpid/broker/PersistableQueue.h|26 1

Revision: 45449873991d7f9be340421ee8bbeebdb36d4979
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 08/09/2007 08:14:24
Message:
updates to be able to manage lifecycle of async store #MsgLength=54


----
Modified: src/qpid/broker/MessageStore.h|2 2
Modified: src/qpid/broker/MessageStoreModule.cpp|2 2
Modified: src/qpid/broker/MessageStoreModule.h|2 2
Modified: src/qpid/broker/NullMessageStore.cpp|2 2
Modified: src/qpid/broker/NullMessageStore.h|2 2
Modified: src/qpid/broker/PersistableQueue.h|1 1

Revision: 173f0b04f22d615b495431a7dd20db4ca72b027a
Author: Gordon Sim <gsim@apache.org>
Date: 10/09/2007 16:41:05
Message:
Client side support for message and delivery properties in header segments. #MsgLength=78


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/BrokerQueue.cpp|2 2
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Message.cpp|3 3
Modified: src/qpid/broker/Message.h|3 3
Added: src/qpid/broker/MessageAdapter.cpp|87 0
Modified: src/qpid/broker/MessageAdapter.h|13 52
Modified: src/qpid/broker/MessageBuilder.cpp|31 9
Modified: src/qpid/broker/Session.cpp|2 2
Modified: src/qpid/client/ClientMessage.h|8 2
Modified: src/qpid/client/ConnectionImpl.cpp|23 11
Modified: src/qpid/client/ConnectionImpl.h|5 0
Modified: src/qpid/client/ExecutionHandler.cpp|7 10
Modified: src/qpid/client/ExecutionHandler.h|1 1
Modified: src/qpid/framing/AMQContentBody.cpp|1 1
Modified: src/qpid/framing/FrameSet.cpp|10 3
Modified: src/qpid/framing/FrameSet.h|1 0
Modified: src/qpid/framing/MethodContent.h|3 2
Added: src/qpid/framing/TransferContent.cpp|64 0
Added: src/qpid/framing/TransferContent.h|46 0
Modified: src/tests/ClientSessionTest.cpp|16 4

Revision: d836c29206228a0b803602480f458d11c14271fb
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/09/2007 23:38:39
Message:
memory clean up fix #MsgLength=20


----
Modified: src/qpid/broker/PersistableQueue.h|2 1

Revision: 54fa16d799ab485a6fede8f4e647f9af61296918
Author: Gordon Sim <gsim@apache.org>
Date: 11/09/2007 02:37:36
Message:
Support for keyword args in session interface #MsgLength=48


----
Modified: rubygen/cppgen.rb|11 6
Modified: rubygen/templates/Session.rb|71 9
Modified: src/qpid/client/ClientChannel.cpp|12 14
Modified: src/tests/ClientSessionTest.cpp|7 7

Revision: e86f84f367638319562db354c8f8d94206223123
Author: Gordon Sim <gsim@apache.org>
Date: 11/09/2007 19:25:27
Message:
Moved old ClientChannel class from using basic to using message for publish & consume. (Get and qos still use the basic class's defintions, that will be changed next) #MsgLength=169


----
Modified: rubygen/templates/structs.rb|3 0
Modified: src/qpid/client/ClientChannel.cpp|26 19
Modified: src/qpid/client/ClientChannel.h|3 1
Modified: src/qpid/client/ClientMessage.h|24 42
Modified: src/qpid/framing/TransferContent.cpp|31 0
Modified: src/qpid/framing/TransferContent.h|12 1
Modified: src/tests/interop_runner.cpp|13 23

Revision: fd86fe501574f8da345d8870aa17ed6128ec40c9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/09/2007 08:37:17
Message:
*    python/qpid/codec.py Comment typo *    cpp/src/qpid/broker/RecoveryManagerImpl.cpp Cruft removal *    python/qpid/codec.py *    python/qpid/connection.py *    cpp/src/qpid/framing/AMQFrame.h *    cpp/src/qpid/framing/AMQFrame.cpp Initial implementation of 0-10 framing - This uses the new 12 byte frame header, but doesn't support splitting segments/framesets over multiple frames yet. #MsgLength=404


----
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|0 2
Modified: src/qpid/framing/AMQFrame.cpp|46 16
Modified: src/qpid/framing/AMQFrame.h|8 3

Revision: 67118543826001ca0528381607bd989fde7211ee
Author: Gordon Sim <gsim@apache.org>
Date: 12/09/2007 22:49:12
Message:
In ClientChannel: Use subscribe and flush in place of get; use per-subscriber flow control for managing prefetches. In brokers Session: set credit to 0 when subscription is created (modified python tests accordingly) #MsgLength=219


----
Modified: rubygen/templates/structs.rb|1 1
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/BrokerQueue.cpp|1 1
Modified: src/qpid/broker/Session.cpp|2 2
Modified: src/qpid/client/BlockingQueue.h|7 1
Modified: src/qpid/client/ChannelHandler.cpp|7 3
Modified: src/qpid/client/ChannelHandler.h|4 1
Modified: src/qpid/client/ClientChannel.cpp|38 26
Modified: src/qpid/client/ClientChannel.h|4 5
Added: src/qpid/client/Demux.cpp|119 0
Added: src/qpid/client/Demux.h|96 0
Modified: src/qpid/client/Execution.h|2 0
Modified: src/qpid/client/ExecutionHandler.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.h|3 3
Added: src/qpid/client/MessageQueue.h|52 0
Modified: src/qpid/client/SessionCore.cpp|5 2
Modified: src/tests/ClientSessionTest.cpp|2 0

Revision: 79db5782697e484c26a86d86fb4cf616aee126b3
Author: Gordon Sim <gsim@apache.org>
Date: 14/09/2007 01:29:16
Message:
Use frameset begin/end flags for determining frameset boundaries. Set frameset & segment begin/end flags for content bearing methods (i.e. messages). #MsgLength=152


----
Modified: src/qpid/broker/BrokerQueue.cpp|4 1
Modified: src/qpid/broker/DeliveryRecord.cpp|26 16
Modified: src/qpid/broker/DeliveryRecord.h|2 1
Modified: src/qpid/broker/Message.cpp|13 2
Modified: src/qpid/broker/MessageDelivery.cpp|15 15
Modified: src/qpid/broker/SemanticHandler.cpp|5 4
Modified: src/qpid/broker/Session.cpp|10 8
Modified: src/qpid/client/AckMode.h|17 66
Modified: src/qpid/client/ChannelHandler.cpp|3 3
Modified: src/qpid/client/ClientChannel.cpp|13 15
Modified: src/qpid/client/ClientChannel.h|2 3
Modified: src/qpid/client/Correlator.cpp|3 2
Modified: src/qpid/client/Correlator.h|2 2
Modified: src/qpid/client/ExecutionHandler.cpp|33 16
Modified: src/qpid/client/ExecutionHandler.h|1 0
Modified: src/qpid/client/FutureResponse.cpp|1 1
Modified: src/qpid/client/FutureResponse.h|1 1
Modified: src/qpid/framing/AMQFrame.cpp|3 1
Modified: src/qpid/framing/AMQFrame.h|11 0
Modified: src/qpid/framing/FrameSet.cpp|6 13
Modified: src/qpid/framing/FrameSet.h|2 0
Modified: src/qpid/framing/SendContent.cpp|21 5
Modified: src/qpid/framing/SendContent.h|6 3
Modified: src/qpid/framing/TransferContent.cpp|4 1
Modified: src/qpid/framing/frame_functors.h|9 0
Modified: src/tests/MessageBuilderTest.cpp|10 0
Modified: src/tests/topic_listener.cpp|1 0

Revision: 9c28a06a9c036b6d25836a4e90aa9a13365abe33
Author: Gordon Sim <gsim@apache.org>
Date: 14/09/2007 22:09:08
Message:
Handle asynchronous enqueue of messages. #MsgLength=43


----
Modified: src/Makefile.am|2 0
Added: src/qpid/broker/IncomingExecutionContext.cpp|138 0
Added: src/qpid/broker/IncomingExecutionContext.h|58 0
Modified: src/qpid/broker/Message.h|2 0
Modified: src/qpid/broker/PersistableMessage.h|42 36
Modified: src/qpid/broker/SemanticHandler.cpp|21 21
Modified: src/qpid/broker/SemanticHandler.h|4 1
Modified: src/tests/QueueTest.cpp|2 0

Revision: 950507c5410151cc6ed38d01f2cab0c01d68b852
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/09/2007 02:44:27
Message:
recover support for async stores #MsgLength=33


----
Modified: src/qpid/broker/PersistableQueue.h|6 1
Modified: src/qpid/broker/RecoverableQueue.h|7 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|12 0

Revision: b7f639e99de2cec0ed0d3aff87d3b7c73e8f1ee4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/09/2007 05:09:31
Message:
convert dequeue to counter for async #MsgLength=37


----
Modified: src/qpid/broker/BrokerQueue.cpp|1 0
Modified: src/qpid/broker/PersistableMessage.h|37 8

Revision: f76417fb40cfb2abad4677f480ff8e27a341f0d8
Author: Gordon Sim <gsim@apache.org>
Date: 17/09/2007 22:08:17
Message:
Fix for race between flush and delivery. #MsgLength=43


----
Modified: src/qpid/broker/Session.cpp|6 0

Revision: 92f6e78ad6de3fe86c744997e43f16040caaaf7b
Author: Alan Conway <aconway@apache.org>
Date: 18/09/2007 04:22:55
Message:
Renamed SessionAdapter as SessionHandler. #MsgLength=43


----
Modified: src/Makefile.am|2 2
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/Connection.cpp|3 3
Modified: src/qpid/broker/Connection.h|4 4
Modified: src/qpid/broker/SemanticHandler.cpp|2 2
Modified: src/qpid/broker/Session.cpp|2 2
Modified: src/qpid/broker/Session.h|5 5
Renamed: src/qpid/broker/SessionHandler.cpp [from src/qpid/broker/SessionAdapter.cpp]|15 15
Renamed: src/qpid/broker/SessionHandler.h [from src/qpid/broker/SessionAdapter.h]|5 5
Modified: src/qpid/cluster/SessionManager.cpp|1 1

Revision: 7a832e89128abbe89e5404a99ba98f0d040353a2
Author: Gordon Sim <gsim@apache.org>
Date: 18/09/2007 22:45:33
Message:
Added Dispatcher class (plus test). This converts incoming MessageTransfer framesets to Messages and pumps them to registered listeners. #MsgLength=138


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/ClientMessage.h|23 8
Added: src/qpid/client/Dispatcher.cpp|150 0
Added: src/qpid/client/Dispatcher.h|87 0
Modified: src/qpid/framing/TransferContent.h|1 1
Modified: src/tests/ClientSessionTest.cpp|61 2

Revision: 98e9fb8c26f916b859a95ea24fb8c7db76dddc5e
Author: Alan Conway <aconway@apache.org>
Date: 18/09/2007 23:20:29
Message:
	* src/qpid/broker/SessionHandler.cpp: - Make SessionHandler an InOutHandler. - SessionHandler::out sets channel ID on frames. #MsgLength=193


----
Modified: src/qpid/broker/SessionHandler.cpp|23 22
Modified: src/qpid/broker/SessionHandler.h|25 21
Modified: src/qpid/framing/Handler.h|27 22

Revision: 1c044de57020e70c190ff8b045447619542e3b4f
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 00:05:48
Message:
	* rubygen/templates/Proxy.rb, src/qpid/framing/Proxy.cpp, Proxy.h: Drop ChannelAdapter, construct Proxy from FrameHandler. #MsgLength=378


----
Modified: rubygen/templates/Proxy.rb|10 15
Modified: src/qpid/broker/ConnectionAdapter.cpp|2 1
Modified: src/qpid/broker/HandlerImpl.h|2 1
Modified: src/qpid/framing/AMQFrame.h|4 0
Modified: src/qpid/framing/Proxy.cpp|9 4
Modified: src/qpid/framing/Proxy.h|7 9
Modified: src/qpid/framing/amqp_types.h|1 0

Revision: a91c16fd56674f2e2f9322c465a3459537e3ce08
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2007 00:53:34
Message:
Use credit mode when using NO_ACK and prefetch is not set. #MsgLength=61


----
Modified: src/qpid/client/ClientChannel.cpp|13 8

Revision: 4c2b176e56d5f10ab4e9abbbda9308cc822cb7d3
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 03:43:29
Message:
Refactor HandlerImpl to use Session rather than CoreRefs. Remove most uses of ChannelAdapter in broker code. #MsgLength=110


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/BrokerAdapter.cpp|60 66
Modified: src/qpid/broker/BrokerAdapter.h|24 19
Modified: src/qpid/broker/Connection.h|1 0
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|13 13
Modified: src/qpid/broker/DtxHandlerImpl.h|2 2
Modified: src/qpid/broker/HandlerImpl.h|27 29
Modified: src/qpid/broker/Message.cpp|5 6
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/broker/MessageDelivery.cpp|4 9
Modified: src/qpid/broker/MessageDelivery.h|2 8
Modified: src/qpid/broker/MessageHandlerImpl.cpp|21 21
Modified: src/qpid/broker/MessageHandlerImpl.h|2 2
Modified: src/qpid/broker/SemanticHandler.cpp|12 46
Modified: src/qpid/broker/SemanticHandler.h|2 19
Modified: src/qpid/broker/Session.cpp|4 6
Modified: src/qpid/broker/Session.h|2 19
Modified: src/qpid/broker/SessionHandler.cpp|3 11
Modified: src/qpid/broker/SessionHandler.h|8 8
Modified: src/qpid/framing/SendContent.cpp|2 3
Modified: src/qpid/framing/SendContent.h|1 2
Modified: src/qpid/framing/frame_functors.h|0 16

Revision: 13445d12674d62386f8f02d8d28078d6e26e7ceb
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 03:43:54
Message:
File missed in previos commit. #MsgLength=32


----
Modified: src/qpid/broker/ConnectionAdapter.h|1 1

Revision: 64623d1f17b059bf2d5d9aae364ad15ed1a48a79
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 03:44:43
Message:
File missed in previos commit. #MsgLength=32


----
Modified: src/qpid/broker/ConnectionAdapter.h|1 1

Revision: 8d651977ec0c68dfa9aba83f74a73523cebc50c2
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 04:42:36
Message:
Eliminate ChannelAdapter from broker code. #MsgLength=44


----
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/ConnectionAdapter.cpp|12 24
Modified: src/qpid/broker/ConnectionAdapter.h|4 12

Revision: 770260dc1f09cea265e1214c02c37e9c38a3ac1c
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2007 05:30:18
Message:
	* src/qpid/broker/SemanticHandler.cpp: add assert to suspect logic for execution.flush * src/tests/stop_broker: Warn rather than error on qpidd.log messages. #MsgLength=161


----
Modified: src/qpid/broker/SemanticHandler.cpp|5 6
Modified: src/tests/stop_broker|2 5

Revision: 2d55f60dd2e3903047a8d3d98cae2b2045e67c6f
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2007 16:57:19
Message:
Added HandlerImpl.h back to distributed list to get make distcheck working. #MsgLength=78


----
Modified: src/Makefile.am|1 0

Revision: 944193f5dd7278126b8fcd7525f0f8b965a7b35a
Author: Alan Conway <aconway@apache.org>
Date: 20/09/2007 06:34:11
Message:
AMQP 0-10 Session suppported on broker and client. #MsgLength=245


----
Modified: src/Makefile.am|2 2
Modified: src/qpid/broker/Session.cpp|1 0
Modified: src/qpid/broker/Session.h|5 1
Modified: src/qpid/broker/SessionHandler.cpp|70 7
Modified: src/qpid/broker/SessionHandler.h|24 6
Modified: src/qpid/client/SessionCore.cpp|1 1
Modified: src/qpid/client/SessionCore.h|2 2
Renamed: src/qpid/client/SessionHandler.cpp [from src/qpid/client/ChannelHandler.cpp]|20 23
Renamed: src/qpid/client/SessionHandler.h [from src/qpid/client/ChannelHandler.h]|6 8

Revision: 08eed832c797fae7896b924c8c6bf55b073d5473
Author: Alan Conway <aconway@apache.org>
Date: 20/09/2007 07:35:07
Message:
Fix uninitialized memory error. #MsgLength=33


----
Modified: src/qpid/client/SessionHandler.cpp|2 1

Revision: 5d17efc90e8618ff2b995ee49ad0dbe5971019a1
Author: Alan Conway <aconway@apache.org>
Date: 21/09/2007 05:07:25
Message:
	* cpp/bootstrap, cpp/rubygen/generate, cpp/src/Makefile.am: Fixed generated headers to install properly. #MsgLength=155


----
Modified: bootstrap|0 7
Modified: qpidc.spec.in|4 4
Modified: rubygen/generate|18 8
Modified: src/Makefile.am|0 6

Revision: 30b910056f3dfa04e8f2e30bf2916d5748fc9638
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2007 18:39:36
Message:
Use octet each for class and method id (changed c++ and python) #MsgLength=639


----
Modified: src/qpid/Options.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.cpp|2 2
Modified: src/qpid/framing/MethodHolder.cpp|4 4
Modified: src/qpid/framing/SequenceNumberSet.cpp|2 2
Modified: src/qpid/framing/amqp_types.h|2 2
Modified: xml/cluster.xml|1 1

Revision: 1758fbd798290cff5013320be3f721cd972cff55
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2007 23:13:52
Message:
Moved c++ over to using the same preview file for 0-10 work as java. Removed all channel class related code from broker as a result. Did the same for some python tests I missed earlier. Renamed ChannelAdapter to ChannelHandler. #MsgLength=230


----
Modified: configure.ac|1 1
Modified: src/Makefile.am|2 2
Modified: src/qpid/broker/Connection.h|2 2
Renamed: src/qpid/broker/ConnectionHandler.cpp [from src/qpid/broker/ConnectionAdapter.cpp]|14 24
Renamed: src/qpid/broker/ConnectionHandler.h [from src/qpid/broker/ConnectionAdapter.h]|2 21
Modified: src/qpid/broker/SemanticHandler.cpp|0 1
Modified: src/qpid/broker/SessionHandler.cpp|3 54
Modified: src/qpid/broker/SessionHandler.h|0 21
Modified: src/tests/python_tests|1 1

Revision: 07832c1bfb06ddaed8865b1c68d4ebef5cba41fb
Author: Alan Conway <aconway@apache.org>
Date: 22/09/2007 02:26:37
Message:
Split broker::Session into: broker::SessionState: session info (uuid etc.) + handler chains. broker::SemanticState: session state for the SemanticHandler. #MsgLength=160


----
Modified: rubygen/generate|2 2
Modified: src/Makefile.am|4 2
Modified: src/qpid/broker/BrokerAdapter.cpp|23 25
Modified: src/qpid/broker/BrokerAdapter.h|17 19
Modified: src/qpid/broker/Connection.cpp|3 4
Modified: src/qpid/broker/Connection.h|1 2
Modified: src/qpid/broker/DeliveryRecord.cpp|2 2
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Modified: src/qpid/broker/DtxHandlerImpl.cpp|7 8
Modified: src/qpid/broker/DtxHandlerImpl.h|1 3
Modified: src/qpid/broker/HandlerImpl.h|8 21
Modified: src/qpid/broker/MessageHandlerImpl.cpp|19 21
Modified: src/qpid/broker/MessageHandlerImpl.h|3 3
Modified: src/qpid/broker/SemanticHandler.cpp|17 13
Modified: src/qpid/broker/SemanticHandler.h|13 5
Renamed: src/qpid/broker/SemanticState.cpp [from src/qpid/broker/Session.cpp]|71 88
Renamed: src/qpid/broker/SemanticState.h [from src/qpid/broker/Session.h]|17 34
Modified: src/qpid/broker/SessionHandler.cpp|2 2
Modified: src/qpid/broker/SessionHandler.h|4 4
Added: src/qpid/broker/SessionState.cpp|63 0
Modified: src/qpid/broker/SessionState.h|48 19
Modified: src/qpid/broker/SuspendedSessions.h|4 2

Revision: 858a3d1922f440c200f93b6f3cdeda46be55b459
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/09/2007 03:10:31
Message:
- dequeue fix for AIO - added access functions needed for AIO in Recoverable classes. #MsgLength=88


----
Modified: src/qpid/broker/BrokerQueue.cpp|1 3
Modified: src/qpid/broker/RecoverableQueue.h|2 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|13 1

Revision: 1dd842b8d8027b7b7d69741888d6a22dec8e89bb
Author: Alan Conway <aconway@apache.org>
Date: 22/09/2007 03:51:00
Message:
Supression for bogus i386 valgrind error. #MsgLength=43


----
Modified: src/tests/.valgrind.supp-default|4 23

Revision: ec211db6f42fe280f063bdc96df403beb80f11ed
Author: Alan Conway <aconway@apache.org>
Date: 22/09/2007 04:47:58
Message:
Added missing makefiles to include_HEADERS for installation. #MsgLength=62


----
Modified: src/Makefile.am|62 61

Revision: 63adceefb9c20772e0ac5da508da847932d08a5c
Author: Alan Conway <aconway@apache.org>
Date: 24/09/2007 23:32:34
Message:
Packaging fixes to spec and Makefile from nsantos@redhat.com. #MsgLength=63


----
Modified: qpidc.spec.in|1 0
Modified: src/Makefile.am|1 0

Revision: ce97b29c60c533a16916de7825a3f8b67d11dd95
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2007 05:15:46
Message:
2007-09-24  Alan Conway  <aconway@redhat.com> #MsgLength=602


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.h|4 0
Modified: src/qpid/broker/Connection.cpp|4 5
Modified: src/qpid/broker/Connection.h|2 4
Modified: src/qpid/broker/SessionHandler.cpp|7 5
Modified: src/qpid/broker/SessionHandler.h|5 4
Renamed: src/qpid/broker/SessionManager.cpp [from src/qpid/broker/SuspendedSessions.cpp]|51 27
Renamed: src/qpid/broker/SessionManager.h [from src/qpid/broker/SuspendedSessions.h]|42 20
Modified: src/qpid/broker/SessionState.cpp|10 5
Modified: src/qpid/broker/SessionState.h|11 7
Modified: src/tests/.valgrind.supp-default|18 0
Modified: src/tests/ClientSessionTest.cpp|3 0
Deleted: src/tests/Session.cpp|0 63
Modified: src/tests/run_test|1 0

Revision: 5c56611a1b8ccd1a32555c84c03af5f28e17ed09
Author: Alan Conway <aconway@apache.org>
Date: 26/09/2007 02:16:02
Message:
Renamed the following files for consistency: #MsgLength=501


----
Modified: examples/create_queue.cpp|3 3
Modified: examples/topic_listener.cpp|3 3
Modified: examples/topic_publisher.cpp|3 3
Modified: src/Makefile.am|12 12
Modified: src/qpid/broker/Deliverable.h|1 1
Modified: src/qpid/broker/DeliverableMessage.h|1 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/DeliveryRecord.h|1 1
Modified: src/qpid/broker/DirectExchange.h|2 2
Renamed: src/qpid/broker/Exchange.cpp [from src/qpid/broker/BrokerExchange.cpp]|1 1
Renamed: src/qpid/broker/Exchange.h [from src/qpid/broker/BrokerExchange.h]|4 4
Modified: src/qpid/broker/ExchangeRegistry.h|1 1
Modified: src/qpid/broker/FanOutExchange.h|2 2
Modified: src/qpid/broker/HeadersExchange.h|2 2
Modified: src/qpid/broker/MessageDelivery.cpp|1 1
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1
Renamed: src/qpid/broker/Queue.cpp [from src/qpid/broker/BrokerQueue.cpp]|2 2
Renamed: src/qpid/broker/Queue.h [from src/qpid/broker/BrokerQueue.h]|3 3
Modified: src/qpid/broker/QueueRegistry.h|1 1
Modified: src/qpid/broker/RecoveredDequeue.h|1 1
Modified: src/qpid/broker/RecoveredEnqueue.h|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/TopicExchange.h|2 2
Modified: src/qpid/broker/TxPublish.h|1 1
Renamed: src/qpid/client/Channel.cpp [from src/qpid/client/ClientChannel.cpp]|2 2
Renamed: src/qpid/client/Channel.h [from src/qpid/client/ClientChannel.h]|6 6
Renamed: src/qpid/client/Connection.cpp [from src/qpid/client/ClientConnection.cpp]|2 2
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/Dispatcher.cpp|1 1
Renamed: src/qpid/client/Exchange.cpp [from src/qpid/client/ClientExchange.cpp]|1 1
Renamed: src/qpid/client/Exchange.h [from src/qpid/client/ClientExchange.h]|0 0
Renamed: src/qpid/client/Message.h [from src/qpid/client/ClientMessage.h]|3 3
Modified: src/qpid/client/MessageListener.h|1 1
Renamed: src/qpid/client/Queue.cpp [from src/qpid/client/ClientQueue.cpp]|1 1
Renamed: src/qpid/client/Queue.h [from src/qpid/client/ClientQueue.h]|3 3
Modified: src/tests/BasicP2PTest.h|2 2
Modified: src/tests/BasicPubSubTest.h|2 2
Modified: src/tests/BrokerChannelTest.cpp|1 1
Modified: src/tests/ClientChannelTest.cpp|14 14
Modified: src/tests/ExchangeTest.cpp|2 2
Modified: src/tests/FramingTest.cpp|2 2
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/SimpleTestCaseBase.h|2 2
Modified: src/tests/TestCase.h|1 1
Modified: src/tests/client_test.cpp|2 2
Modified: src/tests/echo_service.cpp|3 3
Modified: src/tests/exception_test.cpp|2 2
Modified: src/tests/interop_runner.cpp|3 3
Modified: src/tests/perftest.cpp|3 3
Modified: src/tests/topic_listener.cpp|3 3
Modified: src/tests/topic_publisher.cpp|3 3

Revision: f9b0eced3b16e86f2aa4f208ef8215ddb04effe8
Author: Gordon Sim <gsim@apache.org>
Date: 26/09/2007 18:02:25
Message:
Start execution mark from -1 (0xFFFFFFFF) Rename ackFrequency as ackBatchSize in Dispatcher #MsgLength=94


----
Modified: rubygen/templates/Session.rb|1 0
Modified: src/qpid/broker/DeliveryRecord.cpp|2 0
Modified: src/qpid/client/BlockingQueue.h|1 1
Modified: src/qpid/client/Dispatcher.cpp|6 6
Modified: src/qpid/client/Dispatcher.h|4 4
Modified: src/qpid/client/SessionCore.cpp|1 0
Modified: src/qpid/framing/SequenceNumber.cpp|1 1

Revision: b8abb32bf51a056cfa92c2537340979504acdad3
Author: Gordon Sim <gsim@apache.org>
Date: 26/09/2007 18:51:12
Message:
Detect that connection is already closed on attempt to close() #MsgLength=65


----
Modified: src/qpid/client/ConnectionHandler.cpp|3 0
Modified: src/qpid/client/ConnectionImpl.cpp|9 1
Modified: src/qpid/client/ConnectionImpl.h|2 0

Revision: 3951861b7f94c70b9b60d9d7688e0c190faa7318
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2007 00:50:25
Message:
Some revisions to rubygen for packed structs and execution header (changes not yet enabled) #MsgLength=94


----
Modified: rubygen/amqpgen.rb|5 1
Modified: rubygen/cppgen.rb|5 0
Modified: rubygen/templates/structs.rb|135 27
Modified: src/Makefile.am|1 0
Added: src/qpid/framing/ModelMethod.h|48 0

Revision: 5a45fa113e11a4810657c1435736e4587434efb4
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2007 17:27:03
Message:
Honour sync bit when processing L4 method #MsgLength=44


----
Modified: src/qpid/broker/SemanticHandler.cpp|8 2
Modified: src/qpid/framing/AMQMethodBody.h|2 0
Modified: src/qpid/framing/ModelMethod.h|1 1

Revision: 70d2d1d71d89cea5f903eda99d69f1223f6ea02b
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2007 23:06:12
Message:
Minor refactoring of execution layer Set sync bit when session is in sync mode #MsgLength=81


----
Modified: src/qpid/broker/SemanticHandler.cpp|1 1
Modified: src/qpid/client/Completion.h|10 1
Modified: src/qpid/client/Execution.h|2 0
Modified: src/qpid/client/ExecutionHandler.cpp|22 16
Modified: src/qpid/client/ExecutionHandler.h|7 3
Modified: src/qpid/client/Future.h|15 4
Modified: src/qpid/client/SessionCore.cpp|2 0
Modified: src/qpid/framing/AMQMethodBody.h|1 0
Modified: src/qpid/framing/AccumulatedAck.cpp|9 0
Modified: src/qpid/framing/AccumulatedAck.h|1 0
Modified: src/qpid/framing/ModelMethod.h|2 1

Revision: 952f3c3beb0c642d5116d0b3fbe6d0c2ee4c5183
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 00:21:34
Message:
	* src/tests/ClientSessionTest.cpp: Suspend/resume tests. * broker/SessionManager.cpp, broker/SessionHandler.cpp: Implement suspend/resume #MsgLength=441


----
Modified: rubygen/templates/Session.rb|20 25
Modified: src/Makefile.am|0 1
Modified: src/qpid/Exception.cpp|1 1
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/SessionHandler.cpp|19 19
Modified: src/qpid/broker/SessionManager.cpp|20 8
Modified: src/qpid/broker/SessionManager.h|3 4
Modified: src/qpid/broker/SessionState.h|7 1
Modified: src/qpid/client/Connection.cpp|15 9
Modified: src/qpid/client/Connection.h|20 2
Modified: src/qpid/client/ConnectionImpl.cpp|19 27
Modified: src/qpid/client/ConnectionImpl.h|7 8
Modified: src/qpid/client/ExecutionHandler.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.h|6 1
Deleted: src/qpid/client/ScopedAssociation.h|0 53
Modified: src/qpid/client/SessionCore.cpp|56 28
Modified: src/qpid/client/SessionCore.h|38 16
Modified: src/qpid/client/SessionHandler.cpp|64 57
Modified: src/qpid/client/SessionHandler.h|23 19
Modified: src/qpid/log/Statement.h|10 1
Modified: src/tests/ClientSessionTest.cpp|24 0
Modified: src/tests/InProcessBroker.h|3 1

Revision: 2f65754a14ca99b0cdc5fe74b4aee2aa9efda7f7
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 00:22:55
Message:
	* src/qpid/log/Helpers.h: Format complex types for log messages #MsgLength=66


----
Added: src/qpid/log/Helpers.h|79 0

Revision: 9e62111ca2e47c26e2a571c14584df2e5579bef1
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 00:48:50
Message:
Missed commit for last checkin. #MsgLength=33


----
Modified: rubygen/templates/Session.rb|1 2

Revision: d403939954a952aa90d828f709cc45491cae25cb
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 01:01:10
Message:
Fixed compile error. #MsgLength=22


----
Modified: rubygen/templates/Session.rb|2 1

Revision: a4da7c07ad93ef66ab59533882f3f948c172aced
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 01:53:16
Message:
Ensure no danbling pointers in client API: - Session -shared_ptr-> SessionCore -shared_ptr-> ConnectionImpl - Connection -shared_ptr-> ConnectionImpl - ConnectionImpl -weak_ptr-> SessionCore #MsgLength=195


----
Modified: src/qpid/client/Completion.h|2 2
Modified: src/qpid/client/Connection.cpp|2 2
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|6 4
Modified: src/qpid/client/ConnectionImpl.h|2 1
Modified: src/qpid/client/Response.h|1 1
Modified: src/qpid/client/SessionCore.cpp|10 6
Modified: src/qpid/client/SessionCore.h|4 4
Modified: src/qpid/client/TypedResult.h|1 1

Revision: 812cbf1d0935cf61fa257dafffc8cc3bb510aff9
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2007 03:53:27
Message:
Added missing headers to makefile. #MsgLength=36


----
Modified: src/Makefile.am|2 1

Revision: 07d382c9a128cc3c22003692416c35c2d28fcbd7
Author: Gordon Sim <gsim@apache.org>
Date: 01/10/2007 18:24:25
Message:
Make ExecutionHandler threadsafe for calls that can be made by application threads. Added generic listener for completion changes. #MsgLength=133


----
Modified: src/qpid/client/CompletionTracker.h|1 2
Modified: src/qpid/client/Execution.h|1 0
Modified: src/qpid/client/ExecutionHandler.cpp|32 11
Modified: src/qpid/client/ExecutionHandler.h|5 0
Modified: src/qpid/client/SessionCore.h|1 1

Revision: 8bf98dc1b6f6d171fc129e351f86eedbf66b6c98
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2007 23:01:28
Message:
   * src/qpid/framing/ResumeHandler.cpp: Handle ack and resume logic for broker and client. #MsgLength=98


----
Modified: src/Makefile.am|1 0
Added: src/qpid/framing/ResumeHandler.cpp|56 0
Added: src/qpid/framing/ResumeHandler.h|69 0
Modified: src/tests/Makefile.am|5 0
Added: src/tests/ResumeHandler.cpp|87 0

Revision: c07534491754988b808b39b82ef5916d71d64b87
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 02/10/2007 04:13:45
Message:
- add option to create durable messages. #MsgLength=43


----
Modified: src/tests/perftest.cpp|8 1

Revision: b8a6e52baaf74c564503106cc350c82337cd596c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 02/10/2007 04:17:35
Message:
header path fix #MsgLength=16


----
Modified: src/tests/perftest.cpp|1 1

Revision: 7f113e9656fb473b39ddf71cc7111563279e9bd8
Author: Gordon Sim <gsim@apache.org>
Date: 02/10/2007 17:54:59
Message:
Fixed recovery; unacked message records are now updated to hold the new command id when messages are resent. Added unit and python test as previous bug was not being picked up by the existing tests. #MsgLength=201


----
Modified: src/qpid/broker/DeliveryAdapter.h|0 1
Modified: src/qpid/broker/DeliveryRecord.cpp|16 9
Modified: src/qpid/broker/DeliveryRecord.h|10 9
Modified: src/qpid/broker/SemanticHandler.cpp|0 6
Modified: src/qpid/broker/SemanticHandler.h|0 1
Modified: src/qpid/broker/SemanticState.cpp|9 13
Modified: src/qpid/broker/SemanticState.h|1 2
Added: src/tests/DeliveryRecordTest.cpp|68 0
Modified: src/tests/Makefile.am|1 0
Modified: src/tests/TxAckTest.cpp|1 1

Revision: 12cb6c1ec893d9b96cd0088c87547bc4eaeccd49
Author: Gordon Sim <gsim@apache.org>
Date: 02/10/2007 18:36:28
Message:
Fixed bug introduced in r577027 where the header frame of a message is directly passed to output handler where the channel is changed. This causing problems when the message is sent to multiple channels concurrently. I've added a const modifier to preventthe message being altered by sendHeader(). #MsgLength=300


----
Modified: src/qpid/broker/Message.cpp|3 2
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/framing/frame_functors.h|17 0

Revision: 23fb38fb095e0609531a6cd9cad1df3755385e12
Author: Gordon Sim <gsim@apache.org>
Date: 02/10/2007 20:34:59
Message:
mark Message::sendContent() as const #MsgLength=39


----
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/MessageStore.h|2 2
Modified: src/qpid/broker/MessageStoreModule.cpp|2 2
Modified: src/qpid/broker/MessageStoreModule.h|2 2
Modified: src/qpid/broker/NullMessageStore.cpp|2 2
Modified: src/qpid/broker/NullMessageStore.h|2 2
Modified: src/tests/MessageBuilderTest.cpp|2 2

Revision: e66f35c08182916ce2ed597722bd406a7b7740c2
Author: Gordon Sim <gsim@apache.org>
Date: 02/10/2007 20:47:30
Message:
Correction to interpretation of flags (B/E refer to the first/last segment in the frameset and should be set on all frames in such segments). #MsgLength=144


----
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/qpid/framing/SendContent.cpp|1 1

Revision: fa2ab99ccd380478a88a643dab5827258cb9dcfc
Author: Rafael H. Schloming <rhs@apache.org>
Date: 03/10/2007 09:51:04
Message:
fixed decoding of b/e bits #MsgLength=27


----
Modified: src/qpid/framing/AMQFrame.cpp|1 1

Revision: 4de7e349fe803f98fb27c6d61e4537a30ee14c7f
Author: Alan Conway <aconway@apache.org>
Date: 04/10/2007 06:19:41
Message:
From Nuno Santos <nsantos@redhat.com>, fix options in qpidd startup script. #MsgLength=76


----
Modified: etc/qpidd|0 1

Revision: 57ee44b36bb881f3f832e9e3f615afb26d89a903
Author: Gordon Sim <gsim@apache.org>
Date: 04/10/2007 20:01:28
Message:
Fix (and refactor) processing of ranges in message handler. Alter release() to push released messages onto head in reverse order (todo: make this atomic instead) #MsgLength=164


----
Modified: src/qpid/broker/DeliveryRecord.h|1 0
Modified: src/qpid/broker/MessageHandlerImpl.cpp|37 63
Modified: src/qpid/broker/MessageHandlerImpl.h|6 0
Modified: src/qpid/broker/SemanticState.cpp|5 1
Modified: src/qpid/framing/SequenceNumberSet.h|16 0

Revision: 896e789d3658b753aac4c3cea1367501194fed28
Author: Alan Conway <aconway@apache.org>
Date: 04/10/2007 23:32:45
Message:
	* docs/man/qpidd.x: Explain configuration options. * etc/qpidd.conf: Placeholder configuration file. * qpidc.spec.in: Install qpidd.conf * Makefile.am: Install qpidd.conf * src/qpid/Options.cpp, h, src/qpidd.cpp: Option formatting fixes. #MsgLength=244


----
Modified: Makefile.am|3 1
Modified: docs/man/qpidd.x|33 3
Added: etc/qpidd.conf|2 0
Modified: qpidc.spec.in|6 1
Modified: src/qpid/Options.cpp|12 4
Modified: src/qpid/Options.h|2 1
Modified: src/qpidd.cpp|1 2

Revision: 60888ffac0aa54fac96f36245be3e51fef50e858
Author: Gordon Sim <gsim@apache.org>
Date: 05/10/2007 00:06:05
Message:
Additional tests and fixes #MsgLength=29


----
Modified: src/qpid/broker/MessageHandlerImpl.cpp|2 1
Modified: src/qpid/broker/SemanticHandler.cpp|6 8
Modified: src/qpid/broker/SemanticHandler.h|5 0
Modified: src/qpid/framing/AccumulatedAck.cpp|4 3
Modified: src/qpid/framing/AccumulatedAck.h|2 1
Modified: src/qpid/framing/SequenceNumberSet.cpp|6 0
Modified: src/qpid/framing/SequenceNumberSet.h|4 3
Modified: src/tests/AccumulatedAckTest.cpp|37 0

Revision: 586d5d5354c715adc1e9cd64b38aa2848bd578bd
Author: Gordon Sim <gsim@apache.org>
Date: 06/10/2007 01:28:48
Message:
Don't recover messages for cancelled subscriptions. #MsgLength=54


----
Modified: src/qpid/broker/DeliveryRecord.cpp|16 7
Modified: src/qpid/broker/DeliveryRecord.h|2 0
Modified: src/qpid/broker/SemanticState.cpp|7 1
Modified: src/qpid/client/Message.h|5 0

Revision: b9daf5182edb66d400fd1c85710f0a63f99d3c1d
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2007 02:11:14
Message:
Added %config tag to qpidd.conf in qpidc.spec.in #MsgLength=49


----
Modified: qpidc.spec.in|3 1

Revision: a43f45e9f663fd0e553385b7e194a62e4abfa99c
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 10/10/2007 02:18:51
Message:
Added some debug logs to indicate credit levels and verify if a message is enqueued. I found it useful during testing #MsgLength=119


----
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|5 0

Revision: 31791e6b75e617c632d6e9aaa02a4eb1187ab340
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2007 04:58:58
Message:
Fixed compile error. #MsgLength=22


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: ee68d35aecb1e8137e4471eb74e1e0ded0a4aea3
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2007 16:43:41
Message:
Fix: recovered messages must be marked redelivered #MsgLength=53


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0

Revision: 70dff5d7292b4b8eb9ff6ba8934e3e1e0b9493ac
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2007 17:20:18
Message:
Requeue messages for cancelled subscriptions on reciver (rather than redelivering) #MsgLength=85


----
Modified: src/qpid/broker/DeliveryRecord.cpp|6 2

Revision: aca9d9ac46460d3c56871718e92e3f856fd1c77b
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2007 21:29:37
Message:
Exclusive no longer implies auto-delete on queue.declare. #MsgLength=60


----
Modified: src/qpid/broker/BrokerAdapter.cpp|6 2
Modified: src/qpid/broker/Connection.cpp|8 3
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/QueueRegistry.h|4 1
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: c320ac70df93bd7d49afa7482361b836c51cdf9f
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2007 20:06:39
Message:
Close connection when a framing error is encountered during decoding. #MsgLength=72


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|35 28
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 1

Revision: f59c2169fb82f3aa8027bab81da7b344cbd687bc
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2007 20:08:40
Message:
Some fixes to locking within the queue (preventing locks being held during delivery to a consumer) #MsgLength=101


----
Modified: src/qpid/broker/Queue.cpp|31 36
Modified: src/qpid/broker/Queue.h|2 0

Revision: 8695d481ba84d5d901c1294cc057fe115657d557
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2007 22:52:36
Message:
Further fixes to locking between queue and semantic state to avoid deadlocking. #MsgLength=82


----
Modified: src/qpid/broker/Queue.cpp|21 12
Modified: src/qpid/broker/Queue.h|19 5
Modified: src/qpid/broker/SemanticState.cpp|51 36
Modified: src/qpid/broker/SemanticState.h|11 0

Revision: dda6ae3bc4f42fa15b8289b84e028e833dd3d5d6
Author: Rafael H. Schloming <rhs@apache.org>
Date: 14/10/2007 10:21:59
Message:
Enabled packed struct encoding in python, cpp, and java. Also fixed computation of required byte credit in Message.cpp. #MsgLength=120


----
Modified: rubygen/amqpgen.rb|20 5
Modified: rubygen/templates/structs.rb|27 22
Modified: src/qpid/broker/Message.cpp|1 1

Revision: 00f9de9ce5d93bee162b6a977ba6fe83159a4bdc
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2007 17:52:16
Message:
Remove default queue concept which is no longer applicable in 0-10. #MsgLength=70


----
Modified: src/qpid/broker/BrokerAdapter.cpp|0 1
Modified: src/qpid/broker/SemanticState.cpp|2 6
Modified: src/qpid/broker/SemanticState.h|1 4

Revision: 3bf9836371dda42c59d1daf06967541424b09f47
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2007 19:54:19
Message:
Edited svn:ignore #MsgLength=19


----

Revision: 59612c6dce5e38abee1e354ac0cc1f3227510dbc
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2007 19:56:09
Message:
Include information on the client connection in io traces. #MsgLength=61


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|3 3
Modified: src/qpid/sys/Socket.h|11 0
Modified: src/qpid/sys/posix/Socket.cpp|47 14

Revision: 7eacf3197f86a84662a8843d2a2be0bfa5c27ecb
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2007 20:25:30
Message:
QPID_ASSERT: assert a condition. In a debug build abort if condition is false, in NDEBUG build throws an exception. Note this will leave the test in production code. #MsgLength=167


----
Added: src/qpid/assert.cpp|44 0
Added: src/qpid/assert.h|38 0

Revision: 1c68e66bf3adf01ab352dd8bb87cb16efef7853c
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2007 20:31:32
Message:
Added assert.cpp to makefile. #MsgLength=31


----
Modified: src/Makefile.am|1 0

Revision: 169ebb0c001551b42475459158d71e835d57959f
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2007 20:57:05
Message:
Added missing framing:: qualifier. #MsgLength=36


----
Modified: src/qpid/assert.cpp|1 1

Revision: 2cda235c114c675071d5fad9fa7db4809023e282
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2007 21:57:02
Message:
Fix compilation error #MsgLength=24


----
Modified: src/qpid/assert.cpp|1 1

Revision: a48337bc93eefb6b49bc20c8364f12cae29c65de
Author: Gordon Sim <gsim@apache.org>
Date: 16/10/2007 02:34:39
Message:
Locking for updates to subscriber credit. Revised log statements to reduce noise. #MsgLength=84


----
Modified: src/qpid/broker/SemanticState.cpp|18 8

Revision: 5bc88235dfaf10c4993b7e29a35887dba41f379d
Author: Gordon Sim <gsim@apache.org>
Date: 16/10/2007 17:11:48
Message:
* Revised allocation algorithm to ensure all consumers are given the opportunity to consume a message * If already have infinit credit, don't try to add to it * If get disconnected while processing close, just finish off the close and don't signal the disconnection #MsgLength=268


----
Modified: src/qpid/broker/Queue.cpp|8 3
Modified: src/qpid/broker/SemanticState.cpp|10 5
Modified: src/qpid/sys/posix/AsynchIO.cpp|4 6

Revision: 6786f70a9375a38b515fae9d626e06b04b0352a6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/10/2007 18:21:20
Message:
Implementation of 0-10 field tables #MsgLength=37


----
Modified: rubygen/cppgen.rb|2 2
Modified: src/Makefile.am|2 2
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/HeadersExchange.cpp|24 22
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/framing/AMQFrame.cpp|1 1
Modified: src/qpid/framing/BasicHeaderProperties.cpp|2 2
Modified: src/qpid/framing/Buffer.cpp|65 36
Modified: src/qpid/framing/Buffer.h|6 6
Modified: src/qpid/framing/FieldTable.cpp|47 33
Modified: src/qpid/framing/FieldTable.h|21 15
Added: src/qpid/framing/FieldValue.cpp|256 0
Added: src/qpid/framing/FieldValue.h|177 0
Modified: src/qpid/framing/Value.cpp|2 2
Modified: src/tests/FieldTableTest.cpp|17 13
Modified: src/tests/HeaderTest.cpp|3 3
Modified: src/tests/HeadersExchangeTest.cpp|9 9
Modified: src/tests/Makefile.am|14 14
Modified: src/tests/MessageTest.cpp|6 3
Modified: src/tests/topic_listener.cpp|5 3

Revision: b8e77bff95ede3d407dc182081ebc2217785625f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/10/2007 19:58:00
Message:
Log a warning if we close a connection with unsent data #MsgLength=57


----
Modified: src/qpid/sys/AsynchIO.h|2 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|4 0

Revision: c8ae1626e6e491ecf1893a9d6542f94170ced3c3
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2007 21:01:33
Message:
Edits to --help message and man page to improve readabiliity. #MsgLength=63


----
Modified: src/qpid/Options.cpp|4 4
Modified: src/qpid/Options.h|1 1
Modified: src/qpid/broker/Broker.cpp|7 6
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/log/Options.cpp|11 9
Modified: src/qpidd.cpp|4 4

Revision: c373d360a26b94093b9ac3fa5a56410952035526
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2007 00:10:47
Message:
Restored missing TestOptions.h #MsgLength=31


----
Modified: src/tests/Makefile.am|1 1

Revision: f58b182c0ff27b8a16a618fa3cec0bfd717c9478
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2007 00:11:26
Message:
Editorial changes to man page text. #MsgLength=37


----
Modified: docs/man/qpidd.x|3 3

Revision: f4385a99f400ba7e0a415f407abed6bcede81255
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/10/2007 00:31:58
Message:
Include declarations of the specialisations we define to make sure they are picked up correctly by everything #MsgLength=111


----
Modified: src/qpid/framing/FieldValue.h|16 0

Revision: 12a750039b72dd3288e4c69649b0fa3c94f70af1
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2007 03:07:54
Message:
	* Summary: generalized Invoker visitor to all *Operations and *Handler classes, client and broker. Single template free function invoke(Invocable, const AMQBody&); works for all invocable handlers. * rubygen/templates/OperationsInvoker.rb: Generates invoker visitors for all Operations classes, client and server. #MsgLength=875


----
Modified: rubygen/cppgen.rb|0 1
Deleted: rubygen/templates/InvocationVisitor.rb|0 101
Modified: rubygen/templates/Operations.rb|5 9
Added: rubygen/templates/OperationsInvoker.rb|92 0
Modified: rubygen/templates/structs.rb|11 5
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/ConnectionHandler.cpp|2 1
Modified: src/qpid/broker/SemanticHandler.cpp|6 8
Modified: src/qpid/broker/SessionHandler.cpp|4 3
Modified: src/qpid/broker/SessionHandler.h|1 1
Modified: src/qpid/client/ExecutionHandler.cpp|2 8
Modified: src/qpid/client/ExecutionHandler.h|3 3
Modified: src/qpid/framing/AMQMethodBody.cpp|0 15
Modified: src/qpid/framing/AMQMethodBody.h|0 4
Modified: src/qpid/framing/FrameDefaultVisitor.h|2 1
Added: src/qpid/framing/Invoker.h|86 0
Modified: src/qpid/framing/StructHelper.h|3 10

Revision: 3f473cbe341ca602201061d91a2020ab79d16d72
Author: Gordon Sim <gsim@apache.org>
Date: 17/10/2007 16:59:44
Message:
Use shared pointers for consumers (held by queues and sessions) to prevent having to hold lock across deliver() while avoiding invocation on stale pointers. Ensure auto-deleted queues are properly cleaned up (i.e. are unbound from exchanges) to avoid leaking memory as messages are accumulated in inaccessible queues. (some cleanup to follow on this) #MsgLength=353


----
Modified: src/qpid/broker/Connection.cpp|2 5
Modified: src/qpid/broker/Consumer.h|2 0
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|24 13
Modified: src/qpid/broker/Queue.h|10 12
Modified: src/qpid/broker/SemanticState.cpp|49 44
Modified: src/qpid/broker/SemanticState.h|10 6
Modified: src/tests/QueueTest.cpp|22 20

Revision: ad8431d690e62d03a04af04e9e37b658f5b5b0ff
Author: Gordon Sim <gsim@apache.org>
Date: 17/10/2007 21:45:27
Message:
Fix to headers exchanges bind: need to check the match value is present before dereferencing Added tests for this. #MsgLength=117


----
Modified: src/qpid/broker/HeadersExchange.cpp|1 1
Modified: src/tests/HeadersExchangeTest.cpp|16 0

Revision: d4035e5adbbee6c1d43de3df11522ef1aee2a9b5
Author: Gordon Sim <gsim@apache.org>
Date: 18/10/2007 16:28:37
Message:
Fix for QPID-644 #MsgLength=19


----
Modified: src/qpid/broker/DeliveryRecord.h|1 1
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: bc0dde29c95c4816ce2221259e63b600adbdb54d
Author: Gordon Sim <gsim@apache.org>
Date: 18/10/2007 20:53:46
Message:
Fixed return of acquired message ranges (and added tests) #MsgLength=60


----
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 1
Modified: src/qpid/framing/SequenceNumberSet.cpp|11 5
Modified: src/tests/SequenceNumberTest.cpp|48 0

Revision: e105b46935b424648b85e554e9d3fce617994ed6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/10/2007 22:06:09
Message:
Recast int to FixedWidthValue conversions to avoid tamplate specialisation and be more general #MsgLength=96


----
Modified: src/qpid/framing/FieldValue.cpp|0 111
Modified: src/qpid/framing/FieldValue.h|18 19

Revision: ea07a3d9f31da922e7f5469931123f4f0949228d
Author: Gordon Sim <gsim@apache.org>
Date: 18/10/2007 22:11:14
Message:
Lock active session id map when removing id for closed session. #MsgLength=67


----
Modified: src/qpid/broker/SessionManager.cpp|6 0
Modified: src/qpid/broker/SessionManager.h|1 0
Modified: src/qpid/broker/SessionState.cpp|1 1

Revision: 2499af9e09c9e0278c19d42166dfd45d05b42b75
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/10/2007 23:28:11
Message:
 - added options for aysnc store & store dir location #MsgLength=56


----
Modified: src/qpid/broker/Broker.cpp|8 2
Modified: src/qpid/broker/Broker.h|2 0

Revision: 921d1fec310a30ed971289f4f2cf63ec47e0f5de
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/10/2007 02:30:07
Message:
More rearranging of template specialisation to avoid gccisms and conform correctly to the standard #MsgLength=100


----
Modified: src/qpid/framing/FieldValue.cpp|0 24
Modified: src/qpid/framing/FieldValue.h|12 0

Revision: bc6cc2627b6d69fafc778644770664c63849986c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 19/10/2007 09:33:24
Message:
- added init for dir and async options for store - added flush for queue for async processing #MsgLength=96


----
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/MessageStore.h|19 0
Modified: src/qpid/broker/MessageStoreModule.cpp|10 0
Modified: src/qpid/broker/MessageStoreModule.h|3 1
Modified: src/qpid/broker/NullMessageStore.cpp|10 0
Modified: src/qpid/broker/NullMessageStore.h|2 0

Revision: f2f5d49f26ff4c6160383577ee0f5f3d3599562c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/10/2007 17:32:56
Message:
Fix for leak on receiving eof on network #MsgLength=42


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 7

Revision: 3da2c96471874ae6e2c09fb31dc8f96e2398c516
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 19/10/2007 21:20:40
Message:
Fixed typo in message #MsgLength=22


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 357577174e11e3ef0a7c8dd52ec0b09b11afa595
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2007 00:21:29
Message:
Fix to allocation algorithm in queue: prevents infinite loop when first consumer for allocation is cancelled after starting to dispatch a particular method. Removed alarming(!) log statement. #MsgLength=194


----
Modified: src/qpid/broker/NullMessageStore.cpp|1 4
Modified: src/qpid/broker/Queue.cpp|10 5
Modified: src/qpid/broker/Queue.h|1 0

Revision: 0ccc4bc2d11fa003945aa3218e267a51f362a5ea
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/10/2007 00:23:30
Message:
 #MsgLength=0


----
Modified: bootstrap|1 0
Modified: src/qpid/framing/FieldValue.h|5 3
Deleted: src/qpid/framing/Value.cpp|0 122
Deleted: src/qpid/framing/Value.h|0 171
Modified: src/tests/Blob.cpp|16 16
Renamed: src/tests/FieldTable.cpp [from src/tests/FieldTableTest.cpp]|43 55
Added: src/tests/FieldValue.cpp|79 0
Modified: src/tests/Makefile.am|10 1
Deleted: src/tests/ValueTest.cpp|0 102

Revision: ca0b3ac86970c4fabac44409156454c159a7cf41
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 20/10/2007 02:57:30
Message:
QPID-651 applied patch from Ted #MsgLength=34


----
Modified: src/Makefile.am|6 0
Modified: src/qpid/broker/Broker.cpp|23 3
Modified: src/qpid/broker/Broker.h|7 2
Added: src/qpid/broker/ManagementAgent.cpp|187 0
Added: src/qpid/broker/ManagementAgent.h|70 0
Added: src/qpid/broker/ManagementObject.cpp|42 0
Added: src/qpid/broker/ManagementObject.h|92 0
Added: src/qpid/broker/ManagementObjectQueue.cpp|168 0
Added: src/qpid/broker/ManagementObjectQueue.h|179 0
Modified: src/qpid/broker/Queue.cpp|22 1
Modified: src/qpid/broker/Queue.h|5 1
Modified: src/qpid/broker/QueueRegistry.cpp|36 1
Modified: src/qpid/broker/QueueRegistry.h|8 0
Modified: src/qpid/framing/Buffer.cpp|10 1
Modified: src/qpid/framing/Buffer.h|2 1

Revision: 24837d0c04e0186b539c015d5237ab2b99483c4c
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2007 18:28:07
Message:
Record peer address (for logging purposes) on initiation rather than on every logged message. #MsgLength=96


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|14 11

Revision: 1c7276521654264e1d93591c6619d8fb29b5a237
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 23/10/2007 08:29:32
Message:
- flush async IO if present on sync for 0-10 - notify, for ack from sync for 0-10 - use of raw pointer, to avoid recursive fre #MsgLength=129


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/IncomingExecutionContext.cpp|4 0
Modified: src/qpid/broker/PersistableMessage.h|33 3
Modified: src/qpid/broker/PersistableQueue.h|4 2
Modified: src/qpid/broker/Queue.cpp|3 2

Revision: 8fe6a15e30963a144f2a2f51dd5e4ed8eb019c90
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 23/10/2007 20:04:35
Message:
-added missing file from checkin #MsgLength=35


----
Added: src/qpid/broker/PersistableMessage.cpp|40 0

Revision: a1005ed41e771aaa80e570dd4f8dc4cc43021fff
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2007 20:41:16
Message:
More tidying up of field table API #MsgLength=36


----
Modified: src/qpid/broker/QueuePolicy.cpp|2 1
Modified: src/qpid/framing/FieldTable.cpp|3 3
Modified: src/qpid/framing/FieldTable.h|4 4
Modified: src/qpid/framing/FieldValue.h|25 4
Modified: src/tests/FieldValue.cpp|9 0
Modified: src/tests/Makefile.am|13 14

Revision: 0b8b0a1c8f3ac34d3879a974cd36f9e344c39131
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 23/10/2007 20:49:59
Message:
- removed debug cout #MsgLength=22


----
Modified: src/qpid/broker/Queue.cpp|0 1

Revision: 67d5630e68781fb9388de844672b551d53256ec9
Author: Gordon Sim <gsim@apache.org>
Date: 23/10/2007 22:50:56
Message:
Hack for no-local when used with jms topics Fix for releasing of exclusive ownership of queues second time around #MsgLength=116


----
Modified: src/qpid/broker/BrokerAdapter.cpp|2 2
Modified: src/qpid/broker/Consumer.h|1 0
Modified: src/qpid/broker/Queue.cpp|82 21
Modified: src/qpid/broker/Queue.h|8 5
Modified: src/qpid/broker/SemanticState.cpp|8 0
Modified: src/qpid/broker/SemanticState.h|1 0

Revision: 1122c434e546c080871783ac458a5ef307cdbbee
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2007 18:15:28
Message:
Altered svn:ignore list #MsgLength=25


----

Revision: e0703b0d7aa8f2e08f6775bee9f0257ba7d6dcf6
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2007 19:33:37
Message:
Don't requeue released messages. #MsgLength=35


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1

Revision: 64c99c485203ec7b0127349f3dee709d4db00527
Author: Gordon Sim <gsim@apache.org>
Date: 26/10/2007 01:36:02
Message:
Fixes to handling of non-acquired subscribers #MsgLength=48


----
Modified: src/qpid/broker/Queue.cpp|15 4

Revision: 818880e9073efecdeaadf4df964aafacd0aec78c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 26/10/2007 10:37:54
Message:
- added patch from Tedd - QPID-660 #MsgLength=37


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|11 8
Modified: src/qpid/broker/ExchangeRegistry.cpp|7 4
Modified: src/qpid/broker/ManagementAgent.cpp|85 79
Modified: src/qpid/broker/ManagementAgent.h|6 6
Added: src/qpid/broker/ManagementExchange.cpp|77 0
Added: src/qpid/broker/ManagementExchange.h|61 0
Modified: src/qpid/broker/ManagementObject.cpp|18 6
Modified: src/qpid/broker/ManagementObject.h|45 20
Modified: src/qpid/broker/ManagementObjectQueue.cpp|20 6
Modified: src/qpid/broker/ManagementObjectQueue.h|50 49
Modified: src/qpid/broker/Queue.cpp|7 0
Modified: src/qpid/broker/QueueRegistry.cpp|24 24

Revision: ad72902d89d426912e2b52128c8bf7245a8bef6f
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2007 03:48:31
Message:
Session resume support in client & broker: Client can resume a session after voluntary suspend() or network failure. Frames lost in network failure are automatically re-transmitted for transparent re-connection. #MsgLength=866


----
Modified: rubygen/templates/constants.rb|54 14
Modified: src/Makefile.am|5 8
Modified: src/qpid/Exception.cpp|10 32
Modified: src/qpid/Exception.h|21 104
Modified: src/qpid/Msg.h|1 1
Deleted: src/qpid/QpidError.cpp|0 41
Deleted: src/qpid/QpidError.h|0 79
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/BrokerAdapter.cpp|10 11
Modified: src/qpid/broker/BrokerAdapter.h|1 1
Modified: src/qpid/broker/Connection.cpp|7 2
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/broker/Daemon.cpp|1 1
Modified: src/qpid/broker/DtxHandlerImpl.cpp|3 3
Modified: src/qpid/broker/DtxManager.cpp|8 4
Modified: src/qpid/broker/DtxTimeout.h|1 6
Modified: src/qpid/broker/DtxWorkRecord.cpp|6 6
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 3
Modified: src/qpid/broker/HeadersExchange.cpp|3 4
Modified: src/qpid/broker/MessageHandlerImpl.cpp|13 13
Modified: src/qpid/broker/Queue.cpp|5 9
Modified: src/qpid/broker/SemanticHandler.cpp|2 2
Modified: src/qpid/broker/SemanticState.cpp|15 12
Modified: src/qpid/broker/SessionHandler.cpp|62 30
Modified: src/qpid/broker/SessionHandler.h|10 4
Modified: src/qpid/broker/SessionManager.cpp|9 8
Modified: src/qpid/broker/SessionManager.h|7 5
Modified: src/qpid/broker/SessionState.cpp|24 13
Modified: src/qpid/broker/SessionState.h|22 19
Modified: src/qpid/broker/Timer.cpp|2 5
Modified: src/qpid/broker/Timer.h|1 1
Modified: src/qpid/client/Channel.cpp|2 3
Modified: src/qpid/client/Connection.cpp|14 12
Modified: src/qpid/client/Connection.h|4 3
Modified: src/qpid/client/ConnectionHandler.cpp|3 1
Modified: src/qpid/client/ConnectionImpl.cpp|31 27
Modified: src/qpid/client/ConnectionImpl.h|8 6
Modified: src/qpid/client/Connector.cpp|0 2
Modified: src/qpid/client/Connector.h|1 0
Modified: src/qpid/client/ExecutionHandler.cpp|1 1
Modified: src/qpid/client/Future.h|1 1
Modified: src/qpid/client/FutureResponse.cpp|1 1
Modified: src/qpid/client/FutureResult.cpp|1 1
Modified: src/qpid/client/SessionCore.cpp|301 65
Modified: src/qpid/client/SessionCore.h|81 43
Deleted: src/qpid/client/SessionHandler.cpp|0 132
Deleted: src/qpid/client/SessionHandler.h|0 63
Modified: src/qpid/client/StateManager.cpp|1 1
Modified: src/qpid/client/StateManager.h|2 2
Modified: src/qpid/framing/AMQFrame.cpp|6 8
Modified: src/qpid/framing/BodyHandler.cpp|3 3
Modified: src/qpid/framing/ChannelAdapter.cpp|6 10
Renamed: src/qpid/framing/ChannelHandler.h [from src/qpid/framing/ProtocolVersionException.h]|22 25
Modified: src/qpid/framing/FieldTable.cpp|3 2
Modified: src/qpid/framing/FieldValue.cpp|2 5
Modified: src/qpid/framing/FramingContent.cpp|6 8
Modified: src/qpid/framing/Handler.h|2 1
Deleted: src/qpid/framing/ProtocolVersionException.cpp|0 33
Deleted: src/qpid/framing/ResumeHandler.cpp|0 56
Deleted: src/qpid/framing/ResumeHandler.h|0 69
Modified: src/qpid/framing/SequenceNumber.h|1 0
Added: src/qpid/framing/SessionState.cpp|120 0
Added: src/qpid/framing/SessionState.h|127 0
Added: src/qpid/framing/TemplateVisitor.h|89 0
Modified: src/qpid/framing/TransferContent.cpp|8 4
Modified: src/qpid/framing/TransferContent.h|4 3
Modified: src/qpid/framing/Uuid.cpp|9 3
Modified: src/qpid/framing/Uuid.h|3 0
Modified: src/qpid/framing/amqp_framing.h|0 1
Modified: src/qpid/framing/amqp_types.h|6 0
Modified: src/qpid/framing/variant.h|1 2
Modified: src/qpid/log/Logger.cpp|0 6
Modified: src/qpid/log/Logger.h|1 4
Modified: src/qpid/log/Statement.cpp|0 4
Modified: src/qpid/log/Statement.h|3 21
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|2 1
Modified: src/qpid/sys/ConcurrentQueue.h|45 45
Modified: src/qpid/sys/ScopedIncrement.h|3 3
Modified: src/qpid/sys/Serializer.h|3 1
Added: src/qpid/sys/StateMonitor.h|78 0
Added: src/qpid/sys/Waitable.h|73 0
Modified: src/qpid/sys/apr/APRBase.cpp|0 1
Modified: src/qpid/sys/apr/APRBase.h|2 6
Modified: src/qpid/sys/posix/Shlib.cpp|4 5
Modified: src/qpid/sys/posix/Socket.cpp|1 3
Deleted: src/qpid/sys/posix/check.cpp|0 39
Modified: src/qpid/sys/posix/check.h|4 32
Modified: src/tests/ClientChannelTest.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|105 46
Modified: src/tests/ConcurrentQueue.cpp|3 3
Modified: src/tests/EventChannelTest.cpp|4 4
Modified: src/tests/FramingTest.cpp|5 15
Modified: src/tests/HeadersExchangeTest.cpp|2 2
Modified: src/tests/InProcessBroker.h|141 74
Modified: src/tests/Makefile.am|4 10
Modified: src/tests/QueueTest.cpp|1 1
Deleted: src/tests/ResumeHandler.cpp|0 87
Added: src/tests/SessionState.cpp|142 0
Modified: src/tests/Shlib.cpp|2 1
Modified: src/tests/TimerTest.cpp|1 0
Modified: src/tests/TxMocks.h|2 3
Modified: src/tests/client_test.cpp|0 1
Modified: src/tests/echo_service.cpp|0 1
Modified: src/tests/exception_test.cpp|0 1
Modified: src/tests/interop_runner.cpp|0 1
Modified: src/tests/logging.cpp|27 25
Modified: src/tests/perftest.cpp|0 1
Modified: src/tests/run-unit-tests|2 2
Modified: src/tests/topic_listener.cpp|0 1
Modified: src/tests/topic_publisher.cpp|0 1

Revision: e1169e14d8ea67adf1db878c4bb724251c41c1eb
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2007 04:15:25
Message:
svn:ignore #MsgLength=12


----

Revision: e7e36413f7d189dd012aa32a5cf2dc7cf4637bcd
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2007 05:22:50
Message:
Fixed stray #include QpidError.h missed in previous commit. #MsgLength=61


----
Modified: examples/create_queue.cpp|1 1
Modified: examples/topic_listener.cpp|1 1
Modified: examples/topic_publisher.cpp|1 1

Revision: f412420266e4db80758b34048555f08f02fabbd6
Author: Alan Conway <aconway@apache.org>
Date: 29/10/2007 22:17:32
Message:
Avoid use of wait(AbsTime::farFuture()) - causes hanging on 32 bit. #MsgLength=69


----
Modified: src/qpid/sys/ConcurrentQueue.h|4 7

Revision: acbddfda4a7830846e10056fab63350416c5a88c
Author: Alan Conway <aconway@apache.org>
Date: 30/10/2007 00:50:45
Message:
##-*-text-*- #MsgLength=157


----
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/framing/SessionState.cpp|22 8
Modified: src/qpid/framing/SessionState.h|13 4

Revision: 356737dd5774fc91c618c82d7278ed8ea9795bd2
Author: Gordon Sim <gsim@apache.org>
Date: 30/10/2007 02:09:05
Message:
Check that session is attached before accepting delivery from queue (note further synching is required between the actually delivery of frames and the change from attached to detached). #MsgLength=188


----
Modified: src/qpid/broker/SemanticState.cpp|4 0

Revision: f16edde7daf56e039ac786de3fe72ec82e0698ad
Author: Alan Conway <aconway@apache.org>
Date: 30/10/2007 02:35:29
Message:
Rename client::Session as client::Session_0_10 #MsgLength=48


----
Modified: rubygen/templates/Session.rb|3 3
Modified: src/qpid/client/Channel.cpp|3 3
Modified: src/qpid/client/Channel.h|3 3
Modified: src/qpid/client/Connection.cpp|3 3
Modified: src/qpid/client/Connection.h|3 3
Modified: src/qpid/client/Dispatcher.cpp|3 3
Modified: src/qpid/client/Dispatcher.h|5 5
Modified: src/qpid/client/Message.h|2 2
Modified: src/tests/ClientSessionTest.cpp|3 3

Revision: db58b9448eb11649632ed18744bb93f8da84593d
Author: Alan Conway <aconway@apache.org>
Date: 30/10/2007 05:14:44
Message:
client/BlockingQueue.h, sys/ConcurrentQueue.h: merged to sys/BlockingQueue.h - updated all users #MsgLength=162


----
Modified: src/Makefile.am|1 2
Modified: src/qpid/Exception.cpp|0 4
Modified: src/qpid/Exception.h|0 9
Modified: src/qpid/client/Channel.cpp|6 5
Modified: src/qpid/client/Channel.h|1 1
Modified: src/qpid/client/Demux.h|2 2
Modified: src/qpid/client/Dispatcher.cpp|2 2
Modified: src/qpid/client/MessageQueue.h|17 16
Modified: src/qpid/client/SessionCore.cpp|1 1
Renamed: src/qpid/sys/BlockingQueue.h [from src/qpid/client/BlockingQueue.h]|71 37
Deleted: src/qpid/sys/ConcurrentQueue.h|0 111
Modified: src/qpid/sys/Waitable.h|13 15
Modified: src/tests/Cluster.cpp|3 5
Modified: src/tests/Cluster.h|2 4
Modified: src/tests/Cluster_child.cpp|1 2
Modified: src/tests/ConcurrentQueue.cpp|3 3
Modified: src/tests/InProcessBroker.h|16 13

Revision: f9c7f7fccfc0c5314f52f0bc4601eb3c1a4fea1a
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2007 06:39:46
Message:
Client API: fix keyword parameter ambiguities for beta client API. #MsgLength=405


----
Modified: rubygen/cppgen.rb|11 2
Modified: rubygen/templates/Session.rb|152 181
Modified: src/qpid/client/Channel.cpp|7 6
Modified: src/tests/ClientSessionTest.cpp|17 16

Revision: df09c0b40006bebcca247b035e7f7892d2070b46
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2007 07:36:27
Message:
Generate doxygen comments for Session_0_10 using AMQP <doc> elements. #MsgLength=71


----
Modified: rubygen/amqpgen.rb|7 2
Modified: rubygen/cppgen.rb|6 0
Modified: rubygen/templates/Session.rb|68 10

Revision: bdf91627b07196027c91ffa8ed682e6fdd8673ff
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/10/2007 08:43:11
Message:
- QPID-667 - for Ted Ross - built and tested. #MsgLength=49


----
Modified: src/qpid/broker/ManagementAgent.cpp|21 9
Modified: src/qpid/broker/ManagementAgent.h|10 7
Modified: src/qpid/broker/ManagementExchange.cpp|1 2
Modified: src/qpid/broker/ManagementObject.h|2 2
Modified: src/qpid/broker/Queue.cpp|31 31
Modified: src/qpid/broker/Queue.h|10 10
Modified: src/qpid/broker/QueueRegistry.cpp|6 2
Modified: src/qpid/broker/QueueRegistry.h|3 2

Revision: a7a8b15acdf5285df2720d92300553270f52d880
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2007 22:50:58
Message:
Fix client side core dump when disconneced unexpectedly: void qpid::client::SessionCore::invariant() const: Assertion #MsgLength=476


----
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/SessionHandler.cpp|3 0
Modified: src/qpid/client/Message.h|4 1
Modified: src/qpid/client/SessionCore.cpp|0 2
Modified: src/qpid/sys/Dispatcher.cpp|4 1

Revision: 6e3a95175096d7337c1a32f15f0fa6d620b6298b
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2007 00:56:57
Message:
Simplify SessionState, preparing for session thread safety fixes. #MsgLength=67


----
Modified: src/qpid/broker/SessionHandler.cpp|7 4
Modified: src/qpid/broker/SessionHandler.h|1 0
Modified: src/qpid/broker/SessionManager.cpp|0 1
Modified: src/qpid/client/SessionCore.cpp|1 3
Modified: src/qpid/framing/SessionState.cpp|0 21
Modified: src/qpid/framing/SessionState.h|6 19
Modified: src/tests/SessionState.cpp|0 5

Revision: 3d36a3a2342c6a0daff6078914c2f20387d3ccd8
Author: Gordon Sim <gsim@apache.org>
Date: 01/11/2007 02:47:28
Message:
Simple fix to prevent concurrent disconnection and sending of frames causing seg faults. A more complete solution may follow. #MsgLength=128


----
Modified: src/qpid/broker/SessionHandler.cpp|10 7
Modified: src/qpid/broker/SessionHandler.h|3 0
Modified: src/qpid/sys/Mutex.h|12 0
Added: src/qpid/sys/Semaphore.h|67 0

Revision: 14c836929300f18f651df0ec4cc3f067c293f43d
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/11/2007 04:06:05
Message:
Patch from Ted QPID-668 #MsgLength=206


----
Modified: src/Makefile.am|12 8
Modified: src/qpid/broker/Broker.cpp|9 1
Modified: src/qpid/broker/Broker.h|9 5
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/QueueRegistry.cpp|2 2
Modified: src/qpid/broker/QueueRegistry.h|1 1
Renamed: src/qpid/broker/management/ManagementAgent.cpp [from src/qpid/broker/ManagementAgent.cpp]|1 2
Renamed: src/qpid/broker/management/ManagementAgent.h [from src/qpid/broker/ManagementAgent.h]|2 2
Renamed: src/qpid/broker/management/ManagementExchange.cpp [from src/qpid/broker/ManagementExchange.cpp]|0 0
Renamed: src/qpid/broker/management/ManagementExchange.h [from src/qpid/broker/ManagementExchange.h]|1 1
Renamed: src/qpid/broker/management/ManagementObject.cpp [from src/qpid/broker/ManagementObject.cpp]|0 0
Renamed: src/qpid/broker/management/ManagementObject.h [from src/qpid/broker/ManagementObject.h]|3 3
Added: src/qpid/broker/management/ManagementObjectBroker.cpp|98 0
Added: src/qpid/broker/management/ManagementObjectBroker.h|75 0
Renamed: src/qpid/broker/management/ManagementObjectQueue.cpp [from src/qpid/broker/ManagementObjectQueue.cpp]|6 2
Renamed: src/qpid/broker/management/ManagementObjectQueue.h [from src/qpid/broker/ManagementObjectQueue.h]|1 0
Added: src/qpid/broker/management/ManagementObjectVhost.cpp|54 0
Added: src/qpid/broker/management/ManagementObjectVhost.h|63 0

Revision: 2c244ec28607a1d4469b8d7462cc6c32237f022a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/11/2007 04:55:28
Message:
- fixed build #MsgLength=16


----
Modified: src/Makefile.am|1 0

Revision: f596f3456dd002572fdbc6e20d459de046151a39
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2007 08:38:58
Message:
Preparation for session thread safety overhaul: - simplified SessionState, responsibility for protocol states now in Handlers - qpid::RefCounted, qpid::intrusive_ptr reference counting support. - build boost unit tests as single exe, speeds up testing. - fixed leak in AsynchIOAcceptor.cpp #MsgLength=295


----
Modified: src/Makefile.am|1 0
Added: src/qpid/RefCounted.h|73 0
Modified: src/qpid/broker/SessionHandler.cpp|3 6
Modified: src/qpid/broker/SessionHandler.h|0 1
Modified: src/qpid/broker/SessionManager.cpp|1 0
Modified: src/qpid/client/SessionCore.cpp|3 1
Modified: src/qpid/framing/SessionState.cpp|21 0
Modified: src/qpid/framing/SessionState.h|19 6
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|1 1
Modified: src/qpid/sys/AtomicCount.h|1 1
Renamed: src/tests/.valgrind.supp [from src/tests/.valgrind.supp-default]|0 10
Renamed: src/tests/.valgrindrc [from src/tests/.valgrindrc-default]|0 0
Modified: src/tests/Blob.cpp|4 1
Modified: src/tests/Cluster.cpp|2 2
Modified: src/tests/Cpg.cpp|7 2
Modified: src/tests/FieldTable.cpp|2 3
Modified: src/tests/FieldValue.cpp|2 1
Modified: src/tests/Frame.cpp|4 2
Modified: src/tests/Makefile.am|17 65
Added: src/tests/RefCounted.cpp|72 0
Modified: src/tests/Serializer.cpp|4 2
Modified: src/tests/SessionState.cpp|9 2
Modified: src/tests/Shlib.cpp|3 1
Modified: src/tests/Url.cpp|4 2
Modified: src/tests/Uuid.cpp|3 1
Modified: src/tests/cluster_client.cpp|3 4
Modified: src/tests/logging.cpp|8 3
Modified: src/tests/quick_perftest|1 1
Modified: src/tests/run_test|9 7
Deleted: src/tests/test_env|0 41
Added: src/tests/unit_test.cpp|22 0

Revision: 4e66005befb08c1587ce3ae8d186551492f7fb23
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2007 08:43:08
Message:
updated svn:ignore #MsgLength=20


----

Revision: ae9516cdcfdcaf2706df3b22c3d327989cf4c213
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2007 13:58:50
Message:
Added qpid::sys::RefCountedMap: thread safe refcounted map of refcounted entries. - Entries are atomically erased when released. - Map is released when all entries are erased. #MsgLength=179


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/RefCounted.h|2 2
Added: src/qpid/sys/RefCountedMap.h|171 0
Modified: src/tests/Makefile.am|5 3
Added: src/tests/RefCountedMap.cpp|107 0

Revision: 121561f07675f8b58d9d1d3a6fc4080cb05857b0
Author: Gordon Sim <gsim@apache.org>
Date: 01/11/2007 22:44:30
Message:
locking around access to the unacked out buffer #MsgLength=50


----
Modified: src/qpid/framing/SessionState.cpp|7 2
Modified: src/qpid/framing/SessionState.h|2 0
Modified: src/tests/SessionState.cpp|1 1

Revision: a32dafff0c2a9166736921be7b85ab549009e07f
Author: Alan Conway <aconway@apache.org>
Date: 02/11/2007 01:35:18
Message:
Simplified/improved qpid::sys::RefCountedMap, unit test session attachment use case. #MsgLength=86


----
Modified: src/qpid/sys/RefCountedMap.h|78 105
Modified: src/tests/RefCountedMap.cpp|70 54

Revision: 56fe4edef84cb4a1302929f3ff984a3735059793
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2007 21:09:46
Message:
Sending of results must be synchronised w.r.t. other frames (e.g. message delivery). #MsgLength=87


----
Modified: src/qpid/broker/SemanticHandler.cpp|1 0

Revision: cc22dcc038038a2c32a66dc52fd1e39bd3100089
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/11/2007 21:12:14
Message:
Added Timer class which uses boost intrusive_ptr. This needs to be made into a C++ template at some point. #MsgLength=107


----
Modified: src/qpid/broker/Timer.cpp|83 0
Modified: src/qpid/broker/Timer.h|53 6

Revision: 666ec701d8a333b468ad4c8ac779fa86724b4497
Author: Alan Conway <aconway@apache.org>
Date: 03/11/2007 00:25:02
Message:
Improvements to gsim's SubscriptionManager: - auto-stop mode: run returns when all subscriptions cancelled. - flow control. #MsgLength=192


----
Modified: examples/topic_listener.cpp|123 52
Modified: src/Makefile.am|8 6
Added: src/qpid/client/SubscriptionManager.cpp|97 0
Added: src/qpid/client/SubscriptionManager.h|93 0

Revision: d5cc0a62800915bcc2cc2d0ef6b7e8b2f09edeb8
Author: Alan Conway <aconway@apache.org>
Date: 03/11/2007 05:44:25
Message:
Fix compile error. #MsgLength=20


----
Modified: src/qpid/client/SubscriptionManager.cpp|1 1

Revision: 2a90f9e5278c60d8c5593d3f25e6fbccfa638ab6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/11/2007 09:00:03
Message:
- support for store to abort init / force - there is an issue exiting via exception not related to this fix, but uncovered by this fix - JIRA 671 #MsgLength=147


----
Modified: src/qpid/broker/Broker.cpp|10 3
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/MessageStore.h|2 1
Modified: src/qpid/broker/MessageStoreModule.cpp|3 2
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1

Revision: 3ab1a6bfece0dcee7aa3f76d4042ed71b1b9f950
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 04/11/2007 08:40:44
Message:
AMQP 670 This patch contains the following: #MsgLength=479


----
Modified: src/qpid/broker/Broker.cpp|12 9
Modified: src/qpid/broker/QueueRegistry.cpp|6 1
Modified: src/qpid/broker/QueueRegistry.h|3 1
Modified: src/qpid/broker/SessionHandler.cpp|1 0
Modified: src/qpid/broker/management/ManagementAgent.cpp|32 2
Modified: src/qpid/broker/management/ManagementAgent.h|2 1
Modified: src/qpid/broker/management/ManagementObject.cpp|6 0
Modified: src/qpid/broker/management/ManagementObject.h|22 21
Modified: src/qpid/broker/management/ManagementObjectBroker.cpp|4 4
Modified: src/qpid/broker/management/ManagementObjectBroker.h|4 6
Modified: src/qpid/broker/management/ManagementObjectQueue.cpp|22 25
Modified: src/qpid/broker/management/ManagementObjectQueue.h|7 7
Modified: src/qpid/broker/management/ManagementObjectVhost.cpp|6 6
Modified: src/qpid/broker/management/ManagementObjectVhost.h|6 7

Revision: 833c897fea76002fb84598eb3851b1a2ca4e0c64
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2007 18:33:40
Message:
Push buffer back on front when read fails (esp. important when result was EAGAIN as the buffer may contain unread data) #MsgLength=122


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1

Revision: 19c57084cc4daafc280a665d3522294d54a86fcd
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2007 18:36:05
Message:
Modified comment for last change to explain the reasoning #MsgLength=60


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1

Revision: 1e1a08d76935d9d2a1d545b8401530b7f5994436
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2007 21:17:01
Message:
Suspension of one xid on a channel should allow for work on other xids to be done prior to resuming the initial xid. #MsgLength=119


----
Modified: src/qpid/broker/SemanticState.cpp|13 0
Modified: src/qpid/broker/SemanticState.h|2 0

Revision: 4d0433173ed8b336153ec9eb6691a5ebb0c3c049
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/11/2007 06:39:27
Message:
Added reset function to class AbsTime, thus allowing same instance of TimerTask to be reset and used again for the same duration as initially set #MsgLength=146


----
Modified: src/qpid/broker/Timer.cpp|6 2
Modified: src/qpid/broker/Timer.h|3 1
Modified: src/qpid/sys/Time.h|6 0

Revision: 0df5962706668d2e68ab0a6ab5fac2d13031f64f
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2007 00:45:30
Message:
Temporary fix to issue that results in an assertion from Dispatcher.cpp. Where an interest in write is signalled just as a readable event is triggered it is possible for a writeable (or read-writeable) event to be triggered before the earlier event is processed. This change ensures they are processed serially by queueing them up for the first thread to handle. #MsgLength=365


----
Modified: src/qpid/sys/Dispatcher.cpp|57 3
Modified: src/qpid/sys/Dispatcher.h|22 1

Revision: 9e13f7b31dd671a7b6d1d9730766ea8273ac8586
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2007 01:27:27
Message:
Add support for array type to c++ (and python, decode only for now) Change the type of the in-doubt field in dtx-coordination.recover to an array (to bring in line with amqp spec) #MsgLength=182


----
Modified: rubygen/cppgen.rb|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/DtxHandlerImpl.cpp|6 16
Added: src/qpid/framing/Array.cpp|114 0
Added: src/qpid/framing/Array.h|75 0
Modified: src/qpid/framing/FieldValue.cpp|7 2
Modified: src/qpid/framing/FieldValue.h|2 0
Modified: src/qpid/framing/amqp_types_full.h|1 0
Added: src/tests/Array.cpp|78 0
Modified: src/tests/Makefile.am|1 1

Revision: 44ed767f1ddc31337868b688da567acbc9600aba
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/11/2007 03:43:54
Message:
- clean up between base & subclasses #MsgLength=39


----
Modified: src/qpid/broker/Message.cpp|5 2
Modified: src/qpid/broker/Message.h|0 2
Modified: src/qpid/broker/MessageBuilder.cpp|0 1
Modified: src/qpid/broker/PersistableMessage.h|8 1

Revision: 66684e8601d3105e39058e40ab88ac3e4aacf9de
Author: Arnaud Simon <arnaudsimon@apache.org>
Date: 07/11/2007 16:49:32
Message:
added # yum install e2fsprogs-devel #MsgLength=36


----
Modified: README|2 1

Revision: 1ec1bfb943bee762e7d73b11cd2089a5dbfbc816
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2007 22:08:13
Message:
Fix to QPID-640. The fields actually set/encoded are now tracked explicitly. #MsgLength=79


----
Modified: rubygen/templates/structs.rb|105 43

Revision: 2af470ec1cbcfb85c454c7f00f95d927c4266ae8
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 00:06:31
Message:
Added LocalQueue subscriptions. LocalQueue::pop() provides a "pull" alternative to the MessageListener::received() "push" API. #MsgLength=129


----
Modified: src/qpid/Exception.cpp|2 0
Modified: src/qpid/Exception.h|6 1
Modified: src/qpid/client/Channel.cpp|3 3
Modified: src/qpid/client/Demux.cpp|10 10
Modified: src/qpid/client/Demux.h|11 9
Modified: src/qpid/client/Dispatcher.cpp|2 2
Added: src/qpid/client/LocalQueue.h|52 0
Modified: src/qpid/client/SessionCore.cpp|1 1
Modified: src/qpid/sys/BlockingQueue.h|2 4
Modified: src/tests/InProcessBroker.h|1 1

Revision: 8ed9d11a132c23fea1c7a8423e25ff789dc75e7d
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 03:57:46
Message:
client::SubscriptionManager: - Added autoStop support. - Added LocalQueue subscriptions. - Expose AckPolicy settings to user. #MsgLength=347


----
Modified: src/Makefile.am|3 0
Added: src/qpid/client/AckPolicy.h|54 0
Modified: src/qpid/client/Connector.cpp|1 2
Modified: src/qpid/client/Dispatcher.cpp|36 44
Modified: src/qpid/client/Dispatcher.h|8 10
Added: src/qpid/client/LocalQueue.cpp|47 0
Modified: src/qpid/client/LocalQueue.h|10 5
Modified: src/qpid/client/Message.h|13 3
Modified: src/qpid/client/SessionCore.cpp|0 1
Modified: src/qpid/client/SubscriptionManager.cpp|29 32
Modified: src/qpid/client/SubscriptionManager.h|36 25
Modified: src/qpid/sys/BlockingQueue.h|6 1
Modified: src/tests/ClientSessionTest.cpp|1 1
Modified: src/tests/perftest.cpp|158 222

Revision: 2ebaf1f9f2722bdd51ba96bfedc8ee4076e622a1
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2007 04:55:35
Message:
Fix for QPID-639: c++ now includes sizes for all structs (enabled the same in python & java) #MsgLength=95


----
Modified: rubygen/templates/structs.rb|54 7
Modified: src/qpid/framing/AMQHeaderBody.cpp|1 1
Modified: src/qpid/framing/AMQHeaderBody.h|16 3
Modified: src/qpid/framing/StructHelper.h|2 2

Revision: 0f81048e8fc4dd9161443f7e6b6f686c7c23a2b1
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 05:01:26
Message:
auto-ack support for perftest. #MsgLength=32


----
Modified: src/qpid/client/LocalQueue.cpp|5 2
Modified: src/qpid/client/SubscriptionManager.cpp|1 1
Modified: src/tests/perftest.cpp|8 4

Revision: b05b8d4de7d56693735e1f63732160ceb758767e
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 07:07:51
Message:
Fix race condition in perftest. #MsgLength=33


----
Modified: src/tests/perftest.cpp|37 18

Revision: 1c6a403b15cd9e82312969aa9a1ea21282d01563
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 07:18:04
Message:
Fix race condition in perftest. NOTE: in multi-process mode you must run the publisher first and wait for it to show "waiting for consumers" before starting consumers. #MsgLength=169


----
Modified: src/tests/perftest.cpp|5 3

Revision: 594540763c3c1dcb45968a65baff8d759d6cf04c
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 07:27:48
Message:
Revert r592946 #MsgLength=15


----
Modified: src/tests/perftest.cpp|3 5

Revision: bebeebc3aef9981fe3a374dc9518ff9a1108b5f4
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2007 07:34:34
Message:
Change options --log.foo to --log-foo for consistency. #MsgLength=56


----
Modified: src/qpid/log/Options.cpp|9 9
Modified: src/tests/logging.cpp|24 24
Modified: src/tests/quick_perftest|1 1
Modified: src/tests/start_broker|1 1
Modified: src/tests/start_cluster|1 1

Revision: 9ba422a86c4f377b5537fd82cbc8d4dd5f76fdb0
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2007 18:08:26
Message:
Ensure browsers are always serviced on the serializers dispatch thread to avoid concurrent servicing threads interfering with each other. #MsgLength=140


----
Modified: src/qpid/broker/Queue.cpp|2 1
Modified: src/qpid/broker/Queue.h|8 1

Revision: fe3305bbdf817e985ca2e0d857e064e5b6a26cfe
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2007 22:05:38
Message:
Make standard exchanges durable Ensure flags are set correctly for recovered messages with no content #MsgLength=104


----
Modified: src/qpid/broker/Broker.cpp|14 4
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/ExchangeRegistry.h|1 1
Modified: src/qpid/broker/Message.cpp|16 8
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/NullMessageStore.cpp|9 12
Modified: src/qpid/broker/NullMessageStore.h|2 2
Modified: src/qpid/framing/frame_functors.h|6 0

Revision: 09549099866e321a4de15b839189a77ee6418adc
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2007 23:55:41
Message:
Exception handling for dispatch functor Don't dequeue no-ack messages unless they have been acquired #MsgLength=103


----
Modified: src/qpid/broker/Queue.cpp|15 0
Modified: src/qpid/broker/Queue.h|1 9
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 5903ee9914944e25ceaed89bfae31434fa207295
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/11/2007 01:45:54
Message:
Improved Fix for the race condition where you've got a competing read and write for the same handle. This can happen if we've just got a read event then before handling it we watch for write events and get one immediately. #MsgLength=225


----
Modified: src/qpid/sys/Dispatcher.cpp|14 53
Modified: src/qpid/sys/Dispatcher.h|1 21

Revision: 6518671e854141d45d188fc8e161b73645879883
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/11/2007 02:46:53
Message:
- enable the ability to lazy load from async store - the ci has a raw ptr for Queue in QueuedMessage, if any has any concerns, ping me and I will convert it to an auto_ptr Carl. #MsgLength=181


----
Modified: src/qpid/broker/Consumer.h|10 3
Modified: src/qpid/broker/DeliveryAdapter.h|1 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Message.h|2 1
Modified: src/qpid/broker/MessageBuilder.cpp|1 1
Modified: src/qpid/broker/MessageDelivery.cpp|4 4
Modified: src/qpid/broker/MessageDelivery.h|2 1
Modified: src/qpid/broker/MessageStore.h|11 3
Modified: src/qpid/broker/MessageStoreModule.cpp|4 3
Modified: src/qpid/broker/MessageStoreModule.h|2 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|2 1
Modified: src/qpid/broker/Queue.cpp|4 4
Modified: src/qpid/broker/SemanticHandler.cpp|1 1
Modified: src/qpid/broker/SemanticHandler.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/tests/BrokerChannelTest.cpp|1 1
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/TxAckTest.cpp|1 1

Revision: 1c2a8c56b9e9568cb87dd1ba4ab6d8ef6d525d92
Author: Kim van der Riet <kpvdr@apache.org>
Date: 09/11/2007 04:18:07
Message:
Added persistence to queue declaration when --durable option is defined on the command line. #MsgLength=93


----
Modified: src/tests/perftest.cpp|1 1

Revision: fb2a3d1e4477745ef6136010d7eef85af9b3bf4b
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2007 05:16:02
Message:
src/tests/perfdist: Use ssh to run distributed perftest. ./perfdist for usage. #MsgLength=262


----
Added: src/tests/perfdist|33 0
Modified: src/tests/perftest.cpp|58 36

Revision: 483ba4dd9b61aa8125c9fea9f4b19096ab12e30f
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2007 10:38:33
Message:
QPID-676: Jonathan Robie's C++ examples. Made the following alterations for recent C++ API changes: - use arg:: namespace for Session keyword arguments. - removed trailing _ on session method names. #MsgLength=452


----
Added: examples/direct/Makefile|20 0
Renamed: examples/direct/direct_config_queues.cpp [from examples/topic_publisher.cpp]|38 34
Added: examples/direct/direct_persistent_config_queues.cpp|101 0
Added: examples/direct/direct_persistent_publisher.cpp|111 0
Added: examples/direct/direct_publisher.cpp|104 0
Added: examples/direct/listener.cpp|134 0
Added: examples/fanout/Makefile|17 0
Added: examples/fanout/fanout_config_queues.cpp|86 0
Added: examples/fanout/fanout_consumer.cpp|83 0
Added: examples/fanout/fanout_publisher.cpp|102 0
Added: examples/fanout/listener.cpp|134 0
Added: examples/pub-sub/Makefile|17 0
Added: examples/pub-sub/topic_config_queues.cpp|128 0
Renamed: examples/pub-sub/topic_listener.cpp [from examples/topic_listener.cpp]|26 28
Added: examples/pub-sub/topic_publisher.cpp|123 0
Added: examples/request-response/Makefile|15 0
Added: examples/request-response/client.cpp|178 0
Added: examples/request-response/server.cpp|153 0
Added: src/qpid/client/Session.h|33 0

Revision: 831c966bbb2fe5f15b082c199e3b1dade76d96f8
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2007 11:32:43
Message:
Makefile to build/distribute examples. #MsgLength=40


----
Modified: examples/Makefile.am|13 9

Revision: 86a32bf61237e8d701fd0c461970b55d481af58f
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2007 22:12:09
Message:
Functions for scripts that verify examples. #MsgLength=45


----
Added: examples/verify_functions|50 0

Revision: 19b774e6d08d82ad0762d2f9849c775f6f5f4db4
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2007 23:35:49
Message:
Fix race in destruction of serializer. #MsgLength=41


----
Modified: src/qpid/sys/Serializer.cpp|2 1
Modified: src/qpid/sys/Serializer.h|5 3

Revision: 423b8f68d25139bba4010369b6e81a95e31c5fdb
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 03:38:12
Message:
On Linux, broker defaults --worker-threads to the number of available CPU cores reported by sysconf(_SC_NPROCESSORS_ONLN) #MsgLength=123


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/broker/Broker.cpp|3 0
Added: src/qpid/sys/SystemInfo.cpp|35 0
Added: src/qpid/sys/SystemInfo.h|44 0
Modified: src/tests/perfdist|0 1

Revision: 3d5202cfce91c1eb09e2c09847e9892caccb5998
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 03:59:54
Message:
Package examples in rpm %doc directory. #MsgLength=41


----
Modified: examples/Makefile.am|30 10
Deleted: examples/create_queue.cpp|0 82
Added: examples/examples/Makefile|6 0
Renamed: examples/examples/direct/Makefile [from examples/direct/Makefile]|0 0
Renamed: examples/examples/direct/direct_config_queues.cpp [from examples/direct/direct_config_queues.cpp]|0 0
Renamed: examples/examples/direct/direct_persistent_config_queues.cpp [from examples/direct/direct_persistent_config_queues.cpp]|0 0
Renamed: examples/examples/direct/direct_persistent_publisher.cpp [from examples/direct/direct_persistent_publisher.cpp]|0 0
Renamed: examples/examples/direct/direct_publisher.cpp [from examples/direct/direct_publisher.cpp]|0 0
Renamed: examples/examples/direct/listener.cpp [from examples/direct/listener.cpp]|0 0
Renamed: examples/examples/fanout/Makefile [from examples/fanout/Makefile]|0 0
Renamed: examples/examples/fanout/fanout_config_queues.cpp [from examples/fanout/fanout_config_queues.cpp]|0 0
Renamed: examples/examples/fanout/fanout_consumer.cpp [from examples/fanout/fanout_consumer.cpp]|0 0
Renamed: examples/examples/fanout/fanout_publisher.cpp [from examples/fanout/fanout_publisher.cpp]|0 0
Renamed: examples/examples/fanout/listener.cpp [from examples/fanout/listener.cpp]|0 0
Renamed: examples/examples/pub-sub/Makefile [from examples/pub-sub/Makefile]|0 0
Renamed: examples/examples/pub-sub/topic_config_queues.cpp [from examples/pub-sub/topic_config_queues.cpp]|0 0
Renamed: examples/examples/pub-sub/topic_listener.cpp [from examples/pub-sub/topic_listener.cpp]|0 0
Renamed: examples/examples/pub-sub/topic_publisher.cpp [from examples/pub-sub/topic_publisher.cpp]|0 0
Renamed: examples/examples/request-response/Makefile [from examples/request-response/Makefile]|0 0
Renamed: examples/examples/request-response/client.cpp [from examples/request-response/client.cpp]|0 0
Renamed: examples/examples/request-response/server.cpp [from examples/request-response/server.cpp]|0 0
Modified: qpidc.spec.in|7 2
Modified: rpm/README.qpidd-devel|3 7
Modified: src/Makefile.am|1 0

Revision: 4b02adcf9bc30a3d6fb9cffbb5612ff858ea255c
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 07:30:59
Message:
Get rid of BasicHeaderProperties, dead code from 0-8 protocol. #MsgLength=64


----
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/Message.cpp|3 4
Modified: src/qpid/broker/Message.h|0 1
Modified: src/qpid/broker/MessageAdapter.cpp|0 27
Modified: src/qpid/broker/MessageAdapter.h|1 10
Modified: src/qpid/framing/AMQHeaderBody.cpp|0 7
Modified: src/qpid/framing/AMQHeaderBody.h|1 16
Deleted: src/qpid/framing/BasicHeaderProperties.cpp|0 136
Deleted: src/qpid/framing/BasicHeaderProperties.h|0 123
Modified: src/qpid/framing/FrameSet.cpp|0 1
Modified: src/qpid/framing/amqp_framing.h|0 1
Modified: src/tests/HeaderTest.cpp|59 82
Modified: src/tests/MessageTest.cpp|3 0
Modified: src/tests/TxAckTest.cpp|2 0
Modified: src/tests/TxPublishTest.cpp|2 0
Modified: src/tests/perftest.cpp|3 1

Revision: 704f3f02de9612942b3b210d71e56a381245182d
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 10:43:26
Message:
Replace vector in AMQHeaderBody with boost::optional. Eliminates 40% of allocs. #MsgLength=81


----
Modified: src/qpid/framing/AMQHeaderBody.cpp|12 25
Modified: src/qpid/framing/AMQHeaderBody.h|49 66

Revision: 633abdac213f85f2106971f7dec420898ab92f28
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 10:44:30
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 7e8c6e7e12db219396297fe9e783cb2163096a20
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2007 10:52:57
Message:
Add DeliveryMode enum to AMQHeaderBody.h, remove from tests. #MsgLength=62


----
Modified: src/qpid/framing/AMQHeaderBody.h|2 0
Modified: src/tests/MessageTest.cpp|0 2
Modified: src/tests/TxAckTest.cpp|0 2
Modified: src/tests/TxPublishTest.cpp|0 2
Modified: src/tests/perftest.cpp|1 3

Revision: 99c1dbbc61a2f83081f583dcb987269855e6457c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 12/11/2007 22:02:14
Message:
-- added sync request -- make queue durable if -- durable yes specified #MsgLength=74


----
Modified: src/tests/perftest.cpp|24 4

Revision: 99a1b9e85dd39fba69ff3c89001f228b3db64bf2
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 12/11/2007 22:13:52
Message:
- fix for dequeue window mode, no ack. (needs to record and dequeue) #MsgLength=71


----
Modified: src/qpid/broker/SemanticState.cpp|3 2

Revision: cddbdc14e6ab7ae1b97392469f3c4c53571681cc
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 12/11/2007 23:38:56
Message:
- notify the queue when a async IO completes for a message. #MsgLength=62


----
Modified: src/qpid/broker/PersistableMessage.h|5 0
Modified: src/qpid/broker/PersistableQueue.h|2 2
Modified: src/qpid/broker/Queue.h|1 5

Revision: abf266f02b09d08edccb6d35eaabf0edace1b487
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2007 00:12:13
Message:
Minimal bounds checking #MsgLength=26


----
Modified: src/qpid/framing/Buffer.cpp|4 0
Modified: src/qpid/framing/Buffer.h|5 0

Revision: 2829a9122eb77c207fbcf976efdb5d82be1027a5
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/11/2007 00:36:49
Message:
- fix for msg creation, content no longer overwrites #MsgLength=55


----
Modified: src/tests/perftest.cpp|7 5

Revision: b9e034973d71334bd3ee12a6d0d029432fa50a41
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2007 01:22:39
Message:
On rollback requeue (rather than resend). #MsgLength=45


----
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1

Revision: 54467161bd9831190050ac5f056b640c895438af
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2007 01:52:31
Message:
Change to avoid assertion when delivery is concurrent with session detachment: * in SessionState::getHandler() doesn't assert and just return pointer * do assertion internally in SessionState where getHandler was relied for this before * in SemanticHandler::deliver() get handler and check it; if null then dump the message and print an error #MsgLength=369


----
Modified: src/qpid/broker/SemanticHandler.cpp|8 4
Modified: src/qpid/broker/SessionState.cpp|6 5
Modified: src/qpid/broker/SessionState.h|2 2

Revision: 75d011c48bec56721bc5b52044d40469e652de18
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/11/2007 03:46:46
Message:
- removed debug #MsgLength=18


----
Modified: src/qpid/broker/SemanticState.cpp|0 1

Revision: 6560e38a239ab212b9c31fbb797eff7a69d4bd96
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/11/2007 08:18:17
Message:
- call correct delete [] #MsgLength=27


----
Modified: src/tests/perftest.cpp|1 1

Revision: 4bcc4789168d714bde497475e0a8ad6986a33cfe
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/11/2007 08:34:09
Message:
Patch QPID-680 from tross #MsgLength=28


----
Modified: src/Makefile.am|18 13
Modified: src/qpid/broker/Broker.cpp|41 22
Modified: src/qpid/broker/Broker.h|12 8
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/qpid/broker/Message.cpp|7 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/Queue.cpp|35 7
Modified: src/qpid/broker/Queue.h|11 6
Modified: src/qpid/broker/QueueRegistry.cpp|2 37
Modified: src/qpid/broker/QueueRegistry.h|6 9
Added: src/qpid/broker/Vhost.cpp|37 0
Added: src/qpid/broker/Vhost.h|51 0
Modified: src/qpid/broker/management/ManagementAgent.cpp|0 234
Modified: src/qpid/broker/management/ManagementAgent.h|0 74
Modified: src/qpid/broker/management/ManagementExchange.cpp|0 76
Modified: src/qpid/broker/management/ManagementExchange.h|0 61
Modified: src/qpid/broker/management/ManagementObject.cpp|0 60
Modified: src/qpid/broker/management/ManagementObject.h|0 118
Modified: src/qpid/broker/management/ManagementObjectBroker.cpp|0 98
Modified: src/qpid/broker/management/ManagementObjectBroker.h|0 73
Modified: src/qpid/broker/management/ManagementObjectQueue.cpp|0 183
Modified: src/qpid/broker/management/ManagementObjectQueue.h|0 181
Modified: src/qpid/broker/management/ManagementObjectVhost.cpp|0 54
Modified: src/qpid/broker/management/ManagementObjectVhost.h|0 62
Added: src/qpid/management/Args.h|39 0
Added: src/qpid/management/ArgsBrokerEcho.h|38 0
Added: src/qpid/management/Broker.cpp|126 0
Added: src/qpid/management/Broker.h|76 0
Added: src/qpid/management/Manageable.h|67 0
Added: src/qpid/management/ManagementAgent.cpp|325 0
Added: src/qpid/management/ManagementAgent.h|81 0
Added: src/qpid/management/ManagementExchange.cpp|77 0
Added: src/qpid/management/ManagementExchange.h|61 0
Added: src/qpid/management/ManagementObject.cpp|61 0
Added: src/qpid/management/ManagementObject.h|125 0
Added: src/qpid/management/Queue.cpp|189 0
Added: src/qpid/management/Queue.h|184 0
Added: src/qpid/management/Vhost.cpp|57 0
Added: src/qpid/management/Vhost.h|65 0

Revision: 8bea55828eda991ed8a0bddf5334ac656d3a46a6
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2007 16:24:37
Message:
Add management directory (as advised on qpid list by nsantos) #MsgLength=64


----
Modified: qpidc.spec.in|1 0

Revision: 746b7919b86e1155cb39dafb67c6c1e747a12af1
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2007 16:25:24
Message:
Increase severity of log message when frames are dropped on session detaching #MsgLength=80


----
Modified: src/qpid/broker/SessionHandler.cpp|1 1

Revision: 69b21dbf41bf4f37ddffc3a324f92934c6649f73
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/11/2007 21:19:20
Message:
- removed dir #MsgLength=15


----
Deleted: src/qpid/broker/management/ManagementAgent.cpp|0 0
Deleted: src/qpid/broker/management/ManagementAgent.h|0 0
Deleted: src/qpid/broker/management/ManagementExchange.cpp|0 0
Deleted: src/qpid/broker/management/ManagementExchange.h|0 0
Deleted: src/qpid/broker/management/ManagementObject.cpp|0 0
Deleted: src/qpid/broker/management/ManagementObject.h|0 0
Deleted: src/qpid/broker/management/ManagementObjectBroker.cpp|0 0
Deleted: src/qpid/broker/management/ManagementObjectBroker.h|0 0
Deleted: src/qpid/broker/management/ManagementObjectQueue.cpp|0 0
Deleted: src/qpid/broker/management/ManagementObjectQueue.h|0 0
Deleted: src/qpid/broker/management/ManagementObjectVhost.cpp|0 0
Deleted: src/qpid/broker/management/ManagementObjectVhost.h|0 0

Revision: 5cd29407273f8e3d422a11496eee21e58b071e9b
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2007 21:53:01
Message:
Moved Serializer notifyWorker inside the mutex. Removed user-definable notify function, we want to get rid of Serializer, not reuse it. #MsgLength=137


----
Modified: src/qpid/sys/Serializer.cpp|3 6
Modified: src/qpid/sys/Serializer.h|17 28

Revision: 703d4f606b25bc1af107f5b4c7280b83817f7990
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2007 05:33:16
Message:
Stopped frameset from assembling messages piecewise. Roughly halves allocations on the broker, not much effect on client. #MsgLength=123


----
Modified: src/qpid/broker/Message.cpp|10 10
Modified: src/qpid/framing/FrameSet.cpp|9 7
Modified: src/qpid/framing/TypeFilter.h|16 17
Modified: src/qpid/framing/frame_functors.h|0 8

Revision: 73cb808052eeab7f1f80d1c4a52536d47770e5a3
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 14/11/2007 05:49:39
Message:
- fixed sync mode deadlock #MsgLength=29


----
Modified: src/qpid/broker/Queue.cpp|14 6
Modified: src/qpid/broker/Queue.h|2 1
Modified: src/qpid/sys/Serializer.h|1 0

Revision: 1410744813cfe93827035c0828eae207c71e2251
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2007 07:50:31
Message:
qpid/client/SessionCore.cpp: Removed QPID_MSG outside log statement. #MsgLength=70


----
Modified: src/qpid/client/SessionCore.cpp|1 1

Revision: d66e8e54b2a3a0cff541bfa9191650ec61a6dff8
Author: Gordon Sim <gsim@apache.org>
Date: 14/11/2007 17:34:51
Message:
Fixed locking (lock was not being released for invocation on callback due to being locked twice but unlocked only once) #MsgLength=122


----
Modified: src/qpid/sys/Serializer.cpp|12 3
Modified: src/qpid/sys/Serializer.h|2 0

Revision: 8aa785369bc108a89e1be89e260430f8d673e3d9
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2007 21:47:39
Message:
Added auto-ack and commit-mode control to SubscriptionManager API. #MsgLength=68


----
Modified: src/qpid/client/SubscriptionManager.cpp|30 18
Modified: src/qpid/client/SubscriptionManager.h|15 0

Revision: 11a38d07dec33cf6f2c88a1f8d004dff9f45bf39
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2007 05:02:14
Message:
Replaced shared_ptr with intrusive_ptr for qpid::Broker::Message. Gives 9% reduction in broker heap use (perftest --count 100000.) #MsgLength=132


----
Modified: src/qpid/broker/Consumer.h|3 3
Modified: src/qpid/broker/DeliverableMessage.cpp|1 1
Modified: src/qpid/broker/DeliverableMessage.h|2 2
Modified: src/qpid/broker/IncomingExecutionContext.cpp|1 1
Modified: src/qpid/broker/IncomingExecutionContext.h|2 2
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/MessageBuilder.cpp|2 2
Modified: src/qpid/broker/MessageBuilder.h|3 3
Modified: src/qpid/broker/MessageDelivery.cpp|4 4
Modified: src/qpid/broker/Persistable.h|2 1
Modified: src/qpid/broker/Queue.cpp|7 7
Modified: src/qpid/broker/Queue.h|7 7
Modified: src/qpid/broker/RecoveredDequeue.cpp|1 1
Modified: src/qpid/broker/RecoveredDequeue.h|2 2
Modified: src/qpid/broker/RecoveredEnqueue.cpp|1 1
Modified: src/qpid/broker/RecoveredEnqueue.h|2 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticHandler.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|5 5
Modified: src/qpid/broker/SemanticState.h|5 5
Modified: src/qpid/broker/TxPublish.cpp|3 3
Modified: src/qpid/broker/TxPublish.h|6 6
Modified: src/qpid/cluster/SessionManager.cpp|2 2
Modified: src/qpid/management/ManagementAgent.cpp|2 2
Modified: src/tests/BrokerChannelTest.cpp|14 14
Modified: src/tests/ExchangeTest.cpp|1 1
Modified: src/tests/MessageTest.cpp|2 2
Modified: src/tests/MessageUtils.h|6 5
Modified: src/tests/QueueTest.cpp|13 13
Modified: src/tests/TxAckTest.cpp|3 2
Modified: src/tests/TxPublishTest.cpp|2 2

Revision: 6b6f4b2a8bd8dc68d0f6baf25feb7da5bc4261b9
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2007 05:56:10
Message:
Remove allocation by char literal promotion to std::string in SessionCore.cpp. #MsgLength=80


----
Modified: src/qpid/client/SessionCore.cpp|25 7

Revision: db2d3c8f5d58161e6829ae4766aba52b93fbd6bd
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2007 07:05:49
Message:
perftest.cpp - Remove heap allocation per message in. - Verify sequence numbers in message data. #MsgLength=100


----
Modified: src/tests/perftest.cpp|28 31

Revision: 7e91c10f31a6d0d55fd009ebaafb2e2a6025e965
Author: Alan Conway <aconway@apache.org>
Date: 16/11/2007 04:49:25
Message:
QPID-687: comitted qpid-patch7-cpp.diff qpid-patch7-python.diff #MsgLength=65


----
Modified: src/qpid/management/Broker.cpp|152 24
Modified: src/qpid/management/Broker.h|8 10
Modified: src/qpid/management/ManagementAgent.cpp|72 109
Modified: src/qpid/management/ManagementAgent.h|5 0
Modified: src/qpid/management/ManagementObject.cpp|6 30
Modified: src/qpid/management/ManagementObject.h|27 39
Modified: src/qpid/management/Queue.cpp|242 40
Modified: src/qpid/management/Queue.h|8 10
Modified: src/qpid/management/Vhost.cpp|27 5
Modified: src/qpid/management/Vhost.h|8 10

Revision: 609ce518e3ed0a82b9d241013a7c61ce454a2870
Author: Alan Conway <aconway@apache.org>
Date: 17/11/2007 04:15:35
Message:
Added qpid::InlineVector - std::vector with inline storage to avoid heap allocation for small vectors. #MsgLength=243


----
Modified: src/Makefile.am|2 0

Revision: 5f90be6a88f6e0d77845a319a538e2b7de257944
Author: Alan Conway <aconway@apache.org>
Date: 17/11/2007 04:16:23
Message:
Added qpid::InlineVector - std::vector with inline storage to avoid heap allocation for small vectors. #MsgLength=243


----
Added: src/qpid/InlineAllocator.h|74 0
Added: src/qpid/InlineVector.h|68 0
Modified: src/qpid/broker/DeliveryId.h|2 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/DeliveryRecord.h|3 3
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/framing/SequenceNumberSet.h|6 5
Added: src/tests/InlineVector.cpp|88 0
Modified: src/tests/Makefile.am|2 1

Revision: 1b3c9bec893a2b6d452d9c22aeb91f1bd2f52d30
Author: Alan Conway <aconway@apache.org>
Date: 17/11/2007 06:08:52
Message:
Logging change: --log-enable level:pattern now does a substring match of pattern on the function name, instead of the file name. Allows more precise log filtering. #MsgLength=165


----
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Options.cpp|2 2
Modified: src/qpid/log/Selector.cpp|2 2
Modified: src/qpid/log/Selector.h|1 1

Revision: e75209b7d9e85eafa380eca374b36560d3ada46b
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2007 20:18:26
Message:
Fixes causing lost 'events' in queue dispatch #MsgLength=48


----
Modified: src/qpid/broker/Queue.cpp|6 14
Modified: src/qpid/broker/Queue.h|0 1
Modified: src/qpid/sys/Serializer.cpp|1 1

Revision: 316a82dfe7ef31292d6a2253d61998111ccd5ab7
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2007 19:03:50
Message:
Fix printing of headers #MsgLength=26


----
Modified: src/qpid/framing/AMQHeaderBody.h|1 1

Revision: 73c5a732af46a1122eaaadf69adc22a7bb067364
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2007 01:18:42
Message:
Drop annoying session sequence log messages. #MsgLength=46


----
Modified: src/qpid/framing/SessionState.cpp|0 2

Revision: 189e1d3ac32154ce7bb99349dcd748eb5fd92b1b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 21/11/2007 02:43:16
Message:
Added exception copy at MessageStoreModule interface to protect against unloading of module before the exception is handled. This was the case when exceptions cause the auto-unloading of the MessageStore module, and the exception that was thrown from within the module, now out of context, was being caught higher up and coring. #MsgLength=329


----
Modified: src/qpid/broker/MessageStoreModule.cpp|25 23

Revision: a7ad969f2b1670912fb6eff2eb3aac76edd94367
Author: Alan Conway <aconway@apache.org>
Date: 22/11/2007 03:21:21
Message:
src/tests/topictest: Added -h host parameter to script. #MsgLength=57


----
Modified: src/tests/topictest|3 2

Revision: 96c9f2f14f4c0d312d595a64db02637d74db1146
Author: Kim van der Riet <kpvdr@apache.org>
Date: 22/11/2007 03:36:20
Message:
Fixed intermittent hang on perftest consumer after first dequeue #MsgLength=65


----
Modified: src/qpid/broker/PersistableMessage.cpp|0 1

Revision: a3fc8e99009b083d59a0732526279005e410b8c7
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/11/2007 06:08:13
Message:
- added confirm mode to perftest - added acquire mode to perftest #MsgLength=68


----
Modified: src/qpid/client/SubscriptionManager.cpp|4 2
Modified: src/qpid/client/SubscriptionManager.h|8 0
Modified: src/tests/perftest.cpp|10 3

Revision: 378099112034e21852cf07b847aadd1f8954b4c8
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/11/2007 06:45:14
Message:
- set default to pre-acquire for acquire mode #MsgLength=47


----
Modified: src/qpid/client/SubscriptionManager.cpp|1 1
Modified: src/qpid/client/SubscriptionManager.h|2 2
Modified: src/tests/perftest.cpp|2 2

Revision: 4a9274e721cf7df6bb3b6b57d357b12f5f22027f
Author: Alan Conway <aconway@apache.org>
Date: 23/11/2007 05:33:00
Message:
Gordon's patch to fix ack-per-message by SubscriptionManager #MsgLength=61


----
Modified: src/qpid/client/SubscriptionManager.cpp|0 1

Revision: 40055ac394d4e58bb1b1318ed874f24e4f7cc8be
Author: Alan Conway <aconway@apache.org>
Date: 23/11/2007 07:55:39
Message:
Added framing::BodyHolder: - Uniform holder for all body types, replaces MethodHolder. - Uses in_place constructors to avoid avoid body copy. #MsgLength=338


----
Modified: rubygen/templates/MethodHolder.rb|34 20
Modified: src/Makefile.am|10 11
Deleted: src/qpid/ExceptionHolder.cpp|0 32
Deleted: src/qpid/ExceptionHolder.h|0 67
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/DtxManager.cpp|1 3
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/MessageAdapter.h|1 1
Modified: src/qpid/broker/MessageDelivery.cpp|9 5
Modified: src/qpid/broker/SemanticHandler.h|1 1
Modified: src/qpid/broker/SessionHandler.cpp|3 3
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/client/Channel.cpp|0 4
Modified: src/qpid/client/Channel.h|0 1
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.cpp|9 7
Modified: src/qpid/client/FutureResponse.cpp|2 2
Modified: src/qpid/client/FutureResponse.h|2 2
Modified: src/qpid/client/SessionCore.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/SessionManager.h|0 4
Modified: src/qpid/framing/AMQBody.h|0 3
Modified: src/qpid/framing/AMQFrame.cpp|20 64
Modified: src/qpid/framing/AMQFrame.h|32 50
Modified: src/qpid/framing/AMQMethodBody.h|0 2
Modified: src/qpid/framing/Blob.h|41 32
Added: src/qpid/framing/BodyHolder.cpp|75 0
Renamed: src/qpid/framing/BodyHolder.h [from src/qpid/framing/MethodHolder.h]|37 45
Modified: src/qpid/framing/ChannelAdapter.cpp|2 1
Modified: src/qpid/framing/FrameDefaultVisitor.h|0 2
Modified: src/qpid/framing/InputHandler.h|1 1
Deleted: src/qpid/framing/MethodHolder.cpp|0 65
Modified: src/qpid/framing/OutputHandler.h|1 1
Modified: src/qpid/framing/SendContent.cpp|2 1
Modified: src/qpid/framing/variant.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|4 5
Modified: src/tests/Blob.cpp|1 1
Modified: src/tests/BrokerChannelTest.cpp|4 3
Modified: src/tests/ClientSessionTest.cpp|1 25
Modified: src/tests/Cluster.cpp|6 4
Modified: src/tests/Cluster_child.cpp|2 1
Modified: src/tests/FramingTest.cpp|4 2
Modified: src/tests/HeaderTest.cpp|2 2
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/MessageBuilderTest.cpp|16 13
Deleted: src/tests/MessageHandlerTest.cpp|0 57
Modified: src/tests/MessageTest.cpp|5 4
Modified: src/tests/MessageUtils.h|3 3
Modified: src/tests/MockChannel.h|0 6
Modified: src/tests/QueueTest.cpp|3 2
Modified: src/tests/TxAckTest.cpp|3 2

Revision: bd3bcf04bcba012c5ca537f4aa75c1c11364b90e
Author: Alan Conway <aconway@apache.org>
Date: 23/11/2007 21:37:42
Message:
QPID-689 from tross@redhat.com. #MsgLength=143


----
Modified: bootstrap|4 0
Added: managementgen/generate.py|229 0
Added: managementgen/main.py|54 0
Added: managementgen/schema.py|748 0
Renamed: managementgen/templates/Args.h [from src/qpid/management/ArgsBrokerEcho.h]|8 7
Added: managementgen/templates/Class.cpp|108 0
Added: managementgen/templates/Class.h|69 0
Modified: src/Makefile.am|12 9
Modified: src/qpid/broker/Broker.cpp|33 4
Modified: src/qpid/broker/Queue.cpp|46 23
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/framing/AMQHeaderBody.h|2 1
Modified: src/qpid/management/Args.h|5 0
Deleted: src/qpid/management/Broker.cpp|0 254
Deleted: src/qpid/management/Broker.h|0 74
Added: src/qpid/management/Manageable.cpp|36 0
Modified: src/qpid/management/Manageable.h|3 4
Modified: src/qpid/management/ManagementAgent.cpp|2 2
Deleted: src/qpid/management/Queue.cpp|0 391
Deleted: src/qpid/management/Queue.h|0 182
Deleted: src/qpid/management/Vhost.cpp|0 79
Deleted: src/qpid/management/Vhost.h|0 63

Revision: 76ed21c7b942fcc94d5a0aee4b3806c2490b1f97
Author: Alan Conway <aconway@apache.org>
Date: 23/11/2007 21:43:15
Message:
svn:ignore properties. #MsgLength=24


----

Revision: eeba75f7a5e039001f8f4fc37d30cb1a9898e410
Author: Kim van der Riet <kpvdr@apache.org>
Date: 27/11/2007 05:48:37
Message:
Switched all regular PersistentMessage* and PersistentMessage& to intrusive_ptr<PersistentMessage>, so as to hook into the refcount for a message while it is in the store. #MsgLength=172


----
Modified: src/qpid/broker/Message.cpp|4 2
Modified: src/qpid/broker/MessageBuilder.cpp|2 1
Modified: src/qpid/broker/MessageStore.h|11 6
Modified: src/qpid/broker/MessageStoreModule.cpp|6 6
Modified: src/qpid/broker/MessageStoreModule.h|9 6
Modified: src/qpid/broker/NullMessageStore.cpp|8 8
Modified: src/qpid/broker/NullMessageStore.h|11 7
Modified: src/qpid/broker/Queue.cpp|6 2
Modified: src/tests/MessageBuilderTest.cpp|6 6
Modified: src/tests/TxAckTest.cpp|4 4
Modified: src/tests/TxPublishTest.cpp|9 10

Revision: b580ff75f4c2a31dc2c5bd90ae0b716234a1742f
Author: Alan Conway <aconway@apache.org>
Date: 28/11/2007 05:23:22
Message:
perftest improvements. NOTE: options have changed, see perftest --help. - Supports multiple publishers. - Subscribers set credit to receive exactly the expected no. of messages. - All transfers unconfirmed by default. #MsgLength=603


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/client/Completion.h|2 0
Modified: src/qpid/client/Connector.cpp|3 3
Modified: src/qpid/client/SessionCore.cpp|19 4
Modified: src/qpid/client/SessionCore.h|1 0
Modified: src/qpid/framing/AMQContentBody.cpp|1 3
Modified: src/qpid/framing/TransferContent.cpp|2 2
Modified: src/qpid/log/Options.cpp|1 1
Modified: src/tests/perftest.cpp|410 226

Revision: e0cbb753099b0753a622bafa4be7117be29dd9bc
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2007 17:24:50
Message:
Fixed test in line with changes made to defaults. #MsgLength=52


----
Modified: src/tests/logging.cpp|1 1

Revision: 4da7ef4de5202f49bc28f06fb0fabc0d9c606b5f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/11/2007 18:23:07
Message:
Removed obsolete comment #MsgLength=26


----
Modified: src/qpid/sys/Dispatcher.cpp|0 3

Revision: 1cfc34d176a84f8cf5b2c6b12447a2109ae9e782
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2007 21:28:21
Message:
Disable recoding of frames for replay where replay will not be required. #MsgLength=75


----
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/client/SessionCore.cpp|1 1
Modified: src/qpid/framing/SessionState.cpp|2 2
Modified: src/qpid/framing/SessionState.h|1 1
Modified: src/tests/ClientSessionTest.cpp|1 1

Revision: d4a94f54d0c6f2bda790c2a3106d598c50ce2ea3
Author: Alan Conway <aconway@apache.org>
Date: 28/11/2007 23:22:15
Message:
src/tests/perftest.cpp: - Added help text explaining multi-process use. - Fixed bug in multi-process mode, too many threads were started. #MsgLength=141


----
Modified: src/tests/TestOptions.h|15 10
Modified: src/tests/perftest.cpp|28 7

Revision: 7b775fa7296a2cb9516c3e75ffde53bd781e7573
Author: Alan Conway <aconway@apache.org>
Date: 28/11/2007 23:35:03
Message:
src/tests/perfdist: Updated for changes to perftest. #MsgLength=54


----
Modified: src/tests/perfdist|42 18

Revision: 2160d7df56e6cf930b92c9d9688ad6ed123648a0
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2007 00:04:22
Message:
src/tests/perfdist: Restore trace option, still used by some tests. #MsgLength=69


----
Modified: src/tests/TestOptions.h|2 0

Revision: 1956489fbd92fbd3a1f97f6a7c5758d4e25bca2f
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2007 01:13:28
Message:
Fixed to build with boost 1.34 as well as boost 1.33 - boost::ptr_map API changed. - Boost.Test unit test framework changes. #MsgLength=128


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Connection.cpp|10 9
Modified: src/qpid/broker/DtxManager.cpp|10 7
Modified: src/qpid/broker/DtxManager.h|2 3
Added: src/qpid/ptr_map.h|116 0
Modified: src/tests/Array.cpp|4 3
Modified: src/tests/Blob.cpp|3 3
Modified: src/tests/Cluster.cpp|4 3
Modified: src/tests/Cpg.cpp|5 3
Modified: src/tests/FieldTable.cpp|4 3
Modified: src/tests/FieldValue.cpp|4 3
Modified: src/tests/Frame.cpp|4 3
Modified: src/tests/InlineVector.cpp|4 3
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/RefCounted.cpp|4 3
Modified: src/tests/RefCountedMap.cpp|4 2
Modified: src/tests/Serializer.cpp|5 3
Modified: src/tests/SessionState.cpp|6 4
Modified: src/tests/Shlib.cpp|4 3
Modified: src/tests/Url.cpp|3 3
Modified: src/tests/Uuid.cpp|4 3
Modified: src/tests/cluster_client.cpp|4 3
Modified: src/tests/interop_runner.cpp|6 4
Modified: src/tests/logging.cpp|5 8
Modified: src/tests/unit_test.cpp|4 3
Added: src/tests/unit_test.h|44 0

Revision: a8608eaac90e5b2218be327d3456f7726818288a
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2007 03:17:37
Message:
Fix exception handling bug. #MsgLength=29


----
Modified: src/tests/perftest.cpp|1 1

Revision: 5b8d772410c9fa8c118a76d1ebc1910f6871d001
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2007 04:03:56
Message:
Added header file to list of sources #MsgLength=39


----
Modified: src/tests/Makefile.am|1 1

Revision: 089b8d7795f03c5d79d118abd976f7616f1b06f7
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2007 04:17:55
Message:
Add unit_test.h to distribution. Updated/removed sundry FIXME comments. #MsgLength=73


----
Modified: src/qpid/client/Dispatcher.cpp|4 13
Modified: src/qpid/client/SessionCore.cpp|5 4
Modified: src/tests/BrokerChannelTest.cpp|0 4
Modified: src/tests/perftest.cpp|20 6

Revision: 1db1a3ab56c70111651462d5caf396ac145e6e4d
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2007 07:44:22
Message:
src/tests/perfdist: Remove useless output. #MsgLength=44


----
Modified: src/tests/perfdist|0 1

Revision: 2e7c4ab1922739a637a66773f209e8b24721858d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/11/2007 19:34:15
Message:
- Eliminated a race condition on deletion of PollerHandles * Added DeletionManager class to delete handles * Used to stop PollerHandles being deleted whilst still in use #MsgLength=171


----
Added: src/qpid/sys/DeletionManager.h|138 0
Modified: src/qpid/sys/Dispatcher.cpp|2 2
Modified: src/qpid/sys/Poller.h|6 0
Modified: src/qpid/sys/epoll/EpollPoller.cpp|16 3

Revision: 05da95955e57b778f29d4308d9210fd6884c2360
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2007 19:54:17
Message:
Changes to threading: queues serialiser removed, io threads used to drive dispatch to consumers Fix to PersistableMessage: use correct lock when accessing synclist, don't hold enqueue lock when notifying queues #MsgLength=213


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/BrokerAdapter.cpp|0 3
Modified: src/qpid/broker/Connection.cpp|6 0
Modified: src/qpid/broker/Connection.h|5 0
Modified: src/qpid/broker/Consumer.h|2 0
Modified: src/qpid/broker/MessageHandlerImpl.cpp|0 2
Modified: src/qpid/broker/PersistableMessage.cpp|5 5
Modified: src/qpid/broker/PersistableMessage.h|32 24
Modified: src/qpid/broker/Queue.cpp|127 164
Modified: src/qpid/broker/Queue.h|21 49
Modified: src/qpid/broker/SemanticHandler.cpp|0 3
Modified: src/qpid/broker/SemanticHandler.h|3 1
Modified: src/qpid/broker/SemanticState.cpp|72 89
Modified: src/qpid/broker/SemanticState.h|14 20
Modified: src/qpid/broker/SessionHandler.cpp|7 9
Modified: src/qpid/broker/SessionHandler.h|0 3
Modified: src/qpid/broker/SessionState.cpp|21 2
Modified: src/qpid/broker/SessionState.h|8 2
Modified: src/qpid/client/Connector.cpp|1 1
Added: src/qpid/sys/AggregateOutput.cpp|61 0
Added: src/qpid/sys/AggregateOutput.h|54 0
Modified: src/qpid/sys/AsynchIO.h|9 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|12 5
Modified: src/qpid/sys/ConnectionInputHandler.h|2 1
Modified: src/qpid/sys/ConnectionOutputHandler.h|2 1
Added: src/qpid/sys/OutputControl.h|38 0
Added: src/qpid/sys/OutputTask.h|38 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|29 21
Modified: src/tests/InProcessBroker.h|43 11
Modified: src/tests/QueueTest.cpp|16 18

Revision: 3b3f99fe73aeef560d57e3d4af2bdd0df40b43db
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2007 20:32:11
Message:
Added extra file to posix sources #MsgLength=36


----
Modified: src/Makefile.am|1 0

Revision: 8f6eea6bc68fc9bf1507b670b041ada10ed9c4fa
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2007 20:32:56
Message:
Fixed wrong file added in last commit #MsgLength=40


----
Modified: src/Makefile.am|1 1

Revision: cb83be418048b8fc600e5fe837615828a4b1b626
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2007 20:43:57
Message:
Further missing file #MsgLength=23


----
Modified: src/Makefile.am|1 0

Revision: d4cd3ccea630df96fa8dc1d8f7f507758cb27f14
Author: Gordon Sim <gsim@apache.org>
Date: 30/11/2007 00:05:50
Message:
Temp hack to fix as yet unclear issue with concurrent flush() and enqueueComplete() #MsgLength=86


----
Modified: src/qpid/broker/PersistableMessage.h|1 1

Revision: 1091dffb8ed4d2b873039ed2e19e5dd25b364f47
Author: Kim van der Riet <kpvdr@apache.org>
Date: 30/11/2007 05:59:37
Message:
Rolled back changes from rev 598440, the _real_ cause of the St9exception error has been solved (elsewhere) #MsgLength=108


----
Modified: src/qpid/broker/MessageStoreModule.cpp|22 25

Revision: 8508da0803f75668b9382f2c2f8f97d1af4aac7f
Author: Gordon Sim <gsim@apache.org>
Date: 30/11/2007 22:37:45
Message:
Altered topic test to use the new session api. Exposed start() through the subscription manager in addition to run(). #MsgLength=121


----
Modified: src/qpid/client/Dispatcher.cpp|15 11
Modified: src/qpid/client/SubscriptionManager.cpp|5 0
Modified: src/qpid/client/SubscriptionManager.h|4 0
Modified: src/tests/topic_listener.cpp|41 30
Modified: src/tests/topic_publisher.cpp|30 29

Revision: 131be74dad72bd48bee9b1f70ce12f1ec63b75ab
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2007 02:12:49
Message:
Default --worker-threads is max(2, cores), performs better on 1 core boxes. #MsgLength=77


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: a1215f75100298f699976547b7ef9c0e48175796
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2007 13:11:38
Message:
Fix problem where client does notice disconnection from Broker. src/qpid/client/SessionCore.cpp: close/open Demux on suspend/resume. src/tests/exception_test.cpp: convert to Session API, boost test. - Temporarily disabled due issues noted in TODO comments #MsgLength=260


----
Modified: src/qpid/client/Demux.cpp|9 0
Modified: src/qpid/client/Demux.h|1 0
Modified: src/qpid/client/SessionCore.cpp|5 4
Modified: src/tests/InProcessBroker.h|19 19
Modified: src/tests/Makefile.am|4 3
Modified: src/tests/exception_test.cpp|77 39

Revision: a3d163ce7cfb81c00bde54899f8c78cd8aa296eb
Author: Gordon Sim <gsim@apache.org>
Date: 03/12/2007 16:11:53
Message:
Added Session.h to list of distributed headers. #MsgLength=50


----
Modified: src/Makefile.am|1 0

Revision: aefa01870c81c0cf3816e3fb141dfc86a8f95d5d
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2007 03:37:14
Message:
incremented release number #MsgLength=29


----
Modified: qpidc.spec.in|1 1

Revision: bc8d4f44ac04df65ec25b61f8e11223d7c0837d6
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2007 04:12:16
Message:
Add option for durability to topic test #MsgLength=42


----
Modified: src/tests/topic_listener.cpp|5 2
Modified: src/tests/topic_publisher.cpp|11 9

Revision: 5cc83f10ff829cca2a7f0f1298d987b43dc571f1
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2007 22:19:06
Message:
Updates to topic test #MsgLength=24


----
Modified: src/tests/topic_listener.cpp|13 6
Modified: src/tests/topic_publisher.cpp|24 37

Revision: 025e5462ab0fadd014958a35893ef159f20894ef
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2007 23:52:51
Message:
Remove start(); not yet safe to send commands while dispatcher is running concurrently. #MsgLength=90


----
Modified: src/qpid/client/SubscriptionManager.cpp|0 5
Modified: src/qpid/client/SubscriptionManager.h|0 3

Revision: 3707e8beb02719b1e4a29b4a0fc5fceb16c4bc72
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2007 23:53:55
Message:
Log exception when prepare fails. #MsgLength=36


----
Modified: src/qpid/broker/TxAck.cpp|3 0

Revision: 67bbc7dc1a974caff60b8d9042d3fbf43cb27a67
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2007 03:33:34
Message:
Patch from Ted Ross <tross@redhat.com> #MsgLength=270


----
Modified: src/qpid/broker/TopicExchange.cpp|2 1

Revision: f65961b96526853bf73fbca5c73ad490da864e4f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/12/2007 05:54:03
Message:
Added options to broker for journal file size. Also brought back exception copying in MessageStoreModue to prevent exceptions thrown in the store lib causing cores when handled in qpidd.cpp. #MsgLength=191


----
Modified: src/qpid/broker/Broker.cpp|11 3
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/MessageStore.h|2 1
Modified: src/qpid/broker/MessageStoreModule.cpp|26 23
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1

Revision: 7186f87458e0f17e1c703b412943d6ab595f04a2
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2007 06:33:34
Message:
examples/Makefile.am: - installcheck target builds installed examples. - Automatically run by rpmbuild and distcheck targets. rubygen/generate: fixed packaging error in rubygen.mk src/Makefile.am: fixed packaging error. #MsgLength=223


----
Modified: examples/Makefile.am|6 8
Modified: qpidc.spec.in|3 0
Modified: rubygen/generate|2 2
Modified: src/Makefile.am|2 1

Revision: c03f11bcbdbbec95a27020cfa734f39885ad9a74
Author: Rafael H. Schloming <rhs@apache.org>
Date: 05/12/2007 07:17:40
Message:
bumped the rpm release number #MsgLength=30


----
Modified: qpidc.spec.in|1 1

Revision: fbdf5fdfe65ca4a3a76f60e321fae641e81c6831
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2007 23:00:52
Message:
Fixed errors in usage text. #MsgLength=29


----
Modified: src/tests/perfdist|3 6

Revision: aded71e68937c593dd59344220a02eb309b79e97
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2007 00:01:06
Message:
Fixed problems with setting pub/sub hosts. #MsgLength=44


----
Modified: src/tests/perfdist|12 19

Revision: e82fd9bf8d1ed94d5f80036d71489bb7f042e432
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2007 00:19:32
Message:
Avoid holding lock while making the flush calls (can cause deadlocking) #MsgLength=74


----
Modified: src/qpid/broker/PersistableMessage.cpp|11 5

Revision: a930c225322f12455180ebf8932e5fbc40ffa124
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2007 00:20:20
Message:
Remove unnecessary file. #MsgLength=27


----
Modified: examples/examples/pub-sub/Makefile|0 3
Deleted: examples/examples/pub-sub/topic_config_queues.cpp|0 128

Revision: 4a14a3660c568436bd1ac9f4f0e651db80e01b6b
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2007 00:45:10
Message:
Removed line for deleted file. #MsgLength=33


----
Modified: examples/Makefile.am|0 1

Revision: e2b36fa4170affb0fbd7ea321aecc0cc8354bebd
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2007 02:24:37
Message:
Extra exception info. #MsgLength=22


----
Modified: src/tests/perftest.cpp|7 3

Revision: 7f12d36515c449723005959e600bcee036c7b6ed
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2007 02:55:20
Message:
Removed deleted program #MsgLength=26


----
Modified: examples/examples/pub-sub/Makefile|1 1

Revision: a5ad6cb2ef059baa0c0d0a250708b6b6d36c9bd4
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2007 05:31:26
Message:
Fixed minor problems with example Makefiles. #MsgLength=46


----
Modified: examples/examples/direct/Makefile|3 13
Modified: examples/examples/fanout/Makefile|3 10
Deleted: examples/examples/fanout/fanout_consumer.cpp|0 83
Modified: examples/examples/pub-sub/Makefile|3 7
Modified: examples/examples/request-response/Makefile|2 7

Revision: 9ffcd2588e41c7fbed702bc2208e193a5922cdea
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2007 20:52:21
Message:
Remove reference to deleted file #MsgLength=35


----
Modified: examples/Makefile.am|0 1

Revision: 446f4dc6f744ed3c6c1a6b4835b51f75ef8262c6
Author: Alan Conway <aconway@apache.org>
Date: 07/12/2007 02:22:17
Message:
Removed redundant TimerA, use intrusive_ptr for Timer. #MsgLength=56


----
Modified: src/qpid/broker/DtxManager.cpp|4 4
Modified: src/qpid/broker/DtxTimeout.h|0 1
Modified: src/qpid/broker/DtxWorkRecord.h|3 3
Modified: src/qpid/broker/Timer.cpp|11 89
Modified: src/qpid/broker/Timer.h|16 63
Modified: src/qpid/management/ManagementAgent.cpp|2 2
Modified: src/tests/TimerTest.cpp|5 4

Revision: 14b437dc9c2f1550e364899681b917ef2de188c2
Author: Alan Conway <aconway@apache.org>
Date: 07/12/2007 02:37:18
Message:
From Ted Ross <tross@redhat.com> #MsgLength=3071


----
Modified: managementgen/schema.py|30 10
Modified: managementgen/templates/Class.cpp|4 1
Modified: src/qpid/broker/Broker.cpp|3 2
Modified: src/qpid/broker/Deliverable.h|1 0
Modified: src/qpid/broker/DeliverableMessage.cpp|4 0
Modified: src/qpid/broker/DeliverableMessage.h|1 0
Modified: src/qpid/broker/DirectExchange.cpp|76 21
Modified: src/qpid/broker/DirectExchange.h|4 4
Modified: src/qpid/broker/Exchange.cpp|80 0
Modified: src/qpid/broker/Exchange.h|30 5
Modified: src/qpid/broker/ExchangeRegistry.cpp|5 5
Modified: src/qpid/broker/ExchangeRegistry.h|8 0
Modified: src/qpid/broker/FanOutExchange.cpp|63 8
Modified: src/qpid/broker/FanOutExchange.h|4 3
Modified: src/qpid/broker/HeadersExchange.cpp|59 12
Modified: src/qpid/broker/HeadersExchange.h|5 4
Modified: src/qpid/broker/Queue.cpp|46 24
Modified: src/qpid/broker/TopicExchange.cpp|61 16
Modified: src/qpid/broker/TopicExchange.h|3 3
Modified: src/qpid/broker/TxPublish.cpp|4 0
Modified: src/qpid/broker/TxPublish.h|3 1
Modified: src/qpid/broker/Vhost.cpp|7 4
Modified: src/qpid/management/ManagementAgent.cpp|18 8
Modified: src/qpid/management/ManagementAgent.h|7 2
Modified: src/qpid/management/ManagementExchange.cpp|6 5
Modified: src/qpid/management/ManagementExchange.h|3 2

Revision: 807dcf6f97f84fbe74740e67b76819b8e34512ac
Author: Alan Conway <aconway@apache.org>
Date: 07/12/2007 03:09:28
Message:
Increased release number. #MsgLength=27


----
Modified: qpidc.spec.in|2 2

Revision: eb0627ebeab9394fca82a5f03ef9deafd68ed7cb
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2007 18:41:53
Message:
Changed to use the get_pointer function for compatability with boost 1.33 and 1.34 #MsgLength=85


----
Modified: src/qpid/broker/SemanticState.cpp|4 2

Revision: 6cea47854563e70f006cc5bbc23b953a09c79458
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2007 22:12:59
Message:
Further use of get_pointer function to mask differences between boost versions. #MsgLength=82


----
Modified: src/qpid/broker/SemanticState.cpp|3 3

Revision: b43a247eb7299414311541a56cd3d6e332dfc3cc
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2007 00:29:59
Message:
examples/verify - run installed examples and verify their output. #MsgLength=235


----
Modified: examples/Makefile.am|1 0
Added: examples/examples/direct/verify.in|38 0
Added: examples/examples/fanout/verify.in|19 0
Added: examples/examples/pub-sub/verify.in|61 0
Added: examples/examples/request-response/verify.in|21 0
Added: examples/verify|68 0
Deleted: examples/verify_functions|0 50

Revision: 2a7dd3b88e9e56e1e765c093c726a47068aaab9b
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2007 00:32:05
Message:
svn:ignore property #MsgLength=21


----

Revision: b5ffb8bcb96c150290c4ab6dbe6bb6c058a9e40d
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2007 03:13:09
Message:
Summary: - Replaced InProcessBroker with BrokerFixture, uses a full loopback broker for more realistic tests. - Extracted non-generated parts of Session_0_10 into SessionBase. - Sundry small fixes. #MsgLength=895


----
Modified: rubygen/templates/Session.rb|6 53
Modified: src/Makefile.am|2 1
Modified: src/qpid/client/Channel.cpp|2 2
Modified: src/qpid/client/CompletionTracker.cpp|5 4
Modified: src/qpid/client/CompletionTracker.h|2 1
Modified: src/qpid/client/ConnectionImpl.cpp|2 0
Modified: src/qpid/client/ConnectionImpl.h|2 0
Modified: src/qpid/client/Connector.cpp|2 2
Modified: src/qpid/client/Connector.h|2 0
Modified: src/qpid/client/Dispatcher.cpp|2 2
Modified: src/qpid/client/ExecutionHandler.cpp|2 0
Modified: src/qpid/client/ExecutionHandler.h|1 0
Modified: src/qpid/client/Message.h|2 2
Added: src/qpid/client/SessionBase.cpp|37 0
Added: src/qpid/client/SessionBase.h|101 0
Modified: src/qpid/client/SessionCore.cpp|4 2
Modified: src/qpid/client/SubscriptionManager.cpp|11 8
Modified: src/qpid/client/SubscriptionManager.h|19 11
Added: src/tests/BrokerFixture.h|101 0
Modified: src/tests/ClientChannelTest.cpp|3 5
Modified: src/tests/ClientSessionTest.cpp|18 26
Modified: src/tests/exception_test.cpp|56 56
Modified: src/tests/perftest.cpp|4 8

Revision: 8bb9d629f383cf70da5118e3ef99ece474a48e6f
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2007 05:57:40
Message:
src/tests/Makefile.am: Add BrokerFixture.h to sourc lists examples/Makefile.am: Fix typo. #MsgLength=91


----
Modified: examples/Makefile.am|1 1
Modified: src/tests/Makefile.am|1 1

Revision: 3c6c83aa9809722c608c5af885f929c05f5e2d26
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2007 01:57:49
Message:
src/tests/SocketProxy.h: proxy between local client & server to simulate network disconnect. src/qpid/client/Connector.h: remove friend hack for previous flawed disconnect approach. src/tests/BrokerFixture.h:   "" src/tests/ClientSessionTest.cpp, exception_test.cpp: use ProxyConnection #MsgLength=288


----
Modified: src/qpid/client/Connector.h|0 1
Modified: src/tests/BrokerFixture.h|0 20
Modified: src/tests/ClientSessionTest.cpp|7 5
Modified: src/tests/Makefile.am|2 1
Added: src/tests/SocketProxy.h|80 0
Modified: src/tests/exception_test.cpp|19 16

Revision: 8db3d6de430fe8ad1a41b9a41482d685ec98ed5e
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2007 02:21:11
Message:
Make sure abs_srcdir is defined (for older automake versions) #MsgLength=63


----
Modified: examples/Makefile.am|3 0

Revision: 963298ab1fa234af0f3f4836507bb8a34751c9f2
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2007 04:22:23
Message:
Patches from Ted Ross <tross@redhat.com> #MsgLength=823


----
Modified: managementgen/templates/Class.h|2 0
Modified: src/qpid/broker/Queue.cpp|7 0
Modified: src/qpid/management/ManagementObject.h|2 2

Revision: f44d1c257086bd36a4e0ba02884bdbfc5a72a903
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/12/2007 04:53:01
Message:
Added missing trailing \ to Makefile.am - the cause of the cruisecontrol build failure #MsgLength=87


----
Modified: src/tests/Makefile.am|1 1

Revision: 97312279d233841b6fcf80ca800139795a995b0c
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2007 05:03:07
Message:
Improved exception message for messages out-of-order. #MsgLength=55


----
Modified: src/tests/perftest.cpp|12 5

Revision: a2277b46cddc0e67a3090adba8f16cf798f24253
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2007 23:29:54
Message:
src/tests/ClientSessionTest.cpp: Disabled hanging test: testDisconnectResume. src/tests/SocketProxy.h: fixed exception handling. src/tests/exception_test.cpp: fixed compile error. #MsgLength=182


----
Modified: src/tests/ClientSessionTest.cpp|12 20
Modified: src/tests/SocketProxy.h|11 9
Modified: src/tests/exception_test.cpp|27 26

Revision: b5f47fb63f27e28387767eada0f68267d3fa5778
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2007 03:52:42
Message:
Change Broker::getPort() return type to uint16_t (was int16_t) #MsgLength=64


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Broker.h|1 1

Revision: 11ca527ce50df85155fc22df52699a5a45e29590
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2007 07:20:34
Message:
Fixed client crash on error opening a connection. #MsgLength=51


----
Modified: src/qpid/client/ConnectionHandler.cpp|11 5
Modified: src/qpid/client/ConnectionImpl.cpp|1 0

Revision: 02cf9cce372e06e33f4f4c602fd7a26e5a0fddaf
Author: Gordon Sim <gsim@apache.org>
Date: 12/12/2007 18:50:58
Message:
Fixed deadlock on connection close #MsgLength=37


----
Modified: src/qpid/client/ConnectionImpl.cpp|13 3
Modified: src/qpid/client/ConnectionImpl.h|2 0

Revision: b75f3f22aeaacb357868d8e0404704082e6153c2
Author: Alan Conway <aconway@apache.org>
Date: 13/12/2007 04:00:43
Message:
src/qpid/InlineAllocator.h: Removed cast, causing problems on alpha platform. src/tests/unit_test.h: Added missing #include <boost/version.hpp> #MsgLength=145


----
Modified: src/qpid/InlineAllocator.h|3 8
Modified: src/tests/unit_test.h|1 0

Revision: eb58b70c51f701c7fcf3c15b340ec8aea2d21e8d
Author: Alan Conway <aconway@apache.org>
Date: 13/12/2007 04:17:10
Message:
Updated valgrind suppressions for F8. #MsgLength=39


----
Modified: src/tests/.valgrind.supp|4 25

Revision: 9952ae226712590128f4cc9b97505a8be1b53871
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2007 02:44:24
Message:
Some fixes relating to message 'staging'. #MsgLength=44


----
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/Broker.h|1 2
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/MessageBuilder.h|1 1
Modified: src/qpid/broker/SemanticHandler.cpp|2 1
Modified: src/qpid/client/ExecutionHandler.cpp|1 2
Modified: src/tests/MessageBuilderTest.cpp|3 3

Revision: aa3fd1b58be3cb3f3eb7f0039d7290f6447f120e
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2007 04:39:28
Message:
perftest: - changed default message size to 1024 - made --pub-confirm=true the default for accurate publish rates. - added Mbytes/sec rate to results #MsgLength=227


----
Modified: src/tests/perfdist|26 21
Modified: src/tests/perftest.cpp|16 10

Revision: c4c52929b9f8a9f4038efc1f488921b1f0001df0
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2007 05:23:53
Message:
examples/verify: Modified so it can be run in a checkout or in an installation. checkout: cd cpp/examples/examples; ../verify installed: cd <installed>/examples; <checkout>/cpp/examples/verify #MsgLength=194


----
Modified: examples/verify|6 5

Revision: 5e824871267fb6949f70d52806aece188c4a30ff
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2007 19:22:56
Message:
Handle exceptions while doing 'output' for the connection (i.e. message delivery) #MsgLength=84


----
Modified: src/qpid/broker/Connection.cpp|8 1

Revision: 100078f7bced72ae718384bb2b41e533387ddee6
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2007 19:24:15
Message:
Only release content for durable queues. #MsgLength=43


----
Modified: src/qpid/broker/Message.cpp|11 9
Modified: src/qpid/broker/Queue.cpp|7 1

Revision: 26cb86343ff4b39d52535e4ddcad1fe6a423dfb0
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2007 19:24:45
Message:
Allow the queue policy to be set through command line options #MsgLength=64


----
Modified: src/tests/perftest.cpp|16 7

Revision: 4842853870009fa5b912a41d6d47269a62e0ab7f
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2007 22:38:57
Message:
Changed --store to --store-lib as a simple way to avoid confusing the options parser. #MsgLength=89


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 5185a0680f455923635bbba869cadd68a7bf83e1
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2007 00:25:47
Message:
Some fixes for 'flow to disk' (i.e. dropping message content from memory, and loading it from disk for delivery) #MsgLength=115


----
Modified: src/qpid/broker/Message.cpp|14 1
Modified: src/qpid/broker/Message.h|3 1
Modified: src/qpid/broker/MessageStore.h|1 1
Modified: src/qpid/broker/MessageStoreModule.cpp|1 1
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1

Revision: 973129288a900a4cc99edbe368869f5cb019d292
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2007 01:10:16
Message:
Log to stderr by default #MsgLength=25


----
Modified: src/qpid/log/Options.cpp|1 1

Revision: a53347c9c89ff39cd170f914dec1ce2347c04714
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2007 01:21:53
Message:
From:  Jonathan Robie <jrobie@redhat.com> - Updated examples and verify script. #MsgLength=129


----
Modified: examples/Makefile.am|14 3
Modified: examples/examples/direct/Makefile|1 1
Added: examples/examples/direct/declare_queues.cpp|84 0
Added: examples/examples/direct/direct_producer.cpp|104 0
Modified: examples/examples/direct/listener.cpp|6 8
Modified: examples/examples/direct/verify.in|2 21
Modified: examples/examples/fanout/Makefile|1 1
Added: examples/examples/fanout/declare_queues.cpp|85 0
Added: examples/examples/fanout/fanout_producer.cpp|102 0
Modified: examples/examples/fanout/listener.cpp|0 2
Modified: examples/examples/fanout/verify.in|2 2
Modified: examples/examples/request-response/client.cpp|6 7
Modified: examples/examples/request-response/server.cpp|15 5
Modified: examples/examples/request-response/verify.in|5 5
Modified: examples/verify|21 7

Revision: bc3f770730772ae991b5fcefef84b335da3a06d8
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2007 01:50:24
Message:
Updated tests expectations inline with recent change to default logging output #MsgLength=82


----
Modified: src/tests/logging.cpp|1 1

Revision: 44a3812e13a1ea087c3f60acbc23af50dca0469b
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2007 02:40:03
Message:
verify: starts its own broker when run in build. Makefile.am: fixed verify issues. #MsgLength=84


----
Modified: examples/Makefile.am|7 5
Deleted: examples/examples/direct/direct_config_queues.cpp|0 86
Deleted: examples/examples/fanout/fanout_config_queues.cpp|0 86
Modified: examples/verify|5 3

Revision: 12f5d04a3cf971c82dda052ce36ec854a9a3e629
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2007 03:33:48
Message:
Fix sequence numbers and sequence checks in perftest. #MsgLength=55


----
Modified: src/tests/perftest.cpp|18 17

Revision: e91be78b462dd92d5c4e0d028e9d845d45cf127a
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2007 04:49:14
Message:
examples/Makefile.am: Fixed build failures. Removed unused files: examples/examples/direct/direct_persistent_config_queues.cpp examples/examples/direct/direct_persistent_publisher.cpp examples/examples/direct/direct_publisher.cpp examples/examples/fanout/fanout_publisher.cpp #MsgLength=281


----
Modified: examples/Makefile.am|13 11
Deleted: examples/examples/direct/direct_persistent_config_queues.cpp|0 101
Deleted: examples/examples/direct/direct_persistent_publisher.cpp|0 111
Deleted: examples/examples/direct/direct_publisher.cpp|0 104
Deleted: examples/examples/fanout/fanout_publisher.cpp|0 102

Revision: ff76de55a228982dac44508adb34a92bf996232c
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2007 18:59:26
Message:
Changed to use the new session api, made size and max-frame-size configurable. #MsgLength=81


----
Modified: src/tests/client_test.cpp|83 74

Revision: b61427f3d0f9894a7357b7b8a3b4b09b8df47ede
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2007 19:01:02
Message:
Fixed fragmentation (content bodies were 1 byte smaller than they could be due to including end of frame marker in the overhead) #MsgLength=131


----
Modified: src/qpid/client/ExecutionHandler.cpp|1 1

Revision: 7aced9a883816865bef1c402c131c6ca80dafa3e
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2007 19:06:33
Message:
Updated svn:ignore #MsgLength=21


----

Revision: 1ec5bc59eba4a5572c0ffa9a50f19f42da45f0a7
Author: Gordon Sim <gsim@apache.org>
Date: 18/12/2007 02:00:26
Message:
Add log message when broker closes connection #MsgLength=48


----
Modified: src/qpid/client/ConnectionHandler.cpp|3 1

Revision: 056c0b8868e366425d20a74feb49d605f39c5cda
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/12/2007 04:08:46
Message:
* Limited time allowed for reading on a single connection in a single go to 2ms * Limit bytes allowed to be written on a connection on a single go to the max ever read * Small performance fix for appending to FrameSets #MsgLength=220


----
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|57 14
Modified: src/qpid/sys/posix/Time.cpp|1 1

Revision: c3719ac373cbcfcf04af46c881557759dacf17e4
Author: Gordon Sim <gsim@apache.org>
Date: 19/12/2007 00:58:23
Message:
Fixes to max frame size default and fragmentation on broker. #MsgLength=63


----
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/Connection.h|2 2
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.cpp|1 1
Modified: src/qpid/client/ExecutionHandler.h|1 1
Modified: src/qpid/framing/SendContent.cpp|3 1

Revision: 38e4c409f6745367df5f787af25114f7a534e73f
Author: Nuno Santos <nsantos@apache.org>
Date: 19/12/2007 02:41:14
Message:
include fixes from Gordon Sim (fragmentation, lazy-loading, staging) and Alan Conway (exception handling in the client) #MsgLength=120


----
Modified: qpidc.spec.in|5 1

Revision: b2875d7e7cfa8cf3f824bf1786a8e3df7c50eb20
Author: Gordon Sim <gsim@apache.org>
Date: 20/12/2007 19:19:30
Message:
Fixed to ensure that the correct exchange is used for different modes. (Previously the default exchange was being used regardless of mode; if a shared test was run followed by e.g. a fanout test the messages would collect in the shared queue which had no listeners and the memroy buildup skewed test results). #MsgLength=312


----
Modified: src/tests/perftest.cpp|8 7

Revision: 028af9b4457b06c0d9ddce6316df5217fb4bd5a7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/12/2007 01:40:46
Message:
Probable fix for QPID-712: Poller::epollToDirection now treats EPOLLERR as equivalent to EPOLLHUP for purposes of indicating a disconnect from the peer on the write side of the connection #MsgLength=189


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|3 1

Revision: 7056de17f0484131216585751e21a2fb607b3ca4
Author: Gordon Sim <gsim@apache.org>
Date: 21/12/2007 20:29:43
Message:
Fixed bug in completion tracking. #MsgLength=36


----
Modified: src/qpid/client/CompletionTracker.cpp|1 1

Revision: 59950b2a9a83836df4a233d1a144e5669ac744c3
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 02/01/2008 23:56:20
Message:
patch-715  (tross) #MsgLength=21


----
Modified: managementgen/main.py|4 3
Modified: src/qpid/broker/Broker.cpp|6 0
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Connection.cpp|63 3
Modified: src/qpid/broker/Connection.h|14 2
Modified: src/qpid/broker/ConnectionFactory.cpp|3 2
Modified: src/qpid/broker/ConnectionFactory.h|2 2
Modified: src/qpid/broker/Queue.cpp|0 4
Modified: src/qpid/broker/SessionManager.cpp|2 0
Modified: src/qpid/broker/SessionState.cpp|75 0
Modified: src/qpid/broker/SessionState.h|10 1
Modified: src/qpid/management/ManagementAgent.cpp|62 23
Modified: src/qpid/management/ManagementAgent.h|6 2
Modified: src/qpid/management/ManagementExchange.h|1 1
Modified: src/qpid/management/ManagementObject.h|10 6
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|1 1
Modified: src/qpid/sys/ConnectionInputHandlerFactory.h|2 1

Revision: 7a47122c5378de465af48b5aa4b8caae0beb1cb7
Author: Nuno Santos <nsantos@apache.org>
Date: 04/01/2008 02:48:21
Message:
add ruby as a build dependency #MsgLength=31


----
Modified: qpidc.spec.in|5 1

Revision: 2340383546cd2d7011d41161eafa25630e2c005f
Author: Nuno Santos <nsantos@apache.org>
Date: 04/01/2008 04:19:23
Message:
limit builds to i386 and x86_64 archs #MsgLength=38


----
Modified: qpidc.spec.in|6 1

Revision: 41fa6f1537b27392610486959f0241cba5f85a75
Author: Nuno Santos <nsantos@apache.org>
Date: 04/01/2008 06:00:09
Message:
added missing header file #MsgLength=26


----
Modified: src/Makefile.am|1 0

Revision: f022743296c70ef540d82f9ad8b2ee53834ea574
Author: Alan Conway <aconway@apache.org>
Date: 04/01/2008 23:42:34
Message:
Makefile.am: added check-long target to run perftest scenarios. Not run as part of normal check target. Takes about 5 minutes to run on an amd-32 optimized build. For a longer run, increase PERFTEST_MULT in run_perftest. #MsgLength=222


----
Modified: src/tests/Makefile.am|8 4
Added: src/tests/fanout_perftest|2 0
Added: src/tests/multiq_perftest|2 0
Modified: src/tests/quick_perftest|1 1
Added: src/tests/run_perftest|8 0
Added: src/tests/shared_perftest|2 0
Added: src/tests/topic_perftest|2 0

Revision: bf34999ef8f3ae65c2918bd0847398b4aea31cb9
Author: Gordon Sim <gsim@apache.org>
Date: 05/01/2008 00:49:29
Message:
Provide method to test for empty local queue. #MsgLength=48


----
Modified: src/qpid/client/LocalQueue.cpp|7 0
Modified: src/qpid/client/LocalQueue.h|1 0
Modified: src/qpid/sys/BlockingQueue.h|6 1

Revision: 7ccc300fa8a11c49063b1dccde06822939811dc0
Author: Gordon Sim <gsim@apache.org>
Date: 05/01/2008 00:50:21
Message:
Additional test for excercising transactional behaviour. #MsgLength=59


----
Modified: src/tests/Makefile.am|4 0
Added: src/tests/txtest.cpp|271 0

Revision: d2b39ea028756f17c44693f0f488b7eda335487b
Author: Gordon Sim <gsim@apache.org>
Date: 05/01/2008 02:14:52
Message:
Ensure tx test retains durability of 'transfered' messages. #MsgLength=62


----
Modified: src/tests/txtest.cpp|1 0

Revision: 93ba8482cf3c40b2d2433b2ee333f731c0dce59b
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2008 00:28:07
Message:
Patch from https://issues.apache.org/jira/browse/QPID-722 by Ted Ross: #MsgLength=2018


----
Modified: managementgen/generate.py|94 70
Modified: managementgen/main.py|12 17
Modified: managementgen/schema.py|32 32
Modified: managementgen/templates/Args.h|1 0
Modified: managementgen/templates/Class.cpp|1 0
Modified: managementgen/templates/Class.h|1 0
Modified: src/Makefile.am|4 4
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|11 2
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|9 2
Modified: src/qpid/management/ManagementAgent.h|3 1

Revision: 2d657de128f10bbccc45c884b7df32526930b564
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2008 00:35:18
Message:
Omitted in previous commit. #MsgLength=28


----
Added: managementgen/templates/Makefile.mk|37 0

Revision: f6026585900a2391ea12763238e292e4bdb94d94
Author: Nuno Santos <nsantos@apache.org>
Date: 08/01/2008 05:34:49
Message:
add missing header file SessionManager.h #MsgLength=41


----
Modified: qpidc.spec.in|4 1

Revision: 16e7253dae4b8466c23c14cd425ce663a885e7ab
Author: Gordon Sim <gsim@apache.org>
Date: 09/01/2008 19:54:51
Message:
Extra level of exception handling to prevent core dumps. #MsgLength=59


----
Modified: src/tests/txtest.cpp|7 2

Revision: 3fd216dd28521f5426a63b13126c2208242e63dd
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2008 06:50:23
Message:
Client always collects at least an entire frameset into a single buffer when possible. Based on patch from Gordon Sim. #MsgLength=465


----
Modified: src/qpid/client/Connector.cpp|95 80
Modified: src/qpid/client/Connector.h|28 2
Modified: src/qpid/framing/Buffer.cpp|0 4
Modified: src/qpid/framing/Buffer.h|7 4
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|125 121
Modified: src/qpid/sys/posix/AsynchIO.cpp|31 28
Modified: src/tests/perftest.cpp|1 1

Revision: afadb6d51a266f5e7baff525be2c96385adde1b2
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2008 09:28:31
Message:
Fix bug in Connector - incorrect use of iterator. #MsgLength=51


----
Modified: src/qpid/client/Connector.cpp|10 10
Modified: src/qpid/client/Connector.h|1 1

Revision: 368c6d342b8b0824da7f344188986ce729291478
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2008 09:29:03
Message:
svn:ignore properties #MsgLength=23


----

Revision: 22809ed66352ef68edba78d8eba0ec17fdd8395a
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2008 23:29:05
Message:
Allow more than one message to be encoded into a single buffer if available. #MsgLength=79


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|12 2

Revision: 7d6900f5ac2e05632e0e9a35dc685a4c51f5009d
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2008 23:45:57
Message:
A new management data type (and the code-generation support for it) have been added that allows min/max/average statistics to be tracked. #MsgLength=139


----
Modified: managementgen/schema.py|61 7

Revision: 9161af130129fe426d98f90c3f978cc55dcc241e
Author: Alan Conway <aconway@apache.org>
Date: 14/01/2008 22:55:08
Message:
Apply patch from QPID-732 by Ted Ross. #MsgLength=2602


----
Modified: src/qpid/broker/Broker.h|5 10

Revision: e08570e6ace18dd014abccbf20032bec7f51f72e
Author: Alan Conway <aconway@apache.org>
Date: 14/01/2008 22:55:46
Message:
Apply patch from QPID-732 by Ted Ross. #MsgLength=2602


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/Options.cpp|52 5
Modified: src/qpid/Options.h|2 1
Modified: src/qpid/Plugin.h|7 0
Modified: src/qpid/broker/Broker.cpp|33 50
Modified: src/qpid/broker/DtxManager.cpp|7 1
Modified: src/qpid/broker/DtxManager.h|3 2
Modified: src/qpid/broker/MessageStoreModule.cpp|5 5
Modified: src/qpid/broker/MessageStoreModule.h|3 3
Modified: src/qpid/broker/QueueRegistry.cpp|9 3
Modified: src/qpid/broker/QueueRegistry.h|8 3
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 0
Modified: src/qpidd.cpp|78 7

Revision: dda9ab509ebebabb2280f44549883f9d99c1c9a5
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2008 02:27:35
Message:
From https://issues.apache.org/jira/browse/QPID-737 by Ted Ross. #MsgLength=265


----
Modified: src/qpidd.cpp|3 3

Revision: 1418ed46c5fdc58cc810200544ad812e4eb21141
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2008 19:34:18
Message:
Added option for making each published message have unique data (that can be tracked e.g. for latency measurement) #MsgLength=117


----
Modified: src/tests/perftest.cpp|26 5

Revision: d6592e5b902e62817f34442a8fa65b184b97c027
Author: Gordon Sim <gsim@apache.org>
Date: 16/01/2008 23:18:34
Message:
Add option to perftest to run for n iterations and print averages of all reported rates. #MsgLength=91


----
Modified: src/tests/perftest.cpp|128 75

Revision: fb637301558abd0ce08f6a47abdd7dd1bb7b00c9
Author: Gordon Sim <gsim@apache.org>
Date: 17/01/2008 21:04:56
Message:
Set the exchange field in delivery properties on the broker. (required an adjustment to the size of messages in the bytes based credit test) #MsgLength=143


----
Modified: src/qpid/broker/SemanticState.cpp|1 0

Revision: a5b6bdf2f5d388a79881baa9f3756087950fd14c
Author: Gordon Sim <gsim@apache.org>
Date: 17/01/2008 21:15:54
Message:
Use amq.direct in reply to (as queue is bound to that exchange anyway) #MsgLength=73


----
Modified: examples/examples/request-response/client.cpp|1 1

Revision: ea27939967ee08380a5dd0e4a4a8c9a8214448f9
Author: Alan Conway <aconway@apache.org>
Date: 18/01/2008 04:50:18
Message:
Intrusive list template qpid::IList and unit tests. #MsgLength=53


----
Modified: src/Makefile.am|2 1
Added: src/qpid/IList.h|175 0
Added: src/tests/IList.cpp|223 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/test_tools.h|31 11

Revision: c83e967089bb844bd3ab9d836c1e0e8c64b63980
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2008 04:52:36
Message:
Removed erroneous comment #MsgLength=28


----
Modified: src/tests/txtest.cpp|0 7

Revision: 650494d35053e2c2780698de8968b63310a0e5e8
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2008 05:17:42
Message:
Added a test to measure latency (still needs refining, still evolving) #MsgLength=73


----
Modified: src/tests/Makefile.am|4 0
Added: src/tests/latencytest.cpp|372 0

Revision: 6cb60c8e45e6b4174554c2bd0abe02995d3a4179
Author: Alan Conway <aconway@apache.org>
Date: 18/01/2008 08:11:27
Message:
Add optional host, port arguments to all example clients. #MsgLength=216


----
Modified: examples/Makefile.am|1 1
Modified: examples/examples/direct/declare_queues.cpp|4 2
Modified: examples/examples/direct/direct_producer.cpp|4 2
Modified: examples/examples/direct/listener.cpp|4 2
Modified: examples/examples/fanout/declare_queues.cpp|4 2
Modified: examples/examples/fanout/fanout_producer.cpp|4 2
Modified: examples/examples/fanout/listener.cpp|4 2
Modified: examples/examples/pub-sub/topic_listener.cpp|4 2
Modified: examples/examples/pub-sub/topic_publisher.cpp|4 2
Modified: examples/examples/pub-sub/verify.in|1 0
Modified: examples/examples/request-response/client.cpp|4 2
Modified: examples/examples/request-response/server.cpp|4 2
Modified: examples/examples/request-response/verify.in|1 0
Modified: examples/verify|16 24
Modified: src/qpid/sys/posix/Socket.cpp|14 2
Modified: src/qpid/sys/posix/check.h|1 1

Revision: ba50feedb8fd8f05155b34711847d9c7a8f494ff
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2008 05:44:55
Message:
qpid/IList.h: Added public T* getNext(), T* getPrev() to IListNode so node subclasses can follow their own links. #MsgLength=115


----
Modified: src/qpid/IList.h|21 9
Modified: src/tests/IList.cpp|16 2

Revision: fe205ce7b076d77bb1bb32feb6de2b8d89b2873f
Author: Gordon Sim <gsim@apache.org>
Date: 21/01/2008 19:09:20
Message:
bump up rev for recent changes to plugin modules & mgmt #MsgLength=58


----
Modified: qpidc.spec.in|4 1

Revision: 506e1f9872e1f0108600efe64b93fbf3e0408d11
Author: Alan Conway <aconway@apache.org>
Date: 22/01/2008 03:17:08
Message:
From QPID-752 by Ed Hill: configure checks for help2man. #MsgLength=58


----
Modified: configure.ac|3 1

Revision: bfb45ccb6778eb5730c33bbee3eefd42d53837a5
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2008 22:37:15
Message:
Some minor changes to doc; primarily aimed at making the list of classes listed as client API more useful. #MsgLength=109


----
Modified: rubygen/templates/Session.rb|1 0
Modified: src/qpid/client/AckMode.h|2 2
Modified: src/qpid/client/AckPolicy.h|2 0
Modified: src/qpid/client/Channel.h|2 1
Modified: src/qpid/client/Exchange.h|2 2
Modified: src/qpid/client/Execution.h|3 0
Modified: src/qpid/client/LocalQueue.h|2 0
Modified: src/qpid/client/MessageQueue.h|1 4
Modified: src/qpid/client/Queue.h|2 2
Modified: src/qpid/client/Session.h|5 0
Modified: src/qpid/client/SubscriptionManager.h|5 0
Modified: src/qpid/sys/BlockingQueue.h|3 0

Revision: dfa5a96a3e00091e1b2ad79d1dcf02108d5c2ef4
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2008 23:45:33
Message:
Take space out the queue name as it currently upsets the java client when used in the reply-to field. #MsgLength=104


----
Modified: examples/examples/request-response/client.cpp|1 1
Modified: examples/examples/request-response/verify.in|6 6

Revision: dcfe59501f4695d1bc7b84c277048da04ffb8dbb
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2008 01:41:00
Message:
examples/Makefile.am: - verify.tar target, tars up verify script for easy transport to installation. #MsgLength=351


----
Modified: examples/Makefile.am|7 1
Modified: examples/examples/pub-sub/verify.in|1 0
Modified: examples/verify|0 1
Modified: src/qpid/client/Dispatcher.cpp|1 1
Modified: src/qpid/client/SubscriptionManager.cpp|2 1

Revision: c92020a2ad4d189ad3022160e7458e852eb43975
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2008 04:08:46
Message:
Fixed bug in verify - was not properly killing ./server process in request-response example. Streamlined example scripts a little. #MsgLength=132


----
Modified: examples/examples/direct/verify.in|3 6
Modified: examples/examples/fanout/verify.in|3 6
Modified: examples/examples/pub-sub/verify.in|2 6
Modified: examples/examples/request-response/verify.in|2 5
Modified: examples/verify|35 28

Revision: d148575f2b10e0cbb2b4235d5fd631998fd73d32
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2008 04:23:56
Message:
verify: kill any stray child processes on exit. #MsgLength=49


----
Modified: examples/verify|3 0

Revision: a0025578200756694a0e7bdc7fa8ed0d157088be
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2008 22:25:02
Message:
Fix error in script - not passing $ARGS to background processes. #MsgLength=65


----
Modified: examples/verify|8 4

Revision: 4d46412eb90169dc4072323667a35b6a5bda5e31
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2008 06:26:12
Message:
Improved/additional client API tests. - Replaced InProcessBroker with a more accurate loopback BrokerFixture. - Added asserts for mutex/condition/thread errors in debug build. - Added client tests for several exception conditions. - Added peer address to log ouput, client/server distinguished by (addr) or [addr] - Fixed various deadlocks & races exposed by the new  asserts & tests. #MsgLength=1707


----
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionHandler.h|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|45 39
Modified: src/qpid/client/ConnectionImpl.h|5 2
Modified: src/qpid/client/Connector.cpp|15 7
Modified: src/qpid/client/Connector.h|5 1
Modified: src/qpid/client/Demux.cpp|4 0
Modified: src/qpid/client/Demux.h|2 1
Modified: src/qpid/client/Dispatcher.cpp|1 2
Modified: src/qpid/client/SessionCore.cpp|9 4
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Options.cpp|8 8
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|1 1
Modified: src/qpid/sys/Socket.h|2 0
Modified: src/qpid/sys/posix/Condition.h|5 5
Modified: src/qpid/sys/posix/Mutex.h|13 13
Modified: src/qpid/sys/posix/Socket.cpp|4 0
Modified: src/qpid/sys/posix/Thread.h|4 4
Modified: src/qpid/sys/posix/check.h|14 4
Deleted: src/tests/APRBaseTest.cpp|0 47
Modified: src/tests/BrokerFixture.h|50 27
Modified: src/tests/ClientChannelTest.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|2 24
Deleted: src/tests/InProcessBroker.h|0 245
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/SocketProxy.h|120 38
Modified: src/tests/exception_test.cpp|22 31
Modified: src/tests/quick_perftest|1 1

Revision: 93ca5a31e2c407d5d63f0097d5691466d7d88ccc
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2008 06:51:20
Message:
Fix error in NDEBUG builds. #MsgLength=28


----
Modified: src/qpid/sys/posix/check.h|1 2

Revision: c192d0061ba786c8b949292341e5951d45c52c69
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2008 07:10:20
Message:
Fixed re-entry problem with exceptions throw in logger code. - src/qpid/log/Logger.cpp - src/qpid/log/Statement.cpp #MsgLength=119


----
Modified: src/qpid/log/Logger.cpp|2 1
Modified: src/qpid/log/Statement.cpp|2 2

Revision: 8ef9778e3b89de13bda5fbc32f08bee436ad98cb
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2008 23:27:39
Message:
Patch from Ted Ross, QPID-744 #MsgLength=349


----
Modified: src/qpidd.cpp|9 5

Revision: 9a7a743d00336048eb69260b6e93e7f44c0a5c07
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 01:17:06
Message:
Convert ClientSessionTest to boost. #MsgLength=36


----
Modified: src/tests/ClientSessionTest.cpp|98 106
Modified: src/tests/Makefile.am|3 3

Revision: 765a66d326fbd2d62143e7964553b4df2d4cfd23
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 01:42:22
Message:
Added disabled test and FIXME note to fix client-side race. #MsgLength=60


----
Modified: src/tests/ClientSessionTest.cpp|26 18

Revision: 15c4ca1a8198a346b426056698880ce59206e6c3
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 22:48:59
Message:
Deleted unused classes, adjusted files that still mention them. #MsgLength=261


----
Modified: src/Makefile.am|0 3
Modified: src/qpid/broker/Broker.cpp|0 13
Modified: src/qpid/broker/Broker.h|0 13
Modified: src/qpid/cluster/Cluster.h|2 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/SessionManager.cpp|2 3
Modified: src/qpid/cluster/SessionManager.h|3 4
Deleted: src/qpid/framing/ChannelAdapter.cpp|0 71
Deleted: src/qpid/framing/ChannelAdapter.h|0 93
Deleted: src/qpid/framing/HandlerUpdater.h|0 46
Deleted: src/tests/BrokerChannelTest.cpp|0 367
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/MessageTest.cpp|0 1
Deleted: src/tests/MockChannel.h|0 55
Modified: src/tests/QueueTest.cpp|0 1
Modified: src/tests/TxAckTest.cpp|0 1
Modified: src/tests/TxPublishTest.cpp|0 1

Revision: 79833588bed6186ca719d2838824a0851224b2f8
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 23:45:29
Message:
Provide public read-access to IListNode pointers, so frame handlers can use then to find the next frame. #MsgLength=105


----
Modified: src/qpid/IList.h|6 1
Modified: src/tests/IList.cpp|4 0

Revision: 46a6950cb061b79eb80aeee4d69f137fe905ca93
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 23:48:35
Message:
Remove references to defunct broker::ChannelHandler #MsgLength=52


----
Modified: src/qpid/broker/BrokerAdapter.h|0 2

Revision: 2cd24bf39459aa7d688bc3ec32ffa092b3ca99a4
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2008 23:49:55
Message:
Log peer address with SEND/RECV messages. #MsgLength=43


----
Modified: src/qpid/client/Connector.cpp|3 2

Revision: 84c52efbd922774cf4da9847c57136a3dd137a85
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2008 04:29:46
Message:
Re-enabled build of cluster code when openais is installed. #MsgLength=60


----
Modified: configure.ac|2 2
Modified: src/cluster.mk|13 15
Modified: src/qpid/cluster/Cluster.cpp|9 8
Modified: src/qpid/cluster/Cluster.h|2 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 2
Modified: src/qpid/cluster/Cpg.cpp|0 11
Modified: src/qpid/cluster/Cpg.h|1 5
Deleted: src/qpid/cluster/SessionManager.cpp|0 111
Deleted: src/qpid/cluster/SessionManager.h|0 89
Modified: src/qpid/framing/FrameDefaultVisitor.h|4 6

Revision: 577f50db783c4b390b14f3455d7c073a95253a3d
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2008 04:39:26
Message:
Added Observer to SessionManager for cluster use. #MsgLength=50


----
Modified: src/qpid/broker/SessionManager.cpp|6 0
Modified: src/qpid/broker/SessionManager.h|15 0

Revision: 0988ef29ad58d26cc3929000392717434629dfc7
Author: Gordon Sim <gsim@apache.org>
Date: 30/01/2008 20:18:53
Message:
Parse out the userid and password from the response; a small step on the road to authentication. #MsgLength=99


----
Modified: src/qpid/broker/Connection.cpp|10 0
Modified: src/qpid/broker/Connection.h|4 0
Modified: src/qpid/broker/ConnectionHandler.cpp|22 4

Revision: d27c905ef2e0d2f7d154643e20723d920cc913a2
Author: Alan Conway <aconway@apache.org>
Date: 31/01/2008 06:32:17
Message:
Remove Socket param from Connection constructor, pass a string id instead. #MsgLength=77


----
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/ConnectionFactory.cpp|1 1

Revision: 036a7f52d84759fc60b836d8178f6fdf51a12bc5
Author: Alan Conway <aconway@apache.org>
Date: 31/01/2008 06:34:50
Message:
From Ted Ross, https://issues.apache.org/jira/browse/QPID-767 #MsgLength=164


----
Modified: src/qpidd.cpp|1 1

Revision: 8b6e151c1d46da851d37b03655e9eb0df5ff174e
Author: Gordon Sim <gsim@apache.org>
Date: 01/02/2008 02:50:46
Message:
Make ports accesible through socket interface. Add local port to each logged frame in the client Connector #MsgLength=109


----
Modified: src/qpid/client/Connector.cpp|10 4
Modified: src/qpid/client/Connector.h|1 0
Modified: src/qpid/sys/Socket.h|9 0
Modified: src/qpid/sys/posix/Socket.cpp|39 0

Revision: 8d3472db0cc2819159a8aa5b8bee729d73d0399b
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2008 07:14:49
Message:
Generate URLs for local host. #MsgLength=31


----
Modified: src/qpid/Url.cpp|40 1
Modified: src/qpid/Url.h|8 0

Revision: 8c6e73254fdd686de9526a0ad5f7510fb2f6afb8
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2008 00:03:02
Message:
Added cluster URL configuration, defaults to all interfaces. #MsgLength=325


----
Modified: src/qpid/Plugin.h|4 2
Modified: src/qpid/Url.cpp|23 5
Modified: src/qpid/Url.h|13 6
Modified: src/qpid/broker/Broker.cpp|1 6
Modified: src/qpid/broker/Broker.h|3 5
Modified: src/qpid/cluster/Cluster.cpp|3 3
Modified: src/qpid/cluster/Cluster.h|6 4
Modified: src/qpid/cluster/ClusterPlugin.cpp|28 12
Modified: src/tests/Url.cpp|1 1

Revision: 06558b23b4786e054cb58c557421ed20a544a958
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2008 02:02:42
Message:
Cluster code fixed for changes in codebase. - Using SessionManager::Observer - Better ais test setup, only need to be member of ais group. - Update cluster_client - SessionState holds handler chains. - Cluster frames include next handler ptr. #MsgLength=250


----
Modified: src/qpid/broker/SessionManager.cpp|2 1
Modified: src/qpid/broker/SessionState.cpp|13 20
Modified: src/qpid/broker/SessionState.h|7 10
Modified: src/qpid/cluster/Cluster.cpp|91 16
Modified: src/qpid/cluster/Cluster.h|6 11
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Deleted: src/tests/Cluster.cpp|0 111
Deleted: src/tests/Cluster.h|0 73
Modified: src/tests/Cpg.cpp|6 2
Modified: src/tests/ais_check|8 20
Added: src/tests/ais_run|15 0
Renamed: src/tests/ais_test.cpp [from src/tests/Cluster_child.cpp]|4 34
Modified: src/tests/cluster.mk|14 49
Modified: src/tests/cluster_client.cpp|23 21
Modified: src/tests/start_cluster|1 1

Revision: 0ebb24267e516032cb579b8275eed5af4dfd21ce
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2008 02:21:01
Message:
Initial cut of inter-broker bridging #MsgLength=39


----
Modified: src/qpid/broker/Broker.cpp|10 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/Connection.cpp|170 20
Modified: src/qpid/broker/Connection.h|26 1
Modified: src/qpid/broker/ConnectionHandler.cpp|50 4
Modified: src/qpid/broker/ConnectionHandler.h|24 2
Modified: src/qpid/broker/SessionHandler.cpp|20 4
Modified: src/qpid/broker/SessionHandler.h|7 0
Modified: src/qpid/sys/Acceptor.h|1 0
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|52 1
Modified: src/qpid/sys/ConnectionInputHandler.h|1 0

Revision: fa0a40c546f1f41e6b043579101e25772e6a462a
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2008 02:26:08
Message:
Oops, missed makefile in last commit. #MsgLength=40


----
Modified: src/Makefile.am|2 0

Revision: 1d95804e0dcba0feca02cfe09564021a0872eaae
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2008 02:27:23
Message:
Missed a couple of new files in previous commit. #MsgLength=51


----
Added: src/qpid/broker/Bridge.cpp|98 0
Added: src/qpid/broker/Bridge.h|64 0

Revision: ec81b779da1aebaf13ca3b1bd9a4f7d95a388ca2
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2008 02:28:14
Message:
Use 'guest' as default uid and password for tests. #MsgLength=53


----
Modified: src/tests/TestOptions.h|2 2

Revision: 37b31d835a255a07222b139f4f8ab1fadbbfe742
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2008 02:28:46
Message:
svn:ignore properties. #MsgLength=23


----

Revision: d3c6207a3b38f8411b3b3a4b9152d94c3ca1ba22
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2008 02:54:27
Message:
Remove includes to files no longer generated. #MsgLength=48


----
Modified: src/qpid/broker/Connection.cpp|0 2

Revision: bef5567b5fe6326e93371d64475dd26d215a2386
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 05/02/2008 04:11:39
Message:
add interval pu/sub options to test many concurrent connections #MsgLength=64


----
Modified: src/tests/perftest.cpp|12 2

Revision: 97394f1e9b36f11fcdd84cee04bdcd3eb8533744
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 05/02/2008 04:38:19
Message:
Turn management on by defualt #MsgLength=30


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 50bfc351c1d15be086a4dbda0d668366eb1afb81
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2008 04:44:14
Message:
Added testSendToSelf for https://bugzilla.redhat.com/show_bug.cgi?id=410551 M      src/tests/ClientSessionTest.cpp #MsgLength=526


----
Modified: src/qpid/broker/Timer.cpp|4 8
Modified: src/qpid/broker/Timer.h|0 1
Modified: src/qpid/client/LocalQueue.cpp|9 2
Modified: src/qpid/client/LocalQueue.h|2 2
Modified: src/qpid/sys/BlockingQueue.h|5 1
Modified: src/tests/BrokerFixture.h|2 0
Modified: src/tests/ClientSessionTest.cpp|17 0

Revision: b78fe99c2edeac605d3a8582621e523aeeb5837b
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2008 04:49:05
Message:
Replaced --enable-cluster option with --with-cpg to enable/disable CPG. #MsgLength=245


----
Modified: configure.ac|25 21
Modified: qpidc.spec.in|3 3
Modified: src/cluster.mk|1 1
Modified: src/tests/cluster.mk|1 1

Revision: fc1da4c3b4633c57e093574b3cf4456338a66c5f
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2008 06:49:10
Message:
From Ted Ross, https://issues.apache.org/jira/browse/QPID-780 Implementation of --data-dir for qpidd. #MsgLength=453


----
Modified: qpidc.spec.in|1 0
Modified: src/Makefile.am|6 0
Added: src/qpid/DataDir.cpp|69 0
Added: src/qpid/DataDir.h|47 0
Modified: src/qpid/broker/Broker.cpp|5 1
Modified: src/qpid/broker/Broker.h|5 1
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/Makefile.am|1 1

Revision: 4231f234a82925663c4800618f478b769918fa07
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2008 22:25:32
Message:
Quote unprintable control characters in log output. #MsgLength=52


----
Modified: src/qpid/log/Statement.cpp|29 1
Modified: src/tests/logging.cpp|20 0

Revision: 5309a0d30dcd00aa0a105e83fd8053a5b36e614a
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2008 03:51:01
Message:
qpidc.spec.in: Build --without-cpg, no point adding the dependency till cluster functionality is available. #MsgLength=109


----
Modified: qpidc.spec.in|1 1

Revision: dcd8791bb3b8b5ae8ae023964b6489f6e82e39b2
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2008 04:02:14
Message:
Disable QPID_DATA_DIR for verify tests. #MsgLength=41


----
Modified: examples/Makefile.am|1 1

Revision: 83a6af9b418c6b74ff788f6f81d0d20257f2782c
Author: Nuno Santos <nsantos@apache.org>
Date: 08/02/2008 04:18:54
Message:
create missing dir #MsgLength=19


----
Modified: qpidc.spec.in|3 2

Revision: 11137a13c36293f4c23ea4245dcf0bbae555ee8f
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2008 05:06:01
Message:
Removed signal-unsafe code from shutdown handler. #MsgLength=52


----
Modified: src/qpidd.cpp|15 3

Revision: 75a97cba836b38ad3f4c6df231f1461ed32712ec
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2008 05:31:21
Message:
Clean shutdown of broker: Moved signal unsafe code from Broker::shutdown to ~Broker, moved shutdown logging from shutdown handler to main() in qpidd.cpp #MsgLength=154


----
Modified: src/qpid/broker/Broker.cpp|4 1
Modified: src/qpid/sys/Acceptor.h|2 0
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|2 0
Modified: src/qpid/sys/Poller.h|1 0
Modified: src/qpid/sys/epoll/EpollPoller.cpp|3 0
Modified: src/qpidd.cpp|5 15

Revision: 23b1616d1b6cbcb35b3e85f93dec377ade6427db
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2008 23:01:30
Message:
Refactored verify scripts, added verify for python Examples. To verify an example: <qpid-trunk>/bin/verify <example-dir> See comments in bin/verify for more details. #MsgLength=418


----
Modified: examples/Makefile.am|17 3
Added: examples/examples/direct/verify|3 0
Added: examples/examples/fanout/verify|2 0
Added: examples/examples/pub-sub/verify|4 0
Added: examples/examples/request-response/verify|5 0
Deleted: examples/verify|0 90

Revision: 63cc594ad57e99e26867cdd49e75f6855a17f2bd
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2008 01:02:55
Message:
Added verify scripts to run mixed python/cpp examples. bin/verify_all runs all examples. #MsgLength=89


----
Modified: examples/Makefile.am|1 15
Added: examples/examples/direct/verify_cpp_python|4 0
Added: examples/examples/direct/verify_cpp_python.in|14 0
Added: examples/examples/direct/verify_python_cpp|5 0
Added: examples/examples/direct/verify_python_cpp.in|16 0
Modified: examples/examples/fanout/verify|1 0
Added: examples/examples/fanout/verify_cpp_python|5 0
Added: examples/examples/fanout/verify_cpp_python.in|14 0
Added: examples/examples/fanout/verify_python_cpp|5 0
Added: examples/examples/pub-sub/verify_cpp_python|6 0
Added: examples/examples/pub-sub/verify_cpp_python.in|51 0
Added: examples/examples/pub-sub/verify_python_cpp|6 0
Added: examples/examples/pub-sub/verify_python_cpp.in|59 0
Added: examples/examples/request-response/verify_cpp_python|6 0
Added: examples/examples/request-response/verify_cpp_python.in|15 0
Added: examples/examples/request-response/verify_python_cpp|6 0

Revision: 417a8d7d2db718de9d972302c326b065bff197c7
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2008 06:23:23
Message:
cpp/examples/direct, fanout: Converted listener.cpp to SubscriptionManager. #MsgLength=194


----
Modified: examples/Makefile.am|43 24
Modified: examples/examples/direct/listener.cpp|21 65
Modified: examples/examples/direct/verify.in|4 5
Modified: examples/examples/direct/verify_cpp_python|1 1
Modified: examples/examples/direct/verify_cpp_python.in|3 3
Modified: examples/examples/direct/verify_python_cpp|1 1
Modified: examples/examples/direct/verify_python_cpp.in|4 5
Modified: examples/examples/fanout/declare_queues.cpp|5 12
Modified: examples/examples/fanout/fanout_producer.cpp|4 4
Modified: examples/examples/fanout/listener.cpp|21 65
Modified: examples/examples/fanout/verify.in|4 5
Modified: examples/examples/fanout/verify_cpp_python|1 1
Modified: examples/examples/fanout/verify_cpp_python.in|3 3
Modified: examples/examples/fanout/verify_python_cpp|2 2
Added: examples/examples/fanout/verify_python_cpp.in|15 0
Modified: examples/examples/pub-sub/verify.in|1 1
Modified: examples/examples/pub-sub/verify_cpp_python|1 1
Modified: examples/examples/pub-sub/verify_cpp_python.in|2 2
Modified: examples/examples/pub-sub/verify_python_cpp|1 1
Modified: examples/examples/pub-sub/verify_python_cpp.in|1 1
Modified: examples/examples/request-response/verify|1 1
Modified: examples/examples/request-response/verify.in|2 2
Modified: examples/examples/request-response/verify_cpp_python|2 3
Modified: examples/examples/request-response/verify_cpp_python.in|2 2
Modified: examples/examples/request-response/verify_python_cpp|3 4
Added: examples/examples/request-response/verify_python_cpp.in|18 0
Added: examples/verify|81 0
Added: examples/verify_all|18 0

Revision: b6c8f767c8a4174fd539b99882a4da94be064011
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/02/2008 06:24:33
Message:
yum correction #MsgLength=16


----
Modified: README|1 1

Revision: f42bf7d5382981c95df75b4af726648a3c31b6a4
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2008 06:27:38
Message:
From Ted Ross, https://issues.apache.org/jira/browse/QPID-782 #MsgLength=456


----
Modified: src/qpid/DataDir.cpp|10 0
Modified: src/qpid/broker/Broker.cpp|4 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpidd.cpp|9 8

Revision: ede520f00b534ba940a7493fe8ffba283e98220a
Author: Gordon Sim <gsim@apache.org>
Date: 11/02/2008 21:00:45
Message:
Check valid listener (or handler) exist and log error if not. See QPID-783. #MsgLength=78


----
Modified: src/qpid/client/Dispatcher.cpp|11 4

Revision: 2ea9660f6ab723333f1f259054c7828f6710039b
Author: Gordon Sim <gsim@apache.org>
Date: 11/02/2008 21:10:38
Message:
Added a test (currently disabled) that highlights a deadlock in the client when commands are sent to the broker concurrently with acks (e.g. when the dispatcher thread is running with auto-acking and messages are sent on another thread). #MsgLength=240


----
Modified: src/tests/ClientSessionTest.cpp|40 8

Revision: 9cc7cc9031208251ab4755aa9e71c01f1839c266
Author: Rafael H. Schloming <rhs@apache.org>
Date: 12/02/2008 02:23:12
Message:
bumped release for Beta 3 #MsgLength=26


----
Modified: qpidc.spec.in|3 1

Revision: 3c79ace410e6f9eeb4180e159c6efca4607a9cfe
Author: Alan Conway <aconway@apache.org>
Date: 12/02/2008 05:50:17
Message:
Remove dependency on sys::Socket for management ID of connections. #MsgLength=67


----
Modified: src/qpid/broker/ConnectionFactory.cpp|2 2
Modified: src/qpid/broker/ConnectionFactory.h|2 2
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|2 2
Modified: src/qpid/sys/ConnectionInputHandlerFactory.h|8 2

Revision: 89121127eae0e40ac3c71f4deeaa01d93a5075a4
Author: Gordon Sim <gsim@apache.org>
Date: 13/02/2008 00:35:45
Message:
Explicitly reset shared pointer; brokers destructor not called if started through -d otherwise it seems... #MsgLength=109


----
Modified: src/qpidd.cpp|2 1

Revision: e752b5ddaa4e718cae0501886bc31ed0693148d1
Author: Gordon Sim <gsim@apache.org>
Date: 13/02/2008 00:54:05
Message:
Fixed typo #MsgLength=13


----
Modified: src/qpid/DataDir.cpp|1 1

Revision: 1d5f9a2f055c1baaa6623ddbb1900592a55ea6dc
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 00:54:42
Message:
Create /var/lib/qpidd correctly. #MsgLength=34


----
Modified: qpidc.spec.in|8 5

Revision: 8e8314e60ed5cb2869a5eb69ee14da111c13c398
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 02:04:11
Message:
Quote all non-printable ASCII characters (not just control characters) #MsgLength=71


----
Modified: src/qpid/log/Statement.cpp|12 11
Modified: src/tests/logging.cpp|3 3

Revision: 1dcddd2af11ee5820bb678c767bf2664641f7550
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 05:39:55
Message:
Create a tar file of verify scripts suitable for untarring into and installed examples directory. #MsgLength=98


----
Modified: examples/Makefile.am|2 3
Deleted: examples/verify|0 81
Modified: examples/verify_all|10 4

Revision: 482d4784212ce8b3834af2c30d9adf309c75369f
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 05:48:52
Message:
Add -g to build flags to get debug info. #MsgLength=42


----
Modified: qpidc.spec.in|6 3

Revision: a81591c5d2b7978b3e5324201316d28d4b4678a2
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 05:57:36
Message:
Fix verify error in Makefile.am #MsgLength=33


----
Modified: examples/Makefile.am|4 1
Modified: examples/verify_all|1 1

Revision: 3ec0bddfb85d492ea42fb44b5e7a7934842b88eb
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 07:09:06
Message:
Patches from Ted Ross: #MsgLength=141


----
Modified: src/qpid/broker/SessionState.cpp|2 0
Modified: src/qpid/management/ManagementAgent.cpp|5 5

Revision: f092dffb188b60fae50d297b564a10ed449c4ae3
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2008 23:39:59
Message:
Broker::connect - connect to URL, return ConnectionInputHandler. M      src/qpid/broker/Broker.cpp M      src/qpid/broker/Broker.h M      src/qpid/sys/Acceptor.h M      src/qpid/sys/AsynchIOAcceptor.cpp #MsgLength=407


----
Modified: src/qpid/Url.cpp|4 0
Modified: src/qpid/Url.h|3 0
Modified: src/qpid/broker/Broker.cpp|18 5
Modified: src/qpid/broker/Broker.h|13 2
Modified: src/qpid/framing/AMQBody.cpp|34 3
Modified: src/qpid/framing/AMQBody.h|3 0
Modified: src/qpid/sys/Acceptor.h|4 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|6 3

Revision: 3e0e3f7355b113d0af4b41ecc5d379e996a3dcff
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2008 19:49:17
Message:
Fixed bug in browsing that failed to deal correctly with 'gaps' in message sequence. #MsgLength=87


----
Modified: src/qpid/broker/Queue.cpp|14 7

Revision: 468f0f75893c7a317083157eeb3ec4ccd230e195
Author: Rafael H. Schloming <rhs@apache.org>
Date: 14/02/2008 23:12:11
Message:
bumped spec release #MsgLength=20


----
Modified: qpidc.spec.in|4 1

Revision: c91532d54cbf57ec3546d71e03dab0e51426a405
Author: Alan Conway <aconway@apache.org>
Date: 16/02/2008 05:00:44
Message:
Updated c++ and python fanout examples and verify scripts. #MsgLength=59


----
Modified: examples/Makefile.am|0 1
Modified: examples/examples/fanout/Makefile|1 1
Deleted: examples/examples/fanout/declare_queues.cpp|0 80
Modified: examples/examples/fanout/listener.cpp|14 2
Modified: examples/examples/fanout/verify|5 2
Modified: examples/examples/fanout/verify.in|31 3
Modified: examples/examples/fanout/verify_cpp_python|4 2
Modified: examples/examples/fanout/verify_cpp_python.in|30 13
Modified: examples/examples/fanout/verify_python_cpp|4 2
Modified: examples/examples/fanout/verify_python_cpp.in|17 3

Revision: 0df997e52bb80e799996c6e620664bb604553ee6
Author: Alan Conway <aconway@apache.org>
Date: 16/02/2008 05:03:28
Message:
svn:ignore properties. #MsgLength=23


----

Revision: 66618034777b11f1055bda8c7d786becffdef607
Author: Gordon Sim <gsim@apache.org>
Date: 18/02/2008 17:23:54
Message:
Requests to release a message that has not been acquired should be ignored. #MsgLength=78


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1

Revision: cbff7fcf8a23ea67b1094e3e31e93bb7fdcc0e6e
Author: Rafael H. Schloming <rhs@apache.org>
Date: 18/02/2008 21:42:44
Message:
bumped spec release #MsgLength=20


----
Modified: qpidc.spec.in|4 1

Revision: 8e8f00269b8ed07a7f3ecd74e086a3094d3d259a
Author: Alan Conway <aconway@apache.org>
Date: 19/02/2008 01:27:11
Message:
Added sleep to verify script to avoid startup races. #MsgLength=53


----
Modified: examples/Makefile.am|3 1

Revision: 617acab3b0900c6fd14e44bf2660fb32936c8211
Author: Alan Conway <aconway@apache.org>
Date: 19/02/2008 03:18:25
Message:
Fix problem with verify script in ../../bin. #MsgLength=45


----
Modified: examples/Makefile.am|2 1

Revision: f6aebd6eea475b4c5e7ba79b5381db1e7fe31b3e
Author: Alan Conway <aconway@apache.org>
Date: 19/02/2008 05:54:02
Message:
Fixed race condition in the examples: when a listener program prints its "ready" message, the commands it has sent to the broker may not yet be complete. This results in sporadic lost messages if the producer is started immediately (e.g. by a script.) #MsgLength=431


----
Modified: examples/examples/fanout/listener.cpp|38 35
Modified: examples/examples/pub-sub/topic_listener.cpp|5 1
Modified: src/qpid/client/Execution.h|2 0
Modified: src/qpid/client/ExecutionHandler.cpp|13 0
Modified: src/qpid/client/ExecutionHandler.h|1 0
Modified: src/qpid/client/SessionBase.cpp|7 0
Modified: src/qpid/client/SessionBase.h|5 0

Revision: 6d6f7992e6c968dae1a97184ec273b2aaec72345
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2008 06:33:29
Message:
STL-style intrsive linked lists, single (ISList) and double (IList) #MsgLength=69


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/IList.h|139 135
Added: src/qpid/ISList.h|176 0
Added: src/qpid/pointer_to_other.h|62 0
Modified: src/tests/IList.cpp|122 199
Added: src/tests/ISList.cpp|207 0
Modified: src/tests/Makefile.am|1 1

Revision: 03ef93d832c75734c412d10f5f1c6e4be6c08776
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2008 06:58:41
Message:
sys::RefCountedMap - reference-counted weak map of reference-counted objects. Ensures objects are atomically deleted and removed from the map. #MsgLength=145


----
Modified: src/qpid/RefCounted.h|18 5
Modified: src/qpid/sys/RefCountedMap.h|108 89
Modified: src/tests/RefCountedMap.cpp|76 78

Revision: effa0be713c519d851deeae8909d5b96f4756e61
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2008 23:26:05
Message:
Added non-optional enum { SYNC, ASYNC }  parameter to newSession. Updated API doc in client/SessionBase.h #MsgLength=107


----
Modified: src/qpid/client/Connection.cpp|5 2
Modified: src/qpid/client/Connection.h|1 2
Modified: src/qpid/client/SessionBase.cpp|6 0
Modified: src/qpid/client/SessionBase.h|37 9
Modified: src/tests/BrokerFixture.h|2 2
Modified: src/tests/ClientSessionTest.cpp|7 7
Modified: src/tests/client_test.cpp|1 1
Modified: src/tests/cluster_client.cpp|2 2
Modified: src/tests/latencytest.cpp|1 1
Modified: src/tests/perftest.cpp|1 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1
Modified: src/tests/txtest.cpp|1 1

Revision: f519c0583cf8521dbead6b03609760437af4e0de
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2008 23:36:18
Message:
Update examples with ASYNC mode to newSession #MsgLength=46


----
Modified: examples/examples/direct/declare_queues.cpp|1 1
Modified: examples/examples/direct/direct_producer.cpp|1 1
Modified: examples/examples/direct/listener.cpp|1 1
Modified: examples/examples/fanout/fanout_producer.cpp|1 1
Modified: examples/examples/fanout/listener.cpp|1 1
Modified: examples/examples/pub-sub/topic_listener.cpp|1 1
Modified: examples/examples/pub-sub/topic_publisher.cpp|1 1
Modified: examples/examples/request-response/client.cpp|1 1
Modified: examples/examples/request-response/server.cpp|1 1

Revision: ed1e383d34c1e27985a775824e381177fb230c51
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2008 23:54:59
Message:
Disabled RefCountedMap test - failing with valgrind error. RefCountedMap is not yet in use anywhere, will fix before I use it. #MsgLength=127


----
Modified: src/tests/Makefile.am|2 1

Revision: 02ebc952d9ab3b98965f5e6631edec6460bc99e0
Author: Alan Conway <aconway@apache.org>
Date: 21/02/2008 10:58:37
Message:
AMQP 0-10 type system: - new lightweight templated serialization framework - all fixed-size built-in types tested and working - all vbin & str types implemented, tests disabled need to fix encoding. #MsgLength=597


----
Modified: src/Makefile.am|4 0
Added: src/qpid/Serializer.h|109 0
Added: src/qpid/amqp_0_10/Codec.h|187 0
Added: src/qpid/amqp_0_10/Decimal.h|52 0
Added: src/qpid/amqp_0_10/built_in_types.h|103 0
Modified: src/qpid/framing/SequenceNumber.h|2 0
Modified: src/qpid/framing/Uuid.h|4 0
Modified: src/qpid/sys/Time.h|3 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/serialize.cpp|135 0

Revision: 81b57c21d74737648e07988cddf7b51af4fdb400
Author: Alan Conway <aconway@apache.org>
Date: 21/02/2008 22:24:24
Message:
Fix verify script problem #MsgLength=26


----
Modified: examples/Makefile.am|1 7
Added: examples/verify|85 0
Modified: examples/verify_all|7 8

Revision: 4ef4a3302a7e0327f0bd47a8e89769184154f8d4
Author: Gordon Sim <gsim@apache.org>
Date: 22/02/2008 01:40:42
Message:
Start moving towards final 0-10 spec: * marked preview spec as 99-0 to distinguish it from 0-10 (which will now be used for the final version) * modified python client to treat 99-0 as 0-10 for now * modified broker to have two paths for the two different versions: 99-0 uses PreviewConnection, PreviewConnectionHandler and PreviewSessionHandler which are straight copy & pastes of the Connection, ConnectionHandler and SessionHandler now associated with 0-10 (so we can migrate the 0-10 path to the final spec without affecting clients working with the preview version) #MsgLength=581


----
Modified: rubygen/templates/Session.rb|2 2
Modified: src/Makefile.am|10 0
Modified: src/qpid/broker/Bridge.cpp|2 2
Modified: src/qpid/broker/Bridge.h|3 3
Modified: src/qpid/broker/Connection.cpp|1 18
Modified: src/qpid/broker/Connection.h|2 30
Modified: src/qpid/broker/ConnectionFactory.cpp|2 1
Added: src/qpid/broker/ConnectionState.h|84 0
Modified: src/qpid/broker/HandlerImpl.h|2 1
Added: src/qpid/broker/MultiVersionConnectionInputHandler.cpp|92 0
Added: src/qpid/broker/MultiVersionConnectionInputHandler.h|60 0
Added: src/qpid/broker/PreviewConnection.cpp|327 0
Added: src/qpid/broker/PreviewConnection.h|118 0
Added: src/qpid/broker/PreviewConnectionHandler.cpp|158 0
Added: src/qpid/broker/PreviewConnectionHandler.h|92 0
Added: src/qpid/broker/PreviewSessionHandler.cpp|210 0
Added: src/qpid/broker/PreviewSessionHandler.h|111 0
Modified: src/qpid/broker/SemanticHandler.cpp|2 3
Modified: src/qpid/broker/SemanticHandler.h|1 1
Added: src/qpid/broker/SessionContext.h|53 0
Modified: src/qpid/broker/SessionHandler.cpp|5 1
Modified: src/qpid/broker/SessionHandler.h|6 4
Modified: src/qpid/broker/SessionManager.cpp|1 1
Modified: src/qpid/broker/SessionManager.h|2 2
Modified: src/qpid/broker/SessionState.cpp|7 7
Modified: src/qpid/broker/SessionState.h|7 7
Modified: src/qpid/client/Channel.cpp|3 3
Modified: src/qpid/client/Channel.h|3 3
Modified: src/qpid/client/Connection.cpp|3 3
Modified: src/qpid/client/Connection.h|3 3
Modified: src/qpid/client/Dispatcher.cpp|2 3
Modified: src/qpid/client/Dispatcher.h|5 6
Modified: src/qpid/client/LocalQueue.h|1 1
Modified: src/qpid/client/Message.h|6 6
Modified: src/qpid/client/Session.h|2 2
Modified: src/qpid/client/SubscriptionManager.cpp|2 2
Modified: src/qpid/client/SubscriptionManager.h|3 3
Modified: src/qpid/framing/AMQP_HighestVersion.h|1 1
Modified: src/tests/BrokerFixture.h|2 2
Modified: src/tests/ClientSessionTest.cpp|2 2
Modified: src/tests/client_test.cpp|2 2
Modified: src/tests/latencytest.cpp|2 2
Modified: src/tests/perftest.cpp|2 2
Modified: src/tests/topic_listener.cpp|5 5
Modified: src/tests/topic_publisher.cpp|5 5
Modified: src/tests/txtest.cpp|2 2

Revision: 319dcac2d73b1093d51f2beebefbbf051f33ac65
Author: Gordon Sim <gsim@apache.org>
Date: 22/02/2008 05:23:37
Message:
Fixes to prevent problems with async store when queue is deleted before all messages are completed or dequeued #MsgLength=113


----
Modified: src/qpid/broker/PersistableMessage.cpp|4 1
Modified: src/qpid/broker/PersistableMessage.h|15 11
Modified: src/qpid/broker/Queue.cpp|4 2
Modified: src/qpid/broker/Queue.h|3 2

Revision: f9a80a2ba30f1df4233020dedeef90dd4b18da06
Author: Alan Conway <aconway@apache.org>
Date: 22/02/2008 10:57:19
Message:
Extended amqpgen.rb to cover 0-10 final model. #MsgLength=48


----
Modified: rubygen/amqpgen.rb|113 16

Revision: 0d99a86337929d9cc7859b840e3bee1a4b28da62
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2008 03:14:05
Message:
Provide separate name, message and error code on all Exceptions. #MsgLength=66


----
Modified: src/qpid/Exception.cpp|19 8
Modified: src/qpid/Exception.h|19 6

Revision: 989cd54fe21d45a15b3b334930a7ba611063a6c3
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2008 07:13:43
Message:
Fixed rubygen to skip unchanged generated files, prevents needless rebuilding every time the code generator changes. #MsgLength=165


----
Modified: rubygen/amqpgen.rb|24 13
Modified: rubygen/cppgen.rb|23 2
Modified: rubygen/generate|1 1
Added: rubygen/templates/amqp_0_10.rb|64 0
Added: src/qpid/amqp_0_10/helpers.h|70 0
Added: src/qpid/amqp_0_10/visitors.h|15 0
Modified: src/qpid/client/Session.h|1 1

Revision: 6baf0c6ccaa6397452684360951052aafc069a33
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2008 00:56:29
Message:
Some refactoring of the 0-10 codepath (being migrated to final spec) that primarily colocates the current session and execution layers to facilitate implementing the new session layer that will now encompass this behaviour. #MsgLength=226


----
Modified: src/Makefile.am|4 0
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/BrokerAdapter.h|1 1
Modified: src/qpid/broker/HandlerImpl.h|3 3
Modified: src/qpid/broker/PreviewSessionHandler.cpp|10 10
Modified: src/qpid/broker/PreviewSessionHandler.h|5 5
Added: src/qpid/broker/PreviewSessionManager.cpp|112 0
Added: src/qpid/broker/PreviewSessionManager.h|100 0
Added: src/qpid/broker/PreviewSessionState.cpp|169 0
Added: src/qpid/broker/PreviewSessionState.h|124 0
Modified: src/qpid/broker/SemanticHandler.cpp|4 10
Modified: src/qpid/broker/SemanticHandler.h|4 4
Modified: src/qpid/broker/SemanticState.cpp|13 18
Modified: src/qpid/broker/SemanticState.h|4 4
Modified: src/qpid/broker/SessionContext.h|2 6
Modified: src/qpid/broker/SessionHandler.cpp|49 14
Modified: src/qpid/broker/SessionHandler.h|11 4
Modified: src/qpid/broker/SessionManager.cpp|1 1
Modified: src/qpid/broker/SessionManager.h|2 2
Modified: src/qpid/broker/SessionState.cpp|113 15
Modified: src/qpid/broker/SessionState.h|38 10
Modified: src/qpid/cluster/Cluster.cpp|6 6
Modified: src/qpid/cluster/Cluster.h|2 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/framing/AMQP_HighestVersion.h|1 0
Modified: src/qpid/framing/Proxy.h|1 0
Modified: src/tests/exception_test.cpp|1 1

Revision: f362f60d32bc0b7ca97fdda00404f5472633092a
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2008 05:56:03
Message:
Fix build problem if openais is installed but openais-devel is not. #MsgLength=69


----
Modified: configure.ac|1 4

Revision: 42e37cc7357e657dd7a0b97d14b1f9911239dbcd
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2008 16:40:13
Message:
Use sessions reference to broker rather than connections in semantic state as the sessions ref is valid even when not attached. #MsgLength=130


----
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SessionContext.h|1 0

Revision: f0303538ee83774d14456f6a4323c74a4b9ccfd7
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2008 00:37:48
Message:
Generate code for both 0-99 preview and 0-10 final specs . 0-10 final: extended code generation and non-generated support classes. #MsgLength=132


----
Modified: configure.ac|5 5
Added: rubygen/0-10/amqp_0_10.rb|175 0
Renamed: rubygen/99-0/MethodBodyConstVisitor.rb [from rubygen/templates/MethodBodyConstVisitor.rb]|1 1
Renamed: rubygen/99-0/MethodBodyDefaultVisitor.rb [from rubygen/templates/MethodBodyDefaultVisitor.rb]|1 1
Renamed: rubygen/99-0/MethodHolder.rb [from rubygen/templates/MethodHolder.rb]|1 1
Renamed: rubygen/99-0/Operations.rb [from rubygen/templates/Operations.rb]|2 2
Renamed: rubygen/99-0/OperationsInvoker.rb [from rubygen/templates/OperationsInvoker.rb]|2 2
Renamed: rubygen/99-0/Proxy.rb [from rubygen/templates/Proxy.rb]|5 3
Renamed: rubygen/99-0/Session.rb [from rubygen/templates/Session.rb]|2 2
Renamed: rubygen/99-0/all_method_bodies.rb [from rubygen/templates/all_method_bodies.rb]|1 1
Renamed: rubygen/99-0/constants.rb [from rubygen/templates/constants.rb]|1 1
Renamed: rubygen/99-0/frame_body_lists.rb [from rubygen/templates/frame_body_lists.rb]|1 1
Renamed: rubygen/99-0/structs.rb [from rubygen/templates/structs.rb]|1 1
Modified: rubygen/MethodBodyDefaultVisitor.rb|1 1
Modified: rubygen/amqpgen.rb|48 24
Modified: rubygen/cppgen.rb|62 11
Modified: rubygen/generate|29 6
Deleted: rubygen/templates/amqp_0_10.rb|0 64
Modified: src/Makefile.am|5 3
Modified: src/qpid/amqp_0_10/built_in_types.h|14 9
Added: src/qpid/amqp_0_10/helpers.cpp|30 0
Modified: src/qpid/amqp_0_10/helpers.h|35 20
Modified: src/tests/serialize.cpp|2 2
Modified: xml/cluster.xml|1 1

Revision: 7e35c7d89fda1fdb7b3546dbc4a54db4fb19e2fa
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2008 05:49:04
Message:
Generating domains, structs, commands and controls for 0-10 final spec. Not yet generating: holders, visitors. #MsgLength=112


----
Deleted: rubygen/0-10/amqp_0_10.rb|0 175
Added: rubygen/0-10/specification.rb|177 0
Modified: rubygen/amqpgen.rb|40 8
Modified: rubygen/cppgen.rb|18 12
Modified: rubygen/generate|1 1
Modified: src/Makefile.am|2 0
Modified: src/qpid/amqp_0_10/helpers.h|7 25

Revision: 77f79ea16b156425fa69f8093e0451dddcdae788
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2008 08:32:56
Message:
Added missing generated files to distribution. #MsgLength=48


----
Modified: rubygen/generate|1 1

Revision: 53fb44e3649bf61490cfdef25fd1117fe5841a06
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2008 11:08:42
Message:
Added missing generated files to RPM. #MsgLength=39


----
Modified: qpidc.spec.in|1 0

Revision: 0d172276d0c3f629347c3761ceea5d4dab3ecb9c
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2008 22:47:59
Message:
Fixed merging of multiple XML files for the same version. #MsgLength=59


----
Modified: rubygen/0-10/specification.rb|0 2
Modified: rubygen/amqpgen.rb|9 3
Modified: rubygen/generate|8 11

Revision: 04f7965ee3767c9df614b0713e3aeb326866d3c2
Author: Alan Conway <aconway@apache.org>
Date: 29/02/2008 01:53:47
Message:
amqp_0_10::ProxyTemplate - tested & functional. #MsgLength=49


----
Modified: rubygen/0-10/specification.rb|16 24
Modified: rubygen/amqpgen.rb|3 8
Modified: rubygen/cppgen.rb|60 33
Modified: rubygen/generate|7 5
Modified: src/tests/Makefile.am|2 1
Added: src/tests/ProxyTemplate.cpp|49 0

Revision: 45111b5e6832e2adf4bc33eaca4763311c197851
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 29/02/2008 02:55:21
Message:
QPID-820 from tross #MsgLength=22


----
Modified: managementgen/main.py|7 1
Modified: managementgen/schema.py|66 19
Modified: managementgen/templates/Class.cpp|23 8
Modified: managementgen/templates/Class.h|12 7
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|6 1
Modified: src/qpid/broker/Broker.h|2 0
Added: src/qpid/broker/System.cpp|48 0
Added: src/qpid/broker/System.h|51 0
Modified: src/qpid/framing/Buffer.cpp|48 0
Modified: src/qpid/framing/Buffer.h|7 1
Modified: src/qpid/management/Manageable.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|262 30
Modified: src/qpid/management/ManagementAgent.h|83 1
Modified: src/qpid/management/ManagementExchange.cpp|5 18
Modified: src/qpid/management/ManagementExchange.h|0 4
Modified: src/qpid/management/ManagementObject.cpp|3 1
Modified: src/qpid/management/ManagementObject.h|13 9

Revision: deca74ca8e22e2d6bddfa815b1ecaa56f8ee5390
Author: Alan Conway <aconway@apache.org>
Date: 01/03/2008 06:07:40
Message:
Template visitors for amqp_0_10::Command, Control and Struct. Serialization for all str/vbin types. #MsgLength=101


----
Modified: rubygen/0-10/specification.rb|62 14
Modified: rubygen/amqpgen.rb|7 2
Modified: rubygen/cppgen.rb|15 7
Modified: src/Makefile.am|2 1
Modified: src/qpid/Serializer.h|14 66
Modified: src/qpid/amqp_0_10/Codec.h|57 77
Modified: src/qpid/amqp_0_10/Decimal.h|2 3
Added: src/qpid/amqp_0_10/apply.h|77 0
Modified: src/qpid/amqp_0_10/built_in_types.h|37 23
Modified: src/qpid/amqp_0_10/helpers.cpp|3 0
Modified: src/qpid/amqp_0_10/helpers.h|3 4
Deleted: src/qpid/amqp_0_10/visitors.h|0 15
Modified: src/qpid/framing/Uuid.h|1 1
Modified: src/tests/Makefile.am|1 1
Added: src/tests/apply.cpp|92 0
Modified: src/tests/serialize.cpp|12 18

Revision: 3b8c236f3b69193dbb2f8dc695e477b17bf7e918
Author: Alan Conway <aconway@apache.org>
Date: 01/03/2008 07:18:51
Message:
 - Added Buffer::Iterator so amqp_0_10::Codec can use a Buffer - AMQBody wrappers for amqp_0_10::Command and Control - Extended AMQBody for CommandBody and ControlBody. #MsgLength=172


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/amqp_0_10/helpers.h|15 0
Modified: src/qpid/framing/AMQBody.h|10 1
Added: src/qpid/framing/AMQCommandControlBody.h|70 0
Modified: src/qpid/framing/Buffer.h|24 2

Revision: 8d9bcd3243f6d75827407361ef43c2a7e6d088b2
Author: Alan Conway <aconway@apache.org>
Date: 03/03/2008 21:55:25
Message:
Fix compile error. #MsgLength=19


----
Modified: src/qpid/Serializer.h|1 0

Revision: c03889d5395dcc3a79cb44fd727a75146642a797
Author: Gordon Sim <gsim@apache.org>
Date: 03/03/2008 22:49:06
Message:
A further step to final 0-10 spec. The extra.xml fragment adds class defs for connection in session that are in line with latest spec but use old schema. The preview codepath (99-0) remains unaltered. #MsgLength=203


----
Modified: rubygen/99-0/Proxy.rb|1 0
Modified: rubygen/99-0/Session.rb|1 1
Modified: rubygen/99-0/structs.rb|53 3
Modified: rubygen/amqpgen.rb|4 0
Modified: rubygen/cppgen.rb|9 0
Modified: src/Makefile.am|3 1
Modified: src/qpid/broker/BrokerAdapter.h|2 0
Modified: src/qpid/broker/ConnectionHandler.cpp|7 3
Modified: src/qpid/broker/ConnectionHandler.h|3 2
Modified: src/qpid/broker/SemanticState.cpp|33 4
Modified: src/qpid/broker/SemanticState.h|10 5
Modified: src/qpid/broker/SessionHandler.cpp|80 99
Modified: src/qpid/broker/SessionHandler.h|24 27
Modified: src/qpid/broker/SessionState.cpp|13 36
Modified: src/qpid/broker/SessionState.h|8 6
Modified: src/qpid/framing/AccumulatedAck.cpp|1 1
Modified: src/qpid/framing/BodyHolder.cpp|1 0
Modified: src/qpid/framing/Buffer.cpp|14 0
Modified: src/qpid/framing/Buffer.h|2 0
Modified: src/qpid/framing/SequenceNumber.cpp|3 2
Modified: src/qpid/framing/SequenceNumber.h|1 1
Added: src/qpid/framing/SequenceSet.cpp|222 0
Added: src/qpid/framing/SequenceSet.h|86 0
Modified: src/qpid/framing/amqp_types.h|1 0
Modified: src/qpid/framing/amqp_types_full.h|1 0
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|13 6
Modified: src/qpid/sys/ConnectionOutputHandler.h|2 1
Modified: src/tests/Makefile.am|1 0
Added: src/tests/SequenceSet.cpp|93 0
Added: xml/extra.xml|585 0

Revision: aac56bc62ddc231e434fcf10405ef8ee3a27677c
Author: Gordon Sim <gsim@apache.org>
Date: 03/03/2008 23:18:23
Message:
Allow use of channel 0 for all controls and commands #MsgLength=55


----
Modified: src/qpid/broker/ConnectionHandler.cpp|7 4

Revision: d79b4c95e54e1140f0da4db1f5f65b48c7f3497d
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2008 01:55:21
Message:
Fixed consolidation of ranges and added further validation to tests. #MsgLength=71


----
Modified: src/qpid/framing/SequenceSet.cpp|10 6
Modified: src/tests/SequenceSet.cpp|50 4

Revision: cb56f3db9318e2f27bb1b78d9c5ecfe3a4e961a9
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2008 03:19:00
Message:
Updated tracking of outgoing command id and send command-point control on session attachment. #MsgLength=96


----
Modified: src/qpid/broker/SessionHandler.cpp|3 2
Modified: src/qpid/broker/SessionState.cpp|4 4
Modified: src/qpid/broker/SessionState.h|2 2
Modified: src/tests/.valgrind.supp|61 0

Revision: d82709679e1132d5a437f89e7af608e8945c5a7b
Author: Alan Conway <aconway@apache.org>
Date: 05/03/2008 00:34:01
Message:
Completed holders, visitors and serialization for 0-10 commands and controls. #MsgLength=79


----
Modified: rubygen/0-10/specification.rb|102 47
Modified: rubygen/cppgen.rb|1 1
Modified: src/Makefile.am|3 2
Modified: src/qpid/Serializer.h|33 10
Modified: src/qpid/amqp_0_10/Codec.h|25 17
Renamed: src/qpid/amqp_0_10/Holder.h [from src/qpid/amqp_0_10/helpers.cpp]|36 7
Modified: src/qpid/amqp_0_10/apply.h|21 8
Modified: src/qpid/amqp_0_10/built_in_types.h|23 10
Added: src/qpid/amqp_0_10/complex_types.cpp|65 0
Added: src/qpid/amqp_0_10/complex_types.h|79 0
Deleted: src/qpid/amqp_0_10/helpers.h|0 81
Modified: src/qpid/framing/AMQBody.h|2 1
Modified: src/tests/apply.cpp|9 2
Modified: src/tests/serialize.cpp|52 4

Revision: 80f907a1a3991318304edfd6ff694021196a6b30
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2008 04:42:19
Message:
Further updates to support final 0-10 spec #MsgLength=45


----
Modified: rubygen/99-0/Session.rb|2 2
Modified: rubygen/99-0/structs.rb|6 5
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/BrokerAdapter.h|4 0
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Message.cpp|3 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/MessageAdapter.cpp|6 2
Modified: src/qpid/broker/MessageAdapter.h|7 1
Modified: src/qpid/broker/MessageBuilder.cpp|17 1
Added: src/qpid/broker/SessionAdapter.cpp|382 0
Added: src/qpid/broker/SessionAdapter.h|183 0
Modified: src/qpid/broker/SessionState.h|2 2
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/qpid/framing/FrameSet.h|1 1
Modified: src/qpid/framing/ModelMethod.h|3 3
Modified: xml/extra.xml|181 0

Revision: a1852f9ec5fe912a78e3f3d92c3a8d4957050876
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2008 05:00:00
Message:
Revert additions to valgrind suppressions checked in by mistake. #MsgLength=67


----
Modified: src/tests/.valgrind.supp|0 61

Revision: 007a06287f7fd56f6e5f309e02373c6b2b0a1cd0
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2008 20:09:26
Message:
Fixed calculation of size for frames with str16 fields. #MsgLength=58


----
Modified: rubygen/99-0/structs.rb|1 0

Revision: 9d91f73b07428bcf1dba396ae57c39ac84a902fe
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2008 03:56:43
Message:
forked python tests for 0-10 preview and 0-10 final fixed result handling in c++ broker modified testlib in python to allow new 0-10 client to be run as well converted query tests for final 0-10 added python tests for 0-10 final to automated set for c++ broker (most unconverted still) #MsgLength=288


----
Modified: src/qpid/broker/BrokerAdapter.h|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|24 1
Modified: src/qpid/broker/SessionAdapter.h|19 0
Modified: src/qpid/broker/SessionHandler.cpp|6 6
Modified: src/qpid/broker/SessionHandler.h|1 0
Modified: src/qpid/broker/SessionState.cpp|29 16
Modified: src/qpid/broker/SessionState.h|3 3
Modified: src/qpid/framing/AMQFrame.cpp|4 1
Modified: src/tests/python_tests|1 1
Modified: xml/extra.xml|28 1

Revision: f5e2a7e488cd166e79d819b50f11cf9ee942d965
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2008 19:44:36
Message:
Fix message delivery for 0-10 final codepath Convert two more python tests to use 0-10 client #MsgLength=96


----
Modified: src/qpid/broker/MessageBuilder.cpp|12 11
Modified: src/qpid/broker/MessageDelivery.cpp|18 6
Modified: src/qpid/broker/MessageDelivery.h|3 0
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|8 2
Modified: src/qpid/framing/AMQHeaderBody.h|6 2
Modified: xml/extra.xml|34 0

Revision: bc9a3cd5fd48480874a65770437faf087fb91c57
Author: Gordon Sim <gsim@apache.org>
Date: 07/03/2008 01:52:59
Message:
Fixes to c++ broker: - use final version of delivery properties where appropriate - start sequence numbering of outgoing messages at 0 - explicit accept-mode is now 0 (no more confirm-mode) - add default initialisers for numeric fields in methods #MsgLength=309


----
Modified: rubygen/99-0/structs.rb|1 1
Modified: src/qpid/broker/MessageAdapter.cpp|7 1
Modified: src/qpid/broker/MessageAdapter.h|2 1
Modified: src/qpid/broker/MessageDelivery.cpp|6 3
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|1 1

Revision: de8179e39136bafe3dc847f3f9c9e5540adc95f2
Author: Gordon Sim <gsim@apache.org>
Date: 07/03/2008 21:20:02
Message:
Altered management of delivery records to support separateion of completion (which drives flow control) and acceptance. Converted flow control python tests. #MsgLength=159


----
Modified: src/qpid/broker/Consumer.h|1 1
Modified: src/qpid/broker/DeliveryRecord.cpp|45 19
Modified: src/qpid/broker/DeliveryRecord.h|18 5
Modified: src/qpid/broker/MultiVersionConnectionInputHandler.cpp|5 8
Modified: src/qpid/broker/MultiVersionConnectionInputHandler.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|14 10
Modified: src/qpid/broker/SemanticState.h|2 2

Revision: 7c1218e5752a13fc180c85331cedd89387bec458
Author: Gordon Sim <gsim@apache.org>
Date: 08/03/2008 03:07:32
Message:
Added acquire impl to final 0-10 codepath Converted some more python tests #MsgLength=77


----
Modified: src/qpid/broker/SessionAdapter.cpp|10 6
Modified: src/qpid/broker/SessionAdapter.h|2 0
Modified: xml/extra.xml|10 1

Revision: ade0ffb7af1e1d0eef9ec3f146574fd7cebda4c1
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2008 01:47:06
Message:
Adjusted exception handling in c++ for final 0-10 path. Converted some more tests. #MsgLength=85


----
Modified: src/qpid/Exception.h|19 6
Modified: src/qpid/broker/SessionAdapter.cpp|21 8
Modified: src/qpid/broker/SessionAdapter.h|16 7
Modified: src/qpid/broker/SessionState.cpp|6 1

Revision: fea937a1045fa2123a42767d8b07af132f92b58b
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2008 20:24:46
Message:
Fixed broker to take application headers from final format message-properties struct Fixed headers exchange to recognise x-match even if sent as a string other than 32 bit sized Converted remaining python exchange tests #MsgLength=222


----
Modified: src/qpid/broker/HeadersExchange.cpp|27 9
Modified: src/qpid/broker/HeadersExchange.h|2 0
Modified: src/qpid/broker/MessageAdapter.cpp|8 1
Modified: src/qpid/broker/MessageAdapter.h|2 1

Revision: 4b4ef32cb8ee093613c85b037824a0abc48bee3e
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2008 23:34:20
Message:
Fixed headers exchange to allow unbind using binding key and not args Converted alternate exchange python tests #MsgLength=115


----
Modified: src/qpid/broker/HeadersExchange.cpp|12 6

Revision: 7415b8ea9e226e0b3a4e35898bfc7ce6772de15f
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2008 05:56:49
Message:
Enabled tx methods on final 0-10 path and converted tests accordingly Added read/write- uuid to codec010 #MsgLength=107


----
Modified: src/qpid/broker/BrokerAdapter.h|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|19 1
Modified: src/qpid/broker/SessionAdapter.h|13 1
Modified: xml/extra.xml|16 0

Revision: c5b049e3aa4ef17bb991784f315ddd3f67e8701b
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2008 06:13:10
Message:
rubygen/0-10/specification.rb: - Simplified enum mapping/encoding. - struct encoding - ostream << operators src/qpid/Serializer.h - free funciton serialization - separate Encoder/Decoder for const correctness - split() to allow separate encode/decode for complex cases. #MsgLength=1210


----
Modified: rubygen/0-10/specification.rb|21 9
Modified: src/Makefile.am|4 0
Modified: src/qpid/Serializer.h|48 36
Added: src/qpid/amqp_0_10/Assembly.cpp|82 0
Added: src/qpid/amqp_0_10/Assembly.h|71 0
Modified: src/qpid/amqp_0_10/Codec.h|92 66
Added: src/qpid/amqp_0_10/Frame.cpp|28 0
Added: src/qpid/amqp_0_10/Frame.h|171 0
Modified: src/qpid/amqp_0_10/Holder.h|14 3
Added: src/qpid/amqp_0_10/Segment.cpp|81 0
Added: src/qpid/amqp_0_10/Segment.h|127 0
Modified: src/qpid/amqp_0_10/apply.h|1 5
Modified: src/qpid/amqp_0_10/built_in_types.h|35 17
Modified: src/qpid/amqp_0_10/complex_types.cpp|1 1
Modified: src/qpid/amqp_0_10/complex_types.h|30 2
Modified: src/qpid/framing/AMQBody.h|1 11
Modified: src/qpid/sys/Shlib.h|0 6
Modified: src/qpid/sys/Time.h|4 0
Modified: src/qpid/sys/posix/Time.cpp|26 2
Modified: src/tests/apply.cpp|1 1
Modified: src/tests/serialize.cpp|53 2

Revision: b0f25ac54356e594f9844096140b3352d93b5d2d
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2008 14:07:44
Message:
Fix build failure. #MsgLength=19


----
Modified: src/qpid/amqp_0_10/Segment.h|2 2

Revision: 418ae4b967c1afb557b3f215ba901df5465fbd05
Author: Gordon Sim <gsim@apache.org>
Date: 13/03/2008 20:15:44
Message:
Added missing header files to distribution. #MsgLength=46


----
Modified: src/Makefile.am|2 0

Revision: e9e6cdbe063f04d3e14856ce221493d877a3a9c7
Author: Gordon Sim <gsim@apache.org>
Date: 17/03/2008 20:17:55
Message:
Scope exclusive queues to sessions. #MsgLength=38


----
Modified: src/qpid/broker/ConnectionToken.h|2 1
Modified: src/qpid/broker/Queue.cpp|3 3
Modified: src/qpid/broker/Queue.h|5 5
Modified: src/qpid/broker/QueueRegistry.cpp|1 1
Modified: src/qpid/broker/QueueRegistry.h|4 2
Modified: src/qpid/broker/SessionAdapter.cpp|22 5
Modified: src/qpid/broker/SessionAdapter.h|12 5

Revision: 7d970566d067390e69767506f97de6e571098b83
Author: Gordon Sim <gsim@apache.org>
Date: 17/03/2008 21:33:02
Message:
Added file missed in last commit. #MsgLength=36


----
Modified: src/Makefile.am|1 0
Added: src/qpid/broker/OwnershipToken.h|35 0

Revision: 29ede58cdae3fae2fad0e7883215c7010ca76f00
Author: Alan Conway <aconway@apache.org>
Date: 19/03/2008 05:31:08
Message:
Make AsyncIOAcceptor multi-protocol: - ConnectionCodec interface replaces ConnectionInputHandle, moves encoding/decoding out of AsyncIOAcceptor. - ConnectionCodec::Factory replaces ConnectionInputHandlerFactory - Acceptor creates version-specific ConnectionCodec based on protocol header. #MsgLength=293


----
Modified: src/Makefile.am|5 2
Added: src/qpid/amqp_0_10/Connection.cpp|97 0
Added: src/qpid/amqp_0_10/Connection.h|62 0
Modified: src/qpid/broker/Broker.cpp|6 6
Modified: src/qpid/broker/Broker.h|3 5
Modified: src/qpid/broker/Connection.cpp|3 7
Modified: src/qpid/broker/Connection.h|0 2
Modified: src/qpid/broker/ConnectionFactory.cpp|17 12
Modified: src/qpid/broker/ConnectionFactory.h|8 6
Modified: src/qpid/broker/ConnectionHandler.cpp|9 12
Modified: src/qpid/broker/ConnectionHandler.h|0 2
Modified: src/qpid/broker/MultiVersionConnectionInputHandler.cpp|0 18
Modified: src/qpid/broker/MultiVersionConnectionInputHandler.h|0 2
Modified: src/qpid/broker/PreviewConnection.cpp|3 7
Modified: src/qpid/broker/PreviewConnection.h|1 4
Added: src/qpid/broker/PreviewConnectionCodec.cpp|90 0
Added: src/qpid/broker/PreviewConnectionCodec.h|55 0
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|7 9
Modified: src/qpid/broker/PreviewConnectionHandler.h|0 1
Modified: src/qpid/framing/ProtocolInitiation.cpp|4 1
Modified: src/qpid/framing/ProtocolInitiation.h|4 0
Modified: src/qpid/framing/amqp_framing.h|0 1
Modified: src/qpid/sys/Acceptor.h|4 7
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|57 143
Added: src/qpid/sys/ConnectionCodec.h|80 0
Modified: src/qpid/sys/ConnectionInputHandler.h|0 4
Modified: src/qpid/sys/ConnectionOutputHandler.h|1 2
Modified: src/tests/MockConnectionInputHandler.h|1 14

Revision: 7a377d97a2d53b15f2ac904ae3c4a169f131b09d
Author: Alan Conway <aconway@apache.org>
Date: 19/03/2008 05:55:32
Message:
Fix typo in man page: log.output -> log-output #MsgLength=48


----
Modified: docs/man/qpidd.x|2 2

Revision: 10b175463852bf2aeb7a3fbc5421dac38cfe49b7
Author: Alan Conway <aconway@apache.org>
Date: 19/03/2008 06:07:58
Message:
Qualify names to fix gcc 4.3 compile errors. #MsgLength=46


----
Modified: src/qpid/sys/AtomicCount.h|2 2
Modified: src/qpid/sys/posix/Mutex.h|5 5

Revision: 2b77ffb74d03f78e0232500c82ccd7129ae27e60
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/03/2008 01:43:55
Message:
- Refactored RefCounted class to avoid virtual inheritance - Removed extraneous includes and definitions from RefCounted.h - Fixed all the places that were relying on RefCounted.h to be including the intrusive_ptr header file and were assuming that something had imported intrusive_ptr into the qpid namespace #MsgLength=315


----
Modified: src/qpid/RefCounted.h|28 36
Modified: src/qpid/broker/Consumer.h|4 4
Modified: src/qpid/broker/DeliverableMessage.cpp|1 1
Modified: src/qpid/broker/DeliverableMessage.h|4 2
Modified: src/qpid/broker/DtxManager.cpp|1 0
Modified: src/qpid/broker/DtxWorkRecord.h|10 6
Modified: src/qpid/broker/IncomingExecutionContext.cpp|1 0
Modified: src/qpid/broker/IncomingExecutionContext.h|6 3
Modified: src/qpid/broker/Message.cpp|1 0
Modified: src/qpid/broker/MessageBuilder.cpp|1 0
Modified: src/qpid/broker/MessageBuilder.h|4 2
Modified: src/qpid/broker/MessageStore.h|10 7
Modified: src/qpid/broker/MessageStoreModule.cpp|1 0
Modified: src/qpid/broker/MessageStoreModule.h|8 5
Modified: src/qpid/broker/NullMessageStore.cpp|2 0
Modified: src/qpid/broker/NullMessageStore.h|7 5
Modified: src/qpid/broker/PreviewSessionManager.cpp|2 1
Modified: src/qpid/broker/PreviewSessionManager.h|6 5
Modified: src/qpid/broker/Queue.cpp|16 12
Modified: src/qpid/broker/Queue.h|20 16
Modified: src/qpid/broker/RecoveredDequeue.cpp|1 0
Modified: src/qpid/broker/RecoveredDequeue.h|8 5
Modified: src/qpid/broker/RecoveredEnqueue.cpp|1 0
Modified: src/qpid/broker/RecoveredEnqueue.h|8 5
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticHandler.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|1 0
Modified: src/qpid/broker/SemanticState.h|10 7
Modified: src/qpid/broker/SessionManager.cpp|1 0
Modified: src/qpid/broker/SessionManager.h|6 5
Modified: src/qpid/broker/SessionState.cpp|1 0
Modified: src/qpid/broker/Timer.cpp|1 0
Modified: src/qpid/broker/Timer.h|7 5
Modified: src/qpid/broker/TxPublish.cpp|1 0
Modified: src/qpid/broker/TxPublish.h|12 9
Modified: src/qpid/framing/AMQFrame.h|4 3
Modified: src/qpid/management/ManagementAgent.cpp|1 0
Modified: src/tests/ExchangeTest.cpp|1 0
Modified: src/tests/ISList.cpp|2 0
Modified: src/tests/MessageUtils.h|3 3
Modified: src/tests/QueueTest.cpp|1 0
Modified: src/tests/RefCounted.cpp|2 25
Modified: src/tests/TimerTest.cpp|1 1
Modified: src/tests/TxAckTest.cpp|1 0
Modified: src/tests/TxPublishTest.cpp|1 0

Revision: 3b6ff5aee010e698418f869d74032d506ef742ad
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/03/2008 13:04:10
Message:
Fixed use of intrusive_ptr in code that was missed #MsgLength=52


----
Modified: src/qpid/cluster/Cluster.h|3 2
Modified: src/qpid/sys/RefCountedMap.h|7 6

Revision: 9073a20db29aa9ca3e88d0732d1d55ed32045cdd
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2008 21:34:44
Message:
Fix compile errors/warnings with gcc 4.3 - added missing #includes that were implicitly included via old headers. - add namespace-qualifiers to fix "changes meaning of name" warnings. - ./qpid/ptr_map.h:51: fixed "qualified return value" warning. - use const char* for "conversion from string constant to char*" warnings #MsgLength=462


----
Modified: examples/Makefile.am|5 2
Modified: src/qpid/Exception.cpp|1 0
Modified: src/qpid/Options.cpp|2 2
Modified: src/qpid/Url.cpp|3 1
Modified: src/qpid/amqp_0_10/Frame.h|1 0
Modified: src/qpid/amqp_0_10/Segment.cpp|1 1
Modified: src/qpid/assert.cpp|1 0
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|2 1
Modified: src/qpid/cluster/Cpg.h|1 0
Modified: src/qpid/framing/Buffer.cpp|1 1
Modified: src/qpid/framing/Invoker.h|1 1
Modified: src/qpid/log/Logger.cpp|20 2
Modified: src/qpid/log/Statement.cpp|1 1
Modified: src/qpid/ptr_map.h|5 1
Modified: src/qpid/sys/AggregateOutput.cpp|2 1
Modified: src/qpid/sys/Socket.h|2 2
Modified: src/qpid/sys/epoll/EpollPoller.cpp|1 1
Modified: src/qpid/sys/posix/Socket.cpp|4 3
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/TopicExchangeTest.cpp|8 8
Modified: src/tests/logging.cpp|11 17
Modified: src/tests/test_tools.h|2 0
Modified: src/tests/unit_test.h|1 0

Revision: 606cccfe9d49855d499a4ff3a9b7d3fa36448648
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2008 21:48:30
Message:
Add missing header file to SOURCES. #MsgLength=37


----
Modified: src/Makefile.am|1 0

Revision: d43e2afd9d5addcd743bb9f73d5afff0bf9c9d14
Author: Nuno Santos <nsantos@apache.org>
Date: 26/03/2008 04:30:01
Message:
QPID-877: applied patch from Ted Ross #MsgLength=38


----
Modified: managementgen/templates/Class.cpp|3 2
Modified: managementgen/templates/Class.h|4 2
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/management/ManagementAgent.cpp|136 46
Modified: src/qpid/management/ManagementAgent.h|17 13
Modified: src/qpid/management/ManagementObject.h|3 1

Revision: 73a077ab6440d2bc64e97bcb9e6aa5a2a3312dc4
Author: Gordon Sim <gsim@apache.org>
Date: 26/03/2008 20:14:18
Message:
Re-enable the establishment of inter-broker links. #MsgLength=53


----
Modified: src/qpid/broker/ConnectionFactory.cpp|5 2
Modified: src/qpid/broker/PreviewConnection.cpp|3 8
Modified: src/qpid/broker/PreviewConnection.h|1 2
Modified: src/qpid/broker/PreviewConnectionCodec.cpp|2 2
Modified: src/qpid/broker/PreviewConnectionCodec.h|1 1
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|7 4
Modified: src/qpid/broker/PreviewConnectionHandler.h|1 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|2 2

Revision: c75417bb8dd1673eeac3562dad6bd7e9e522e8b1
Author: Alan Conway <aconway@apache.org>
Date: 26/03/2008 22:01:38
Message:
Bounds-checking iterator wrapper, for use with Codec::encode/decode. #MsgLength=70


----
Modified: src/Makefile.am|1 0
Added: src/qpid/BoundedIterator.h|67 0
Added: src/tests/BoundedIterator.cpp|74 0
Modified: src/tests/Makefile.am|1 1

Revision: 1438e11ddf47c4df6cc41cc714f04868d35186f5
Author: Alan Conway <aconway@apache.org>
Date: 27/03/2008 01:55:01
Message:
Removed unused class RefCountedMap. #MsgLength=37


----
Modified: src/tests/Makefile.am|0 1

Revision: fa78a74762c09260448a5858d641717324734923
Author: Gordon Sim <gsim@apache.org>
Date: 27/03/2008 02:38:35
Message:
Update to dtx inline with latest spec: * Updated dtx handling in c++ broker to take account of separation of completion and acceptance. * Added final dtx method defs to extra xml fragment and implemented appropriate handlers in c++ broker. * Converted dtx python tests (recover test still requires some work on decoding arrays). * Allow creation of structs without type codes through a python session method. * Fixed exception handling in python client for commands with results. #MsgLength=482


----
Modified: rubygen/99-0/Proxy.rb|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/BrokerAdapter.h|1 0
Modified: src/qpid/broker/DeliveryRecord.cpp|7 5
Modified: src/qpid/broker/DeliveryRecord.h|1 2
Modified: src/qpid/broker/DtxAck.cpp|0 1
Modified: src/qpid/broker/DtxManager.cpp|3 0
Modified: src/qpid/broker/SemanticState.cpp|18 5
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|126 2
Modified: src/qpid/broker/SessionAdapter.h|34 0
Modified: src/qpid/broker/SessionState.cpp|1 0
Added: src/qpid/broker/TxAccept.cpp|61 0
Added: src/qpid/broker/TxAccept.h|57 0
Modified: xml/extra.xml|101 0

Revision: 8a74ae31769160a3a9c94681343d2e04b8ff5548
Author: Gordon Sim <gsim@apache.org>
Date: 28/03/2008 02:04:42
Message:
Send accept in response to message publications if required. Hold up completion (and accept) until message from transfer is fully enqueued. #MsgLength=143


----
Modified: src/Makefile.am|2 0
Added: src/qpid/broker/IncompleteMessageList.cpp|51 0
Added: src/qpid/broker/IncompleteMessageList.h|48 0
Modified: src/qpid/broker/Message.cpp|5 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/MessageAdapter.cpp|13 1
Modified: src/qpid/broker/MessageAdapter.h|5 2
Modified: src/qpid/broker/SessionState.cpp|22 3
Modified: src/qpid/broker/SessionState.h|7 3
Added: src/tests/IncompleteMessageList.cpp|128 0
Modified: src/tests/Makefile.am|2 1
Modified: xml/extra.xml|3 0

Revision: 890252c492111d9ceece7ec2c1c503880db61bda
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2008 04:32:01
Message:
Removed unused files. #MsgLength=23


----
Modified: src/Makefile.am|0 3
Deleted: src/qpid/broker/MultiVersionConnectionInputHandler.cpp|0 71
Deleted: src/qpid/broker/MultiVersionConnectionInputHandler.h|0 58
Deleted: src/qpid/sys/RefCountedMap.h|0 164
Deleted: src/tests/RefCountedMap.cpp|0 123

Revision: 839b24a0dee09c8cf6a1c3c12a7d4d5864e44717
Author: Gordon Sim <gsim@apache.org>
Date: 29/03/2008 03:45:01
Message:
Prefer binding key for unbind if specified. #MsgLength=46


----
Modified: src/qpid/broker/HeadersExchange.cpp|1 1

Revision: f4908ba4eae8276641f412f70de6239c61c4c53d
Author: Gordon Sim <gsim@apache.org>
Date: 31/03/2008 18:44:10
Message:
Prevent broker exit on receiving connection with invalid protocol version. #MsgLength=77


----
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|6 4

Revision: 199aa18867cb10e0307bc285c9a9c1e5c1b45f90
Author: Gordon Sim <gsim@apache.org>
Date: 31/03/2008 20:51:36
Message:
Re-introduced old 'no-local' behaviour for exclusive queues via a proprietary arg to queue.declare. #MsgLength=102


----
Modified: src/qpid/broker/ConnectionToken.h|1 0
Modified: src/qpid/broker/OwnershipToken.h|3 0
Modified: src/qpid/broker/PreviewSessionState.cpp|5 0
Modified: src/qpid/broker/PreviewSessionState.h|2 1
Modified: src/qpid/broker/Queue.cpp|15 3
Modified: src/qpid/broker/Queue.h|2 0
Modified: src/qpid/broker/SessionAdapter.cpp|7 0
Modified: src/qpid/broker/SessionAdapter.h|3 1
Modified: src/qpid/broker/SessionContext.h|1 0
Modified: src/qpid/broker/SessionState.cpp|5 0
Modified: src/qpid/broker/SessionState.h|2 1
Modified: src/qpid/broker/TxPublish.cpp|6 2

Revision: 845b17f48fa0d41b892129a735bce233965c6fe3
Author: Gordon Sim <gsim@apache.org>
Date: 01/04/2008 01:20:08
Message:
Updated xml fragment to reflect correct types for connection.start.mechanisms, connection.start.locales and connection.open.capabilities Updated connection handler in line with above changes Added Str16Value to FieldValues Allow Array instances of different types to be created #MsgLength=280


----
Modified: src/qpid/broker/ConnectionHandler.cpp|7 3
Modified: src/qpid/broker/ConnectionHandler.h|1 1
Modified: src/qpid/framing/Array.cpp|11 0
Modified: src/qpid/framing/Array.h|4 1
Modified: src/qpid/framing/FieldValue.cpp|13 0
Modified: src/qpid/framing/FieldValue.h|6 0
Modified: xml/extra.xml|3 3

Revision: 4643be9f0f6b7c479b8d106014879178591b49a6
Author: Gordon Sim <gsim@apache.org>
Date: 01/04/2008 02:01:31
Message:
Allow zero sized arrays (with no typecode or count) #MsgLength=54


----
Modified: src/qpid/framing/Array.cpp|19 17

Revision: 8b48691b0afd055cb937892e00bb7f0a90088eb0
Author: Nuno Santos <nsantos@apache.org>
Date: 01/04/2008 23:23:01
Message:
QPID-892: Make qpidd daemon not run as root (rpm install) #MsgLength=58


----
Modified: etc/qpidd|1 1
Modified: qpidc.spec.in|11 1

Revision: f535a33e29c9077b61835e46002debf4d959f062
Author: Gordon Sim <gsim@apache.org>
Date: 02/04/2008 00:32:10
Message:
Fix some erroneous definitions in the transitional xml fragment for 0-10. #MsgLength=76


----
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/broker/ConnectionHandler.h|1 1
Modified: xml/extra.xml|4 22

Revision: 3d4877bffb3d44f3ca0cdd6cdc13e08a049b7d83
Author: Gordon Sim <gsim@apache.org>
Date: 02/04/2008 01:13:43
Message:
Added a dump method to buffer for debugging io (patch from rafaels@redhat.com) #MsgLength=81


----
Modified: src/qpid/framing/Buffer.cpp|16 0
Modified: src/qpid/framing/Buffer.h|4 0

Revision: c34aa226767264dc6386cb689945a5b4d62fb302
Author: Gordon Sim <gsim@apache.org>
Date: 02/04/2008 01:37:34
Message:
Further correction to transitional xml def for final 0-10 (using old schema) #MsgLength=79


----
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: xml/extra.xml|1 1

Revision: c7893b459fe2c9194e4d11d7bc2bc1a7d1b1bf86
Author: Nuno Santos <nsantos@apache.org>
Date: 02/04/2008 05:41:23
Message:
QPID-892 - use daemon params instead of runuser; store pid of qpidd daemon to kill single instance #MsgLength=99


----
Modified: etc/qpidd|9 3

Revision: 938685828c04ee6d45345fab5855eef7843b1e33
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2008 20:55:56
Message:
Fix gcc 4.3 warnings. #MsgLength=23


----
Modified: src/tests/BoundedIterator.cpp|11 11

Revision: 255c3a31e44793a591cf94f5d2b7a4116ee7bbe9
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2008 21:19:57
Message:
Fix doxygen warnings. #MsgLength=23


----
Modified: docs/api/user.doxygen.in|0 26

Revision: b3ae25e1a21b8cdd86205b97e50350db3236943b
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2008 22:10:08
Message:
Fix gcc 4.3 warnings. #MsgLength=23


----
Modified: src/tests/BoundedIterator.cpp|1 0

Revision: ccce18867c2d959540491a8501196d7255ca2cff
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2008 00:13:54
Message:
Fixed logger warning on F9. #MsgLength=29


----
Modified: src/qpid/sys/posix/Thread.h|4 4
Modified: src/tests/logging.cpp|1 1

Revision: 6881609494cede67a023e04b0b3f5b40a090258f
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2008 01:56:14
Message:
Encoding/decoding for new types: amqp_0_10::Map, amqp_0_10:UnknownType #MsgLength=72


----
Modified: rubygen/0-10/specification.rb|1 0
Added: rubygen/0-10/typecode.rb|85 0
Modified: rubygen/cppgen.rb|8 3
Modified: src/Makefile.am|5 0
Modified: src/qpid/Serializer.h|10 0
Modified: src/qpid/amqp_0_10/Codec.h|6 6
Added: src/qpid/amqp_0_10/Map.cpp|68 0
Added: src/qpid/amqp_0_10/Map.h|179 0
Added: src/qpid/amqp_0_10/SerializableString.h|62 0
Added: src/qpid/amqp_0_10/UnknownType.cpp|56 0
Added: src/qpid/amqp_0_10/UnknownType.h|86 0
Modified: src/qpid/amqp_0_10/built_in_types.h|41 39
Modified: src/tests/Makefile.am|2 1
Added: src/tests/amqp_0_10/Map.cpp|99 0
Modified: src/tests/serialize.cpp|8 7

Revision: 253d967fe85e6977596d69f72b6884e91bb8e2e3
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2008 02:35:31
Message:
Fix compile error on rhel5. #MsgLength=28


----
Modified: src/qpid/amqp_0_10/built_in_types.h|1 1

Revision: b45025119b308fe1a5cdfa34c742d6c0f949ad38
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2008 08:57:44
Message:
Fix serialize test failure on 64 bit architerctures. #MsgLength=53


----
Modified: src/qpid/amqp_0_10/Map.h|1 1
Modified: src/tests/amqp_0_10/Map.cpp|1 0
Modified: src/tests/python_tests|1 1

Revision: 509233a9075278edb95a28c855dca2f5a3e55025
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/04/2008 20:41:40
Message:
Patch from Ted Ross (see QPID-893): This patch enables management of plugged-in store modules. #MsgLength=95


----
Modified: src/qpid/broker/PersistableQueue.h|3 6
Modified: src/qpid/broker/Queue.cpp|12 0
Modified: src/qpid/broker/Queue.h|5 2
Modified: src/qpid/management/Manageable.cpp|1 0
Modified: src/qpid/management/Manageable.h|5 4

Revision: aa98f241d2b7aa2b31e3b78b7a93b6cd32888064
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2008 21:27:07
Message:
amqp_0_10/built_in_types.h - generic Wrapper template for making distinct types. - added Bit - bool wrapper with empty encode/decode. #MsgLength=311


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/amqp_0_10/Codec.h|38 38
Added: src/qpid/amqp_0_10/PackedCodec.h|79 0
Modified: src/qpid/amqp_0_10/built_in_types.h|33 14
Modified: src/qpid/amqp_0_10/complex_types.h|3 1
Modified: src/tests/serialize.cpp|13 1

Revision: 3e8f153c05bb0748a525dbb51f70d594df04d210
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2008 01:23:34
Message:
src/qpid/amqp_0_10/Map.h,.cpp: use preview encoding temporarily. Misc cleanup for 0-10 encoding. #MsgLength=98


----
Modified: rubygen/0-10/specification.rb|2 2
Modified: src/qpid/Serializer.h|85 46
Modified: src/qpid/amqp_0_10/Codec.h|14 28
Modified: src/qpid/amqp_0_10/Map.cpp|7 6
Modified: src/qpid/amqp_0_10/Map.h|15 8
Modified: src/qpid/amqp_0_10/PackedCodec.h|1 1
Modified: src/qpid/amqp_0_10/Segment.h|1 0
Modified: src/qpid/amqp_0_10/built_in_types.h|6 14
Modified: src/tests/amqp_0_10/Map.cpp|0 5
Modified: src/tests/serialize.cpp|0 7

Revision: c8b49dc645f4656bd01a704ae40aac434de677d0
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2008 03:57:14
Message:
rubygen/0-10/exceptions.rb: - generate exception classes for each error code, e.g. InvalidArgumentException #MsgLength=364


----
Added: rubygen/0-10/exceptions.rb|35 0
Modified: rubygen/0-10/specification.rb|38 12
Modified: src/qpid/amqp_0_10/Map.cpp|2 2
Modified: src/qpid/broker/SessionAdapter.cpp|3 2

Revision: cf8e098de2c5fab6afd0f665a9029eaf58e280d4
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2008 06:19:47
Message:
qpid/Serializer.h, qpid/amqp_0_10/Codec.h: - serializer enforces overrunning encode/decode limits. #MsgLength=186


----
Modified: src/qpid/Serializer.h|47 0
Modified: src/qpid/amqp_0_10/Codec.h|24 10
Modified: src/tests/Makefile.am|4 2
Renamed: src/tests/amqp_0_10/ProxyTemplate.cpp [from src/tests/ProxyTemplate.cpp]|0 0
Renamed: src/tests/amqp_0_10/apply.cpp [from src/tests/apply.cpp]|0 0
Renamed: src/tests/amqp_0_10/serialize.cpp [from src/tests/serialize.cpp]|34 0

Revision: fc997510cf3c35048badb55cb1d0ea10085f914c
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2008 22:42:36
Message:
src/qpid/amqp_0_10/Assembly.cpp,.h: - remove unused class. src/qpid/Serializer.h, src/qpid/amqp_0_10/Map.h: - Enforce map Size limits using serializer. #MsgLength=155


----
Modified: src/Makefile.am|0 2
Modified: src/qpid/Serializer.h|7 0
Deleted: src/qpid/amqp_0_10/Assembly.cpp|0 82
Deleted: src/qpid/amqp_0_10/Assembly.h|0 71
Modified: src/qpid/amqp_0_10/Map.h|5 6

Revision: 044778e1421f9f7618d1b67b01a7e6e7f5ab26e0
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/04/2008 02:14:42
Message:
Patch from Ted Ross (see QPID-902): This patch contains the following improvements for management:\n1) Schema display cleaned up in the python mgmt-cli\n2) Locking added automatically to management object accessors (manual locking removed from broker/Queue.cpp)\n3) Schemas are now pre-registered with the management agent using a package initializer. This allows management consoles to get schema information for a class even if no instances of the class exist. #MsgLength=463


----
Modified: managementgen/generate.py|17 1
Modified: managementgen/main.py|5 3
Modified: managementgen/schema.py|31 0
Modified: managementgen/templates/Class.cpp|2 13
Modified: managementgen/templates/Class.h|1 4
Modified: src/qpid/broker/Broker.cpp|17 15
Modified: src/qpid/broker/Queue.cpp|0 7
Modified: src/qpid/management/ManagementAgent.cpp|17 14
Modified: src/qpid/management/ManagementAgent.h|7 1
Modified: src/qpid/management/ManagementObject.h|2 1

Revision: 766fe29f882044f3ce3c4d859b6d1d628aa1b738
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/04/2008 02:25:08
Message:
Additional files for Ted Ross's checkin #MsgLength=40


----
Added: managementgen/templates/Package.cpp|32 0
Added: managementgen/templates/Package.h|41 0

Revision: a3b68abc7943fa87e31b09d6774b68a490d10dc3
Author: Alan Conway <aconway@apache.org>
Date: 05/04/2008 03:35:14
Message:
Minor cleanup of base Exception and python_tests script. #MsgLength=58


----
Modified: src/qpid/Exception.cpp|9 17
Modified: src/qpid/Exception.h|6 17
Modified: src/tests/python_tests|5 1

Revision: d16eb0467f4ffafe031a56bb525faba5c6b534f4
Author: Alan Conway <aconway@apache.org>
Date: 05/04/2008 05:00:40
Message:
src/qpid/amqp_0_10/Exception.h - base classes for 0-10 exceptions rubygen/0-10/exceptions.rb - generated 0-10 exceptions #MsgLength=124


----
Modified: rubygen/0-10/exceptions.rb|28 8
Modified: src/Makefile.am|1 0
Modified: src/qpid/amqp_0_10/Connection.cpp|3 1
Added: src/qpid/amqp_0_10/Exception.h|186 0
Modified: src/qpid/amqp_0_10/Map.cpp|0 5
Modified: src/qpid/amqp_0_10/Map.h|0 1

Revision: 5a3d64d9c2a9cc52c6c1eddc0dbaa6eb0e8f45c6
Author: Gordon Sim <gsim@apache.org>
Date: 07/04/2008 19:51:07
Message:
AsynchIoAcceptor.cpp: Limit output from codec to one buffer per 'idle' call. PreviewConnectionCodec: Generate output frames for encoding while available and while they can fit in the buffer given #MsgLength=198


----
Modified: src/qpid/broker/PreviewConnectionCodec.cpp|2 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|1 1

Revision: 22997a4268bded62ac53cbb2c10aa56cee3632e8
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2008 04:12:31
Message:
Encoding/decoding for packed structs and optional members. #MsgLength=60


----
Modified: src/qpid/Serializer.h|1 0
Modified: src/qpid/amqp_0_10/Codec.h|3 6
Deleted: src/qpid/amqp_0_10/PackedCodec.h|0 79
Added: src/qpid/amqp_0_10/Packer.h|148 0
Modified: src/tests/amqp_0_10/serialize.cpp|52 10

Revision: 774e0d06ecd5ffc053688acda73d1d150bb15de9
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2008 04:13:59
Message:
Missing from last commit. #MsgLength=27


----
Modified: src/Makefile.am|1 1

Revision: 1537da4f748abbbea5a07baa0d38859e2d6d8e4f
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2008 04:42:28
Message:
Fix rhel5 build errors. #MsgLength=24


----
Modified: src/qpid/amqp_0_10/Packer.h|1 0
Modified: src/tests/amqp_0_10/serialize.cpp|1 1

Revision: 62dc2387fcecb716099d5d556ef76b14a2e54f2b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/04/2008 04:59:02
Message:
Fixed time classes for some changes that misunderstood how they are supposed to be used (and documented them better to hopefully avoid this in the future) #MsgLength=156


----
Modified: src/qpid/broker/Timer.cpp|1 1
Modified: src/qpid/sys/Time.h|46 15
Modified: src/qpid/sys/posix/Time.cpp|1 1
Modified: src/tests/amqp_0_10/serialize.cpp|0 10

Revision: 1568e1712d6bc1f91098ab541cd8d1f99b87bc2e
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2008 05:16:48
Message:
rubygen/0-10/specification.rb - operator << for generated types. - src/tests/amqp_0_10/serialize.cpp #MsgLength=161


----
Modified: rubygen/0-10/specification.rb|13 4
Modified: src/Makefile.am|0 1
Deleted: src/qpid/BoundedIterator.h|0 67
Deleted: src/tests/BoundedIterator.cpp|0 75
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/amqp_0_10/serialize.cpp|0 6

Revision: a3562dea30ce8a293175790542af8bea2564b77b
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2008 07:22:36
Message:
src/qpid/amqp_0_10/Body.h, Header.h: placeholders. #MsgLength=193


----
Modified: rubygen/0-10/specification.rb|1 0
Modified: src/Makefile.am|6 3
Added: src/qpid/amqp_0_10/Body.h|55 0
Deleted: src/qpid/amqp_0_10/Frame.h|0 172
Added: src/qpid/amqp_0_10/FrameHeader.cpp|50 0
Added: src/qpid/amqp_0_10/FrameHeader.h|90 0
Added: src/qpid/amqp_0_10/Header.h|42 0
Deleted: src/qpid/amqp_0_10/Segment.cpp|0 81
Deleted: src/qpid/amqp_0_10/Segment.h|0 128
Added: src/qpid/amqp_0_10/Unit.cpp|56 0
Added: src/qpid/amqp_0_10/Unit.h|76 0
Added: src/qpid/amqp_0_10/UnitHandler.h|35 0
Modified: src/tests/amqp_0_10/serialize.cpp|35 43
Modified: src/tests/python_tests|9 2

Revision: f42996511a6e453bcd5820274cab3d117d1af54b
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2008 17:18:10
Message:
Fixed compilation error from ignored qualifier on function return type. #MsgLength=74


----
Modified: src/qpid/Serializer.h|1 1

Revision: b1996a8d9832efaa9384dd1690a96c6548e02c7d
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2008 18:16:32
Message:
Removed out-of-date and misleading comment. #MsgLength=46


----
Modified: src/qpid/broker/Queue.cpp|0 2

Revision: 974ff2af38747277a81787274649662d7e9dfc97
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2008 22:48:25
Message:
QPID-903: changed read-write lock to mutex (currently recursive) to avoid deadlocking when adding bridge. #MsgLength=108


----
Modified: src/qpid/management/ManagementAgent.cpp|4 4
Modified: src/qpid/management/ManagementAgent.h|1 1

Revision: e40cc38b1655a1ea5c6ba2839375cb4447d17000
Author: Kim van der Riet <kpvdr@apache.org>
Date: 09/04/2008 03:29:08
Message:
Patch from Ted Ross: QPID-907: Management Improvements for C++ Broker and Store #MsgLength=80


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/BrokerAdapter.cpp|1 1
Modified: src/qpid/broker/DirectExchange.cpp|3 1
Modified: src/qpid/broker/Exchange.cpp|4 3
Modified: src/qpid/broker/Exchange.h|5 4
Modified: src/qpid/broker/FanOutExchange.cpp|2 0
Modified: src/qpid/broker/HeadersExchange.cpp|3 1
Modified: src/qpid/broker/MessageStore.h|5 2
Modified: src/qpid/broker/MessageStoreModule.cpp|5 4
Modified: src/qpid/broker/MessageStoreModule.h|2 2
Modified: src/qpid/broker/NullMessageStore.cpp|2 2
Modified: src/qpid/broker/NullMessageStore.h|2 2
Modified: src/qpid/broker/Queue.cpp|4 2
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/TopicExchange.cpp|2 0
Modified: src/qpid/management/ManagementObject.h|1 0

Revision: 86b550c46cf068e2bf367c43521dbff85812ac7a
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2008 03:53:07
Message:
Summary: added 0-10 Array encoding and decoding. #MsgLength=800


----
Added: rubygen/0-10/allsegmenttypes.rb|34 0
Modified: rubygen/0-10/specification.rb|8 7
Modified: rubygen/0-10/typecode.rb|17 3
Modified: src/Makefile.am|3 0
Added: src/qpid/amqp_0_10/Array.cpp|34 0
Added: src/qpid/amqp_0_10/Array.h|120 0
Modified: src/qpid/amqp_0_10/Body.h|2 2
Modified: src/qpid/amqp_0_10/Codec.h|38 23
Modified: src/qpid/amqp_0_10/Map.cpp|1 1
Modified: src/qpid/amqp_0_10/Map.h|1 1
Modified: src/qpid/amqp_0_10/Packer.h|2 2
Modified: src/qpid/amqp_0_10/Unit.cpp|12 4
Modified: src/qpid/amqp_0_10/Unit.h|12 9
Modified: src/qpid/amqp_0_10/UnknownType.h|2 1
Added: src/qpid/amqp_0_10/all_built_in_types.h|31 0
Modified: src/qpid/amqp_0_10/built_in_types.h|4 8
Modified: src/qpid/amqp_0_10/complex_types.cpp|13 0
Modified: src/qpid/amqp_0_10/complex_types.h|4 1
Modified: src/qpid/framing/Blob.h|7 5
Modified: src/tests/amqp_0_10/Map.cpp|2 1
Modified: src/tests/amqp_0_10/serialize.cpp|70 15
Modified: src/tests/python_tests|2 1

Revision: ec95802d91594efa91f62b7619fefe90fe847dff
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2008 05:02:14
Message:
Touched existing template so new template allSegmentTypes.rb will be noticed. #MsgLength=79


----
Modified: rubygen/0-10/specification.rb|0 1

Revision: 42b5683beb5c10744704c68cd402fd3e0054b4a6
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2008 06:11:40
Message:
Fix packaing problem with generated file allSegmentTypes.h #MsgLength=60


----
Modified: src/Makefile.am|1 1

Revision: edf9a1320f18b0c4a33067392d6288e410b4cae2
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2008 22:25:09
Message:
Improved diagnostics in allSegmentTypes test. #MsgLength=47


----
Modified: src/tests/amqp_0_10/serialize.cpp|5 1

Revision: 7d34898ef5a6a0f731ec6e3ed0980cf75a5a0892
Author: Gordon Sim <gsim@apache.org>
Date: 10/04/2008 01:59:38
Message:
Handle the set-redelivered flag on the final version of the message.release command. #MsgLength=87


----
Modified: src/qpid/broker/DeliveryRecord.cpp|2 1
Modified: src/qpid/broker/DeliveryRecord.h|1 1
Modified: src/qpid/broker/MessageHandlerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|4 3
Modified: src/qpid/broker/SessionAdapter.h|1 0

Revision: c9e92820488dcd40b5b779175273174d96cb4425
Author: Gordon Sim <gsim@apache.org>
Date: 10/04/2008 03:52:44
Message:
Fixes and automated tests for federation function. #MsgLength=53


----
Modified: src/qpid/broker/Bridge.cpp|1 3
Modified: src/qpid/broker/Connection.cpp|8 3
Modified: src/qpid/broker/PreviewConnection.cpp|10 4
Modified: src/tests/Makefile.am|2 1
Added: src/tests/federation.py|191 0
Added: src/tests/run_federation_tests|24 0

Revision: 4c7fc516a953c19e839a364b34ff459a6abab3b7
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2008 20:36:58
Message:
Invocation handlers, see src/tests/amqp_0_10/handlers.cpp for example. #MsgLength=72


----
Added: rubygen/0-10/handlers.rb|29 0
Modified: rubygen/0-10/specification.rb|21 4
Modified: rubygen/cppgen.rb|1 0
Modified: src/qpid/amqp_0_10/Holder.h|36 14
Modified: src/qpid/amqp_0_10/Unit.h|6 3
Modified: src/tests/Makefile.am|2 1
Added: src/tests/amqp_0_10/handlers.cpp|125 0

Revision: a13803c4e5245c3675f1a51eaf4033a280f9203c
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2008 21:00:04
Message:
Use "Exception" instead of typeid.name() as default exception name. Mangled type names are too confusing. #MsgLength=107


----
Modified: src/qpid/Exception.cpp|1 1

Revision: 2b9b56e1f73997112ff08751426c96c117c329fd
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/04/2008 21:17:44
Message:
Minor change to format of log message when exception is thrown #MsgLength=63


----
Modified: src/qpid/Exception.cpp|1 1

Revision: 0aeec54a4e8d51bd7a49f84280b6c1e55141bada
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2008 04:15:08
Message:
amqp_0_10: Encoding for packed structs. #MsgLength=41


----
Modified: rubygen/0-10/specification.rb|16 18
Modified: rubygen/amqpgen.rb|1 0
Modified: rubygen/cppgen.rb|10 2
Modified: src/qpid/amqp_0_10/Packer.h|23 7
Modified: src/qpid/amqp_0_10/built_in_types.h|9 6
Modified: src/qpid/amqp_0_10/complex_types.cpp|7 12
Modified: src/qpid/amqp_0_10/complex_types.h|1 0
Modified: src/tests/amqp_0_10/serialize.cpp|41 3

Revision: 9f2d1ff17a6bd2d9aab4467c1dbcbe672ed3b915
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/04/2008 03:10:05
Message:
Patch from Ted Ross: added set methods to hilo types in generated management classes #MsgLength=85


----
Modified: managementgen/schema.py|11 0

Revision: 37d3a8c7b703d6bb65cad12eb3a78f4a43171a01
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2008 17:54:16
Message:
QPID-648: Initial support for sasl authentication for c++ broker. From patch submitted by mfarrellee@redhat.com. #MsgLength=465


----
Modified: configure.ac|32 1
Modified: src/qpid/broker/Broker.cpp|37 0
Modified: src/qpid/broker/Broker.h|4 0
Modified: src/qpid/broker/PreviewConnection.cpp|18 1
Modified: src/qpid/broker/PreviewConnection.h|14 0
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|55 2
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/run_federation_tests|2 2
Modified: src/tests/start_broker|1 1

Revision: 000403053fdac0358b5e9aeb3d03155e299bf657
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2008 21:57:36
Message:
QPID-648: keep the sasl_conn member in the handler to avoid the need for friend declaration #MsgLength=94


----
Modified: src/qpid/broker/PreviewConnection.cpp|0 13
Modified: src/qpid/broker/PreviewConnection.h|0 13
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|21 6
Modified: src/qpid/broker/PreviewConnectionHandler.h|8 0

Revision: 37aae27e2760ff92eaa365336b6d865ae5a67239
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 00:56:35
Message:
Use the errata file for final 0-10 that has a type code for xids without which dtx.recover can't work. Return the indoubt xids as an array of struct32s each of which contains an encoded xid. #MsgLength=193


----
Modified: src/qpid/broker/SessionAdapter.cpp|9 9
Modified: src/qpid/broker/SessionAdapter.h|2 1
Modified: src/qpid/framing/FieldValue.cpp|8 0
Modified: src/qpid/framing/FieldValue.h|6 0
Modified: src/tests/python_tests|1 1
Modified: xml/extra.xml|1 1

Revision: 401b349c5104d71db7765ab5b96abe773fb16cf0
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2008 03:14:10
Message:
https://bugzilla.redhat.com/show_bug.cgi?id=441080 from Ville Skytt (ville.skytta@iki.fi) #MsgLength=352


----
Modified: qpidc.spec.in|3 2

Revision: 917b11ea7622ab8bfc9a260468eadb7c7431c3d1
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 03:19:27
Message:
QPID-648: more flexible sasl implementation (patch provided by mfarrellee@redhat.com) #MsgLength=88


----
Modified: src/qpid/broker/Broker.h|0 2
Modified: src/qpid/broker/PreviewConnection.cpp|0 3
Modified: src/qpid/broker/PreviewConnection.h|0 2
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|141 57
Modified: src/qpid/broker/PreviewConnectionHandler.h|8 0
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|12 6

Revision: a96290d334282fcebf577e46036fbebb229e4bb7
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 04:34:30
Message:
Fix to struct32 encoding #MsgLength=27


----
Modified: src/qpid/framing/StructHelper.h|1 1

Revision: 1477a4b58265ce0b95924a652874471616e3e4bb
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 05:11:25
Message:
* Fix interpretation of accept-mode, 0 == EXPLICIT * Ensure accepts are taken into account in command sequence #MsgLength=113


----
Modified: src/qpid/broker/MessageAdapter.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|1 0

Revision: 8e5af84b4e5dc22b729eeb3e90ff82db81132cb4
Author: Nuno Santos <nsantos@apache.org>
Date: 15/04/2008 05:42:21
Message:
fix home dir permissions #MsgLength=25


----
Modified: qpidc.spec.in|6 2

Revision: d1ae5c57ab8ef006cb882ee87c13999aee272557
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2008 09:58:05
Message:
Struct32 encoding #MsgLength=19


----
Modified: rubygen/0-10/specification.rb|75 46
Modified: src/Makefile.am|3 0
Modified: src/qpid/Serializer.h|1 1
Renamed: src/qpid/amqp_0_10/Header.cpp [from src/qpid/amqp_0_10/all_built_in_types.h]|12 9
Modified: src/qpid/amqp_0_10/Header.h|18 7
Modified: src/qpid/amqp_0_10/Holder.h|8 0
Modified: src/qpid/amqp_0_10/Map.cpp|3 1
Modified: src/qpid/amqp_0_10/Map.h|1 1
Modified: src/qpid/amqp_0_10/Unit.cpp|4 3
Renamed: src/qpid/amqp_0_10/UnknownStruct.cpp [from src/qpid/amqp_0_10/Frame.cpp]|8 2
Added: src/qpid/amqp_0_10/UnknownStruct.h|43 0
Modified: src/qpid/amqp_0_10/built_in_types.h|1 2
Modified: src/qpid/amqp_0_10/complex_types.cpp|13 2
Modified: src/qpid/amqp_0_10/complex_types.h|2 2
Modified: src/tests/amqp_0_10/Map.cpp|4 2
Modified: src/tests/amqp_0_10/serialize.cpp|19 3

Revision: 9447cff26e80df6a0f67665bad1ca47c99dffbd3
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 17:40:28
Message:
Remove deleted file from distribution list. #MsgLength=46


----
Modified: src/Makefile.am|0 1

Revision: 25feae823d2cc12247ff2c9ffbd889fdd2c27a61
Author: Gordon Sim <gsim@apache.org>
Date: 15/04/2008 17:41:48
Message:
QPID-648: Get list of supported mechanisms from sasl lib. (Patch from mfarrellee@redhat.com) #MsgLength=94


----
Modified: src/qpid/broker/PreviewConnectionHandler.cpp|54 50

Revision: f79935d5f5b2d99d36beee7f741b3f46fd1c31e8
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2008 22:54:46
Message:
Fix build error: MapValue SIZE was too small for Struct32. #MsgLength=59


----
Modified: src/qpid/amqp_0_10/Map.h|5 1

Revision: d9692073ea191a6ccfae9315e648facd57532e39
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/04/2008 23:41:21
Message:
Refactored the IO framework that sits on top of Poller so that it uses a generalised IOHandle. This means that you can define new classes derived from IOHandle (other than Socket) that can also be added to a Poller and waited for. #MsgLength=232


----
Modified: src/Makefile.am|4 2
Modified: src/qpid/client/Connector.cpp|8 7
Modified: src/qpid/client/Connector.h|1 1
Modified: src/qpid/sys/AsynchIO.h|2 1
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|11 11
Modified: src/qpid/sys/Dispatcher.h|2 2
Added: src/qpid/sys/IOHandle.h|45 0
Modified: src/qpid/sys/Poller.h|2 4
Modified: src/qpid/sys/Socket.h|6 11
Modified: src/qpid/sys/epoll/EpollPoller.cpp|10 8
Modified: src/qpid/sys/posix/AsynchIO.cpp|8 6
Added: src/qpid/sys/posix/IOHandle.cpp|42 0
Modified: src/qpid/sys/posix/PrivatePosix.h|11 3
Modified: src/qpid/sys/posix/Socket.cpp|14 37
Modified: src/tests/SocketProxy.h|24 60

Revision: 6933fa8f14111d5eef76e3e3efa58bbd0a283372
Author: Nuno Santos <nsantos@apache.org>
Date: 15/04/2008 23:46:38
Message:
add svn revision include to specfile #MsgLength=37


----
Modified: qpidc.spec.in|1 0

Revision: a20eb6d7f8eeab5853ce05882754d3a830ca5ac0
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2008 23:57:58
Message:
Cleanup of size calculations and handling UnknownStruct #MsgLength=57


----
Modified: rubygen/0-10/specification.rb|10 14
Modified: src/tests/amqp_0_10/serialize.cpp|9 0

Revision: 67a7468c89f0bf9942e2a97932a87a17e82c14aa
Author: Nuno Santos <nsantos@apache.org>
Date: 16/04/2008 00:12:01
Message:
QPID-921: applied qpid-patch36.diff on behalf of Ted Ross #MsgLength=58


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/System.cpp|36 4
Modified: src/qpid/broker/System.h|2 1
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|35 10
Modified: src/qpid/management/ManagementAgent.h|5 3

Revision: 4e19a5a27814a2ec6e6092e20ec5520007f82ef1
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 01:00:40
Message:
Disabled failing tests, working on fixing the issues. #MsgLength=55


----
Modified: src/tests/amqp_0_10/serialize.cpp|8 1

Revision: 00430c1993218922e1527e912999cb2a301304bd
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 01:10:59
Message:
Comment out failing test, repairing. #MsgLength=37


----
Modified: src/tests/amqp_0_10/serialize.cpp|6 7

Revision: fe479f08d412c6285e8941ca1f0d5680ca6c9c6c
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 02:23:55
Message:
Correct Struct32 encoding: size/code/data. Proper re-encoding for unknown struct codes. #MsgLength=89


----
Modified: rubygen/0-10/specification.rb|3 3
Added: src/qpid/amqp_0_10/Struct32.h|60 0
Modified: src/qpid/amqp_0_10/UnknownStruct.cpp|1 1
Modified: src/qpid/amqp_0_10/UnknownStruct.h|14 2
Modified: src/qpid/amqp_0_10/built_in_types.h|1 0
Modified: src/qpid/amqp_0_10/complex_types.cpp|2 2
Modified: src/qpid/amqp_0_10/complex_types.h|2 2
Modified: src/tests/amqp_0_10/serialize.cpp|15 11

Revision: 090d7a6bc441b801889e38028243d816b833d7e1
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 05:32:35
Message:
Fix build error - missing op << for Struct32. #MsgLength=46


----
Modified: src/Makefile.am|2 0
Added: src/qpid/amqp_0_10/Struct32.cpp|30 0
Modified: src/qpid/amqp_0_10/Struct32.h|3 0

Revision: 5496f4fdec5e477355aa5636cea911208f808eb1
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 22:32:33
Message:
Fix bug in Blob::assign assigning from an empty blob. #MsgLength=55


----
Modified: src/qpid/framing/Blob.h|1 0

Revision: eb00330ccbfef53c9b6fbb8c0262f62cc526769f
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 23:33:51
Message:
Fix encoding for sized structs. #MsgLength=33


----
Modified: rubygen/0-10/specification.rb|17 5
Modified: src/qpid/amqp_0_10/Array.h|8 4
Added: src/qpid/amqp_0_10/Command.h|62 0
Added: src/qpid/amqp_0_10/CommmandPacker.h|60 0
Renamed: src/qpid/amqp_0_10/Control.h [from src/qpid/amqp_0_10/complex_types.h]|4 47
Modified: src/qpid/amqp_0_10/Header.h|1 1
Modified: src/qpid/amqp_0_10/Packer.h|36 6
Added: src/qpid/amqp_0_10/Struct.h|60 0
Modified: src/qpid/amqp_0_10/Struct32.cpp|6 0
Modified: src/qpid/amqp_0_10/Struct32.h|7 6
Modified: src/qpid/amqp_0_10/UnknownStruct.h|1 1
Modified: src/qpid/amqp_0_10/built_in_types.h|3 1
Modified: src/qpid/framing/SequenceSet.h|13 9
Added: src/tests/allSegmentTypes.h|128 0
Modified: src/tests/amqp_0_10/serialize.cpp|290 280

Revision: 007563e891ed2fe560a35015d5531bf7fad41d3d
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2008 23:45:01
Message:
Separate new codec from liqqpidcommon to improve link times. To be included in libqpidcommon when we are ready to replace framing codec. #MsgLength=138


----
Modified: rubygen/generate|13 6
Modified: src/Makefile.am|18 14
Modified: src/tests/Makefile.am|3 2

Revision: 572256776501e707ffc679968dc9d85773843b6d
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2008 02:01:28
Message:
Removed complex_types.h from Makefile.am. #MsgLength=43


----
Modified: src/Makefile.am|0 1

Revision: 2d88c86b8f9a17bd918daeada487f9268225b52b
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2008 02:23:14
Message:
Add missing files to packaging. #MsgLength=32


----
Modified: src/Makefile.am|3 0

Revision: bd2dd7f3e2f0ef8052d934ccf19cde6cf3fa7ffd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/04/2008 08:19:14
Message:
Refactored IO Thread creation so that it happens in the Broker class - There is now a single Poller created by the Broker class that is passed to the Acceptor for use in network IO. It can also now be passed to anything else that wants to put work in the IO threads - The Broker class itself is now responsible for actually creating the threads #MsgLength=352


----
Modified: src/qpid/broker/Broker.cpp|28 6
Modified: src/qpid/broker/Broker.h|5 0
Modified: src/qpid/sys/Acceptor.h|8 6
Modified: src/qpid/sys/AsynchIOAcceptor.cpp|17 43

Revision: be71dda2c8dfca7f9d6b4e783238090bccc3fccd
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2008 20:21:38
Message:
Some fixes to the transitional spec defs. #MsgLength=44


----
Modified: src/qpid/broker/ConnectionHandler.cpp|21 19
Modified: src/qpid/broker/ConnectionHandler.h|11 13
Modified: xml/extra.xml|1 13

Revision: 9e41fa57163b8e2010f12e835330871358306836
Author: Nuno Santos <nsantos@apache.org>
Date: 17/04/2008 22:31:01
Message:
add full path to qpidd in init script, as it fails in some environments with just the command name #MsgLength=99


----
Modified: etc/qpidd|1 1

Revision: 9b3b7c0ee65f0e4b903c37b6abf879bc9c78cd09
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2008 22:42:09
Message:
Added missing .h files to Makefile.am to fix make rpmbuild. Add non-const Message::data() Make log/Statement.h public. #MsgLength=120


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/framing/TransferContent.cpp|5 2
Modified: src/qpid/framing/TransferContent.h|1 0
Modified: src/tests/Makefile.am|1 1

Revision: 210f31836d2a15be8127539bc1d81414cf53bc1a
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2008 00:01:05
Message:
src/Makefile.am: Fix problems with rpmbuild. src/tests/README: Updated information about boost test. #MsgLength=103


----
Modified: src/Makefile.am|4 3
Modified: src/tests/README|8 25

Revision: 94d08ec391e3fd2579df53fce736555e899de97a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/04/2008 05:46:22
Message:
Patch for improved compatibility with gcc 3.4 and boost 1.33 #MsgLength=62


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/IList.h|7 3
Modified: src/qpid/ISList.h|6 4
Modified: src/qpid/Options.cpp|50 0
Modified: src/qpid/amqp_0_10/Holder.h|2 2
Modified: src/qpid/broker/Daemon.cpp|93 36
Modified: src/qpid/broker/Message.h|4 2
Modified: src/qpid/framing/SessionState.cpp|4 4
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/tests/Array.cpp|2 2
Modified: src/tests/Blob.cpp|3 3
Modified: src/tests/ClientSessionTest.cpp|37 31
Modified: src/tests/Cpg.cpp|1 1
Modified: src/tests/FieldTable.cpp|2 2
Modified: src/tests/FieldValue.cpp|4 4
Modified: src/tests/Frame.cpp|3 3
Modified: src/tests/IList.cpp|67 59
Modified: src/tests/ISList.cpp|73 66
Modified: src/tests/IncompleteMessageList.cpp|3 3
Modified: src/tests/InlineVector.cpp|4 4
Modified: src/tests/RefCounted.cpp|1 1
Modified: src/tests/SequenceSet.cpp|3 3
Modified: src/tests/Serializer.cpp|4 4
Modified: src/tests/SessionState.cpp|3 3
Modified: src/tests/Shlib.cpp|2 2
Modified: src/tests/Url.cpp|2 2
Modified: src/tests/Uuid.cpp|4 4
Modified: src/tests/amqp_0_10/Map.cpp|4 4
Modified: src/tests/amqp_0_10/ProxyTemplate.cpp|1 1
Modified: src/tests/amqp_0_10/apply.cpp|2 2
Modified: src/tests/amqp_0_10/handlers.cpp|1 1
Modified: src/tests/amqp_0_10/serialize.cpp|14 14
Modified: src/tests/cluster_client.cpp|1 1
Modified: src/tests/exception_test.cpp|18 15
Modified: src/tests/logging.cpp|15 15
Modified: src/tests/perftest.cpp|2 1
Modified: src/tests/python_tests|0 2
Modified: src/tests/test_tools.h|5 1
Modified: src/tests/unit_test.h|11 1

Revision: 7607861c3075d0f4dc2b22be74cc455715bd8ad7
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2008 08:54:14
Message:
src/tests/python_tests: fix exit status if QPID_NO_PREVIEW is set. src/qpid/framing/AMQFrame.h: frame header setters/getters with 0-10 naming. #MsgLength=144


----
Modified: src/qpid/framing/AMQFrame.h|14 0
Modified: src/tests/python_tests|1 1

Revision: 41cd7ff52dfc4ede0ff1e74fb293abfcfa1ffbeb
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/04/2008 20:09:42
Message:
Fix to prevent possible Timer deadlocks by holding onto mutex while calling fire() #MsgLength=83


----
Modified: src/qpid/broker/Timer.cpp|1 0

Revision: 1d2629a54b132d463b297496693a9c2ae803dee2
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2008 22:12:36
Message:
Uncommented tests. #MsgLength=20


----
Modified: src/tests/amqp_0_10/serialize.cpp|283 284

Revision: 2f315a323c751e5b9ec3bc1a3100986ca467c889
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2008 23:26:05
Message:
Fix build problem. #MsgLength=19


----
Modified: src/tests/amqp_0_10/serialize.cpp|1 1

Revision: abe9b4b65da627516a04f453113753258844c487
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/04/2008 02:18:22
Message:
fix ambiguity problem found on gcc 3.4 compilers #MsgLength=49


----
Modified: src/qpid/framing/SequenceSet.h|1 1

Revision: 7b7ef670fc03a0a9973ef5553a93f6505ff446ab
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/04/2008 03:44:25
Message:
Split AsynchIOAcceptor into IOHandler and connection control code #MsgLength=67


----
Modified: src/Makefile.am|3 2
Renamed: src/qpid/sys/AsynchIOHandler.cpp [from src/qpid/sys/AsynchIOAcceptor.cpp]|16 140
Added: src/qpid/sys/AsynchIOHandler.h|70 0
Added: src/qpid/sys/TCPIOPlugin.cpp|109 0

Revision: 32f747b60fa046f21704beea5a4f6b08e40d59b8
Author: Alan Conway <aconway@apache.org>
Date: 19/04/2008 03:56:27
Message:
Fix test failure. #MsgLength=19


----
Modified: src/tests/amqp_0_10/serialize.cpp|3 2

Revision: f214bdc61fea1c58c2a7fcd298fd257654f99690
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/04/2008 05:03:49
Message:
Refactored Acceptor code to allow multiple acceptors to be present in the broker #MsgLength=82


----
Modified: src/qpid/Plugin.cpp|12 3
Modified: src/qpid/Plugin.h|0 3
Modified: src/qpid/broker/Broker.cpp|32 15
Modified: src/qpid/broker/Broker.h|13 5
Modified: src/qpid/sys/Acceptor.h|0 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|22 7

Revision: 1391793051d46e36f37419a2a8c97aa32bf28aac
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/04/2008 05:10:42
Message:
Added missed new include file #MsgLength=31


----
Modified: src/Makefile.am|1 0

Revision: d1df77d6b28b89bf7414a5cf263a7dc8125553a0
Author: Gordon Sim <gsim@apache.org>
Date: 20/04/2008 20:10:37
Message:
QPID-920: converted c++ client to use final 0-10 protocol * connection handler converted to using invoker & proxy and updated to final method defs * SessionCore & ExecutionHandler replace by SessionImpl * simplified handling of completion & results, removed handling of responses #MsgLength=282


----
Modified: examples/examples/direct/declare_queues.cpp|2 2
Modified: examples/examples/fanout/listener.cpp|7 5
Modified: examples/examples/pub-sub/topic_listener.cpp|2 2
Modified: examples/examples/request-response/client.cpp|1 1
Modified: examples/examples/request-response/server.cpp|1 1
Modified: rubygen/99-0/Session.rb|6 5
Modified: rubygen/99-0/structs.rb|1 1
Modified: rubygen/amqpgen.rb|1 1
Modified: rubygen/cppgen.rb|31 4
Modified: src/Makefile.am|7 13
Modified: src/qpid/broker/BrokerAdapter.cpp|10 10
Modified: src/qpid/broker/BrokerAdapter.h|3 3
Modified: src/qpid/broker/ConnectionHandler.cpp|0 2
Modified: src/qpid/broker/DtxHandlerImpl.cpp|20 20
Modified: src/qpid/broker/DtxHandlerImpl.h|7 7
Modified: src/qpid/broker/Message.cpp|3 3
Modified: src/qpid/broker/MessageAdapter.cpp|14 9
Modified: src/qpid/broker/MessageAdapter.h|0 5
Modified: src/qpid/broker/MessageDelivery.cpp|9 8
Modified: src/qpid/broker/MessageHandlerImpl.cpp|0 2
Modified: src/qpid/broker/SemanticHandler.cpp|2 3
Modified: src/qpid/broker/SemanticState.cpp|5 4
Modified: src/qpid/broker/SessionAdapter.cpp|42 35
Modified: src/qpid/broker/SessionAdapter.h|18 14
Modified: src/qpid/broker/SessionHandler.cpp|3 9
Modified: src/qpid/broker/SessionHandler.h|0 1
Modified: src/qpid/broker/SessionState.cpp|24 8
Modified: src/qpid/client/Channel.cpp|31 14
Modified: src/qpid/client/Channel.h|1 1
Modified: src/qpid/client/Completion.h|3 12
Deleted: src/qpid/client/CompletionTracker.cpp|0 121
Deleted: src/qpid/client/CompletionTracker.h|0 77
Modified: src/qpid/client/Connection.cpp|3 3
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/ConnectionHandler.cpp|80 101
Modified: src/qpid/client/ConnectionHandler.h|40 11
Modified: src/qpid/client/ConnectionImpl.cpp|8 7
Modified: src/qpid/client/ConnectionImpl.h|4 4
Modified: src/qpid/client/Connector.cpp|9 0
Modified: src/qpid/client/Connector.h|2 1
Modified: src/qpid/client/Dispatcher.cpp|1 1
Modified: src/qpid/client/Execution.h|15 9
Deleted: src/qpid/client/ExecutionHandler.cpp|0 267
Deleted: src/qpid/client/ExecutionHandler.h|0 104
Renamed: src/qpid/client/Future.cpp [from src/qpid/client/Response.h]|15 22
Modified: src/qpid/client/Future.h|5 50
Deleted: src/qpid/client/FutureFactory.h|0 48
Deleted: src/qpid/client/FutureResponse.cpp|0 45
Deleted: src/qpid/client/FutureResponse.h|0 46
Modified: src/qpid/client/FutureResult.cpp|2 2
Modified: src/qpid/client/FutureResult.h|2 2
Renamed: src/qpid/client/Message.cpp [from src/qpid/client/FutureFactory.cpp]|55 30
Modified: src/qpid/client/Message.h|12 51
Renamed: src/qpid/client/Results.cpp [from src/qpid/client/Correlator.cpp]|38 12
Renamed: src/qpid/client/Results.h [from src/qpid/client/Correlator.h]|16 13
Modified: src/qpid/client/SessionBase.cpp|23 6
Modified: src/qpid/client/SessionBase.h|25 13
Deleted: src/qpid/client/SessionCore.cpp|0 440
Added: src/qpid/client/SessionImpl.cpp|605 0
Renamed: src/qpid/client/SessionImpl.h [from src/qpid/client/SessionCore.h]|104 57
Modified: src/qpid/client/SubscriptionManager.cpp|4 4
Modified: src/qpid/client/SubscriptionManager.h|5 5
Modified: src/qpid/client/TypedResult.h|1 1
Modified: src/qpid/cluster/ClassifierHandler.cpp|2 2
Modified: src/qpid/framing/AMQFrame.h|0 1
Modified: src/qpid/framing/AMQHeaderBody.h|4 4
Modified: src/qpid/framing/AMQP_HighestVersion.h|2 2
Modified: src/qpid/framing/SequenceSet.h|2 1
Modified: src/qpid/management/ManagementAgent.cpp|8 7
Modified: src/tests/ClientSessionTest.cpp|5 3
Modified: src/tests/ExchangeTest.cpp|0 1
Modified: src/tests/FramingTest.cpp|21 87
Modified: src/tests/HeaderTest.cpp|1 7
Modified: src/tests/MessageBuilderTest.cpp|5 4
Modified: src/tests/MessageTest.cpp|4 2
Modified: src/tests/MessageUtils.h|5 3
Modified: src/tests/QueueTest.cpp|2 1
Modified: src/tests/TxAckTest.cpp|2 7
Modified: src/tests/client_test.cpp|6 5
Modified: src/tests/exception_test.cpp|2 1
Modified: src/tests/latencytest.cpp|4 5
Modified: src/tests/perftest.cpp|15 15
Modified: src/tests/topic_listener.cpp|3 3
Modified: src/tests/topic_publisher.cpp|3 3
Modified: src/tests/txtest.cpp|7 5
Modified: xml/extra.xml|9 9

Revision: 3f0fc15e54f661a54f5c5f0d5e5b02114f0be0ef
Author: Gordon Sim <gsim@apache.org>
Date: 21/04/2008 22:37:03
Message:
QPID-920: send message-accept for acks (as well as completion) * AckPolicy now maintains a set of transfered messages for cumulative accepts #MsgLength=143


----
Modified: src/qpid/client/AckPolicy.h|22 5
Modified: src/qpid/client/Channel.cpp|6 3
Modified: src/qpid/client/Dispatcher.cpp|2 2
Modified: src/qpid/client/Execution.h|0 4
Modified: src/qpid/client/LocalQueue.cpp|3 2
Modified: src/qpid/client/LocalQueue.h|2 1
Modified: src/qpid/client/Message.cpp|2 10
Modified: src/qpid/client/Message.h|1 5
Modified: src/qpid/client/SessionBase.cpp|10 0
Modified: src/qpid/client/SessionBase.h|2 0
Modified: src/qpid/client/SessionImpl.cpp|6 0
Modified: src/qpid/client/SessionImpl.h|2 1
Modified: src/qpid/client/SubscriptionManager.cpp|2 0
Modified: src/qpid/client/SubscriptionManager.h|4 0
Modified: src/qpid/framing/SequenceSet.cpp|15 11
Modified: src/tests/ClientSessionTest.cpp|3 1
Modified: src/tests/client_test.cpp|3 2
Modified: src/tests/perftest.cpp|3 3
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/txtest.cpp|1 1

Revision: f65b789d26e97e65b7b54e3998301fbf00408f70
Author: Alan Conway <aconway@apache.org>
Date: 22/04/2008 00:36:08
Message:
src/qpid/RangeSet.h: generic set implementation using ranges. - no heap allocation for simple sets (<= 3 ranges) - binary searches for o(log(n)) performance in complex sets #MsgLength=176


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/InlineAllocator.h|5 1
Added: src/qpid/RangeSet.h|279 0
Added: src/tests/InlineAllocator.cpp|63 0
Modified: src/tests/InlineVector.cpp|43 13
Modified: src/tests/Makefile.am|4 1
Added: src/tests/RangeSet.cpp|117 0

Revision: 27bbd3d6c114da318d851a1b9c413d1099963e67
Author: Alan Conway <aconway@apache.org>
Date: 22/04/2008 01:34:49
Message:
Fix compile error on rhel5. #MsgLength=28


----
Modified: src/tests/RangeSet.cpp|45 45

Revision: 169963c7050ba6835f2875b474d88b9f5a81e7b5
Author: Alan Conway <aconway@apache.org>
Date: 22/04/2008 02:59:31
Message:
Better workaround for boost::ptr_map incompatibility between boost 1.33 and 1.34, based on public properties of ptr::map types rather than version numbers. #MsgLength=157


----
Modified: src/qpid/broker/Connection.cpp|3 3
Modified: src/qpid/broker/DtxManager.cpp|4 4
Modified: src/qpid/broker/PreviewConnection.cpp|3 3
Modified: src/qpid/broker/SemanticState.cpp|6 6
Modified: src/qpid/ptr_map.h|13 76
Modified: src/tests/interop_runner.cpp|1 1

Revision: ad948a62ca39827f43fcec9df8faaa7a898b5705
Author: Alan Conway <aconway@apache.org>
Date: 22/04/2008 03:19:42
Message:
Disable compilation of amqp_0_10 codec until ready for integration. #MsgLength=69


----
Modified: src/Makefile.am|33 33
Modified: src/tests/Makefile.am|9 7

Revision: 64edea7ff344a5ea1e0d3fb05ef545d0e064fa20
Author: Gordon Sim <gsim@apache.org>
Date: 22/04/2008 04:34:49
Message:
* raise error when controls other than attached are received on unattached channel * corrected exception handling in client and on broker (broker to issue detach) #MsgLength=165


----
Modified: src/qpid/broker/SessionHandler.cpp|21 10
Modified: src/qpid/broker/SessionHandler.h|3 0
Modified: src/qpid/broker/SessionState.cpp|1 5
Modified: src/qpid/client/SessionImpl.cpp|5 3

Revision: a50762dd3fcf8def8e33869d9a388854ce344514
Author: Alan Conway <aconway@apache.org>
Date: 22/04/2008 05:22:09
Message:
Fix packaging problems for rpmbuild. #MsgLength=37


----
Modified: src/Makefile.am|33 33

Revision: 5f1fc12e37472a26c12ab73340fe0d5194a407a8
Author: Gordon Sim <gsim@apache.org>
Date: 22/04/2008 18:33:12
Message:
QPID-648: (based on patch from mfarrellee@redhat.com) #MsgLength=245


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/ConnectionHandler.cpp|23 22
Modified: src/qpid/broker/ConnectionHandler.h|3 0
Added: src/qpid/broker/SaslAuthenticator.cpp|242 0
Added: src/qpid/broker/SaslAuthenticator.h|47 0
Modified: src/qpid/client/ConnectionHandler.cpp|9 4
Modified: src/qpid/client/ConnectionHandler.h|3 1

Revision: 430215a21b9f7a622247183b142201a109f6d268
Author: Gordon Sim <gsim@apache.org>
Date: 22/04/2008 20:05:52
Message:
QPID-944: do no-local checking where requested when there is an exclusive subscription active #MsgLength=96


----
Modified: src/qpid/broker/Consumer.h|2 0
Modified: src/qpid/broker/Queue.cpp|17 9
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|5 0
Modified: src/qpid/broker/SemanticState.h|2 1
Modified: src/qpid/broker/SessionContext.h|2 1
Modified: src/tests/QueueTest.cpp|1 0

Revision: f955fbbd4fd30f92f37528fdee737f5edf6d5614
Author: Rafael H. Schloming <rhs@apache.org>
Date: 23/04/2008 00:11:34
Message:
QPID-947: update cpp and python management to 0-10 final #MsgLength=57


----
Modified: src/qpid/framing/FieldTable.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|9 9
Modified: src/tests/FieldTable.cpp|6 6
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/federation.py|25 24
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/topic_listener.cpp|3 3

Revision: 91383c87e21ed1e16486f8847b17194723742d2e
Author: Gordon Sim <gsim@apache.org>
Date: 23/04/2008 04:14:15
Message:
Moved federation to final 0-10 codepath #MsgLength=42


----
Modified: src/qpid/amqp_0_10/Connection.cpp|15 5
Modified: src/qpid/amqp_0_10/Connection.h|2 1
Modified: src/qpid/broker/Bridge.cpp|13 13
Modified: src/qpid/broker/Bridge.h|1 0
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/ConnectionFactory.cpp|2 5
Modified: src/qpid/broker/ConnectionHandler.cpp|15 14
Modified: src/qpid/broker/ConnectionHandler.h|2 2
Modified: src/qpid/broker/SessionHandler.cpp|5 2
Modified: src/tests/federation.py|6 6

Revision: c1c6af4cd8ec870158dae07b03760b9eaa063fbd
Author: Gordon Sim <gsim@apache.org>
Date: 23/04/2008 04:31:00
Message:
QPID-920: allow applications to trigger the sending of a flush to server #MsgLength=75


----
Modified: src/qpid/client/SessionBase.cpp|5 0
Modified: src/qpid/client/SessionBase.h|1 0
Modified: src/qpid/client/SessionImpl.cpp|6 0
Modified: src/qpid/client/SessionImpl.h|1 0

Revision: 12c7ae806d44a5b9d10ff13e5f3a20b924bf3e4d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2008 05:13:20
Message:
* Renamed the Acceptor class to be the ProtocolFactory class which better approximates its current behaviour * Slightly refactored TCPIOPlugin to better approximate how it would look when we implement a proper AsynchConnector #MsgLength=231


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/broker/Broker.cpp|14 22
Modified: src/qpid/broker/Broker.h|7 7
Renamed: src/qpid/sys/ProtocolFactory.h [from src/qpid/sys/Acceptor.h]|7 7
Modified: src/qpid/sys/TCPIOPlugin.cpp|21 29

Revision: 4fc3e531c2c8691b25ae55788cdf7cd314cd9097
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2008 23:31:57
Message:
 - SequenceSet implemented on RangeSet. - Reduced #include dependencides on SequenceSet.h #MsgLength=92


----
Modified: src/qpid/DataDir.cpp|2 4
Modified: src/qpid/RangeSet.h|54 15
Modified: src/qpid/amqp_0_10/built_in_types.h|7 2
Modified: src/qpid/broker/SessionAdapter.cpp|1 0
Modified: src/qpid/broker/SessionAdapter.h|0 1
Modified: src/qpid/broker/SessionHandler.h|1 1
Modified: src/qpid/client/Results.cpp|1 0
Modified: src/qpid/client/Results.h|0 1
Modified: src/qpid/framing/SequenceSet.cpp|35 165
Modified: src/qpid/framing/SequenceSet.h|7 37
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/RangeSet.cpp|24 0
Modified: src/tests/SequenceSet.cpp|1 1

Revision: d729d7cdf3da0e1dc7e87cbb9f9e8129f8b6e2be
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2008 23:58:39
Message:
Make python tests work with VPATH builds #MsgLength=42


----
Modified: src/tests/python_tests|4 2
Modified: src/tests/run_federation_tests|5 3

Revision: db36019372f63f446d11c229d47f31b7d6fdd99a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/04/2008 02:01:49
Message:
Patch from Mick Goulish: Fixes to previous improved portability patch #MsgLength=71


----
Modified: src/qpid/Options.cpp|20 20
Modified: src/qpid/broker/Daemon.cpp|21 20
Modified: src/tests/.valgrind.supp|74 0

Revision: 68b25080fba17824b45fef7a3ec5e176adea2cfe
Author: Alan Conway <aconway@apache.org>
Date: 24/04/2008 02:43:05
Message:
src/tests/ClientSessionTest.cpp: uncommented tests for session resume as EXPECTED_FAILURES tests. src/tests/unit_test.h: workarounds for broken EXPECTED_FAILURES tests in boost <= 1.34 #MsgLength=187


----
Modified: src/tests/ClientSessionTest.cpp|11 12
Modified: src/tests/unit_test.h|45 9

Revision: 50d7278151be4e9dd0e73b9cff6879c06e53863c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/04/2008 02:45:01
Message:
Reverted earlier change to valgrind suppressions #MsgLength=50


----
Modified: src/tests/.valgrind.supp|0 74

Revision: f48b8e811b362b2f4ec7ee67e421a92f02ddc3a6
Author: Alan Conway <aconway@apache.org>
Date: 24/04/2008 06:13:14
Message:
Fix build error introduced by earlier commit. #MsgLength=47


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/unit_test.h|1 7

Revision: 3bee52c479e3ae139f8a0d4928fbc1f079fc6fed
Author: Alan Conway <aconway@apache.org>
Date: 24/04/2008 23:04:45
Message:
emacs/qpid-c++-mode.el:  qpid-c++-mode for Emacs. qpid-style indentation plus some useful commands for inserting copyrights etc. Feel free to improve it, there's lots of room. #MsgLength=177


----
Added: etc/emacs/qpid-c++-mode.el|226 0

Revision: 50e7a3e982a6a5f8d60c2e45975763b9639e3e50
Author: Alan Conway <aconway@apache.org>
Date: 25/04/2008 01:42:59
Message:
Edits to doxygen comments for user documentation. #MsgLength=51


----
Modified: src/qpid/client/AckMode.h|2 2
Modified: src/qpid/client/Channel.h|35 35
Modified: src/qpid/client/Connection.h|11 11
Modified: src/qpid/client/Exchange.h|4 4
Modified: src/qpid/client/Message.h|1 1
Modified: src/qpid/client/MessageQueue.h|1 1
Modified: src/qpid/client/Queue.h|13 13
Modified: src/qpid/client/SessionBase.cpp|2 0
Modified: src/qpid/client/SessionBase.h|8 11
Modified: src/qpid/framing/AccumulatedAck.h|3 3
Modified: src/qpid/framing/Blob.h|14 14
Modified: src/qpid/framing/BodyHolder.h|2 2
Modified: src/qpid/framing/FieldValue.h|1 1
Modified: src/qpid/framing/FrameDefaultVisitor.h|2 2
Modified: src/qpid/framing/FramingContent.h|1 1
Modified: src/qpid/framing/Invoker.h|2 2
Modified: src/qpid/framing/SessionState.h|7 7
Modified: src/qpid/framing/TemplateVisitor.h|1 1
Modified: src/qpid/framing/Uuid.h|8 8
Modified: src/qpid/framing/Visitor.h|8 7
Modified: src/qpid/framing/amqp_types.h|1 1
Modified: src/qpid/framing/amqp_types_full.h|3 3
Modified: src/qpid/framing/frame_functors.h|1 1
Modified: src/qpid/framing/variant.h|6 6

Revision: 4f3a52c45b4bae4797c2c19a735b57dbb4e46c81
Author: Nuno Santos <nsantos@apache.org>
Date: 25/04/2008 02:56:15
Message:
add include for list, for gcc4.3 #MsgLength=33


----
Modified: src/tests/SequenceSet.cpp|1 0

Revision: b7c5985c226985593ac66e059533a68fc6d20387
Author: Gordon Sim <gsim@apache.org>
Date: 25/04/2008 05:07:34
Message:
Generate c++ code from final 0-10 spec #MsgLength=41


----
Modified: configure.ac|3 5
Modified: rubygen/amqpgen.rb|47 32
Modified: rubygen/cppgen.rb|96 72
Added: rubygen/framing.0-10/MethodBodyConstVisitor.rb|27 0
Added: rubygen/framing.0-10/MethodBodyDefaultVisitor.rb|35 0
Added: rubygen/framing.0-10/MethodHolder.rb|100 0
Added: rubygen/framing.0-10/Operations.rb|96 0
Added: rubygen/framing.0-10/OperationsInvoker.rb|92 0
Added: rubygen/framing.0-10/Proxy.rb|84 0
Added: rubygen/framing.0-10/Session.rb|199 0
Added: rubygen/framing.0-10/all_method_bodies.rb|21 0
Added: rubygen/framing.0-10/constants.rb|99 0
Added: rubygen/framing.0-10/frame_body_lists.rb|31 0
Added: rubygen/framing.0-10/structs.rb|583 0
Modified: rubygen/generate|8 2
Modified: src/Makefile.am|4 26
Modified: src/qpid/Exception.h|9 15
Modified: src/qpid/broker/Bridge.cpp|11 11
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/broker/Broker.h|0 3
Deleted: src/qpid/broker/BrokerAdapter.cpp|0 353
Deleted: src/qpid/broker/BrokerAdapter.h|0 208
Modified: src/qpid/broker/Connection.cpp|1 3
Modified: src/qpid/broker/ConnectionFactory.cpp|0 3
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/broker/ConnectionHandler.h|4 4
Deleted: src/qpid/broker/DtxHandlerImpl.cpp|0 171
Deleted: src/qpid/broker/DtxHandlerImpl.h|0 67
Modified: src/qpid/broker/Message.cpp|1 5
Modified: src/qpid/broker/Message.h|0 1
Modified: src/qpid/broker/MessageAdapter.cpp|0 24
Modified: src/qpid/broker/MessageAdapter.h|0 8
Modified: src/qpid/broker/MessageDelivery.cpp|4 67
Modified: src/qpid/broker/MessageDelivery.h|2 5
Deleted: src/qpid/broker/MessageHandlerImpl.cpp|0 208
Deleted: src/qpid/broker/MessageHandlerImpl.h|0 110
Deleted: src/qpid/broker/PreviewConnection.cpp|0 325
Deleted: src/qpid/broker/PreviewConnection.h|0 113
Deleted: src/qpid/broker/PreviewConnectionCodec.cpp|0 91
Deleted: src/qpid/broker/PreviewConnectionCodec.h|0 55
Deleted: src/qpid/broker/PreviewConnectionHandler.cpp|0 315
Deleted: src/qpid/broker/PreviewConnectionHandler.h|0 107
Deleted: src/qpid/broker/PreviewSessionHandler.cpp|0 210
Deleted: src/qpid/broker/PreviewSessionHandler.h|0 111
Deleted: src/qpid/broker/PreviewSessionManager.cpp|0 113
Deleted: src/qpid/broker/PreviewSessionManager.h|0 101
Deleted: src/qpid/broker/PreviewSessionState.cpp|0 174
Deleted: src/qpid/broker/PreviewSessionState.h|0 125
Modified: src/qpid/broker/Queue.cpp|2 3
Modified: src/qpid/broker/QueueBindings.cpp|3 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|5 4
Deleted: src/qpid/broker/SemanticHandler.cpp|0 195
Deleted: src/qpid/broker/SemanticHandler.h|0 102
Modified: src/qpid/broker/SemanticState.cpp|4 9
Modified: src/qpid/broker/SessionAdapter.cpp|34 23
Modified: src/qpid/broker/SessionAdapter.h|25 38
Modified: src/qpid/broker/SessionHandler.cpp|45 42
Modified: src/qpid/broker/SessionHandler.h|4 8
Modified: src/qpid/broker/SessionState.cpp|11 7
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/qpid/client/Channel.cpp|3 2
Modified: src/qpid/client/ConnectionHandler.cpp|1 0
Modified: src/qpid/client/ConnectionHandler.h|3 3
Modified: src/qpid/client/ConnectionImpl.cpp|6 5
Modified: src/qpid/client/Session.h|2 2
Modified: src/qpid/client/SessionImpl.cpp|18 8
Modified: src/qpid/client/SessionImpl.h|14 11
Modified: src/qpid/cluster/Cluster.cpp|6 6
Modified: src/qpid/cluster/Cluster.h|2 2
Modified: src/qpid/framing/AMQFrame.cpp|4 4
Modified: src/qpid/framing/AMQHeaderBody.h|1 6
Modified: src/qpid/framing/Array.cpp|3 3
Modified: src/qpid/framing/BodyHandler.cpp|1 1
Modified: src/qpid/framing/BodyHolder.cpp|1 1
Modified: src/qpid/framing/Buffer.cpp|0 1
Modified: src/qpid/framing/FieldTable.cpp|1 1
Modified: src/qpid/framing/FieldValue.cpp|1 1
Deleted: src/qpid/framing/FramingContent.cpp|0 73
Deleted: src/qpid/framing/FramingContent.h|0 63
Modified: src/qpid/framing/ModelMethod.h|4 4
Modified: src/qpid/framing/SequenceNumber.cpp|16 0
Modified: src/qpid/framing/SequenceNumber.h|6 0
Modified: src/qpid/framing/SequenceSet.cpp|1 1
Modified: src/qpid/framing/Uuid.cpp|1 1
Modified: src/qpid/framing/amqp_types_full.h|0 2
Modified: src/tests/ExchangeTest.cpp|2 1
Modified: src/tests/exception_test.cpp|1 1
Modified: src/tests/interop_runner.cpp|1 1
Modified: src/tests/python_tests|0 1

Revision: c25f3e7a481c9c54ee3d65f133c46ced1d634124
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 25/04/2008 05:07:47
Message:
QPID-958 by Danushka Menikkumbura #MsgLength=35


----
Added: INSTALL|307 0
Modified: README|22 284

Revision: 694e2361f8fd86d74cbcb62501844bff809615cd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/04/2008 09:05:07
Message:
Fix building examples when using a VPATH build #MsgLength=48


----
Modified: examples/Makefile.am|1 1

Revision: 33068f994c7b8a8dd669cc62aa8216723febf6f5
Author: Gordon Sim <gsim@apache.org>
Date: 25/04/2008 16:21:42
Message:
Fixed caught exception type in recovery #MsgLength=42


----
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 1

Revision: edf7c6f25e828d149f02c90f7e7c53d97a696585
Author: Alan Conway <aconway@apache.org>
Date: 28/04/2008 02:32:26
Message:
Session state as per AMQP 0-10 specification. #MsgLength=47


----
Modified: src/Makefile.am|2 0
Added: src/qpid/SessionState.cpp|165 0
Added: src/qpid/SessionState.h|188 0
Modified: src/qpid/framing/SequenceSet.h|2 0
Modified: src/tests/SessionState.cpp|229 25

Revision: 563c91921c6ab7f9a54b4ef4ca5c495c978a3cbe
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 28/04/2008 09:19:51
Message:
QPID-918 patch from Senaka #MsgLength=27


----
Modified: rubygen/99-0/structs.rb|9 1
Modified: rubygen/framing.0-10/structs.rb|9 1

Revision: 621d1ec23c4672f41cfca28bc8cc8e0aabcdb156
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 28/04/2008 09:45:53
Message:
QPID-971 - Senaka Fernando, I also edited the README in a few places. #MsgLength=70


----
Modified: examples/Makefile.am|1 0
Added: examples/examples/README|127 0

Revision: 82e7ec7f23fe4f3e1cc9a13f54aeb94eaab219dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/04/2008 12:41:46
Message:
Work In Progress: Added initial rdma code including test server and client Turn off rdma support by default but autoconf should now detect whether necessary rdma/ibverbs libs and headers are present #MsgLength=206


----
Modified: configure.ac|29 1
Modified: src/Makefile.am|33 0
Added: src/qpid/sys/rdma/RdmaClient.cpp|178 0
Added: src/qpid/sys/rdma/RdmaIO.cpp|351 0
Added: src/qpid/sys/rdma/RdmaIO.h|128 0
Added: src/qpid/sys/rdma/RdmaServer.cpp|142 0
Added: src/qpid/sys/rdma/rdma_exception.h|45 0
Added: src/qpid/sys/rdma/rdma_factories.cpp|39 0
Added: src/qpid/sys/rdma/rdma_factories.h|48 0
Added: src/qpid/sys/rdma/rdma_wrap.h|550 0

Revision: e359bd8628372d869c8180ecd9f3e2507532b10f
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2008 04:01:33
Message:
QPID-977: shutdown mgmt client cleanly in federation tests (patch from tross@redhat.com) QPID-981: added custom options to queue declare to tag each message as it goes through a bridge queue and allow loop prevention through specifying exclusions #MsgLength=258


----
Modified: src/qpid/broker/Bridge.cpp|10 1
Modified: src/qpid/broker/Message.cpp|46 0
Modified: src/qpid/broker/Message.h|6 0
Modified: src/qpid/broker/Queue.cpp|26 1
Modified: src/qpid/broker/Queue.h|5 1
Modified: src/tests/federation.py|85 5

Revision: b9669e315253c597fa570aaf78c53c978100da28
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2008 04:15:18
Message:
QPID-974: allow the size of the queue of outgoing frames to be restricted QPID-544: tidy up configuration (ensuring desired settings are used correctly, allowing tcp socket options to be set etc) #MsgLength=208


----
Modified: src/Makefile.am|17 13
Added: src/qpid/client/Bounds.cpp|55 0
Added: src/qpid/client/Bounds.h|48 0
Modified: src/qpid/client/Connection.cpp|41 26
Modified: src/qpid/client/Connection.h|11 14
Modified: src/qpid/client/ConnectionHandler.cpp|11 16
Modified: src/qpid/client/ConnectionHandler.h|12 23
Modified: src/qpid/client/ConnectionImpl.cpp|29 22
Modified: src/qpid/client/ConnectionImpl.h|16 15
Added: src/qpid/client/ConnectionSettings.cpp|81 0
Added: src/qpid/client/ConnectionSettings.h|76 0
Modified: src/qpid/client/Connector.cpp|32 24
Modified: src/qpid/client/Connector.h|11 6
Modified: src/qpid/client/SessionImpl.cpp|29 17
Modified: src/qpid/client/SessionImpl.h|4 1
Modified: src/qpid/framing/AMQP_HighestVersion.h|0 1
Modified: src/qpid/framing/ProtocolVersion.h|1 1
Modified: src/qpid/sys/Socket.h|9 1
Modified: src/qpid/sys/posix/Socket.cpp|19 14
Modified: src/tests/BasicP2PTest.cpp|2 2
Modified: src/tests/BasicP2PTest.h|1 1
Modified: src/tests/BasicPubSubTest.cpp|3 3
Modified: src/tests/BasicPubSubTest.h|1 1
Modified: src/tests/SimpleTestCaseBase.cpp|3 3
Modified: src/tests/SimpleTestCaseBase.h|4 3
Modified: src/tests/TestCase.h|2 2
Modified: src/tests/TestOptions.h|6 24
Modified: src/tests/client_test.cpp|16 15
Modified: src/tests/interop_runner.cpp|30 19
Modified: src/tests/latencytest.cpp|2 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1

Revision: 5f49394759a6cb2861d8ba33d50a0929c603dbb3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/04/2008 05:05:40
Message:
Removed some unnecessary #includes #MsgLength=36


----
Modified: src/qpid/sys/AsynchIO.h|1 0
Modified: src/qpid/sys/Poller.h|0 3

Revision: 254b22ef7fd0e6815b1d8a3670129dd28a2a9b93
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/04/2008 06:46:23
Message:
More RDMA Work in Progress Changes to client buffering Buffering improvement to server Removed unused state machine from RdmaIO code Move the write throttling due to limited write buffers into the RdmaIO code #MsgLength=226


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|21 16
Modified: src/qpid/sys/rdma/RdmaIO.cpp|23 103
Modified: src/qpid/sys/rdma/RdmaIO.h|7 15
Modified: src/qpid/sys/rdma/RdmaServer.cpp|15 13

Revision: b0d33bdcf7afc4d3ee08e077c162b111c7733b94
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2008 22:16:38
Message:
QPID-988 and QPID-989: fixes to framing for final 0-10 spec #MsgLength=61


----
Modified: src/qpid/framing/AMQFrame.cpp|6 12
Modified: src/qpid/framing/FieldTable.cpp|5 3

Revision: df6b0cd78c1f36a10d2bd818c5c64de8b40b9e3e
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2008 16:01:48
Message:
Cleanup: Re-enable tests that now pass; delete unused templates directory. #MsgLength=77


----
Deleted: rubygen/99-0/MethodBodyConstVisitor.rb|0 27
Deleted: rubygen/99-0/MethodBodyDefaultVisitor.rb|0 35
Deleted: rubygen/99-0/MethodHolder.rb|0 100
Deleted: rubygen/99-0/Operations.rb|0 96
Deleted: rubygen/99-0/OperationsInvoker.rb|0 92
Deleted: rubygen/99-0/Proxy.rb|0 84
Deleted: rubygen/99-0/Session.rb|0 196
Deleted: rubygen/99-0/all_method_bodies.rb|0 21
Deleted: rubygen/99-0/constants.rb|0 82
Deleted: rubygen/99-0/frame_body_lists.rb|0 31
Deleted: rubygen/99-0/structs.rb|0 598
Modified: src/tests/ClientSessionTest.cpp|20 25

Revision: 08d53bdd9b56c8957e260477bdcb67bb8b159a6f
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2008 18:15:35
Message:
QPID-966: applied patch from rajith; altered to use uuid as session name; updated verify scripts for automated testing; re-enabled automated testing in c++ build #MsgLength=164


----
Modified: examples/Makefile.am|2 2
Modified: examples/examples/fanout/verify_cpp_python|1 1
Modified: examples/examples/fanout/verify_cpp_python.in|2 2
Modified: examples/examples/pub-sub/verify_cpp_python|1 1
Modified: examples/examples/pub-sub/verify_cpp_python.in|1 1
Modified: examples/examples/request-response/verify_cpp_python|1 1
Modified: examples/examples/request-response/verify_cpp_python.in|1 1
Modified: examples/examples/request-response/verify_python_cpp|1 1
Modified: examples/examples/request-response/verify_python_cpp.in|2 2
Modified: examples/verify_all|1 1

Revision: a8762766c8eae6dcdc3970137d5ac504de975080
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2008 23:28:12
Message:
QPID-989: fix decode of zero sized map #MsgLength=41


----
Modified: src/qpid/framing/AMQFrame.cpp|1 1
Modified: src/qpid/framing/FieldTable.cpp|15 13

Revision: 9c88087c545329619883ebbe63303cd7129ea83d
Author: Gordon Sim <gsim@apache.org>
Date: 02/05/2008 01:43:59
Message:
Turn auth back on by default for c++ broker (only if SASL libs are available) #MsgLength=80


----
Modified: examples/verify_all|1 1
Modified: src/qpid/broker/Broker.cpp|1 5

Revision: 0ec896a0b5998ce288b04501a3e8d265a7b73978
Author: Gordon Sim <gsim@apache.org>
Date: 02/05/2008 06:20:24
Message:
Boost's string split function causes problems on older versions of the library. Replaced with homegrown equivalent. #MsgLength=118


----
Modified: src/Makefile.am|2 0
Added: src/qpid/StringUtils.cpp|50 0
Added: src/qpid/StringUtils.h|43 0
Modified: src/qpid/broker/Message.cpp|2 4
Modified: src/qpid/broker/Queue.cpp|3 4
Modified: src/tests/Makefile.am|1 0
Added: src/tests/StringUtils.cpp|77 0

Revision: 2fd279a35c89648ccf0b6e9e41265fc34c40aa6d
Author: Gordon Sim <gsim@apache.org>
Date: 02/05/2008 14:47:23
Message:
QPID-986: Patch from Danushka Menikkumbura. #MsgLength=46


----
Modified: src/Makefile.am|4 2

Revision: 8b0dda45b86b23553ce5117faaf69a5d7f38a662
Author: Gordon Sim <gsim@apache.org>
Date: 02/05/2008 15:00:13
Message:
QPID-980: Patch from Danushka Menikkumbura revising installation notes. #MsgLength=74


----
Modified: INSTALL|26 21

Revision: 08b7d8cda7a65f929eac5b6eb5090222407541b5
Author: Gordon Sim <gsim@apache.org>
Date: 03/05/2008 00:18:02
Message:
Use BOOST_CHECK_EQUAL in place of BOOST_REQUIRE_EQUAL (compatible with older boost) #MsgLength=85


----
Modified: src/tests/ClientSessionTest.cpp|1 1

Revision: cd39e3ac7db2e121733251d6925adbb482d80b61
Author: Gordon Sim <gsim@apache.org>
Date: 03/05/2008 01:14:46
Message:
Use no-ack in bridging as it is currently an exclusive, temp queue (will eventually be configurable) #MsgLength=102


----
Modified: src/qpid/broker/Bridge.cpp|2 2

Revision: 2bd5344c89ee27f92beb24a1fdaea286600fa11d
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2008 00:39:22
Message:
Fix error handling for connection close during startup. #MsgLength=58


----
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|2 1

Revision: 1b03298dc0c91b6cfd30e76bec2f621d3b96cc2a
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2008 00:39:52
Message:
Extra log ouput for queue policy. #MsgLength=36


----
Modified: src/qpid/broker/Queue.cpp|11 1
Modified: src/qpid/broker/Queue.h|2 1

Revision: 803e0aa7b27ace23a634a65c8b494fd0859c5a57
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2008 00:40:36
Message:
Use amq.direct for control queue in topic test. #MsgLength=50


----
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1

Revision: 60797686031bfb7c862cf9234108cf8e2153bbf9
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2008 00:41:26
Message:
Allow queue durbaility to be specified independent of message durability. #MsgLength=76


----
Modified: src/tests/perftest.cpp|5 3

Revision: dbe67d755e4bf219e9e0eda65c14d7bc48b8ee2b
Author: Alan Conway <aconway@apache.org>
Date: 07/05/2008 01:52:03
Message:
From https://issues.apache.org/jira/browse/QPID-879 contributed by Jonathan Robie. XML exchange allowing messages to be routed base on XQuery expressions. #MsgLength=156


----
Modified: configure.ac|33 1
Modified: examples/Makefile.am|5 4
Added: examples/examples/xml-exchange/Makefile|7 0
Added: examples/examples/xml-exchange/README|48 0
Added: examples/examples/xml-exchange/declare_queues.cpp|76 0
Added: examples/examples/xml-exchange/listener.cpp|90 0
Added: examples/examples/xml-exchange/xml_producer.cpp|88 0
Modified: qpidc.spec.in|3 0
Modified: src/Makefile.am|19 5
Modified: src/qpid/broker/Deliverable.h|4 0
Modified: src/qpid/broker/ExchangeRegistry.cpp|12 1
Modified: src/qpid/broker/TxPublish.h|2 0
Added: src/qpid/broker/XmlExchange.cpp|249 0
Added: src/qpid/broker/XmlExchange.h|87 0
Modified: src/qpid/client/Exchange.h|7 0
Modified: src/qpid/framing/FieldTable.h|5 0
Modified: src/tests/.valgrind.supp|8 0
Modified: src/tests/Makefile.am|7 1
Modified: src/tests/QueueTest.cpp|2 0
Added: src/tests/XmlClientSessionTest.cpp|157 0

Revision: 8c23cb9d634e2cc264347a96c7b8d238227bb7ef
Author: Alan Conway <aconway@apache.org>
Date: 07/05/2008 04:36:55
Message:
Fix for defining HAS_XML #MsgLength=26


----
Modified: configure.ac|2 1

Revision: 6d01da78e1c72c89d51c0f2a3b856396a24da4d6
Author: Nuno Santos <nsantos@apache.org>
Date: 08/05/2008 23:55:57
Message:
QPID-1035: managementgen only exists in qpid C++ source - applying patched supplied by Matt Farrellee #MsgLength=102


----
Modified: Makefile.am|1 1
Modified: configure.ac|1 0
Modified: managementgen/generate.py|0 2
Modified: managementgen/schema.py|0 2
Modified: qpidc.spec.in|13 1

Revision: 1e26772af01239ff8f4f304ff22b3755a9fa794f
Author: Nuno Santos <nsantos@apache.org>
Date: 09/05/2008 00:00:00
Message:
QPID-1026: managementgen C++ symbol validation - applied patch supplied by Matt Farrellee #MsgLength=90


----
Modified: managementgen/generate.py|2 2
Modified: managementgen/schema.py|58 8

Revision: ddd3fe55d024912cd7e33848ab73f41906482e5e
Author: Nuno Santos <nsantos@apache.org>
Date: 09/05/2008 00:27:42
Message:
QPID-1035: managementgen only exists in qpid C++ source - applying patched supplied by Matt Farrellee #MsgLength=102


----
Added: managementgen/Makefile.am|27 0

Revision: 7ab9c5096b2e8423e84946e2930a9bdc30b191a9
Author: Nuno Santos <nsantos@apache.org>
Date: 09/05/2008 01:22:11
Message:
QPID-1035: managementgen only exists in qpid C++ source - applying patched supplied by Matt Farrellee #MsgLength=102


----
Added: managementgen/managementgen|26 0

Revision: e3790ccd7c491e8b008ec85dd71e3d80552c0df6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/05/2008 10:00:04
Message:
QPID-1040: Patch from Ted Ross: Asynchronous Connector Code to allow non-blocking connection of new sockets #MsgLength=109


----
Modified: src/qpid/sys/AsynchIO.h|28 1
Modified: src/qpid/sys/Dispatcher.cpp|2 2
Modified: src/qpid/sys/Socket.h|6 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|9 5
Modified: src/qpid/sys/posix/AsynchIO.cpp|51 0
Modified: src/qpid/sys/posix/Socket.cpp|13 1

Revision: 966f95bf784994bd6a37accc07ad0822c4faf7c3
Author: Gordon Sim <gsim@apache.org>
Date: 09/05/2008 15:37:41
Message:
Make ANONYMOUS the default authentication mechanism. #MsgLength=56


----
Modified: src/qpid/client/ConnectionSettings.cpp|2 1
Modified: src/qpid/client/ConnectionSettings.h|0 1

Revision: 60478a7aadef55bd2687ccf14f46adb5953ce824
Author: Gordon Sim <gsim@apache.org>
Date: 09/05/2008 17:29:03
Message:
QPID-1042: ensure delievery record is kept where accept_mode=not-required, acquire_mode=not-acquired and flow_mode=credit #MsgLength=125


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 898ac85dfde9a698c9b038b58ef5ead2a8b14c66
Author: Gordon Sim <gsim@apache.org>
Date: 09/05/2008 19:18:21
Message:
Reverted change to use ANONYMOUS as default (I had a change of heart on that) #MsgLength=80


----
Modified: src/qpid/client/ConnectionSettings.cpp|1 1

Revision: 058ed1b01a9d70bb52114b48b74accc5f5da4379
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2008 00:02:15
Message:
Fix to managementgen so that VPATH builds work #MsgLength=48


----
Modified: managementgen/Makefile.am|1 1

Revision: 165b0656f30a0b8bd0945d730c29d705343fffa6
Author: Gordon Sim <gsim@apache.org>
Date: 10/05/2008 02:09:43
Message:
QPID-648: Patch from Matt Farrellee - support for realms - updates to packaging to create a default db and the necessary conf files for plain and anon #MsgLength=153


----
Modified: Makefile.am|1 4
Modified: configure.ac|6 2
Added: etc/Makefile.am|34 0
Added: etc/sasl2/qpidd.conf|24 0
Modified: qpidc.spec.in|9 1
Modified: src/qpid/broker/Broker.cpp|3 0
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|20 2

Revision: f9055c02f2234a300af5252b2a924acc73088cb5
Author: Alan Conway <aconway@apache.org>
Date: 10/05/2008 02:46:17
Message:
Support for 0-10 sessions, not yet integrated. Misc minor fixes. #MsgLength=65


----
Modified: rubygen/framing.0-10/Operations.rb|10 3
Modified: rubygen/framing.0-10/OperationsInvoker.rb|7 1
Modified: rubygen/framing.0-10/Proxy.rb|8 3
Modified: rubygen/framing.0-10/constants.rb|13 3
Modified: src/Makefile.am|7 2
Modified: src/qpid/Exception.cpp|3 1
Modified: src/qpid/Exception.h|3 3
Added: src/qpid/ExceptionHolder.h|73 0
Added: src/qpid/SessionId.cpp|47 0
Added: src/qpid/SessionId.h|49 0
Modified: src/qpid/SessionState.cpp|77 54
Modified: src/qpid/SessionState.h|92 71
Added: src/qpid/amqp_0_10/SessionHandler.cpp|275 0
Added: src/qpid/amqp_0_10/SessionHandler.h|116 0
Modified: src/qpid/framing/Handler.h|3 3
Modified: src/qpid/framing/Proxy.cpp|7 2
Modified: src/qpid/framing/Proxy.h|6 4
Modified: src/qpid/framing/SequenceSet.cpp|1 1
Modified: src/qpid/framing/SequenceSet.h|10 5
Modified: src/qpid/framing/SessionState.h|1 1
Modified: src/tests/.valgrindrc|1 0
Modified: src/tests/SessionState.cpp|74 162
Modified: src/tests/SocketProxy.h|24 9

Revision: 88bc7751bc1c7d02ad571bdc764886fea1cb0a96
Author: Nuno Santos <nsantos@apache.org>
Date: 10/05/2008 04:10:07
Message:
QPID-1047: Qpidc.spec.in is missing dependencies and has misplaced files -- applied patch from Matt Farrellee #MsgLength=110


----
Modified: configure.ac|1 0
Modified: qpidc.spec.in|13 2

Revision: 371c1a8a8e9845b9f2e03c6b33ecab8714f91c54
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2008 02:33:41
Message:
QPID-1048: Only wait for enqueue completion for persistent queues. #MsgLength=69


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: 791778fd37a9d19e699fe768871ab65099b1b7a3
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2008 17:54:34
Message:
Script to test federated setup using the topic test. #MsgLength=55


----
Added: src/tests/federated_topic_test|94 0

Revision: 6f692f085b4dab7da6bd2e7d51ba42124f7369cb
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2008 21:16:59
Message:
Couple of extra simple tests for publishing and consuming in generic fashion. #MsgLength=80


----
Modified: src/tests/Makefile.am|9 1
Added: src/tests/consume.cpp|108 0
Added: src/tests/publish.cpp|110 0

Revision: 61582a18abedb3b02d4c902d684f2129d23a14fb
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2008 21:23:00
Message:
Extra ignores #MsgLength=16


----

Revision: 873ab72a4df371f9899e23f817a2452f10066706
Author: Gordon Sim <gsim@apache.org>
Date: 13/05/2008 01:04:07
Message:
QPID-1050: Patch from Ted Ross: #MsgLength=786


----
Modified: managementgen/templates/Class.h|1 0
Modified: src/Makefile.am|9 1
Modified: src/qpid/amqp_0_10/Connection.cpp|11 6
Modified: src/qpid/amqp_0_10/Connection.h|3 2
Modified: src/qpid/broker/Bridge.cpp|23 20
Modified: src/qpid/broker/Bridge.h|11 8
Modified: src/qpid/broker/Broker.cpp|28 14
Modified: src/qpid/broker/Broker.h|12 7
Modified: src/qpid/broker/Connection.cpp|19 111
Modified: src/qpid/broker/Connection.h|3 1
Modified: src/qpid/broker/ConnectionFactory.cpp|2 2
Modified: src/qpid/broker/ConnectionFactory.h|2 1
Modified: src/qpid/broker/ConnectionHandler.cpp|5 6
Modified: src/qpid/broker/Exchange.cpp|14 3
Modified: src/qpid/broker/Exchange.h|1 1
Added: src/qpid/broker/Link.cpp|281 0
Added: src/qpid/broker/Link.h|115 0
Added: src/qpid/broker/LinkRegistry.cpp|102 0
Added: src/qpid/broker/LinkRegistry.h|87 0
Modified: src/qpid/broker/MessageStore.h|11 0
Modified: src/qpid/broker/MessageStoreModule.cpp|10 0
Modified: src/qpid/broker/MessageStoreModule.h|2 0
Modified: src/qpid/broker/NullMessageStore.cpp|14 1
Modified: src/qpid/broker/NullMessageStore.h|3 0
Added: src/qpid/broker/PersistableConfig.h|45 0
Modified: src/qpid/broker/Queue.cpp|1 1
Added: src/qpid/broker/RecoverableConfig.h|45 0
Modified: src/qpid/broker/RecoveryManager.h|3 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|32 2
Modified: src/qpid/broker/RecoveryManagerImpl.h|5 1
Modified: src/qpid/broker/System.h|0 3
Modified: src/qpid/management/Manageable.cpp|11 5
Modified: src/qpid/management/Manageable.h|7 6
Modified: src/qpid/management/ManagementAgent.cpp|0 695
Modified: src/qpid/management/ManagementAgent.h|8 148
Added: src/qpid/management/ManagementBroker.cpp|746 0
Added: src/qpid/management/ManagementBroker.h|203 0
Modified: src/qpid/management/ManagementExchange.cpp|1 1
Modified: src/qpid/management/ManagementExchange.h|3 3
Modified: src/qpid/management/ManagementObject.h|0 1
Modified: src/qpid/sys/AsynchIOHandler.cpp|4 3
Modified: src/qpid/sys/AsynchIOHandler.h|3 2
Modified: src/qpid/sys/ConnectionCodec.h|2 3
Added: src/qpid/sys/ProtocolAccess.h|65 0
Modified: src/qpid/sys/ProtocolFactory.h|3 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|38 16
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 1
Modified: src/tests/federation.py|17 23

Revision: 37af19e18f6567a4507a27ee02d5fed378ec6bb9
Author: Gordon Sim <gsim@apache.org>
Date: 13/05/2008 01:23:21
Message:
QPID-1044: Part of patch from Jonathan Robie + changes to verify scripts to keep automated testing working. #MsgLength=110


----
Modified: examples/examples/Makefile|1 1
Modified: examples/examples/direct/listener.cpp|1 1
Modified: examples/examples/fanout/listener.cpp|11 7
Modified: examples/examples/fanout/verify_cpp_python.in|22 26
Modified: examples/examples/pub-sub/topic_listener.cpp|1 1
Modified: examples/examples/pub-sub/verify_cpp_python.in|8 4
Modified: examples/examples/pub-sub/verify_python_cpp.in|40 40
Modified: examples/examples/request-response/client.cpp|1 1
Modified: examples/examples/request-response/verify_python_cpp.in|5 5

Revision: 80726d6f5e7389914cfc602154d78a24f1c6ab7b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2008 02:45:12
Message:
QPID-1039: Patch from Mick Goulish: Fix program options behavior for Boost 103200 #MsgLength=83


----
Modified: src/qpid/Options.cpp|178 1
Modified: src/qpid/Options.h|111 4
Modified: src/tests/.valgrind.supp|154 0
Modified: src/tests/amqp_0_10/serialize.cpp|2 1

Revision: 657d7fc94c49bac8a8b090b417a792c48c114ffb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2008 02:45:17
Message:
Fix to allow VPATH builds to work after checkin for QPID-648 #MsgLength=62


----
Modified: etc/Makefile.am|1 1

Revision: ab1233e91b906cd5f31b5ecdd001bbefd443738b
Author: Gordon Sim <gsim@apache.org>
Date: 13/05/2008 03:45:22
Message:
QPID-1052: Patch from Ted Ross #MsgLength=320


----
Modified: src/qpid/broker/SessionHandler.cpp|2 2
Modified: src/qpid/broker/SessionManager.cpp|2 2
Modified: src/qpid/broker/SessionManager.h|1 1
Modified: src/qpid/broker/SessionState.cpp|3 3
Modified: src/qpid/broker/SessionState.h|3 1
Modified: src/tests/federation.py|9 0

Revision: af527c31c1937e3d70ab7ee46871e396ae36fbda
Author: Gordon Sim <gsim@apache.org>
Date: 13/05/2008 17:44:43
Message:
Fix macro used in test for backwards compatability. #MsgLength=54


----
Modified: src/tests/XmlClientSessionTest.cpp|1 1

Revision: 4a4034201a740d6606ff37c7a7947e16db876478
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 00:12:57
Message:
Added enum CreditUnit { MESSAGE=0, BYTE=1 }; #MsgLength=46


----
Modified: src/qpid/client/SessionBase.h|2 0

Revision: 8ec729758f892c15308e0d37644301e64a012039
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2008 00:44:59
Message:
QPID-1054: Fixed reporting of startup failures in daemon mode. #MsgLength=65


----
Modified: src/qpid/broker/Daemon.cpp|11 9

Revision: 915eeda1068dd8b2562e699cd5c861156564a11a
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 01:59:55
Message:
Removed confusing broker::Message typedef intrusive_ptr<Message> shared_ptr #MsgLength=77


----
Modified: src/qpid/broker/Message.h|0 2
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 2

Revision: fa78ebd4de8440fc1dc6725c219cb8dede5547b5
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2008 02:02:01
Message:
Fail with exception if queue is not durable and configured policy is exceeded. #MsgLength=81


----
Modified: src/qpid/broker/Queue.cpp|2 1

Revision: 296cb973cb61ec5e626261dc738af35d93a1a043
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 02:39:11
Message:
Fix typo in examples. #MsgLength=23


----
Modified: examples/examples/request-response/verify_python_cpp.in|3 3

Revision: 0c4fd77f532849ce2db8509676c7fb026dad6976
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 02:40:03
Message:
Ignore sasldb #MsgLength=15


----

Revision: d4dd7ddc52a040ae7f6f972557ac4106062ad56d
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2008 02:46:00
Message:
Minor change to tests to use correlation id rather than body for identifying messages. #MsgLength=89


----
Modified: src/tests/consume.cpp|1 1
Modified: src/tests/publish.cpp|8 2

Revision: 78293e0874c83d954a6ac60e9bbd2f7c4b044a5d
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 03:33:43
Message:
Added sync() to ensure all acks are receivd before exiting the Dispatcher loop. #MsgLength=81


----
Modified: src/qpid/client/Dispatcher.cpp|1 0

Revision: 90f17db03dbb3553a77e51944a856b18abdf6c70
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 04:38:21
Message:
From Jonathan Robie: #MsgLength=308


----
Modified: src/qpid/broker/XmlExchange.cpp|89 63
Modified: src/qpid/client/Dispatcher.cpp|5 3

Revision: 9fe1535dfbb0dc11ef41c76797b80b48817407c3
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2008 05:38:28
Message:
QPID-990: Patch from Ted Ross to enable persisting of inter-broker routing entities #MsgLength=86


----
Modified: src/qpid/broker/Bridge.cpp|91 10
Modified: src/qpid/broker/Bridge.h|17 1
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Link.cpp|95 40
Modified: src/qpid/broker/Link.h|26 15
Modified: src/qpid/broker/LinkRegistry.cpp|90 5
Modified: src/qpid/broker/LinkRegistry.h|33 6
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|10 7
Modified: src/qpid/broker/SessionHandler.cpp|3 0
Modified: src/tests/federation.py|3 2

Revision: c0b7b9b1942077cf36baf3cd2af71c4d7c89e9e0
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2008 23:39:02
Message:
Fix valgrind problems in VPATH builds. #MsgLength=40


----
Modified: src/tests/Makefile.am|10 3
Modified: src/tests/python_tests|6 8
Renamed: src/tests/valgrind.suppress [from src/tests/.valgrind.supp]|0 0
Renamed: src/tests/valgrindrc [from src/tests/.valgrindrc]|1 1

Revision: c646c53f4abf75dbaaf280fc7d99456eb0c3ecb9
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 00:24:08
Message:
Exclude XML example checks if XML support is not available. #MsgLength=61


----
Modified: examples/Makefile.am|4 12
Modified: examples/verify_all|17 6

Revision: e57a73a7c904b73f2e2da797b684600b9716cbef
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 00:26:40
Message:
svn:ignore properties. #MsgLength=24


----

Revision: 1c73df17e20e22b0212a412ea0a14141cf86efb1
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2008 00:38:43
Message:
Fix for large messages. #MsgLength=26


----
Modified: src/qpid/client/SessionImpl.cpp|1 1

Revision: ac11dc5ea90ca3990b37f404875a015fccb272af
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2008 01:09:28
Message:
Don't fail if python tests aren't found. #MsgLength=43


----
Modified: src/tests/python_tests|1 1

Revision: 425229b8139d5bb13673c40512512fb4882cbb56
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 03:10:30
Message:
Undo revision 656320, causing build problems. #MsgLength=47


----
Renamed: src/tests/.valgrind.supp [from src/tests/valgrind.suppress]|0 0
Renamed: src/tests/.valgrindrc [from src/tests/valgrindrc]|1 1
Modified: src/tests/Makefile.am|3 10
Modified: src/tests/python_tests|8 6

Revision: 9ce3b70005a7092872bedbd9e95091d54fefcc91
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 03:23:12
Message:
Exclude XML example if XML not enabled. #MsgLength=41


----
Modified: examples/Makefile.am|1 1

Revision: 70e82a237284ea1328dc273d1e3732c4094ec6f7
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/05/2008 03:28:49
Message:
Added requires for XML exchange #MsgLength=32


----
Modified: INSTALL|7 0

Revision: 6c065e24312ac61d3057efbdcccd53b3c657a899
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 04:49:00
Message:
Fix example check in rpmbuild. #MsgLength=32


----
Modified: examples/Makefile.am|1 1
Modified: examples/verify_all|6 7

Revision: 0ca87021132901f696c8c81db035714f60595d5b
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2008 05:51:28
Message:
Python tests running in rpmbuild. #MsgLength=35


----
Modified: Makefile.am|1 1
Modified: src/tests/python_tests|1 1

Revision: 2260ca654f33928579a857fada15ac0f51edc3c5
Author: Nuno Santos <nsantos@apache.org>
Date: 16/05/2008 02:07:42
Message:
change ordering of config records in management updates; patch supplied by Ted Ross #MsgLength=84


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/Vhost.cpp|1 1

Revision: 51eac86a14cf377db3c659fca37077b33837dbf6
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2008 05:34:10
Message:
- Enable python tets and examples in make rpmbuild. - Remove hard-coded amqp.xml paths from python examples. #MsgLength=110


----
Modified: examples/verify_all|2 4
Modified: src/tests/python_tests|4 4

Revision: f14da5fdaeb739d60019276329a98a9d3e23add3
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/05/2008 05:37:46
Message:
Patch from michael goulish: QPID-1063: "under Boost 103200, command line args with = didn't work" #MsgLength=98


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/Options.cpp|102 40
Modified: src/tests/.valgrindrc|0 1

Revision: a23006236cc783895342c650d1ede82925f78ab4
Author: Nuno Santos <nsantos@apache.org>
Date: 16/05/2008 09:33:21
Message:
QPID-1061: Management heartbeat message from broker -- applied patch supplied by Ted Ross #MsgLength=90


----
Modified: src/qpid/management/ManagementBroker.cpp|12 0

Revision: 54774935aeed869ca70764a92fd6ca7b733aebe2
Author: Nuno Santos <nsantos@apache.org>
Date: 16/05/2008 09:53:17
Message:
QPID-1065: Management messages may lost if client attach hits a small time window -- patch supplied by Ted Ross #MsgLength=112


----
Modified: src/qpid/management/ManagementBroker.cpp|29 16
Modified: src/qpid/management/ManagementBroker.h|1 0
Modified: src/qpid/management/ManagementExchange.cpp|8 0
Modified: src/qpid/management/ManagementExchange.h|4 0

Revision: 00ef232e2294d4387c91c128aad319a1987bf946
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/05/2008 10:01:50
Message:
QPID-1034 by Senaka Fernando #MsgLength=29


----
Added: examples/README|26 0

Revision: e7193774ad5749bb556bc8cf76445f33b925e684
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2008 21:48:06
Message:
Make rpmbuild python tests work under old versions of automake. #MsgLength=65


----
Modified: Makefile.am|1 3

Revision: c9abfbdc6d8daaa33f92a326e3984a79e448c3ed
Author: Alan Conway <aconway@apache.org>
Date: 17/05/2008 02:56:39
Message:
Added missing log/Logger.h to headers. #MsgLength=40


----
Modified: src/Makefile.am|1 1

Revision: 147aef8fdcd8db5bdd760d2944c1820f776873be
Author: Ted Ross <tross@apache.org>
Date: 19/05/2008 21:12:47
Message:
QPID-1071 #MsgLength=10


----
Modified: src/qpid/management/ManagementBroker.cpp|1 1

Revision: 8a45ec15bb2da4633553ee68742f6a1959a92f75
Author: Ted Ross <tross@apache.org>
Date: 20/05/2008 05:02:15
Message:
QPID-1073 #MsgLength=10


----
Modified: src/qpid/management/ManagementBroker.cpp|16 2
Modified: src/qpid/management/ManagementBroker.h|3 0

Revision: 67edd6d21f54c5b529bcda98be85f8c53fab0870
Author: Alan Conway <aconway@apache.org>
Date: 20/05/2008 21:44:34
Message:
Support for AMQP 0-10 sessions in C++ broker. #MsgLength=47


----
Modified: src/qpid/SessionState.cpp|86 78
Modified: src/qpid/SessionState.h|64 80
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|32 29
Modified: src/qpid/amqp_0_10/SessionHandler.h|5 6
Modified: src/qpid/broker/Bridge.cpp|1 0
Modified: src/qpid/broker/Broker.cpp|23 32
Modified: src/qpid/broker/Broker.h|2 1
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|12 5
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/SessionHandler.cpp|31 178
Modified: src/qpid/broker/SessionHandler.h|15 49
Modified: src/qpid/broker/SessionManager.cpp|34 44
Modified: src/qpid/broker/SessionManager.h|19 20
Modified: src/qpid/broker/SessionState.cpp|51 73
Modified: src/qpid/broker/SessionState.h|12 35
Modified: src/qpid/cluster/Cluster.cpp|3 3
Modified: src/qpid/framing/SequenceNumber.cpp|5 0
Modified: src/qpid/framing/SequenceNumber.h|3 0
Modified: src/tests/ClientSessionTest.cpp|2 2
Modified: src/tests/SessionState.cpp|71 75
Modified: src/tests/federation.py|4 4

Revision: 72a43244c6f495a051414da7043230770121bbe4
Author: Alan Conway <aconway@apache.org>
Date: 21/05/2008 03:48:11
Message:
Fix build error. #MsgLength=18


----
Modified: src/qpid/broker/SessionState.cpp|2 1

Revision: 126571dca7a8aa689a8dd9fc3f43d10697412515
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2008 03:15:44
Message:
Replaced AtomicCount with AtomicValue template. Uses gcc atomics for gcc on i686/x86_64, falls back to mutex otherwise. #MsgLength=122


----
Modified: src/Makefile.am|3 1
Deleted: src/qpid/sys/AtomicCount.h|0 53
Added: src/qpid/sys/AtomicValue.h|34 0
Added: src/qpid/sys/AtomicValue_gcc.h|68 0
Added: src/qpid/sys/AtomicValue_mutex.h|81 0
Added: src/tests/AtomicValue.cpp|49 0
Deleted: src/tests/EventChannelTest.cpp|0 187
Deleted: src/tests/EventChannelThreadsTest.cpp|0 247
Modified: src/tests/Makefile.am|2 5

Revision: afa0b59a993097b35fcdaae9fd52cad9e419e950
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2008 04:29:31
Message:
Added check to exclude old gcc compilers for atomic ops. #MsgLength=58


----
Modified: src/qpid/sys/AtomicValue.h|1 1
Modified: src/qpid/sys/AtomicValue_gcc.h|1 1

Revision: 6f91fac79d6343eaf0f2d7f7e97264347a90a380
Author: Ted Ross <tross@apache.org>
Date: 22/05/2008 05:40:49
Message:
QPID-1087 #MsgLength=10


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/amqp_0_10/Connection.cpp|6 11
Modified: src/qpid/amqp_0_10/Connection.h|2 3
Modified: src/qpid/broker/Broker.cpp|7 5
Modified: src/qpid/broker/Broker.h|5 4
Modified: src/qpid/broker/Connection.cpp|70 74
Modified: src/qpid/broker/Connection.h|14 22
Modified: src/qpid/broker/ConnectionFactory.cpp|2 2
Modified: src/qpid/broker/ConnectionFactory.h|1 2
Modified: src/qpid/broker/ConnectionHandler.cpp|9 3
Modified: src/qpid/broker/Link.cpp|35 17
Modified: src/qpid/broker/Link.h|14 7
Modified: src/qpid/broker/LinkRegistry.cpp|54 1
Modified: src/qpid/broker/LinkRegistry.h|7 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|3 4
Modified: src/qpid/sys/AsynchIOHandler.h|1 3
Modified: src/qpid/sys/ConnectionCodec.h|1 2
Deleted: src/qpid/sys/ProtocolAccess.h|0 65
Modified: src/qpid/sys/ProtocolFactory.h|2 2
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/TCPIOPlugin.cpp|16 29
Modified: src/qpid/sys/posix/Socket.cpp|7 0

Revision: 841d299a9666359408f02079976eb6f4aafe98d5
Author: Ted Ross <tross@apache.org>
Date: 22/05/2008 21:42:05
Message:
QPID-1088 #MsgLength=10


----
Modified: managementgen/schema.py|2 4
Modified: managementgen/templates/Class.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|7 0
Modified: src/qpid/management/ManagementObject.h|2 2

Revision: ac6788f85cb2298421fa1ca343d509f899a8ee79
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2008 23:02:11
Message:
Improved logging for session state. #MsgLength=37


----
Modified: src/qpid/SessionState.cpp|12 8
Modified: src/qpid/log/Statement.h|21 7

Revision: 1b17e41ef012211902e89461a4f135ae6c264bc0
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2008 23:51:15
Message:
Improved logging for session state - show incomplete commands on receive-completed. #MsgLength=85


----
Modified: src/qpid/SessionState.cpp|14 9
Modified: src/qpid/SessionState.h|15 14

Revision: 2a2cc62aadf7cbcc8f6811fb7455a482d6dee3f5
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2008 21:39:07
Message:
qpid::SessionState: Added error checking for invalid frame sequences. client: Fix client crash on error during connection shutdown. #MsgLength=133


----
Modified: rubygen/framing.0-10/constants.rb|1 0
Modified: src/qpid/SessionState.cpp|45 21
Modified: src/qpid/SessionState.h|3 1
Modified: src/qpid/broker/SessionState.cpp|2 4
Modified: src/qpid/client/Connection.cpp|2 1
Modified: src/qpid/client/ConnectionImpl.cpp|7 6
Modified: src/qpid/client/ConnectionImpl.h|5 3
Modified: src/qpid/client/Connector.cpp|10 3
Modified: src/qpid/client/Connector.h|5 1
Modified: src/tests/ClientSessionTest.cpp|1 1
Modified: src/tests/SessionState.cpp|6 5

Revision: ff4350e2bc918fffb561aff9e8efafcd3d221c68
Author: Alan Conway <aconway@apache.org>
Date: 24/05/2008 05:23:07
Message:
Delete obsolete Channel class. #MsgLength=32


----
Modified: src/Makefile.am|0 2
Deleted: src/qpid/client/Channel.cpp|0 289
Deleted: src/qpid/client/Channel.h|0 316
Modified: src/qpid/client/Connection.cpp|0 8
Modified: src/qpid/client/Connection.h|0 13
Deleted: src/tests/ClientChannelTest.cpp|0 220
Modified: src/tests/Makefile.am|18 17
Deleted: src/tests/echo_service.cpp|0 229

Revision: 2a2238e2c25ef3053e6016e1f614a417837d36be
Author: Alan Conway <aconway@apache.org>
Date: 26/05/2008 20:11:10
Message:
Fix compile error in examples. #MsgLength=32


----
Modified: examples/examples/direct/declare_queues.cpp|1 1
Modified: examples/examples/xml-exchange/declare_queues.cpp|1 1
Modified: src/qpid/client/Session.h|1 1

Revision: c1b6a60036f1875adb4fac3f54b8ebb5b00729e9
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 02:10:05
Message:
Changes to Session API: - Session is synchronous, no futures. - AsyncSession is async, returns futures. - Conversion functions sync(s) async(s) return a sync/async view of session s. - Connection::newSession - takes name, no timeout - SessionBase::getId - returns SessionId not UUID. #MsgLength=291


----
Modified: examples/examples/direct/declare_queues.cpp|1 1
Modified: examples/examples/direct/direct_producer.cpp|4 2
Modified: examples/examples/direct/listener.cpp|1 1
Modified: examples/examples/fanout/fanout_producer.cpp|4 2
Modified: examples/examples/fanout/listener.cpp|1 4
Modified: examples/examples/pub-sub/topic_listener.cpp|2 5
Modified: examples/examples/pub-sub/topic_publisher.cpp|4 2
Modified: examples/examples/request-response/client.cpp|4 2
Modified: examples/examples/request-response/server.cpp|5 2
Modified: examples/examples/xml-exchange/declare_queues.cpp|1 1
Modified: examples/examples/xml-exchange/listener.cpp|1 1
Modified: examples/examples/xml-exchange/xml_producer.cpp|4 2
Modified: rubygen/framing.0-10/Session.rb|109 63
Modified: src/Makefile.am|5 2
Modified: src/qpid/SessionId.h|11 1
Modified: src/qpid/client/AckPolicy.h|3 2
Added: src/qpid/client/AsyncSession.h|38 0
Modified: src/qpid/client/Connection.cpp|9 10
Modified: src/qpid/client/Connection.h|4 8
Modified: src/qpid/client/Dispatcher.cpp|4 3
Modified: src/qpid/client/Dispatcher.h|4 4
Modified: src/qpid/client/Session.h|1 0
Renamed: src/qpid/client/SessionBase_0_10.cpp [from src/qpid/client/SessionBase.cpp]|11 31
Renamed: src/qpid/client/SessionBase_0_10.h [from src/qpid/client/SessionBase.h]|33 77
Added: src/qpid/client/SessionBase_0_10Access.h|42 0
Modified: src/qpid/client/SessionImpl.cpp|11 31
Modified: src/qpid/client/SessionImpl.h|6 9
Modified: src/qpid/client/SubscriptionManager.cpp|11 11
Modified: src/qpid/client/SubscriptionManager.h|5 5
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/ClientSessionTest.cpp|43 41
Modified: src/tests/XmlClientSessionTest.cpp|1 1
Modified: src/tests/client_test.cpp|1 1
Modified: src/tests/consume.cpp|1 1
Modified: src/tests/exception_test.cpp|0 1
Modified: src/tests/latencytest.cpp|5 5
Modified: src/tests/perftest.cpp|4 4
Modified: src/tests/publish.cpp|3 3
Modified: src/tests/topic_listener.cpp|6 5
Modified: src/tests/topic_publisher.cpp|5 5
Modified: src/tests/topictest|1 1
Modified: src/tests/txtest.cpp|3 3

Revision: 0a348a2db1251d6c9f2631c0aef58cd027262dfa
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 02:29:24
Message:
Corrected examples for new session API. #MsgLength=41


----
Modified: examples/examples/direct/direct_producer.cpp|1 0
Modified: examples/examples/fanout/fanout_producer.cpp|1 0
Modified: examples/examples/fanout/listener.cpp|1 1
Modified: examples/examples/pub-sub/topic_publisher.cpp|1 0
Modified: examples/examples/request-response/client.cpp|1 1
Modified: examples/examples/xml-exchange/xml_producer.cpp|1 0

Revision: 849b5fe00d6a0c3dd5650f1a410fc876406f1e0e
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 04:51:31
Message:
Speculative "fix" for solaris compile errors discussed on qpid-dev. #MsgLength=69


----
Modified: src/qpid/RangeSet.h|28 31
Modified: src/qpid/framing/SequenceSet.cpp|2 2
Modified: src/tests/SessionState.cpp|1 1

Revision: 23d85ced654c80ef5261d06bc68364f3f29d711f
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 05:02:59
Message:
Removed BOOST_REQUIRE_EQUAL, not available in older boost.test. #MsgLength=65


----
Modified: src/tests/ClientSessionTest.cpp|1 1

Revision: 1b0c5e66769135adf278819956ddecb311fffc0d
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 05:46:00
Message:
Fixed intermittent leak of client::Connector thread. #MsgLength=54


----
Modified: src/qpid/client/Connection.cpp|9 8
Modified: src/qpid/client/Connection.h|2 0
Modified: src/qpid/client/ConnectionImpl.cpp|0 1
Modified: src/qpid/client/ConnectionImpl.h|1 0
Modified: src/qpid/client/Connector.h|0 2

Revision: e65226ff6aa8bdd57b4d54d73844b5ce92221736
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 06:18:27
Message:
Make help2man and doxygen dependencies optional. #MsgLength=50


----
Modified: configure.ac|24 3
Modified: docs/api/Makefile.am|4 0
Modified: docs/man/Makefile.am|6 0

Revision: 4226524d65e01c21cee91d1eb101bad3e4c9dd67
Author: Gordon Sim <gsim@apache.org>
Date: 27/05/2008 22:57:33
Message:
Added some comments to the various connection settings. #MsgLength=58


----
Modified: src/qpid/client/ConnectionSettings.h|48 1

Revision: 50b57fc76913c22082a3396c8f0f72d73f977067
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 23:39:42
Message:
Additional API documentation around sync vs. async sessions. #MsgLength=62


----
Modified: src/qpid/client/Completion.h|6 0
Modified: src/qpid/client/Connection.h|33 1
Modified: src/qpid/client/TypedResult.h|6 0

Revision: 1f72c0f3fa2d7e2ad60f169a8fd5916c84780862
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2008 23:52:15
Message:
Copy valgrind support files in a VPATH builds. #MsgLength=48


----
Modified: src/tests/run_test|4 1

Revision: 880501af1c1e07d65fc8c56bd6fb8a6aa6fe55a8
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 01:20:37
Message:
Generate code in $builddir to allow multiple VPATH builds. #MsgLength=60


----
Modified: rubygen/generate|1 10
Modified: src/Makefile.am|13 3

Revision: cfd5388610d7b3bdebcc0a203c0a4a8c6b37da5a
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 01:25:57
Message:
VPATH fix #MsgLength=11


----
Modified: src/Makefile.am|1 1

Revision: 04cc8787c8b83edaab26aeaec3897ee5c695f658
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 01:46:27
Message:
Use symbolic constants for message flow values. #MsgLength=49


----
Modified: examples/examples/request-response/client.cpp|2 2
Modified: examples/examples/request-response/server.cpp|2 3
Modified: src/qpid/client/SessionBase_0_10.h|1 1

Revision: cb721a0ca8ccbb1105702864b4884ceb5eb704c5
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 02:38:06
Message:
Tighten up sync-correctness in SubscriptionManager & Dispatcher. Add a flush to SessionBase_0_10::sync() so it syncs in both directions. #MsgLength=138


----
Modified: src/qpid/client/Dispatcher.cpp|1 1
Modified: src/qpid/client/SessionBase_0_10.cpp|1 0
Modified: src/qpid/client/SessionBase_0_10.h|3 3
Modified: src/qpid/client/SubscriptionManager.cpp|6 5
Modified: src/qpid/client/SubscriptionManager.h|1 1

Revision: 9ddbf1995847add3cf9fc5bc21ae6fe35baa6813
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 03:13:11
Message:
Fixed error in RangeSet, caused compile failure on Solaris. #MsgLength=61


----
Modified: src/qpid/RangeSet.h|6 5

Revision: 1cb3aadfbfeafd900c4ab639b12af389da47baf9
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2008 05:30:29
Message:
Removed obsolete src/qpid/client/SessionImpl.h .cpp #MsgLength=53


----
Modified: src/Makefile.am|0 2
Modified: src/qpid/client/SessionImpl.h|0 1
Deleted: src/qpid/framing/SessionState.cpp|0 137
Deleted: src/qpid/framing/SessionState.h|0 138

Revision: 766a8399ba5cf8f15845b248882e0db865276953
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2008 17:51:12
Message:
Fixes to binding of member functions as raised on qpid list by Manuel Teira. #MsgLength=79


----
Modified: src/qpid/broker/SemanticState.cpp|10 11

Revision: 40fcd404cdf628081cd66a90598dabfb9512fcc5
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2008 20:49:11
Message:
QPID-1095: fixes to dtx error codes for latest spec changes. #MsgLength=63


----
Modified: src/qpid/broker/DtxManager.cpp|3 3
Modified: src/qpid/broker/DtxWorkRecord.cpp|3 3
Modified: src/qpid/broker/SessionAdapter.cpp|1 1

Revision: c2462f78932445e7090707f39055d154c8b62e2b
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2008 21:55:06
Message:
QPID-1095: another error code correction #MsgLength=43


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 05a7acfe1d8ac8a048fa448e6d82275c1d0d7b72
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2008 21:56:59
Message:
QPID-1098: correction to queue query when queue is not known #MsgLength=63


----
Modified: src/qpid/broker/SessionAdapter.cpp|16 11

Revision: 7d642bbf1a109026243903a851265f1439732f7e
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2008 23:29:42
Message:
Improve latency test tool to allow lower rates. #MsgLength=50


----
Modified: src/tests/latencytest.cpp|12 14

Revision: daa46aa22459635726fc233e7fb337f00c7aadd5
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2008 00:18:18
Message:
Updated some 'todo' comments with clearer text. #MsgLength=50


----
Modified: src/qpid/broker/SessionAdapter.cpp|4 6

Revision: 10c6a07a0365fc5805f4496122d42a764ef51f68
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2008 19:45:29
Message:
Only record frames for replay if timeout is non-zero. #MsgLength=56


----
Modified: src/qpid/SessionState.cpp|2 2
Modified: src/tests/SessionState.cpp|4 0

Revision: a1f153d3ae5ab97222bca696cc1d3166d7e9a23b
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2008 20:03:26
Message:
Move AckPolicy impl from header to .cpp; ensure that completion is marked even when auto-acking is turned off. #MsgLength=113


----
Modified: src/Makefile.am|2 1
Added: src/qpid/client/AckPolicy.cpp|50 0
Modified: src/qpid/client/AckPolicy.h|6 23

Revision: 7b1ad3e374075b0e50e70405da526d3de6028945
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2008 20:47:52
Message:
Correct declarations to be the same as definitions. #MsgLength=54


----
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/qpid/broker/QueueRegistry.h|1 1

Revision: 1be289d5b112dbfc7c66ff1c3e694736dedf0f7e
Author: Alan Conway <aconway@apache.org>
Date: 30/05/2008 03:41:30
Message:
Packaing error - SessionId.h #MsgLength=30


----
Modified: src/Makefile.am|1 1

Revision: 8946488bc9e49d615bf51e17c6ca8275a756ccca
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/05/2008 04:06:03
Message:
Performnace fix, improves 6-8% on high core count machines. #MsgLength=60


----
Modified: src/qpid/framing/FrameSet.cpp|10 4
Modified: src/qpid/framing/FrameSet.h|2 0
Modified: src/tests/MessageBuilderTest.cpp|1 1

Revision: 76052bcc62a998c51a6793b9af7e9ed3601ec584
Author: Ted Ross <tross@apache.org>
Date: 30/05/2008 05:18:56
Message:
QPID-1100 crash when config file contains commented-out commands (patch from michael goulish) #MsgLength=94


----
Modified: src/qpid/Options.cpp|65 46

Revision: df38a146e604f12f63b56673cde4b4f6a762faac
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2008 16:13:21
Message:
Convert remaining cppunit tests to boost test framework to reduce dependencies. #MsgLength=82


----
Modified: bootstrap|0 5
Modified: configure.ac|0 7
Modified: qpidc.spec.in|4 2
Modified: src/tests/AccumulatedAckTest.cpp|177 195
Modified: src/tests/DeliveryRecordTest.cpp|23 31
Modified: src/tests/DtxWorkRecordTest.cpp|155 168
Modified: src/tests/ExchangeTest.cpp|125 136
Modified: src/tests/FramingTest.cpp|92 105
Modified: src/tests/HeaderTest.cpp|81 91
Modified: src/tests/HeadersExchangeTest.cpp|74 90
Modified: src/tests/Makefile.am|41 72
Modified: src/tests/MessageBuilderTest.cpp|164 173
Modified: src/tests/MessageTest.cpp|45 55
Modified: src/tests/QueuePolicyTest.cpp|51 59
Modified: src/tests/QueueRegistryTest.cpp|60 61
Modified: src/tests/QueueTest.cpp|165 186
Modified: src/tests/SequenceNumberTest.cpp|157 172
Modified: src/tests/TimerTest.cpp|72 82
Modified: src/tests/TopicExchangeTest.cpp|118 151
Modified: src/tests/TxAckTest.cpp|43 48
Modified: src/tests/TxBufferTest.cpp|147 156
Modified: src/tests/TxMocks.h|2 2
Modified: src/tests/TxPublishTest.cpp|50 53

Revision: df8efeace623c84a560ebb868235726786d8b075
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2008 20:56:11
Message:
Add short sleep before killing python server to ensure it has had a chance to send the message acknowledgement. #MsgLength=114


----
Modified: examples/examples/request-response/verify_cpp_python|1 0

Revision: 61945eff479646965c995c461cf9817119e1b73d
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2008 22:28:13
Message:
Removed redundant flush request. #MsgLength=35


----
Modified: src/qpid/client/SessionBase_0_10.cpp|0 1

Revision: 1090fbc6cd9779743c52960c049a5c8a0c49cec4
Author: Alan Conway <aconway@apache.org>
Date: 02/06/2008 11:29:17
Message:
Use InlineVector for AMQFrame, reduces heap allocations by 13%. #MsgLength=65


----
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/qpid/framing/FrameSet.h|2 2

Revision: dd84600ef7d9265d65ac0dcb897baac4086648b9
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2008 17:33:58
Message:
Minor updates to tests: * sync on commit in transactional topic test * disable loading of modules from automated test to preserve isolation * update federated topic test script in line with command line option changes #MsgLength=220


----
Modified: src/tests/federated_topic_test|9 9
Modified: src/tests/run_federation_tests|2 2
Modified: src/tests/start_broker|1 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|2 2

Revision: 4bca2c2ff227a3ec699a55c88ff4495870cfdc63
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2008 18:45:06
Message:
disable use of module-dir when running examples #MsgLength=50


----
Modified: examples/verify_all|1 1

Revision: bebfa91133b9600bd6268021c6692be3c3d6d8cf
Author: Alan Conway <aconway@apache.org>
Date: 02/06/2008 23:26:18
Message:
Fix compiler warning with gcc 4.3 #MsgLength=35


----
Modified: src/qpid/ptr_map.h|5 1

Revision: aa11e53525fb6e52fdcdde5d78ef2b98cfaf60f7
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 00:01:51
Message:
QPID-1113 Management cleanup and performance enhancements #MsgLength=58


----
Modified: managementgen/schema.py|83 50
Modified: managementgen/templates/Class.cpp|2 2
Modified: managementgen/templates/Class.h|5 3
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Bridge.cpp|8 8
Modified: src/qpid/broker/Connection.cpp|36 22
Modified: src/qpid/broker/Connection.h|3 2
Modified: src/qpid/broker/ConnectionState.h|1 1
Modified: src/qpid/broker/DirectExchange.cpp|4 4
Modified: src/qpid/broker/FanOutExchange.cpp|4 4
Modified: src/qpid/broker/HeadersExchange.cpp|4 4
Modified: src/qpid/broker/Link.cpp|2 2
Modified: src/qpid/broker/LinkRegistry.cpp|20 10
Modified: src/qpid/broker/LinkRegistry.h|3 2
Modified: src/qpid/broker/Queue.cpp|3 15
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/TopicExchange.cpp|4 4
Modified: src/qpid/broker/XmlExchange.cpp|2 2
Modified: src/qpid/management/ManagementBroker.cpp|1 1
Modified: src/qpid/management/ManagementObject.cpp|3 0
Modified: src/qpid/management/ManagementObject.h|1 0
Added: src/qpid/sys/AtomicCount.h|52 0
Modified: src/tests/federation.py|1 1

Revision: 957038607e2d24ce39c6cfa395cfebf432cc4bf1
Author: Alan Conway <aconway@apache.org>
Date: 03/06/2008 00:10:21
Message:
Backed out previous fix compiler for warning, it fails with boost 1.33. Will seek a fix that works for all versions. #MsgLength=118


----
Modified: src/qpid/ptr_map.h|1 5

Revision: 9a93c394a8b213c7bac9ac28226b17f223caf2c4
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 01:23:07
Message:
Fixed dereference of null pointer #MsgLength=34


----
Modified: src/qpid/broker/Connection.cpp|2 1

Revision: a18492c03c32aa5e19caadd91da5835abeb25c5c
Author: Alan Conway <aconway@apache.org>
Date: 03/06/2008 01:48:18
Message:
Fix that works on 1.33/gcc4.1 up to boost 1.34.13/gcc 4.3 #MsgLength=59


----
Modified: src/qpid/ptr_map.h|5 5

Revision: 647dfb399b4083da0c61ca4f6c1214468231c136
Author: Alan Conway <aconway@apache.org>
Date: 03/06/2008 04:52:40
Message:
Added --syslog-name, --syslog-facility options. #MsgLength=49


----
Modified: src/qpid/client/Connection.cpp|2 1
Modified: src/qpid/client/ConnectionSettings.cpp|4 3
Modified: src/qpid/client/ConnectionSettings.h|3 3
Modified: src/qpid/log/Logger.cpp|12 17
Modified: src/qpid/log/Logger.h|3 4
Modified: src/qpid/log/Options.cpp|98 14
Modified: src/qpid/log/Options.h|15 2
Modified: src/qpidd.cpp|5 6
Modified: src/tests/TestOptions.h|1 1
Modified: src/tests/logging.cpp|9 9

Revision: ac6d46985a9b09e31fdeda4590f607d93b917cbe
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 05:06:36
Message:
Improve performance of synchronous publication by not requesting known-completed response for every completed sent. #MsgLength=119


----
Modified: src/qpid/RangeSet.h|8 0
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|2 1
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/tests/perftest.cpp|14 5

Revision: 2cb07df405c13e15c8bc01577e31b4c8d85e4e95
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 05:20:35
Message:
QPID-1114 Daemon mode improvements #MsgLength=35


----
Modified: etc/qpidd|1 1
Modified: etc/qpidd.conf|1 0
Modified: qpidc.spec.in|2 0
Modified: src/qpid/broker/Daemon.cpp|7 11
Modified: src/qpid/broker/Daemon.h|4 4
Modified: src/qpidd.cpp|7 3

Revision: 4eecc7d152c073ca46aff628c2699aed505eb1c3
Author: Alan Conway <aconway@apache.org>
Date: 03/06/2008 05:38:25
Message:
Separate option parsing from qpid::client::ClientSettings. #MsgLength=60


----
Modified: src/qpid/client/Connection.cpp|1 2
Modified: src/qpid/client/ConnectionSettings.cpp|3 27
Modified: src/qpid/client/ConnectionSettings.h|4 16
Modified: src/tests/BasicP2PTest.cpp|2 2
Modified: src/tests/BasicP2PTest.h|1 1
Modified: src/tests/BasicPubSubTest.cpp|3 3
Modified: src/tests/BasicPubSubTest.h|1 1
Added: src/tests/ConnectionOptions.h|53 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/SimpleTestCaseBase.cpp|2 2
Modified: src/tests/SimpleTestCaseBase.h|4 4
Modified: src/tests/TestCase.h|2 2
Modified: src/tests/TestOptions.h|8 5
Modified: src/tests/client_test.cpp|0 1
Modified: src/tests/interop_runner.cpp|6 6

Revision: 4b8736bb87b73a1e4ef97579836de45b8ac54c80
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 06:32:21
Message:
Queue stats: byteDepth now computed periodically #MsgLength=49


----
Modified: managementgen/schema.py|18 6
Modified: managementgen/templates/Class.cpp|1 0

Revision: 0828daf3a078bc9e2baa0ea5fd421f3504606806
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/06/2008 08:55:43
Message:
QPID-1108 patch from Manuel Teira #MsgLength=34


----
Modified: src/qpid/sys/posix/Mutex.h|2 20

Revision: 9322d24536daecc0768b8c7e17f54e404648c95c
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 15:38:38
Message:
Move ConnectionOptions into qpid::client. #MsgLength=44


----
Modified: src/Makefile.am|1 0
Renamed: src/qpid/client/ConnectionOptions.h [from src/tests/ConnectionOptions.h]|5 1
Modified: src/tests/Makefile.am|1 2
Modified: src/tests/TestOptions.h|2 2

Revision: bae908280959f0b81d15486050156ec224c8832e
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 15:54:09
Message:
Reverted move of ConnectionOptions (without the parse functionality they aren't off much use). Corrected include in ConnectionOptions.h #MsgLength=138


----
Modified: src/Makefile.am|0 1
Renamed: src/tests/ConnectionOptions.h [from src/qpid/client/ConnectionOptions.h]|1 5
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/TestOptions.h|2 2

Revision: 1fbc2999bbe73f38c5d7daa92781e5183215ebe9
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 16:47:48
Message:
Add ConnectionOptions.h to sources for each test program. #MsgLength=60


----
Modified: src/tests/Makefile.am|9 9

Revision: 8bf45ba5abc6498615f27886c17c15362f804a54
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 16:48:17
Message:
Fixed typo in options. #MsgLength=25


----
Modified: src/tests/consume.cpp|1 1

Revision: 78e552abcf3b0af67e657e2cbdb59d16411abdf3
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2008 20:39:14
Message:
Better exception handling for commit. #MsgLength=40


----
Modified: src/qpid/broker/SemanticState.cpp|2 0
Modified: src/qpid/broker/TxPublish.cpp|4 2

Revision: b2c9c886365382684e855bbefcfc29f83bf1ee43
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 23:13:01
Message:
QPID-1114 moved --pid-dir from config file to startup script #MsgLength=61


----
Modified: etc/qpidd|2 2
Modified: etc/qpidd.conf|0 1

Revision: 53b671bb581d527b9d519f2c8b96ee567429b772
Author: Ted Ross <tross@apache.org>
Date: 03/06/2008 23:53:48
Message:
Management fixes: set session.detachedLifetime to 0, set journal->queue link in all cases #MsgLength=90


----
Modified: src/qpid/broker/Queue.cpp|9 3
Modified: src/qpid/broker/SessionState.cpp|1 0

Revision: 73ca0a9099a2bb208db1f113bfa6cfbc92d25873
Author: Ted Ross <tross@apache.org>
Date: 04/06/2008 02:19:29
Message:
QPID-1114 Change defaults for data-dir and pid-dir to /home/ross/.qpidd #MsgLength=72


----
Modified: etc/qpidd|1 1
Modified: src/qpid/DataDir.cpp|10 4
Modified: src/qpid/broker/Broker.cpp|8 1
Modified: src/qpidd.cpp|9 1

Revision: 8f2e50a1a772a349d9fb87a3fe8a16e06e5dd897
Author: Alan Conway <aconway@apache.org>
Date: 04/06/2008 04:06:54
Message:
Use help2man if available, pre-generated qpidd.1 if available, fall back to dummy man page. #MsgLength=93


----
Modified: docs/man/Makefile.am|9 6

Revision: edd978f5e6baf679bb9b86211f8b598a1bfc7804
Author: Ted Ross <tross@apache.org>
Date: 04/06/2008 05:46:49
Message:
Create pid-dir if it does not exist #MsgLength=36


----
Modified: src/qpid/broker/Daemon.cpp|10 0

Revision: a4f5939ec5e2b49ae78b809ba9c95e5052a8b369
Author: Ted Ross <tross@apache.org>
Date: 04/06/2008 20:56:24
Message:
Removed assignment of a string literal that causes problems with some newer compilers #MsgLength=86


----
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpidd.cpp|3 3

Revision: 1271de35a0754fc2540bb79be281bf688f8663c1
Author: Alan Conway <aconway@apache.org>
Date: 04/06/2008 23:08:13
Message:
Avoid use of valgrind --log-file-exactly flag, removed in valgrind 3.3 #MsgLength=71


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/run_test|4 4
Modified: src/tests/start_broker|2 2
Modified: src/tests/stop_broker|2 2

Revision: d2896fbf07ebde02e4a782d442f0c8d7b9330e83
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2008 23:46:00
Message:
Change to lazy-loading to avoid relying on the content-size to be set by client. #MsgLength=83


----
Modified: src/qpid/broker/Message.cpp|18 14
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/SemanticState.cpp|3 0

Revision: 84c5e924ebf8ddbd7e004cb3161b54e268fd47e0
Author: Alan Conway <aconway@apache.org>
Date: 05/06/2008 00:00:17
Message:
Increased default flush interval to 1MB, send spontaneous known-completed at the flush interval. #MsgLength=98


----
Modified: src/qpid/SessionState.cpp|19 1
Modified: src/qpid/SessionState.h|10 6
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|5 3
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/tests/SessionState.cpp|37 0

Revision: 4f8f3f2505d7e1d35760d9ff7ee782d7971adf58
Author: Ted Ross <tross@apache.org>
Date: 05/06/2008 00:52:26
Message:
QPID-1121 #MsgLength=10


----
Modified: src/qpid/broker/Link.cpp|3 1

Revision: ad653dbca6aa46b5fb4262316926a07c824b6a8e
Author: Alan Conway <aconway@apache.org>
Date: 05/06/2008 01:24:10
Message:
Request a timely reqply to session.completed based on configured flush interval. #MsgLength=82


----
Modified: src/qpid/SessionState.cpp|6 4
Modified: src/qpid/SessionState.h|6 0
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 1

Revision: ac404a51d948420ae1d1742b604851c360af5c12
Author: Ted Ross <tross@apache.org>
Date: 05/06/2008 02:39:47
Message:
Management clean-up.  Made the management broker more defensive with regard to received messages.  Default and management exchanges now have 'durable' object IDs. #MsgLength=163


----
Modified: src/qpid/broker/Exchange.cpp|8 2
Modified: src/qpid/management/ManagementBroker.cpp|37 23

Revision: 564ab79316cfc5b17d8e3b9777e304ac882eeaa2
Author: Alan Conway <aconway@apache.org>
Date: 05/06/2008 02:52:24
Message:
Fix valgrind error. #MsgLength=21


----
Modified: src/qpid/SessionState.cpp|1 1

Revision: a540468f8c177963a6c423bd98ee6db2a53f2535
Author: Alan Conway <aconway@apache.org>
Date: 05/06/2008 03:26:44
Message:
Remove unused classes IList and ISList. #MsgLength=41


----
Modified: src/Makefile.am|0 2
Deleted: src/qpid/IList.h|0 200
Deleted: src/qpid/ISList.h|0 178
Deleted: src/tests/IList.cpp|0 172
Deleted: src/tests/ISList.cpp|0 216
Modified: src/tests/Makefile.am|0 1

Revision: f05a4246fd75791fea4a663f6205982698b1e27e
Author: Ted Ross <tross@apache.org>
Date: 05/06/2008 06:13:40
Message:
Management cleanup - Synchronized with the spec on the Wiki #MsgLength=60


----
Modified: managementgen/templates/Class.cpp|2 2
Modified: managementgen/templates/Class.h|7 7
Modified: src/qpid/management/ManagementBroker.cpp|6 6
Modified: src/qpid/management/ManagementObject.h|7 7

Revision: 321fb102c8139b076cd21464a19fb414e4d0de9f
Author: Gordon Sim <gsim@apache.org>
Date: 05/06/2008 18:48:53
Message:
Re-introduced previously clobbered realm option. #MsgLength=51


----
Modified: src/qpid/broker/Broker.cpp|2 0

Revision: 0e9e5a5519498e36d4e2353b4d605fc9e657388d
Author: Gordon Sim <gsim@apache.org>
Date: 05/06/2008 21:00:26
Message:
Fix to makefile and tests (one test temporarily disabled until a fix is found). #MsgLength=82


----
Modified: src/tests/Makefile.am|3 2
Modified: src/tests/MessageBuilderTest.cpp|5 4
Added: src/tests/TestMessageStore.h|54 0
Modified: src/tests/TxAckTest.cpp|2 16
Modified: src/tests/TxPublishTest.cpp|1 18

Revision: a587c9866a8036321663e723b4af80241ef42a74
Author: Ted Ross <tross@apache.org>
Date: 05/06/2008 22:04:56
Message:
Load modules from /usr/lib64/qpidd on x86_64 architecture #MsgLength=58


----
Modified: src/qpidd.cpp|7 0

Revision: 64200f24aa30eed81f67cbf90f160ad034d43d9b
Author: Nuno Santos <nsantos@apache.org>
Date: 05/06/2008 22:15:52
Message:
install libs in arch-appropriate directory #MsgLength=43


----
Modified: qpidc.spec.in|3 3

Revision: 6c864b5166fd3ee10525d662432ec6e782f49b55
Author: Nuno Santos <nsantos@apache.org>
Date: 05/06/2008 22:18:53
Message:
install libs in arch-appropriate directory #MsgLength=43


----
Modified: qpidc.spec.in|1 1

Revision: a30d1ca6bc0cb970cc5b25afff9184c060b8b7ba
Author: Nuno Santos <nsantos@apache.org>
Date: 05/06/2008 23:00:29
Message:
install libs in arch-appropriate directory #MsgLength=43


----
Modified: qpidc.spec.in|1 0

Revision: af9b714912bd4f02f7653ae8c040bac0f5b59daf
Author: Nuno Santos <nsantos@apache.org>
Date: 06/06/2008 00:34:09
Message:
install libs in arch-appropriate directory #MsgLength=43


----
Modified: qpidc.spec.in|2 2

Revision: aefb202fc616da7238fe5670ba6862c4e75a4136
Author: Nuno Santos <nsantos@apache.org>
Date: 06/06/2008 01:51:47
Message:
install libs in arch-appropriate directory #MsgLength=43


----
Modified: qpidc.spec.in|1 1

Revision: 6824380a4c5ce9060d1479941648e7db5d495892
Author: Alan Conway <aconway@apache.org>
Date: 06/06/2008 04:41:59
Message:
Fixed bug in InlineAllocator #MsgLength=29


----
Modified: src/qpid/InlineAllocator.h|11 4

Revision: 9b8bcb2c6f37c2f85413b45846da1f48c003cb1e
Author: Gordon Sim <gsim@apache.org>
Date: 06/06/2008 05:21:51
Message:
Uncomment test now that inline allocator is fixed. #MsgLength=53


----
Modified: src/tests/MessageBuilderTest.cpp|1 2

Revision: cb7ad7ab997b16c4c0f11105fd013b24f0a9007a
Author: Ted Ross <tross@apache.org>
Date: 06/06/2008 06:01:32
Message:
Dequeue persistent messages from store in queue purge #MsgLength=54


----
Modified: src/qpid/broker/Queue.cpp|9 1

Revision: a51b482607c2fa06fcf6e1cf333f176ede295192
Author: Alan Conway <aconway@apache.org>
Date: 06/06/2008 06:06:02
Message:
Modified to work with boost-1.32 #MsgLength=34


----
Modified: src/qpid/InlineAllocator.h|12 8

Revision: e489867324ff2235c3a9930fa50b6bcb2bce25d5
Author: Ted Ross <tross@apache.org>
Date: 07/06/2008 04:14:09
Message:
Added mutexes back in to protect management counts from corruption #MsgLength=67


----
Modified: src/qpid/broker/Queue.cpp|9 2
Modified: src/qpid/management/ManagementObject.h|2 2

Revision: b29f474b59ac85761f7b8d8bc996b4691210725d
Author: Alan Conway <aconway@apache.org>
Date: 07/06/2008 04:23:28
Message:
Added exceptions to sys::Waitable. Fixed client side deadlock involving client::Bounds. Fixed incorrect exception messages during connection shutdown. #MsgLength=152


----
Modified: rubygen/framing.0-10/constants.rb|4 4
Modified: src/Makefile.am|1 1
Modified: src/qpid/Exception.cpp|8 4
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/client/Bounds.cpp|24 27
Modified: src/qpid/client/Bounds.h|4 3
Modified: src/qpid/client/ConnectionHandler.cpp|3 4
Modified: src/qpid/client/ConnectionImpl.cpp|12 21
Modified: src/qpid/client/ConnectionImpl.h|1 3
Modified: src/qpid/client/SessionImpl.cpp|8 6
Renamed: src/qpid/sys/ExceptionHolder.h [from src/qpid/ExceptionHolder.h]|11 9
Modified: src/qpid/sys/Waitable.h|46 9

Revision: 4b3e22d09d1478725b5fdc0dbee07e06d9a0007e
Author: Nuno Santos <nsantos@apache.org>
Date: 07/06/2008 05:32:17
Message:
add missing header #MsgLength=19


----
Modified: src/Makefile.am|1 0

Revision: 1b8c828cb7c7e657c363f87f5b2a91e792abe172
Author: Alan Conway <aconway@apache.org>
Date: 09/06/2008 21:08:44
Message:
Missing lock in SessionManager::forget() #MsgLength=42


----
Modified: src/qpid/broker/SessionManager.cpp|4 1

Revision: 863acab3129213932b365b1448f429ae5e6dc34c
Author: Gordon Sim <gsim@apache.org>
Date: 10/06/2008 04:53:57
Message:
Moved from AccumulatedAck to SequenceSet in managing transactional accepts Added transactional option to perftest Removed clientid from ConnectionSettings as it appears not to be used #MsgLength=186


----
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/DeliveryRecord.cpp|5 2
Modified: src/qpid/broker/DeliveryRecord.h|2 2
Modified: src/qpid/broker/DtxAck.cpp|1 1
Modified: src/qpid/broker/DtxAck.h|2 2
Modified: src/qpid/broker/SemanticState.cpp|3 60
Modified: src/qpid/broker/SemanticState.h|3 8
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/TxAccept.cpp|2 2
Modified: src/qpid/broker/TxAccept.h|3 3
Deleted: src/qpid/broker/TxAck.cpp|0 59
Deleted: src/qpid/broker/TxAck.h|0 57
Modified: src/qpid/client/ConnectionSettings.cpp|0 1
Modified: src/qpid/client/ConnectionSettings.h|0 1
Modified: src/tests/ConnectionOptions.h|0 1
Modified: src/tests/Makefile.am|0 1
Deleted: src/tests/TxAckTest.cpp|0 95
Modified: src/tests/perftest.cpp|20 9

Revision: 2b6f3bfb41a75990c83b1e683313bda0cd58fc1c
Author: Alan Conway <aconway@apache.org>
Date: 10/06/2008 04:55:09
Message:
Updated doxygen comments in qpid/client/*.h Changed request-response example to use SubscriptionManager like the others. #MsgLength=122


----
Modified: docs/api/user.doxygen.in|5 5
Modified: examples/examples/direct/listener.cpp|0 1
Modified: examples/examples/fanout/listener.cpp|0 1
Modified: examples/examples/pub-sub/topic_listener.cpp|0 1
Modified: examples/examples/request-response/client.cpp|34 67
Modified: examples/examples/request-response/server.cpp|43 65
Modified: examples/examples/xml-exchange/listener.cpp|0 1
Modified: src/Makefile.am|0 4
Modified: src/qpid/client/AckPolicy.h|1 0
Modified: src/qpid/client/Completion.h|14 4
Modified: src/qpid/client/Connection.cpp|2 2
Modified: src/qpid/client/Connection.h|5 18
Modified: src/qpid/client/Connector.h|1 0
Modified: src/qpid/client/Demux.h|2 0
Modified: src/qpid/client/Dispatcher.h|3 0
Deleted: src/qpid/client/Exchange.cpp|0 34
Deleted: src/qpid/client/Exchange.h|0 113
Modified: src/qpid/client/Execution.h|2 1
Modified: src/qpid/client/Future.h|1 0
Modified: src/qpid/client/FutureCompletion.h|1 0
Modified: src/qpid/client/FutureResult.h|1 0
Modified: src/qpid/client/LocalQueue.h|25 3
Modified: src/qpid/client/Message.cpp|38 33
Modified: src/qpid/client/Message.h|24 2
Modified: src/qpid/client/MessageListener.h|8 4
Deleted: src/qpid/client/Queue.cpp|0 58
Deleted: src/qpid/client/Queue.h|0 103
Modified: src/qpid/client/Results.h|1 0
Modified: src/qpid/client/SessionBase_0_10.h|2 0
Modified: src/qpid/client/SessionImpl.h|1 0
Modified: src/qpid/client/StateManager.h|1 0
Modified: src/qpid/client/SubscriptionManager.h|12 3
Modified: src/qpid/client/TypedResult.h|10 2
Modified: src/qpid/doxygen_mainpage.h|21 38
Modified: src/qpid/framing/TransferContent.h|12 6
Modified: src/tests/FramingTest.cpp|0 2

Revision: d4a419ef6b1f86704bb3699d97a8d489af6a301e
Author: Gordon Sim <gsim@apache.org>
Date: 10/06/2008 17:59:17
Message:
Improved exception handling for commit. #MsgLength=42


----
Modified: src/qpid/broker/TxBuffer.cpp|18 10

Revision: 4c3fee57064fd28d5af90531acd4c76f086886eb
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2008 18:41:25
Message:
* make tcp-nodelay option available for all tests * option for outputting csv from latency test (from lgoncalv@redhat.com) * option for cumulative output from latency test (from lgoncalv@redhat.com) * specify interval in millisecs instead of secs (from acme@redhat.com) #MsgLength=272


----
Modified: src/tests/ConnectionOptions.h|2 1
Modified: src/tests/latencytest.cpp|48 9

Revision: abbd4112d6e30ea10ac4ab54fb70d4282c5b63a1
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 01:39:08
Message:
Improvements to comment clarity. #MsgLength=34


----
Modified: examples/examples/direct/listener.cpp|1 1
Modified: examples/examples/fanout/listener.cpp|1 1
Modified: examples/examples/xml-exchange/listener.cpp|1 1

Revision: eb9e1d09d2dca93c3488acc2ff096e02ee624329
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 03:19:22
Message:
Propagate error messages across the Demux between network & user threads. #MsgLength=75


----
Modified: etc/qpidd.conf|3 2
Modified: src/qpid/client/Demux.cpp|4 4
Modified: src/qpid/client/Demux.h|1 1
Modified: src/qpid/client/SessionImpl.cpp|3 1
Modified: src/qpid/sys/BlockingQueue.h|4 3
Modified: src/tests/Makefile.am|1 1

Revision: b97a578ea38625d74df11e4bdd659a0f47234615
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 03:57:04
Message:
Fix test error. #MsgLength=17


----
Modified: src/tests/exception_test.cpp|6 3

Revision: 153050778e7fadccee7a298e5d9864678265edfd
Author: Nuno Santos <nsantos@apache.org>
Date: 13/06/2008 04:09:13
Message:
add missing DESIGN file to Makefile.am #MsgLength=39


----
Modified: Makefile.am|1 1

Revision: 857e76a3ff0eb748bf2619f2b68ae26a2a32ed2f
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 05:59:27
Message:
Default --log-output to syslog in --daemon mode. #MsgLength=50


----
Modified: src/qpidd.cpp|7 2

Revision: b791b18793464c38ea245ba81f434c2bff436926
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 20:30:02
Message:
Fix bug in SessionState - avoid all replay calculations for timeout==0. #MsgLength=73


----
Modified: src/qpid/SessionState.cpp|12 8

Revision: 0e9de071e57ecc0ed6896bf1aa545ae2ae9e2e17
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2008 22:36:53
Message:
Revert SessionState changes in r667503. #MsgLength=41


----
Modified: src/qpid/SessionState.cpp|8 12

Revision: 3b57cd2ac04a54665a5464b253f12ddf28699f60
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2008 01:36:23
Message:
Fix for broker wraparound problem. #MsgLength=36


----
Modified: src/qpid/SessionState.cpp|7 4
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|13 2
Modified: src/qpid/broker/Broker.cpp|2 4
Modified: src/qpid/framing/SequenceNumber.cpp|1 1
Modified: src/qpid/log/Logger.cpp|2 1

Revision: 62682cbc17db90a189c055f82b4e5cf8480d1300
Author: Gordon Sim <gsim@apache.org>
Date: 17/06/2008 17:21:56
Message:
Added option to start topictest scripti n transactional mode (&durable) #MsgLength=73


----
Modified: src/tests/topictest|4 3

Revision: 193be913334b4ea0153cf71cab810bcde2629fcb
Author: Gordon Sim <gsim@apache.org>
Date: 19/06/2008 00:34:18
Message:
Fix bug that commits after every message. Oops! #MsgLength=50


----
Modified: src/tests/perftest.cpp|1 1

Revision: 997595a33b9aa1a4608f7600aa5d01c5fbaf6fe1
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2008 01:53:30
Message:
Bring cluster code up to date. #MsgLength=32


----
Modified: INSTALL|1 4
Modified: configure.ac|3 8
Modified: src/Makefile.am|1 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|0 3
Modified: src/qpid/broker/SemanticState.cpp|0 1
Modified: src/qpid/broker/SemanticState.h|1 2
Modified: src/qpid/broker/SessionHandler.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|39 24
Modified: src/qpid/broker/SessionState.h|22 13
Modified: src/qpid/cluster/ClassifierHandler.cpp|2 2
Modified: src/qpid/cluster/Cluster.cpp|7 12
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/framing/Handler.h|13 14
Modified: src/qpid/framing/HeaderProperties.h|0 2
Modified: src/tests/ais_check|2 2
Modified: src/tests/start_cluster|3 2
Modified: xml/cluster.xml|28 32

Revision: 418a68afb2229a88a1454b8d4ea6bdafd623c50d
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2008 03:59:33
Message:
Fix packaging error. #MsgLength=22


----
Modified: src/Makefile.am|1 0

Revision: 19b0cc2f254437342a2bcae6526ad0cf44df5550
Author: Alan Conway <aconway@apache.org>
Date: 21/06/2008 05:23:23
Message:
Patch from Manuel Teira: https://issues.apache.org/jira/secure/CommentAssignIssue!default.jspa?action=5&id=12398038 - Use standard automake makefiles to build cpp/examples. - Rationalize examples directory structure. #MsgLength=299


----
Modified: configure.ac|5 0
Modified: etc/Makefile.am|3 0
Renamed: examples/Makefile [from examples/examples/Makefile]|0 0
Modified: examples/Makefile.am|18 68
Added: examples/README.verify|26 0
Added: examples/direct/Makefile.am|29 0
Renamed: examples/direct/declare_queues.cpp [from examples/examples/direct/declare_queues.cpp]|0 0
Renamed: examples/direct/direct_producer.cpp [from examples/examples/direct/direct_producer.cpp]|0 0
Renamed: examples/direct/listener.cpp [from examples/examples/direct/listener.cpp]|0 0
Renamed: examples/direct/verify [from examples/examples/direct/verify]|0 0
Renamed: examples/direct/verify.in [from examples/examples/direct/verify.in]|0 0
Renamed: examples/direct/verify_cpp_python [from examples/examples/direct/verify_cpp_python]|0 0
Renamed: examples/direct/verify_cpp_python.in [from examples/examples/direct/verify_cpp_python.in]|0 0
Renamed: examples/direct/verify_python_cpp [from examples/examples/direct/verify_python_cpp]|0 0
Renamed: examples/direct/verify_python_cpp.in [from examples/examples/direct/verify_python_cpp.in]|0 0
Deleted: examples/examples/README|0 127
Deleted: examples/examples/direct/Makefile|0 10
Deleted: examples/examples/fanout/Makefile|0 10
Deleted: examples/examples/pub-sub/Makefile|0 10
Deleted: examples/examples/request-response/Makefile|0 10
Deleted: examples/examples/xml-exchange/Makefile|0 7
Added: examples/fanout/Makefile.am|29 0
Renamed: examples/fanout/fanout_producer.cpp [from examples/examples/fanout/fanout_producer.cpp]|0 0
Renamed: examples/fanout/listener.cpp [from examples/examples/fanout/listener.cpp]|0 0
Renamed: examples/fanout/verify [from examples/examples/fanout/verify]|0 0
Renamed: examples/fanout/verify.in [from examples/examples/fanout/verify.in]|0 0
Renamed: examples/fanout/verify_cpp_python [from examples/examples/fanout/verify_cpp_python]|0 0
Renamed: examples/fanout/verify_cpp_python.in [from examples/examples/fanout/verify_cpp_python.in]|0 0
Renamed: examples/fanout/verify_python_cpp [from examples/examples/fanout/verify_python_cpp]|0 0
Renamed: examples/fanout/verify_python_cpp.in [from examples/examples/fanout/verify_python_cpp.in]|0 0
Added: examples/makedist.mk|20 0
Added: examples/pub-sub/Makefile.am|30 0
Renamed: examples/pub-sub/topic_listener.cpp [from examples/examples/pub-sub/topic_listener.cpp]|0 0
Renamed: examples/pub-sub/topic_publisher.cpp [from examples/examples/pub-sub/topic_publisher.cpp]|0 0
Renamed: examples/pub-sub/verify [from examples/examples/pub-sub/verify]|0 0
Renamed: examples/pub-sub/verify.in [from examples/examples/pub-sub/verify.in]|0 0
Renamed: examples/pub-sub/verify_cpp_python [from examples/examples/pub-sub/verify_cpp_python]|0 0
Renamed: examples/pub-sub/verify_cpp_python.in [from examples/examples/pub-sub/verify_cpp_python.in]|0 0
Renamed: examples/pub-sub/verify_python_cpp [from examples/examples/pub-sub/verify_python_cpp]|0 0
Renamed: examples/pub-sub/verify_python_cpp.in [from examples/examples/pub-sub/verify_python_cpp.in]|0 0
Added: examples/request-response/Makefile.am|30 0
Renamed: examples/request-response/client.cpp [from examples/examples/request-response/client.cpp]|0 0
Renamed: examples/request-response/server.cpp [from examples/examples/request-response/server.cpp]|0 0
Renamed: examples/request-response/verify [from examples/examples/request-response/verify]|0 0
Renamed: examples/request-response/verify.in [from examples/examples/request-response/verify.in]|0 0
Renamed: examples/request-response/verify_cpp_python [from examples/examples/request-response/verify_cpp_python]|0 0
Renamed: examples/request-response/verify_cpp_python.in [from examples/examples/request-response/verify_cpp_python.in]|0 0
Renamed: examples/request-response/verify_python_cpp [from examples/examples/request-response/verify_python_cpp]|0 0
Renamed: examples/request-response/verify_python_cpp.in [from examples/examples/request-response/verify_python_cpp.in]|0 0
Modified: examples/verify|2 1
Modified: examples/verify_all|4 3
Added: examples/xml-exchange/Makefile.am|29 0
Renamed: examples/xml-exchange/README [from examples/examples/xml-exchange/README]|0 0
Renamed: examples/xml-exchange/declare_queues.cpp [from examples/examples/xml-exchange/declare_queues.cpp]|0 0
Renamed: examples/xml-exchange/listener.cpp [from examples/examples/xml-exchange/listener.cpp]|0 0
Renamed: examples/xml-exchange/xml_producer.cpp [from examples/examples/xml-exchange/xml_producer.cpp]|0 0
Modified: src/Makefile.am|1 1
Deleted: src/tests/.valgrindrc|0 7
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/run_test|19 11

Revision: eaf7c3efed79fe0f927d28b134c84aba05cc13d2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/06/2008 06:48:36
Message:
QPID-1069: Patch from Steve Huston: Build with Boost 1.35 #MsgLength=59


----
Modified: src/qpid/framing/Blob.h|4 1

Revision: f5e4affb07eaac42ed3e18e20ab8dc005d628de2
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2008 21:39:33
Message:
Fix build problems in examples on older automakes #MsgLength=50


----
Modified: examples/Makefile|547 5
Modified: examples/Makefile.am|1 1
Modified: examples/makedist.mk|3 3

Revision: 004571791567b3d6bc4ac0f07ac7ae9a1877e566
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2008 21:53:15
Message:
Fix path problems in examples make check #MsgLength=41


----
Modified: examples/Makefile|4 1
Modified: examples/Makefile.am|4 1
Modified: examples/verify_all|1 1

Revision: 2c8ef19801321d84905272089000deaf1b5f0bbc
Author: Alan Conway <aconway@apache.org>
Date: 24/06/2008 03:43:49
Message:
Const-correctness fixes in MessageStore.h #MsgLength=43


----
Modified: src/qpid/broker/MessageStore.h|13 20
Modified: src/qpid/broker/MessageStoreModule.cpp|13 6
Modified: src/qpid/broker/MessageStoreModule.h|10 8
Modified: src/qpid/broker/NullMessageStore.cpp|11 5
Modified: src/qpid/broker/NullMessageStore.h|8 6
Modified: src/qpid/broker/PersistableMessage.h|1 3
Modified: src/tests/MessageBuilderTest.cpp|3 2
Modified: src/tests/TestMessageStore.h|6 2

Revision: 8ca7b03f66a4ab8c203089ae4a2bad96a582550e
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2008 17:59:11
Message:
* remove generated Makefile from svn * add back check for exclsuions where xml exchange support is not available #MsgLength=115


----
Deleted: examples/Makefile|0 551
Modified: examples/Makefile.am|3 0

Revision: e1ea56b89520b3bd29cb69d4c1128d8c1f585854
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2008 00:54:22
Message:
 - use flock to lock data dir rather than a lock file. - removed troublesome global constructor in Mutex initialization. #MsgLength=123


----
Modified: src/Makefile.am|2 1
Modified: src/qpid/DataDir.cpp|16 26
Modified: src/qpid/DataDir.h|1 0
Modified: src/qpid/broker/Daemon.h|1 0
Modified: src/qpid/cluster/Cpg.h|10 10
Added: src/qpid/sys/posix/Mutex.cpp|46 0
Modified: src/qpid/sys/posix/Mutex.h|2 27

Revision: c6659c8d9aea3e0f1bb804050e8793b5e600a01c
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2008 04:51:30
Message:
Additions to the client API: - SubscriptionManager::get(queue) to get a single message from a queue. - Set FlowControl per-subscription. #MsgLength=140


----
Modified: src/Makefile.am|1 0
Added: src/qpid/client/FlowControl.h|73 0
Modified: src/qpid/client/LocalQueue.h|1 1
Modified: src/qpid/client/SubscriptionManager.cpp|34 8
Modified: src/qpid/client/SubscriptionManager.h|49 6
Modified: src/tests/ClientSessionTest.cpp|26 1
Modified: src/tests/ais_check|9 3
Deleted: src/tests/ais_run|0 15
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/cluster_client.cpp|26 2
Modified: src/tests/start_cluster|7 1

Revision: ce5d2d5c55993eeee81dbe71f42626ec4528e5fb
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2008 16:42:39
Message:
QPID-1147: Avoid usage of 'source' builtin in pure sh scripts #MsgLength=160


----
Modified: src/tests/run_test|1 1

Revision: 074a1a654692b0762c7f47b6df902c28bac8aa60
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2008 20:25:58
Message:
QPID-1137: don't treat connection as opened if the open never succeeds #MsgLength=73


----
Modified: src/qpid/client/ConnectionImpl.cpp|10 2
Modified: src/qpid/client/ConnectionImpl.h|1 1
Modified: src/tests/ClientSessionTest.cpp|15 0

Revision: 5166a678da52443892c0c43bb8066cda376e6df7
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2008 21:48:41
Message:
From Matt Farrellee - https://issues.apache.org/jira/browse/QPID-1151 Remove un-necessary link dependencies from client and common libraries. #MsgLength=143


----
Modified: configure.ac|13 1
Modified: src/Makefile.am|3 1

Revision: b3eb3f5801e2a7e6524fc79b1acb9b58f1abc3c7
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2008 22:55:48
Message:
Use run_test to run valgrind for start_broker consistently with other tests. #MsgLength=78


----
Modified: src/tests/run_test|5 10
Modified: src/tests/start_broker|3 3
Modified: src/tests/stop_broker|2 2

Revision: 2055ca5cbdc42d10dfc009a38455554ff9528a63
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2008 02:12:12
Message:
Consolidated cluster tests in cluster_test.cpp Improvements to BrokerFixture for testing. #MsgLength=91


----
Modified: src/qpid/Plugin.cpp|11 6
Modified: src/qpid/Plugin.h|3 0
Modified: src/qpid/cluster/Cpg.cpp|1 1
Modified: src/qpidd.cpp|1 7
Modified: src/tests/BrokerFixture.h|29 15
Modified: src/tests/ais_check|8 5
Modified: src/tests/cluster.mk|4 4
Deleted: src/tests/cluster_client.cpp|0 108
Renamed: src/tests/cluster_test.cpp [from src/tests/Cpg.cpp]|101 1
Deleted: src/tests/start_cluster|0 26
Deleted: src/tests/stop_cluster|0 14

Revision: 29f216d7367883b5fdacec1f026c6eb5d0d9cb55
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2008 05:39:28
Message:
Plugin framework change: single PluginFactory creates per-target Plugin instances. #MsgLength=84


----
Modified: src/qpid/Plugin.cpp|36 19
Modified: src/qpid/Plugin.h|91 46
Modified: src/qpid/broker/Broker.cpp|2 12
Modified: src/qpid/cluster/ClusterPlugin.cpp|38 21
Modified: src/qpid/cluster/Cpg.cpp|1 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|12 14
Modified: src/qpidd.cpp|1 1
Modified: src/tests/Makefile.am|1 2
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/cluster_test.cpp|4 4
Deleted: src/tests/qpid_test_plugin.h|0 43

Revision: b0377f22ff9caa7aef5d5d5243c942d1451855ad
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2008 21:32:11
Message:
Fix exit status when VALIGRIND= #MsgLength=33


----
Modified: src/tests/run_test|1 1

Revision: 0f84b1b13c7e14643929689569525dbec3e7e02b
Author: Ted Ross <tross@apache.org>
Date: 01/07/2008 03:00:49
Message:
QPID-1160 - Per-thread counters in management API to avoid locking #MsgLength=67


----
Modified: managementgen/generate.py|47 15
Modified: managementgen/schema.py|174 77
Modified: managementgen/templates/Class.cpp|51 5
Modified: managementgen/templates/Class.h|28 5
Modified: src/qpid/broker/Bridge.cpp|9 5
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Exchange.cpp|3 3
Modified: src/qpid/broker/Link.cpp|7 4
Modified: src/qpid/broker/Queue.cpp|4 17
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/Vhost.cpp|1 1
Deleted: src/qpid/management/ManagementAgent.cpp|0 0
Modified: src/qpid/management/ManagementAgent.h|2 0
Modified: src/qpid/management/ManagementBroker.cpp|5 5
Modified: src/qpid/management/ManagementBroker.h|4 2
Modified: src/qpid/management/ManagementObject.cpp|14 0
Modified: src/qpid/management/ManagementObject.h|17 12

Revision: dfbf96ad686f02c536614ef22e8b96d158a1da9a
Author: Gordon Sim <gsim@apache.org>
Date: 01/07/2008 17:10:39
Message:
Added extra option (fixed time limit in rate mode) to latency test. Patch from acme@redhat.com. #MsgLength=98


----
Modified: src/tests/latencytest.cpp|27 10

Revision: e26b7ad9b3cfb23241f922113dacb949d215e23c
Author: Alan Conway <aconway@apache.org>
Date: 02/07/2008 02:01:11
Message:
Added timeout to SubscriptionManager::get(), LocalQueue::get() and BlockingQueue::get() #MsgLength=89


----
Modified: src/qpid/client/LocalQueue.cpp|16 5
Modified: src/qpid/client/LocalQueue.h|16 6
Modified: src/qpid/client/SubscriptionManager.cpp|6 3
Modified: src/qpid/client/SubscriptionManager.h|16 3
Modified: src/qpid/sys/BlockingQueue.h|36 61
Modified: src/qpid/sys/Waitable.h|8 2
Modified: src/tests/ClientSessionTest.cpp|6 2
Deleted: src/tests/ConcurrentQueue.cpp|0 208
Modified: src/tests/cluster_test.cpp|14 27

Revision: 7a19e46525fb2af37ff8ab12b624b6fdd32e2dc0
Author: Gordon Sim <gsim@apache.org>
Date: 02/07/2008 19:11:50
Message:
Improved text and rasied severity of log entry when client sessions are deleted without first being closed. #MsgLength=110


----
Modified: src/qpid/client/SessionImpl.cpp|1 1

Revision: f74bbe1b2af56e92f9978fffc588f6d36060fb31
Author: Ted Ross <tross@apache.org>
Date: 03/07/2008 23:49:48
Message:
QPID-1160 - Use array-style delete for allocated array #MsgLength=55


----
Modified: managementgen/templates/Class.cpp|1 1

Revision: 5d396f640f66d2a731825dff2573a0a55191a430
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2008 00:02:03
Message:
rubygen: Change default for client API accept-mode parameters to 1. #MsgLength=69


----
Modified: rubygen/cppgen.rb|7 0
Modified: rubygen/framing.0-10/Session.rb|2 2

Revision: 622f74f9ae55735d5f2cdd18c64ca07edee3fe2d
Author: Gordon Sim <gsim@apache.org>
Date: 04/07/2008 19:00:52
Message:
Only override default value for accept-mode field in message.transfer (not message.subscribe) #MsgLength=96


----
Modified: rubygen/cppgen.rb|2 2

Revision: b2896e643ceacdbb890b3d9e721d50bf56b5e67f
Author: Gordon Sim <gsim@apache.org>
Date: 04/07/2008 21:14:06
Message:
Allow default values for packed structs to be overridden (currently used for message.transfer.accept-mode) #MsgLength=109


----
Modified: rubygen/framing.0-10/structs.rb|1 1

Revision: 46fbd8c0a74de9833eb4fb2686efb1bc608a1356
Author: Alan Conway <aconway@apache.org>
Date: 05/07/2008 03:07:33
Message:
Cluster prototype: handles client-initiated commands (not dequeues) #MsgLength=650


----
Modified: src/Makefile.am|10 3
Modified: src/cluster.mk|2 1
Modified: src/qpid/Plugin.cpp|2 2
Modified: src/qpid/Url.cpp|2 1
Modified: src/qpid/amqp_0_10/Connection.cpp|5 4
Modified: src/qpid/amqp_0_10/Connection.h|2 1
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/Connection.cpp|6 2
Modified: src/qpid/broker/Connection.h|9 0
Added: src/qpid/broker/ConnectionManager.cpp|41 0
Added: src/qpid/broker/ConnectionManager.h|70 0
Added: src/qpid/broker/SignalHandler.cpp|51 0
Added: src/qpid/broker/SignalHandler.h|47 0
Modified: src/qpid/cluster/Cluster.cpp|84 64
Modified: src/qpid/cluster/Cluster.h|17 6
Modified: src/qpid/cluster/ClusterPlugin.cpp|16 24
Modified: src/qpid/cluster/Cpg.cpp|7 11
Modified: src/qpid/cluster/Cpg.h|12 10
Added: src/qpid/cluster/ShadowConnectionOutputHandler.h|46 0
Modified: src/qpid/framing/Handler.h|1 1
Modified: src/qpid/log/Logger.cpp|7 1
Modified: src/qpid/log/Logger.h|5 0
Modified: src/qpid/log/Options.cpp|1 0
Modified: src/qpid/log/Options.h|1 0
Modified: src/qpid/log/Statement.cpp|2 1
Added: src/qpid/sys/Fork.h|24 0
Modified: src/qpid/sys/Socket.h|2 2
Added: src/qpid/sys/posix/Fork.cpp|132 0
Added: src/qpid/sys/posix/Fork.h|81 0
Modified: src/qpid/sys/posix/Socket.cpp|4 4
Modified: src/qpidd.cpp|2 18
Modified: src/tests/.valgrind.supp|7 0
Modified: src/tests/BrokerFixture.h|2 5
Added: src/tests/ForkedBroker.h|91 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/cluster_test.cpp|37 54
Modified: src/tests/logging.cpp|2 2

Revision: 59934e0505c7a27891e25b2df6ce97947fd7cc41
Author: Alan Conway <aconway@apache.org>
Date: 05/07/2008 04:12:05
Message:
Remove debugging cout accidentally left in. #MsgLength=45


----
Modified: src/qpid/log/Logger.cpp|0 2

Revision: 4a3524cb375db11a1dd9898eca5e3e8d92096f08
Author: Alan Conway <aconway@apache.org>
Date: 05/07/2008 05:14:29
Message:
Disabled cluster_test temporarily, it leaks processes. #MsgLength=56


----
Modified: src/tests/cluster.mk|4 2

Revision: c0b9165c68862f92ab06547206897efc088973e9
Author: Gordon Sim <gsim@apache.org>
Date: 07/07/2008 21:15:39
Message:
Temporarily reverting changes to signal handling; as checked in by r674107 it prevents the broker being shutdown. #MsgLength=116


----
Modified: src/qpidd.cpp|18 2

Revision: 087c73426c10a772fc0baa280322cf618e10a696
Author: Alan Conway <aconway@apache.org>
Date: 07/07/2008 22:01:14
Message:
configure.ac: check for cpg_local_get to exclude older CPG versions. #MsgLength=70


----
Modified: configure.ac|3 5

Revision: f4e2f18040da6bbeee80c68a7fffbab117de93a9
Author: Alan Conway <aconway@apache.org>
Date: 07/07/2008 22:35:50
Message:
Restore  use of SignalHandler in qpidd.cpp, fixed errors in previous commit. #MsgLength=78


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpidd.cpp|6 24

Revision: 5074879c60b6ee4fcfe7fd9a4e693622099dd397
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2008 02:48:29
Message:
ForkedBroker: child process exits on completion. #MsgLength=50


----
Modified: src/tests/ForkedBroker.h|7 1

Revision: c03596719f29da4c748abc7eed0d15ad4ea7db44
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2008 21:54:03
Message:
Fix leak in XmlClientSessionTests - was leaking a Session. #MsgLength=60


----
Modified: src/tests/XmlClientSessionTest.cpp|5 6

Revision: cce390e5cf80810b8a81c2870b33e9cae19e5d30
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2008 21:54:37
Message:
svn:ignore properties. #MsgLength=24


----

Revision: cbe6a1c00661285a08d83a76b93d74322f61b30a
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2008 22:53:51
Message:
* release message lock when notifying queue listeners * take copy of listeners * remove unused functionality #MsgLength=111


----
Modified: src/qpid/broker/Queue.cpp|40 26
Modified: src/qpid/broker/Queue.h|13 3

Revision: 78cece9c21844bea2ec876c4cb25707f04832596
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2008 23:22:37
Message:
Removed static Cpg::handlers, fixed ForkedBroker shutdown. #MsgLength=60


----
Modified: src/qpid/cluster/Cluster.cpp|1 0
Modified: src/qpid/cluster/Cpg.cpp|13 39
Modified: src/qpid/cluster/Cpg.h|6 10
Modified: src/tests/ForkedBroker.h|23 10
Modified: src/tests/cluster_test.cpp|10 0

Revision: 7fb0d098e20d4f4fd23ea2df9e9a171c80b5c965
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2008 23:56:04
Message:
QPID-1148 - from Manuel Tiera Lock file abstraction in sys/ with implementation portable to Linux and Solaris. #MsgLength=567


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/DataDir.cpp|6 18
Modified: src/qpid/DataDir.h|3 1
Modified: src/qpid/Exception.h|7 1
Modified: src/qpid/broker/Daemon.cpp|15 53
Added: src/qpid/sys/LockFile.h|27 0
Modified: src/qpid/sys/posix/Fork.cpp|9 14
Added: src/qpid/sys/posix/LockFile.h|58 0

Revision: 72ce83fa834fa8320e0a03f4792a0a9dd2e4cd70
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 03:03:52
Message:
Revert un-necessary Plugin complications. Better solution for plugin extension points coming up... #MsgLength=100


----
Modified: src/qpid/Plugin.cpp|19 36
Modified: src/qpid/Plugin.h|46 91
Modified: src/qpid/broker/Broker.cpp|12 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|20 28
Modified: src/qpid/sys/TCPIOPlugin.cpp|14 12
Modified: src/qpidd.cpp|1 1
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/cluster_test.cpp|1 1

Revision: f18888ce08cdbd637d28e4626b8fb32056b5826a
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 04:52:10
Message:
Fix packaging error. #MsgLength=22


----
Modified: src/tests/Makefile.am|1 2

Revision: 56ce9ef3e8ef3ffef989bd9ffc5a018b82f0f266
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 05:01:36
Message:
Remove unused Serializer code. #MsgLength=32


----
Modified: src/Makefile.am|0 3
Modified: src/qpid/broker/Queue.h|0 1
Deleted: src/qpid/framing/SerializeHandler.h|0 49
Deleted: src/qpid/sys/Serializer.cpp|0 71
Deleted: src/qpid/sys/Serializer.h|0 181
Deleted: src/tests/Serializer.cpp|0 157

Revision: 2472b9aa4251cf8eadad0741a9f392d1839590ad
Author: Ted Ross <tross@apache.org>
Date: 09/07/2008 05:54:20
Message:
QPID-1170 - Remove boost dependency from management agent interface #MsgLength=68


----
Modified: managementgen/generate.py|2 1
Modified: managementgen/templates/Class.cpp|1 1
Modified: managementgen/templates/Class.h|0 1
Modified: managementgen/templates/Package.cpp|1 1
Modified: managementgen/templates/Package.h|2 2
Modified: qpidc.spec.in|1 0
Modified: src/Makefile.am|1 1
Added: src/qpid/agent/ManagementAgent.h|116 0
Modified: src/qpid/broker/Bridge.cpp|10 11
Modified: src/qpid/broker/Bridge.h|5 5
Modified: src/qpid/broker/Broker.cpp|6 6
Modified: src/qpid/broker/Broker.h|7 8
Modified: src/qpid/broker/Connection.cpp|13 13
Modified: src/qpid/broker/Connection.h|2 2
Modified: src/qpid/broker/DirectExchange.cpp|10 10
Modified: src/qpid/broker/Exchange.cpp|22 25
Modified: src/qpid/broker/Exchange.h|4 4
Modified: src/qpid/broker/FanOutExchange.cpp|8 8
Modified: src/qpid/broker/HeadersExchange.cpp|8 8
Modified: src/qpid/broker/Link.cpp|13 14
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/Queue.cpp|22 22
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/SessionManager.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|9 9
Modified: src/qpid/broker/SessionState.h|2 2
Modified: src/qpid/broker/System.cpp|5 6
Modified: src/qpid/broker/System.h|2 2
Modified: src/qpid/broker/TopicExchange.cpp|8 8
Modified: src/qpid/broker/Vhost.cpp|5 6
Modified: src/qpid/broker/Vhost.h|2 2
Modified: src/qpid/broker/XmlExchange.cpp|10 8
Modified: src/qpid/management/Manageable.h|2 3
Deleted: src/qpid/management/ManagementAgent.h|0 53
Modified: src/qpid/management/ManagementBroker.cpp|31 18
Modified: src/qpid/management/ManagementBroker.h|16 13
Modified: src/qpid/management/ManagementObject.cpp|1 1
Modified: src/qpid/management/ManagementObject.h|1 3

Revision: a88e34968235ec73750568bcd86da433e275dc0f
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 06:58:37
Message:
HandlerChain: plug-in handler chain extension points. Replaces Handler<T>::Chain. Updated Sessoin & Connection handler chains and Cluster. #MsgLength=140


----
Modified: src/Makefile.am|1 2
Added: src/qpid/HandlerChain.h|97 0
Modified: src/qpid/Plugin.cpp|21 0
Modified: src/qpid/Plugin.h|22 6
Modified: src/qpid/amqp_0_10/Connection.cpp|4 4
Modified: src/qpid/amqp_0_10/Connection.h|1 2
Modified: src/qpid/broker/Broker.h|0 3
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Connection.h|2 4
Deleted: src/qpid/broker/ConnectionManager.cpp|0 41
Deleted: src/qpid/broker/ConnectionManager.h|0 70
Modified: src/qpid/broker/SessionManager.cpp|1 8
Modified: src/qpid/broker/SessionManager.h|0 13
Modified: src/qpid/broker/SessionState.cpp|2 6
Modified: src/qpid/broker/SessionState.h|9 5
Modified: src/qpid/cluster/Cluster.cpp|6 27
Modified: src/qpid/cluster/Cluster.h|6 4
Modified: src/qpid/cluster/ClusterPlugin.cpp|9 4
Modified: src/qpid/framing/Handler.h|2 22
Modified: src/tests/cluster_test.cpp|24 2

Revision: f26a2509e71b94cb2d61fc14e6271b9813a4ad40
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 20:32:48
Message:
Fix for older boost versions #MsgLength=29


----
Modified: src/qpid/HandlerChain.h|1 1

Revision: 155d48c3c96a342931c74a3807b6ae4cfa324052
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 20:36:21
Message:
Fix signed/unsigned compare error #MsgLength=34


----
Modified: src/tests/cluster_test.cpp|1 1

Revision: 973280de8e9f62a60daa3de94b8998135ad7ee40
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2008 21:12:03
Message:
Removed dead code. #MsgLength=20


----
Modified: src/qpid/broker/SemanticState.cpp|1 13
Modified: src/qpid/broker/SemanticState.h|0 2

Revision: 766e7a7edba2daec72359faea3fd6152511a0373
Author: Gordon Sim <gsim@apache.org>
Date: 10/07/2008 00:52:20
Message:
Allow for pluggable exchange types. #MsgLength=40


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|12 1
Modified: src/qpid/broker/ExchangeRegistry.h|16 5

Revision: e75d049dcdf263ea03d1df5784132932e0132103
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/07/2008 04:36:17
Message:
Some small changes which clean up header file inclusions and generally start to tidy up the network layer so that it's a bit easier to implement new network transports #MsgLength=169


----
Modified: src/qpid/client/Connection.h|0 1
Modified: src/qpid/client/ConnectionImpl.cpp|11 10
Modified: src/qpid/client/ConnectionImpl.h|3 2
Modified: src/qpid/client/Connector.h|9 4
Modified: src/qpid/sys/AsynchIO.h|20 17
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 0
Modified: src/qpid/sys/AsynchIOHandler.h|6 2
Modified: src/qpid/sys/ProtocolFactory.h|3 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|2 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 0

Revision: 95139a528e06bc7378e11e778243bab395900eb9
Author: Gordon Sim <gsim@apache.org>
Date: 10/07/2008 16:39:10
Message:
Honour timeout in BlockingQueue::pop(); added test for SubscriptionManager::get() where no message exists. #MsgLength=110


----
Modified: src/qpid/sys/BlockingQueue.h|1 1
Modified: src/tests/ClientSessionTest.cpp|1 0

Revision: ba0b9cace9ffe57a2ad6e4617e754a736ffac339
Author: Ted Ross <tross@apache.org>
Date: 11/07/2008 02:46:28
Message:
Move shutdown of management broker to end of shutdown sequence #MsgLength=63


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: b258dcf61289ec2fc7d5e7fe651b8c10e7dca288
Author: Ted Ross <tross@apache.org>
Date: 12/07/2008 04:14:07
Message:
QPID-1174 Remote Management Agent for management of external components #MsgLength=72


----
Added: examples/qmf-agent/Makefile|85 0
Added: examples/qmf-agent/example.cpp|97 0
Added: examples/qmf-agent/schema.xml|57 0
Modified: managementgen/main.py|0 6
Modified: managementgen/schema.py|2 3
Modified: managementgen/templates/Package.cpp|1 1
Modified: src/Makefile.am|4 2
Added: src/qpid/agent/ManagementAgentImpl.cpp|426 0
Added: src/qpid/agent/ManagementAgentImpl.h|157 0
Modified: src/qpid/management/ManagementBroker.cpp|163 38
Modified: src/qpid/management/ManagementBroker.h|25 19

Revision: 96fc6211fbaeb07d450937cd748c2ed3af4bb3d1
Author: Alan Conway <aconway@apache.org>
Date: 15/07/2008 22:59:37
Message:
Switched from shared_ptr to intrusive_ptr and RefCounted for Broker. #MsgLength=70


----
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpid/broker/Broker.h|5 3
Modified: src/qpid/broker/BrokerSingleton.cpp|2 2
Modified: src/qpid/broker/BrokerSingleton.h|2 2
Modified: src/qpid/broker/SignalHandler.cpp|3 3
Modified: src/qpid/broker/SignalHandler.h|3 3
Modified: src/qpidd.cpp|2 2
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/ForkedBroker.h|3 3

Revision: e777cafe9fce40cb23c809451ebd219feb06b886
Author: Alan Conway <aconway@apache.org>
Date: 16/07/2008 00:49:25
Message:
Fix "ignoring return value" warning from LockFile.h. #MsgLength=54


----
Modified: src/qpid/sys/posix/LockFile.h|1 1

Revision: 8d903ae33437776b83314d9761b3e6e2e363d34d
Author: Ted Ross <tross@apache.org>
Date: 17/07/2008 04:25:12
Message:
QPID-1170 - Provide a better factory for creation and deletion of the management agent #MsgLength=87


----
Modified: examples/qmf-agent/example.cpp|2 1
Modified: src/qpid/agent/ManagementAgent.h|13 2
Modified: src/qpid/agent/ManagementAgentImpl.cpp|28 6
Modified: src/qpid/agent/ManagementAgentImpl.h|2 2
Modified: src/qpid/broker/Bridge.cpp|3 4
Modified: src/qpid/broker/Broker.cpp|5 5
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|4 4
Modified: src/qpid/broker/Link.cpp|4 5
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/management/ManagementBroker.cpp|64 45
Modified: src/qpid/management/ManagementBroker.h|2 5

Revision: 94f17ef5497395f6cdbc196d68bcd7002c1b60f7
Author: Ted Ross <tross@apache.org>
Date: 17/07/2008 04:30:23
Message:
QPID-1170 - Removed spurious include from example #MsgLength=50


----
Modified: examples/qmf-agent/example.cpp|0 1

Revision: d3a9ef54e4725ef8b074d3d1e440db9e8ff66ed3
Author: Alan Conway <aconway@apache.org>
Date: 17/07/2008 08:03:50
Message:
Cluster: shadow connections, fix lifecycle & valgrind issues. - tests/ForkedBroker: improved broker forking, exec full qpidd. - Plugin::addFinalizer - more flexible way to shutdown plugins. - Reworked cluster extension points using boost::function. #MsgLength=253


----
Modified: src/Makefile.am|0 1
Modified: src/cluster.mk|2 0
Deleted: src/qpid/HandlerChain.h|0 97
Modified: src/qpid/Options.cpp|1 1
Modified: src/qpid/Options.h|1 1
Modified: src/qpid/Plugin.cpp|11 6
Modified: src/qpid/Plugin.h|20 16
Modified: src/qpid/RefCounted.h|0 19
Modified: src/qpid/amqp_0_10/Connection.cpp|4 4
Modified: src/qpid/amqp_0_10/Connection.h|5 5
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Connection.cpp|13 10
Modified: src/qpid/broker/Connection.h|16 12
Modified: src/qpid/broker/ConnectionState.h|2 0
Modified: src/qpid/broker/SessionState.cpp|3 14
Modified: src/qpid/broker/SessionState.h|0 10
Modified: src/qpid/cluster/Cluster.cpp|93 102
Modified: src/qpid/cluster/Cluster.h|27 26
Modified: src/qpid/cluster/ClusterPlugin.cpp|47 27
Added: src/qpid/cluster/ConnectionInterceptor.cpp|82 0
Added: src/qpid/cluster/ConnectionInterceptor.h|77 0
Modified: src/qpid/cluster/Cpg.cpp|4 4
Modified: src/qpid/cluster/Cpg.h|1 0
Modified: src/qpid/framing/Handler.h|1 1
Modified: src/tests/ForkedBroker.h|49 51
Modified: src/tests/cluster.mk|2 3
Modified: src/tests/cluster_test.cpp|67 26
Modified: src/tests/run_test|3 1
Modified: xml/cluster.xml|6 4

Revision: bdc504c9ab57554f396020530ad0059d8b2752a0
Author: Alan Conway <aconway@apache.org>
Date: 17/07/2008 10:06:50
Message:
Enable dequeue for prototype cluster - qpid/broker/SemanticState.cpp: moved doOutput into write idle callback. - qpid/broker/Connection.cpp: make doOutput an intercept point. - qpid/cluster/*: intercept doOutput to serialize output in cluster thread. #MsgLength=255


----
Modified: src/qpid/broker/Connection.cpp|4 2
Modified: src/qpid/broker/Connection.h|3 1
Modified: src/qpid/broker/SemanticState.cpp|7 3
Modified: src/qpid/cluster/Cluster.cpp|4 0
Modified: src/qpid/cluster/ConnectionInterceptor.cpp|15 0
Modified: src/qpid/cluster/ConnectionInterceptor.h|11 10
Modified: src/tests/cluster_test.cpp|6 9
Modified: xml/cluster.xml|4 2

Revision: 28ff9c93b54938cd38bd10a91ec5385c1609ea01
Author: Gordon Sim <gsim@apache.org>
Date: 23/07/2008 17:28:11
Message:
Fixes for transactional perftest (merge of r679038 from qpid.0-10) #MsgLength=69


----
Modified: src/tests/perftest.cpp|4 4

Revision: fd762f854a37303496c83b8abd7b6aa2cc11f54c
Author: Gordon Sim <gsim@apache.org>
Date: 23/07/2008 17:40:49
Message:
QPID-1183: Use the right sizes to insert data inside the message payload where sizeof(size_t) != sizeof(uint32_t). Patch from Manuel Teira. #MsgLength=142


----
Modified: src/tests/perftest.cpp|3 3

Revision: 1d70fe00e409bba3d32613f15a74efb1bdbaa373
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/07/2008 12:42:51
Message:
Refactor to change client connector state machine to be held in ConnectionHandler #MsgLength=83


----
Modified: src/qpid/client/ConnectionHandler.cpp|11 0
Modified: src/qpid/client/ConnectionHandler.h|4 0
Modified: src/qpid/client/ConnectionImpl.cpp|5 15
Modified: src/qpid/client/ConnectionImpl.h|0 3

Revision: 452446d768d92adb665252b22d90e49f4bce0eb9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/07/2008 13:31:07
Message:
Refactored so that Dispatcher is now independent from DispatchHandle #MsgLength=70


----
Modified: src/qpid/sys/Dispatcher.cpp|3 5
Modified: src/qpid/sys/Dispatcher.h|1 1
Modified: src/qpid/sys/Poller.h|30 22

Revision: 5f2d78f8c76ade95d24ad0e75976776cd102a790
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 01:31:43
Message:
Allow configurable default size limit to be set for queues (merged from r679462). #MsgLength=84


----
Modified: src/qpid/broker/Broker.cpp|7 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/QueuePolicy.cpp|11 8
Modified: src/qpid/broker/QueuePolicy.h|4 0

Revision: e0c131134c691bc114348f91ff035f1814d1468d
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 16:23:18
Message:
QPID-447: Patch from David Sommerseth merged from r679689. #MsgLength=61


----
Modified: src/tests/topic_listener.cpp|14 4
Modified: src/tests/topic_publisher.cpp|22 4

Revision: 737579c9f9011caa602dc4086c84050207226b5b
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 17:04:26
Message:
QPID-1154, QPID-1155 & QPID-1156: Patches from Steve Huston to fix various minor compiler errors. #MsgLength=100


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|3 2
Modified: src/qpid/framing/Blob.h|1 1
Modified: src/tests/InlineVector.cpp|2 2

Revision: f3e07e4c4f50a146d62c0bca32cb69b1c012fec1
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 18:16:22
Message:
Fixed bug in SubscriptionManager::get() where flush was issued before waiting and if message showed up after flush completed but before wait was finished there was no credit (due to flush) to deliver it to the waiting client. Added test for thise case. #MsgLength=255


----
Modified: src/qpid/client/SubscriptionManager.cpp|4 1
Modified: src/tests/ClientSessionTest.cpp|20 0

Revision: 87d37008ef10fc80acff41fd6f288550900bb510
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 18:51:46
Message:
Exclude core verify script from verifications run when python examples cannot be found. #MsgLength=90


----
Modified: examples/verify_all|1 1

Revision: 899857d7f82a83e5a352bd3650f93db6aeb356b7
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 21:50:32
Message:
Only reduce count and size maintained for queue plicy when messages are actually dequeued (i.e. acked). #MsgLength=106


----
Modified: src/qpid/broker/Queue.cpp|38 30
Modified: src/qpid/broker/Queue.h|6 3
Modified: src/qpid/broker/QueuePolicy.cpp|15 0
Modified: src/qpid/broker/QueuePolicy.h|2 0
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/tests/QueueTest.cpp|4 4
Modified: src/tests/TxPublishTest.cpp|2 2

Revision: 6e3c86bbbd383b86b18f2832cf711d6af568526d
Author: Gordon Sim <gsim@apache.org>
Date: 25/07/2008 22:54:44
Message:
Reduce the size of messages in fanout perftest to keep the queues from getting too large. #MsgLength=92


----
Modified: src/tests/fanout_perftest|1 1

Revision: e02a41fb576d983706e4fc4ed751a0f63225f8f5
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2008 18:51:11
Message:
Remove unused Module.h header file. #MsgLength=38


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/MessageStoreModule.h|0 2
Deleted: src/qpid/sys/Module.h|0 50

Revision: 718c386dcd7d54c29d72ed82095acda6b7cccdd9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/07/2008 00:45:26
Message:
Refactor of EpollPoller to make PollerHandler lifecycle easier #MsgLength=64


----
Modified: src/qpid/sys/Dispatcher.cpp|2 2
Modified: src/qpid/sys/Poller.h|1 7
Modified: src/qpid/sys/epoll/EpollPoller.cpp|38 16

Revision: c86f8b2b7faca0c961c5565711c0aee0eed8baff
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/07/2008 21:32:29
Message:
Fix for client busy looping whilst waiting for a message #MsgLength=58


----
Modified: src/qpid/sys/BlockingQueue.h|6 2

Revision: 94e0707f071e01856fc03d8e3604a42834d1135a
Author: Ted Ross <tross@apache.org>
Date: 30/07/2008 02:31:25
Message:
QPID-1153 - Patch from Steve Huston #MsgLength=36


----
Modified: managementgen/schema.py|10 10

Revision: ca42e38e108c066b6c441e36e5c7efc9e3f02a70
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:25:49
Message:
QPID-1198: (Partial) Fix test shell scripts to work with /bin/sh Patches from Manuel Teira. These scripts have #!/bin/sh but they were previously really dependent on bash. #MsgLength=173


----
Modified: src/tests/python_tests|1 1
Modified: src/tests/run_federation_tests|10 4
Modified: src/tests/stop_broker|4 3

Revision: b0906dea5be953ed2a4113c01c9b7444861839da
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:26:32
Message:
QPID-1198 (Partial): Added explicit namespaces that the Sun C++ requires (that gcc doesn't) Patches from Manuel Teira. It's not clear at this point whether there is a compiler problem with gcc that it does find the symbols in the namespaces or SunCC that it doesn't! #MsgLength=268


----
Modified: src/qpid/broker/DtxWorkRecord.cpp|3 3
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/TopicExchange.cpp|1 1
Modified: src/qpid/broker/TxBuffer.cpp|2 2
Modified: src/qpid/framing/FrameSet.h|3 3
Modified: src/tests/ClientSessionTest.cpp|20 22

Revision: 0aaa5e1b202903160e89fe005a76df1bd317967a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:26:46
Message:
QPID-1198 (Partial): replace all uses of u_intX_t with uintX_t Patches from Manuel Teira. The u_int* versions are not available in the Sun header files. In any case using only uint* is more consistent #MsgLength=202


----
Modified: src/qpid/broker/MessageDelivery.cpp|4 4
Modified: src/qpid/broker/MessageDelivery.h|2 2
Modified: src/qpid/broker/MessageStore.h|1 1
Modified: src/qpid/broker/MessageStoreModule.cpp|1 1
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|3 3
Modified: src/qpid/client/SessionImpl.cpp|5 5

Revision: 2e553af2b13044d591626ca38f0ad7e3be27825e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:26:53
Message:
QPID-1198 (Partial): Add #include <alloca.h> for all uses of ::alloca() Patches from Manuel Teira. #MsgLength=100


----
Modified: src/tests/FieldTable.cpp|1 0
Modified: src/tests/MessageTest.cpp|1 0
Modified: src/tests/Uuid.cpp|1 0

Revision: d7036a7ec1ce716379226040977a81efb1fdbfba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:27:08
Message:
QPID-1198 (Partial): Missing header files that are really needed Patches from Manuel Teira. Compilation works on Linux due to implicit header inclusions but fails on Solaris Some tightening up of std and global namespace use. #MsgLength=227


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 0
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 1
Modified: src/qpid/sys/posix/Fork.h|1 0
Modified: src/qpid/sys/posix/Socket.cpp|1 1
Modified: src/qpid/sys/posix/Time.cpp|1 0
Modified: src/qpid/sys/posix/check.h|2 1

Revision: e85ecc90646ddf6a8846610a1b24e3f4d94e42c2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:27:15
Message:
Small comment tidy #MsgLength=20


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|0 1

Revision: abde855c03336371422ba7a1ce50b297e64a86cd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 04:27:28
Message:
Removed unused functions Removed unused Thread and Socket functions - These functions also cause problems with Solaris compilations Remove unused client connector functionality #MsgLength=178


----
Modified: src/qpid/client/ConnectionImpl.cpp|0 1
Modified: src/qpid/client/Connector.cpp|0 49
Modified: src/qpid/client/Connector.h|0 6
Modified: src/qpid/sys/Socket.h|1 11
Modified: src/qpid/sys/posix/Socket.cpp|0 25
Modified: src/qpid/sys/posix/Thread.h|4 8

Revision: 03722cdf5b388e7a5a4cd12b05669009dcc96412
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 14:28:53
Message:
Removed errno from a default parameter as I'm not convinced that this is always portable as errno could be a macro #MsgLength=116


----
Modified: src/qpid/Exception.h|3 2

Revision: 22a16fea33468d3067a56c2dee646dc13992e949
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 14:29:00
Message:
QPID-1198 (adapted): Change use of uuid lib not to assume const parameters The Solaris version of uuid.h takes uint8_t* not const uint8_t* #MsgLength=140


----
Modified: src/qpid/framing/Uuid.cpp|2 2
Modified: src/qpid/framing/Uuid.h|9 5

Revision: b2a8b4eb8e501638445ea3c6b9ea9875d9732992
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 14:29:16
Message:
Related to QPID-1198: Moved posix platform specific "strerror" code to platform specific directory #MsgLength=100


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/Exception.cpp|0 6
Modified: src/qpid/Exception.h|3 5
Modified: src/qpid/Url.cpp|1 1
Added: src/qpid/sys/StrError.h|35 0
Added: src/qpid/sys/posix/StrError.cpp|44 0
Modified: src/qpid/sys/posix/check.h|2 1
Modified: src/tests/SocketProxy.h|1 1

Revision: 7104cc8f8c32db27b39dfa01e22cc7e589e5c664
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2008 14:29:51
Message:
QPID-1198: Solaris ECF (port) based Poller Patch from Manuel Teira #MsgLength=68


----
Modified: configure.ac|68 25
Modified: src/Makefile.am|9 2
Added: src/qpid/sys/solaris/ECFPoller.cpp|301 0

Revision: 9198c708aad0ecddd95913412c06e3f6a049f572
Author: Gordon Sim <gsim@apache.org>
Date: 30/07/2008 16:39:46
Message:
Merged r680937. Added error handling for case where socket cannot be accepted e.g. due to constraints on file handles. #MsgLength=121


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|10 5

Revision: 57c5bce57c1047400f5d7a246089796b39d6fecb
Author: Gordon Sim <gsim@apache.org>
Date: 31/07/2008 02:25:14
Message:
QPID-1162: added patches and additions required to build against boost 1.32. These are not deemed desirable for direct application to the trunk, but can be used to simply update an svn checkout for compilation against that boost version. #MsgLength=286


----
Added: boost-1.32-support/Makefile|10 0
Added: boost-1.32-support/README|8 0
Added: boost-1.32-support/boost.tar.gz|0 0
Added: boost-1.32-support/main.patch|130 0

Revision: becefb64dd45f7553ad10f092bbf9f38b2175c83
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/07/2008 04:21:23
Message:
The previous attempt to only get an xpg strerror_r with the GNU failed instead use the definition of _GNU_SOURCE as a proxy for the gnu version #MsgLength=145


----
Modified: src/qpid/sys/posix/StrError.cpp|7 10

Revision: 20f26b7e559626a4e8aba33f6332aba94e07ab78
Author: Ted Ross <tross@apache.org>
Date: 31/07/2008 21:15:16
Message:
QPID-1174 - Management updates for remote agents #MsgLength=49


----
Modified: examples/qmf-agent/Makefile|9 7
Modified: examples/qmf-agent/example.cpp|85 11
Modified: managementgen/schema.py|3 3
Modified: managementgen/templates/Class.h|3 3
Modified: src/qpid/agent/ManagementAgentImpl.cpp|75 22
Modified: src/qpid/agent/ManagementAgentImpl.h|4 0
Modified: src/qpid/broker/Link.cpp|1 2
Modified: src/qpid/management/ManagementBroker.cpp|60 116
Modified: src/qpid/management/ManagementBroker.h|2 4
Modified: src/qpid/management/ManagementExchange.cpp|8 9
Modified: src/qpid/management/ManagementObject.h|2 2

Revision: af7ff71b876c5213d8e60d4aa313a91b23f1150f
Author: Gordon Sim <gsim@apache.org>
Date: 01/08/2008 00:14:35
Message:
Fixed for 64bit systems #MsgLength=26


----
Modified: src/qpid/management/ManagementBroker.cpp|1 1

Revision: af8a961f5274649385dd4552f053681e37b88d26
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 04:45:44
Message:
- Implementation of ACL plugin - Apply ACL to Exchange, Queue, Binding, Subscribe - Follow Java ACL types, few added #MsgLength=283


----
Modified: src/Makefile.am|2 0
Added: src/qpid/acl/Acl.cpp|105 0
Added: src/qpid/acl/Acl.h|75 0
Added: src/qpid/acl/AclPlugin.cpp|89 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|30 21
Modified: src/qpid/broker/SessionAdapter.cpp|103 0

Revision: d530a60c819b75fdd3c59062bd5dd181dd6361c6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 04:52:56
Message:
missing file #MsgLength=13


----
Added: src/acl.mk|13 0

Revision: 3be519af305aeb2d63d634057b93cdd3a5d4af40
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 05:02:09
Message:
small cleanup #MsgLength=14


----
Modified: src/qpid/acl/Acl.cpp|0 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 1

Revision: acd57679afff05b8ad3f08ed75c6bb2398e7a30a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 05:04:07
Message:
another missing file #MsgLength=21


----
Added: src/qpid/broker/AclModule.h|57 0

Revision: 4b35fc3d4affb039f67a27e6022432802c4b7bf4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 05:25:20
Message:
header file fix fr build #MsgLength=25


----
Modified: src/qpid/acl/Acl.cpp|3 1

Revision: c579bcb27dc1540f7c1d9b237e47ce372e1c00ef
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 05:43:37
Message:
attempt to fix spec file #MsgLength=25


----
Modified: qpidc.spec.in|3 0
Modified: src/qpid/acl/Acl.cpp|1 1

Revision: 08baf924967b30b08eb86dfe669192c87aca697d
Author: Ted Ross <tross@apache.org>
Date: 01/08/2008 05:58:39
Message:
Added signed integer datatypes for use in management schemas #MsgLength=61


----
Modified: src/qpid/framing/Buffer.cpp|32 0
Modified: src/qpid/framing/Buffer.h|8 0
Modified: src/qpid/management/ManagementObject.h|4 0

Revision: 5858aeb8fd1ebff3a26d7bd54af82ff18f7e33f3
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2008 21:40:56
Message:
- Add support for ACL on message transfer - Performance optimizations for ACL on message transfer #MsgLength=100


----
Modified: src/qpid/acl/Acl.cpp|22 3
Modified: src/qpid/acl/Acl.h|11 5
Modified: src/qpid/broker/AclModule.h|7 1
Modified: src/qpid/broker/SemanticState.cpp|9 1
Modified: src/qpid/broker/SemanticState.h|3 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 3

Revision: 801a833fd0b49195c16e4f8188b021a33eb1065d
Author: Ted Ross <tross@apache.org>
Date: 01/08/2008 22:41:49
Message:
Make md5-hash of table recursively include data from referenced groups #MsgLength=71


----
Modified: managementgen/schema.py|1 0

Revision: 09caa198fba98a4660ae4efc765a1b80dc1e8909
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/08/2008 23:36:10
Message:
Removed typedefs which were generating ignored warnings on gcc 4.3 compiler. #MsgLength=77


----
Modified: src/qpid/broker/AclModule.h|3 3

Revision: c345592acbfb33fab05163abfe5a58ddd80feac2
Author: Ted Ross <tross@apache.org>
Date: 02/08/2008 02:36:25
Message:
QPID-1174 - Clean up agent objects when the remote agent disconnects #MsgLength=69


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|0 1
Modified: src/qpid/management/ManagementBroker.cpp|51 19
Modified: src/qpid/management/ManagementBroker.h|6 3

Revision: e51ad1897b805e17c8bb3ba067db62f52ab2c9ed
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/08/2008 05:07:20
Message:
Initial framework for ACL reader #MsgLength=33


----
Modified: src/acl.mk|2 0
Modified: src/qpid/acl/Acl.cpp|15 2
Modified: src/qpid/acl/Acl.h|3 2
Modified: src/qpid/acl/AclPlugin.cpp|4 0
Added: src/qpid/acl/AclReader.cpp|73 0
Added: src/qpid/acl/AclReader.h|45 0

Revision: 119eef29d0dd4b9b94b08b6ad5b43937072ede51
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 04/08/2008 22:45:53
Message:
updated ais instructions #MsgLength=25


----
Modified: INSTALL|8 2

Revision: 2795254bb9c4dcb12f4293f158b564f99f9c6617
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 04/08/2008 23:15:17
Message:
correc version number #MsgLength=22


----
Modified: INSTALL|1 1

Revision: 9b18fd91a2b1eaf05ff4a0ccd2275f24ce4413a4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/08/2008 20:14:31
Message:
Modified error checking on TCP socket read so that it's no longer fatal #MsgLength=73


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|5 1

Revision: 0a5efa76980c3fb7f48c6d15e40c55f6faea0799
Author: Ted Ross <tross@apache.org>
Date: 05/08/2008 21:39:04
Message:
QPID-1214 - Committed William's patch #MsgLength=38


----
Modified: src/qpid/broker/Queue.cpp|20 5
Modified: src/qpid/broker/Queue.h|2 1

Revision: 0e41d8fe5493e888a1897b83521a89b61a7cf63c
Author: Ted Ross <tross@apache.org>
Date: 05/08/2008 21:39:34
Message:
Removed spurious print #MsgLength=23


----
Modified: src/qpid/management/ManagementBroker.cpp|0 1

Revision: 82b0d09ca57d6761c01410d6efb4bd84f595001b
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2008 00:24:25
Message:
Fix sporadic shutdown hang in clustered broker. Add start|stop_cluster test scripts #MsgLength=85


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|16 22
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/tests/cluster.mk|1 1
Added: src/tests/start_cluster|23 0
Added: src/tests/stop_cluster|13 0

Revision: 69c8e9096bb15f3c37bc69952581f30e488ff8a1
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2008 01:03:16
Message:
* revised approach for setting tcp-nodelay on client to avoid breaking platform abstractions * added ability to set tcp-nodelay on server side of the socket also #MsgLength=186


----
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/client/ConnectionSettings.cpp|4 8
Modified: src/qpid/client/ConnectionSettings.h|9 4
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/sys/Socket.h|1 7
Modified: src/qpid/sys/TCPIOPlugin.cpp|10 4
Modified: src/qpid/sys/posix/Socket.cpp|7 2

Revision: 362206e790243b80f06cd305587486a795419835
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2008 03:29:09
Message:
Fix Cluster::send encode race. #MsgLength=32


----
Modified: src/qpid/broker/Daemon.cpp|1 1
Modified: src/qpid/client/Connector.cpp|0 4
Modified: src/qpid/cluster/Cluster.cpp|3 4
Modified: src/qpid/cluster/Cluster.h|0 1
Modified: src/tests/cluster_test.cpp|26 1

Revision: ab3775cfca1820f24de2b492ede6700bb4765cc2
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/08/2008 05:54:15
Message:
Added actions for ACL on mgnt actions #MsgLength=38


----
Modified: src/qpid/acl/Acl.cpp|4 0
Modified: src/qpid/broker/AclModule.h|2 2

Revision: f68475f452e751c0bf3e23560c7b9d5a40d39b3d
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 06/08/2008 10:26:22
Message:
correct action on purge & remove ROUTINGKEY type #MsgLength=49


----
Modified: src/qpid/acl/Acl.cpp|0 1
Modified: src/qpid/broker/AclModule.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 1

Revision: 066e3adc1328cc7f649d1b0f14deee34a03f88d5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2008 04:56:19
Message:
Refactor Thread platform code so that the implementation is completely decoupled from its interface #MsgLength=101


----
Modified: src/qpid/sys/Thread.h|28 5
Modified: src/qpid/sys/posix/Thread.cpp|48 2
Deleted: src/qpid/sys/posix/Thread.h|0 88

Revision: 7bd117f2b22c23a3797e26590a1e87dea98fa03b
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2008 05:17:19
Message:
 - Added OutputTask::hasOutput() test. - Cluster only sends doOutput events when hasOutput() #MsgLength=95


----
Modified: src/qpid/broker/Connection.cpp|2 0
Modified: src/qpid/broker/Connection.h|1 0
Modified: src/qpid/broker/Queue.cpp|5 1
Modified: src/qpid/broker/Queue.h|5 1
Modified: src/qpid/broker/SemanticState.cpp|5 0
Modified: src/qpid/broker/SemanticState.h|2 0
Modified: src/qpid/cluster/ConnectionInterceptor.cpp|6 5
Modified: src/qpid/sys/AggregateOutput.cpp|6 0
Modified: src/qpid/sys/AggregateOutput.h|1 0
Modified: src/qpid/sys/OutputTask.h|10 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/cluster_test.cpp|3 2
Added: src/tests/restart_cluster|18 0

Revision: c5f609f28305558ae483bb5febf04374f2f57372
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2008 16:52:33
Message:
Remove reference to deleted sys/posix/Thread.h #MsgLength=49


----
Modified: src/Makefile.am|0 1

Revision: 80f4a245cef2e99d8596577836c487fffbcfd728
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2008 19:33:08
Message:
Updated suppressions for changes to Thread #MsgLength=45


----
Modified: boost-1.32-support/main.patch|142 3

Revision: 3b0fd78023fe31f0b0fd907bd7e3423665cc07b1
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2008 20:03:06
Message:
Removed recursive patch to patch #MsgLength=35


----
Modified: boost-1.32-support/main.patch|0 123

Revision: 7fc361970ba996db984e3119034243c26d4327a3
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2008 21:45:24
Message:
Patch from Gordon Sim to fix issues with hasOutput implementation. #MsgLength=68


----
Modified: src/qpid/broker/Queue.cpp|23 2
Modified: src/qpid/broker/Queue.h|8 4
Modified: src/qpid/broker/SemanticState.cpp|1 2

Revision: 94f6fd629dece91cea23f5e40b8dc3880397f9fc
Author: Ted Ross <tross@apache.org>
Date: 07/08/2008 21:56:47
Message:
On broker shutdown, re-join the timer thread outside of a locked scope to prevent deadlock. #MsgLength=92


----
Modified: src/qpid/management/ManagementBroker.cpp|17 15

Revision: 1d5b6087309303775c9aa36d3eced65dcce933e4
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2008 04:46:18
Message:
Check CPG flow control. #MsgLength=25


----
Modified: src/qpid/cluster/Cpg.cpp|40 0
Modified: src/qpid/cluster/Cpg.h|7 15
Modified: src/tests/ForkedBroker.h|1 1

Revision: 5348aa6beba76ae0b1915bd90ea325f9b11e51f5
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2008 23:56:39
Message:
Added some extra info to example doc for xml exchange. #MsgLength=57


----
Modified: examples/xml-exchange/README|5 0

Revision: c5ef75eeee1383259a3852903034dda4bc1f17dc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/08/2008 00:00:43
Message:
Decouple the DispatchHandle from its clients by using a DispatchHandleRef class which can be deleted at any time, but will only cause the DispatchHandle to be deleted later when it's definitely no longer in use. #MsgLength=213


----
Modified: src/qpid/sys/Dispatcher.h|24 2

Revision: f56c62633d07a5915bd5e4f44b8a246efec16ed5
Author: Alan Conway <aconway@apache.org>
Date: 12/08/2008 02:41:42
Message:
Integrate CPG file descriptor into broker polling. #MsgLength=52


----
Modified: src/Makefile.am|0 4
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/cluster/Cluster.cpp|44 16
Modified: src/qpid/cluster/Cluster.h|6 3
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 1
Modified: src/qpid/cluster/ConnectionInterceptor.cpp|11 5
Modified: src/qpid/cluster/ConnectionInterceptor.h|2 0
Modified: src/qpid/cluster/Cpg.cpp|15 4
Modified: src/qpid/cluster/Cpg.h|12 7
Modified: src/tests/cluster_test.cpp|1 24

Revision: 474f845e22fd23677e0f520d1e1d48e200318fdf
Author: Alan Conway <aconway@apache.org>
Date: 12/08/2008 03:08:31
Message:
Added doxygen comments on using the Poller. #MsgLength=45


----
Modified: src/qpid/sys/Dispatcher.h|44 0
Modified: src/qpid/sys/Poller.h|3 1

Revision: 9f17c12788d2111840cdbaaf6a8cbc8f29134ab7
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2008 01:31:53
Message:
Move frame processing out of CPG dispatch queue for cluster. PollableQueue is a pollable in-memory queue, will probably move it to sys. #MsgLength=137


----
Modified: src/cluster.mk|4 1
Modified: src/qpid/cluster/Cluster.cpp|40 19
Modified: src/qpid/cluster/Cluster.h|14 0
Added: src/qpid/cluster/PollableCondition.cpp|59 0
Added: src/qpid/cluster/PollableCondition.h|57 0
Added: src/qpid/cluster/PollableQueue.h|99 0

Revision: a0bc4b4365eb6ec30d29c137fd8ca178445487de
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2008 03:36:45
Message:
Replace eventfd with more portable pipe implementation in PollableCondition. #MsgLength=78


----
Modified: src/qpid/cluster/PollableCondition.cpp|43 2
Modified: src/qpid/cluster/PollableCondition.h|3 0

Revision: 1e17c5225d963f915cd5b6d212aaf959d3d5a4dc
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2008 04:12:04
Message:
Add extra boost headers to dist tarball #MsgLength=42


----
Modified: boost-1.32-support/main.patch|24 24

Revision: 497de4624a43cc11a3c7adaf3ef91040c4785b3f
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2008 05:03:43
Message:
Queue cluster send frames, do cpg_mcast in separate thread, batching if possible. 5x thruput improvement :) #MsgLength=109


----
Modified: src/qpid/cluster/Cluster.cpp|35 17
Modified: src/qpid/cluster/Cluster.h|15 5

Revision: 6f6dbeb3ec6e799ff2d572f2cbc214667851ee18
Author: Gordon Sim <gsim@apache.org>
Date: 15/08/2008 01:25:11
Message:
distclean should delete qpid/framing/MaxMethodBodySize.h #MsgLength=59


----
Modified: src/Makefile.am|1 0

Revision: a19558f53a0afcc91b5d7a72b65bcb6513190b71
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2008 04:23:49
Message:
echo with_ais_group errors  to stderr. #MsgLength=40


----
Modified: src/tests/start_cluster|1 1

Revision: eb8df76dfce5cc0c35af3418766f59ec262a2f95
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2008 04:49:39
Message:
Add option to run singleton cluster on default port. #MsgLength=54


----
Modified: src/tests/start_cluster|9 7

Revision: 8bd88bc935c2f77f3220d4b6f8a9ea95e3299c6b
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2008 05:12:50
Message:
Stop prevoius qpidd before runing  singleton cluster. #MsgLength=55


----
Modified: src/tests/start_cluster|1 0

Revision: d1d24e653a376e7d453e3432831acc0c09efe06d
Author: Alan Conway <aconway@apache.org>
Date: 16/08/2008 06:40:30
Message:
Fix memory leak in Cluster and enable valgrind in ais_check #MsgLength=61


----
Modified: src/qpid/cluster/Cluster.cpp|12 2
Modified: src/qpid/cluster/Cluster.h|3 1
Modified: src/qpid/cluster/ConnectionInterceptor.cpp|13 9
Modified: src/qpid/cluster/ConnectionInterceptor.h|2 0
Modified: src/tests/ais_check|2 1

Revision: 5b7ea176011727a9bfceadf78a8e3e317c51a19c
Author: Alan Conway <aconway@apache.org>
Date: 19/08/2008 02:52:39
Message:
Configure --without-cpg by default for M3. #MsgLength=44


----
Modified: configure.ac|3 5

Revision: 6dcc3c78249717fc5fa7a5d7219ff5a5fa21d2c7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/08/2008 03:15:43
Message:
Added --dtx option to txtest for DTX transaction testing #MsgLength=57


----
Modified: src/tests/txtest.cpp|28 5

Revision: c82bb7fd00fb8eb2abe5fec8dab103d52f91c106
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/08/2008 03:37:39
Message:
Missing DTX recover code for --dtx mode in txtest #MsgLength=50


----
Modified: src/qpid/framing/Array.h|1 1
Modified: src/tests/txtest.cpp|29 0

Revision: f32bbd3f149ae62cb8dee3e70ab9310b4a22ec80
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/08/2008 03:46:15
Message:
Forgot to remove unneeded comment #MsgLength=34


----
Modified: src/tests/txtest.cpp|0 1

Revision: 651f6e90878e7fbc890e55c7209e94b26074535d
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2008 22:45:19
Message:
Remove 'clever' locking as it actually degrades performance. #MsgLength=63


----
Modified: src/qpid/broker/Queue.cpp|1 28
Modified: src/qpid/broker/Queue.h|0 12

Revision: 2eebe4e0702ca072a754776fa9da2247a11db2cf
Author: Aidan Skinner <aidan@apache.org>
Date: 22/08/2008 01:26:40
Message:
Update version, NOTICE files. #MsgLength=31


----
Modified: configure.ac|1 1

Revision: fd8a748e90bc345c965518924934de0867ee4e79
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2008 02:04:18
Message:
Pre-buffering output strategy for cluster. Additional hooks in broker code, should not affect standalone broker. #MsgLength=114


----
Modified: src/Makefile.am|1 0
Modified: src/cluster.mk|5 1
Modified: src/qpid/amqp_0_10/Connection.cpp|13 5
Modified: src/qpid/amqp_0_10/Connection.h|7 3
Modified: src/qpid/broker/Connection.cpp|2 3
Modified: src/qpid/broker/ConnectionState.h|9 7
Modified: src/qpid/cluster/Cluster.cpp|9 22
Modified: src/qpid/cluster/ConnectionInterceptor.cpp|15 21
Modified: src/qpid/cluster/ConnectionInterceptor.h|17 11
Added: src/qpid/cluster/OutputInterceptor.cpp|106 0
Added: src/qpid/cluster/OutputInterceptor.h|74 0
Added: src/qpid/cluster/WriteEstimate.cpp|63 0
Added: src/qpid/cluster/WriteEstimate.h|64 0
Modified: src/qpid/sys/ConnectionOutputHandler.h|1 0
Added: src/qpid/sys/ConnectionOutputHandlerPtr.h|54 0
Modified: src/tests/cluster_test.cpp|1 1
Modified: src/tests/consume.cpp|7 4
Modified: src/tests/latencytest.cpp|9 6
Modified: src/tests/start_cluster|1 1
Modified: xml/cluster.xml|8 2

Revision: 8c5452aa401371fcf4ab7c26bdc805f2384973f4
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2008 04:17:26
Message:
Fix typo. #MsgLength=11


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: 44a0045b825107162d3790a56d1cd786a74f2070
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2008 05:51:35
Message:
Use numeric version number 0.3 in AC_INIT. #MsgLength=44


----
Modified: configure.ac|1 1

Revision: 4141c49090541720f55d6d3eb8a2e5157d31b286
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2008 17:51:55
Message:
Update & correct some of the notes included with the release. #MsgLength=64


----
Modified: DESIGN|1 2
Modified: README|12 4
Modified: RELEASE_NOTES|10 35
Modified: examples/README|104 16

Revision: 16ce5a3a92ccddb7d13adce20f578f9536697a16
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2008 00:04:55
Message:
Removed unused rpm targets and files. Added src/tests/echotest.cpp from Gordon Sim. #MsgLength=85


----
Modified: Makefile.am|0 23
Modified: configure.ac|0 2
Deleted: qpidc.spec.in|0 302
Deleted: rpm/README.qpidd-devel|0 7
Modified: src/tests/Makefile.am|4 0
Added: src/tests/echotest.cpp|131 0

Revision: 597123a5078b92f3f23c74ddc3781e5d5c59f4f4
Author: Gordon Sim <gsim@apache.org>
Date: 27/08/2008 01:30:00
Message:
Add license #MsgLength=14


----
Modified: src/tests/echotest.cpp|21 0

Revision: 020431caa45db4eff4197d998caad7850ce326e3
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2008 02:35:00
Message:
Test improvements. - print rates for publish, consume - consistent use of -s for spreadsheet-friendly output. - start_cluster_hosts to start multi-host cluster via ssh. #MsgLength=173


----
Modified: src/tests/consume.cpp|16 8
Modified: src/tests/perfdist|11 3
Modified: src/tests/publish.cpp|27 15
Added: src/tests/start_cluster_hosts|41 0

Revision: 27b8277a04e84c6f4346b7307805d16bda875e2e
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2008 03:19:44
Message:
Added ClusterFixture::kill #MsgLength=28


----
Modified: src/tests/cluster_test.cpp|4 35

Revision: e130b916d0200ac6b0ad4da930d30b5aa5b46ac5
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2008 06:40:05
Message:
echotest: tab separated. benchmark: runs a set of tests & generates a tab-separated spreadsheet. #MsgLength=98


----
Added: src/tests/benchmark|43 0
Modified: src/tests/echotest.cpp|1 1

Revision: 099035127503724ab550dd6448cc2f625e056a8e
Author: Aidan Skinner <aidan@apache.org>
Date: 29/08/2008 03:26:51
Message:
Add ASL to everywhere, to everything. #MsgLength=39


----
Modified: rubygen/0-10/allsegmenttypes.rb|18 0
Modified: rubygen/0-10/exceptions.rb|18 0
Modified: rubygen/0-10/handlers.rb|18 0
Modified: rubygen/0-10/specification.rb|18 0
Modified: rubygen/0-10/typecode.rb|18 0
Modified: rubygen/amqpgen.rb|16 1
Modified: rubygen/framing.0-10/MethodBodyConstVisitor.rb|18 0
Modified: rubygen/framing.0-10/MethodBodyDefaultVisitor.rb|18 0
Modified: rubygen/framing.0-10/MethodHolder.rb|18 0
Modified: rubygen/framing.0-10/Operations.rb|18 0
Modified: rubygen/framing.0-10/OperationsInvoker.rb|18 0
Modified: rubygen/framing.0-10/Proxy.rb|18 0
Modified: rubygen/framing.0-10/Session.rb|18 0
Modified: rubygen/framing.0-10/all_method_bodies.rb|18 0
Modified: rubygen/framing.0-10/constants.rb|18 0
Modified: rubygen/framing.0-10/frame_body_lists.rb|18 0
Modified: rubygen/framing.0-10/structs.rb|18 0
Modified: rubygen/generate|18 0
Modified: src/qpid/client/Bounds.cpp|20 0
Modified: src/qpid/sys/rdma/RdmaClient.cpp|20 0
Modified: src/qpid/sys/rdma/RdmaIO.cpp|20 0
Modified: src/qpid/sys/rdma/RdmaIO.h|20 0
Modified: src/qpid/sys/rdma/RdmaServer.cpp|20 0
Modified: src/qpid/sys/rdma/rdma_exception.h|20 0
Modified: src/qpid/sys/rdma/rdma_factories.cpp|20 0
Modified: src/qpid/sys/rdma/rdma_factories.h|20 0
Modified: src/qpid/sys/rdma/rdma_wrap.h|20 0
Modified: src/tests/ais_check|19 0
Modified: src/tests/benchmark|18 0

Revision: e4609ab83b6a65159bc5487bb39ff9fbc42cf963
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 29/08/2008 23:18:05
Message:
test svn #MsgLength=9


----
Modified: NOTICE|0 1

Revision: 606d90e41792854852cba92d238dcdfe275ae3b5
Author: Martin Ritchie <ritchiem@apache.org>
Date: 29/08/2008 23:28:25
Message:
Updated License and Notice in Java, added missing L & N files to directories and added release.sh to our bin directory #MsgLength=119


----
Modified: LICENSE|31 0

Revision: 393dc4b30dd71d7576a8b8c883516aafcc55b991
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2008 02:18:45
Message:
Refactored cluster to intercept at ConnectionCode, using sys:: interfaces rather than boost functions. Use framing::Operations and Invoker to dispatch cluster methods. #MsgLength=169


----
Modified: src/cluster.mk|8 6
Modified: src/qpid/Url.h|3 1
Modified: src/qpid/amqp_0_10/Connection.cpp|10 4
Modified: src/qpid/amqp_0_10/Connection.h|10 5
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpid/broker/Broker.h|5 2
Modified: src/qpid/broker/Connection.cpp|3 14
Modified: src/qpid/broker/Connection.h|0 11
Modified: src/qpid/broker/ConnectionFactory.cpp|12 3
Modified: src/qpid/broker/ConnectionFactory.h|2 1
Deleted: src/qpid/cluster/ClassifierHandler.cpp|0 51
Deleted: src/qpid/cluster/ClassifierHandler.h|0 50
Modified: src/qpid/cluster/Cluster.cpp|93 121
Modified: src/qpid/cluster/Cluster.h|26 48
Modified: src/qpid/cluster/ClusterPlugin.cpp|14 22
Renamed: src/qpid/cluster/Connection.cpp [from src/qpid/cluster/ConnectionInterceptor.cpp]|35 43
Renamed: src/qpid/cluster/Connection.h [from src/qpid/cluster/ConnectionInterceptor.h]|44 31
Added: src/qpid/cluster/ConnectionCodec.cpp|64 0
Added: src/qpid/cluster/ConnectionCodec.h|77 0
Modified: src/qpid/cluster/Cpg.cpp|33 11
Modified: src/qpid/cluster/Cpg.h|12 15
Renamed: src/qpid/cluster/NoOpConnectionOutputHandler.h [from src/qpid/cluster/ShadowConnectionOutputHandler.h]|5 5
Modified: src/qpid/cluster/OutputInterceptor.cpp|9 10
Modified: src/qpid/cluster/OutputInterceptor.h|3 5
Modified: src/qpid/cluster/PollableQueue.h|1 1
Added: src/qpid/cluster/ProxyInputHandler.h|57 0
Added: src/qpid/cluster/types.h|58 0
Modified: src/qpid/sys/ConnectionCodec.h|3 3
Modified: src/qpid/sys/ConnectionInputHandler.h|1 0
Modified: src/qpid/sys/ConnectionInputHandlerFactory.h|2 1
Modified: src/tests/ForkedBroker.h|3 3
Modified: src/tests/cluster_test.cpp|10 2
Modified: xml/cluster.xml|5 7

Revision: 612a8e09881914da34449c147cc5c39846fd547b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/09/2008 05:49:55
Message:
QPID-107 Implementation for ACL for C++ broker #MsgLength=47


----
Modified: src/acl.mk|5 3
Modified: src/qpid/acl/Acl.cpp|15 49
Modified: src/qpid/acl/Acl.h|4 6
Added: src/qpid/acl/AclData.cpp|158 0
Added: src/qpid/acl/AclData.h|73 0
Modified: src/qpid/acl/AclReader.cpp|446 15
Modified: src/qpid/acl/AclReader.h|80 10
Modified: src/qpid/broker/AclModule.h|187 10
Modified: src/qpid/broker/SessionAdapter.cpp|17 17

Revision: 93851627fddfb0e933fc36f29ca7d8fa81e33c89
Author: Alan Conway <aconway@apache.org>
Date: 03/09/2008 09:29:14
Message:
Fix build error in cluster code. #MsgLength=34


----
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/Connection.h|1 1

Revision: 47e3746f57263f5eac13d23d550ac38396bfea93
Author: Alan Conway <aconway@apache.org>
Date: 03/09/2008 11:21:00
Message:
Cluster multicasts buffers rather than frames. #MsgLength=48


----
Modified: src/Makefile.am|2 1
Modified: src/qpid/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|91 124
Modified: src/qpid/cluster/Cluster.h|9 14
Modified: src/qpid/cluster/Connection.cpp|27 11
Modified: src/qpid/cluster/Connection.h|15 8
Modified: src/qpid/cluster/ConnectionCodec.cpp|6 1
Modified: src/qpid/cluster/ConnectionCodec.h|1 1
Modified: src/qpid/cluster/Cpg.cpp|11 13
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 1
Modified: src/qpid/cluster/types.h|4 0
Modified: src/qpid/framing/AMQFrame.cpp|7 0
Modified: src/qpid/framing/AMQFrame.h|3 0
Modified: src/qpid/framing/Buffer.h|1 0
Added: src/qpid/framing/FrameDecoder.cpp|68 0
Added: src/qpid/framing/FrameDecoder.h|44 0
Modified: src/tests/.valgrind.supp|4 3
Modified: src/tests/ForkedBroker.h|4 1
Modified: src/tests/cluster_test.cpp|5 2
Modified: xml/cluster.xml|3 3

Revision: b6177f2e25f1130e5db561d50c5efa22919fdeaf
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/09/2008 22:18:29
Message:
QPID-107, adding schema for managing ACL plugin #MsgLength=48


----
Added: src/qpid/acl/management_schema.xml|31 0

Revision: 58ba28322595c4142ee55173ad7b519e323e0407
Author: Ted Ross <tross@apache.org>
Date: 04/09/2008 02:01:44
Message:
QPID-1174 Updates to the management framework #MsgLength=46


----
Modified: examples/qmf-agent/example.cpp|15 3
Modified: examples/qmf-agent/schema.xml|8 0
Modified: managementgen/schema.py|169 60
Modified: managementgen/templates/Class.cpp|20 4
Modified: managementgen/templates/Class.h|7 2
Modified: src/qpid/agent/ManagementAgent.h|13 4
Modified: src/qpid/agent/ManagementAgentImpl.cpp|403 182
Modified: src/qpid/agent/ManagementAgentImpl.h|72 29
Modified: src/qpid/broker/AclModule.h|22 3
Modified: src/qpid/broker/Broker.cpp|5 3
Modified: src/qpid/broker/Exchange.cpp|4 4
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/framing/FieldTable.h|1 0
Modified: src/qpid/management/Manageable.cpp|1 0
Modified: src/qpid/management/Manageable.h|1 0
Modified: src/qpid/management/ManagementBroker.cpp|220 102
Modified: src/qpid/management/ManagementBroker.h|20 13
Modified: src/qpid/management/ManagementObject.cpp|72 2
Modified: src/qpid/management/ManagementObject.h|38 7

Revision: bf9362e17c9db37f681ff035ab5cf31f253a8337
Author: Ted Ross <tross@apache.org>
Date: 04/09/2008 03:06:42
Message:
QPID-1174 Replaced copies with references (bugfix) #MsgLength=51


----
Modified: src/qpid/management/ManagementBroker.cpp|2 2

Revision: d2fbc5f5db2916f0e922d9cc08aabd6560a249f5
Author: Ted Ross <tross@apache.org>
Date: 04/09/2008 04:10:45
Message:
Disambiguated a mask-and-compare for the Fedora-9 compiler #MsgLength=59


----
Modified: managementgen/schema.py|1 1

Revision: 6a72bc01dc9f417c9f6cc6a16ec7451e31667b09
Author: Ted Ross <tross@apache.org>
Date: 04/09/2008 04:46:08
Message:
Added default return values to satisfy a pedantic compiler (Fedora 9) #MsgLength=70


----
Modified: src/qpid/broker/AclModule.h|4 0

Revision: 72394613b091cc042fa7249be43fe3bb8d88b652
Author: Ted Ross <tross@apache.org>
Date: 04/09/2008 09:24:40
Message:
Cleaned up a warning on the Fedora 9 compiler #MsgLength=46


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1

Revision: 98b3329817bc37da3aa361c7925adf2056939716
Author: Gordon Sim <gsim@apache.org>
Date: 04/09/2008 15:51:37
Message:
Bugfixes: * handle 0 latencies (possible with low resolution timers) correctly * calculate average within lock scope to avoid concurrent updates distorting calculation #MsgLength=170


----
Modified: src/tests/latencytest.cpp|3 3

Revision: c3c2b90960371fdc37663fed047681b9cd81fdd9
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2008 20:03:48
Message:
Fix bug in computing min latency: 0 latencies not handled correctly. #MsgLength=70


----
Modified: src/tests/latencytest.cpp|4 3

Revision: 40901de3e16e827d0e79c88b2e1fdc2a3ebfd8f9
Author: Martin Ritchie <ritchiem@apache.org>
Date: 04/09/2008 22:16:31
Message:
Added missing DISCLAIMER files to cpp python and ruby #MsgLength=54


----
Added: DISCLAIMER|5 0

Revision: 73d44294125e6323bffbd78532de529ba3b65b72
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 05/09/2008 04:07:49
Message:
QPID-107 swap the enforce defualt to ACL has to be turned on. So defualt install can do something... #MsgLength=101


----
Modified: src/qpid/acl/Acl.cpp|2 2
Modified: src/qpid/acl/Acl.h|2 2
Modified: src/qpid/acl/AclPlugin.cpp|2 2

Revision: d947503965d8af5c58a1d7964697d28eca6277c0
Author: Gordon Sim <gsim@apache.org>
Date: 05/09/2008 05:16:04
Message:
Fix mods to suppressions; changed from patching to cat'ing to the end for easier management. #MsgLength=95


----
Modified: boost-1.32-support/Makefile|1 0
Modified: boost-1.32-support/main.patch|0 122
Added: boost-1.32-support/supressions|107 0

Revision: deda8c175cfe159aea07dbc57d8442fc134831dd
Author: Aidan Skinner <aidan@apache.org>
Date: 05/09/2008 06:53:40
Message:
Add DISCLAIMER to EXTRA_DIST #MsgLength=30


----
Modified: Makefile.am|1 1

Revision: 73844c05b2ce1af46a5b02de05502ee9d9820457
Author: Ted Ross <tross@apache.org>
Date: 05/09/2008 22:11:23
Message:
QPID-1274 - Improved packaging for management agent and code generation tool #MsgLength=77


----
Modified: configure.ac|2 0
Modified: examples/qmf-agent/Makefile|3 5
Added: m4/python.m4|168 0
Modified: managementgen/Makefile.am|10 19
Added: managementgen/management-types.xml|56 0
Renamed: managementgen/qmf-gen [from managementgen/main.py]|16 8
Renamed: managementgen/qmf/__init__.py [from managementgen/managementgen]|0 7
Renamed: managementgen/qmf/generate.py [from managementgen/generate.py]|4 4
Renamed: managementgen/qmf/schema.py [from managementgen/schema.py]|0 0
Modified: src/Makefile.am|3 5
Added: src/qmf.mk|31 0

Revision: 0c3504b1eaafd9dedf8772782049c36ada994f10
Author: Ted Ross <tross@apache.org>
Date: 06/09/2008 00:07:57
Message:
QPID-1274 - Moved management-gen data files into the qmf subdirectory to fix an install problem #MsgLength=96


----
Modified: managementgen/Makefile.am|9 11
Modified: managementgen/qmf-gen|3 3
Modified: managementgen/qmf/generate.py|2 2
Renamed: managementgen/qmf/management-types.xml [from managementgen/management-types.xml]|0 0
Renamed: managementgen/qmf/templates/Args.h [from managementgen/templates/Args.h]|0 0
Renamed: managementgen/qmf/templates/Class.cpp [from managementgen/templates/Class.cpp]|0 0
Renamed: managementgen/qmf/templates/Class.h [from managementgen/templates/Class.h]|0 0
Renamed: managementgen/qmf/templates/Makefile.mk [from managementgen/templates/Makefile.mk]|0 0
Renamed: managementgen/qmf/templates/Package.cpp [from managementgen/templates/Package.cpp]|0 0
Renamed: managementgen/qmf/templates/Package.h [from managementgen/templates/Package.h]|0 0

Revision: 0ab98b53135d18042132de16ae391c5c31827e50
Author: Alan Conway <aconway@apache.org>
Date: 06/09/2008 00:30:03
Message:
src/qpid/client/SubscriptionManager.cpp: added start(). src/tests* improvements to multi-host test scripts. #MsgLength=109


----
Modified: src/qpid/client/SubscriptionManager.cpp|6 0
Modified: src/qpid/client/SubscriptionManager.h|11 2
Modified: src/tests/benchmark|35 19
Modified: src/tests/perfdist|4 5
Modified: src/tests/start_cluster_hosts|23 14

Revision: 77f4b0ff293576fbad44b7ec7393f3eeb654f227
Author: Ted Ross <tross@apache.org>
Date: 06/09/2008 02:37:36
Message:
QPID-1274 - Made qmf-gen smarter about finding its data files #MsgLength=62


----
Modified: managementgen/qmf-gen|19 2

Revision: 3d963aa6400df0647e5849c2a11851d80ecd736c
Author: Alan Conway <aconway@apache.org>
Date: 06/09/2008 03:53:44
Message:
Fixed cluster membership notification. Cluster events with RefCountedBuffers for queueing. PollableQueue clears bacth immediately. Improved perfdist: clients hit multiple brokers in a cluster. #MsgLength=194


----
Modified: src/Makefile.am|2 0
Modified: src/cluster.mk|3 1
Added: src/qpid/RefCountedBuffer.cpp|45 0
Added: src/qpid/RefCountedBuffer.h|68 0
Modified: src/qpid/cluster/Cluster.cpp|39 12
Modified: src/qpid/cluster/Cluster.h|0 1
Modified: src/qpid/cluster/Cpg.cpp|0 30
Modified: src/qpid/cluster/Cpg.h|0 10
Added: src/qpid/cluster/Event.cpp|52 0
Added: src/qpid/cluster/Event.h|65 0
Modified: src/qpid/cluster/PollableQueue.h|7 3
Modified: src/tests/benchmark|32 20
Modified: src/tests/perfdist|23 15
Modified: src/tests/start_cluster_hosts|8 8

Revision: 2b9e739502dc36d70113964834c216ccd222e603
Author: Alan Conway <aconway@apache.org>
Date: 06/09/2008 05:21:28
Message:
Fixes to distributed test scripts. #MsgLength=36


----
Modified: src/tests/benchmark|11 6
Modified: src/tests/perfdist|5 4

Revision: 6fc7557e2c1213b83f2ec98c3486b8c5354a19eb
Author: Alan Conway <aconway@apache.org>
Date: 06/09/2008 08:34:58
Message:
Queue cpg deliveries for execution in separate thread. #MsgLength=56


----
Modified: src/qpid/cluster/Cluster.cpp|25 23
Modified: src/qpid/cluster/Cluster.h|6 2
Modified: src/qpid/cluster/Event.cpp|9 4
Modified: src/qpid/cluster/Event.h|8 4
Modified: src/qpid/cluster/PollableQueue.h|10 0
Modified: src/qpid/cluster/types.h|1 1
Modified: src/tests/benchmark|3 2

Revision: 86f0d35f103fa9d2e4543bfd730c6f35e86deef8
Author: Alan Conway <aconway@apache.org>
Date: 06/09/2008 22:10:08
Message:
RefCountedBuffer improvements, centralize cluster encoding/decoding in Event. #MsgLength=79


----
Modified: src/qpid/RefCountedBuffer.cpp|9 2
Modified: src/qpid/RefCountedBuffer.h|24 3
Modified: src/qpid/cluster/Cluster.cpp|14 17
Modified: src/qpid/cluster/Cluster.h|3 2
Modified: src/qpid/cluster/Event.cpp|19 4
Modified: src/qpid/cluster/Event.h|7 5

Revision: 99b3cf8657666ee336d50c93a95679b74dbc4ca1
Author: Gordon Sim <gsim@apache.org>
Date: 08/09/2008 19:13:38
Message:
QPID-1264: initial fix for fanout, direct and headers exchanges (fix for remaining types to follow) #MsgLength=102


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/DirectExchange.cpp|27 44
Modified: src/qpid/broker/DirectExchange.h|4 3
Modified: src/qpid/broker/Exchange.cpp|8 0
Modified: src/qpid/broker/Exchange.h|6 0
Modified: src/qpid/broker/FanOutExchange.cpp|11 31
Modified: src/qpid/broker/FanOutExchange.h|3 4
Modified: src/qpid/broker/HeadersExchange.cpp|22 34
Modified: src/qpid/broker/HeadersExchange.h|19 3
Added: src/qpid/sys/CopyOnWriteArray.h|126 0
Modified: src/tests/ExchangeTest.cpp|11 11

Revision: 7704ec6e56a6414f6bdd2310cee4832229304519
Author: Gordon Sim <gsim@apache.org>
Date: 09/09/2008 03:23:30
Message:
Fixes to xml exchange: * changed locking for QPID-1264 * allow multiple queues to be bound with the same binding key * correct log message and management stats update on route #MsgLength=178


----
Modified: src/qpid/broker/XmlExchange.cpp|59 80
Modified: src/qpid/broker/XmlExchange.h|2 1
Modified: src/tests/XmlClientSessionTest.cpp|30 0

Revision: 4f848856291f1a3bcacc7ea0bdce970cb5289605
Author: Alan Conway <aconway@apache.org>
Date: 09/09/2008 22:06:07
Message:
Generate c++ enum types for AMQP enums in framing/enum.h. Modified enum scheme to avoid name clashes: namespace amqp_class { EnumName { ENUM_NAME_X=1, ENUM_NAME_X=2 ...}}; #MsgLength=173


----
Modified: rubygen/framing.0-10/constants.rb|28 19
Modified: src/qpid/SessionState.cpp|3 2
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|6 5
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/broker/SessionAdapter.cpp|13 12
Modified: src/qpid/client/ConnectionImpl.cpp|6 5
Modified: src/qpid/client/SessionImpl.cpp|3 3

Revision: 8b89d8664843558428fc2c3df37000a50cf38e2d
Author: Gordon Sim <gsim@apache.org>
Date: 10/09/2008 01:15:17
Message:
QPID-1261: initial fix (this degrades performance for shared queues with more than one consumer; I'll work on fixing that asap). This also moves the lock refered to in QQPID-1265 which I will update accordingly. #MsgLength=214


----
Modified: src/qpid/broker/Consumer.h|1 1
Modified: src/qpid/broker/Queue.cpp|71 68
Modified: src/qpid/broker/Queue.h|13 12
Modified: src/qpid/broker/SemanticState.cpp|53 22
Modified: src/qpid/broker/SemanticState.h|15 3
Modified: src/qpid/broker/SessionState.cpp|2 6
Modified: src/qpid/broker/SessionState.h|0 2
Modified: src/tests/QueueTest.cpp|11 11

Revision: 4bef19a094cbac0398386d9dd280edc4ee207e57
Author: Ted Ross <tross@apache.org>
Date: 10/09/2008 01:31:47
Message:
QPID-1274 - qmf-gen can now generate code from multiple schema files.  Uses __file__ as a better way to locate data files.  Added code generation for ACL schema. #MsgLength=162


----
Modified: examples/qmf-agent/Makefile|1 1
Modified: managementgen/qmf-gen|18 31
Modified: managementgen/qmf/generate.py|5 0
Modified: managementgen/qmf/schema.py|4 0
Modified: src/Makefile.am|3 2
Added: src/qpid/acl/management-schema.xml|48 0
Deleted: src/qpid/acl/management_schema.xml|0 31

Revision: e2d36b714847aeab79d4cda1bd0585040dcd5ebd
Author: Ted Ross <tross@apache.org>
Date: 10/09/2008 02:14:01
Message:
Fixed fedora-9 build problem #MsgLength=29


----
Modified: src/qpid/broker/Consumer.h|1 1

Revision: 7972e7f4ef7575de9182c2ef2c177a6efeffc2db
Author: Ted Ross <tross@apache.org>
Date: 10/09/2008 02:25:48
Message:
Removed @staticmethod decorator which is unsupported by older Python versions #MsgLength=78


----
Modified: managementgen/qmf/generate.py|1 1

Revision: f9906b2f23b4ef1c3d79525c3f0de5348e5d5ff2
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2008 02:15:25
Message:
Cluster support for copying shared broker state to new members. #MsgLength=554


----
Modified: src/cluster.mk|4 2
Modified: src/qpid/Url.h|5 1
Modified: src/qpid/broker/ExchangeRegistry.h|50 37
Modified: src/qpid/broker/Message.h|5 0
Modified: src/qpid/broker/Queue.h|18 4
Modified: src/qpid/broker/QueueBindings.cpp|3 4
Modified: src/qpid/broker/QueueBindings.h|18 12
Modified: src/qpid/broker/QueueRegistry.h|13 5
Modified: src/qpid/broker/SemanticState.cpp|7 6
Modified: src/qpid/broker/SessionState.h|0 1
Modified: src/qpid/client/Connection.cpp|32 0
Modified: src/qpid/client/Connection.h|28 3
Modified: src/qpid/client/Message.cpp|1 3
Modified: src/qpid/client/Message.h|1 3
Modified: src/qpid/client/SessionImpl.cpp|44 0
Modified: src/qpid/client/SessionImpl.h|1 0
Modified: src/qpid/cluster/Cluster.cpp|14 4
Modified: src/qpid/cluster/Cluster.h|2 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 1
Modified: src/qpid/cluster/Connection.h|12 0
Added: src/qpid/cluster/DumpClient.cpp|107 0
Added: src/qpid/cluster/DumpClient.h|74 0
Modified: src/qpid/framing/TransferContent.cpp|3 6
Modified: src/qpid/framing/TransferContent.h|1 3
Modified: src/tests/cluster_test.cpp|83 3
Modified: xml/cluster.xml|48 2

Revision: 25c88b850fb0570393c5dd847ae48c0858a9fe25
Author: Ted Ross <tross@apache.org>
Date: 11/09/2008 03:14:01
Message:
QPID-1279 Implementations of management methods can now return error strings along with its own error codes #MsgLength=108


----
Modified: examples/qmf-agent/example.cpp|2 2
Modified: managementgen/qmf/schema.py|2 2
Modified: managementgen/qmf/templates/Class.cpp|3 2
Modified: src/qpid/broker/Bridge.cpp|3 1
Modified: src/qpid/broker/Bridge.h|3 1
Modified: src/qpid/broker/Broker.cpp|3 2
Modified: src/qpid/broker/Broker.h|3 1
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/Exchange.cpp|0 6
Modified: src/qpid/broker/Exchange.h|1 4
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/Queue.cpp|1 2
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SessionState.cpp|2 1
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/Vhost.h|0 3
Modified: src/qpid/management/Manageable.cpp|6 2
Modified: src/qpid/management/Manageable.h|6 5

Revision: 67fe0596e02f0c51188a3c70d8005f251925946d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/09/2008 12:45:26
Message:
Refactored c++ client library to allow multiple protocols to be used simultaneously: - Added in capability for client library plugins: Client library will load in plugin modules from the client library module directory on library load. - Add protocol option into the standard client command line options - Split plugin module load area into daemon and client; default daemon module directory is now <libdir>/qpid/daemon, default client module directory is <libdir>/qpid/client. - Changed names of plugins to leave out libqpid prefix #MsgLength=542


----
Modified: etc/Makefile.am|4 0
Added: etc/qpidc.conf|2 0
Modified: src/Makefile.am|25 14
Modified: src/acl.mk|4 5
Modified: src/cluster.mk|6 4
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|10 6
Modified: src/qpid/client/ConnectionImpl.h|1 1
Modified: src/qpid/client/ConnectionSettings.cpp|1 0
Modified: src/qpid/client/ConnectionSettings.h|5 0
Modified: src/qpid/client/Connector.cpp|170 36
Modified: src/qpid/client/Connector.h|18 96
Added: src/qpid/client/LoadPlugins.cpp|95 0
Modified: src/qpidd.cpp|3 10
Modified: src/tests/ConnectionOptions.h|1 0
Modified: src/tests/cluster.mk|1 1

Revision: 8af99a5e989341aede35a1242bf6651426786f0c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/09/2008 14:16:19
Message:
Implementation of AMQP over RDMA protocols (Infiniband) #MsgLength=57


----
Modified: configure.ac|1 1
Modified: src/Makefile.am|23 2
Modified: src/acl.mk|1 1
Added: src/qpid/client/RdmaConnector.cpp|427 0
Modified: src/qpid/client/SessionImpl.cpp|3 2
Added: src/qpid/sys/RdmaIOPlugin.cpp|327 0
Modified: src/qpid/sys/rdma/RdmaClient.cpp|32 28
Modified: src/qpid/sys/rdma/RdmaIO.cpp|370 79
Modified: src/qpid/sys/rdma/RdmaIO.h|103 31
Modified: src/qpid/sys/rdma/RdmaServer.cpp|24 21
Modified: src/qpid/sys/rdma/rdma_factories.cpp|5 0
Modified: src/qpid/sys/rdma/rdma_factories.h|1 0
Added: src/qpid/sys/rdma/rdma_wrap.cpp|155 0
Modified: src/qpid/sys/rdma/rdma_wrap.h|50 124

Revision: d4217070732369a882a76b2e6aa6b794e4a776aa
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2008 21:26:10
Message:
Moved PollableCondition, PollableQueue and to sys. Fixed cluster shutdown issues. #MsgLength=324


----
Modified: src/Makefile.am|3 0
Modified: src/cluster.mk|0 3
Modified: src/qpid/broker/SessionState.cpp|0 2
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|38 28
Modified: src/qpid/cluster/Cluster.h|9 10
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 6
Modified: src/qpid/cluster/Connection.cpp|16 0
Modified: src/qpid/cluster/Connection.h|7 12
Modified: src/qpid/cluster/ConnectionCodec.cpp|4 4
Modified: src/qpid/cluster/ConnectionCodec.h|2 1
Renamed: src/qpid/sys/PollableCondition.cpp [from src/qpid/cluster/PollableCondition.cpp]|6 6
Renamed: src/qpid/sys/PollableCondition.h [from src/qpid/cluster/PollableCondition.h]|2 2
Renamed: src/qpid/sys/PollableQueue.h [from src/qpid/cluster/PollableQueue.h]|6 6
Modified: src/tests/BrokerFixture.h|2 1
Modified: src/tests/cluster_test.cpp|52 21
Modified: xml/cluster.xml|11 10

Revision: 34988a5a0fd6a6cf81f22dbbd841443bcb0c042a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 12/09/2008 00:14:43
Message:
fix warnings #MsgLength=13


----
Modified: src/tests/cluster_test.cpp|2 2

Revision: e52d0000c15de6640a10ae525da855a178b94e1f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/09/2008 03:11:09
Message:
Add qpidc.conf to the distfile list #MsgLength=37


----
Modified: etc/Makefile.am|1 1

Revision: 939c676a1b173ddd21f479edfff0113c6c049773
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/09/2008 04:21:20
Message:
Added in header file missing from ditribution #MsgLength=47


----
Modified: src/Makefile.am|1 0

Revision: 1a17bad0219b5958964e45e1263d3fca6b491e28
Author: Alan Conway <aconway@apache.org>
Date: 13/09/2008 02:07:47
Message:
Added ClusterMap and test. Moved PollableCondition, PollableQueue to sys. #MsgLength=75


----
Modified: src/cluster.mk|3 1
Modified: src/qpid/cluster/Cluster.cpp|58 24
Modified: src/qpid/cluster/Cluster.h|12 10
Added: src/qpid/cluster/ClusterMap.cpp|122 0
Added: src/qpid/cluster/ClusterMap.h|86 0
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 1
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|1 0
Modified: src/qpid/cluster/Cpg.cpp|11 0
Modified: src/qpid/cluster/Event.cpp|3 3
Modified: src/qpid/cluster/Event.h|8 3
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 0
Modified: src/qpid/cluster/types.h|15 1
Modified: src/qpid/sys/PollableQueue.h|41 15
Added: src/tests/ClusterMapTest.cpp|191 0
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/cluster.mk|3 0
Modified: src/tests/cluster_test.cpp|107 37
Modified: src/tests/start_cluster|1 1
Modified: src/tests/start_cluster_hosts|1 1
Modified: xml/cluster.xml|5 8

Revision: b2c21c9b3e5c443aed24265be83295ecb4e0ed4c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/09/2008 03:07:13
Message:
Corrected warning for unsigned #MsgLength=31


----
Modified: src/tests/ClusterMapTest.cpp|29 29
Modified: src/tests/cluster_test.cpp|4 4

Revision: d9d6fc691416de36f5af366ab8291883bb01519d
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 13/09/2008 03:11:35
Message:
QPID-106 #MsgLength=119


----
Modified: src/qpid/acl/Acl.cpp|56 5
Modified: src/qpid/acl/Acl.h|9 2
Modified: src/qpid/acl/management-schema.xml|1 1

Revision: 02ab53604f7c1b23aaa3f3f1f6e4bc13eaeb0372
Author: Alan Conway <aconway@apache.org>
Date: 13/09/2008 05:25:16
Message:
Moved PollableCondition into sys/posix, posix only impl. #MsgLength=58


----
Modified: src/Makefile.am|4 3
Modified: src/qpid/sys/PollableCondition.h|2 34
Modified: src/qpid/sys/PollableQueue.h|1 5
Renamed: src/qpid/sys/posix/PollableCondition.cpp [from src/qpid/sys/PollableCondition.cpp]|1 1
Added: src/qpid/sys/posix/PollableCondition.h|56 0

Revision: 8d47318651cbdbf906103a737d7e6cbb3686461b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/09/2008 10:30:34
Message:
- removed cluster methods in mgnt, will add them to a new cluster object in upcoming commit - added flag on connection object to mark user versus system connections - added help text #MsgLength=185


----
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/broker/Connection.cpp|4 2

Revision: 206c42f0f5895f4f0835c7a6874394419bd6fd64
Author: Ted Ross <tross@apache.org>
Date: 15/09/2008 23:37:59
Message:
QPID-1274 - Changed C++ namespace for generated management code.  Improved efficiency of generated functions to use const references for non-simple types. #MsgLength=155


----
Modified: examples/qmf-agent/Makefile|2 2
Modified: examples/qmf-agent/example.cpp|11 11
Modified: examples/qmf-agent/schema.xml|1 1
Modified: managementgen/qmf-gen|8 7
Modified: managementgen/qmf/generate.py|12 7
Modified: managementgen/qmf/management-types.xml|6 6
Modified: managementgen/qmf/schema.py|68 20
Modified: managementgen/qmf/templates/Args.h|4 4
Modified: managementgen/qmf/templates/Class.cpp|7 4
Modified: managementgen/qmf/templates/Class.h|12 12
Modified: managementgen/qmf/templates/Package.cpp|3 3
Modified: managementgen/qmf/templates/Package.h|6 6
Modified: src/Makefile.am|1 1
Modified: src/qpid/DataDir.h|2 2
Modified: src/qpid/acl/Acl.cpp|20 22
Modified: src/qpid/acl/Acl.h|2 2
Modified: src/qpid/acl/management-schema.xml|1 1
Modified: src/qpid/broker/Bridge.cpp|7 5
Modified: src/qpid/broker/Bridge.h|6 5
Modified: src/qpid/broker/Broker.cpp|9 9
Modified: src/qpid/broker/Broker.h|3 3
Modified: src/qpid/broker/Connection.cpp|3 2
Modified: src/qpid/broker/Connection.h|2 2
Modified: src/qpid/broker/DirectExchange.cpp|3 2
Modified: src/qpid/broker/Exchange.cpp|5 3
Modified: src/qpid/broker/Exchange.h|4 4
Modified: src/qpid/broker/FanOutExchange.cpp|3 2
Modified: src/qpid/broker/HeadersExchange.cpp|3 2
Modified: src/qpid/broker/Link.cpp|5 5
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/LinkRegistry.cpp|2 1
Modified: src/qpid/broker/Queue.cpp|5 4
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/SessionState.cpp|8 7
Modified: src/qpid/broker/SessionState.h|2 2
Modified: src/qpid/broker/System.cpp|2 1
Modified: src/qpid/broker/System.h|2 2
Modified: src/qpid/broker/TopicExchange.cpp|3 2
Modified: src/qpid/broker/Vhost.cpp|2 1
Modified: src/qpid/broker/Vhost.h|2 2
Modified: src/qpid/broker/XmlExchange.cpp|3 2
Modified: src/qpid/management/ManagementBroker.cpp|9 7
Modified: src/qpid/management/ManagementBroker.h|16 16

Revision: 2b67e21e648a31d1f7bb06bd7985230e6da82632
Author: Ted Ross <tross@apache.org>
Date: 16/09/2008 03:01:32
Message:
Fixed a bug affecting 'make install' for generated qmf headers #MsgLength=63


----
Modified: managementgen/qmf/templates/Makefile.mk|2 2

Revision: 64c77569f54f48e7842ce2b962cc06485e2422a4
Author: Alan Conway <aconway@apache.org>
Date: 16/09/2008 03:39:22
Message:
Cluster member stalling, cluster map updates and unit tests. #MsgLength=62


----
Modified: src/qpid/cluster/Cluster.cpp|140 91
Modified: src/qpid/cluster/Cluster.h|22 18
Modified: src/qpid/cluster/ClusterMap.cpp|77 24
Modified: src/qpid/cluster/ClusterMap.h|30 13
Modified: src/qpid/cluster/Connection.cpp|1 3
Modified: src/qpid/cluster/DumpClient.cpp|14 3
Modified: src/qpid/cluster/DumpClient.h|7 4
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 2
Modified: src/qpid/cluster/types.h|0 7
Modified: src/tests/ClusterMapTest.cpp|50 24
Added: src/tests/DumpClientTest.cpp|122 0
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/cluster_test.cpp|1 89
Modified: xml/cluster.xml|10 2

Revision: 48d00e2bc0a07dacaf83a2f3ba90025a9cdec58c
Author: Ted Ross <tross@apache.org>
Date: 16/09/2008 05:45:01
Message:
An improved way of dealing with installed headers #MsgLength=50


----
Modified: managementgen/qmf/generate.py|20 2
Modified: managementgen/qmf/templates/Makefile.mk|1 3

Revision: 145f0a2b0db9785ef03906ac92a45395d931e1b3
Author: Alan Conway <aconway@apache.org>
Date: 16/09/2008 08:22:00
Message:
Simplified cluster updates. #MsgLength=29


----
Modified: rubygen/cppgen.rb|2 1
Modified: src/qpid/cluster/Cluster.cpp|46 86
Modified: src/qpid/cluster/Cluster.h|3 9
Modified: src/qpid/cluster/ClusterMap.cpp|25 113
Modified: src/qpid/cluster/ClusterMap.h|20 42
Deleted: src/tests/ClusterMapTest.cpp|0 217
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/cluster_test.cpp|1 1
Modified: xml/cluster.xml|5 18

Revision: 32e508b7a44ba3973fecb46bae5f9df1ce2e8fab
Author: Alan Conway <aconway@apache.org>
Date: 17/09/2008 02:46:11
Message:
Fix race in cluster join protocol. #MsgLength=36


----
Modified: src/qpid/cluster/Cluster.cpp|72 59
Modified: src/qpid/cluster/Cluster.h|8 7
Modified: src/qpid/cluster/ClusterMap.cpp|27 25
Modified: src/qpid/cluster/ClusterMap.h|17 17
Modified: src/qpid/cluster/types.h|2 1
Modified: src/tests/cluster_test.cpp|1 3
Modified: xml/cluster.xml|6 3

Revision: 76af4b4e95358e36ae73504b136eace71d8938af
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/09/2008 03:33:36
Message:
- add mgnt schema for cluster - add mgnt object and init - create call-backs to stop a cluster node & the full cluster #MsgLength=122


----
Modified: src/Makefile.am|2 1
Modified: src/qpid/cluster/Cluster.cpp|46 0
Modified: src/qpid/cluster/Cluster.h|9 1
Added: src/qpid/cluster/management-schema.xml|57 0

Revision: 73e5970dff0d697c82ab7870c2712fafd6e52fc4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/09/2008 03:40:48
Message:
- implement mgnt clusternode stop #MsgLength=36


----
Modified: src/qpid/cluster/Cluster.cpp|3 2

Revision: 1ffc873ed6972956f53b6e0046c3c831241d2e01
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/09/2008 08:48:07
Message:
- wire in more cluster stats #MsgLength=31


----
Modified: src/qpid/cluster/Cluster.cpp|15 1
Modified: src/qpid/cluster/management-schema.xml|1 1

Revision: 21e30f7f8a0f68b42e68bca2f8806f330b40adc0
Author: Ted Ross <tross@apache.org>
Date: 17/09/2008 20:48:08
Message:
Added missing Makefile dependencies for ACL and Cluster schema files #MsgLength=69


----
Modified: managementgen/qmf-gen|1 1
Modified: managementgen/qmf/generate.py|16 7

Revision: 49bc83270f72fe337baf64c97bc49ca70c4f962c
Author: Ted Ross <tross@apache.org>
Date: 17/09/2008 21:00:22
Message:
Removed some dead code #MsgLength=23


----
Modified: managementgen/qmf/generate.py|1 6

Revision: a656db4a73066b436aa506a9469219c09a855561
Author: Ted Ross <tross@apache.org>
Date: 17/09/2008 22:20:07
Message:
Backed out makefile-dependency changes.  They break vpath builds #MsgLength=65


----
Modified: managementgen/qmf-gen|1 1
Modified: managementgen/qmf/generate.py|7 11

Revision: b10da1f75dd1dfdd9f61d677b00a59d2c884e68b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/09/2008 02:19:59
Message:
- added member stats - some celan up. #MsgLength=40


----
Modified: src/qpid/cluster/Cluster.cpp|20 8
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/management-schema.xml|2 1

Revision: bccaab0a3823104e22f8c4a008540f26b89a0d1b
Author: Alan Conway <aconway@apache.org>
Date: 18/09/2008 21:55:30
Message:
Refactor Cluster logic into separate handlers for Joining & Member modes. #MsgLength=75


----
Modified: src/cluster.mk|7 1
Modified: src/qpid/cluster/Cluster.cpp|64 123
Modified: src/qpid/cluster/Cluster.h|11 4
Added: src/qpid/cluster/ClusterHandler.cpp|53 0
Added: src/qpid/cluster/ClusterHandler.h|65 0
Modified: src/qpid/cluster/ClusterMap.cpp|5 3
Modified: src/qpid/cluster/ClusterMap.h|3 4
Modified: src/qpid/cluster/Connection.cpp|3 11
Modified: src/qpid/cluster/Connection.h|0 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|1 4
Modified: src/qpid/cluster/Cpg.cpp|1 3
Modified: src/qpid/cluster/DumpClient.cpp|12 9
Modified: src/qpid/cluster/DumpClient.h|6 2
Added: src/qpid/cluster/JoiningHandler.cpp|106 0
Added: src/qpid/cluster/JoiningHandler.h|56 0
Added: src/qpid/cluster/MemberHandler.cpp|83 0
Added: src/qpid/cluster/MemberHandler.h|60 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|0 1
Modified: src/qpid/sys/PollableQueue.h|9 1
Modified: src/tests/DumpClientTest.cpp|1 1

Revision: 3039d9c4e518edaa108613728255548f575858f7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/09/2008 01:29:01
Message:
Modified return codes for txtest: returns 1 if check fails; 2 if exception is thrown; 0 otherwise. #MsgLength=99


----
Modified: src/tests/txtest.cpp|6 4

Revision: 0bbaf4bfc5d0756dca72cfba4d5af11065e7ff54
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2008 04:18:29
Message:
Dump shared state to new cluster members. #MsgLength=43


----
Modified: src/qpid/broker/Connection.cpp|3 2
Modified: src/qpid/client/Connection.h|3 0
Modified: src/qpid/cluster/Cluster.cpp|5 4
Modified: src/qpid/cluster/Cluster.h|2 0
Modified: src/qpid/cluster/ClusterHandler.h|5 1
Modified: src/qpid/cluster/Connection.cpp|40 18
Modified: src/qpid/cluster/Connection.h|21 11
Modified: src/qpid/cluster/ConnectionCodec.cpp|9 4
Modified: src/qpid/cluster/ConnectionCodec.h|1 1
Modified: src/qpid/cluster/DumpClient.cpp|15 3
Modified: src/qpid/cluster/JoiningHandler.cpp|31 6
Modified: src/qpid/cluster/JoiningHandler.h|6 1
Modified: src/qpid/cluster/MemberHandler.cpp|21 9
Modified: src/qpid/cluster/MemberHandler.h|4 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|8 3
Modified: src/qpid/cluster/OutputInterceptor.h|5 3
Modified: src/tests/cluster_test.cpp|88 79
Modified: xml/cluster.xml|3 1

Revision: 035be0bffa57dfe733a535ecba4cb0fa6666c48b
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2008 20:55:15
Message:
Clean up unused members/tests #MsgLength=147


----
Modified: src/qpid/broker/SemanticState.h|0 1
Modified: src/qpid/broker/SessionState.cpp|0 2
Modified: src/qpid/broker/SessionState.h|0 1
Modified: src/qpid/cluster/Cluster.h|8 0
Deleted: src/tests/DumpClientTest.cpp|0 122
Modified: src/tests/cluster.mk|0 1

Revision: 6fe09d3f27ffca0f9c2374301c0c4e031dd66e4f
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2008 20:56:38
Message:
Added support for nested field tables & arrays within a field table. #MsgLength=71


----
Modified: src/qpid/framing/FieldTable.cpp|24 5
Modified: src/qpid/framing/FieldTable.h|4 1
Modified: src/qpid/framing/FieldValue.cpp|58 48
Modified: src/qpid/framing/FieldValue.h|44 1
Modified: src/tests/FieldTable.cpp|40 0

Revision: f7a63eb5c9fad7503b110521a835473ad521e8e8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/09/2008 22:15:54
Message:
RDMA bugfixes: - Changed Rdma connection creation to allocate all necessary buffer memory immediately. This has the effect that no later buffer allocations happen which can fail so that once accepted connections won't fail because of lack of locked memory. - Fixed connection logic so we reject a new connection if we can't create the necessary handlers rather than kill the entire broker (this includes not enough locked memory) #MsgLength=439


----
Modified: src/qpid/client/RdmaConnector.cpp|2 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|29 18
Modified: src/qpid/sys/rdma/RdmaIO.cpp|16 12
Modified: src/qpid/sys/rdma/RdmaIO.h|7 0

Revision: 0bd808f14645937c968baada030c485dd0bab25f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/09/2008 23:44:55
Message:
Added ability to have '@' char in ACL name #MsgLength=43


----
Modified: src/qpid/acl/AclReader.cpp|1 1

Revision: 1979f17a6905c0d2c7a90a10a976107771cf82a9
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2008 01:49:18
Message:
Return success indicator for getTable/getArray, cleanup implementation a little. #MsgLength=83


----
Modified: src/qpid/framing/FieldTable.cpp|4 13
Modified: src/qpid/framing/FieldTable.h|2 2
Modified: src/qpid/framing/FieldValue.h|14 8

Revision: 18e31f337283457dea14cd60adee0c23575c9dcd
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 20/09/2008 03:12:10
Message:
- fix 'all' user rules to match if not in user db. #MsgLength=53


----
Modified: src/qpid/acl/AclData.cpp|4 0
Modified: src/qpid/acl/AclReader.cpp|1 0

Revision: 9a80b0c29509a4158e40ae4bd23a2ff2b01f0132
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 20/09/2008 03:34:53
Message:
correction to last commit #MsgLength=26


----
Modified: src/qpid/acl/AclData.cpp|2 2

Revision: ec1ecf4ba48ec5392213ecadc20e57c60a441230
Author: Ted Ross <tross@apache.org>
Date: 20/09/2008 04:52:50
Message:
Cleaned up qmf agent example code #MsgLength=34


----
Modified: examples/qmf-agent/Makefile|3 3
Modified: examples/qmf-agent/example.cpp|4 4

Revision: 553933b943762ee4b7dcbd917f2f38994659550b
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2008 06:31:45
Message:
Support floats and doubles in field tables. #MsgLength=46


----
Modified: src/qpid/framing/FieldTable.cpp|29 0
Modified: src/qpid/framing/FieldTable.h|4 0
Modified: src/qpid/framing/FieldValue.cpp|8 0
Modified: src/qpid/framing/FieldValue.h|19 1
Modified: src/tests/FieldTable.cpp|35 0

Revision: d890459a93928d93d46a1112be929620b8d2d337
Author: Alan Conway <aconway@apache.org>
Date: 21/09/2008 13:04:04
Message:
DumpClient send connections & session IDs to new members. #MsgLength=59


----
Modified: src/qpid/Exception.cpp|1 1
Modified: src/qpid/broker/Connection.cpp|6 0
Modified: src/qpid/broker/Connection.h|22 11
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|38 20
Modified: src/qpid/cluster/Cluster.h|4 1
Modified: src/qpid/cluster/ClusterHandler.h|1 0
Modified: src/qpid/cluster/ClusterMap.cpp|2 0
Modified: src/qpid/cluster/Connection.cpp|25 17
Modified: src/qpid/cluster/Connection.h|6 4
Modified: src/qpid/cluster/ConnectionCodec.cpp|13 2
Modified: src/qpid/cluster/DumpClient.cpp|71 11
Modified: src/qpid/cluster/DumpClient.h|12 9
Modified: src/qpid/cluster/Event.h|0 4
Modified: src/qpid/cluster/JoiningHandler.cpp|12 13
Modified: src/qpid/cluster/JoiningHandler.h|1 0
Modified: src/qpid/cluster/MemberHandler.cpp|6 2
Modified: src/qpid/cluster/MemberHandler.h|1 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|9 4
Modified: src/qpid/cluster/types.h|2 0
Modified: src/tests/cluster_test.cpp|29 17

Revision: b1cf3ae365241d2fc325e5e8da1d0772198ddb4b
Author: Gordon Sim <gsim@apache.org>
Date: 22/09/2008 04:39:40
Message:
Refactoring of queue/queue-policy: - moved some logic out of Queue.cpp into QueuePolicy.cpp - moved QueuedMessage definition into its own header file - added checks for requeue and dequeue - split QueuePolicy logic into different sub classes Added ability to request old messages to be discareded to make room for new ones when configured limit has been reached. #MsgLength=365


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Consumer.h|22 36
Modified: src/qpid/broker/DeliveryRecord.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|31 37
Modified: src/qpid/broker/Queue.h|4 2
Modified: src/qpid/broker/QueuePolicy.cpp|168 15
Modified: src/qpid/broker/QueuePolicy.h|73 28
Added: src/qpid/broker/QueuedMessage.h|46 0
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/tests/QueuePolicyTest.cpp|113 34

Revision: c51937c6c912c2d0a17f5d2780ce23761842fda3
Author: Alan Conway <aconway@apache.org>
Date: 22/09/2008 22:03:07
Message:
Removed redundant code. #MsgLength=25


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/DeliveryRecord.cpp|0 19
Modified: src/qpid/broker/DeliveryRecord.h|0 3
Deleted: src/qpid/broker/Prefetch.h|0 42
Modified: src/qpid/broker/SemanticState.cpp|1 14
Modified: src/qpid/broker/SemanticState.h|0 8

Revision: acaa1755250f159de070588b90bb554f3b80c053
Author: Ted Ross <tross@apache.org>
Date: 23/09/2008 00:02:01
Message:
Added needed includes for generated Arg*.h files #MsgLength=49


----
Modified: managementgen/qmf/templates/Args.h|2 0

Revision: 6799574133fa00ed64d466947b1204e67ad131c9
Author: Gordon Sim <gsim@apache.org>
Date: 23/09/2008 01:39:13
Message:
Keep same default policy as before. #MsgLength=38


----
Modified: src/qpid/broker/QueuePolicy.cpp|1 1

Revision: 2e9b129d0a3d9da5cd5f21d096e2619741a60ab8
Author: Alan Conway <aconway@apache.org>
Date: 23/09/2008 03:08:47
Message:
Fixed error handling session-busy condition on broker. Added accessors to iterate over broker::SemanticState consumers. #MsgLength=121


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|7 5
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 0
Modified: src/qpid/broker/SemanticState.h|10 0
Modified: src/qpid/broker/SessionState.h|2 0
Modified: src/qpid/cluster/DumpClient.cpp|8 0
Modified: src/qpid/cluster/DumpClient.h|3 1
Modified: src/qpid/sys/AggregateOutput.h|8 1
Modified: src/tests/cluster_test.cpp|21 23
Modified: src/tests/exception_test.cpp|8 0

Revision: d0669a320c11a8abe722e5268a497e50ea72e41f
Author: Ted Ross <tross@apache.org>
Date: 23/09/2008 03:35:54
Message:
Add initialization for properties not in the constructor arguments #MsgLength=67


----
Modified: managementgen/qmf/management-types.xml|3 3
Modified: managementgen/qmf/schema.py|7 0

Revision: 8bd2930416ffeb0255d78f20f3051f5058458f84
Author: Gordon Sim <gsim@apache.org>
Date: 23/09/2008 09:05:27
Message:
Additional policy test #MsgLength=25


----
Modified: src/tests/QueuePolicyTest.cpp|23 0

Revision: f5075b2e5fa338e6f0976e3534620e65c396626c
Author: Gordon Sim <gsim@apache.org>
Date: 24/09/2008 02:35:52
Message:
Batch writing of outgoing messages (up to one buffers worth) #MsgLength=63


----
Modified: src/qpid/amqp_0_10/Connection.cpp|5 4

Revision: ea7c96836844404232c24be2fc99ef6049c2a190
Author: Ted Ross <tross@apache.org>
Date: 24/09/2008 02:42:45
Message:
QPID-1290 - Patch from William Henry #MsgLength=37


----
Modified: src/qpid/broker/Broker.cpp|26 0
Modified: src/qpid/broker/Broker.h|7 0
Modified: src/qpid/broker/Queue.cpp|18 3
Modified: src/qpid/broker/Queue.h|3 0

Revision: 013b4686cccef332ff7681db5af49e24cdf55abe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/09/2008 02:43:08
Message:
Removed the state lock from the RdmaIO code #MsgLength=45


----
Modified: src/qpid/sys/AtomicValue_gcc.h|1 1
Modified: src/qpid/sys/rdma/RdmaIO.cpp|124 93
Modified: src/qpid/sys/rdma/RdmaIO.h|4 2

Revision: 2775c2d26a140e9fe42dc65d0be5d40c3244328f
Author: Gordon Sim <gsim@apache.org>
Date: 24/09/2008 23:49:23
Message:
Corrected a careless mistake I made on an earlier commit. #MsgLength=60


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: fc0440b9600f585456b632d5a3546a805ff00dae
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2008 01:34:08
Message:
Cluster replicates session command sequence state and consumers to newcomers. #MsgLength=79


----
Modified: src/qpid/SessionState.cpp|26 1
Modified: src/qpid/SessionState.h|15 2
Modified: src/qpid/broker/SemanticState.h|6 0
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/client/ConnectionHandler.cpp|4 1
Modified: src/qpid/client/ConnectionHandler.h|1 1
Modified: src/qpid/cluster/Cluster.cpp|13 11
Modified: src/qpid/cluster/Cluster.h|4 1
Modified: src/qpid/cluster/Connection.cpp|79 24
Modified: src/qpid/cluster/Connection.h|18 17
Modified: src/qpid/cluster/ConnectionCodec.cpp|17 21
Modified: src/qpid/cluster/ConnectionCodec.h|1 0
Modified: src/qpid/cluster/DumpClient.cpp|55 24
Modified: src/qpid/cluster/Event.cpp|10 9
Modified: src/qpid/cluster/Event.h|3 1
Modified: src/qpid/cluster/JoiningHandler.cpp|9 6
Modified: src/qpid/cluster/MemberHandler.cpp|4 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|18 2
Modified: src/qpid/cluster/OutputInterceptor.h|2 2
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|2 2
Modified: src/tests/cluster_test.cpp|25 24
Modified: xml/cluster.xml|3 2

Revision: f475a4894c0665db71782dc674c4a48a31497a39
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2008 20:30:14
Message:
Enabled management, add cluster shutdown command. Remove dead Handler methods in Cluster. Fixed SessionException handling in broker, was throwing some SessionExceptions as "unknown exception" #MsgLength=193


----
Modified: src/qpid/SessionState.cpp|1 1
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|9 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 3
Modified: src/qpid/broker/SessionState.cpp|9 25
Modified: src/qpid/cluster/Cluster.cpp|39 80
Modified: src/qpid/cluster/Cluster.h|2 6
Modified: src/qpid/cluster/ClusterHandler.cpp|11 2
Modified: src/qpid/cluster/ClusterHandler.h|1 0
Modified: src/qpid/cluster/JoiningHandler.cpp|9 1
Modified: src/qpid/cluster/MemberHandler.cpp|10 3
Modified: src/qpid/cluster/MemberHandler.h|1 1
Modified: xml/cluster.xml|2 0

Revision: 814c9763769a2ef65bce7d153790c693f8a60e0f
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2008 22:16:51
Message:
Added ScopedSuppressLogging, used to suppress expected error messages in tests. For examples see src/tests/exception_test.cpp #MsgLength=127


----
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Logger.h|10 7
Modified: src/qpid/log/Options.cpp|18 1
Modified: src/qpid/log/Options.h|3 1
Modified: src/tests/QueuePolicyTest.cpp|5 2
Modified: src/tests/exception_test.cpp|9 1
Modified: src/tests/logging.cpp|10 43
Modified: src/tests/test_tools.h|13 1

Revision: 620504648f084cdd6710a6807e9edb3e61c8dce8
Author: Alan Conway <aconway@apache.org>
Date: 26/09/2008 01:42:20
Message:
Fixed incorrect exception message. #MsgLength=36


----
Modified: src/qpid/broker/Daemon.cpp|2 3

Revision: 486a1cae41ea92a54b3463983c976011f50beef2
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 26/09/2008 02:40:32
Message:
This adds the user_id checking described in QPID-943. If a user_id is supplied in message properties it will be checked against the id used for authentication. This check is disabled for federation links. #MsgLength=206


----
Modified: src/qpid/broker/Connection.cpp|7 0
Modified: src/qpid/broker/Connection.h|1 0
Modified: src/qpid/broker/ConnectionHandler.cpp|19 12
Modified: src/qpid/broker/ConnectionState.h|10 5
Modified: src/qpid/broker/SemanticState.cpp|14 2
Modified: src/qpid/broker/SemanticState.h|3 1

Revision: 52bd7296e18660533356a1de54de8c119f2f7963
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 01:11:19
Message:
Fix build problems on rhel 5.2 and 64-bit encoding bug. #MsgLength=57


----
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/ExchangeRegistry.h|3 3
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/QueueBindings.h|1 1
Modified: src/qpid/broker/QueueRegistry.h|3 3
Modified: src/qpid/broker/SemanticState.h|2 4
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Cluster.h|5 5
Modified: src/qpid/cluster/DumpClient.cpp|6 1
Modified: src/qpid/cluster/Event.cpp|3 3
Modified: src/qpid/cluster/Event.h|2 2
Modified: src/qpid/sys/AggregateOutput.h|1 1
Modified: src/qpid/sys/PollableQueue.h|1 1

Revision: 0164e35037c93fdfbee198a3c2b6bc98dc583dd0
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 03:22:00
Message:
cluster:] - call updateMemberStats() exactly once for each change in cluster membership. - fix spurious replication of catch-up connection close events. Removed unused client/MessageQueue.h #MsgLength=193


----
Modified: src/Makefile.am|0 1
Deleted: src/qpid/client/MessageQueue.h|0 50
Modified: src/qpid/cluster/Cluster.cpp|3 3
Modified: src/qpid/cluster/ClusterMap.cpp|31 18
Modified: src/qpid/cluster/ClusterMap.h|9 6
Modified: src/qpid/cluster/Connection.cpp|18 15
Modified: src/qpid/cluster/JoiningHandler.cpp|4 5
Modified: src/qpid/cluster/MemberHandler.cpp|5 6

Revision: 432bbae67681157b245ba58fe92778f666cb28ff
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 03:41:43
Message:
Bugfix, tests were crashing. #MsgLength=30


----
Modified: src/qpid/cluster/Connection.cpp|16 15

Revision: b4f5c848de3530ec4229fcfe91762a63043bfa83
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 04:01:27
Message:
Call updateMemberStats for the first member of the cluster. #MsgLength=61


----
Modified: src/qpid/cluster/JoiningHandler.cpp|1 0

Revision: 6888860a1045482375ac20c86edf00db43135c1d
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 05:49:52
Message:
Clean up end-of-dump protocol for new cluster members. #MsgLength=56


----
Modified: src/qpid/cluster/Cluster.cpp|5 2
Modified: src/qpid/cluster/Cluster.h|4 6
Modified: src/qpid/cluster/ClusterHandler.h|1 2
Modified: src/qpid/cluster/ClusterMap.cpp|4 5
Modified: src/qpid/cluster/Connection.cpp|9 21
Modified: src/qpid/cluster/DumpClient.cpp|10 5
Modified: src/qpid/cluster/JoiningHandler.cpp|2 20
Modified: src/qpid/cluster/JoiningHandler.h|1 3
Modified: src/qpid/cluster/MemberHandler.cpp|1 13
Modified: src/qpid/cluster/MemberHandler.h|1 2

Revision: 1d8f04ea4958f490000e597336c75545239d9c84
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2008 08:08:18
Message:
Added missing locks in cluster code. #MsgLength=38


----
Modified: src/qpid/cluster/Cluster.cpp|1 0
Modified: src/qpid/cluster/JoiningHandler.cpp|2 1
Modified: src/qpid/cluster/MemberHandler.cpp|1 0

Revision: ec5e2dda8dd00f44a077e4c2e572a6266e741ca3
Author: Alan Conway <aconway@apache.org>
Date: 30/09/2008 22:00:24
Message:
Remove unused file. #MsgLength=21


----
Modified: src/tests/Makefile.am|0 1
Deleted: src/tests/MockConnectionInputHandler.h|0 100

Revision: 6cc21d3dbc0cbbcfc115af97fd235a602b9b64d0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/09/2008 22:57:32
Message:
QPID-1306 #MsgLength=240


----
Modified: src/qpid/broker/Message.cpp|8 2
Modified: src/qpid/broker/Message.h|3 0
Modified: src/qpid/broker/Queue.cpp|59 40
Modified: src/qpid/broker/Queue.h|29 0
Modified: src/qpid/broker/QueueRegistry.cpp|16 1
Modified: src/qpid/broker/QueueRegistry.h|7 0
Modified: src/qpid/cluster/Cluster.cpp|14 2
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/tests/QueueTest.cpp|90 0

Revision: 4560ad48a5a2b1bfd7f50bd7f8b22237808f64cb
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/10/2008 00:04:29
Message:
QPID-1306 #MsgLength=57


----
Modified: src/qpid/broker/Queue.cpp|3 11
Modified: src/tests/QueueTest.cpp|9 13

Revision: 3c33ceba80aa18ad940295b2deb875bc665dafdd
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/10/2008 00:17:22
Message:
QPID-1306 #MsgLength=69


----
Modified: src/tests/QueueTest.cpp|4 4

Revision: 3417d3edeb720771f2015bf7afce6c11f421e95d
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 01/10/2008 00:46:21
Message:
Added a default value for param in authorize and lookup methods in Acl.h and AclData.h. This enables the user to call authorize and lookup safely without having to pass params. #MsgLength=296


----
Modified: src/qpid/acl/Acl.h|1 1
Modified: src/qpid/acl/AclData.h|1 1
Modified: src/qpid/acl/AclReader.cpp|3 1

Revision: 346845d1478ebe01c76d1190d3e3e24b7e13d078
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 01/10/2008 00:50:02
Message:
This is for QPID-1297. This commit adds ACL checks for creation and deletion of federation links. The AclModule.h was modified to have a defaut value for params in the authorize method. #MsgLength=187


----
Modified: src/qpid/broker/AclModule.h|1 1
Modified: src/qpid/broker/ConnectionHandler.cpp|10 2
Modified: src/qpid/broker/ConnectionHandler.h|14 12
Modified: src/qpid/broker/Link.cpp|9 0
Modified: src/qpid/broker/Link.h|1 0

Revision: b6e3a0a0c936253ce0b42a3f71664b951a1066a3
Author: Gordon Sim <gsim@apache.org>
Date: 01/10/2008 02:46:31
Message:
Handle case where first message in 'ring queue' would exceed limit. #MsgLength=70


----
Modified: src/qpid/broker/QueuePolicy.cpp|7 0

Revision: fe6fc413e724a27b3d55e23d958979054347f5fd
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/10/2008 03:52:17
Message:
Resolve QPID-1309 #MsgLength=18


----
Modified: configure.ac|3 0
Added: src/qpid/Version.h|40 0
Modified: src/qpid/broker/Broker.cpp|5 4
Modified: src/qpidd.cpp|3 2

Revision: 8b1d8e3790644b7f540c4574026a0978121776ad
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/10/2008 04:12:38
Message:
Resolve QPID-1311 #MsgLength=18


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/amqp_0_10/built_in_types.h|1 1
Modified: src/qpid/client/SessionImpl.cpp|1 0
Modified: src/qpid/framing/amqp_types.h|3 12
Added: src/qpid/sys/IntegerTypes.h|31 0
Modified: src/qpid/sys/ProtocolFactory.h|1 1
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/Time.h|1 1
Added: src/qpid/sys/posix/IntegerTypes.h|26 0
Added: src/qpid/sys/windows/IntegerTypes.h|40 0

Revision: dc267649c7c7bf690f3a8fb9cacdfa3134f55caa
Author: Gordon Sim <gsim@apache.org>
Date: 03/10/2008 16:16:11
Message:
Include IntegerTypes.h in packaged headers. #MsgLength=46


----
Modified: src/Makefile.am|1 1

Revision: ec72aa2069a8eb73f7eaecab8b2072ce13c1ce2f
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/10/2008 23:01:55
Message:
QPID 1306 #MsgLength=82


----
Modified: src/Makefile.am|2 0
Added: src/qpid/client/QueueOptions.cpp|121 0
Added: src/qpid/client/QueueOptions.h|113 0
Modified: src/qpid/framing/FieldTable.cpp|4 4
Modified: src/qpid/framing/FieldTable.h|1 1
Modified: src/tests/Makefile.am|1 0
Modified: src/tests/QueueTest.cpp|1 0

Revision: 0923677d98ef0f1350a784d14b75f7c5ffaa8070
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/10/2008 23:35:25
Message:
QPID-1306 #MsgLength=45


----
Added: src/tests/QueueOptionsTest.cpp|79 0

Revision: 00d2617bf59126de683e25d2f753b4fb30b0ae6d
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/10/2008 02:46:00
Message:
Add Windows threading and synchronization primitives #MsgLength=53


----
Modified: src/qpid/sys/Condition.h|2 0
Modified: src/qpid/sys/Monitor.h|0 2
Modified: src/qpid/sys/Mutex.h|2 0
Modified: src/qpid/sys/Thread.h|8 0
Added: src/qpid/sys/windows/Condition.h|82 0
Added: src/qpid/sys/windows/Mutex.h|188 0
Added: src/qpid/sys/windows/Thread.cpp|88 0
Added: src/qpid/sys/windows/check.h|48 0

Revision: ec740e066451f2216a2cbae5763dc74224bfb995
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/10/2008 03:12:52
Message:
Added Windows implementation of qpid::sys::strError #MsgLength=52


----
Added: src/qpid/sys/windows/StrError.cpp|47 0

Revision: 56717ef56d1bc99a8180ade6615254761b37369d
Author: Alan Conway <aconway@apache.org>
Date: 04/10/2008 04:56:38
Message:
Cluster join & brain-dumps working. #MsgLength=259


----
Modified: src/Makefile.am|1 0
Modified: src/cluster.mk|1 7
Modified: src/qpid/broker/Connection.cpp|1 0
Modified: src/qpid/client/ConnectionHandler.cpp|3 1
Modified: src/qpid/client/ConnectionHandler.h|1 0
Modified: src/qpid/client/ConnectionImpl.cpp|5 3
Modified: src/qpid/cluster/Cluster.cpp|333 145
Modified: src/qpid/cluster/Cluster.h|93 78
Deleted: src/qpid/cluster/ClusterHandler.cpp|0 62
Deleted: src/qpid/cluster/ClusterHandler.h|0 70
Modified: src/qpid/cluster/ClusterMap.cpp|91 46
Modified: src/qpid/cluster/ClusterMap.h|38 28
Modified: src/qpid/cluster/Connection.cpp|13 7
Modified: src/qpid/cluster/Connection.h|3 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|6 3
Modified: src/qpid/cluster/ConnectionCodec.h|1 0
Modified: src/qpid/cluster/DumpClient.cpp|24 19
Modified: src/qpid/cluster/DumpClient.h|10 3
Modified: src/qpid/cluster/Event.cpp|10 1
Modified: src/qpid/cluster/Event.h|6 0
Deleted: src/qpid/cluster/JoiningHandler.cpp|0 124
Deleted: src/qpid/cluster/JoiningHandler.h|0 60
Deleted: src/qpid/cluster/MemberHandler.cpp|0 96
Deleted: src/qpid/cluster/MemberHandler.h|0 63
Modified: src/qpid/cluster/types.h|5 2
Modified: src/qpid/framing/FieldTable.h|3 0
Added: src/qpid/sys/LockPtr.h|89 0
Modified: src/qpid/sys/PollableQueue.h|49 50
Modified: src/tests/cluster_test.cpp|3 28
Modified: xml/cluster.xml|18 10

Revision: d2203b444af6d7fcd156e78434dd6aa35d55d1c2
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/10/2008 05:12:18
Message:
Don't refer to BROKER_SASL_NAME is SASL not configured; refixes QPID-1309 #MsgLength=74


----
Modified: src/qpid/Version.h|4 0

Revision: 7dbc78de37f8d6ca1bdedf9499dc6758f893e2c8
Author: Rafael H. Schloming <rhs@apache.org>
Date: 07/10/2008 04:53:53
Message:
workaround for bug in REXML xpath impl #MsgLength=39


----
Modified: rubygen/amqpgen.rb|8 1

Revision: 6bc7a9b249d4d5d0ec535cb2498307083f0e6698
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/10/2008 23:19:50
Message:
Abstract native file-locking and directory detection/creation to portable classes LockFile and FileSysDir; resolves QPID-1148 #MsgLength=126


----
Modified: src/Makefile.am|3 1
Modified: src/qpid/DataDir.cpp|4 16
Modified: src/qpid/broker/Daemon.cpp|3 20
Added: src/qpid/sys/FileSysDir.h|62 0
Modified: src/qpid/sys/LockFile.h|54 1
Added: src/qpid/sys/posix/FileSysDir.cpp|54 0
Renamed: src/qpid/sys/posix/LockFile.cpp [from src/qpid/sys/posix/LockFile.h]|62 31
Added: src/qpid/sys/windows/FileSysDir.cpp|53 0
Added: src/qpid/sys/windows/LockFile.cpp|83 0

Revision: 6066d0924dfc42c2bf9813768946199c17a1ad85
Author: Alan Conway <aconway@apache.org>
Date: 08/10/2008 01:24:24
Message:
Rename size() to encodedSize() for encoded types to allow std collection interfaces for types like FieldTable and Array. #MsgLength=121


----
Modified: rubygen/framing.0-10/structs.rb|12 10
Modified: src/qpid/SessionState.cpp|8 8
Modified: src/qpid/amqp_0_10/Connection.cpp|4 4
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/client/Connector.cpp|2 2
Modified: src/qpid/client/RdmaConnector.cpp|3 3
Modified: src/qpid/client/SessionImpl.cpp|3 3
Modified: src/qpid/cluster/Event.cpp|1 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 1
Modified: src/qpid/framing/AMQBody.h|1 1
Modified: src/qpid/framing/AMQCommandControlBody.h|1 1
Modified: src/qpid/framing/AMQContentBody.cpp|2 2
Modified: src/qpid/framing/AMQContentBody.h|1 1
Modified: src/qpid/framing/AMQDataBlock.h|1 1
Modified: src/qpid/framing/AMQFrame.cpp|3 3
Modified: src/qpid/framing/AMQFrame.h|1 1
Modified: src/qpid/framing/AMQHeaderBody.cpp|3 3
Modified: src/qpid/framing/AMQHeaderBody.h|4 4
Modified: src/qpid/framing/AMQHeartbeatBody.h|1 1
Modified: src/qpid/framing/AMQMethodBody.h|1 1
Modified: src/qpid/framing/Array.cpp|5 5
Modified: src/qpid/framing/Array.h|1 1
Modified: src/qpid/framing/BodyHolder.cpp|3 3
Modified: src/qpid/framing/BodyHolder.h|1 1
Modified: src/qpid/framing/FieldTable.cpp|3 3
Modified: src/qpid/framing/FieldTable.h|1 1
Modified: src/qpid/framing/FieldValue.h|6 6
Modified: src/qpid/framing/HeaderProperties.h|1 1
Modified: src/qpid/framing/ModelMethod.h|1 1
Modified: src/qpid/framing/ProtocolInitiation.h|1 1
Modified: src/qpid/framing/SendContent.cpp|4 4
Modified: src/qpid/framing/SequenceNumber.cpp|1 1
Modified: src/qpid/framing/SequenceNumber.h|1 1
Modified: src/qpid/framing/SequenceSet.cpp|1 1
Modified: src/qpid/framing/SequenceSet.h|1 1
Modified: src/qpid/framing/Uuid.h|1 1
Modified: src/qpid/framing/frame_functors.h|2 2
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 1
Modified: src/tests/FieldTable.cpp|3 3
Modified: src/tests/Frame.cpp|2 2
Modified: src/tests/HeaderTest.cpp|1 1
Modified: src/tests/SessionState.cpp|3 3

Revision: 74ce86f814d66a2c3ed2d9fbac6c157da660d5b5
Author: Alan Conway <aconway@apache.org>
Date: 08/10/2008 01:27:06
Message:
broker: Fixed incorrect pass-by-reference of Queue::shared_ptr in several files. cluster: added FailoverExchange - send cluster membership to clients. client: added FailoverListener - receive cluster updates from failover exchange. #MsgLength=233


----
Modified: src/Makefile.am|4 2
Modified: src/cluster.mk|3 1
Modified: src/qpid/broker/Deliverable.h|1 1
Modified: src/qpid/broker/DeliverableMessage.cpp|2 2
Modified: src/qpid/broker/DeliverableMessage.h|2 2
Modified: src/qpid/broker/ExchangeRegistry.cpp|4 0
Modified: src/qpid/broker/ExchangeRegistry.h|5 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/TxPublish.cpp|3 3
Modified: src/qpid/broker/TxPublish.h|3 3
Added: src/qpid/client/FailoverListener.cpp|59 0
Added: src/qpid/client/FailoverListener.h|58 0
Modified: src/qpid/cluster/Cluster.cpp|22 14
Modified: src/qpid/cluster/Cluster.h|12 3
Modified: src/qpid/cluster/ClusterMap.cpp|6 4
Modified: src/qpid/cluster/ClusterMap.h|7 3
Modified: src/qpid/cluster/ClusterPlugin.cpp|5 2
Added: src/qpid/cluster/FailoverExchange.cpp|99 0
Added: src/qpid/cluster/FailoverExchange.h|68 0
Modified: src/qpid/framing/Array.cpp|1 1
Modified: src/qpid/framing/Array.h|3 3
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/cluster_test.cpp|79 4

Revision: ecf8ae4c65c0e1fcce13ea72b3ab5925dea6148d
Author: Ted Ross <tross@apache.org>
Date: 08/10/2008 05:47:35
Message:
QPID-1327 - Event support for Management #MsgLength=41


----
Modified: examples/qmf-agent/example.cpp|2 1
Modified: examples/qmf-agent/schema.xml|8 9
Modified: managementgen/qmf-gen|2 0
Modified: managementgen/qmf/generate.py|18 0
Modified: managementgen/qmf/management-types.xml|1 1
Modified: managementgen/qmf/schema.py|150 96
Modified: managementgen/qmf/templates/Class.cpp|4 7
Modified: managementgen/qmf/templates/Class.h|5 7
Added: managementgen/qmf/templates/Event.cpp|77 0
Added: managementgen/qmf/templates/Event.h|58 0
Modified: src/qpid/acl/Acl.cpp|18 11
Modified: src/qpid/acl/Acl.h|2 1
Modified: src/qpid/acl/management-schema.xml|19 23
Modified: src/qpid/agent/ManagementAgent.h|20 17
Modified: src/qpid/agent/ManagementAgentImpl.cpp|102 84
Modified: src/qpid/agent/ManagementAgentImpl.h|42 28
Modified: src/qpid/broker/Connection.cpp|1 0
Modified: src/qpid/broker/ConnectionState.h|4 0
Modified: src/qpid/broker/SessionAdapter.cpp|151 117
Modified: src/qpid/framing/Buffer.h|3 1
Modified: src/qpid/management/Manageable.h|1 0
Modified: src/qpid/management/ManagementBroker.cpp|191 137
Modified: src/qpid/management/ManagementBroker.h|33 27
Added: src/qpid/management/ManagementEvent.h|48 0
Modified: src/qpid/management/ManagementObject.cpp|15 15
Modified: src/qpid/management/ManagementObject.h|33 25

Revision: 10ef5a80a7403aea519fb840ebe8cd0fdeafac7f
Author: Alan Conway <aconway@apache.org>
Date: 08/10/2008 08:36:42
Message:
rubygen/framing.0-10/constants.rb: create functions for all 3 exception subclasses. client: added session suspend/resume functions, resume not implemented yet. ClientSessionTest: enabled compilation of suspend/resume tests with expected failures. #MsgLength=249


----
Modified: rubygen/framing.0-10/constants.rb|31 27
Modified: src/qpid/client/Connection.h|1 0
Modified: src/qpid/client/Results.cpp|4 0
Modified: src/qpid/client/Results.h|1 0
Modified: src/qpid/client/SessionBase_0_10.cpp|6 0
Modified: src/qpid/client/SessionBase_0_10.h|8 0
Modified: src/qpid/client/SessionImpl.cpp|15 15
Modified: src/qpid/client/SessionImpl.h|8 2
Modified: src/tests/ClientSessionTest.cpp|31 33

Revision: 056d5e4d29b15f62da08e536c688e845ab73d365
Author: Alan Conway <aconway@apache.org>
Date: 08/10/2008 10:03:05
Message:
SessionImpl using ExceptionHolder to generate correctly typed exceptions.. #MsgLength=76


----
Modified: rubygen/framing.0-10/constants.rb|2 2
Modified: src/qpid/client/SessionImpl.cpp|29 35
Modified: src/qpid/client/SessionImpl.h|10 9
Modified: src/qpid/sys/ExceptionHolder.h|1 1
Modified: src/tests/exception_test.cpp|2 2

Revision: 2153756030d0e086898e07e80cc56a14406ea79a
Author: Gordon Sim <gsim@apache.org>
Date: 08/10/2008 16:32:20
Message:
Add ManagementEvent.h to distributed files. #MsgLength=46


----
Modified: src/Makefile.am|1 0

Revision: 29cf912652a8d195ae0a5682f31393b93d36a62f
Author: Ted Ross <tross@apache.org>
Date: 08/10/2008 21:57:18
Message:
Fixed a couple of distribution bugs #MsgLength=36


----
Modified: managementgen/Makefile.am|2 0
Modified: src/Makefile.am|1 0

Revision: fb7b4a62e5a83eb7d001d7d3889b063a9d7cd931
Author: Ted Ross <tross@apache.org>
Date: 08/10/2008 23:49:27
Message:
Added serialize/deserialize for ObjectId #MsgLength=41


----
Modified: src/qpid/management/ManagementObject.cpp|44 5
Modified: src/qpid/management/ManagementObject.h|2 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/ManagementTest.cpp|74 0

Revision: 99eb231f9feb537a8011aa203178632a2c31e1d7
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/10/2008 00:13:18
Message:
Add uuid wrapper for Windows; resolves QPID-1328 #MsgLength=49


----
Modified: src/Makefile.am|2 1
Modified: src/qpid/framing/Uuid.h|2 2
Added: src/qpid/sys/uuid.h|28 0
Added: src/qpid/sys/windows/uuid.cpp|54 0
Added: src/qpid/sys/windows/uuid.h|41 0

Revision: e65f9a00e0a62223cc5026aca70f346968cd1f69
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/10/2008 02:35:46
Message:
QPID-1306 #MsgLength=163


----
Modified: src/qpid/broker/Queue.cpp|50 20
Modified: src/qpid/broker/Queue.h|5 0
Modified: src/qpid/client/QueueOptions.cpp|7 4
Modified: src/qpid/client/QueueOptions.h|6 1
Modified: src/tests/QueueOptionsTest.cpp|4 0
Modified: src/tests/QueueTest.cpp|93 7

Revision: c6a5c157ae6bfc5dbf94185985c4086a113894bc
Author: Ted Ross <tross@apache.org>
Date: 09/10/2008 03:44:24
Message:
QPID-1327 - Added severity field to events, cleaned up routing key usage #MsgLength=73


----
Modified: managementgen/qmf/schema.py|16 0
Modified: src/qpid/acl/management-schema.xml|4 4
Modified: src/qpid/agent/ManagementAgentImpl.cpp|6 5
Modified: src/qpid/management/ManagementBroker.cpp|13 6

Revision: d8a1d568af319a1efe7aac4b313a000fd6e4f1c9
Author: Ted Ross <tross@apache.org>
Date: 09/10/2008 05:16:01
Message:
Made expireTime an optional property of session (mgmt) #MsgLength=55


----
Modified: src/qpid/broker/SessionState.cpp|1 0

Revision: 1793ca4817a9a8ccc1b1f333c239bc6a9e49be90
Author: Gordon Sim <gsim@apache.org>
Date: 09/10/2008 16:36:25
Message:
Minor indentation fixes #MsgLength=26


----
Modified: src/qpid/broker/Queue.cpp|43 43
Modified: src/qpid/broker/Queue.h|20 17
Modified: src/qpid/client/QueueOptions.cpp|26 26
Modified: src/qpid/client/QueueOptions.h|58 61

Revision: 4cf036f9d384fc001861aacab4c10d96b992a99c
Author: Ted Ross <tross@apache.org>
Date: 09/10/2008 21:47:48
Message:
QPID-1327 - Added optional severity override in the eventRaise method #MsgLength=70


----
Modified: managementgen/qmf/schema.py|3 1
Modified: managementgen/qmf/templates/Event.h|2 1
Modified: src/qpid/agent/ManagementAgent.h|14 1
Modified: src/qpid/agent/ManagementAgentImpl.cpp|3 1
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1
Modified: src/qpid/management/ManagementBroker.cpp|3 1
Modified: src/qpid/management/ManagementBroker.h|1 1
Modified: src/qpid/management/ManagementEvent.h|1 0

Revision: 135210e4e4b252a7f12b63796f4865fa33046f60
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/10/2008 23:20:49
Message:
Make Address/TcpAddress manipulation portable; extend SystemInfo functions to Windows; resolves QPID-1325 #MsgLength=106


----
Modified: src/Makefile.am|2 1
Added: src/qpid/Address.h|53 0
Modified: src/qpid/Url.cpp|6 24
Modified: src/qpid/Url.h|1 22
Modified: src/qpid/broker/System.cpp|12 10
Modified: src/qpid/sys/SystemInfo.h|31 7
Renamed: src/qpid/sys/posix/SystemInfo.cpp [from src/qpid/sys/SystemInfo.cpp]|61 1
Added: src/qpid/sys/windows/SystemInfo.cpp|160 0

Revision: 1804c37708954bd53c8b2d4a6c30465ee8c59ac6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/10/2008 01:48:15
Message:
Added options to perftest - tx_sub & tx_pub so that they can be set independantly - async tx pub option #MsgLength=107


----
Modified: src/tests/perftest.cpp|36 14

Revision: 36154ee5348d09a739a522d71d72d21022c3a54f
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/10/2008 03:35:19
Message:
QPID-1306 #MsgLength=97


----
Modified: src/qpid/broker/Queue.cpp|7 2
Modified: src/tests/QueueTest.cpp|48 0

Revision: caea707c377e5816f53f150b8b13b9511df3a115
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2008 03:36:51
Message:
Client-side support for amq.faiover exchange. Connection::getKnownBrokers provides latest list. #MsgLength=97


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/SessionState.cpp|2 2
Modified: src/qpid/client/Connection.cpp|7 10
Modified: src/qpid/client/Connection.h|5 4
Added: src/qpid/client/ConnectionAccess.h|41 0
Modified: src/qpid/client/ConnectionImpl.cpp|25 4
Modified: src/qpid/client/ConnectionImpl.h|11 2
Modified: src/qpid/client/FailoverListener.cpp|32 9
Modified: src/qpid/client/FailoverListener.h|8 9
Modified: src/qpid/client/SessionImpl.cpp|32 27
Modified: src/qpid/client/SessionImpl.h|13 5
Modified: src/qpid/client/SubscriptionManager.h|3 3
Modified: src/qpid/cluster/Cluster.cpp|28 21
Modified: src/qpid/cluster/DumpClient.cpp|12 19
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 3
Modified: src/tests/cluster_test.cpp|24 44

Revision: 9bb72688a7b7ac6abbc3f0be5f32180cff975843
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2008 12:49:48
Message:
QPID-1340 froM Mick Goulish: preliminary client-side failover support. #MsgLength=72


----
Modified: configure.ac|1 0
Modified: examples/Makefile.am|1 1
Added: examples/failover/Makefile.am|21 0
Added: examples/failover/declare_queues.cpp|88 0
Added: examples/failover/direct_producer.cpp|148 0
Added: examples/failover/listener.cpp|249 0
Modified: src/Makefile.am|8 2
Modified: src/qpid/broker/Broker.cpp|12 1
Modified: src/qpid/broker/Broker.h|6 0
Modified: src/qpid/broker/ConnectionHandler.cpp|6 2
Modified: src/qpid/client/Connection.cpp|11 0
Modified: src/qpid/client/Connection.h|5 0
Modified: src/qpid/client/ConnectionHandler.cpp|6 2
Modified: src/qpid/client/ConnectionHandler.h|3 0
Modified: src/qpid/client/ConnectionImpl.cpp|10 3
Modified: src/qpid/client/ConnectionImpl.h|4 3
Modified: src/qpid/client/Dispatcher.cpp|16 2
Modified: src/qpid/client/Dispatcher.h|7 0
Added: src/qpid/client/FailoverConnection.cpp|185 0
Added: src/qpid/client/FailoverConnection.h|103 0
Added: src/qpid/client/FailoverSession.cpp|592 0
Added: src/qpid/client/FailoverSession.h|314 0
Added: src/qpid/client/FailoverSubscriptionManager.cpp|332 0
Added: src/qpid/client/FailoverSubscriptionManager.h|162 0
Modified: src/qpid/client/SubscriptionManager.cpp|6 0
Modified: src/qpid/client/SubscriptionManager.h|5 3
Modified: src/qpid/cluster/Cluster.cpp|1 0

Revision: 077811907654e472c095b2a063dda1505eb4b7ad
Author: Alan Conway <aconway@apache.org>
Date: 11/10/2008 00:42:53
Message:
Client-side INFO logging for known-broker updates. #MsgLength=52


----
Modified: src/qpid/client/ConnectionHandler.cpp|2 0
Modified: src/qpid/client/FailoverListener.cpp|6 3
Modified: src/qpid/client/FailoverListener.h|1 1

Revision: d1050a02d3ce4ebaed165245d1ee10712e095ca8
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2008 00:54:54
Message:
Handle ttl in messages transfers received by the broker 7 added test for it Moved Timer instance from DtxManager to Broker so it can be shared #MsgLength=145


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|5 1
Modified: src/qpid/broker/DtxManager.cpp|1 1
Modified: src/qpid/broker/DtxManager.h|2 2
Modified: src/qpid/broker/Message.cpp|25 1
Modified: src/qpid/broker/Message.h|4 0
Modified: src/qpid/broker/Queue.cpp|7 1
Modified: src/qpid/broker/SemanticState.cpp|11 4

Revision: f53ae599b3459f36d8a4dd4fee18ba4fa5418594
Author: Alan Conway <aconway@apache.org>
Date: 11/10/2008 01:44:50
Message:
Failover client and example fixes & tidy up. #MsgLength=46


----
Modified: examples/failover/direct_producer.cpp|123 121
Modified: examples/failover/listener.cpp|151 146
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|2 5
Modified: src/qpid/client/FailoverListener.cpp|4 1

Revision: 597eec5d58e65574036ae328493d1c499d64ceed
Author: Gordon Sim <gsim@apache.org>
Date: 11/10/2008 03:04:08
Message:
Identify transports by name #MsgLength=30


----
Modified: src/qpid/broker/Broker.cpp|18 17
Modified: src/qpid/broker/Broker.h|9 5
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1

Revision: b594d1d1e27bc23ddec64fd6571a862e52ed678b
Author: Ted Ross <tross@apache.org>
Date: 11/10/2008 03:24:40
Message:
QPID-1349 - Push routing for federation (includes hook for dynamic routing) #MsgLength=76


----
Modified: src/qpid/broker/Bridge.cpp|46 29
Modified: src/qpid/broker/Bridge.h|9 0
Modified: src/qpid/broker/Link.cpp|2 1
Modified: src/qpid/broker/LinkRegistry.cpp|3 1
Modified: src/qpid/broker/LinkRegistry.h|2 1
Modified: src/tests/federation.py|44 0

Revision: 3fad494ec3f15059098ebed1e94df4672faac26b
Author: Alan Conway <aconway@apache.org>
Date: 11/10/2008 05:19:46
Message:
Failover client and example fixes & tidy up. #MsgLength=46


----
Modified: examples/failover/direct_producer.cpp|41 95
Modified: examples/failover/listener.cpp|23 14
Modified: src/qpid/client/FailoverConnection.cpp|2 2
Modified: src/qpid/client/FailoverConnection.h|4 4
Modified: src/qpid/client/FailoverSession.cpp|169 152
Modified: src/qpid/client/FailoverSession.h|6 2
Modified: src/qpid/client/FailoverSubscriptionManager.cpp|112 110
Modified: src/qpid/client/FailoverSubscriptionManager.h|3 1

Revision: 905d859266f3051eb6f40c3ea208b48060bf58f6
Author: Ted Ross <tross@apache.org>
Date: 11/10/2008 06:18:42
Message:
QPID-1350 - Object reference following in the QMF console API #MsgLength=62


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|22 7
Modified: src/qpid/management/ManagementBroker.cpp|27 12
Modified: src/qpid/management/ManagementObject.cpp|15 3
Modified: src/qpid/management/ManagementObject.h|2 0
Modified: src/tests/ManagementTest.cpp|12 1

Revision: bdf349161a2c9d736a8fc55dc362cfd640e2d282
Author: Alan Conway <aconway@apache.org>
Date: 11/10/2008 07:32:02
Message:
src/client/FailoverConnection.cpp: re-register callback after failures #MsgLength=72


----
Modified: examples/failover/direct_producer.cpp|2 1
Modified: src/qpid/client/FailoverConnection.cpp|3 7

Revision: ea60d1a19d4674181651b8c343c49acecfe8bec6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 12/10/2008 02:24:50
Message:
QPID-1306 #MsgLength=49


----
Modified: src/qpid/broker/Queue.cpp|2 1
Modified: src/tests/QueueTest.cpp|6 3

Revision: 39e0eb06806764e4247587202007a4178c414687
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 00:43:10
Message:
Allow management clienst to specify transport to use for inter-broker links #MsgLength=78


----
Modified: src/qpid/broker/Broker.cpp|8 5
Modified: src/qpid/broker/Broker.h|6 0
Modified: src/qpid/broker/Link.cpp|11 8
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/LinkRegistry.cpp|2 2
Modified: src/qpid/broker/LinkRegistry.h|1 1

Revision: de4e0eeaab2dc47fc527229b8c84b530683b7cf5
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 01:09:06
Message:
Periodically purge expired messages from queues #MsgLength=50


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|9 1
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/Queue.cpp|13 0
Modified: src/qpid/broker/Queue.h|1 0
Added: src/qpid/broker/QueueCleaner.cpp|52 0
Added: src/qpid/broker/QueueCleaner.h|57 0
Modified: src/tests/ClientSessionTest.cpp|40 0
Modified: src/tests/QueueTest.cpp|39 0

Revision: 04292ffa9ea0727635d5cc6d25be36ea4ca572e3
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 14/10/2008 02:07:07
Message:
QPID-1351 #MsgLength=292


----
Modified: src/qpid/broker/DirectExchange.cpp|1 0
Modified: src/qpid/broker/Exchange.cpp|24 2
Modified: src/qpid/broker/Exchange.h|7 0
Modified: src/qpid/broker/FanOutExchange.cpp|8 5
Modified: src/qpid/broker/HeadersExchange.cpp|12 7
Modified: src/qpid/broker/TopicExchange.cpp|1 0
Modified: src/qpid/framing/FieldTable.cpp|16 0
Modified: src/qpid/framing/FieldTable.h|5 1
Modified: src/qpid/framing/FieldValue.cpp|11 3
Modified: src/qpid/framing/FieldValue.h|16 0
Modified: src/tests/ExchangeTest.cpp|58 0
Modified: src/tests/FieldTable.cpp|13 0

Revision: f3d629d5b378d6957d2773ecbfaf7c5d241e91b6
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 02:46:32
Message:
Reduce the scope over which lock is held during purge of expired messages. #MsgLength=77


----
Modified: src/qpid/broker/Queue.cpp|12 8

Revision: c0a328a66f0ec43cbf9da8fab96c6ff0976b7d67
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 03:24:26
Message:
Optimisation for testing expiration and disabling of setting timestamp until performance impact is evaluated #MsgLength=111


----
Modified: src/qpid/broker/Message.cpp|6 3

Revision: 9b4c3a73450a7ac35bf8edaaa209db040434c09d
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 04:57:14
Message:
Reverted a small part of r703237 as it causes deadlocks under load. Session controls can _not_ be subject to bounds checking on the queue of outgoing frames as is done for commands. #MsgLength=184


----
Modified: src/qpid/client/SessionImpl.cpp|16 2
Modified: src/qpid/client/SessionImpl.h|9 0

Revision: 18f423613394fa87f8b7d00e07a3d4f8ce5c1010
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/10/2008 05:24:40
Message:
Field Table API: changed the getInt() & getString() operations which are inconsistent with all the other getXXX() functions to getAsString()/getAsInt() to better indicate their real function. #MsgLength=193


----
Modified: examples/xml-exchange/listener.cpp|1 1
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|5 5
Modified: src/qpid/broker/XmlExchange.cpp|1 1
Modified: src/qpid/framing/FieldTable.cpp|6 6
Modified: src/qpid/framing/FieldTable.h|5 4
Modified: src/qpid/management/ManagementBroker.cpp|1 1
Modified: src/tests/FieldTable.cpp|12 12
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/QueueOptionsTest.cpp|11 11
Modified: src/tests/topic_listener.cpp|1 1

Revision: 3d7fac3e7538e5be6a5dce750754185c5447c3b6
Author: Gordon Sim <gsim@apache.org>
Date: 14/10/2008 19:06:41
Message:
Update to periodic purge of expired messages: check the dequeue rate to avoid interfering unnecessarily where the dequeing is sufficient to remove expired messages. #MsgLength=167


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Queue.cpp|16 10
Modified: src/qpid/broker/Queue.h|2 0
Added: src/qpid/broker/RateTracker.cpp|48 0
Added: src/qpid/broker/RateTracker.h|57 0

Revision: 71ba5c7447361f26d508f01d350f06fbeaa9a07a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 14/10/2008 23:23:51
Message:
Correction of lock scope to make sure ordering from exchange to queue is preseved when sequencing is used. #MsgLength=109


----
Modified: src/qpid/broker/DirectExchange.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|14 7
Modified: src/qpid/broker/Exchange.h|10 4
Modified: src/qpid/broker/FanOutExchange.cpp|1 1
Modified: src/qpid/broker/HeadersExchange.cpp|1 1
Modified: src/qpid/broker/TopicExchange.cpp|1 1

Revision: 30ad3bdfdd5d331df58f4b8d1539be4f1c8663c3
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2008 02:21:50
Message:
Bug fixes for client-side failover. #MsgLength=37


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 0
Modified: src/qpid/client/FailoverConnection.cpp|4 4
Modified: src/qpid/client/FailoverSession.cpp|1 2
Modified: src/qpid/client/FailoverSubscriptionManager.cpp|68 47
Modified: src/qpid/client/FailoverSubscriptionManager.h|13 32
Modified: src/qpid/cluster/Cluster.cpp|7 1
Modified: src/qpid/cluster/ClusterMap.cpp|1 1

Revision: 2b95cd3bed52f44378d6447e49a0c1c6e293bd87
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2008 03:35:33
Message:
Minor cleanup for client failover. #MsgLength=36


----
Modified: examples/failover/direct_producer.cpp|3 3
Modified: examples/failover/listener.cpp|3 2
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/Dispatcher.cpp|4 10
Modified: src/qpid/client/FailoverListener.cpp|1 3
Modified: src/qpid/cluster/Cluster.cpp|7 8

Revision: 7a39081821520ff30fe19e28ed768d8b45be9f33
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2008 18:03:49
Message:
c++ broker: Don't hold on to delivery records for accepted/released messages unless required due to being in windowing mode. python client: Modified start() on incoming queue to setthe flow mode as credit (not windowing) #MsgLength=223


----
Modified: src/qpid/broker/DeliveryRecord.cpp|14 26
Modified: src/qpid/broker/DeliveryRecord.h|3 4
Modified: src/qpid/broker/SemanticState.cpp|1 15
Modified: src/qpid/broker/SemanticState.h|0 1
Modified: src/tests/DeliveryRecordTest.cpp|1 1

Revision: a7db49e6ea6adc344095c8c61dd08e047bb63e7e
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2008 22:11:28
Message:
Updated test #MsgLength=15


----
Modified: src/tests/federated_topic_test|41 25

Revision: 2aaed5e33c618525894336db0843708c55b4ffaf
Author: Ted Ross <tross@apache.org>
Date: 15/10/2008 23:51:15
Message:
QPID-1360 - Scaling improvements for QMF #MsgLength=41


----
Modified: managementgen/qmf/templates/Class.h|3 3
Modified: src/qpid/agent/ManagementAgentImpl.cpp|53 28
Modified: src/qpid/management/ManagementBroker.cpp|17 15
Modified: src/qpid/management/ManagementObject.h|10 0

Revision: 9159ef179f8b42b3cfdcca6aa36e42ac61eece3a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/10/2008 01:05:31
Message:
QPID-1341 from Jonathan #MsgLength=247


----
Modified: examples/verify_all|1 1
Modified: src/Makefile.am|1 12
Modified: src/qpid/broker/Broker.h|0 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|0 8
Added: src/qpid/xml/XmlBinding.h|37 0
Renamed: src/qpid/xml/XmlExchange.cpp [from src/qpid/broker/XmlExchange.cpp]|6 2
Renamed: src/qpid/xml/XmlExchange.h [from src/qpid/broker/XmlExchange.h]|2 2
Added: src/qpid/xml/XmlExchangePlugin.cpp|67 0
Modified: src/tests/XmlClientSessionTest.cpp|59 3
Added: src/xml.mk|10 0

Revision: 7aff3a5fe986772c1084130afe90032e746196ba
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/10/2008 05:48:41
Message:
Allow QPID_AUTO_TEST_CASE_EXPECTED_FAILURES to work at Boost 1.35 #MsgLength=66


----
Modified: src/tests/unit_test.h|2 2

Revision: 65e73fa78705bfe568466e82d185fc93f2d2cf2b
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/10/2008 06:33:34
Message:
Split logging options into portable options and sink-related options that are platform-specific. Re-did sink options for Posix as discussed on qpid-dev (no more --log-output, but more specific --log-to-<target> options. Allows addition of Windows options without further reorg of Posix code. #MsgLength=292


----
Modified: docs/man/qpidd.x|3 3
Modified: src/Makefile.am|22 26
Modified: src/qpid/Plugin.h|1 1
Modified: src/qpid/log/Logger.cpp|3 64
Modified: src/qpid/log/Logger.h|15 22
Modified: src/qpid/log/Options.cpp|34 95
Modified: src/qpid/log/Options.h|11 20
Added: src/qpid/log/OstreamOutput.cpp|41 0
Added: src/qpid/log/OstreamOutput.h|41 0
Added: src/qpid/log/SinkOptions.h|64 0
Added: src/qpid/log/posix/SinkOptions.cpp|211 0
Added: src/qpid/log/posix/SinkOptions.h|64 0
Modified: src/qpidd.cpp|2 4
Modified: src/tests/logging.cpp|26 11
Modified: src/tests/start_broker|1 1
Modified: src/tests/start_cluster|2 2
Modified: src/tests/start_cluster_hosts|1 1

Revision: 21ee4a78dfdba2d6dcb674885d8442f35b5368e0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/10/2008 10:07:02
Message:
enable build without xml installed #MsgLength=37


----
Modified: examples/Makefile.am|3 1
Modified: examples/verify_all|3 2
Modified: src/Makefile.am|2 0

Revision: 6b294895071d51c2c35d74259b60a2d05e958c0b
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2008 22:41:16
Message:
Compile boost.spirit library in thread-safe mode. #MsgLength=51


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/Url.cpp|3 1

Revision: d3b1974405396ec7dd08b8cc876b073ccc98ab72
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2008 23:44:16
Message:
configure.ac: check for presence of libboost_threads vs. libboost_threads-mt #MsgLength=78


----
Modified: configure.ac|3 0
Modified: src/Makefile.am|0 1

Revision: 5f103d3a4f7da7a3ed20e111295dfa0000f868d0
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 01:07:26
Message:
Fix race in cluster causing incorrect known-broker lists to be sent to clients. #MsgLength=81


----
Modified: src/qpid/client/ConnectionImpl.cpp|10 8
Modified: src/qpid/client/ConnectionImpl.h|2 0
Modified: src/qpid/client/Dispatcher.cpp|8 6
Modified: src/qpid/client/FailoverListener.cpp|31 12
Modified: src/qpid/client/FailoverListener.h|2 3
Modified: src/qpid/cluster/Cluster.cpp|115 99
Modified: src/qpid/cluster/Cluster.h|21 10
Modified: src/qpid/cluster/ClusterMap.cpp|45 24
Modified: src/qpid/cluster/ClusterMap.h|2 0
Modified: src/qpid/cluster/Connection.cpp|51 33
Modified: src/qpid/cluster/Connection.h|4 2
Modified: src/qpid/cluster/DumpClient.cpp|0 3
Modified: src/qpid/cluster/OutputInterceptor.cpp|3 2
Modified: src/tests/cluster_test.cpp|35 28
Modified: xml/cluster.xml|4 0

Revision: 60ca664d2ab5a0ca3c96edbb845279a685f66b14
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 01:18:31
Message:
Add suppression for known leak in older boost.thread. #MsgLength=55


----
Modified: src/tests/.valgrind.supp|9 0

Revision: d976990743c9bfa5c664b1abf3f6e75fa54214be
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2008 01:57:48
Message:
Remove syslog-specific code from portable part of logging; was already placed in posix-specific part. Resolves QPID-1361 #MsgLength=121


----
Modified: src/qpid/log/Statement.cpp|0 10
Modified: src/qpid/log/Statement.h|0 3

Revision: 0980dace4acfa269333d5db2045f8e5aee51a6e9
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 02:45:56
Message:
Add UUID generated for each new cluster instance. #MsgLength=51


----
Modified: src/qpid/cluster/Cluster.cpp|12 5
Modified: src/qpid/cluster/Cluster.h|10 1
Modified: src/qpid/cluster/management-schema.xml|29 30
Modified: xml/cluster.xml|1 0

Revision: dfb8967ef32e20715a4e7c7657f89345543a0e64
Author: Ted Ross <tross@apache.org>
Date: 17/10/2008 03:45:14
Message:
QPID-1366 - implementation of automatic anti-looping for federation #MsgLength=68


----
Modified: src/qpid/broker/Bridge.cpp|10 0
Modified: src/qpid/broker/Broker.cpp|26 22
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/ConnectionHandler.cpp|13 6
Modified: src/qpid/broker/ConnectionState.h|3 0
Modified: src/qpid/broker/Vhost.cpp|4 0
Modified: src/qpid/broker/Vhost.h|1 0
Modified: src/qpid/management/ManagementBroker.h|1 0
Modified: src/tests/federation.py|59 0

Revision: cab45088f3a76bb2f2140fbf7a48c3dadd0212eb
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 04:15:03
Message:
Extended dump consumer test to cover member death. #MsgLength=52


----
Modified: src/tests/ForkedBroker.h|2 2
Modified: src/tests/cluster_test.cpp|29 14

Revision: 0e5da35384589b34e5c373b61c998b1ba6618050
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 05:05:45
Message:
Added missing message.subscribe arguments to SemanticState::ConsumerImpl for replication (and future use.) #MsgLength=108


----
Modified: src/qpid/broker/SemanticState.cpp|20 10
Modified: src/qpid/broker/SemanticState.h|13 2
Modified: src/qpid/broker/SessionAdapter.cpp|8 8
Modified: src/qpid/cluster/DumpClient.cpp|4 7

Revision: 0d373a414fe9f5e0f2377d78660c87933400d7f1
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 05:25:35
Message:
Fix signed/unsigned compile error. #MsgLength=36


----
Modified: src/tests/cluster_test.cpp|4 4

Revision: e97cf6637bccee6076e50885430b374243951216
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2008 05:35:39
Message:
Resolve inconsistent refs to ConnectionSettings; resolves QPID-1369 #MsgLength=68


----
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/ConnectionImpl.h|1 1
Modified: src/qpid/client/Connector.h|1 1

Revision: c556c15be5750ac4c98a02cc69c067a778b71a35
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2008 06:32:31
Message:
Make SaslAuthenticator reimplementable for schemes other than Cyrus, such as Windows; resolves QPID-1365 #MsgLength=105


----
Modified: src/Makefile.am|4 0
Modified: src/qpid/broker/Broker.cpp|7 26
Modified: src/qpid/broker/Broker.h|4 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|39 1
Modified: src/qpid/broker/SaslAuthenticator.h|6 0
Added: src/qpid/broker/posix/BrokerDefaults.cpp|30 0
Added: src/qpid/broker/windows/BrokerDefaults.cpp|30 0
Added: src/qpid/broker/windows/SaslAuthenticator.cpp|175 0

Revision: 7483af27372244160e3c62c79c29ad90125418e0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/10/2008 09:27:45
Message:
Feature requested by AndrewM for M4... - provide initial value support, for late joining consumers #MsgLength=105


----
Modified: src/qpid/broker/DirectExchange.cpp|12 9
Modified: src/qpid/broker/Exchange.cpp|25 7
Modified: src/qpid/broker/Exchange.h|4 0
Modified: src/qpid/broker/FanOutExchange.cpp|1 0
Modified: src/qpid/broker/HeadersExchange.cpp|1 0
Modified: src/qpid/broker/TopicExchange.cpp|14 11
Modified: src/qpid/xml/XmlExchange.cpp|16 15
Modified: src/tests/ExchangeTest.cpp|41 0

Revision: d3b0c11105cd5031ed0faf6523a36becd3c41f0c
Author: Gordon Sim <gsim@apache.org>
Date: 17/10/2008 17:41:26
Message:
QPID-106: SSL support for c++ (broker and client), can be enabled/disabled explictly via --with-ssl/--without-ssl args to configure; by default will build the modules if dependencies are found. See SSL readme file for more details. #MsgLength=234


----
Modified: INSTALL|4 0
Modified: NOTICE|1 4
Modified: README|1 0
Added: SSL|73 0
Modified: configure.ac|28 0
Modified: src/Makefile.am|4 0
Modified: src/qpid/broker/Broker.cpp|9 6
Modified: src/qpid/broker/Broker.h|1 1
Added: src/qpid/client/SslConnector.cpp|389 0
Modified: src/qpid/sys/ProtocolFactory.h|1 0
Added: src/qpid/sys/SslPlugin.cpp|176 0
Added: src/qpid/sys/ssl/SslHandler.cpp|177 0
Added: src/qpid/sys/ssl/SslHandler.h|75 0
Added: src/qpid/sys/ssl/SslIo.cpp|433 0
Added: src/qpid/sys/ssl/SslIo.h|167 0
Added: src/qpid/sys/ssl/SslSocket.cpp|279 0
Added: src/qpid/sys/ssl/SslSocket.h|117 0
Added: src/qpid/sys/ssl/check.cpp|70 0
Added: src/qpid/sys/ssl/check.h|53 0
Added: src/qpid/sys/ssl/util.cpp|119 0
Added: src/qpid/sys/ssl/util.h|50 0
Modified: src/qpidd.cpp|6 4
Added: src/ssl.mk|46 0
Modified: src/tests/Makefile.am|3 0
Added: src/tests/ssl.mk|4 0
Added: src/tests/ssl_test|43 0

Revision: 3e6e9f8b398dedde5e72a27cd9e1377bf4bffc77
Author: Gordon Sim <gsim@apache.org>
Date: 17/10/2008 20:11:28
Message:
Changed default port for SSL #MsgLength=31


----
Modified: src/qpid/sys/SslPlugin.cpp|1 1

Revision: 0af8eb27a94229f69499e2cfeab2e7ddf989b8ce
Author: Alan Conway <aconway@apache.org>
Date: 17/10/2008 22:08:01
Message:
Fix valgrind suppression for boost thread leak to work on 32 & 64 bit. #MsgLength=72


----
Modified: src/tests/.valgrind.supp|4 5

Revision: c52a9b864946d73b61b566c9098af6a750225e93
Author: Alan Conway <aconway@apache.org>
Date: 18/10/2008 00:13:13
Message:
Suppress logging expected errors in tests. #MsgLength=99


----
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/client/Dispatcher.cpp|10 9
Modified: src/qpid/sys/BlockingQueue.h|3 1
Modified: src/tests/XmlClientSessionTest.cpp|49 46
Modified: src/tests/cluster_test.cpp|12 8

Revision: 38218aa71b5a9bf725c0c1de4f9d08e7b80315f9
Author: Alan Conway <aconway@apache.org>
Date: 18/10/2008 00:45:24
Message:
QPID-1367 Mick Goulish: improvements to client-side failover. #MsgLength=63


----
Modified: examples/direct/direct_producer.cpp|4 2
Modified: examples/failover/direct_producer.cpp|25 8
Modified: examples/failover/listener.cpp|17 159
Modified: src/qpid/client/ConnectionImpl.cpp|4 4
Modified: src/qpid/client/Dispatcher.cpp|1 0
Modified: src/qpid/client/FailoverConnection.cpp|20 4
Modified: src/qpid/client/FailoverConnection.h|0 4
Modified: src/qpid/client/FailoverSession.cpp|21 7
Modified: src/qpid/client/FailoverSession.h|2 2
Modified: src/qpid/client/FailoverSubscriptionManager.cpp|0 1
Modified: src/qpid/client/FailoverSubscriptionManager.h|0 3
Modified: src/tests/ssl_test|8 8

Revision: 0d17979c8af27b66183df9283ddb7fcd3a87be69
Author: Alan Conway <aconway@apache.org>
Date: 20/10/2008 21:58:23
Message:
cluster: DumpClient updates consumer notifyEnabled and blocked. #MsgLength=65


----
Modified: src/qpid/broker/SemanticState.cpp|5 0
Modified: src/qpid/broker/SemanticState.h|6 2
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/qpid/cluster/Connection.cpp|8 0
Modified: src/qpid/cluster/Connection.h|2 0
Modified: src/qpid/cluster/DumpClient.cpp|9 1
Modified: src/tests/cluster_test.cpp|17 2
Modified: xml/cluster.xml|14 4

Revision: 50a3b0bce122ad6515e8ade61b2acc10952a039b
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2008 23:29:46
Message:
Add option to require that only encrypted connections be accepted. #MsgLength=69


----
Modified: src/qpid/broker/Broker.cpp|13 7
Modified: src/qpid/broker/Broker.h|2 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|8 3
Modified: src/tests/BrokerFixture.h|4 4
Modified: src/tests/exception_test.cpp|3 2

Revision: 297b277b062a534921277fc6c6916d5bdb27e3b8
Author: Gordon Sim <gsim@apache.org>
Date: 21/10/2008 02:00:05
Message:
Remove default location for certificate database. Some extra checking in loading ssl libraries. #MsgLength=98


----
Modified: src/qpid/client/SslConnector.cpp|6 2
Modified: src/qpid/sys/SslPlugin.cpp|15 7
Modified: src/qpid/sys/ssl/util.cpp|0 1
Modified: src/ssl.mk|1 1

Revision: 644be9f6df1e657e9bf06a013d736b99275501d7
Author: Ted Ross <tross@apache.org>
Date: 21/10/2008 03:03:26
Message:
Non-substantive changes.  Removed tabs, neatened indentation, etc. #MsgLength=67


----
Modified: src/qpid/broker/Exchange.h|88 89

Revision: 0af1b2e0fbf9fcc950ca56dcfa77a0a9b58714c6
Author: Alan Conway <aconway@apache.org>
Date: 21/10/2008 03:37:06
Message:
cluster: DumpClient replicates session MessageBuilder. #MsgLength=56


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|5 1
Modified: src/qpid/broker/IncompleteMessageList.h|2 1
Modified: src/qpid/broker/SessionState.h|3 1
Modified: src/qpid/client/SessionBase_0_10.cpp|2 0
Modified: src/qpid/client/SessionBase_0_10.h|3 0
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/DumpClient.cpp|17 9
Modified: src/tests/ais_check|1 1
Modified: src/tests/cluster_test.cpp|54 0

Revision: 989b7b7c83443b3d49292d1ac5011473a2eb5ef0
Author: Alan Conway <aconway@apache.org>
Date: 21/10/2008 04:44:29
Message:
cluster_test: Unit test for Tx state replication. #MsgLength=51


----
Modified: src/qpid/client/AckPolicy.h|1 1
Modified: src/qpid/client/SubscriptionManager.h|1 1
Modified: src/tests/cluster_test.cpp|27 0

Revision: c00d7d79dce8485b8d3aba3811dff76584a4c350
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 01:32:34
Message:
Fix compilation error on older compilers by correcting cast. #MsgLength=63


----
Modified: src/qpid/xml/XmlExchange.cpp|2 1

Revision: b1e1c950dd50c9c8ff9367abc19dadbdd2ed2197
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2008 02:29:44
Message:
Refactor sys::AsynchIO class to allow reimplementing on other platforms without affecting upper level usage. Resolves QPID-1377 and supplies Windows AsynchIO.cpp #MsgLength=162


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/ConnectionSettings.cpp|0 1
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/log/Selector.h|1 1
Modified: src/qpid/sys/AsynchIO.h|55 70
Modified: src/qpid/sys/AsynchIOHandler.h|1 1
Added: src/qpid/sys/DispatchHandle.cpp|409 0
Added: src/qpid/sys/DispatchHandle.h|146 0
Modified: src/qpid/sys/Dispatcher.cpp|0 380
Modified: src/qpid/sys/Dispatcher.h|0 119
Modified: src/qpid/sys/Poller.h|2 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|15 10
Modified: src/qpid/sys/epoll/EpollPoller.cpp|3 3
Modified: src/qpid/sys/posix/AsynchIO.cpp|161 6
Modified: src/qpid/sys/solaris/ECFPoller.cpp|3 3
Added: src/qpid/sys/windows/AsynchIO.cpp|729 0
Added: src/qpid/sys/windows/AsynchIoResult.h|187 0
Added: src/qpid/sys/windows/IOHandle.cpp|42 0
Added: src/qpid/sys/windows/IoHandlePrivate.h|52 0
Added: src/qpid/sys/windows/IocpDispatcher.cpp|54 0
Added: src/qpid/sys/windows/IocpPoller.cpp|176 0
Added: src/qpid/sys/windows/Socket.cpp|329 0
Modified: src/tests/SocketProxy.h|3 3

Revision: f8fae0bf98458ceb07991150259c12c71ae742ea
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2008 05:34:49
Message:
Fix compile error introduced by initial QPID-1377 commit; Resolves QPID-1377 #MsgLength=77


----
Modified: src/qpid/sys/ssl/SslIo.h|1 1

Revision: 842265fb65dcd1ae63034b13fd106b2ddff16daa
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2008 05:39:17
Message:
Add #include qpid/sys/DispatchHandle.h, needed since DispatchHandle split out of Dispatcher.h in changes from QPID-1377 #MsgLength=120


----
Modified: src/qpid/sys/rdma/RdmaIO.h|1 0

Revision: 091e2e0355e93ce8975096ce7989d2901102652b
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 06:59:47
Message:
Qualify userid with realm when authentication is turned off #MsgLength=62


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|7 2

Revision: 3501ca6fed745152f12ae92dedf1b0f159741627
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2008 07:29:47
Message:
Remove nonportable include dlfcn; add Windows version of Shlib.cpp #MsgLength=67


----
Modified: src/qpid/sys/Shlib.h|0 1
Added: src/qpid/sys/windows/Shlib.cpp|53 0

Revision: 9c2f066611637938a6c3d4d8267ad49ede12fa2b
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 07:30:32
Message:
Refactored DeliveryRecord and delivery path to remove some redundant code. #MsgLength=77


----
Modified: src/Makefile.am|0 3
Modified: src/qpid/broker/DeliveryAdapter.h|18 17
Modified: src/qpid/broker/DeliveryRecord.cpp|22 14
Modified: src/qpid/broker/DeliveryRecord.h|10 8
Deleted: src/qpid/broker/DeliveryToken.h|0 45
Deleted: src/qpid/broker/MessageDelivery.cpp|0 89
Deleted: src/qpid/broker/MessageDelivery.h|0 55
Modified: src/qpid/broker/SemanticState.cpp|12 18
Modified: src/qpid/broker/SemanticState.h|6 11
Modified: src/qpid/broker/SessionAdapter.cpp|3 6
Modified: src/qpid/broker/SessionState.cpp|3 4
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/management/ManagementBroker.cpp|0 1
Modified: src/tests/DeliveryRecordTest.cpp|3 1
Modified: src/tests/MessageUtils.h|0 1
Modified: src/tests/QueuePolicyTest.cpp|1 0
Modified: src/tests/run_federation_tests|1 1

Revision: f8af8d21b969bae3562361fab5ab25d92df1aad7
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 22/10/2008 11:21:42
Message:
This is a fix for QPID-1362 When loading an acl file, errors are catured in an ostringstream and is loggged and added to the management event description If reload is called via a remote agent, this error description is sent as the result text. #MsgLength=246


----
Modified: src/qpid/acl/Acl.cpp|17 14
Modified: src/qpid/acl/Acl.h|4 4
Modified: src/qpid/acl/AclReader.cpp|24 20
Modified: src/qpid/acl/AclReader.h|3 1

Revision: 4347d62d45361471c5f1b091623a46e8d3db2cc0
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 22/10/2008 11:29:32
Message:
This is for QPID-1363 These tests creates an acl file and use the acl.reloadAclFile method to reconfigure the broker. The tests are run as part of make check #MsgLength=159


----
Modified: src/tests/Makefile.am|2 1
Added: src/tests/acl.py|459 0
Added: src/tests/policy.acl|1 0
Added: src/tests/run_acl_tests|32 0

Revision: cb4002cc0b817454d96a11dee79d2a21c4ec7bb4
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 16:15:18
Message:
Turn of automatic loading of modules from defined module directory to avoid possibility of loading acl twice. #MsgLength=112


----
Modified: src/tests/run_acl_tests|1 1

Revision: a09e9972f6589511dd2e9d5447fbb1eee90b99d3
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 20:05:48
Message:
Updated latest ssl options usage; fixed ambiguity in domain name used in example and clarified the meaning a little. #MsgLength=119


----
Modified: SSL|16 18

Revision: 38b9cae8dbb64f82ad3980fadcb15ad5fe048d43
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2008 20:07:23
Message:
Fix port used in example. #MsgLength=28


----
Modified: SSL|1 1

Revision: 4739650dd540fa84d37e45506ce5299d14f1879a
Author: Alan Conway <aconway@apache.org>
Date: 22/10/2008 21:09:33
Message:
QPID-1382 from Mick Goulish: Improvement to Client-Side Cluster Failover code #MsgLength=212


----
Modified: examples/failover/direct_producer.cpp|4 2
Modified: examples/failover/listener.cpp|2 0
Modified: src/qpid/client/ConnectionImpl.cpp|0 2
Modified: src/qpid/client/FailoverConnection.cpp|2 2
Modified: src/qpid/client/FailoverSession.cpp|861 18
Modified: src/qpid/client/FailoverSession.h|8 7
Modified: src/qpid/client/FailoverSubscriptionManager.cpp|0 1
Modified: src/qpid/sys/PollableQueue.h|1 0

Revision: 3ee72e1daea7f7ed52476ff66465b15a9c5c9cdb
Author: Alan Conway <aconway@apache.org>
Date: 23/10/2008 05:04:31
Message:
Fixed run_acl_tests to work in a VPATH build. #MsgLength=47


----
Modified: src/tests/run_acl_tests|9 8

Revision: d4210d9e37b03c75dba22f68c566ffe77eae8048
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/10/2008 07:59:58
Message:
Add skeleton Windows logging options #MsgLength=37


----
Added: src/qpid/log/windows/SinkOptions.cpp|115 0
Added: src/qpid/log/windows/SinkOptions.h|53 0

Revision: d9acfd8ec01396c72260b11bd99280f67330649f
Author: Gordon Sim <gsim@apache.org>
Date: 23/10/2008 16:24:05
Message:
Fixed to avoid division by zero when sampling more frequently than once per second. #MsgLength=86


----
Modified: src/qpid/broker/RateTracker.cpp|4 1

Revision: d421ee80c529f457327e256b42f4d93d3c9f99a6
Author: Gordon Sim <gsim@apache.org>
Date: 23/10/2008 16:39:13
Message:
More complete fix to prevention of divide by zero when the sampling rate is more frequent than once per second. #MsgLength=114


----
Modified: src/qpid/broker/RateTracker.cpp|1 1

Revision: 78e4f2677acb32f8fb930ae9f20acf7815576234
Author: Alan Conway <aconway@apache.org>
Date: 24/10/2008 00:21:56
Message:
Minor changes to provide access for cluster to replicate delivery records. #MsgLength=281


----
Modified: src/qpid/broker/DeliveryRecord.cpp|5 6
Modified: src/qpid/broker/DeliveryRecord.h|19 7
Modified: src/qpid/broker/Queue.cpp|27 0
Modified: src/qpid/broker/Queue.h|14 2
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SemanticState.h|8 4
Modified: src/qpid/client/FlowControl.h|1 1
Modified: src/qpid/cluster/DumpClient.cpp|1 1
Modified: src/qpid/log/Selector.h|1 1

Revision: 6fad056d4d3cbf1ebb1fd1bc790a6227217909e8
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2008 01:50:58
Message:
don't append realm in null authenticator if the userid as supplied already ends with it #MsgLength=90


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|5 1

Revision: 60f806d58469ee6e3877b0cd46b81b4c9ad740aa
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2008 02:57:38
Message:
Some fixes to the LVQ (primarily a patch from cctrieloff@redhat.com) #MsgLength=71


----
Modified: src/qpid/broker/Message.cpp|14 0
Modified: src/qpid/broker/Message.h|7 0
Modified: src/qpid/broker/Queue.cpp|47 19
Modified: src/qpid/broker/Queue.h|11 8
Modified: src/tests/QueueTest.cpp|27 16

Revision: a194110bdf5a8b0292931ba92bed3d157a591401
Author: Ted Ross <tross@apache.org>
Date: 24/10/2008 08:45:11
Message:
QPID-1348 - Dynamic binding for federation.  Parameterized exchange names for CPP examples #MsgLength=91


----
Modified: examples/direct/declare_queues.cpp|2 1
Modified: examples/direct/direct_producer.cpp|4 3
Modified: examples/fanout/fanout_producer.cpp|3 2
Modified: examples/fanout/listener.cpp|2 1
Modified: examples/pub-sub/topic_listener.cpp|10 9
Modified: examples/pub-sub/topic_publisher.cpp|10 9
Modified: src/qpid/broker/Bridge.cpp|76 8
Modified: src/qpid/broker/Bridge.h|10 1
Modified: src/qpid/broker/DirectExchange.cpp|75 27
Modified: src/qpid/broker/DirectExchange.h|24 22
Modified: src/qpid/broker/Exchange.cpp|52 4
Modified: src/qpid/broker/Exchange.h|50 1
Modified: src/qpid/broker/FanOutExchange.cpp|48 11
Modified: src/qpid/broker/FanOutExchange.h|2 0
Modified: src/qpid/broker/Link.cpp|17 3
Modified: src/qpid/broker/TopicExchange.cpp|68 10
Modified: src/qpid/broker/TopicExchange.h|8 2
Modified: src/tests/federation.py|230 104

Revision: 6f8f742977343209d1b7dacb7fe6116f3eaf7ccc
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2008 19:33:40
Message:
Fix for bug in encoding/decoding of floats and doubles. Added test to verify double/float headers set by c++ are correctly read by python [TODO: add wider range of header types, add bidirectional tests, add tests against other languages] [Also fixed one or two SSL related files missing from distribution list] #MsgLength=313


----
Modified: Makefile.am|1 1
Modified: src/Makefile.am|2 0
Added: src/qpid/framing/Endian.cpp|52 0
Added: src/qpid/framing/Endian.h|46 0
Modified: src/qpid/framing/FieldTable.cpp|4 1
Modified: src/qpid/framing/FieldValue.cpp|3 2
Modified: src/qpid/framing/FieldValue.h|1 1
Modified: src/tests/Makefile.am|8 1
Added: src/tests/header_test.cpp|59 0
Added: src/tests/header_test.py|86 0
Added: src/tests/run_header_test|13 0

Revision: c181713c1e61368c50a6279d565587686b8c4924
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2008 20:34:29
Message:
Revised transactional options to perftest as they could not be used on older boost versions due to ambiguity. Refactored TxAccept to avoid excessive testing and searching for delivery records. #MsgLength=195


----
Modified: src/qpid/broker/DeliveryRecord.cpp|18 0
Modified: src/qpid/broker/DeliveryRecord.h|15 13
Modified: src/qpid/broker/SemanticState.cpp|2 14
Modified: src/qpid/broker/TxAccept.cpp|49 12
Modified: src/qpid/broker/TxAccept.h|23 1
Modified: src/tests/perftest.cpp|44 30

Revision: 9c68a3adab92df6de7ed54de04eeb9b346e17dce
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2008 20:39:10
Message:
removed qualifiers from return values (cause problems on newer compilers) #MsgLength=76


----
Modified: src/qpid/framing/Endian.cpp|1 1
Modified: src/qpid/framing/Endian.h|1 1
Modified: src/qpid/framing/FieldValue.h|1 5

Revision: 665fd82126905e6ced9d8f990c8698b37e204926
Author: Ted Ross <tross@apache.org>
Date: 24/10/2008 23:12:53
Message:
Added exchange options to qpid-config #MsgLength=38


----
Modified: src/qpid/broker/Exchange.cpp|1 0

Revision: 2047b8a3870c7fc8b75c7f8c79762cf43d5d9a1e
Author: Ted Ross <tross@apache.org>
Date: 24/10/2008 23:15:10
Message:
Added truncation logic to putShortString and putMediumString in case strings too large to encode are supplied #MsgLength=110


----
Modified: src/qpid/framing/Buffer.cpp|4 2

Revision: fd2243450279a13c373f5309e958f2a631d556c5
Author: Ted Ross <tross@apache.org>
Date: 24/10/2008 23:15:59
Message:
Use a str16 instead of str8 for qmf method response text #MsgLength=57


----
Modified: managementgen/qmf/schema.py|1 1
Modified: src/qpid/agent/ManagementAgentImpl.cpp|4 4
Modified: src/qpid/management/ManagementBroker.cpp|5 5

Revision: d4244b9cca57e0cb2a2d026861e4e16410707198
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2008 01:41:58
Message:
Fix test for xml deps #MsgLength=24


----
Modified: configure.ac|1 1

Revision: f21ae9fb9c0b77af6806e5975c0d758970107fc2
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2008 02:10:34
Message:
fix for make distcheck (I had listed wrong filenames in earlier commit) #MsgLength=74


----
Modified: src/tests/Makefile.am|2 2

Revision: 935baf4a75d436c9af5b36e319aa100603273893
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2008 02:37:28
Message:
Add check for presence of certutil when running ssl test #MsgLength=59


----
Modified: src/tests/ssl_test|8 1

Revision: d19a0d7bce924ac0c188c400ca90416f672c7c5b
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/10/2008 05:33:19
Message:
Microsoft Visual Studio 2005 (VC8) project/solution files #MsgLength=58


----
Added: src/broker.vcproj|1256 0
Added: src/client.vcproj|547 0
Added: src/common.vcproj|1699 0
Added: src/qpid.sln|59 0

Revision: 0e4df71941831f5f86712c7ef865f948303bb087
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/10/2008 05:37:57
Message:
Fix Address wrapper to compile on MS VC8; discussed with Alan Conway #MsgLength=69


----
Modified: src/Makefile.am|3 2
Added: src/qpid/Address.cpp|34 0
Modified: src/qpid/Address.h|22 5

Revision: 8cffa7b84d8653906c590d69d2c782a7870eb0ae
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/10/2008 05:40:04
Message:
Moved TcpAddress insertion operators to Address.cpp #MsgLength=52


----
Modified: src/qpid/Url.cpp|0 6

Revision: c1c307831bdf535ea6fe06dba78a7be16568a8bb
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/10/2008 06:04:36
Message:
Fix compile errors introduced by Address changes #MsgLength=49


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/client/SslConnector.cpp|1 1

Revision: 3ff6b2fdd0fd7bcb7c3cf4006989881444069a3f
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/10/2008 06:14:32
Message:
Use new wrapped get() accessor in Address #MsgLength=42


----
Modified: src/qpid/broker/Broker.cpp|3 2

Revision: 2b37c39b524fe54df1379e33f8b12097a8495798
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2008 08:01:53
Message:
Fix compile error. #MsgLength=20


----
Modified: src/tests/Url.cpp|1 1

Revision: 4c4c0b2719f9dcc81b782049a081de7b526b0661
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2008 08:31:36
Message:
Fix compile error. #MsgLength=20


----
Modified: src/qpid/Address.h|2 2

Revision: ccd7a2b2a063ed5015ae71ccb110cff057544e03
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2008 09:45:23
Message:
Fix script to clean up data_dir. #MsgLength=34


----
Modified: src/tests/run_acl_tests|3 2

Revision: 1cdf50e91681fa68079023d785ac8b436e415859
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2008 09:55:06
Message:
Client API change: Centralize access to subscription status, better control of acquire/accept. #MsgLength=1167


----
Modified: src/Makefile.am|10 5
Modified: src/qpid/RangeSet.h|7 1
Modified: src/qpid/client/Dispatcher.cpp|6 29
Modified: src/qpid/client/Dispatcher.h|6 19
Modified: src/qpid/client/FailoverListener.cpp|1 1
Modified: src/qpid/client/FailoverSubscriptionManager.cpp|6 111
Modified: src/qpid/client/FailoverSubscriptionManager.h|3 29
Modified: src/qpid/client/FlowControl.h|4 3
Added: src/qpid/client/Handle.h|61 0
Renamed: src/qpid/client/HandleAccess.h [from src/qpid/client/AckPolicy.h]|12 29
Added: src/qpid/client/HandlePrivate.h|61 0
Modified: src/qpid/client/LocalQueue.cpp|6 5
Modified: src/qpid/client/LocalQueue.h|4 14
Renamed: src/qpid/client/Subscription.cpp [from src/qpid/client/AckPolicy.cpp]|21 24
Added: src/qpid/client/Subscription.h|99 0
Added: src/qpid/client/SubscriptionImpl.cpp|116 0
Added: src/qpid/client/SubscriptionImpl.h|99 0
Modified: src/qpid/client/SubscriptionManager.cpp|29 65
Modified: src/qpid/client/SubscriptionManager.h|70 58
Added: src/qpid/client/SubscriptionSettings.h|62 0
Modified: src/tests/ClientSessionTest.cpp|15 41
Modified: src/tests/QueuePolicyTest.cpp|4 2
Modified: src/tests/XmlClientSessionTest.cpp|1 25
Modified: src/tests/consume.cpp|6 6
Modified: src/tests/echotest.cpp|1 3
Modified: src/tests/latencytest.cpp|6 5
Modified: src/tests/perftest.cpp|7 6
Modified: src/tests/topic_listener.cpp|8 6
Modified: src/tests/txtest.cpp|9 9

Revision: 9974495e70847c8cb9cc1b51940ff2cdd8fb5b10
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/10/2008 08:03:16
Message:
Microsoft NMAKE file to generate C++ code from specs #MsgLength=53


----
Added: src/protocol_gen.mak|38 0

Revision: 667b92b85a31f85a02a2606511f63e7d0c47585e
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/10/2008 09:04:32
Message:
Refactor duplicated Module-handling from broker/client to common #MsgLength=65


----
Modified: src/Makefile.am|2 0
Added: src/qpid/Modules.cpp|74 0
Added: src/qpid/Modules.h|43 0
Modified: src/qpid/client/LoadPlugins.cpp|13 59

Revision: 24f2dc742f3a4ee63db42f363770e7f96f693772
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/10/2008 09:15:49
Message:
Change 'at' to 'find' to build with older g++ and with MSVC #MsgLength=60


----
Modified: src/qpid/client/SubscriptionManager.cpp|2 1

Revision: e38b469c592ad30ced1e6db69bde7b5a5479a737
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/10/2008 09:45:52
Message:
Adjust to removed AckPolicy.cpp and refactored Modules.h, .cpp #MsgLength=63


----
Modified: src/client.vcproj|0 3
Modified: src/common.vcproj|10 4

Revision: 45260b6a793c1841e0b6c6382c2e935717eefcd0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 26/10/2008 09:56:32
Message:
corrected compile error #MsgLength=24


----
Modified: src/qpid/client/Subscription.cpp|1 1

Revision: ce1c60e9b57e5813253e95461951fcb30d09ece9
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2008 23:05:19
Message:
client::SubscriptionManager::findSubscription() throws if not found. Added progress indicator to boost tests. #MsgLength=111


----
Modified: src/qpid/client/SubscriptionManager.cpp|4 2
Modified: src/qpid/client/SubscriptionManager.h|2 2
Modified: src/tests/Makefile.am|1 1

Revision: fd584f6a11c978738fb4c01580293b0da7bf4874
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2008 07:52:53
Message:
Fix minor compile warnings noticed on Windows #MsgLength=46


----
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/ConnectionHandler.cpp|2 3
Modified: src/qpid/client/FailoverConnection.h|1 1
Modified: src/qpid/client/FailoverListener.cpp|1 1
Modified: src/qpid/client/Results.cpp|1 1

Revision: 780d8a1ffd80f9686647f865a2496f231596d102
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2008 07:54:20
Message:
Add CONF_FILE and MODULE_DIR macros to allow building client #MsgLength=61


----
Modified: src/client.vcproj|8 8

Revision: 55cd028d9e97ed2ec106aa13ec2b79b880624078
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2008 18:02:39
Message:
Test for presence of python directory #MsgLength=40


----
Modified: src/tests/run_header_test|7 3

Revision: a798f3e652b58b011f68cb03e5c4fd0e1391210c
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2008 19:52:05
Message:
Recent change from AckPolicy to Subscription means completions are not sent automatically which is required in window mode. Added manual send as temporary measure. #MsgLength=166


----
Modified: src/tests/txtest.cpp|1 0

Revision: 77992ea77f0e135636ea16c34970a4321bdf3a46
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/10/2008 06:02:48
Message:
Trivial comment change #MsgLength=24


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|0 1

Revision: e49ba978fdbe79f99eb86ae57cb9244fd6a6f906
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/10/2008 06:02:53
Message:
Make federation work over Rdma links - Some refactoring of Rdma code for simplicity #MsgLength=85


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|53 45

Revision: 9ebc776b19620c323c027351b561910198397931
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/10/2008 06:27:34
Message:
Fix to build needed directory tree on Windows; fixes QPID-1407 #MsgLength=63


----
Modified: managementgen/qmf/generate.py|1 1

Revision: 70cf40af66fe199a64783307c677e446701f07c0
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/10/2008 06:28:48
Message:
Rename schema names OPTIONAL and INDEX to IS_OPTIONAL and IS_INDEX to avoid name clashes in Windows header files; fixes QPID-1408 #MsgLength=130


----
Modified: managementgen/qmf/schema.py|2 2
Modified: managementgen/qmf/templates/Class.cpp|2 2

Revision: 824402f2baf265638cc470ed6d61f166fb98919e
Author: Gordon Sim <gsim@apache.org>
Date: 29/10/2008 19:01:49
Message:
Ensure required header files are installed (we may want to revise this, but as committed by r707808 applications no longer compile due to these headers being missing; if we do want to avoid them being installed any includes from other headers need to be revised also). #MsgLength=271


----
Modified: src/Makefile.am|5 5

Revision: 3dc0527942082f6aff6bb0f8d146848dca6cf2d7
Author: Gordon Sim <gsim@apache.org>
Date: 29/10/2008 23:15:08
Message:
* added flag to SubscriptionSettings to control automatic completion of message * removed automatic acquiring under autoAck mode * added test for results from acquire requests * added short txtest to the set of system tests run under make check #MsgLength=247


----
Modified: src/qpid/client/FlowControl.h|3 2
Modified: src/qpid/client/SubscriptionImpl.cpp|14 10
Modified: src/qpid/client/SubscriptionSettings.h|21 10
Modified: src/tests/Makefile.am|2 1
Added: src/tests/quick_txtest|2 0
Modified: src/tests/txtest.cpp|8 7

Revision: 3fe6e33c8b019f22d12c32ebb57a9e3494f21143
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2008 03:45:18
Message:
Split platform-specific qpidd code out to posix/QpiddBroker.cpp; allows Windows port code to come in. Related to QPID-1338 #MsgLength=123


----
Modified: src/Makefile.am|3 1
Added: src/posix/QpiddBroker.cpp|164 0
Modified: src/qpidd.cpp|16 187
Added: src/qpidd.h|70 0

Revision: 83b74987f54721e8d9efe8dd1df9365774ccb90c
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2008 06:11:46
Message:
Allow AbsTime and Duration to be used cross-platform; add usleep() wrapper. Related to QPID-1209 #MsgLength=97


----
Modified: src/Makefile.am|2 1
Modified: src/qpid/sys/Time.h|55 41
Modified: src/qpid/sys/posix/Time.cpp|31 3
Added: src/qpid/sys/posix/Time.h|34 0
Modified: src/tests/latencytest.cpp|3 3

Revision: 4f859b70e283332398aa35418488a4092dece21a
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2008 00:02:35
Message:
Include qpidd.h file in listed sources #MsgLength=41


----
Modified: src/Makefile.am|1 1

Revision: 090c415a64f760d1c12275b4623ed336b4b15968
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2008 05:07:28
Message:
Replicate session state for un-acknowledged messages to new cluster members. #MsgLength=78


----
Modified: src/qpid/broker/Queue.cpp|5 11
Modified: src/qpid/broker/Queue.h|2 6
Modified: src/qpid/broker/SessionState.h|3 1
Modified: src/qpid/client/LocalQueue.cpp|4 4
Modified: src/qpid/client/LocalQueue.h|5 5
Modified: src/qpid/cluster/Connection.cpp|47 2
Modified: src/qpid/cluster/Connection.h|19 6
Modified: src/qpid/cluster/DumpClient.cpp|73 25
Modified: src/qpid/cluster/DumpClient.h|6 1
Modified: src/tests/cluster_test.cpp|67 8
Modified: src/tests/exception_test.cpp|1 1
Modified: xml/cluster.xml|25 5

Revision: 962bc6d797277d2a24483b13933d8777308d5f08
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 06:31:33
Message:
Add missing source files #MsgLength=25


----
Modified: src/broker.vcproj|10 4
Modified: src/common.vcproj|6 0

Revision: adb55ec81f91e921bcf443404f3370b4d17e9d2d
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 06:45:58
Message:
Add Windows pieces for building the broker; resolves QPID-1338 #MsgLength=63


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 1
Added: src/windows/QpiddBroker.cpp|89 0

Revision: 48178e2d05c99dd6f3e54c1dd11dcf5dc9b4e8bf
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:00:38
Message:
Removed unneeded and nonportable include config.h #MsgLength=50


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|0 1

Revision: c7b8bb697e556eb09e6e45f73bc8b31f9192f3e7
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:03:01
Message:
Add missing include new - needed on Windows #MsgLength=44


----
Modified: src/qpid/RefCountedBuffer.cpp|1 0

Revision: 222b01c7d67113db480c1c022df694c83597fbab
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:05:15
Message:
Add missing include file #MsgLength=25


----
Modified: src/qpid/amqp_0_10/Connection.h|2 0

Revision: ed03903f9650d14d76ea590b90006a4dddd45671
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:06:05
Message:
Removed unneeded forward ref #MsgLength=29


----
Modified: src/qpid/amqp_0_10/built_in_types.h|0 1

Revision: 4f5e534d5aef270ae6f84b7be3949993a0c317a7
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:10:45
Message:
Consistently refer to struct as struct, not class #MsgLength=50


----
Modified: src/qpid/broker/Broker.h|1 1

Revision: bcb009653ff73b6c56a9219dd96f569907eac7c2
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:12:22
Message:
Adjust namespace references to work with MSVC #MsgLength=46


----
Modified: src/qpid/broker/Connection.cpp|0 1
Modified: src/qpid/broker/DeliveryRecord.cpp|3 3
Modified: src/qpid/broker/DtxAck.cpp|1 1
Modified: src/qpid/broker/Link.cpp|3 3
Modified: src/qpid/broker/Message.cpp|8 4
Modified: src/qpid/broker/MessageStoreModule.cpp|5 1
Modified: src/qpid/broker/NullMessageStore.cpp|3 5
Modified: src/qpid/broker/Vhost.cpp|3 1
Modified: src/qpid/management/ManagementObject.cpp|15 9

Revision: 6f326e13f38b923263d6bd24d7ea51e96cae3f9b
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:13:37
Message:
Resolved unused argument warnings from MSVC #MsgLength=44


----
Modified: src/qpid/broker/DtxManager.cpp|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|31 31
Modified: src/qpid/management/ManagementBroker.cpp|8 8

Revision: 2bb7283e05634481a5010f7008be9c48777144fd
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:14:51
Message:
Adjust ACL-related enums to avoid Windows macro clashes; fixes QPID-1368 #MsgLength=73


----
Modified: src/qpid/broker/AclModule.h|98 94
Modified: src/qpid/broker/ConnectionHandler.cpp|1 3
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 056c22d5062ac181dde1baed4a072b2a750d86c9
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:18:07
Message:
Resolve Time diffs for Windows; add Windows version of asynch I/O layer. Resolves QPID-1209 #MsgLength=92


----
Modified: src/qpid/client/FailoverSession.cpp|3 2
Modified: src/qpid/sys/IOHandle.h|15 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|27 11
Modified: src/qpid/sys/windows/AsynchIoResult.h|1 3
Modified: src/qpid/sys/windows/Condition.h|1 3
Added: src/qpid/sys/windows/Time.cpp|90 0
Added: src/qpid/sys/windows/Time.h|36 0

Revision: 8dce1b865b71ec51fc2065353e0f0ef3dd8fdfc7
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:22:52
Message:
Fix namespace reference usage to work on Windows #MsgLength=49


----
Modified: src/qpid/broker/Queue.cpp|2 2

Revision: 43e6306a82764ab71a2fa3f6387a31ca5e9b1c5d
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2008 07:41:45
Message:
Fix Acl references related to QPID-1368 #MsgLength=40


----
Modified: src/qpid/acl/AclData.cpp|3 3
Modified: src/qpid/acl/AclReader.cpp|2 2

Revision: 90d8f71628b55dfc2f8687a9e10778cc52a329a0
Author: Ted Ross <tross@apache.org>
Date: 31/10/2008 12:15:52
Message:
Federation bug-fixes: #MsgLength=377


----
Modified: src/qpid/broker/Bridge.cpp|7 7
Modified: src/qpid/broker/Exchange.cpp|11 4
Modified: src/qpid/broker/Exchange.h|1 0
Modified: src/qpid/broker/Link.cpp|3 1

Revision: 5e40057312d020806aac7a2d1f05bc4774fad3f7
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2008 22:25:19
Message:
Fix intermittent hanging where two threads are waiting for completions on the same session. #MsgLength=94


----
Modified: src/qpid/client/SessionImpl.cpp|1 1

Revision: 7f4a47d67093a66c01b1fb92453e19c9700d94a9
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2008 23:08:00
Message:
Added return Message overload of SubscriptionManager get(). #MsgLength=102


----
Modified: src/qpid/broker/Vhost.cpp|3 1
Modified: src/qpid/client/LocalQueue.h|4 2
Modified: src/qpid/client/SubscriptionManager.cpp|7 0
Modified: src/qpid/client/SubscriptionManager.h|7 1
Modified: src/tests/cluster_test.cpp|3 6

Revision: 73b612fc0695fa4a96164803df52486ed5c732c7
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2008 00:56:04
Message:
Cluster returns connection exception for un-supported AMQP features. #MsgLength=70


----
Modified: src/qpid/cluster/Connection.cpp|25 4
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/tests/cluster_test.cpp|14 0

Revision: 00aeb1ecb9e9082eea0e2fe198e84ec5ec802096
Author: Ted Ross <tross@apache.org>
Date: 01/11/2008 02:56:24
Message:
Federation enhancements and bug fixes: #MsgLength=278


----
Modified: src/qpid/broker/Bridge.cpp|4 1

Revision: 3bcb13d5f41dc2de536faefb7d8530793576f52d
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/11/2008 03:38:15
Message:
Get initial Windows options in; event log doesn't yet work #MsgLength=59


----
Modified: src/qpid/log/windows/SinkOptions.cpp|42 9
Modified: src/qpid/log/windows/SinkOptions.h|1 0

Revision: 724d216d127e33a42591c86a6b99baf8227e898a
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2008 01:21:38
Message:
Various fixes arising from testing client failover: #MsgLength=744


----
Modified: src/qpid/Exception.h|7 0
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|15 8
Modified: src/qpid/client/Connector.cpp|4 3
Modified: src/qpid/client/Dispatcher.cpp|2 2
Modified: src/qpid/client/FailoverListener.cpp|11 1
Modified: src/qpid/client/FailoverListener.h|4 1
Modified: src/qpid/client/SessionImpl.cpp|3 2
Modified: src/qpid/client/SessionImpl.h|1 1
Modified: src/tests/exception_test.cpp|4 5

Revision: cdea320352b04667a68360387c4d46ed12c8768e
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2008 02:42:37
Message:
This line seems not to be as redundant as I thought! Its removal seems to trigger some leaks for some platforms/cases. Adding it back for now. #MsgLength=145


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 0

Revision: 8d9f00caec01b4986c87b60484bda9dc310674c9
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 04/11/2008 05:06:22
Message:
correction for Active-Active clustering, allowing late joining nodes in the cluster to sync counter values for sequenced messages #MsgLength=130


----
Modified: src/qpid/broker/Exchange.cpp|6 2
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/tests/ExchangeTest.cpp|54 37

Revision: d58b05700e7ddfeff65bcd60cabe86d84aed4402
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/11/2008 06:13:31
Message:
Add missing source files #MsgLength=25


----
Modified: src/client.vcproj|15 0

Revision: 36e8dc7ba48056b82b34a48f87b5c2c225361520
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/11/2008 07:15:49
Message:
Correct signature of usleep() method #MsgLength=37


----
Modified: src/qpid/sys/windows/Time.cpp|1 1

Revision: 1800c29dddeb2ffc139a48e15e19f6d7283bfe8b
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2008 21:59:44
Message:
Adding a couple of utilities (don't alter any existing functionality) that are useful in applications handling failover. Added example of their use that I've been using in testing. #MsgLength=183


----
Modified: examples/failover/Makefile.am|15 6
Added: examples/failover/replaying_sender.cpp|97 0
Added: examples/failover/resuming_receiver.cpp|106 0
Modified: src/Makefile.am|4 0
Added: src/qpid/client/FailoverManager.cpp|115 0
Added: src/qpid/client/FailoverManager.h|70 0
Added: src/qpid/client/MessageReplayTracker.cpp|81 0
Added: src/qpid/client/MessageReplayTracker.h|66 0

Revision: 8588342e3c9b65dd79a715b23c213e4456ecbd47
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2008 00:03:03
Message:
Allow local broker to be run in any position in a ClusterFixture. #MsgLength=67


----
Modified: src/tests/cluster_test.cpp|77 84

Revision: 07973ea87694c7b96b9ca941e896b7cce27e67bb
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2008 01:43:05
Message:
Added unit test for replay utility class. #MsgLength=44


----
Modified: src/tests/Makefile.am|2 1
Added: src/tests/MessageReplayTracker.cpp|79 0

Revision: 3d62db97eaf873ac1fe8b35c7cef8fd9adc1eceb
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2008 03:52:49
Message:
constants.rb: generate type code constants for AMQP types. Useful with Array. #MsgLength=209


----
Modified: rubygen/amqpgen.rb|16 9
Modified: rubygen/cppgen.rb|1 1
Modified: rubygen/framing.0-10/constants.rb|57 0
Modified: src/qpid/broker/SessionState.h|1 4
Modified: src/qpid/cluster/Connection.cpp|35 17
Modified: src/qpid/cluster/Connection.h|12 3
Modified: src/qpid/cluster/DumpClient.cpp|26 9
Modified: src/qpid/cluster/DumpClient.h|5 2
Modified: src/qpid/framing/Array.cpp|22 20
Modified: src/qpid/framing/Array.h|27 9
Modified: src/qpid/framing/FieldValue.cpp|12 3
Modified: src/qpid/framing/FieldValue.h|4 6
Modified: src/tests/FieldValue.cpp|4 4
Modified: src/tests/cluster_test.cpp|45 0

Revision: 781d8ed838f099c95cf8d97eaf1d4946de2d1cbd
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2008 04:15:38
Message:
renamed suite to avoid collision for newer versions of boost #MsgLength=63


----
Modified: src/tests/MessageReplayTracker.cpp|1 1

Revision: eac5b396a66f4b148c8a0f938b7aa34d9aca66a6
Author: Ted Ross <tross@apache.org>
Date: 05/11/2008 07:01:57
Message:
Added bank numbers to the routing key of a QMF heartbeat message. This is used by the console to identify which agent sent the indication. #MsgLength=141


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|3 3
Modified: src/qpid/management/ManagementBroker.cpp|1 1

Revision: aee71fcef8355d05c7065c8ab1d6747029a283b9
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2008 17:22:14
Message:
fixed compilation warnings from comparison of signed and unsigned ints #MsgLength=73


----
Modified: src/tests/cluster_test.cpp|2 2

Revision: 5f7ff76077d7bf5acf8b2b023dd3d8812e78b9f9
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2008 23:22:47
Message:
Cluster: replicate transaction state to newcomers. #MsgLength=327


----
Modified: rubygen/framing.0-10/constants.rb|1 1
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/DtxAck.h|1 0
Modified: src/qpid/broker/RecoveredDequeue.h|4 0
Modified: src/qpid/broker/RecoveredEnqueue.h|5 0
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SemanticState.h|6 3
Modified: src/qpid/broker/TxAccept.cpp|1 1
Modified: src/qpid/broker/TxAccept.h|7 3
Modified: src/qpid/broker/TxBuffer.cpp|5 0
Modified: src/qpid/broker/TxBuffer.h|3 0
Modified: src/qpid/broker/TxOp.h|8 2
Added: src/qpid/broker/TxOpVisitor.h|100 0
Modified: src/qpid/broker/TxPublish.h|4 0
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 3
Modified: src/qpid/cluster/Connection.cpp|49 16
Modified: src/qpid/cluster/Connection.h|10 0
Modified: src/qpid/cluster/DumpClient.cpp|64 13
Modified: src/qpid/cluster/DumpClient.h|3 3
Modified: src/qpid/framing/SequenceSet.h|2 2
Modified: src/tests/TxMocks.h|3 0
Modified: src/tests/cluster_test.cpp|21 28
Modified: xml/cluster.xml|12 0

Revision: b138f6fb87761d0beb9a62c2f530973a15d300b3
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2008 00:29:18
Message:
No need to decalre TxOpConstVisitor - it's defined in TxOpVisitor.h; resolves QPID-1435 #MsgLength=88


----
Modified: src/qpid/broker/TxOp.h|0 2

Revision: 1e5f13693160c079ba7833b594884305db27d4be
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2008 00:41:49
Message:
Add missing IntegerTypes.h include; fixes QPID-1436 #MsgLength=52


----
Modified: rubygen/framing.0-10/constants.rb|1 0

Revision: 5c25433f8ff35ea79e1fe3bc1a88fce2bcdc56e9
Author: Alan Conway <aconway@apache.org>
Date: 06/11/2008 01:09:33
Message:
Cluster: clean up connections when a member leaves the cluster. #MsgLength=146


----
Modified: src/qpid/cluster/Cluster.cpp|11 0
Modified: src/qpid/cluster/Connection.cpp|8 0
Modified: src/qpid/cluster/Connection.h|3 0
Modified: src/tests/cluster_test.cpp|2 1
Modified: src/tests/run_test|1 1
Modified: src/tests/vg_check|3 2

Revision: cfdd1613ba59f012f4cb4429c93c24d02c9640c6
Author: Gordon Sim <gsim@apache.org>
Date: 06/11/2008 01:10:38
Message:
Disable SIGPIPE for client as well as broker #MsgLength=47


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|10 8

Revision: adcc6d76c5cf162f696103a74925a788d2db6172
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2008 01:25:05
Message:
Add new source files #MsgLength=21


----
Modified: src/broker.vcproj|11 8
Modified: src/client.vcproj|20 8
Modified: src/common.vcproj|14 8

Revision: daf72aeaabe4728bf31a62af3ea95ed4d683d97d
Author: Alan Conway <aconway@apache.org>
Date: 06/11/2008 02:56:41
Message:
Fix error in run_test. #MsgLength=24


----
Modified: src/tests/run_test|1 1

Revision: 8830c9b01a0affe3f8a52b720cf0d07faf464898
Author: Gordon Sim <gsim@apache.org>
Date: 06/11/2008 05:12:54
Message:
Added ability to release messages through the Subscription class (+test) Added another mode for managing completion (+test) Fixed regression where bytes credit was not reallocated in windowing mode after an accept/release Fixed regression where subscribe request is issued before listener is registered with dispatcher #MsgLength=321


----
Modified: src/qpid/broker/DeliveryRecord.cpp|3 2
Modified: src/qpid/broker/DeliveryRecord.h|9 0
Modified: src/qpid/broker/QueuePolicy.cpp|6 2
Modified: src/qpid/client/SessionBase_0_10.cpp|5 0
Modified: src/qpid/client/SessionBase_0_10.h|1 0
Modified: src/qpid/client/SessionImpl.cpp|10 0
Modified: src/qpid/client/SessionImpl.h|1 0
Modified: src/qpid/client/Subscription.cpp|1 0
Modified: src/qpid/client/Subscription.h|8 0
Modified: src/qpid/client/SubscriptionImpl.cpp|28 4
Modified: src/qpid/client/SubscriptionImpl.h|7 1
Modified: src/qpid/client/SubscriptionManager.cpp|3 0
Modified: src/qpid/client/SubscriptionSettings.h|24 10
Modified: src/tests/ClientSessionTest.cpp|84 0

Revision: ee15c33d7ce2ab62ef35b563c5d3773f9b3a3a5f
Author: Alan Conway <aconway@apache.org>
Date: 06/11/2008 05:20:34
Message:
QPID-1294 (Johnathan Robie) Improved doxygen generation. #MsgLength=58


----
Modified: docs/api/user.doxygen.in|2 2
Modified: rubygen/framing.0-10/Session.rb|2 0
Modified: src/qpid/client/LocalQueue.h|30 0
Modified: src/qpid/client/Message.h|70 0
Modified: src/qpid/client/MessageListener.h|47 0
Modified: src/qpid/client/SubscriptionManager.h|59 0

Revision: 748124088c4d8cab6bf20497c48ab6c11c32dd48
Author: Alan Conway <aconway@apache.org>
Date: 06/11/2008 05:52:38
Message:
QPID-1294 (Johnathan Robie) Improved doxygen generation. Files missed in previous commit. #MsgLength=91


----
Added: docs/api/doxygen.css|473 0
Added: docs/api/doxygen_mainpage.h|110 0
Added: docs/api/footer.html|4 0
Added: docs/api/header.html|6 0
Added: docs/api/stylesheet.css|473 0
Added: docs/api/tabs.css|102 0
Modified: rubygen/framing.0-10/Session.rb|130 0

Revision: 0a9413b7c73aec3860159632e803e7bb91b8b110
Author: Gordon Sim <gsim@apache.org>
Date: 06/11/2008 18:47:57
Message:
SubscriptionManager and Dispatcher were missing wait() methods meaning that if start was called there was no way to join with the dispatch thread and shutdown cleanly. Fixed by adding that method. #MsgLength=199


----
Modified: src/qpid/client/Dispatcher.cpp|5 0
Modified: src/qpid/client/Dispatcher.h|1 0
Modified: src/qpid/client/SubscriptionManager.cpp|5 0
Modified: src/qpid/client/SubscriptionManager.h|5 0
Modified: src/tests/ClientSessionTest.cpp|2 2

Revision: 224a0917a08033dd2605c77ccd9888b9fa975c02
Author: Gordon Sim <gsim@apache.org>
Date: 06/11/2008 21:30:27
Message:
QPID-1417: ensure there are no dangling pointers in a connections output tasks #MsgLength=81


----
Modified: src/qpid/broker/Connection.cpp|2 0
Modified: src/qpid/sys/AggregateOutput.cpp|5 0
Modified: src/qpid/sys/AggregateOutput.h|1 0

Revision: a6a81de07d8501d2cbf257dff508e0533eeb3387
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/11/2008 00:00:22
Message:
Non fucntional changes - move sequence count to args, so only store if set - correct const-ness in fieldtable #MsgLength=112


----
Modified: src/qpid/broker/Exchange.cpp|3 4
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/qpid/framing/FieldTable.cpp|5 5
Modified: src/qpid/framing/FieldTable.h|6 6

Revision: bb477e83015181ec1a7c83c832834507afa5fd09
Author: Alan Conway <aconway@apache.org>
Date: 07/11/2008 00:13:06
Message:
Remove unused class broker::IncomingExecutionContext. #MsgLength=55


----
Modified: src/Makefile.am|0 2
Deleted: src/qpid/broker/IncomingExecutionContext.cpp|0 143
Deleted: src/qpid/broker/IncomingExecutionContext.h|0 61

Revision: 7d3067467cb054df2d19ffe9091e1848fe3b9580
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2008 00:45:27
Message:
* fix bug causing last message to occasionally be lost on replay * make presence of gaps an error condition in the resuming_receiver example * add ability to apply functor to replay buffer #MsgLength=191


----
Modified: examples/failover/resuming_receiver.cpp|11 2
Modified: src/qpid/client/MessageReplayTracker.cpp|2 3
Modified: src/qpid/client/MessageReplayTracker.h|7 0
Modified: src/tests/MessageReplayTracker.cpp|20 0

Revision: 762c34bba743149873944e31a73a647b738cda86
Author: Ted Ross <tross@apache.org>
Date: 07/11/2008 01:06:21
Message:
QPID-1437 - Fixed qmf agent shutdown #MsgLength=37


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|41 4
Modified: src/qpid/agent/ManagementAgentImpl.h|8 3

Revision: 3f155bfffde989052c8a66e7a85a651a9494bc27
Author: Alan Conway <aconway@apache.org>
Date: 07/11/2008 01:23:30
Message:
Correct excessive use of inline functions in PersistableMessage.h. #MsgLength=68


----
Modified: src/qpid/broker/PersistableMessage.cpp|106 0
Modified: src/qpid/broker/PersistableMessage.h|27 98

Revision: 8dde35eebd9e17be72d4e9f950975dfee9808f77
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2008 02:24:17
Message:
QPID-1413: disable output before sending detach #MsgLength=50


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 1
Modified: src/qpid/broker/SessionHandler.cpp|6 0
Modified: src/qpid/broker/SessionHandler.h|1 0
Modified: src/qpid/broker/SessionState.cpp|7 2
Modified: src/qpid/broker/SessionState.h|1 0

Revision: 2c2538a4237497a7d76abbc5ef016af23d625fad
Author: Ted Ross <tross@apache.org>
Date: 07/11/2008 02:29:31
Message:
QPID-1437 - Made example better able to demonstrate proper shutdown by adding a signal handler #MsgLength=95


----
Modified: examples/qmf-agent/example.cpp|14 2

Revision: c18dbad7c5c4df3b797410aec4140f8692896db2
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 07/11/2008 04:07:14
Message:
Removed the --enforce-acl option. Instead if a policy file is specified acl will be enabled. Also removed Route from the Object list and did a bit of code cleanup. #MsgLength=165


----
Modified: src/qpid/acl/Acl.cpp|10 12
Modified: src/qpid/acl/Acl.h|1 4
Modified: src/qpid/acl/AclPlugin.cpp|10 10
Modified: src/qpid/broker/AclModule.h|2 12
Modified: src/tests/run_acl_tests|1 1

Revision: 6b7ccf3a4ec338db1b3b36759e31348d61218967
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2008 06:08:14
Message:
Restrict connection close codes to the set defined in the spec #MsgLength=65


----
Modified: rubygen/framing.0-10/constants.rb|5 3
Modified: src/qpid/Exception.h|7 6
Modified: src/qpid/amqp_0_10/Exception.h|4 94
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|12 1
Modified: src/qpid/amqp_0_10/SessionHandler.h|2 2
Modified: src/qpid/broker/Connection.cpp|7 8
Modified: src/qpid/broker/Connection.h|1 4
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: src/qpid/broker/ConnectionHandler.h|2 1
Modified: src/qpid/broker/Link.cpp|4 2
Modified: src/qpid/broker/SessionAdapter.cpp|2 4
Modified: src/qpid/broker/SessionHandler.cpp|4 4
Modified: src/qpid/broker/SessionHandler.h|2 2
Modified: src/qpid/client/ConnectionHandler.cpp|17 3
Modified: src/qpid/client/ConnectionHandler.h|4 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/tests/QueueTest.cpp|28 28

Revision: aa3112c47365f0f5fcc98526aab1615f6c26eff4
Author: Alan Conway <aconway@apache.org>
Date: 07/11/2008 06:40:57
Message:
Add Message callbacks for async completion. Add unit test for async completion. Add sync parameter to generated session functions, defaults as before but allows greater control. #MsgLength=179


----
Modified: rubygen/framing.0-10/Session.rb|19 6
Modified: src/qpid/broker/Broker.cpp|7 11
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/DtxManager.cpp|0 1
Modified: src/qpid/broker/LinkRegistry.cpp|0 1
Modified: src/qpid/broker/Message.cpp|23 4
Modified: src/qpid/broker/Message.h|20 7
Modified: src/qpid/broker/PersistableMessage.cpp|10 5
Modified: src/qpid/broker/PersistableMessage.h|7 2
Modified: src/qpid/broker/QueueRegistry.cpp|0 1
Modified: src/qpid/sys/BlockingQueue.h|4 3
Added: src/tests/AsyncCompletion.cpp|100 0
Modified: src/tests/Makefile.am|1 0

Revision: bfcbd1251dfc39f01ceea9a954ed032e6e726757
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2008 22:08:29
Message:
* Added some doxygen comments for FailoverManager * Added means for application to alter the order in which urls are tried (or indeed the list of urls to try) #MsgLength=161


----
Modified: examples/failover/declare_queues.cpp|23 50
Modified: examples/failover/resuming_receiver.cpp|14 2
Modified: src/qpid/client/FailoverManager.cpp|7 3
Modified: src/qpid/client/FailoverManager.h|57 2

Revision: cb57d42bfbc51471d1badf0354d457a26f6c17fe
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2008 23:52:46
Message:
Added a bit more detail to comments. #MsgLength=39


----
Modified: src/qpid/client/FailoverManager.h|9 0

Revision: a6e21339ed2bb821bcfa18f99dda9741fde1a6fe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/11/2008 00:20:24
Message:
QPID-1438: Before registering the rdma daemon transport plugin check whether there are any rdma devices - if not don't register #MsgLength=129


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|7 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 2
Modified: src/qpid/sys/rdma/rdma_factories.h|2 2
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|7 0
Modified: src/qpid/sys/rdma/rdma_wrap.h|2 0

Revision: eaadd129c5afc433ee9e6246506817eef6db4f20
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2008 04:48:38
Message:
broker/Message, IncompleteMessageList: drop waitFor(De|En)Complete, replace with callbacks. #MsgLength=93


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|24 7
Modified: src/qpid/broker/IncompleteMessageList.h|11 4
Modified: src/qpid/broker/Message.cpp|6 2
Modified: src/qpid/broker/Message.h|3 3
Modified: src/qpid/broker/PersistableMessage.cpp|6 22
Modified: src/qpid/broker/PersistableMessage.h|3 7

Revision: 625eba26af9301a2fc27c2705582cff9badbac7c
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2008 20:25:23
Message:
Remove wrappers for 'transparent' failover; this will be better handled through implementation of session resume within SessionImpl. #MsgLength=135


----
Modified: examples/failover/Makefile.am|1 9
Deleted: examples/failover/direct_producer.cpp|0 116
Deleted: examples/failover/listener.cpp|0 124
Modified: src/Makefile.am|0 7
Deleted: src/qpid/client/FailoverConnection.cpp|0 197
Deleted: src/qpid/client/FailoverConnection.h|0 99
Deleted: src/qpid/client/FailoverSession.cpp|0 1466
Deleted: src/qpid/client/FailoverSession.h|0 319
Deleted: src/qpid/client/FailoverSubscriptionManager.cpp|0 248
Deleted: src/qpid/client/FailoverSubscriptionManager.h|0 116

Revision: 2fd78956b4232b5288004612903ef0110a73cf39
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2008 21:39:37
Message:
Just use standard qpidc config file for ssl options #MsgLength=54


----
Modified: src/ssl.mk|1 1

Revision: f74b25b82d1fba641b633f48d47072d9af6809bb
Author: Gordon Sim <gsim@apache.org>
Date: 11/11/2008 00:48:01
Message:
* don't call exit after catching exception on any particular thread as the other threads may still be running and this causes core dumps * catch any errors that occur in shutdown #MsgLength=181


----
Modified: src/tests/perftest.cpp|6 5

Revision: 6d891c33818ad64dafafe30d8defc480908394d9
Author: Ted Ross <tross@apache.org>
Date: 11/11/2008 00:53:41
Message:
QPID-1446 - Fixed memory leak in management agent affecting broker. Added debug output to remote agent controllable via env variable. #MsgLength=135


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|25 4
Modified: src/qpid/agent/ManagementAgentImpl.h|1 0
Modified: src/qpid/management/ManagementBroker.cpp|7 2

Revision: 5cceee9b1a83724d13cc8c397f327b1f5dd5a9ca
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 11/11/2008 01:05:41
Message:
QPID-1445 patch from Jonathan #MsgLength=30


----
Modified: examples/direct/declare_queues.cpp|13 10
Modified: examples/direct/direct_producer.cpp|11 13
Modified: examples/direct/listener.cpp|21 2
Modified: examples/fanout/fanout_producer.cpp|12 13
Modified: examples/fanout/listener.cpp|22 4
Modified: examples/pub-sub/topic_listener.cpp|13 10
Modified: examples/pub-sub/topic_publisher.cpp|23 21
Modified: examples/request-response/client.cpp|23 5
Modified: examples/request-response/server.cpp|23 5
Modified: examples/xml-exchange/declare_queues.cpp|24 1
Modified: examples/xml-exchange/listener.cpp|21 2
Modified: examples/xml-exchange/xml_producer.cpp|24 1

Revision: 98c79194631df89530b544a8d7834c15e9e24d47
Author: Ted Ross <tross@apache.org>
Date: 11/11/2008 01:53:27
Message:
QPID-1446 - A more efficient data structure for freeing management objects. Namespace cleanup. #MsgLength=96


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|17 19
Modified: src/qpid/management/ManagementBroker.cpp|17 20

Revision: 3a59f5ac33eda0d24d7673300ccdb08fb0a886e1
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2008 03:08:19
Message:
handle case where doOutput call causes last task to be removed. #MsgLength=66


----
Modified: src/qpid/sys/AggregateOutput.cpp|1 0

Revision: dd94bec64e38cc39968b3aff1da74e36ba6bd80c
Author: Ted Ross <tross@apache.org>
Date: 12/11/2008 04:15:49
Message:
Fixed a file-descriptor leak in the c++ client API.  If the socket connection fails, the socket is never closed. #MsgLength=114


----
Modified: src/qpid/client/Connector.cpp|7 1
Modified: src/qpid/client/SslConnector.cpp|7 1

Revision: 90995b197a97fc6016528101e72ea792ae9af7a9
Author: Rafael H. Schloming <rhs@apache.org>
Date: 12/11/2008 04:49:46
Message:
fixed encoding of 64 bit types and added additional tests for 64 bit integers #MsgLength=78


----
Modified: src/qpid/framing/FieldValue.h|1 1
Modified: src/tests/FieldTable.cpp|8 3

Revision: 65137bd6bd7e1bb4c7313a38e71c82bda8cd986f
Author: Ted Ross <tross@apache.org>
Date: 12/11/2008 04:54:00
Message:
Fixed a violation of the lock hierarchy in LinkRegistry and Link #MsgLength=66


----
Modified: src/qpid/broker/Link.cpp|25 24

Revision: 4155ad6a49255c2b7ab9b219dc866358c3c4746f
Author: Alan Conway <aconway@apache.org>
Date: 12/11/2008 04:58:59
Message:
Fix deadlock when Message::flush() re-enters IncompleteMessageList. #MsgLength=69


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|5 2

Revision: fc3eb6f0e16c0631de6119a60573a2bc543ff58f
Author: Alan Conway <aconway@apache.org>
Date: 12/11/2008 05:09:21
Message:
Include DeliveryRecord::credit in replication to new members. #MsgLength=63


----
Modified: src/qpid/broker/DeliveryRecord.cpp|3 2
Modified: src/qpid/broker/DeliveryRecord.h|2 1
Modified: src/qpid/cluster/Connection.cpp|3 2
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/DumpClient.cpp|3 1
Modified: xml/cluster.xml|1 0

Revision: be8c94cea761d743b039e098fcecbed8f85fc9ec
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/11/2008 06:28:55
Message:
Add newly-added files and removed those removed #MsgLength=48


----
Modified: src/broker.vcproj|0 6
Modified: src/client.vcproj|0 18

Revision: dae48118d0b559b552849a4d219d221cb3da68e1
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/11/2008 06:34:31
Message:
Correct returned value on successful parse #MsgLength=43


----
Modified: src/qpid/sys/windows/uuid.cpp|1 1

Revision: 4f5b382453868074f242fdf9a9453fa5c4594393
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2008 17:49:08
Message:
Added back header file that I mistakenly removed in r712653. #MsgLength=63


----
Modified: src/Makefile.am|1 0

Revision: 570c76a552b12b21124da8c2d96ae60ab03b68a5
Author: Alan Conway <aconway@apache.org>
Date: 12/11/2008 23:42:24
Message:
Fix problem where broker generates empty URL if run on a host with only the 127.0.0.1 loopback interface. #MsgLength=107


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|5 3

Revision: ca0fb65e0622145dbcdc0ca447cdc282045b6495
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2008 01:15:20
Message:
Cluster replicates queues/exchanges with same encode/decode functions as the store. #MsgLength=147


----
Modified: src/qpid/broker/Exchange.cpp|8 3
Modified: src/qpid/cluster/Connection.cpp|13 0
Modified: src/qpid/cluster/Connection.h|4 0
Modified: src/qpid/cluster/DumpClient.cpp|16 15
Modified: src/qpid/framing/Buffer.cpp|12 2
Modified: src/qpid/log/Selector.cpp|3 2
Modified: src/qpid/log/Selector.h|1 1
Modified: src/qpid/log/Statement.h|0 4
Modified: src/tests/cluster_test.cpp|24 0
Modified: xml/cluster.xml|5 0

Revision: 8909c7faa3e06b8709b40acde216636d95bdefc9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/11/2008 03:29:09
Message:
QPID-1457: Removed erroneous signal settings #MsgLength=46


----
Modified: src/qpid/broker/SignalHandler.cpp|0 3

Revision: 6d497724e86641ae64fca30f6d44fe5187a66a5c
Author: Ted Ross <tross@apache.org>
Date: 13/11/2008 03:50:11
Message:
Generalized the creation of makefile fragments in qmf code generation. #MsgLength=72


----
Modified: managementgen/qmf-gen|20 13
Modified: managementgen/qmf/generate.py|24 1
Modified: managementgen/qmf/templates/Makefile.mk|6 1

Revision: 9b746ca0899993e5155474d016d5cc1eb35354f5
Author: Ted Ross <tross@apache.org>
Date: 13/11/2008 04:28:22
Message:
File missing from last commit. #MsgLength=32


----
Modified: src/Makefile.am|1 1

Revision: f0765d20a0b65df9b89d963f88869586d45c441e
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2008 05:49:58
Message:
Removed optimisticConsume queue option, queues always consume optimistically. There's no benefit to non-optimistic consume. #MsgLength=125


----
Modified: src/qpid/broker/Queue.cpp|0 11

Revision: 01726457bb9ebe530bfe6cc2b94f3c9571d5d8c0
Author: Ted Ross <tross@apache.org>
Date: 13/11/2008 08:46:31
Message:
Added null config for SSL test.  This test will malfunction if there is already a config file in the default location with SSL configuration in it. #MsgLength=149


----
Added: src/tests/config.null|1 0
Modified: src/tests/ssl_test|1 1

Revision: 0f533e41baa915a807969762aa2c01de026c334a
Author: Ted Ross <tross@apache.org>
Date: 13/11/2008 12:15:15
Message:
Updated qmf-agent API to allow user to specify uid, password, mechanism, and protocol. Fixed qmf-console bug related to routing keys of object messages. Pass the binding key into the management agent to allow for selective broadcast of object data. #MsgLength=250


----
Modified: src/qpid/agent/ManagementAgent.h|13 9
Modified: src/qpid/agent/ManagementAgentImpl.cpp|28 17
Modified: src/qpid/agent/ManagementAgentImpl.h|16 11
Modified: src/qpid/management/ManagementBroker.cpp|12 11
Modified: src/qpid/management/ManagementBroker.h|13 9
Modified: src/qpid/management/ManagementExchange.cpp|2 2

Revision: a5ceb182aae870d22a69d61bf4e08ffdeee2ba5b
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2008 20:43:26
Message:
QPID-1414: fix to prevent concurrent modification of brokers known url list #MsgLength=78


----
Modified: src/qpid/broker/Broker.cpp|8 7

Revision: d2d38aadd7536eba1add258b20542c55b72d2aa8
Author: Ted Ross <tross@apache.org>
Date: 13/11/2008 21:18:59
Message:
Added QPID_NO_MODULE_DIR to prevent client from loading libraries from outside the tested software. #MsgLength=101


----
Modified: src/tests/ssl_test|1 0

Revision: 7382d98cd2e55715726db1fd9e84ce14ee989a7e
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2008 21:27:01
Message:
QPID-1459: don't call Broker::getPort() with empty string as transport #MsgLength=73


----
Modified: src/posix/QpiddBroker.cpp|7 3

Revision: fcf2e8b2e385b26193c3227b2ef4a94513e06202
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2008 22:48:44
Message:
Don't stop connector until close has been sent and close-ok received in response. (If necessary delay error notification until then). #MsgLength=136


----
Modified: src/qpid/client/ConnectionHandler.cpp|5 2

Revision: a3026a59818cf1e0c8e347b257fbdc36d37d86e8
Author: Gordon Sim <gsim@apache.org>
Date: 14/11/2008 02:48:43
Message:
Minor cleanup edits to examples (from jrobie@redhat.com) #MsgLength=59


----
Modified: examples/direct/declare_queues.cpp|0 5
Modified: examples/direct/direct_producer.cpp|1 1
Modified: examples/direct/listener.cpp|3 1
Modified: examples/fanout/fanout_producer.cpp|0 1
Modified: examples/fanout/listener.cpp|1 1
Modified: examples/pub-sub/topic_listener.cpp|0 1
Modified: examples/pub-sub/topic_publisher.cpp|0 1
Modified: examples/request-response/client.cpp|5 5
Modified: examples/request-response/server.cpp|3 4
Modified: examples/xml-exchange/listener.cpp|1 1

Revision: f36a2575acca91b666e6f03004346dc423f87985
Author: Jonathan Robie <jonathan@apache.org>
Date: 14/11/2008 04:42:47
Message:
Test commit. Two more whitespace characters in a README. #MsgLength=58


----
Modified: examples/README|1 1

Revision: 4d0e5330231367b588af9f49b12507088b9709be
Author: Ted Ross <tross@apache.org>
Date: 14/11/2008 04:50:44
Message:
Added a second level of debug output for the qmf protocol exchange. #MsgLength=69


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|58 8
Modified: src/qpid/agent/ManagementAgentImpl.h|5 0

Revision: 418f9242fd2aaf2c2b27b0404fda755211005048
Author: Ted Ross <tross@apache.org>
Date: 14/11/2008 06:04:59
Message:
QPID-1461 - Added qmf event support for connections. #MsgLength=54


----
Modified: src/qpid/broker/Connection.cpp|12 5
Modified: src/qpid/broker/Connection.h|5 0
Modified: src/qpid/broker/ConnectionHandler.cpp|28 3
Modified: src/qpid/broker/Link.cpp|16 6
Modified: src/qpid/broker/Link.h|2 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|19 0
Modified: src/qpid/broker/SaslAuthenticator.h|2 0

Revision: ad9c0cc051e51200bc90dbdbc62024dcee7f1462
Author: Gordon Sim <gsim@apache.org>
Date: 14/11/2008 23:27:58
Message:
Add config.null file to distributed list or distcheck fails (todo: might be nicer to just generate that since its just an empty file) #MsgLength=136


----
Modified: src/tests/Makefile.am|1 0

Revision: 7c82ffbcada5d12c8b954474159d2e38e74d996c
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2008 00:02:42
Message:
Remove dummy cluster.so library, no longer needed & confusing. #MsgLength=64


----
Modified: src/cluster.mk|0 4

Revision: f06523f851c9a12596b1aa204b27350e4651c896
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2008 00:40:22
Message:
Added some failover capable tests Added grantCredit() method to subscription to allow simpler control of message delivery #MsgLength=124


----
Modified: src/qpid/client/Subscription.cpp|3 1
Modified: src/qpid/client/Subscription.h|6 0
Modified: src/qpid/client/SubscriptionImpl.cpp|5 1
Modified: src/qpid/client/SubscriptionImpl.h|4 0
Modified: src/qpid/client/SubscriptionManager.h|0 10
Modified: src/tests/Makefile.am|16 0
Added: src/tests/receiver.cpp|120 0
Added: src/tests/sender.cpp|100 0
Added: src/tests/txjob.cpp|95 0
Added: src/tests/txshift.cpp|185 0

Revision: adcac31ef3f4d8e19149258a53583f5cdfb6754a
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2008 01:18:53
Message:
Added further test script missing from distribution list and thus causing distcheck to fail if cluster module is enabled. #MsgLength=124


----
Modified: src/tests/Makefile.am|1 0

Revision: 1be73d29da3953adc8b547d78e818401b3a8f64f
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2008 02:50:54
Message:
Avoid alarming error message when unencrypted tcp is disabled. Test availability of tcp transport rather than catching exception if its not enabled. #MsgLength=151


----
Modified: src/qpid/broker/Broker.cpp|4 5

Revision: f95290aaefab839286557b7c76859961856ee554
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2008 03:24:21
Message:
Remove all cluster targets if configured --without-cpg. #MsgLength=57


----
Modified: src/cluster.mk|4 3

Revision: a47e1e2853a401453de12001c6f7facdd31e71b7
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2008 04:10:09
Message:
Ensure config file can be found (its in source tree not build tree) #MsgLength=70


----
Modified: src/tests/ssl_test|2 1

Revision: 10f58eb965d2e0a833c431136c22b9ed40c035dc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/11/2008 04:26:55
Message:
QPID-1465: Fixed initialisation of minimum value so it is tracked correctly #MsgLength=77


----
Modified: src/tests/latencytest.cpp|2 1

Revision: 6f45dda0dac73d21fe2da1af488c822ac60ae0bc
Author: Rafael H. Schloming <rhs@apache.org>
Date: 15/11/2008 22:10:10
Message:
updated version numbers and release notes for M4 #MsgLength=49


----
Modified: RELEASE_NOTES|2 2

Revision: cf91741349380b8181cddb4957bda68b35bbd3ad
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2008 20:54:08
Message:
Fixed erroneous test preventing cleanup of broker. #MsgLength=53


----
Modified: src/tests/ssl_test|1 1

Revision: a16674dd304a6a0195f589b018cdceac054fb3d8
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2008 01:03:43
Message:
Remove optimistic consume options. Better default message for SSL errors. #MsgLength=75


----
Modified: src/qpid/broker/Queue.h|0 1
Modified: src/qpid/client/QueueOptions.cpp|0 11
Modified: src/qpid/client/QueueOptions.h|0 12
Modified: src/qpid/sys/ssl/check.cpp|2 0
Modified: src/tests/QueueOptionsTest.cpp|12 16
Modified: src/tests/QueueTest.cpp|0 32

Revision: 761e53eeffa27b78f59ef40c1225b43a840c4f48
Author: Jonathan Robie <jonathan@apache.org>
Date: 18/11/2008 01:17:38
Message:
Modified user.doxygen.in to incorporate main page documentation. #MsgLength=66


----
Modified: docs/api/developer.doxygen.in|8 8
Modified: docs/api/user.doxygen.in|15 14

Revision: 6656cf6964e967f74bce1754cef1af8c18e4fafe
Author: Jonathan Robie <jonathan@apache.org>
Date: 18/11/2008 01:33:20
Message:
Deleting doxygen_mainpage.h, which has moved to the src/cpp/docs/api directory. #MsgLength=81


----
Deleted: src/qpid/doxygen_mainpage.h|0 28

Revision: f17ebab47acb2d00dc314b69b76844ca93d1f127
Author: Jonathan Robie <jonathan@apache.org>
Date: 18/11/2008 01:47:47
Message:
Housecleaning - removed Session_099 filter, removed jrobie path from developer.doxygen.in #MsgLength=91


----
Modified: docs/api/developer.doxygen.in|1 1
Modified: docs/api/user.doxygen.in|1 1

Revision: 74474a3b0c277f9c3b6623fe8b663090aa4bceea
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/11/2008 08:12:05
Message:
Initial instructions for building on Windows #MsgLength=45


----
Modified: INSTALL|2 1
Added: INSTALL-WINDOWS|134 0

Revision: 3c016f77624ae9bac1edc93c93ebf34502b3f695
Author: Alan Conway <aconway@apache.org>
Date: 19/11/2008 03:55:59
Message:
Optional cluster integration with cman quorum service. #MsgLength=56


----
Modified: configure.ac|26 8
Modified: src/cluster.mk|12 5
Modified: src/qpid/cluster/Cluster.cpp|12 0
Modified: src/qpid/cluster/Cluster.h|5 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 0
Added: src/qpid/cluster/Quorum.h|32 0
Added: src/qpid/cluster/Quorum_cman.cpp|53 0
Added: src/qpid/cluster/Quorum_cman.h|53 0
Added: src/qpid/cluster/Quorum_null.h|39 0
Modified: src/tests/cluster.mk|5 5
Modified: src/tests/ssl_test|1 2

Revision: 966ed4caa310f33a2f88bccc3bdc3bcb82fd4812
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/11/2008 05:33:37
Message:
Added doxygen documentation for Connection::open(ConnectionSettings) #MsgLength=70


----
Modified: src/qpid/client/Connection.h|27 2

Revision: 04c210d7717f5f21c9da55f5da3c48d1ee1be155
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/11/2008 07:47:00
Message:
Add Windows-specific files to EXTRA_DIST so they are in releases; fixes QPID-1467 #MsgLength=82


----
Modified: src/Makefile.am|38 1

Revision: d1fe9c60701d8f48cd39166ab0f32273b3ad5c86
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/11/2008 08:00:25
Message:
Refinements to TOC #MsgLength=19


----
Modified: INSTALL-WINDOWS|4 11

Revision: 3ac014d34edfea02d136633e7572ec50076ef887
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/11/2008 08:04:08
Message:
Add INSTALL-WINDOWS to EXTRA-DIST #MsgLength=34


----
Modified: Makefile.am|1 1

Revision: e857997d1b3fd1e6d01bafc0343b852eb491dd3d
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/11/2008 08:07:58
Message:
Change formats to VC9, add MaxMethodBodySize and remove it from protocol_gen.mak; resolved QPID-1473 #MsgLength=101


----
Added: src/MaxMethodBodySize.vcproj|375 0
Modified: src/broker.vcproj|31 13
Modified: src/client.vcproj|13 13
Modified: src/common.vcproj|13 13
Modified: src/protocol_gen.mak|1 9
Modified: src/qpid.sln|17 4

Revision: 7d1c25dfbe872d02f29c1e407c1a92eca1ee512e
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/11/2008 19:54:02
Message:
Removed  overblown Doxygen comments. #MsgLength=38


----
Modified: src/qpid/client/Connection.h|1 25

Revision: e597fa87289b3636478fec77fd48bcad57a7661c
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2008 20:16:23
Message:
Updated patch for change to EXTRA_DIST #MsgLength=41


----
Modified: boost-1.32-support/main.patch|8 7

Revision: b09ca0e1fe7d018417bf75afde7e8b8000675440
Author: Alan Conway <aconway@apache.org>
Date: 19/11/2008 21:52:51
Message:
Fix --cluster-cman option to enable cman integration. #MsgLength=55


----
Modified: src/qpid/cluster/Cluster.cpp|4 7
Modified: src/qpid/cluster/Cluster.h|4 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|7 1
Modified: src/qpid/cluster/Quorum_cman.cpp|12 16
Modified: src/qpid/cluster/Quorum_cman.h|0 3
Modified: src/qpid/cluster/Quorum_null.h|3 5
Modified: src/qpid/sys/posix/PollableCondition.cpp|0 4

Revision: 9dfa740d7aa5b2b0832a92c5bbf7a44e1c8174f2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/11/2008 22:13:57
Message:
QPID-1474: Changed lock scope for PollerHandle::~PollerHandle Also check state better to make sure the impl can't be deleted more than once in a race #MsgLength=150


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|5 0

Revision: ddb4d72cc0138bdb54d939be21ca09b8b03a3e21
Author: Alan Conway <aconway@apache.org>
Date: 19/11/2008 23:36:16
Message:
Fix seg fault caused by exceptiosn thrown in Cluster ctor. #MsgLength=60


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpidd.cpp|2 1

Revision: 8e9d643dfc25a6af07c9c3143c498a32a739fe3e
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2008 01:12:48
Message:
Ensure that callbacks are removed before IncompleteMessageList instance is deleted. (also removed commented out line of code from Queue.cpp) #MsgLength=143


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|6 0
Modified: src/qpid/broker/IncompleteMessageList.h|1 0
Modified: src/qpid/broker/Message.cpp|2 0
Modified: src/qpid/broker/Message.h|2 0
Modified: src/qpid/broker/Queue.cpp|0 1

Revision: abcd95b2afaf5e2858b3fc17af4ff6ec13df6f10
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2008 04:22:38
Message:
tests/failover_soak: run a cluster with clients, kill and restart cluster members, verify client fail-over. #MsgLength=109


----
Modified: src/tests/ForkedBroker.h|13 7
Modified: src/tests/Makefile.am|18 2
Added: src/tests/declare_queues.cpp|69 0
Added: src/tests/failover_soak.cpp|651 0
Added: src/tests/replaying_sender.cpp|131 0
Added: src/tests/resuming_receiver.cpp|163 0
Added: src/tests/run_failover_soak|13 0

Revision: f431c382bf4222020890a9b1de4f21edd242da94
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2008 04:41:38
Message:
File descriptor leak in ForkedBroker test utility. #MsgLength=52


----
Modified: src/tests/ForkedBroker.h|10 6

Revision: 5c0808c65bcb7de9b700d9d2bc5da0ad1d42ddc4
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/11/2008 07:59:49
Message:
Replace lower_bound with equivalent loop; resolves QPID-1424 #MsgLength=61


----
Modified: src/qpid/broker/SessionManager.cpp|8 3

Revision: d1a3dfdf86644c048afcefe15e9232f27a8fca44
Author: Ted Ross <tross@apache.org>
Date: 20/11/2008 22:51:45
Message:
QPID-1476 - routing keys used for updates can't be used to discriminate by agent - Fixed routing keys in agents and binding keys in consoles - Added some additional debug output for ManagementAgentImpl - Minor cleanup in the connection close path for ManagementAgentImpl #MsgLength=272


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|19 6
Modified: src/qpid/management/ManagementBroker.cpp|5 7

Revision: 5d89b1ff66d824b76528f23affa5fbfa4683ff1c
Author: Gordon Sim <gsim@apache.org>
Date: 21/11/2008 01:24:55
Message:
Added some extra test options. #MsgLength=33


----
Modified: src/tests/receiver.cpp|16 7
Modified: src/tests/sender.cpp|7 7
Modified: src/tests/txjob.cpp|1 1

Revision: c37621f08c05d8c603b2ed792bb9ad482bf0d132
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2008 02:29:20
Message:
Replaced boost.spirit-based URL parser with simple recursive descent parser. #MsgLength=444


----
Modified: src/qpid/Address.cpp|30 6
Modified: src/qpid/Address.h|34 19
Modified: src/qpid/Url.cpp|127 6
Modified: src/qpid/Url.h|5 7
Modified: src/tests/Url.cpp|28 25

Revision: d3a9879f1a4cb0272b2998c9004ab08304c6116e
Author: Ted Ross <tross@apache.org>
Date: 21/11/2008 03:12:21
Message:
Add proper cleanup of stored management objects during agent shutdown. #MsgLength=72


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|14 0

Revision: 4545af66d6b17acbfe469ce71445c47db5ccfedf
Author: Ted Ross <tross@apache.org>
Date: 21/11/2008 04:28:17
Message:
QPID-1464 - Moved qmf console API out of python/qpid and into python/qmf #MsgLength=74


----
Modified: src/tests/acl.py|2 2

Revision: ca8b6c8e193228893d950c00202c50c565b3743b
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2008 06:12:50
Message:
Add missing DIST rules. #MsgLength=25


----
Modified: src/cluster.mk|9 3

Revision: e63a11a397bf7f6aaf50000a59b8c7b65d12bd08
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2008 06:33:28
Message:
Exorcise remains of boost.spirit parser. #MsgLength=42


----
Modified: configure.ac|0 3
Modified: src/qpid/Url.cpp|1 68

Revision: e646085b67854b8df99208460d9907473faa3fca
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2008 07:11:50
Message:
Add missing bounds checks. #MsgLength=28


----
Modified: src/qpid/Url.cpp|5 2

Revision: d7f0654d850b8c16d94d6b8ce6c62d3c4de2c1ed
Author: Ted Ross <tross@apache.org>
Date: 22/11/2008 02:46:24
Message:
Renamed the python package for the qmf code generation as it conflicts with the package for the qmf apis. #MsgLength=107


----
Modified: managementgen/Makefile.am|12 12
Modified: managementgen/qmf-gen|3 3
Renamed: managementgen/qmfgen/__init__.py [from managementgen/qmf/__init__.py]|0 0
Renamed: managementgen/qmfgen/generate.py [from managementgen/qmf/generate.py]|4 4
Renamed: managementgen/qmfgen/management-types.xml [from managementgen/qmf/management-types.xml]|0 0
Renamed: managementgen/qmfgen/schema.py [from managementgen/qmf/schema.py]|0 0
Renamed: managementgen/qmfgen/templates/Args.h [from managementgen/qmf/templates/Args.h]|0 0
Renamed: managementgen/qmfgen/templates/Class.cpp [from managementgen/qmf/templates/Class.cpp]|0 0
Renamed: managementgen/qmfgen/templates/Class.h [from managementgen/qmf/templates/Class.h]|0 0
Renamed: managementgen/qmfgen/templates/Event.cpp [from managementgen/qmf/templates/Event.cpp]|0 0
Renamed: managementgen/qmfgen/templates/Event.h [from managementgen/qmf/templates/Event.h]|0 0
Renamed: managementgen/qmfgen/templates/Makefile.mk [from managementgen/qmf/templates/Makefile.mk]|0 0
Renamed: managementgen/qmfgen/templates/Package.cpp [from managementgen/qmf/templates/Package.cpp]|0 0
Renamed: managementgen/qmfgen/templates/Package.h [from managementgen/qmf/templates/Package.h]|0 0

Revision: 8e4d05e413692f85d38180d302ed9d9431b00be6
Author: Ted Ross <tross@apache.org>
Date: 22/11/2008 04:17:22
Message:
Fixed several problems related to qmf update timestamps: - Timestamps were set at update send time regardless of whether the object's contents were actually changed.  Now timestamps are set at the time of the change. - Agent heartbeat messages are now being sent after periodic updates, not before. #MsgLength=361


----
Modified: managementgen/qmfgen/schema.py|4 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|12 15
Modified: src/qpid/management/ManagementBroker.cpp|11 14
Modified: src/qpid/management/ManagementObject.cpp|1 1
Modified: src/qpid/management/ManagementObject.h|7 5

Revision: a5269143f5fb49fea17a8208a3b52663b6db0f94
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2008 20:40:32
Message:
Clearer error message for case when specified module-dir is not a directory. #MsgLength=79


----
Modified: src/qpid/Modules.cpp|4 0

Revision: 8944b2365dd00fa05ec9481fac8b585f14bcc7b2
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2008 20:41:35
Message:
Avoid spurious error message for TransportFailure #MsgLength=52


----
Modified: src/qpid/client/Dispatcher.cpp|4 0

Revision: a0b9148eee27335452d1836ab264afcbf7aa23f0
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2008 02:06:43
Message:
Reduce logging noise from NullMessageStore: log "persistence disabled" once at start up, not on every action. #MsgLength=111


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|12 36
Modified: src/qpid/broker/NullMessageStore.h|1 2
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/TestMessageStore.h|1 1

Revision: 00887adafb7c6acaf2f9c011389ccbb4c800e188
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2008 02:18:04
Message:
tests/failover_soak.cpp: add unique log-prefix per broker. #MsgLength=60


----
Modified: src/tests/failover_soak.cpp|4 1

Revision: 9b11c6283ebc40cbb23b190a6823ae5355b02be9
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2008 02:26:24
Message:
tests/failover_soak.cpp: Only load cluster module, reduces logging clutter. #MsgLength=77


----
Modified: src/tests/failover_soak.cpp|2 3

Revision: f60127fac73c6b7fe0a8decacfe0f199878b20dd
Author: Gordon Sim <gsim@apache.org>
Date: 25/11/2008 02:37:37
Message:
QPID-1478: ensure concurrent publishers work correctly (as well as reported assertion, the test uncovered a potential deadlock due to bounds being expanded before frames were added to queue). #MsgLength=194


----
Modified: src/qpid/client/Bounds.cpp|1 2
Modified: src/qpid/client/Connector.cpp|3 1
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|56 0

Revision: d2098be5922abcd0041b268a89bfde043da8dc53
Author: Gordon Sim <gsim@apache.org>
Date: 25/11/2008 03:33:54
Message:
QPID-1478: Same fix is required in SslConnector unfortunately. #MsgLength=65


----
Modified: src/qpid/client/SslConnector.cpp|1 1

Revision: 8cec19a545178ad831f721a2941dfc1224297e60
Author: Gordon Sim <gsim@apache.org>
Date: 26/11/2008 00:23:17
Message:
Prevent cluster module being loaded twice if module is also installed. #MsgLength=73


----
Modified: src/tests/failover_soak.cpp|1 0

Revision: 0a65ff7eaf300e7343c1698e9c42cb1fee324e23
Author: Gordon Sim <gsim@apache.org>
Date: 26/11/2008 00:55:20
Message:
Clean up logging a bit: only warn once, not for every connection #MsgLength=67


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1

Revision: e17d91affd853905d9cb43abc830bdecdf5f3d02
Author: Alan Conway <aconway@apache.org>
Date: 26/11/2008 04:09:10
Message:
cluster_test.cpp: Extended testUnacked to cover acquired, accepted but not completed case. #MsgLength=92


----
Modified: src/tests/cluster_test.cpp|23 3

Revision: d486627d2f5acac613bfd7bc56c7fc3344bf7ef6
Author: Jonathan Robie <jonathan@apache.org>
Date: 26/11/2008 05:11:33
Message:
Added generated framing headers to doxygen documentation. #MsgLength=59


----
Modified: docs/api/user.doxygen.in|2 2

Revision: 8033d98e4ccde4389cec9fda802dead7f93c98d9
Author: Alan Conway <aconway@apache.org>
Date: 26/11/2008 23:08:07
Message:
Fix typo. #MsgLength=11


----
Modified: src/tests/cluster_test.cpp|1 1

Revision: 8fa2bbed36affffdaf56c18d4cc4a1c6a9d6a569
Author: Kim van der Riet <kpvdr@apache.org>
Date: 27/11/2008 00:27:32
Message:
Fixed problem of recurring xids (0, 1, 2...) on successive txtest runs which can cause journal txn recover failures. The xid is now the 36-char string representation of a UUID and should have a great test-to-test diversity. #MsgLength=224


----
Modified: src/tests/txtest.cpp|9 7

Revision: f5c9800ad0460809f52bc456668cb4c23aa119b1
Author: Alan Conway <aconway@apache.org>
Date: 27/11/2008 01:37:16
Message:
Cluster.cpp: Fixed last-node-standing logic, better logging. Shlib.cpp: added file name to errors messages. #MsgLength=109


----
Modified: src/qpid/cluster/Cluster.cpp|72 70
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/sys/posix/Shlib.cpp|2 2
Modified: src/tests/Makefile.am|4 0
Modified: src/tests/cluster_test.cpp|1 0
Modified: src/tests/perfdist|4 4

Revision: 8af34967160a1ee1617c8b268d76d529374dcfbb
Author: Alan Conway <aconway@apache.org>
Date: 27/11/2008 03:20:20
Message:
Removed mistakenly commited lines. #MsgLength=36


----
Modified: src/tests/Makefile.am|0 4

Revision: 68b5939b89fcade72b16b528e44cd9bcc721357c
Author: Ted Ross <tross@apache.org>
Date: 27/11/2008 04:43:14
Message:
Added a copy constructor and assignment operator to FieldTable. This was done to solve a library problem with the RHEL4 distribution. #MsgLength=541


----
Modified: src/qpid/framing/FieldTable.cpp|12 0
Modified: src/qpid/framing/FieldTable.h|3 0

Revision: c0f71cb68b2edafd1efe5ec611c389743c7e57a0
Author: Ted Ross <tross@apache.org>
Date: 27/11/2008 04:48:44
Message:
Bug fixes for QMF: ManagementAgentImpl - don't send messages if broker is not connected. ManagementBroker - agents could be assigned the same agentBank - don't send console-attached for attached agents - handle multiple qmf messages in an AMQP body schema.py - Don't use the FieldTable copy-constructor, use .clear() #MsgLength=363


----
Modified: managementgen/qmfgen/schema.py|4 4
Modified: src/qpid/agent/ManagementAgentImpl.cpp|11 9
Modified: src/qpid/management/ManagementBroker.cpp|25 20

Revision: 0d99a4dba65523c929642e4191a30ad997fb0724
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/11/2008 05:12:06
Message:
QPID-1489: Tidy epoll code to remove a valgrind warning on 32bit Linux: - We weren't initialising all 64 bits of a union that was being passed to epoll_ctl on 32 bit Linuxes #MsgLength=177


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|27 23
Modified: src/tests/.valgrind.supp|0 7

Revision: cea601f921b5db9b92a25e7ecb17f8519d43086c
Author: Alan Conway <aconway@apache.org>
Date: 27/11/2008 05:13:05
Message:
 Was causing cluster failures. QPID-1488 Mick Goulish:  QueuePolicy serialization fix for cluster braindump. #MsgLength=110


----
Modified: src/qpid/broker/Queue.cpp|3 1
Modified: src/qpid/broker/QueuePolicy.cpp|31 2
Modified: src/qpid/broker/QueuePolicy.h|6 2
Modified: src/qpid/sys/AtomicValue_mutex.h|2 0

Revision: ee164f0ad1c611b498a5c80ca8d024da954d1f1a
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2008 20:21:04
Message:
* QPID-1488: test that policy pointer is set * don't flow to disk for null store implementation * add checks for undeflow in queue policy #MsgLength=140


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|1 1
Modified: src/qpid/broker/MessageBuilder.cpp|6 1
Modified: src/qpid/broker/NullMessageStore.cpp|10 0
Modified: src/qpid/broker/NullMessageStore.h|3 0
Modified: src/qpid/broker/Queue.cpp|10 4
Modified: src/qpid/broker/QueuePolicy.cpp|18 2
Modified: src/qpid/broker/SemanticState.cpp|3 2
Modified: src/tests/MessageBuilderTest.cpp|7 0

Revision: dd216007823e80696050d846a4f9f35086399f14
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2008 21:03:32
Message:
Further check in decode of policy. #MsgLength=37


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: adf00c96711da3df95dac6a8a780cbfa230f0ef2
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2008 22:35:36
Message:
Disabling underflow check in QueuePolicy until reported failures in javas org.apache.qpid.test.unit.xa.TopicTest can be investigated. #MsgLength=136


----
Modified: src/qpid/broker/QueuePolicy.cpp|8 2

Revision: 08ab5052b2e3cfd319d445f02f5c5d8d6aa325ce
Author: Alan Conway <aconway@apache.org>
Date: 27/11/2008 23:13:26
Message:
Fix anachronism in --daemon option description. #MsgLength=49


----
Modified: src/posix/QpiddBroker.cpp|1 1

Revision: b1bafc5cce1a277db81dc8991789d4f0e26957e2
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2008 01:07:33
Message:
QPID-1264: fix for topic exchange (patch from astitcher@redhat.com) #MsgLength=70


----
Modified: src/qpid/broker/TopicExchange.cpp|12 4

Revision: afb556468cf54b460023de94ea6ebb81656bc67d
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2008 02:43:00
Message:
Ensure broker doesn't hang waiting for async enqueue to complete on shutdown. #MsgLength=80


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|10 2
Modified: src/qpid/broker/IncompleteMessageList.h|2 0
Modified: src/tests/IncompleteMessageList.cpp|36 1

Revision: c2ab65d3751c92f61758910454b36a3f54bd7735
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2008 02:48:18
Message:
Backed out last change; not sure it actually makes sense. #MsgLength=60


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|2 10
Modified: src/qpid/broker/IncompleteMessageList.h|0 2
Modified: src/tests/IncompleteMessageList.cpp|1 36

Revision: 95fa59cb4a2c9fe6ffb1842b109e01d04f615029
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2008 04:54:42
Message:
QPID-1485: check required group is set etc when running failover test (patch from mgoulish@redhat.com). #MsgLength=106


----
Modified: src/tests/run_failover_soak|24 0

Revision: 62317ec2c54d0d5705f56d6fd4c7574aadb3b9b1
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2008 20:13:38
Message:
Fix setting of accept mode in perftest which appears to be back-to-front. #MsgLength=76


----
Modified: src/tests/perftest.cpp|1 1

Revision: 2ee216870d1f8b7d1949514346fb8b8e0d7491ea
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2008 01:59:20
Message:
Added cluster log messages. #MsgLength=29


----
Modified: src/qpid/cluster/Cluster.cpp|10 7
Modified: src/qpid/cluster/OutputInterceptor.cpp|8 13
Modified: src/qpid/cluster/OutputInterceptor.h|0 1

Revision: 7f2dc4d56dfba4a5fdad892339cc4618e73b007a
Author: Gordon Sim <gsim@apache.org>
Date: 30/11/2008 00:01:54
Message:
QPID-1280: fixed performance regression for multiple subscribers on shared queue #MsgLength=83


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Queue.cpp|23 23
Modified: src/qpid/broker/Queue.h|3 4
Added: src/qpid/broker/QueueListeners.cpp|73 0
Added: src/qpid/broker/QueueListeners.h|68 0

Revision: 37415ed1d80ee2a233f597d0b0d6d36195785dae
Author: Gordon Sim <gsim@apache.org>
Date: 01/12/2008 19:15:54
Message:
QPID-1495: Patch from Danushka Menikkumbura to fix compilation problem. #MsgLength=74


----
Modified: src/qpid/broker/Message.cpp|2 2

Revision: 79ab1ac785ff744da870905bc9d34bc8c1001155
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2008 23:40:14
Message:
cluster: Queue outgoing multicast events. #MsgLength=43


----
Modified: src/qpid/cluster/Cluster.cpp|7 5
Modified: src/qpid/cluster/Cluster.h|2 2

Revision: cbf1f40bb3543e0653d3415841b59894911485a3
Author: Ted Ross <tross@apache.org>
Date: 02/12/2008 00:38:54
Message:
Fixed a performance regression caused by the management code. The current/last-change timestamp is now set on management objects when they are published, not when they actually change.  Also, the timestamp is updated only if modifications were made to the object in the last publish interval. #MsgLength=294


----
Modified: managementgen/qmfgen/schema.py|0 4
Modified: src/qpid/agent/ManagementAgentImpl.cpp|15 14
Modified: src/qpid/management/ManagementBroker.cpp|7 3
Modified: src/qpid/management/ManagementObject.h|6 6

Revision: 108d4ec102925655a4b0f39e3bf3acc4cd304091
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 02/12/2008 00:48:25
Message:
Updated notes to remove incubator notices #MsgLength=42


----
Deleted: DISCLAIMER|0 5
Modified: RELEASE_NOTES|2 2

Revision: e215621cebe64006e7240c55509b5cceee5b889e
Author: Gordon Sim <gsim@apache.org>
Date: 02/12/2008 03:49:23
Message:
QPID-1497: Ensure policy count and size reflect transactionality of dequeues #MsgLength=79


----
Modified: src/qpid/broker/DeliveryRecord.cpp|4 0
Modified: src/qpid/broker/DeliveryRecord.h|1 0
Modified: src/qpid/broker/DtxAck.cpp|1 0
Modified: src/qpid/broker/NullMessageStore.cpp|3 1
Modified: src/qpid/broker/Queue.cpp|9 1
Modified: src/qpid/broker/Queue.h|5 0
Modified: src/qpid/broker/QueuePolicy.cpp|2 8
Modified: src/qpid/broker/TxAccept.cpp|1 0
Modified: src/tests/QueuePolicyTest.cpp|57 0

Revision: d4594d63684b519fb60a7406bbcd1fe3a047efd4
Author: Gordon Sim <gsim@apache.org>
Date: 02/12/2008 18:05:15
Message:
As DISCLAIMER has been removed, don't include it in distribution list. #MsgLength=73


----
Modified: Makefile.am|1 1

Revision: 7e11d3ca3e86a2e9b3f16dc5a9910c54bbf52891
Author: Ted Ross <tross@apache.org>
Date: 02/12/2008 20:56:48
Message:
Added management accounting for transaction dequeues. #MsgLength=55


----
Modified: src/qpid/broker/Queue.cpp|4 0

Revision: cc87c7334d5fd0d7eb010a524e6998ca08da7e09
Author: Gordon Sim <gsim@apache.org>
Date: 03/12/2008 02:34:06
Message:
Avoid potential deadlock between IO thread in Connector::handleClosed() and application thread in ConnectionImpl::closed() #MsgLength=124


----
Modified: src/qpid/client/ConnectionImpl.cpp|4 1

Revision: 194cc7360b078c4ccf9439f076964a417e5e04e5
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2008 04:41:49
Message:
Cluster: handle CPG flow-control conditions. PollableQueue: allow dispatch functions to refuse dispatch. #MsgLength=106


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 0
Modified: src/qpid/cluster/Cluster.cpp|24 12
Modified: src/qpid/cluster/Cluster.h|4 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 0
Modified: src/qpid/cluster/Cpg.cpp|26 22
Modified: src/qpid/cluster/Cpg.h|20 15
Modified: src/qpid/cluster/DumpClient.cpp|2 2
Modified: src/qpid/cluster/Event.cpp|2 2
Modified: src/qpid/cluster/Event.h|1 1
Modified: src/qpid/sys/PollableQueue.h|19 11

Revision: 874d24753191016a918c0e23390c4f3d54a5cce1
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2008 05:43:24
Message:
PollableQueue: fix unsafe use of deque #MsgLength=40


----
Modified: src/qpid/cluster/Cpg.cpp|2 7
Modified: src/qpid/cluster/Event.cpp|3 1
Modified: src/qpid/sys/PollableQueue.h|8 4

Revision: 46effd8a559d90acd27ab54d350033d23a3a22a3
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2008 09:51:04
Message:
Fix bad assert(), causing compile failures in debug builds. #MsgLength=61


----
Modified: src/qpid/cluster/Event.cpp|1 1

Revision: 78d24c24fbffb2e2be1a890487564e9835ef739f
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2008 10:55:54
Message:
cluster: add Event size to encoded header. #MsgLength=44


----
Modified: src/qpid/cluster/Cluster.cpp|2 1
Modified: src/qpid/cluster/Event.cpp|8 6
Modified: src/qpid/cluster/Event.h|1 1
Modified: src/tests/Makefile.am|4 0
Added: src/tests/tsxtest.cpp|628 0

Revision: 37d81dd9b576d94239d3813deb96bede261d13fc
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/12/2008 11:26:25
Message:
clean up #MsgLength=9


----
Modified: src/tests/Makefile.am|0 3
Deleted: src/tests/tsxtest.cpp|0 628

Revision: 3ab8dffd4fc32d7faeca1d9a88959ed334acf132
Author: Ted Ross <tross@apache.org>
Date: 03/12/2008 21:57:50
Message:
Minor fix: reuse assigned bank info when broker disconnects and reconnects. #MsgLength=77


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 0

Revision: 48902b89f0ecab1ce3616c9044f81195ac2d1e36
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2008 23:08:01
Message:
Corrected doxygen comment. #MsgLength=28


----
Modified: src/qpid/client/ConnectionSettings.h|2 3

Revision: 6df7d0425a5cf60e02c5ef3c36550ce325101b0a
Author: Ted Ross <tross@apache.org>
Date: 04/12/2008 00:12:11
Message:
QPID-1513 - Fix corner case where incompleted schema records are not completed if the agent disconnects mid-startup. #MsgLength=130


----
Modified: src/qpid/management/ManagementBroker.cpp|5 3

Revision: 6b55a82951dc048bd18b2759c4145735a6ae950d
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/12/2008 08:07:31
Message:
Catch up to generated code #MsgLength=27


----
Modified: src/broker.vcproj|6 24

Revision: 7f41d7ef453270b8252a886bfd230f77e768076a
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2008 17:25:33
Message:
QPID-1514: Add check for presence of key to FieldTable::erase() #MsgLength=66


----
Modified: src/qpid/framing/FieldTable.cpp|2 1
Modified: src/tests/QueueOptionsTest.cpp|19 0

Revision: 68b8b864d33d9b0e298140d96e01c5cdaaf2c4c7
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2008 23:31:22
Message:
Example config files are misleading as spaces on either side of the '=' prevent the options being parsed correctly. #MsgLength=118


----
Modified: etc/qpidc.conf|5 2
Modified: etc/qpidd.conf|5 3

Revision: 42c7ef96386a1dc13633f1cbcad7cb5121149f24
Author: Gordon Sim <gsim@apache.org>
Date: 06/12/2008 03:20:44
Message:
Updated minimum gcc version as earlier version reported not to work anymore. #MsgLength=78


----
Modified: INSTALL|4 2

Revision: c71c5ec26882c967e56eefd7141d222e44302d42
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2008 02:46:40
Message:
src/qpid/sys/ActivityTimer.h: record time spent in specific code segments, for profiling/debugging. #MsgLength=101


----
Added: src/qpid/sys/ActivityTimer.h|111 0

Revision: b4346c6010703f7896d9f53ac956af37405538c2
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2008 10:18:03
Message:
OutputControl and subclasses: added giveReadCredit() for IO level flow control. Cluster: Set read credit limit for cluster connections. #MsgLength=137


----
Modified: src/qpid/amqp_0_10/Connection.cpp|1 0
Modified: src/qpid/amqp_0_10/Connection.h|1 0
Modified: src/qpid/broker/SessionState.cpp|5 0
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/qpid/client/Connector.cpp|3 2
Modified: src/qpid/cluster/Connection.cpp|11 4
Modified: src/qpid/cluster/Connection.h|3 0
Modified: src/qpid/cluster/NoOpConnectionOutputHandler.h|1 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 0
Modified: src/qpid/cluster/OutputInterceptor.h|1 0
Modified: src/qpid/sys/AggregateOutput.cpp|3 4
Modified: src/qpid/sys/AggregateOutput.h|2 0
Modified: src/qpid/sys/AsynchIO.h|2 1
Modified: src/qpid/sys/AsynchIOHandler.cpp|28 3
Modified: src/qpid/sys/AsynchIOHandler.h|7 1
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|1 0
Modified: src/qpid/sys/OutputControl.h|4 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|11 1
Modified: src/qpid/sys/ssl/SslHandler.cpp|4 0
Modified: src/qpid/sys/ssl/SslHandler.h|1 0

Revision: 1503c8cada48f4d4b1e1f580fa7a2c32a7fa26b0
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2008 20:00:58
Message:
Cluster: fixed error in credit allocation. #MsgLength=44


----
Modified: src/qpid/cluster/Connection.cpp|3 5
Modified: src/qpid/cluster/OutputInterceptor.cpp|3 1

Revision: 185a854c8ff72ab235aa80ca6894ec6066e03cd3
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2008 20:04:02
Message:
src/qpid/cluster/OutputInterceptor.cpp: revert locking. #MsgLength=57


----
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 3

Revision: 255924d98ee64bf36c177e1af4eefa171d32b184
Author: Ted Ross <tross@apache.org>
Date: 08/12/2008 22:26:55
Message:
Management optimization: don't send (empty) statistic updates for object classes that don't have statistics. #MsgLength=110


----
Modified: managementgen/qmfgen/templates/Class.h|16 15
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/management/ManagementBroker.cpp|3 6
Modified: src/qpid/management/ManagementObject.h|19 18

Revision: dd98a3b4a702957c8a90e3e76f173d4881b7f754
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2008 22:57:05
Message:
Cluster: separated connection map lock to reduce contention. #MsgLength=62


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/cluster/Cluster.cpp|15 41
Modified: src/qpid/cluster/Cluster.h|3 4
Added: src/qpid/cluster/ConnectionMap.h|90 0

Revision: dee3eca05601056634228a4884f87e5d26784ff2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/12/2008 01:10:49
Message:
Added dummy read throttling code to RDMA protocol support so it will carry on compiling #MsgLength=89


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|5 0

Revision: ca9ab07c528646e3d960ee57246dc0cdb079d4a8
Author: Alan Conway <aconway@apache.org>
Date: 09/12/2008 01:16:37
Message:
Cluster: reduced scope of mcast locks. #MsgLength=40


----
Modified: src/qpid/cluster/Cluster.cpp|22 36
Modified: src/qpid/cluster/Cluster.h|3 6

Revision: d29dfd329206e4da144be9cdef4bf9c1d0382daa
Author: Jonathan Robie <jonathan@apache.org>
Date: 09/12/2008 02:43:34
Message:
Removed a cast to asynch sessions for message transfer in client. It was not needed, and disagreed with the tutorial. #MsgLength=119


----
Modified: examples/request-response/client.cpp|1 3

Revision: 23b215e169f87c11579369218ef9006a6829b678
Author: Alan Conway <aconway@apache.org>
Date: 10/12/2008 04:08:47
Message:
Cluster: Option --cluster-read-max configures read-to-redeliver flow-control. #MsgLength=79


----
Modified: src/qpid/cluster/Cluster.cpp|4 3
Modified: src/qpid/cluster/Cluster.h|5 4
Modified: src/qpid/cluster/ClusterPlugin.cpp|5 2
Modified: src/qpid/cluster/Connection.cpp|3 3
Modified: src/tests/latencytest.cpp|1 1

Revision: 20fc202ecd140a5ca4fff9a632f08432144ab473
Author: Ted Ross <tross@apache.org>
Date: 10/12/2008 04:34:19
Message:
Applied name convention to class names:  Capitalized names. #MsgLength=61


----
Modified: src/qpid/acl/management-schema.xml|1 1
Modified: src/qpid/cluster/management-schema.xml|1 1

Revision: daaababfe22ed2d7a640a2a1e9dd48dc6923db56
Author: Alan Conway <aconway@apache.org>
Date: 10/12/2008 07:15:53
Message:
Fixes for 64bit. #MsgLength=18


----
Modified: src/qpid/sys/ActivityTimer.h|6 2

Revision: 84a39b1ab08aece97479d49dcabd67dcfa5bb8b6
Author: Alan Conway <aconway@apache.org>
Date: 10/12/2008 08:17:34
Message:
Better output. #MsgLength=16


----
Modified: src/qpid/sys/ActivityTimer.h|16 25

Revision: 89cde88fa3d857229672d1cff6bf21694a24fe73
Author: Rafael H. Schloming <rhs@apache.org>
Date: 10/12/2008 22:34:16
Message:
bumped version number to 0.4 for M4 #MsgLength=36


----
Modified: configure.ac|1 1

Revision: 678f9ec03160b43bb67f7a7c034478a3f8190d4d
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 10/12/2008 22:53:07
Message:
This is related to QPID-1523 #MsgLength=30


----
Modified: src/qpid/acl/AclPlugin.cpp|12 4
Modified: src/tests/run_acl_tests|16 2

Revision: c605b19ee927f6d527ddbd79a451649f24359eea
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2008 01:39:08
Message:
Remove un-necessary locks. #MsgLength=28


----
Modified: src/qpid/cluster/OutputInterceptor.cpp|0 8

Revision: aec33c67e2a17706072a850de2b39446c81af07f
Author: Ted Ross <tross@apache.org>
Date: 11/12/2008 06:06:57
Message:
QPID-1449 - Added federation tag that was missing when management was disabled #MsgLength=80


----
Modified: src/qpid/broker/Broker.cpp|5 0

Revision: 773d52d0efa59ae28325c9ef41a758db398ec7bb
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2008 07:23:24
Message:
QPID-1526: add checks for exclusive ownership plus tests to verify they are executed #MsgLength=87


----
Modified: src/qpid/broker/SessionAdapter.cpp|9 3
Modified: src/qpid/broker/SessionAdapter.h|1 1
Modified: src/tests/federation.py|1 1

Revision: 287b9c755e38e45bca97baae3869734fa95092d2
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2008 07:26:18
Message:
QPID-1527: Added exclusive option to SubscriptionSettings and accompanying test. #MsgLength=83


----
Modified: src/qpid/client/SubscriptionImpl.cpp|2 1
Modified: src/qpid/client/SubscriptionSettings.h|6 1
Modified: src/tests/ClientSessionTest.cpp|17 6

Revision: 0d299a41f381fb2e3b37a89cc1d76b6a2cd81bcb
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/12/2008 07:37:01
Message:
Add startReading() method required by sys::AsynchIO. Fixes QPID-1525. #MsgLength=70


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|56 60

Revision: 06b6224d08bddcfafbfd938e219c76c24e782abe
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/12/2008 07:38:51
Message:
Fix unused arg warnings from MSVC #MsgLength=34


----
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/Connector.cpp|1 1

Revision: 41f5fec3dc46212d9e1324a9a92d78ab8288a68b
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2008 04:33:26
Message:
sys/PollableQueue: dispatch in batches, allow put-back. #MsgLength=57


----
Modified: src/qpid/cluster/Cluster.cpp|13 15
Modified: src/qpid/cluster/Cluster.h|5 4
Modified: src/qpid/sys/PollableQueue.h|16 19
Modified: xml/cluster.xml|1 7

Revision: 8ac76d8e2fcfc3cc2ec79cc4ffa6d52da2e47aef
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2008 06:50:02
Message:
cluster: refactor multicast concerns into separate Multicaster class with separate locking. #MsgLength=93


----
Modified: src/cluster.mk|3 0
Modified: src/qpid/cluster/Cluster.cpp|15 57
Modified: src/qpid/cluster/Cluster.h|30 32
Added: src/qpid/cluster/ClusterLeaveException.h|35 0
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/Connection.h|0 1
Added: src/qpid/cluster/Multicaster.cpp|81 0
Added: src/qpid/cluster/Multicaster.h|69 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 2

Revision: 9b6c0391b0453845a4b464f664fb6dc547a00025
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2008 23:23:39
Message:
cluster/Event: store event header in the same buffer as data to simplify encoding. #MsgLength=84


----
Modified: src/qpid/cluster/Event.cpp|21 18
Modified: src/qpid/cluster/Event.h|18 11
Modified: src/qpid/cluster/Multicaster.cpp|4 1
Modified: src/qpid/cluster/Multicaster.h|2 0
Modified: src/qpid/cluster/types.h|1 0

Revision: 2743c0f70c2ba41b02641e634cd7498a69988540
Author: Joe Schaefer <joes@apache.org>
Date: 13/12/2008 06:29:35
Message:
move qpid to tlp #MsgLength=17


----

Revision: 43daea180f7136164c9e44bad63829cd839c4791
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2008 19:21:43
Message:
Added missing ASF license to conf files and init script #MsgLength=58


----
Modified: etc/qpidc.conf|18 0
Modified: etc/qpidd|18 0
Modified: etc/qpidd.conf|18 0
Modified: etc/sasl2/qpidd.conf|18 0

Revision: f8bf93b20a50646bc1ff3af31e580b3546be4c9e
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2008 19:43:58
Message:
Added missing ASF license #MsgLength=28


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|21 0

Revision: 234a812c9e1250aa69763f908ae7fad714da87ac
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2008 19:48:25
Message:
Minor correction to included ASF license #MsgLength=43


----
Modified: managementgen/qmfgen/__init__.py|1 1
Modified: managementgen/qmfgen/generate.py|1 1
Modified: managementgen/qmfgen/schema.py|1 1

Revision: 121c1c012cfc64bcf67ab8e0f2dc85bf2d0c3033
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2008 23:17:40
Message:
Added ASF license to makefiles #MsgLength=33


----
Modified: Makefile.am|19 0
Modified: docs/api/Makefile.am|18 0
Modified: docs/man/Makefile.am|18 0
Modified: etc/Makefile.am|18 0
Modified: examples/Makefile.am|18 0
Modified: examples/direct/Makefile.am|18 0
Modified: examples/failover/Makefile.am|18 0
Modified: examples/fanout/Makefile.am|18 0
Modified: examples/pub-sub/Makefile.am|18 0
Modified: examples/request-response/Makefile.am|18 0
Modified: examples/xml-exchange/Makefile.am|18 0
Modified: managementgen/Makefile.am|18 0
Modified: src/Makefile.am|19 0
Modified: src/acl.mk|18 0
Modified: src/cluster.mk|18 0
Modified: src/qmf.mk|1 1
Modified: src/ssl.mk|18 0
Modified: src/tests/Makefile.am|19 0
Modified: src/tests/cluster.mk|18 0
Modified: src/tests/ssl.mk|19 0
Modified: src/xml.mk|18 0

Revision: 655729c46323ae3a444c95c1040a996cce44011a
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 16/12/2008 12:43:10
Message:
Added the ASF license header to the following files #MsgLength=53


----
Modified: rubygen/MethodBodyDefaultVisitor.rb|19 0
Modified: src/generate.sh|19 0
Modified: src/tests/fanout_perftest|20 0
Modified: src/tests/federated_topic_test|20 0
Modified: src/tests/multiq_perftest|20 0
Modified: src/tests/perfdist|21 0
Modified: src/tests/python_tests|20 0
Modified: src/tests/quick_perftest|20 0
Modified: src/tests/quick_topictest|21 0
Modified: src/tests/quick_txtest|20 0
Modified: src/tests/restart_cluster|20 0
Modified: src/tests/run-unit-tests|20 0
Modified: src/tests/run_acl_tests|20 0
Modified: src/tests/run_failover_soak|19 0
Modified: src/tests/run_federation_tests|20 0
Modified: src/tests/run_header_test|20 0
Modified: src/tests/run_perftest|20 0
Modified: src/tests/run_test|19 0
Modified: src/tests/shared_perftest|20 0
Modified: src/tests/ssl_test|20 0
Modified: src/tests/start_broker|20 0
Modified: src/tests/start_cluster|20 0
Modified: src/tests/start_cluster_hosts|20 0
Modified: src/tests/stop_broker|20 0
Modified: src/tests/stop_cluster|20 0
Modified: src/tests/topic_perftest|20 0
Modified: src/tests/topictest|20 0

Revision: 25541c53ca4d548fce0aa94ae6424fce4641caca
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 16/12/2008 12:49:59
Message:
Added SFL license headers. #MsgLength=28


----
Modified: examples/direct/verify|20 0
Modified: examples/fanout/verify|19 0
Modified: examples/pub-sub/verify|19 0
Modified: examples/request-response/verify|19 0
Modified: examples/verify|21 0
Modified: examples/verify_all|20 0

Revision: 8c453d1145f0a621a685a4b0e8f9c10f172d6d0e
Author: Jim Meyering <meyering@apache.org>
Date: 16/12/2008 17:27:45
Message:
avoid bootstrap failure when using newer autoconf #MsgLength=134


----
Modified: m4/extensions.m4|4 3

Revision: 43f1cb392d8fa9529279e66d4da7ed932dca7cfc
Author: Ted Ross <tross@apache.org>
Date: 17/12/2008 00:10:52
Message:
QPID-1540 - Added autoDelete and exclusive flags to queues declared by the QMF agent API. #MsgLength=103


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 1

Revision: 2edc4fe062656ab7944391f61bebcf9de1aa3bb3
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/12/2008 05:41:01
Message:
LVQ queue option for no acquire #MsgLength=32


----
Modified: src/qpid/broker/Queue.cpp|9 1
Modified: src/qpid/broker/Queue.h|1 0
Modified: src/qpid/client/QueueOptions.cpp|4 1
Modified: src/qpid/client/QueueOptions.h|2 1
Modified: src/tests/QueueTest.cpp|8 0

Revision: 1d623bee94528364dacdc4409ca2e2f07eebebb7
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 17/12/2008 05:56:35
Message:
LVQ browse policy update #MsgLength=25


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: cd792d039a3b011f814476a698e05361f79ea3f7
Author: Ted Ross <tross@apache.org>
Date: 17/12/2008 11:56:41
Message:
Converted output to cout to proper QPID_LOG statements. #MsgLength=57


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|32 69
Modified: src/qpid/agent/ManagementAgentImpl.h|0 1

Revision: c8ff2d9e8495455cf264193a6713ff5ce9f16432
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2008 01:09:37
Message:
Default --cluster-read-max to 0. #MsgLength=34


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 2

Revision: 9cd544c9fa37307a69c03f64aad788bd9fc1d41b
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2008 01:14:14
Message:
Default --cluster-read-max to 0. #MsgLength=34


----
Modified: src/qpid/sys/PollableQueue.h|9 11

Revision: 30450b0bb20ecc55880988e6d6c28b0a5ade2389
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2008 01:23:48
Message:
Revert accidental commit. #MsgLength=27


----
Modified: src/qpid/sys/PollableQueue.h|11 9

Revision: 32e882a81e16e5cc97d062f5b9732684bdb38a44
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2008 02:05:30
Message:
src/qpid/amqp_0_10/Connection.cpp: allow encoding to be concurrent with adding new frames. #MsgLength=92


----
Modified: src/qpid/amqp_0_10/Connection.cpp|22 10
Modified: src/qpid/amqp_0_10/Connection.h|1 0

Revision: d3634e1cab6fc72ef7eeb2ea6593004e4635daf7
Author: Ted Ross <tross@apache.org>
Date: 18/12/2008 03:32:45
Message:
Bounce the connection if an exception is caught on message_transfer. #MsgLength=70


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|3 0

Revision: 0ad62601c21a706102983bcfd751c0478c9096d0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/12/2008 05:26:55
Message:
options name re-name to be more explicit & better test #MsgLength=55


----
Modified: src/qpid/broker/Queue.cpp|8 8
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/client/QueueOptions.cpp|3 3
Modified: src/qpid/client/QueueOptions.h|2 2
Modified: src/tests/QueueTest.cpp|10 5

Revision: 112a157bbf18a24de1269d9628612e0197ff716c
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2008 07:44:04
Message:
Handle package name changes in Fedora10: openais->corosync cman->cmanlib #MsgLength=74


----
Modified: INSTALL|11 5
Modified: configure.ac|20 20
Modified: src/qpid/cluster/Cpg.cpp|4 1
Modified: src/qpid/cluster/Cpg.h|0 4
Modified: src/qpid/cluster/types.h|9 1
Modified: src/tests/ais_check|2 2

Revision: 53171a2879b9a4189c2f6627bcf7e7629c8a1fb2
Author: Ted Ross <tross@apache.org>
Date: 18/12/2008 22:29:26
Message:
Added a general ConnectionSettings alternative for agent initialization. #MsgLength=74


----
Modified: examples/qmf-agent/example.cpp|5 1
Modified: src/qpid/agent/ManagementAgent.h|6 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|18 8
Modified: src/qpid/agent/ManagementAgentImpl.h|4 0
Modified: src/qpid/management/ManagementBroker.h|4 3

Revision: 651e56e8a48ff7081769ae0939a3ec912e82219e
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2008 01:22:52
Message:
cluster: Increase initial estimate controlling writes. #MsgLength=56


----
Modified: src/qpid/cluster/Cluster.cpp|2 1
Modified: src/qpid/cluster/Cluster.h|4 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|7 4
Modified: src/qpid/cluster/OutputInterceptor.cpp|5 3
Modified: src/qpid/cluster/OutputInterceptor.h|1 0
Modified: src/qpid/cluster/WriteEstimate.cpp|3 2
Modified: src/qpid/cluster/WriteEstimate.h|7 2

Revision: 0a38e08db9b3df70b5ec15d349084956a5f0df10
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 20/12/2008 02:22:03
Message:
Added ASF licensing headers to the following files #MsgLength=52


----
Modified: build-aux/ltmain.sh|21 0
Modified: docs/api/doxygen.css|21 0
Modified: docs/api/doxygen_mainpage.h|21 0
Modified: docs/api/footer.html|21 0
Modified: docs/api/header.html|21 0
Modified: docs/api/stylesheet.css|21 0
Modified: docs/api/tabs.css|21 0
Modified: make-dist|22 0
Modified: managementgen/qmf-gen|21 0
Modified: src/MaxMethodBodySize.vcproj|396 375
Modified: src/broker.vcproj|1280 1259
Modified: src/client.vcproj|574 553
Modified: src/common.vcproj|1738 1717
Modified: src/prof|21 0

Revision: b1426d7f0d1ad233b36253ff8c7b4b39e14932a4
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 20/12/2008 02:27:18
Message:
c++ release notes for M4 #MsgLength=25


----
Modified: RELEASE_NOTES|2 0

Revision: a1280fb58c1d52b7dcb7d0f82671a605a0547bd2
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 20/12/2008 03:33:02
Message:
Added a note about C++ client API changes #MsgLength=43


----
Modified: RELEASE_NOTES|3 0

Revision: 883d3f4c6b489c6e4b03d8996acc0e877062bc5e
Author: Ted Ross <tross@apache.org>
Date: 20/12/2008 04:22:03
Message:
QPID-1412 - c++ implementation of the QMF client API #MsgLength=54


----
Modified: configure.ac|1 0
Modified: examples/Makefile.am|1 1
Modified: examples/makedist.mk|3 1
Added: examples/qmf-console/Makefile.am|14 0
Added: examples/qmf-console/console.cpp|154 0
Modified: src/Makefile.am|1 0
Added: src/qmfc.mk|50 0
Added: src/qpid/console/Agent.cpp|30 0
Added: src/qpid/console/Agent.h|57 0
Added: src/qpid/console/Broker.cpp|291 0
Added: src/qpid/console/Broker.h|129 0
Added: src/qpid/console/ClassKey.cpp|104 0
Added: src/qpid/console/ClassKey.h|65 0
Added: src/qpid/console/ConsoleListener.h|95 0
Added: src/qpid/console/Event.h|40 0
Added: src/qpid/console/Object.cpp|324 0
Added: src/qpid/console/Object.h|106 0
Added: src/qpid/console/ObjectId.cpp|52 0
Added: src/qpid/console/ObjectId.h|60 0
Added: src/qpid/console/Package.cpp|41 0
Added: src/qpid/console/Package.h|76 0
Added: src/qpid/console/Schema.cpp|155 0
Added: src/qpid/console/Schema.h|104 0
Added: src/qpid/console/SequenceManager.cpp|48 0
Added: src/qpid/console/SequenceManager.h|53 0
Added: src/qpid/console/SessionManager.cpp|446 0
Added: src/qpid/console/SessionManager.h|194 0
Added: src/qpid/console/Value.cpp|168 0
Added: src/qpid/console/Value.h|205 0
Modified: src/qpid/framing/Uuid.cpp|1 1
Modified: src/qpid/framing/Uuid.h|1 1
Modified: src/qpid/sys/SystemInfo.h|11 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|12 0
Added: src/tests/ConsoleTest.cpp|43 0
Modified: src/tests/Makefile.am|4 2

Revision: 0cc37a52e3268407499154f8a327f8ee6f791df1
Author: Ted Ross <tross@apache.org>
Date: 20/12/2008 04:38:14
Message:
Added a missing ASF licence header #MsgLength=35


----
Modified: examples/qmf-console/Makefile.am|19 0

Revision: d3b2109708f4ac06b9d3593ff09036700c705a15
Author: Ted Ross <tross@apache.org>
Date: 20/12/2008 04:51:42
Message:
Fixed a compile problem on RHEL4 #MsgLength=33


----
Modified: src/qpid/console/SessionManager.h|1 0

Revision: e2b08031d2912e7993bb195a53d8031bebff2c5f
Author: Alan Conway <aconway@apache.org>
Date: 23/12/2008 04:20:38
Message:
Corrected error message. #MsgLength=26


----
Modified: configure.ac|1 1

Revision: 9bda2f1032189e05c911fee4224b2b48d23d2271
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 23/12/2008 14:07:03
Message:
This is a fix for QPID-1545 #MsgLength=29


----
Modified: src/qpid/acl/AclReader.cpp|1 1

Revision: 3a9b9b4760356ff9b1e9c243a676aa9bb8758742
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/12/2008 01:36:06
Message:
Insert Apache license in vcproj files past line 1; reset list of generated files in vcproj files; add qmfconsole.vcproj; add qmfconsole.proj to makefile.am dist list. Resolve QPID-1546 #MsgLength=185


----
Modified: src/Makefile.am|1 0
Modified: src/MaxMethodBodySize.vcproj|396 396
Modified: src/broker.vcproj|1280 1280
Modified: src/client.vcproj|574 574
Modified: src/common.vcproj|1738 1738
Added: src/qmfconsole.vcproj|418 0
Modified: src/qpid.sln|13 0

Revision: fa5bf77388cc92935f0192fcecd3279946b82601
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/12/2008 02:21:04
Message:
Fix encoding 0-length values; resolves QPID-1449 #MsgLength=49


----
Modified: src/qpid/framing/FieldValue.h|4 2

Revision: a91e0a8c5856fbd71ea2070cf1bc285aab21f070
Author: Ted Ross <tross@apache.org>
Date: 24/12/2008 03:38:25
Message:
QPID-1412 Updates and fixes for the c++ console API: - Added event support - Converted raw pointers to shared_ptrs in references to Values. This fixes a memory leak in the original code. - Added wrappers to make value access more convenient. - Added timeout handling for synchronous operations. Timeout values are configurable. - Fixed a bug in getObjects whereby waitForStable was not called and the operation could fail if called too early. - Added examples "printevents" and "ping" to illustrate the usage of different aspects of the API. #MsgLength=571


----
Modified: examples/qmf-console/Makefile.am|11 3
Modified: examples/qmf-console/console.cpp|6 10
Added: examples/qmf-console/ping.cpp|129 0
Added: examples/qmf-console/printevents.cpp|105 0
Modified: src/qmfc.mk|1 0
Modified: src/qpid/console/Broker.cpp|10 1
Modified: src/qpid/console/Broker.h|1 0
Modified: src/qpid/console/ConsoleListener.h|2 1
Added: src/qpid/console/Event.cpp|205 0
Modified: src/qpid/console/Event.h|46 3
Modified: src/qpid/console/Object.cpp|93 34
Modified: src/qpid/console/Object.h|15 2
Modified: src/qpid/console/Schema.cpp|3 3
Modified: src/qpid/console/Schema.h|4 3
Modified: src/qpid/console/SessionManager.cpp|34 18
Modified: src/qpid/console/SessionManager.h|16 12
Modified: src/qpid/console/Value.cpp|21 21
Modified: src/qpid/console/Value.h|4 2

Revision: 151e7607cc03da9f5db5960495c1767f0e1a2115
Author: Alan Conway <aconway@apache.org>
Date: 30/12/2008 00:42:33
Message:
Fixed to run correctly in VPATH build. #MsgLength=40


----
Modified: src/tests/run_acl_tests|9 13

Revision: 6a600baba096aa1f33ab7cec62872e11d93c95ce
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 30/12/2008 10:32:22
Message:
- browse correction, to update replacement message on browse - correct stats for lvq messages #MsgLength=96


----
Modified: src/qpid/broker/Queue.cpp|8 0
Modified: src/tests/QueueTest.cpp|5 0

Revision: 69e82433924baa4c81caa4753429a0ef9ce3da02
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 03/01/2009 10:14:47
Message:
stats correction pointed out by gordon #MsgLength=39


----
Modified: src/qpid/broker/Queue.cpp|2 4

Revision: 21451af65bcf4e4c29c792517a204889b6c32b25
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2009 03:17:24
Message:
Log changes: logging default now notice+, "listening on" messages are at notice level. #MsgLength=88


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/log/Options.cpp|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 1
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1

Revision: 9065c5211bb7a0af006765a8736ada68300fea4d
Author: Gordon Sim <gsim@apache.org>
Date: 06/01/2009 04:51:41
Message:
Reduce log level from warning to info as (a) its not necessarily a bad thing at all and (b) the default logging level is now at notice+ #MsgLength=138


----
Modified: src/qpid/broker/DirectExchange.cpp|16 4

Revision: 5cf5a46c955ab8c5b40c5f9658cfdea89ebe2006
Author: Gordon Sim <gsim@apache.org>
Date: 06/01/2009 04:58:12
Message:
Sorry! Carelessly committed more than I wanted to. Reverting part of my previous commit. #MsgLength=91


----
Modified: src/qpid/broker/DirectExchange.cpp|3 14

Revision: 507f530d16dd43ed8d9059e30e8b3882136e0fc6
Author: Gordon Sim <gsim@apache.org>
Date: 06/01/2009 05:39:17
Message:
Update test in line with change to default logging level (see r731649). #MsgLength=74


----
Modified: src/tests/logging.cpp|1 1

Revision: da5183cd2c3a209b5ad0e5ccf4fd610831c139c1
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2009 06:01:15
Message:
Minor logging fixes. #MsgLength=162


----
Modified: src/qpid/broker/Daemon.cpp|55 45
Modified: src/tests/BrokerFixture.h|11 1

Revision: 30e4ca23ebcf31aa4868218ce953d24e84d75664
Author: Alan Conway <aconway@apache.org>
Date: 06/01/2009 06:34:52
Message:
cpp/src/tests/ForkedBroker.h: keep tests quiet, set --log-enable=error+ #MsgLength=73


----
Modified: src/tests/ForkedBroker.h|1 0

Revision: ed68c9eea2ae2831e8ef947dc0e2e399d3c436f1
Author: Rafael H. Schloming <rhs@apache.org>
Date: 06/01/2009 10:12:50
Message:
QPID-1556: fixed broken URL #MsgLength=28


----
Modified: RELEASE_NOTES|1 1

Revision: 419ec8350a8b8d95d1fa354f3ed605ad9b2725b7
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/01/2009 03:30:44
Message:
Add option to use single connection for all producers, and consumers to test high queue count configurations without using many physical connections. #MsgLength=150


----
Modified: src/tests/perftest.cpp|16 5

Revision: e03bfb3ee0e18e3370111a5235db92d2cd16c445
Author: Gordon Sim <gsim@apache.org>
Date: 07/01/2009 03:50:59
Message:
* Cyrus SASL intgeration for c++ client * SASL security layer support for c++ client and broker #MsgLength=98


----
Modified: src/Makefile.am|15 2
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Connection.cpp|5 0
Modified: src/qpid/broker/Connection.h|2 1
Modified: src/qpid/broker/ConnectionHandler.cpp|16 2
Modified: src/qpid/broker/ConnectionHandler.h|3 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|57 5
Modified: src/qpid/broker/SaslAuthenticator.h|2 0
Added: src/qpid/broker/SecureConnection.cpp|87 0
Added: src/qpid/broker/SecureConnection.h|60 0
Added: src/qpid/broker/SecureConnectionFactory.cpp|65 0
Added: src/qpid/broker/SecureConnectionFactory.h|48 0
Modified: src/qpid/client/ConnectionHandler.cpp|49 7
Modified: src/qpid/client/ConnectionHandler.h|7 0
Modified: src/qpid/client/ConnectionImpl.cpp|8 0
Modified: src/qpid/client/ConnectionSettings.cpp|5 4
Modified: src/qpid/client/ConnectionSettings.h|16 1
Modified: src/qpid/client/Connector.cpp|95 102
Modified: src/qpid/client/Connector.h|8 0
Modified: src/qpid/client/RdmaConnector.cpp|76 106
Added: src/qpid/client/Sasl.h|52 0
Added: src/qpid/client/SaslFactory.cpp|345 0
Added: src/qpid/client/SaslFactory.h|48 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|14 9
Added: src/qpid/sys/Codec.h|52 0
Modified: src/qpid/sys/ConnectionCodec.h|2 14
Added: src/qpid/sys/SecurityLayer.h|42 0
Modified: src/qpid/sys/TCPIOPlugin.cpp|4 8
Added: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|119 0
Added: src/qpid/sys/cyrus/CyrusSecurityLayer.h|66 0
Modified: src/tests/.valgrind.supp|7 0
Modified: src/tests/ConnectionOptions.h|4 1

Revision: 92129f355d87e0a3c7387be99bc0f18316c62f7e
Author: Ted Ross <tross@apache.org>
Date: 07/01/2009 04:19:56
Message:
Added missing include file for ::memcpy #MsgLength=41


----
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 0

Revision: f603aedf77a94ef8beac2e51a87a1712de7df8bb
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/01/2009 04:22:34
Message:
Add option to use single connection for all producers, and consumers to test high queue count configurations without using many physical connections. #MsgLength=151


----
Modified: src/tests/latencytest.cpp|25 6

Revision: 83f78de32b4d1de98b5f575c31cb5876419e785d
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2009 06:27:42
Message:
cluster/OutputInterceptor.cpp: added locking around use of ClusterOutputinterceptor. #MsgLength=86


----
Modified: src/qpid/cluster/OutputInterceptor.cpp|14 3

Revision: ff205cad9a8fc99061ddeb4452c97f92d8a76a70
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/01/2009 07:42:18
Message:
Work on the low level IO code: * Introduce code so that you can interrupt waiting for a handle and receive a callback that is correctly serialised with the IO callbacks for that handle #MsgLength=190


----
Modified: src/qpid/sys/AsynchIO.h|2 0
Modified: src/qpid/sys/DispatchHandle.cpp|32 9
Modified: src/qpid/sys/DispatchHandle.h|12 3
Modified: src/qpid/sys/Dispatcher.cpp|1 20
Modified: src/qpid/sys/Poller.h|18 2
Modified: src/qpid/sys/epoll/EpollPoller.cpp|162 26
Modified: src/qpid/sys/posix/AsynchIO.cpp|14 0
Modified: src/qpid/sys/posix/IOHandle.cpp|2 0
Modified: src/qpid/sys/posix/PrivatePosix.h|20 0
Modified: src/qpid/sys/windows/AsynchIO.cpp|6 0
Modified: src/tests/DispatcherTest.cpp|73 14
Modified: src/tests/Makefile.am|7 0
Modified: src/tests/PollerTest.cpp|45 9

Revision: 3e467782397e57b5f8e760789b646141ce8d73c5
Author: Gordon Sim <gsim@apache.org>
Date: 07/01/2009 17:54:41
Message:
Fix for windows build: add implementations of the getSecurityLayer() #MsgLength=71


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|15 0

Revision: 10f6a4b39aaaba22cc2520f1d52fcc8db966180f
Author: Gordon Sim <gsim@apache.org>
Date: 07/01/2009 18:46:53
Message:
QPID-1560: add support for a qpid.exclusive-binding option on direct exchange that causes the binding specified to be the only one for the given key. I.e. if there is already a binding at this exchange with this key it will be atomically updated to bind the new queue. #MsgLength=271


----
Modified: src/qpid/broker/DirectExchange.cpp|14 3
Modified: src/qpid/sys/CopyOnWriteArray.h|12 0
Modified: src/tests/ClientSessionTest.cpp|22 0

Revision: beafadd73e7788c6204dd925c59aafd9bd742d59
Author: Gordon Sim <gsim@apache.org>
Date: 07/01/2009 20:22:05
Message:
Remove mechanism restrictions from default sasl config file. #MsgLength=64


----
Modified: etc/sasl2/qpidd.conf|0 1

Revision: 079426f099c2875fc2a18745ae51b52179141c8a
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2009 23:00:55
Message:
Consistent #if defined for header selectino. #MsgLength=46


----
Modified: src/qpid/cluster/types.h|3 3

Revision: 4cbb705608eed195a89b93ed684ce60b928ce2da
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 08/01/2009 04:24:42
Message:
This is related to QPID-1558. The test case test_group_and_user_with_same_name covers the error condition in QPID-1545 #MsgLength=120


----
Modified: src/qpid/acl/AclReader.cpp|12 0
Modified: src/qpid/acl/AclReader.h|3 2
Modified: src/tests/acl.py|44 2

Revision: 8880b37aa064292e7a42d7bb290b085e2c2360bf
Author: Gordon Sim <gsim@apache.org>
Date: 08/01/2009 04:50:35
Message:
Ensure that if no store is loaded we don't flow to disk, but revert to rejecting messages. #MsgLength=93


----
Modified: src/qpid/broker/MessageStoreModule.cpp|6 0
Modified: src/qpid/broker/MessageStoreModule.h|2 1
Modified: src/qpid/broker/NullMessageStore.cpp|13 3
Modified: src/tests/QueuePolicyTest.cpp|28 0

Revision: d0ec8e71fab87c966e47ad490560851f2e3834c5
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/01/2009 07:05:45
Message:
Add cluster-related content to generated sources; re-gen vc projects. Fixes QPID-1559 #MsgLength=86


----
Modified: src/broker.vcproj|12 0
Modified: src/client.vcproj|9 0
Modified: src/common.vcproj|138 0
Modified: src/protocol_gen.mak|4 6
Modified: src/qmfconsole.vcproj|3 0

Revision: bb7e10bb79799e36a3f15ebc32aec52b95ddd34c
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/01/2009 07:08:13
Message:
Adapt to recent changes/additions #MsgLength=34


----
Modified: src/qpid/client/Sasl.h|2 1
Modified: src/qpid/sys/windows/IocpPoller.cpp|19 8

Revision: 27deab166f2eabd5fe6089ae261b45e79305914f
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/01/2009 07:08:53
Message:
Resolve some compile errors on Windows qmfconsole #MsgLength=50


----
Modified: src/qpid/console/Event.h|3 3
Modified: src/qpid/console/Object.h|6 6
Modified: src/qpid/console/Package.h|1 1
Modified: src/qpid/console/Value.cpp|1 0

Revision: 0c5ce32c496ac209e0a2ef97d3f710b3b5d948ab
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/01/2009 07:36:30
Message:
Namespace and IntegerTypes.h tweaks to build on Windows Visual C++ #MsgLength=67


----
Modified: src/qpid/console/Broker.cpp|3 3
Modified: src/qpid/console/ClassKey.cpp|1 1
Modified: src/qpid/console/Event.cpp|1 1
Modified: src/qpid/console/Object.cpp|3 2
Modified: src/qpid/console/ObjectId.cpp|1 0
Modified: src/qpid/console/ObjectId.h|1 0
Modified: src/qpid/console/Package.h|1 0
Modified: src/qpid/console/Schema.cpp|1 0
Modified: src/qpid/console/SessionManager.cpp|1 0

Revision: c63071e460164d1b768ec15b5f545dee912b84e7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/01/2009 14:20:28
Message:
Tidied up a number of TODO items #MsgLength=34


----
Modified: src/qpid/broker/Broker.h|0 2
Modified: src/qpid/client/Connector.cpp|0 2
Modified: src/qpid/client/RdmaConnector.cpp|0 2
Modified: src/qpid/sys/AsynchIO.h|5 7
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 2
Modified: src/qpid/sys/windows/AsynchIO.cpp|2 0

Revision: 37b625b5abe7360ab4586ce87e4962d79957eebe
Author: Gordon Sim <gsim@apache.org>
Date: 08/01/2009 19:44:12
Message:
QPID-976: Patch from Ted Ross (tross@redhat.com). Remove the handling of empty usernames and leaves that up to the SASL library. #MsgLength=132


----
Modified: src/qpid/client/SaslFactory.cpp|1 28

Revision: d2c5f4340ee61a06e9f37a4fbc424661f4944942
Author: Gordon Sim <gsim@apache.org>
Date: 08/01/2009 21:23:56
Message:
QPID-976: Prompt for password if it is required and not specified through settings. #MsgLength=86


----
Modified: src/qpid/client/SaslFactory.cpp|21 7

Revision: fa679b835496ff87d2f5deb806f3ff7154d02d60
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2009 01:33:08
Message:
cluster: handle multicast errors. #MsgLength=35


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 2
Modified: src/qpid/cluster/Multicaster.cpp|6 3
Modified: src/qpid/cluster/Multicaster.h|2 1

Revision: f839155fb0c563d7d0aba98da62f859e9cb6c528
Author: Ted Ross <tross@apache.org>
Date: 09/01/2009 04:46:26
Message:
Fixed automake files so c++ console headers are properly packaged. #MsgLength=68


----
Modified: src/Makefile.am|2 2
Modified: src/qmf.mk|4 0
Modified: src/qmfc.mk|14 0

Revision: 7c11971e5fcade7a785a29f88435d3e55649dd2b
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2009 05:56:21
Message:
Fix to build on latest corosync versions. #MsgLength=43


----
Modified: src/qpid/cluster/Cpg.cpp|11 3
Modified: src/qpid/cluster/Cpg.h|3 11

Revision: e77a281b7a757448fe31d95b72c3e47613678b29
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2009 06:32:10
Message:
Fix for compatibility with latest corosync. #MsgLength=45


----
Modified: src/qpid/cluster/Cpg.cpp|8 7

Revision: d6a05871baad8a66fe6f9165e168eab9b034ddb0
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2009 12:50:35
Message:
Added --cluster-read-max: max number of outstanding mcasts in CPG buffers. Work around problems with CPG flow control. #MsgLength=120


----
Modified: src/qpid/cluster/Cluster.cpp|5 3
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|13 6
Modified: src/qpid/cluster/Multicaster.cpp|28 4
Modified: src/qpid/cluster/Multicaster.h|9 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 1

Revision: 63850f98419cf0f38e65c936c555b91f8a99435d
Author: Alan Conway <aconway@apache.org>
Date: 09/01/2009 22:47:21
Message:
Fix --cluster-mast-max: errors in last commit. Work around problems with CPG flow control. #MsgLength=92


----
Modified: src/qpid/cluster/Cluster.cpp|5 6
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 1
Modified: src/qpid/cluster/Connection.h|0 2
Modified: src/qpid/cluster/FailoverExchange.cpp|1 1
Modified: src/qpid/cluster/Multicaster.cpp|16 9
Modified: src/qpid/cluster/Multicaster.h|1 1
Modified: src/qpid/cluster/Quorum_cman.cpp|1 1

Revision: f716652815a272d8973ac5207cd6fd583af63940
Author: Ted Ross <tross@apache.org>
Date: 10/01/2009 02:42:01
Message:
Added test coverage for the CLI utilities #MsgLength=43


----
Modified: src/tests/Makefile.am|2 1
Added: src/tests/cli_tests.py|152 0
Added: src/tests/run_cli_tests|53 0

Revision: a9dc1c6db2c962e5e371edfc3a9cd42c1d4a16fc
Author: Gordon Sim <gsim@apache.org>
Date: 13/01/2009 03:57:30
Message:
Allow any remaining events in PollableQueue to be processed after Poller threads return from poll loop. #MsgLength=107


----
Modified: src/qpid/sys/PollableQueue.h|22 4

Revision: a488820d0a01ea3c8f3db0290ae36a769c963b40
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/01/2009 07:31:49
Message:
Add support for AsynchIO::RequestCallback processing #MsgLength=53


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|22 3
Modified: src/qpid/sys/windows/AsynchIoResult.h|17 0
Modified: src/qpid/sys/windows/IoHandlePrivate.h|7 3
Modified: src/qpid/sys/windows/IocpPoller.cpp|19 5

Revision: 53f03ca0fc759a9f4e3294d20bc5971ef4955525
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/01/2009 07:33:12
Message:
Adding missing include #MsgLength=23


----
Modified: src/qpid/sys/AsynchIO.h|1 0

Revision: acc3c2a7322d9219fd4d07cd3455a4aaecdbef2f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2009 02:52:19
Message:
Start to fix Timer to improve encapsulation and then fix its inbuilt race conditions (mostly due to the awkward interface of Timer and TimerTask) #MsgLength=147


----
Modified: src/qpid/broker/DtxManager.cpp|1 1
Modified: src/qpid/broker/DtxWorkRecord.cpp|1 1
Modified: src/qpid/broker/Timer.cpp|4 1
Modified: src/qpid/broker/Timer.h|6 0

Revision: b3a8aa1c038db4dce5e7c3e3e32ed6324667e541
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2009 02:58:03
Message:
Created new Timer code in qpid::sys - Necessary for a timer accessible to the client code - The interface is slightly different from the existing Timer code in an attempt to fix some issues with it #MsgLength=201


----
Modified: src/Makefile.am|3 1
Added: src/qpid/sys/Timer.cpp|136 0
Added: src/qpid/sys/Timer.h|93 0

Revision: 6a189afe9df9408e45350cad62d33130edfd76e7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2009 03:00:51
Message:
Small tidy up #MsgLength=15


----
Modified: src/qpid/sys/AsynchIO.h|2 1

Revision: bad95920ad45d60df25cbcc121c8c7a74a27213d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2009 03:08:29
Message:
Send heartbeat from broker to client - Server sends possible heartbeat range and client replies with desired heartbeat as part of the tune-tuneOk exchange #MsgLength=158


----
Modified: src/qpid/broker/Connection.cpp|44 2
Modified: src/qpid/broker/Connection.h|6 1
Modified: src/qpid/broker/ConnectionHandler.cpp|11 1
Modified: src/qpid/broker/ConnectionHandler.h|2 1
Modified: src/qpid/broker/ConnectionState.h|4 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 2
Modified: src/qpid/client/ConnectionHandler.cpp|15 2
Modified: src/qpid/client/ConnectionHandler.h|1 0
Modified: src/tests/ConnectionOptions.h|1 0

Revision: 53049915ce176ce299c822c89998a0ab06fce92c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2009 03:15:31
Message:
Implement heartbeat timeout on client: - The client shuts down a connection if it receives no traffic on it in 2 timeout periods #MsgLength=132


----
Modified: src/qpid/client/ConnectionHandler.cpp|29 14
Modified: src/qpid/client/ConnectionHandler.h|4 1
Modified: src/qpid/client/ConnectionImpl.cpp|39 1
Modified: src/qpid/client/ConnectionImpl.h|2 0
Modified: src/qpid/client/ConnectionSettings.h|1 2
Modified: src/qpid/client/Connector.cpp|5 0
Modified: src/qpid/client/Connector.h|1 0
Modified: src/qpid/client/RdmaConnector.cpp|1 0
Modified: src/qpid/client/SslConnector.cpp|1 2

Revision: a968bb9217fb60ed69e937bbb606fb299cefaeda
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/01/2009 05:55:35
Message:
Revise allocator per patch in QPID-1458; Fixes QPID-1458 #MsgLength=57


----
Modified: src/qpid/InlineAllocator.h|19 2

Revision: 9bc9d445aed59e7209f952209ad0b463c008ca9f
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/01/2009 06:41:08
Message:
Move dispatcher code from iocpDispatcher.cpp (no longer needed) to IocpPoller.cpp (run); mirrors migration introduced on Linux side #MsgLength=132


----
Modified: src/Makefile.am|0 1
Modified: src/common.vcproj|9 3
Deleted: src/qpid/sys/windows/IocpDispatcher.cpp|0 54
Modified: src/qpid/sys/windows/IocpPoller.cpp|15 3

Revision: 5ce5136d093b8c57306cb65bc149867fb5247949
Author: Jonathan Robie <jonathan@apache.org>
Date: 15/01/2009 01:27:48
Message:
Modified footer and header for Google bait #MsgLength=44


----
Modified: docs/api/footer.html|8 2
Modified: docs/api/header.html|23 0

Revision: e245faf667d441b2802fbfadf172c91cde29aba6
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2009 01:32:43
Message:
Fix logic to generate messages at a specified rate. Previous logic was sending messages well below the specified rate. #MsgLength=121


----
Modified: src/tests/latencytest.cpp|15 21

Revision: 902d454dc2106e68bddeb4b2e068df6e6cfcac6d
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2009 02:52:22
Message:
Include CPG error code in message. #MsgLength=36


----
Modified: src/qpid/cluster/Cpg.cpp|19 16

Revision: 8d62a0bcced9424f0bfdced9b882c5402bbcef45
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 06:04:10
Message:
Fix to sender test: read in whole line as message body, not just next word. #MsgLength=78


----
Modified: src/tests/sender.cpp|1 1

Revision: b99ab179fa8eb0a1e3bee87b2a0cffc569626e2f
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 19:15:16
Message:
Minor formatting fixes and typo correction. #MsgLength=46


----
Modified: src/qpid/broker/QueueRegistry.cpp|5 5
Modified: src/qpid/broker/QueueRegistry.h|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1

Revision: 01ad790ad7f0d1ef9da8a3dcb70291a2b30f9f75
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 19:17:39
Message:
Additions to svn:ignore list #MsgLength=30


----

Revision: 51570ecb1181cad7c0df2e2a22c25e5c75daff9e
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 19:18:35
Message:
Minor formatting correction #MsgLength=30


----
Modified: src/tests/receiver.cpp|1 1

Revision: dd0ad2520d7ecbfcfa904b682d75f3ac5077f512
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 19:29:38
Message:
QPID-1567: Initial support for asynchronous queue state replication #MsgLength=646


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/Queue.cpp|43 4
Modified: src/qpid/broker/Queue.h|6 0
Added: src/qpid/broker/QueueEvents.cpp|87 0
Added: src/qpid/broker/QueueEvents.h|77 0
Modified: src/qpid/broker/SessionAdapter.cpp|4 0
Modified: src/qpid/client/QueueOptions.cpp|7 0
Modified: src/qpid/client/QueueOptions.h|9 1
Added: src/qpid/replication/ReplicatingEventListener.cpp|122 0
Added: src/qpid/replication/ReplicatingEventListener.h|66 0
Added: src/qpid/replication/ReplicationExchange.cpp|139 0
Added: src/qpid/replication/ReplicationExchange.h|59 0
Added: src/qpid/replication/constants.h|31 0
Added: src/replication.mk|46 0
Modified: src/tests/BrokerFixture.h|7 1
Modified: src/tests/Makefile.am|4 2
Added: src/tests/QueueEvents.cpp|233 0
Added: src/tests/replication_test|98 0

Revision: 32ad7a87b55a7d93722cd46f2dfd2f37e2b07849
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 19:42:33
Message:
Added DispatcherTest and PollerTest to svn:ignore list. #MsgLength=58


----

Revision: e648a5a1785a8b7cd63cdbd90eebfd4f9524475d
Author: Ted Ross <tross@apache.org>
Date: 15/01/2009 20:31:55
Message:
Minor typo fixes #MsgLength=17


----
Modified: README|1 1
Modified: src/qpid/client/QueueOptions.h|1 1

Revision: d0b864a5f7ced01c877e6f8c76ccb7b56a7e27bb
Author: Ted Ross <tross@apache.org>
Date: 15/01/2009 20:32:27
Message:
Removed duplicate license text #MsgLength=31


----
Modified: managementgen/qmf-gen|0 21

Revision: 197c2312cfe51a46a5633ed16c77530ee81e693f
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2009 20:38:05
Message:
Initial commit for QPID-1567 requires PollableQueue.h/PollableCondition.h to be available as includes for externally built plugins. #MsgLength=134


----
Modified: src/Makefile.am|2 2

Revision: 067fc1fa57133246d23debcf5a9293c9c1432cc5
Author: Ted Ross <tross@apache.org>
Date: 15/01/2009 20:39:17
Message:
Added lvq-no-browse support to qpid-config. Added tests for the qpid-specific queue parameters. #MsgLength=97


----
Modified: src/tests/cli_tests.py|39 0

Revision: ec70f2684505802b10bd1b847d9669dd21d6336d
Author: Ted Ross <tross@apache.org>
Date: 16/01/2009 00:54:51
Message:
Added missing PYTHONPATH definition. #MsgLength=38


----
Modified: src/tests/replication_test|1 0

Revision: 7f92970baab9025580f826bea4274d0afcab9220
Author: Gordon Sim <gsim@apache.org>
Date: 17/01/2009 00:48:57
Message:
QPID-1567: clean shutdown of event queue #MsgLength=43


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: f1eb3909204aeaf4e76b056ff4f62d3cde68a674
Author: Alan Conway <aconway@apache.org>
Date: 17/01/2009 01:25:18
Message:
Separate cluster::EventHeader to allow non-copy events. #MsgLength=57


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Event.cpp|25 11
Modified: src/qpid/cluster/Event.h|25 15
Modified: src/tests/cluster_test.cpp|0 11

Revision: 0dc24db60040ff2d55ff271955f75ac1a606ddae
Author: Ted Ross <tross@apache.org>
Date: 17/01/2009 04:07:47
Message:
QPID-1589 - Added equality/inequality operators to qpid::console::ObjectId. #MsgLength=77


----
Modified: src/qpid/console/ObjectId.cpp|38 0
Modified: src/qpid/console/ObjectId.h|7 0

Revision: 9004ba476f9e215d854ea0935a8f3954ff7db792
Author: Ted Ross <tross@apache.org>
Date: 17/01/2009 04:09:39
Message:
QPID-1588 - Fixed bug in asynchronous API operations. Added a new example to demonstrate async ops. #MsgLength=113


----
Modified: examples/qmf-console/Makefile.am|5 1
Modified: examples/qmf-console/printevents.cpp|1 1
Added: examples/qmf-console/queuestats.cpp|141 0
Modified: src/qpid/console/SessionManager.cpp|1 1
Modified: src/tests/ManagementTest.cpp|27 0

Revision: 0dcf35f119c397b1e4f802bbd5e4490e845d4606
Author: Ted Ross <tross@apache.org>
Date: 17/01/2009 04:24:01
Message:
Updated props on qmf-console example directory #MsgLength=47


----

Revision: 5388a886aa44336b5423a09e071febdd2edccb42
Author: Alan Conway <aconway@apache.org>
Date: 17/01/2009 05:34:01
Message:
cluster refactor: separate out dispatch strategy, implement poller and thread dispatch. #MsgLength=89


----
Added: src/qpid/cluster/PollerDispatch.cpp|60 0
Added: src/qpid/cluster/PollerDispatch.h|56 0
Added: src/qpid/cluster/ThreadDispatch.cpp|53 0
Added: src/qpid/cluster/ThreadDispatch.h|53 0

Revision: 6dd6ab73360472933949b04400590d73137d1f2c
Author: Alan Conway <aconway@apache.org>
Date: 17/01/2009 05:34:46
Message:
cluster refactor: separate out dispatch strategy, implement poller and thread dispatch. #MsgLength=89


----
Modified: src/cluster.mk|26 22
Modified: src/qpid/cluster/Cluster.cpp|9 35
Modified: src/qpid/cluster/Cluster.h|8 15
Modified: src/qpid/cluster/Event.cpp|1 1
Modified: src/qpid/cluster/Event.h|1 1

Revision: 870f77a578d4ec68abd94b83ee6e1fb90e98a675
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 20/01/2009 03:25:29
Message:
Put messages into LVQ FIFO if no key is specified. #MsgLength=51


----
Modified: src/qpid/broker/Queue.cpp|7 7
Modified: src/tests/QueueTest.cpp|24 0

Revision: e68a84ee386333193f0d53042b9cb24ffbc0b5c6
Author: Gordon Sim <gsim@apache.org>
Date: 20/01/2009 18:41:50
Message:
Fix tests broken by r735776: check payload pointer before use. #MsgLength=66


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: ebab8d2f73ba4a907737fd223ac4894cb725c6f6
Author: Gordon Sim <gsim@apache.org>
Date: 20/01/2009 21:30:08
Message:
QPID-1567: added 'exactly-once' guarantee to asynchronous replication of queue state #MsgLength=267


----
Modified: rubygen/framing.0-10/Proxy.rb|2 2
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|6 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 0
Modified: src/qpid/broker/Bridge.cpp|9 4
Modified: src/qpid/broker/DeliveryAdapter.h|1 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Link.cpp|14 13
Modified: src/qpid/broker/LinkRegistry.cpp|3 1
Modified: src/qpid/broker/LinkRegistry.h|2 1
Modified: src/qpid/broker/SemanticState.cpp|8 4
Modified: src/qpid/broker/SemanticState.h|3 1
Modified: src/qpid/broker/SessionHandler.cpp|4 3
Modified: src/qpid/broker/SessionState.cpp|22 6
Modified: src/qpid/broker/SessionState.h|6 3
Modified: src/qpid/framing/Proxy.cpp|10 1
Modified: src/qpid/framing/Proxy.h|9 1
Modified: src/qpid/replication/ReplicatingEventListener.cpp|62 30
Modified: src/qpid/replication/ReplicatingEventListener.h|8 1
Modified: src/qpid/replication/ReplicationExchange.cpp|59 30
Modified: src/qpid/replication/ReplicationExchange.h|7 2
Modified: src/qpid/replication/constants.h|7 5
Modified: src/tests/Makefile.am|3 2
Added: src/tests/ProxyTest.cpp|52 0
Modified: src/tests/QueueEvents.cpp|2 2
Modified: src/tests/federation.py|11 12
Added: src/tests/reliable_replication_test|98 0
Modified: src/tests/replication_test|12 7

Revision: 81e58d2223b521f847f3d6fb49a589c46eb710ed
Author: Gordon Sim <gsim@apache.org>
Date: 21/01/2009 04:37:52
Message:
Use different file for storing port to avoid interfering with other check-long tests #MsgLength=87


----
Modified: src/tests/reliable_replication_test|5 5

Revision: 6a8c4478d5dd42c77372a1a65cd88ab2ed7b12f6
Author: Alan Conway <aconway@apache.org>
Date: 21/01/2009 06:11:37
Message:
Latency measurements, compiled out of production code. #MsgLength=56


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/cluster/Cluster.cpp|3 1
Modified: src/qpid/cluster/Event.cpp|25 8
Modified: src/qpid/cluster/Event.h|7 2
Modified: src/qpid/cluster/Multicaster.cpp|6 4
Modified: src/qpid/cluster/Multicaster.h|0 1
Added: src/qpid/sys/LatencyMetric.cpp|71 0
Added: src/qpid/sys/LatencyMetric.h|80 0

Revision: c1c553573aad4ac668d5abce4516a0235be9e9c8
Author: Gordon Sim <gsim@apache.org>
Date: 21/01/2009 22:22:55
Message:
Fix for race condition in test identified by Ted. #MsgLength=52


----
Modified: src/tests/QueueEvents.cpp|4 3

Revision: c5ef02e3d20be0e7547cec5b0ba3e56d590d34c5
Author: Alan Conway <aconway@apache.org>
Date: 21/01/2009 23:44:42
Message:
Additional latency measurement points. #MsgLength=40


----
Modified: src/qpid/cluster/Cluster.cpp|1 0
Modified: src/qpid/cluster/Connection.cpp|3 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|3 1
Modified: src/qpid/cluster/OutputInterceptor.h|2 1
Modified: src/qpid/framing/AMQFrame.h|2 1
Modified: src/qpid/sys/LatencyMetric.cpp|0 1
Modified: src/qpid/sys/LatencyMetric.h|0 2
Modified: src/tests/.valgrind.supp|8 0
Modified: src/tests/run_test|2 2

Revision: ee6ecf4d657744df36ba9dbd1676a0825f7a88d9
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2009 00:36:22
Message:
Fix test to use exchange option correctly when specified #MsgLength=59


----
Modified: src/tests/sender.cpp|5 4

Revision: b2e99f717787a1903a21bd69660b7e8586b479ec
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2009 01:53:32
Message:
QPID-1567: Added ability for federation links to failover to other specified known-hosts #MsgLength=92


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|10 4
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/ConnectionHandler.cpp|5 1
Modified: src/qpid/broker/ConnectionState.h|3 0
Modified: src/qpid/broker/Link.cpp|44 4
Modified: src/qpid/broker/Link.h|5 0
Modified: src/qpid/broker/LinkRegistry.cpp|39 0
Modified: src/qpid/broker/LinkRegistry.h|7 0
Added: src/qpid/broker/RetryList.cpp|60 0
Added: src/qpid/broker/RetryList.h|53 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/RetryList.cpp|106 0

Revision: 4a0b551398e668379ac370d4f3981ea0be232070
Author: Ted Ross <tross@apache.org>
Date: 22/01/2009 02:42:16
Message:
Enforce a minimum frame-max to avoid really bad things that can happen if frame-max is set to zero. #MsgLength=101


----
Modified: src/qpid/broker/ConnectionState.h|4 3

Revision: 70ed9b7f582831a82ce9de6844a373e6163c637d
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2009 02:43:11
Message:
Include file in distributed headers. #MsgLength=39


----
Modified: src/Makefile.am|1 1

Revision: ccd631979c8e0738239c7a3af70fa14e5c9f8d9f
Author: Ted Ross <tross@apache.org>
Date: 22/01/2009 03:11:19
Message:
Moved minimum frameMax constant into public #MsgLength=44


----
Modified: src/qpid/broker/ConnectionState.h|3 3

Revision: eba413787c34debbb8de182e07e4df7df6d60175
Author: Ted Ross <tross@apache.org>
Date: 22/01/2009 03:57:56
Message:
Re-issue 736381 with a literal. #MsgLength=32


----
Modified: src/qpid/broker/ConnectionState.h|1 4

Revision: e81e3f7990eae0a85f572c2c4952646b5307dfa0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 22/01/2009 04:08:38
Message:
correct lifecycle for pollablequeue dispatch handle #MsgLength=52


----
Modified: src/qpid/sys/PollableQueue.h|1 1

Revision: 1e6403bca22201c5ba4036d67d83c1a36a94560b
Author: Alan Conway <aconway@apache.org>
Date: 22/01/2009 04:40:38
Message:
cluster: Pipeline decoding. About 10% improvement in latency and throughput. #MsgLength=78


----
Modified: src/cluster.mk|11 10
Modified: src/qpid/cluster/Cluster.cpp|51 38
Modified: src/qpid/cluster/Cluster.h|8 4
Modified: src/qpid/cluster/Connection.cpp|27 18
Modified: src/qpid/cluster/Connection.h|8 2
Modified: src/qpid/cluster/Event.h|7 4
Added: src/qpid/cluster/EventFrame.h|53 0

Revision: b243b679df94d234d6b97915a81ce6054bac3855
Author: Alan Conway <aconway@apache.org>
Date: 23/01/2009 03:24:31
Message:
More latency metrics. #MsgLength=23


----
Modified: src/qpid/cluster/Cluster.cpp|2 0
Modified: src/qpid/cluster/EventFrame.h|4 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 1
Modified: src/qpid/sys/LatencyMetric.cpp|4 0
Modified: src/qpid/sys/LatencyMetric.h|8 1

Revision: eacb807e3d252c6976d0c1345abb15453cb2f641
Author: Alan Conway <aconway@apache.org>
Date: 23/01/2009 04:29:12
Message:
Removed BodyHolder: minor performance improvement, opens the way for more efficient memory management. #MsgLength=104


----
Added: rubygen/framing.0-10/MethodBodyFactory.rb|58 0
Modified: rubygen/framing.0-10/MethodHolder.rb|0 118
Modified: rubygen/framing.0-10/structs.rb|1 0
Modified: src/Makefile.am|3 16
Modified: src/qpid/RefCounted.h|3 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Message.cpp|2 3
Modified: src/qpid/broker/MessageBuilder.cpp|1 2
Modified: src/qpid/broker/SessionState.cpp|1 2
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/SessionImpl.cpp|2 2
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/framing/AMQBody.h|10 3
Modified: src/qpid/framing/AMQContentBody.h|1 0
Modified: src/qpid/framing/AMQFrame.cpp|36 9
Modified: src/qpid/framing/AMQFrame.h|7 24
Modified: src/qpid/framing/AMQHeaderBody.h|2 0
Modified: src/qpid/framing/AMQHeartbeatBody.h|1 0
Modified: src/qpid/framing/Array.cpp|1 0
Modified: src/qpid/framing/Blob.h|0 197
Added: src/qpid/framing/BodyFactory.h|47 0
Modified: src/qpid/framing/BodyHolder.cpp|0 76
Modified: src/qpid/framing/BodyHolder.h|0 88
Modified: src/qpid/framing/FieldTable.cpp|1 0
Added: src/qpid/framing/MethodBodyFactory.h|44 0
Modified: src/qpid/framing/SendContent.cpp|1 2
Modified: src/qpid/framing/SequenceNumberSet.cpp|1 0
Modified: src/qpid/framing/SequenceSet.cpp|1 0
Modified: src/qpid/management/ManagementBroker.cpp|3 4
Modified: src/qpid/replication/ReplicatingEventListener.cpp|3 3
Modified: src/qpid/sys/Thread.h|2 2
Modified: src/tests/Blob.cpp|0 128
Modified: src/tests/ExchangeTest.cpp|2 2
Modified: src/tests/FramingTest.cpp|2 2
Modified: src/tests/HeaderTest.cpp|2 2
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/MessageBuilderTest.cpp|13 16
Modified: src/tests/MessageTest.cpp|4 5
Modified: src/tests/MessageUtils.h|3 3
Modified: src/tests/QueueTest.cpp|2 2
Modified: src/tests/SessionState.cpp|6 7
Modified: src/tests/ssl_test|1 1

Revision: e54a09f7d0c373789c77a59f3e866893b0b5010e
Author: Alan Conway <aconway@apache.org>
Date: 23/01/2009 05:48:47
Message:
Optimization: cache results of AMQFrame::encodedSize(). #MsgLength=57


----
Modified: src/qpid/framing/AMQFrame.cpp|30 8
Modified: src/qpid/framing/AMQFrame.h|3 2

Revision: 1ec2b7642d7b31da94ab41c90ddb2cee9ea056f4
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2009 05:54:50
Message:
QPID-1611: Patch from Mick Goulish to ensure queues are created in store in cluster configuration #MsgLength=100


----
Modified: src/qpid/broker/Queue.cpp|7 0

Revision: 72080d3418d69749555537bd1ba531148d90f0e7
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2009 06:53:50
Message:
QPID-1567: More changes to make clustering and federation work together #MsgLength=259


----
Modified: src/qpid/broker/Bridge.cpp|6 1
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/Link.cpp|17 0
Modified: src/qpid/broker/Link.h|2 0
Modified: src/qpid/broker/LinkRegistry.cpp|20 1
Modified: src/qpid/broker/LinkRegistry.h|12 0
Modified: src/qpid/cluster/Cluster.cpp|13 1
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/ClusterMap.cpp|13 0
Modified: src/qpid/cluster/ClusterMap.h|5 0
Modified: src/qpid/cluster/Connection.cpp|23 4
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|7 6
Modified: src/qpid/cluster/ConnectionCodec.h|1 1

Revision: a3659359daab93cacd32765f4e869ba16214135d
Author: Gordon Sim <gsim@apache.org>
Date: 23/01/2009 22:08:42
Message:
QPID-1613: Ensure that the rule registered with the demuxer for LocalQueue subscriptions is removed when they are cancelled. #MsgLength=127


----
Modified: src/qpid/client/Subscription.h|2 0
Modified: src/qpid/client/SubscriptionImpl.cpp|10 0
Modified: src/qpid/client/SubscriptionImpl.h|14 1
Modified: src/qpid/client/SubscriptionManager.cpp|9 3
Modified: src/tests/ClientSessionTest.cpp|19 0

Revision: c43d5679d23981a8e4262a0254834e0efa330430
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2009 00:07:39
Message:
Replace assertion with exception. #MsgLength=35


----
Modified: src/qpid/framing/FrameDecoder.cpp|10 8

Revision: c2e0902bace77dbdc1c5498f000da0069c5a6233
Author: Kim van der Riet <kpvdr@apache.org>
Date: 24/01/2009 00:54:01
Message:
Reverted checkin r.736814 as it breaks the store recover. #MsgLength=58


----
Modified: src/qpid/broker/Queue.cpp|0 7

Revision: fac838fa6979a7270719bf56c2fbb33632f8b3a4
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/01/2009 05:47:11
Message:
Catch up on recent file additions/removals; fix compile errors on Windows #MsgLength=74


----
Deleted: src/MaxMethodBodySize.vcproj|0 396
Modified: src/broker.vcproj|12 0
Modified: src/common.vcproj|9 21
Modified: src/qpid.sln|0 13
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|3 3

Revision: 5e95e5bd4e79efe489942c133582e11ff1ee3124
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2009 05:55:15
Message:
Use special management ids for objects used in state transfer to new members. This prevents the ids getting out of sync across the cluster and allows management methods to be used reliably. #MsgLength=193


----
Modified: src/qpid/broker/Connection.cpp|4 3
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/Exchange.cpp|10 5
Modified: src/qpid/broker/Exchange.h|16 14
Modified: src/qpid/broker/Queue.cpp|6 2
Modified: src/qpid/broker/SessionState.cpp|4 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|56 0
Modified: src/qpid/cluster/Connection.cpp|3 1
Modified: src/qpid/cluster/Connection.h|3 0
Modified: src/qpid/cluster/DumpClient.cpp|1 1
Added: src/qpid/management/IdAllocator.h|42 0
Modified: src/qpid/management/ManagementBroker.cpp|14 0
Modified: src/qpid/management/ManagementBroker.h|7 1

Revision: 625ddfa3a4bb54716c2024c9cb9d4cbffd31bef8
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 25/01/2009 08:41:29
Message:
QPID-1611 patch from mick #MsgLength=26


----
Modified: INSTALL|4 0
Modified: src/qpid/broker/Queue.cpp|7 3
Modified: src/qpid/broker/Queue.h|5 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1

Revision: 7f9287f6637f70c3bf5279ee308f4c2d966224c0
Author: Gordon Sim <gsim@apache.org>
Date: 26/01/2009 18:51:17
Message:
Add missing file to distribution list. #MsgLength=41


----
Modified: src/Makefile.am|1 0

Revision: d59ac5124860ef18559bd64975beaf4a4c687f92
Author: Gordon Sim <gsim@apache.org>
Date: 26/01/2009 20:25:23
Message:
Some minor updates to logging levels to avoid undue alarm. #MsgLength=61


----
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/sys/SslPlugin.cpp|1 1

Revision: 68cfba39d8d1095d87af88056a669a41b53e6f9f
Author: Gordon Sim <gsim@apache.org>
Date: 27/01/2009 02:59:58
Message:
QPID-1567: Fixed replicating event listener to properly clone headers of original message so as to avoid conuccrently modifyig them while the original message is being delivered. #MsgLength=181


----
Modified: src/qpid/replication/ReplicatingEventListener.cpp|10 1

Revision: ef6eef2ea1649548662a7351be147e6f8ad4b921
Author: Ted Ross <tross@apache.org>
Date: 27/01/2009 07:17:29
Message:
Added qpid-cluster utility plus model changes to support it. Fixed a segfault during cluster member shutdown. #MsgLength=111


----
Modified: src/qpid/cluster/Cluster.cpp|47 15
Modified: src/qpid/cluster/Cluster.h|3 0
Modified: src/qpid/cluster/ClusterMap.cpp|11 0
Modified: src/qpid/cluster/ClusterMap.h|1 0
Modified: src/qpid/cluster/ConnectionMap.h|5 0
Modified: src/qpid/cluster/management-schema.xml|7 3

Revision: dabb409f934bd58fa6eedd31d550b485d612c043
Author: Alan Conway <aconway@apache.org>
Date: 27/01/2009 09:44:02
Message:
cluster: Add sequence number to events & frames #MsgLength=49


----
Modified: src/cluster.mk|1 1
Modified: src/qpid/cluster/Cluster.cpp|7 24
Modified: src/qpid/cluster/Cluster.h|1 2
Renamed: src/qpid/cluster/ClusterQueueHandler.h [from src/qpid/cluster/ClusterLeaveException.h]|28 7
Modified: src/qpid/cluster/Connection.cpp|3 3
Modified: src/qpid/cluster/Connection.h|2 3
Modified: src/qpid/cluster/Event.cpp|4 4
Modified: src/qpid/cluster/Event.h|4 3
Modified: src/qpid/cluster/EventFrame.h|15 3
Modified: src/qpid/cluster/Multicaster.cpp|0 1
Modified: src/qpid/cluster/types.h|0 2
Modified: src/qpid/sys/PollableQueue.h|1 0

Revision: 5bd68e2c4c7daeba76a7ac0907f72eaca23ddaff
Author: Alan Conway <aconway@apache.org>
Date: 27/01/2009 10:08:25
Message:
Cluster rename: dump -> update, newbie -> joiner #MsgLength=50


----
Modified: src/cluster.mk|2 2
Modified: src/qpid/broker/Exchange.cpp|6 4
Modified: src/qpid/cluster/Cluster.cpp|53 54
Modified: src/qpid/cluster/Cluster.h|22 22
Modified: src/qpid/cluster/ClusterMap.cpp|18 18
Modified: src/qpid/cluster/ClusterMap.h|8 8
Modified: src/qpid/cluster/ClusterPlugin.cpp|13 13
Modified: src/qpid/cluster/Connection.cpp|23 23
Modified: src/qpid/cluster/Connection.h|4 4
Modified: src/qpid/cluster/ConnectionCodec.cpp|0 1
Modified: src/qpid/cluster/Multicaster.cpp|3 2
Renamed: src/qpid/cluster/UpdateClient.cpp [from src/qpid/cluster/DumpClient.cpp]|76 76
Renamed: src/qpid/cluster/UpdateClient.h [from src/qpid/cluster/DumpClient.h]|24 24
Modified: src/tests/cluster_test.cpp|6 6
Modified: xml/cluster.xml|13 13

Revision: 7ad899c1f1b8cf32333615e6f964e16a5fcec036
Author: Ted Ross <tross@apache.org>
Date: 27/01/2009 21:13:59
Message:
Minor cosmetic changes #MsgLength=23


----
Modified: src/qpid/console/SessionManager.h|9 9

Revision: 191cededbc96af6b1e5ef280b86f74cb252efff4
Author: Ted Ross <tross@apache.org>
Date: 27/01/2009 21:39:06
Message:
Delete the temp log file before the absolute path test. If this test failed, the log remained and was appended to.  This led to the extraction of the wrong PORT and the failure to shut down the test daemon. #MsgLength=208


----
Modified: src/tests/run_acl_tests|1 0

Revision: 118eeddaa7b9812602f68b5204b890049db9a44f
Author: Alan Conway <aconway@apache.org>
Date: 27/01/2009 22:58:47
Message:
cluster/EventFrame.cpp: Add operator<<  for EventFrame #MsgLength=56


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/cluster/Cluster.cpp|2 2
Modified: src/qpid/cluster/Connection.cpp|0 1
Modified: src/qpid/cluster/Event.cpp|1 1
Added: src/qpid/cluster/EventFrame.cpp|46 0
Modified: src/qpid/cluster/EventFrame.h|8 7

Revision: 3760f4e6452789ade5e4eb02c84f25a389ced9e1
Author: Kim van der Riet <kpvdr@apache.org>
Date: 27/01/2009 23:59:03
Message:
Modification to txtest to check that the size of the message remains consistent throughout the test. #MsgLength=101


----
Modified: src/tests/txtest.cpp|7 1

Revision: 6f8c5396fa7d1043ffe975cac32f77cd25bcab88
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2009 03:36:35
Message:
Change --cluster-mcast-max default to 0. #MsgLength=42


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1

Revision: 0b7c2b1e3af4b62cd88893aaca0efa639dc7d4bf
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/01/2009 05:17:47
Message:
Producer side rate throttling: This uses the Message.Flow command to send credit from broker to client to ensure that the client doesn't exceed a rate configured on the broker per session. #MsgLength=202


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 0
Added: src/qpid/broker/RateFlowcontrol.h|96 0
Modified: src/qpid/broker/SessionState.cpp|93 17
Modified: src/qpid/broker/SessionState.h|7 1
Modified: src/qpid/client/SessionImpl.cpp|88 13
Modified: src/qpid/client/SessionImpl.h|19 1
Modified: src/qpid/sys/Semaphore.h|13 1
Modified: src/tests/Makefile.am|2 1
Added: src/tests/RateFlowcontrolTest.cpp|64 0

Revision: e1caa40251f5015149e96fb43cf8e93825b839cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/01/2009 06:14:44
Message:
Fix compile breakage with different versions of librdma_cm #MsgLength=60


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|2 0

Revision: 0d26e93c46cebdb28740ade724f618f644e73316
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2009 04:48:23
Message:
Remove defunct --cluster-mcast-max optionn. #MsgLength=45


----
Modified: src/qpid/cluster/Cluster.cpp|2 2
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|5 7
Modified: src/qpid/cluster/Multicaster.cpp|2 23
Modified: src/qpid/cluster/Multicaster.h|0 2

Revision: 402ae773a39502c29245e1234193c97a5691e049
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/01/2009 23:25:53
Message:
Removed class diagrams (to save space and simplify generated documentation). #MsgLength=78


----
Modified: docs/api/user.doxygen.in|12 12

Revision: aea9e1ee58b69cbef8fdf524d83500443039c8bc
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2009 00:02:44
Message:
Changed --cluster-read-max default to 3 based on experiments. #MsgLength=63


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1

Revision: a70c9f275330ad8f6ae20bc94755fe4d6a3dfa39
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2009 02:18:52
Message:
Run python tests against a single-member cluster in check-long. #MsgLength=65


----
Modified: src/tests/Makefile.am|8 4
Modified: src/tests/cluster.mk|2 1
Added: src/tests/cluster_python_tests|5 0
Added: src/tests/cluster_python_tests_failing.txt|29 0
Modified: src/tests/python_tests|6 13
Modified: src/tests/start_cluster|7 10
Modified: src/tests/stop_cluster|1 1

Revision: 3af749a2b79950ff68b122cf571fa7a69b45aec5
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2009 05:47:21
Message:
Better error messages for not-attached exceptions. #MsgLength=52


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|28 33
Modified: src/qpid/amqp_0_10/SessionHandler.h|0 3
Modified: src/qpid/broker/SessionHandler.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|0 6
Modified: src/qpid/cluster/Cluster.h|0 3
Modified: src/qpid/cluster/UpdateClient.cpp|9 9

Revision: 23fcc7a4335449a182c604d154e156c5a17f2615
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2009 06:24:22
Message:
Fix cluster race condition for new members joining. #MsgLength=53


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: 48379ebbd926d66ad581be459c91a5039581a1e0
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2009 22:34:48
Message:
Correct mistake from previous commit where missing python dir causes an error rather than a warning. #MsgLength=102


----
Modified: src/tests/python_tests|6 4

Revision: 7c6b4ab6fb8acceb3e351d472b912e37ba9bacf4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/01/2009 02:59:24
Message:
Correction for: start a broker in cluster, send messages that are flow to disk, then join a broker to the cluster. Then consume from the new node. Cotent released messages where loosing content. This patch corrects that. #MsgLength=221


----
Modified: src/qpid/broker/Message.cpp|26 17
Modified: src/qpid/broker/Message.h|2 1
Modified: src/qpid/client/Connection.cpp|7 0
Modified: src/qpid/client/Connection.h|5 0
Modified: src/qpid/client/SessionImpl.cpp|10 0
Modified: src/qpid/client/SessionImpl.h|6 1
Modified: src/qpid/cluster/UpdateClient.cpp|16 0
Modified: src/tests/consume.cpp|7 2

Revision: 265e4f7d2fe737e8eec41f201a619f4715598773
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/02/2009 09:04:51
Message:
Catch up with recent file changes #MsgLength=34


----
Modified: src/broker.vcproj|6 0
Modified: src/common.vcproj|8 8

Revision: 5622d3b1cd4e37f7cd98278051a3bd4a8ed583fb
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 05:39:27
Message:
Prepend SEV_ to sevrity enum names to avoid macro clash on Windows; fixes QPID-1561 #MsgLength=84


----
Modified: src/qpid/console/Event.cpp|8 8
Modified: src/qpid/console/Event.h|2 2

Revision: bd69ef40b148c3bd58a06f53fd12a266d47c5497
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 06:09:33
Message:
Use qpid sleep rather than CRT sleep to build on Windows #MsgLength=57


----
Modified: src/tests/topic_publisher.cpp|1 2

Revision: 6daf94b63b648413251f4070bde21e514bac83e4
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 06:10:44
Message:
Removed unneeded include <alloca.h> #MsgLength=36


----
Modified: src/tests/QueueOptionsTest.cpp|0 1

Revision: 0f7f90395f42a31cc1b7206e2329458b1a09589d
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 06:11:20
Message:
Use qpid sleep rather than CRT sleep to build on Windows #MsgLength=57


----
Modified: src/tests/ClientSessionTest.cpp|4 3

Revision: aa7199b4519ba33b4bc4674a2a1e54649271f05f
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 06:12:15
Message:
Explicitly reference boost namespace to avoid clashes on Windows #MsgLength=65


----
Modified: src/tests/MessageBuilderTest.cpp|4 5

Revision: 8641aa8c705971c9963443b7d8ea973939257fc4
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 06:15:25
Message:
Initial version of Windows, Visual Studio .NET 2008 projects #MsgLength=61


----
Added: src/tests/client_test.vcproj|432 0
Added: src/tests/consume.vcproj|432 0
Added: src/tests/echotest.vcproj|432 0
Added: src/tests/header_test.vcproj|432 0
Added: src/tests/latencytest.vcproj|432 0
Added: src/tests/perftest.vcproj|435 0
Added: src/tests/publish.vcproj|432 0
Added: src/tests/receiver.vcproj|432 0
Added: src/tests/sender.vcproj|432 0
Added: src/tests/shlibtest.vcproj|433 0
Added: src/tests/tests.sln|183 0
Added: src/tests/topic_listener.vcproj|432 0
Added: src/tests/topic_publisher.vcproj|432 0
Added: src/tests/txjob.vcproj|432 0
Added: src/tests/txshift.vcproj|432 0
Added: src/tests/txtest.vcproj|432 0
Added: src/tests/unit_test.vcproj|525 0

Revision: 12ce9fc53980de9e4366305889a18accaf3a165b
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2009 06:18:04
Message:
Fix bug in frame drop logic. #MsgLength=30


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: 3612fbebb78872ec0c94d711450a734ccd2f4984
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/02/2009 06:28:17
Message:
Send client property indicating that client supports producer throttling in the Connection.OpenOK message. Broker only tries to apply flow control to client if it has received the property in the Connection.OpenOK message. #MsgLength=224


----
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/ConnectionHandler.cpp|5 0
Modified: src/qpid/broker/ConnectionState.h|6 1
Modified: src/qpid/broker/SessionState.cpp|6 2
Modified: src/qpid/client/ConnectionHandler.cpp|4 0

Revision: 1393353571bbde1aa00991fa7c80e26539ea0a6b
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/02/2009 07:40:21
Message:
Remove MaxMethodBodySize stuff which is not used any more. #MsgLength=59


----
Modified: src/protocol_gen.mak|2 2

Revision: dbadb0e71ac4d2fe13997cc1bbbd87c2ecf3f24b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/02/2009 04:37:30
Message:
Changed name of UpdateClient's queue from "\000qpid-update" to "qpid.qpid-update" to avoid problems with c-strings in BDB #MsgLength=122


----
Modified: configure.ac|2 2
Modified: src/qpid/cluster/UpdateClient.cpp|2 2

Revision: 371d62a4402c7156924bdc512979ffe398056810
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/02/2009 04:41:04
Message:
Add in management statistics for client flow control. #MsgLength=130


----
Modified: src/qpid/broker/SessionState.cpp|33 27
Modified: src/qpid/broker/SessionState.h|7 5
Modified: src/qpid/client/SessionImpl.cpp|6 10
Modified: src/qpid/client/SessionImpl.h|0 1

Revision: ba779525c46983f43e4b883b5656488115e63356
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/02/2009 04:56:33
Message:
Reversed change to error message on missing cluster packages. #MsgLength=62


----
Modified: configure.ac|2 2

Revision: 72ef591fdfa74a79dc90bc7239dd693091c821c5
Author: Alan Conway <aconway@apache.org>
Date: 04/02/2009 05:28:14
Message:
Fix for race conditions in cluster join. #MsgLength=239


----
Modified: src/cluster.mk|7 1
Modified: src/qpid/cluster/Cluster.cpp|60 64
Modified: src/qpid/cluster/Cluster.h|14 9
Modified: src/qpid/cluster/ClusterMap.cpp|1 3
Modified: src/qpid/cluster/ClusterMap.h|1 1
Modified: src/qpid/cluster/Connection.cpp|8 25
Modified: src/qpid/cluster/Connection.h|3 3
Modified: src/qpid/cluster/ConnectionCodec.cpp|0 2
Added: src/qpid/cluster/ConnectionDecoder.cpp|49 0
Added: src/qpid/cluster/ConnectionDecoder.h|60 0
Added: src/qpid/cluster/ConnectionMap.cpp|86 0
Modified: src/qpid/cluster/ConnectionMap.h|29 41
Renamed: src/qpid/cluster/Decoder.cpp [from src/qpid/cluster/ClusterQueueHandler.h]|17 27
Added: src/qpid/cluster/Decoder.h|62 0
Modified: src/qpid/cluster/Event.h|5 1
Modified: src/qpid/cluster/EventFrame.cpp|3 10
Modified: src/qpid/cluster/EventFrame.h|6 8
Added: src/qpid/cluster/PollableQueue.h|68 0
Modified: src/qpid/cluster/Quorum_cman.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|4 1
Modified: src/qpid/cluster/types.h|2 2
Modified: src/tests/ForkedBroker.h|1 0
Modified: src/tests/cluster_test.cpp|2 2
Modified: xml/cluster.xml|3 3

Revision: cfbc6f357023027780b29e74307aa34aa6cb859d
Author: Alan Conway <aconway@apache.org>
Date: 04/02/2009 22:30:23
Message:
Clean up error messages. #MsgLength=26


----
Modified: src/qpid/cluster/Cpg.cpp|14 14

Revision: e20946f4f7859e228ab8495d648ecff4281fde65
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 01:04:45
Message:
Cluster sets recovery flag on Broker for first member in cluster. Disable recovery from local store if the recovery flag is not set. #MsgLength=134


----
Modified: src/qpid/broker/Broker.cpp|11 4
Modified: src/qpid/broker/Broker.h|5 0
Modified: src/qpid/cluster/Cluster.cpp|36 19
Modified: src/qpid/cluster/Cluster.h|11 6
Modified: src/qpid/cluster/ClusterPlugin.cpp|5 3
Modified: src/tests/run_acl_tests|1 0

Revision: 0b2946f055da07cb324bface1f6f55735fc8e08d
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 01:16:51
Message:
Fixed run_acl_tests. #MsgLength=22


----
Modified: src/tests/run_acl_tests|2 3

Revision: b376e2ec7e60579f4efdb298085d8521c0d6848f
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 04:01:52
Message:
Fix memory error in ClusterPlugin. #MsgLength=36


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|4 2
Modified: src/qpid/cluster/Cpg.cpp|4 5

Revision: 236f005d68360747b65eacdb1e24aac443763fc0
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 04:47:14
Message:
Fix assertion due to doOutput control being sent after local connection closed. #MsgLength=81


----
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|5 3
Modified: src/qpid/cluster/OutputInterceptor.h|2 1

Revision: f1e36d95b51e0cef2b6c1bb0f573b5364dd25b41
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 05:31:23
Message:
Fix race condition with deleted local connections. #MsgLength=52


----
Modified: src/qpid/cluster/Cluster.cpp|4 3
Modified: src/qpid/cluster/ConnectionMap.cpp|3 1
Modified: src/qpid/cluster/ConnectionMap.h|3 1

Revision: 6245d5aeda5df18c14847cdf8c462e762098ab18
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/02/2009 06:57:34
Message:
Fixes to producer flow control to reduce the number of flow messages sent to the client and to eliminate a concurrency issue updating the broker flow control state. #MsgLength=166


----
Modified: src/qpid/broker/RateFlowcontrol.h|11 2
Modified: src/qpid/broker/SessionState.cpp|22 22
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/tests/RateFlowcontrolTest.cpp|8 6

Revision: 93ae3036a10b0e1942f218ea641534b40123dc38
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 23:06:09
Message:
QPID-1618 from Mick Goulish: brokers joining cluster store persistent messages that have been sent but not acknowledged. #MsgLength=122


----
Modified: src/qpid/cluster/Connection.cpp|5 0

Revision: 26341a692b1d7059cf61dde8c6f634e3cab297a1
Author: Alan Conway <aconway@apache.org>
Date: 05/02/2009 23:27:34
Message:
Remove non-existent qpid/cluster/Updatee.h from cluster.mk. #MsgLength=61


----
Modified: src/cluster.mk|0 1

Revision: 1c5d2e20b5be2d79734473d55810a00670a4abbb
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2009 22:09:10
Message:
QPID-1650 Mick Goulish: separte ClusterFixture from cluster_test.cpp for use by other tests. #MsgLength=94


----
Added: src/tests/ClusterFixture.cpp|118 0
Added: src/tests/ClusterFixture.h|104 0
Modified: src/tests/ForkedBroker.h|1 0
Modified: src/tests/cluster.mk|2 2
Modified: src/tests/cluster_test.cpp|1 81

Revision: 0c13744c25cecb802581cfa39481eab265f40e91
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2009 23:12:07
Message:
Fix error in  run_acl_tests. #MsgLength=30


----
Modified: src/tests/run_acl_tests|1 2

Revision: e24561adc1b43ef77288e2dce47f02f40cc531f4
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2009 00:39:17
Message:
Fix seg fault if cluster and management are enabled. #MsgLength=54


----
Modified: src/qpid/cluster/Cluster.cpp|8 7

Revision: 3026c8e25f0cb25808e6fe1f2f7857e98974f3e9
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/02/2009 22:19:23
Message:
QPID-1595 from william -- trade demo #MsgLength=37


----
Modified: configure.ac|1 0
Modified: examples/Makefile.am|1 1
Added: examples/tradedemo/Makefile.am|53 0
Added: examples/tradedemo/declare_queues.cpp|98 0
Added: examples/tradedemo/topic_listener.cpp|184 0
Added: examples/tradedemo/topic_publisher.cpp|271 0

Revision: 5bbbbf23219535e5dd145af6a11eb7424a05b7ec
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2009 22:27:22
Message:
Demote CPG flow control warning message to debug. #MsgLength=51


----
Modified: src/qpid/cluster/Cpg.cpp|1 1

Revision: a47aede529ca40a75f63cdc7052d2f2357c634ff
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2009 23:27:19
Message:
Fix "no virtual destructor" warning. #MsgLength=38


----
Modified: examples/tradedemo/topic_publisher.cpp|1 1

Revision: 61553451d5767b33d11be344419d8dde3a594ff4
Author: Alan Conway <aconway@apache.org>
Date: 10/02/2009 00:33:48
Message:
Fix doubly-defined function. #MsgLength=30


----
Modified: src/tests/ClusterFixture.cpp|10 12
Modified: src/tests/cluster_test.cpp|0 7

Revision: a1843d741c7435d090c558916066d03a1ffb67a3
Author: Alan Conway <aconway@apache.org>
Date: 10/02/2009 06:25:26
Message:
Cluster support for message time-to-live. #MsgLength=43


----
Modified: src/Makefile.am|2 0
Modified: src/cluster.mk|2 0
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Broker.h|9 4
Added: src/qpid/broker/ExpiryPolicy.cpp|36 0
Added: src/qpid/broker/ExpiryPolicy.h|44 0
Modified: src/qpid/broker/Message.cpp|14 8
Modified: src/qpid/broker/Message.h|7 2
Modified: src/qpid/broker/SemanticState.cpp|5 6
Modified: src/qpid/cluster/Cluster.cpp|21 10
Modified: src/qpid/cluster/Cluster.h|9 3
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|2 6
Modified: src/qpid/cluster/Connection.h|1 1
Added: src/qpid/cluster/ExpiryPolicy.cpp|80 0
Added: src/qpid/cluster/ExpiryPolicy.h|76 0
Modified: src/qpid/cluster/UpdateClient.cpp|7 4
Modified: src/qpid/cluster/UpdateClient.h|5 3
Modified: src/qpid/framing/AMQFrame.h|4 0
Modified: src/qpid/framing/FrameSet.h|4 0
Modified: src/tests/QueueTest.cpp|2 1
Modified: src/tests/cluster_test.cpp|83 42
Modified: xml/cluster.xml|5 0

Revision: 82b975784d83361ce01c00d8fb449787fe3af244
Author: Alan Conway <aconway@apache.org>
Date: 11/02/2009 05:42:10
Message:
Fix cluster flow control bug: hang with large messages (>frame-max) and low --cluster-read-max. #MsgLength=97


----
Modified: src/qpid/amqp_0_10/UnknownType.h|1 1
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/ConnectionDecoder.cpp|13 7
Modified: src/qpid/cluster/ConnectionDecoder.h|3 2
Modified: src/qpid/cluster/ConnectionMap.cpp|6 0
Modified: src/qpid/cluster/ConnectionMap.h|3 0
Modified: src/qpid/cluster/Decoder.cpp|2 2
Modified: src/qpid/cluster/Decoder.h|4 1
Modified: src/qpid/cluster/types.h|2 1
Modified: src/tests/latencytest.cpp|1 2

Revision: fd4e609e3b5162f03ceb140c00f87aba26594e64
Author: Alan Conway <aconway@apache.org>
Date: 11/02/2009 06:16:05
Message:
Remove unused class and clean up some FIXME comments. #MsgLength=55


----
Modified: src/cluster.mk|0 2
Modified: src/qpid/cluster/ConnectionDecoder.cpp|5 3
Modified: src/qpid/cluster/ConnectionMap.cpp|2 1
Modified: src/qpid/cluster/Decoder.cpp|1 1
Deleted: src/qpid/cluster/ThreadDispatch.cpp|0 53
Deleted: src/qpid/cluster/ThreadDispatch.h|0 53

Revision: 2d963b779d2dcca239025af2e8bfd5792a3867a8
Author: Gordon Sim <gsim@apache.org>
Date: 11/02/2009 21:44:03
Message:
Need to include newly added ExpiryPolicy.h in headers as it is referenced by files that broker plugins such as the store use. #MsgLength=128


----
Modified: src/Makefile.am|1 1

Revision: bc459677d7c36482588489293ae70d516d727d8e
Author: Alan Conway <aconway@apache.org>
Date: 11/02/2009 22:34:07
Message:
Fix memory leak in cluster code. #MsgLength=34


----
Modified: src/qpid/cluster/Connection.cpp|7 4
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/Decoder.cpp|6 2

Revision: fbb32fb41840042a6d0741208fe675a36ce9eb40
Author: Alan Conway <aconway@apache.org>
Date: 12/02/2009 01:29:42
Message:
Fix race condition with read-credit. #MsgLength=38


----
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/qpid/cluster/ConnectionMap.cpp|1 0
Modified: src/qpid/sys/AsynchIO.h|1 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|3 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|6 2
Modified: src/qpid/sys/windows/AsynchIO.cpp|10 0

Revision: 2fd3ffe9f18d301c1908a784619c6b8b6655024b
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/02/2009 06:44:06
Message:
Catch up to recent source file changes #MsgLength=39


----
Modified: src/broker.vcproj|6 0
Modified: src/common.vcproj|6 0

Revision: 41ed2b745d118c8143201cc3bad1129d8b05a86e
Author: Gordon Sim <gsim@apache.org>
Date: 12/02/2009 19:43:51
Message:
QPID-1660: If selected consumer can't take a message, ensure others are notified of message availability. #MsgLength=108


----
Modified: src/qpid/broker/Queue.cpp|26 6
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/SemanticState.cpp|12 2
Modified: src/qpid/broker/SemanticState.h|1 0
Modified: src/tests/ClientSessionTest.cpp|33 0

Revision: fb678e05baf5ac762f7fa066f5fece9830c36fa5
Author: Gordon Sim <gsim@apache.org>
Date: 12/02/2009 20:39:18
Message:
Fix copy-paste errors in makefile for newly added example #MsgLength=60


----
Modified: examples/tradedemo/Makefile.am|1 10

Revision: 7bdb72f0af697ecb2ccaca81180595f907eff7b0
Author: Alan Conway <aconway@apache.org>
Date: 12/02/2009 23:27:11
Message:
Allow passing extra argv arguments to ClusterFixture. #MsgLength=55


----
Modified: src/tests/ClusterFixture.cpp|39 23
Modified: src/tests/ClusterFixture.h|14 19
Added: src/tests/ForkedBroker.cpp|84 0
Modified: src/tests/ForkedBroker.h|6 64
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/cluster.mk|1 1

Revision: f76b8c2918999fe1586762f76904e3b58504f642
Author: Ted Ross <tross@apache.org>
Date: 13/02/2009 02:10:23
Message:
Remove unicode when dealing with usernames and passwords in URLs. This solves a problem seen with qpid-route when credentials are supplied. A test was added to regression test. #MsgLength=178


----
Modified: src/tests/cli_tests.py|1 1

Revision: d5e5e5d33e11b2ffa2627fd3dd26a95568eae810
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2009 03:01:51
Message:
Cluster security support: - Set correct user ID on update connections. - Allow configuration of user, pass and mechanism used for update connections. #MsgLength=151


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|11 11
Modified: src/qpid/client/Connection.cpp|13 8
Modified: src/qpid/client/Connection.h|12 0
Modified: src/qpid/cluster/Cluster.cpp|14 7
Modified: src/qpid/cluster/Cluster.h|3 3
Modified: src/qpid/cluster/ClusterPlugin.cpp|19 32
Added: src/qpid/cluster/ClusterSettings.h|48 0
Modified: src/qpid/cluster/Connection.cpp|2 1
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|9 6
Modified: src/qpid/cluster/UpdateClient.h|3 1
Modified: src/tests/BrokerFixture.h|8 0
Modified: src/tests/ClusterFixture.cpp|3 2
Modified: src/tests/ClusterFixture.h|3 1
Modified: src/tests/cluster_test.cpp|49 9
Modified: xml/cluster.xml|1 0

Revision: f3da26dd9e4139f88983b5f9b030138590faf8a3
Author: Gordon Sim <gsim@apache.org>
Date: 13/02/2009 04:01:32
Message:
Queue::checkLvqReplace() needs to update the lvq map if it makes a replacement or the map will contain a pointer to a stale message and further updates will be lost. #MsgLength=240


----
Modified: src/qpid/broker/Message.cpp|2 0
Modified: src/qpid/broker/Queue.cpp|11 2
Modified: src/qpid/broker/Queue.h|1 1

Revision: 0fad5875ffc63051e6e8ae35194d4b3bc32bbdc3
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2009 06:28:33
Message:
Enable --cluster-cman option if built with libcman support. #MsgLength=61


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 1
Modified: src/qpid/cluster/Quorum.h|1 1

Revision: 13c76e52e7cca1dc21084c8fcfaa9ec35f7759bd
Author: Gordon Sim <gsim@apache.org>
Date: 13/02/2009 17:26:49
Message:
Check session impl is valid on close to avoid segfault. #MsgLength=58


----
Modified: src/qpid/client/SessionBase_0_10.cpp|4 1

Revision: 52ba0138d016fd69450c07469991c404512515a5
Author: Gordon Sim <gsim@apache.org>
Date: 13/02/2009 17:30:33
Message:
Test case for previous commit. #MsgLength=33


----
Modified: src/tests/ClientSessionTest.cpp|4 0

Revision: 14abadc08ceb6c84a337752b61700b3bb2c4bc0d
Author: Alan Conway <aconway@apache.org>
Date: 13/02/2009 22:43:46
Message:
Add --no-module-dir to start_cluster script. #MsgLength=46


----
Modified: src/tests/start_cluster|1 1

Revision: ffbde4a004c0f815b7ca89c78deeab8c01838622
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2009 03:21:21
Message:
Ensure that the queue depth in bytes remains accurate for LVQ. This also ensures that there are no underflow exceptions from the policy that keeps this count. #MsgLength=161


----
Modified: src/qpid/broker/Queue.cpp|3 1
Modified: src/tests/ClientSessionTest.cpp|22 0

Revision: 1e40594a01cdea4562cecbbe07c012db6442a825
Author: Alan Conway <aconway@apache.org>
Date: 14/02/2009 08:47:05
Message:
Cluster start-up retries to  handle slow cman start-up. - infinite retry if cpg_initialize returns TRY_AGAIN. - infinite retry for cman_is_quorate #MsgLength=150


----
Modified: src/qpid/cluster/Cpg.cpp|8 1
Modified: src/qpid/cluster/Quorum_cman.cpp|3 6

Revision: 1ae99e8aed13cd221e875add8db54ac5e54e9f5d
Author: Alan Conway <aconway@apache.org>
Date: 17/02/2009 23:19:39
Message:
Fixed bug in setFlowControl - was recursively calling self. #MsgLength=61


----
Modified: src/qpid/client/SubscriptionManager.cpp|8 0
Modified: src/qpid/client/SubscriptionManager.h|2 6

Revision: 9f6617946e828ca54816dea628e414b394d616b6
Author: Gordon Sim <gsim@apache.org>
Date: 17/02/2009 23:44:19
Message:
QPID-1667: Test case (fix was submitted in previous rev) #MsgLength=59


----
Modified: src/tests/ClientSessionTest.cpp|16 0

Revision: 39419584b0596000a34201580c9f61006dd3c873
Author: Rafael H. Schloming <rhs@apache.org>
Date: 18/02/2009 02:09:32
Message:
fixed typo in yum command #MsgLength=26


----
Modified: INSTALL|1 1

Revision: 5e54102b7a7763554b78eca5fbb4efbbbd676853
Author: Alan Conway <aconway@apache.org>
Date: 18/02/2009 04:18:38
Message:
Minor fixes. #MsgLength=254


----
Modified: src/qpid/client/SubscriptionManager.cpp|6 2
Modified: src/qpid/client/SubscriptionManager.h|5 8
Modified: src/qpid/cluster/Cluster.cpp|0 5

Revision: 69e6bf2fa2b211b4a3fac9ecc89b1e110d29c2e2
Author: Gordon Sim <gsim@apache.org>
Date: 18/02/2009 20:07:48
Message:
Added tests for federated links to and from a cluster #MsgLength=56


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/cluster.mk|2 2
Added: src/tests/federated_cluster_test|131 0

Revision: f77b049e648b67bb1fe7c47e2fd4e81e9b06ba1c
Author: Gordon Sim <gsim@apache.org>
Date: 18/02/2009 20:10:46
Message:
Added to svn:ignore for new examples #MsgLength=39


----

Revision: fc1036e9545e1442c10cba91725fc10df367123d
Author: Gordon Sim <gsim@apache.org>
Date: 19/02/2009 02:17:08
Message:
Fixed for cases where --subs > 1 and --iterations > 1 #MsgLength=56


----
Modified: src/tests/perftest.cpp|14 1

Revision: a3b45551917aeb93eb14420df40a9875715591d9
Author: Gordon Sim <gsim@apache.org>
Date: 19/02/2009 20:19:15
Message:
Ensure pythonpath is set correctly #MsgLength=37


----
Modified: src/tests/federated_cluster_test|1 0

Revision: 36a6811d9a20bdd473bcc4c308b8ca9a969993fb
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/02/2009 08:04:37
Message:
Merged win-pollable-condition branch changes 743545:746056 into trunk #MsgLength=70


----
Modified: src/Makefile.am|1 1
Modified: src/common.vcproj|1092 603
Modified: src/qpid/sys/PollableCondition.h|52 2
Modified: src/qpid/sys/PollableQueue.h|25 21
Modified: src/qpid/sys/posix/PollableCondition.cpp|105 14
Deleted: src/qpid/sys/posix/PollableCondition.h|0 56
Added: src/qpid/sys/windows/PollableCondition.cpp|125 0
Modified: src/tests/QueueEvents.cpp|1 0

Revision: f89d5a6e081411104ed6d81f12fe968f37217247
Author: Gordon Sim <gsim@apache.org>
Date: 20/02/2009 18:42:31
Message:
Commit accepts of control messages (else they are left on queue) #MsgLength=67


----
Modified: src/tests/txshift.cpp|1 0

Revision: 5cd3e7262bb4701562cec239725328a27a7eb4c2
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2009 01:11:40
Message:
Add dummy option to example conf file that suppresses a spurious cyrus sasl warning. #MsgLength=87


----
Modified: etc/sasl2/qpidd.conf|4 0

Revision: 4748eae97050eaaeabd3eff3c381a551fe30313e
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2009 01:13:01
Message:
Added missing new line to end of conf file. #MsgLength=46


----
Modified: etc/sasl2/qpidd.conf|1 1

Revision: a913090bbd280f80b73fbf08f2d87adc3cd0c02c
Author: Alan Conway <aconway@apache.org>
Date: 24/02/2009 06:12:19
Message:
QPID-1674 Mick Goulish: Fixes an error caused by a string going out of scope just before ForkedBroker startup. #MsgLength=112


----
Modified: src/qpid/broker/SessionState.cpp|1 0
Modified: src/tests/failover_soak.cpp|21 18
Modified: src/tests/federated_cluster_test|3 3

Revision: ae1f0351e82be6d01163320067dd09c75aee0de3
Author: Gordon Sim <gsim@apache.org>
Date: 24/02/2009 21:07:33
Message:
Avoid hiding Bridge::id #MsgLength=26


----
Modified: src/qpid/broker/Bridge.cpp|3 3

Revision: 2560a2609313dee9bdca01b5411dca459935dcef
Author: Ted Ross <tross@apache.org>
Date: 24/02/2009 22:15:28
Message:
QPID-1676 - Added client process name and pid to connection object for management. Supported in C++, Python, and Ruby clients. Still needs to be added to the Java clients. #MsgLength=197


----
Modified: src/qpid/broker/Connection.h|2 0
Modified: src/qpid/broker/ConnectionHandler.cpp|17 1
Modified: src/qpid/client/ConnectionHandler.cpp|7 0
Modified: src/qpid/sys/SystemInfo.h|5 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|24 0
Modified: src/qpid/sys/windows/SystemInfo.cpp|19 0

Revision: cc69fa3ca4c4b495a84f792f66a7813a076c99a2
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 03:01:28
Message:
Modify the null authenticator to handle PLAIN correctly, making acls easier to test. #MsgLength=87


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|19 9

Revision: 56246eff08fac3cafd3fc898966011b52be43d4a
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 03:02:50
Message:
QPID-1671: Set userid for client side of inter-broker links. #MsgLength=63


----
Modified: src/qpid/broker/LinkRegistry.cpp|7 1
Modified: src/qpid/broker/LinkRegistry.h|1 0

Revision: c5576622e2cea25b0f7e35968d0e070931184953
Author: Alan Conway <aconway@apache.org>
Date: 25/02/2009 03:27:57
Message:
QPID-1678 Mick Goulish: failover_soak using UUIDs for cluster name to avoid clashes. #MsgLength=86


----
Modified: src/tests/failover_soak.cpp|6 5
Modified: src/tests/run_failover_soak|3 3

Revision: 185fe39ecd1a5f64fc10e53edd9393e2645afdf6
Author: Alan Conway <aconway@apache.org>
Date: 25/02/2009 03:48:54
Message:
Fixed issue with producer flow control in a cluster. #MsgLength=769


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/broker/ConnectionState.h|16 5
Modified: src/qpid/broker/SessionHandler.cpp|2 1
Modified: src/qpid/broker/SessionHandler.h|18 0
Modified: src/qpid/broker/SessionState.cpp|11 6
Modified: src/qpid/broker/SessionState.h|10 1
Modified: src/qpid/cluster/Connection.cpp|18 4
Modified: src/qpid/cluster/Connection.h|7 0
Modified: src/qpid/cluster/Event.cpp|10 4
Modified: src/qpid/cluster/Event.h|6 1
Modified: src/qpid/cluster/EventFrame.cpp|2 2
Modified: src/qpid/cluster/EventFrame.h|2 1
Added: src/qpid/cluster/McastFrameHandler.h|46 0
Modified: src/qpid/cluster/Multicaster.cpp|6 0
Modified: src/qpid/cluster/Multicaster.h|1 0
Modified: src/qpid/cluster/types.h|2 0
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|1 1
Modified: src/tests/federated_cluster_test|2 2
Modified: src/tests/ssl_test|1 2
Modified: src/tests/start_cluster|1 1

Revision: cbd1243d0c636a563b8b44f30ad9c17b62aa882e
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 04:54:48
Message:
Check that broker pointer is not null before invoking on it. #MsgLength=63


----
Modified: src/qpid/broker/LinkRegistry.cpp|1 1

Revision: 1f408d4dd42c327bd6ca4bcf0e4af8f01c06aeb2
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/02/2009 06:14:51
Message:
Implement process id and name methods for Windows #MsgLength=50


----
Modified: src/qpid/sys/windows/SystemInfo.cpp|27 8

Revision: 0edfd16a085f75e0237bbf7cd23daed990e84d3c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/02/2009 06:38:08
Message:
Changed the producer rate limit timer callback so that it generates a callback serialised with the connection #MsgLength=111


----
Modified: src/qpid/broker/Connection.cpp|9 5
Modified: src/qpid/broker/Connection.h|4 1
Modified: src/qpid/broker/ConnectionState.h|1 0
Modified: src/qpid/broker/SessionState.cpp|9 5

Revision: c5a69c07c8adba05cb4c4e1128626988aadc257c
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 16:40:26
Message:
Replace struct name to avoid clashing with similarly named struct in ClientSessionTest. This was causing seg fault when -O0 was specified in CXXFLAGS. #MsgLength=153


----
Modified: src/tests/QueueEvents.cpp|3 3

Revision: cb85a07b1f2f639def93aa1776611c738bb30d7d
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 17:50:15
Message:
Fix header name in sources. #MsgLength=30


----
Modified: src/cluster.mk|1 1

Revision: 6ad751a8cda7497eac86304f2e11cb90a6df2f7e
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 19:02:20
Message:
QPID-1685: Fixed ring queue policy #MsgLength=37


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/QueuePolicy.cpp|13 13
Modified: src/tests/QueuePolicyTest.cpp|9 0

Revision: a13a86c1834c7a9e4cbe07568c46356018ce4fed
Author: Alan Conway <aconway@apache.org>
Date: 25/02/2009 22:11:19
Message:
Fix race condition: move all calls on Decoder into event delivery thread. #MsgLength=75


----
Modified: src/qpid/cluster/Cluster.cpp|6 2

Revision: b623a855de4fefcadebf794c9e1103b5921d998b
Author: Ted Ross <tross@apache.org>
Date: 25/02/2009 23:04:55
Message:
Added "uptime" to the management object for the broker. #MsgLength=57


----
Modified: src/qpid/management/ManagementBroker.cpp|4 1
Modified: src/qpid/management/ManagementBroker.h|1 0

Revision: 26e7354caf07dcea11f1c2c659a8e8228a18c073
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2009 23:46:04
Message:
Fix for bug in credit reallocation, along with test from rafaels@redhat.com that reproduces it. #MsgLength=98


----
Modified: src/qpid/broker/SemanticState.cpp|4 2

Revision: 710cfceaf5851c430cf880948a4e6ed1b4c5f4ac
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2009 01:00:54
Message:
Need to register finalizer so that we can release the shared pointer to the queue and have the queue deleted before the management agents deletes the underlying qmf object. #MsgLength=175


----
Modified: src/qpid/replication/ReplicatingEventListener.cpp|2 0
Modified: src/qpid/replication/ReplicatingEventListener.h|1 0

Revision: 4b6ebd08610adbab752c7ff2523d6c9f7a4db68d
Author: Ted Ross <tross@apache.org>
Date: 26/02/2009 06:47:28
Message:
Bugfix:  This fixes a bug in the management agent where an explicit get-request on an object would cause the last-modified timestamp of the object to not get updated if the object had been modified since the last publish interval. #MsgLength=259


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|6 0
Modified: src/qpid/management/ManagementBroker.cpp|6 0

Revision: 1220aaca6bdd3a8b2ffbacdd443bce10f27b8a6f
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2009 06:53:43
Message:
Add FrameDecoder unit test, update comments in Cluster.h/cpp. #MsgLength=63


----
Modified: src/qpid/cluster/Cluster.cpp|2 2
Modified: src/qpid/cluster/Cluster.h|5 2
Added: src/tests/FrameDecoder.cpp|73 0
Modified: src/tests/Makefile.am|2 1

Revision: 1b5d53bbee0ac073cd3a055e85ac5ea27dd46385
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2009 19:04:23
Message:
QPID-1693: Improvements to failover soak test from mgoulish@redhat.com #MsgLength=73


----
Modified: src/tests/failover_soak.cpp|129 40

Revision: ef21764e8e6a46793f437cdf9fb1f9464e1f64cb
Author: Gordon Sim <gsim@apache.org>
Date: 27/02/2009 01:18:46
Message:
QPID-1695: Make LVQ persist durable messages #MsgLength=47


----
Modified: src/qpid/broker/Queue.cpp|18 5
Modified: src/qpid/broker/Queue.h|7 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 1

Revision: 49138b02bf8528a43ea84a23097e55317dbde4bf
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2009 01:21:40
Message:
Remove "flow enabled" log messages. #MsgLength=37


----
Modified: src/qpid/cluster/Cpg.cpp|7 8
Modified: src/qpid/cluster/Cpg.h|0 2

Revision: 24a15c454df3a57fc5c80ebd7337c63e76056fce
Author: Gordon Sim <gsim@apache.org>
Date: 27/02/2009 01:43:01
Message:
Added a couple of extra options that are useful in ad-hoc testing. #MsgLength=69


----
Modified: src/tests/sender.cpp|21 7

Revision: d9f4958e89ccdc7403f97ef2b36b44da4b8e2b8f
Author: Gordon Sim <gsim@apache.org>
Date: 27/02/2009 02:12:21
Message:
Add browse option, useful for ad-hoc testing. #MsgLength=48


----
Modified: src/tests/receiver.cpp|9 6

Revision: 091945e6ffc47a9db25c9775ab7af9fafbdb2e95
Author: Gordon Sim <gsim@apache.org>
Date: 27/02/2009 03:57:13
Message:
Send session.detached back to server in response to a detach. #MsgLength=64


----
Modified: src/qpid/client/SessionImpl.cpp|1 0

Revision: f59c4a50ac0fb85386c9a84079941c88e2b1f1b1
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2009 06:33:40
Message:
Fix to avoid spinning if an exception is thrown in cluster::PollableQueue. #MsgLength=76


----
Modified: src/qpid/cluster/PollableQueue.h|2 0

Revision: 2f5e03ac13123fd9f72e60d0156293909c7b2169
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2009 02:11:47
Message:
Fix test to account for failure after last message has been delivered, but before the session and connection are closed. #MsgLength=123


----
Modified: src/tests/resuming_receiver.cpp|8 4

Revision: e80c86635d0d4ff5d1ecc34880c857711386dde7
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2009 02:55:28
Message:
Sorry, forgot a crucial line in my last 'fix'! #MsgLength=49


----
Modified: src/tests/resuming_receiver.cpp|1 0

Revision: 284ca245527bc91f5b79e309dd94faf286896264
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2009 03:34:47
Message:
cluster: apply membership updates while in CATCHUP mode. #MsgLength=58


----
Modified: src/qpid/cluster/Cluster.cpp|8 9
Modified: src/qpid/cluster/Cluster.h|3 1

Revision: 0361d92982dd52f80425c95d56ec09e89f127a2f
Author: Jonathan Robie <jonathan@apache.org>
Date: 28/02/2009 04:45:01
Message:
Modified so that the content of the message is only parsed if it is used in a binding query. Headers can be queried without parsing the message. #MsgLength=147


----
Modified: src/qpid/xml/XmlExchange.cpp|75 53
Modified: src/qpid/xml/XmlExchange.h|3 2

Revision: 63c048e98a8b22946525d832611c17e7a65ff84f
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2009 06:27:11
Message:
Add lock to cluster::ConnectionMap, make it thread safe. #MsgLength=58


----
Modified: src/qpid/assert.cpp|1 1
Modified: src/qpid/cluster/ConnectionMap.cpp|12 11
Modified: src/qpid/cluster/ConnectionMap.h|1 0

Revision: f1cc01c8e3363db4d69fb43b1644b56c2e86871d
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2009 21:01:21
Message:
QPID-1705: cancel heartbeat timer task as part of cleanup #MsgLength=60


----
Modified: src/qpid/client/ConnectionImpl.cpp|3 0

Revision: 45c3850591275acfb8af98e3156a4ef5d2fe6543
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2009 22:27:01
Message:
QPID-1705: added unit test for heartbeat firing after connection has failed over #MsgLength=83


----
Modified: src/tests/cluster_test.cpp|85 0

Revision: 439459fd95910925542ffd1714e4515d0151bec6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/03/2009 02:42:02
Message:
- Reworked DispatchHandler state machine to eliminate race conditions particularly when deleting a DispatchHandle - Reworked Poller interrupt mechanism eliminating locking problems and to support DispatchHandler changes - Beefed up the DispatchHandler test program so that it's a fair torture test of the DispatchHandler code #MsgLength=333


----
Modified: src/qpid/client/Connector.cpp|3 3
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/sys/DispatchHandle.cpp|100 29
Modified: src/qpid/sys/DispatchHandle.h|1 0
Modified: src/qpid/sys/Poller.h|3 2
Modified: src/qpid/sys/epoll/EpollPoller.cpp|70 41
Modified: src/tests/DispatcherTest.cpp|67 11
Modified: src/tests/Makefile.am|1 0

Revision: 9798bc6cb4e455a5b7f7882843152493754d2e89
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/03/2009 04:46:16
Message:
Remove -Wno-missing-field-initializers which is not supported by gcc3.4 #MsgLength=73


----
Modified: src/tests/DispatcherTest.cpp|2 2
Modified: src/tests/Makefile.am|0 1

Revision: 7e11f79e34d4eda37885e99302c1dc4d6eea7e31
Author: Alan Conway <aconway@apache.org>
Date: 03/03/2009 07:30:08
Message:
Replicate connection decoder fragments to new members. #MsgLength=324


----
Modified: src/cluster.mk|0 4
Modified: src/qpid/cluster/Cluster.cpp|78 60
Modified: src/qpid/cluster/Cluster.h|14 7
Modified: src/qpid/cluster/Connection.cpp|45 20
Modified: src/qpid/cluster/Connection.h|13 7
Modified: src/qpid/cluster/ConnectionCodec.cpp|5 8
Modified: src/qpid/cluster/ConnectionCodec.h|1 3
Deleted: src/qpid/cluster/ConnectionDecoder.cpp|0 57
Deleted: src/qpid/cluster/ConnectionDecoder.h|0 61
Modified: src/qpid/cluster/ConnectionMap.cpp|10 23
Modified: src/qpid/cluster/ConnectionMap.h|2 7
Deleted: src/qpid/cluster/Decoder.cpp|0 50
Deleted: src/qpid/cluster/Decoder.h|0 65
Modified: src/qpid/cluster/Event.cpp|12 2
Modified: src/qpid/cluster/Event.h|5 2
Modified: src/qpid/cluster/EventFrame.h|2 2
Modified: src/qpid/cluster/UpdateClient.cpp|7 8
Modified: src/qpid/cluster/UpdateClient.h|1 0
Modified: src/qpid/cluster/types.h|5 6
Modified: src/qpid/framing/FrameDecoder.cpp|11 1
Modified: src/qpid/framing/FrameDecoder.h|8 1
Modified: src/tests/ClusterFixture.cpp|1 1
Modified: src/tests/FrameDecoder.cpp|1 1
Modified: xml/cluster.xml|1 0

Revision: dad7f34e4946308736834da601f29aa4e29cea63
Author: Alan Conway <aconway@apache.org>
Date: 03/03/2009 22:42:11
Message:
Avoid use of std::vector::data(), not available on some platforms. #MsgLength=68


----
Modified: src/qpid/framing/FrameDecoder.cpp|1 1

Revision: 59afb08f55ff9fa938415cfbba6dd3e7aa23e331
Author: Alan Conway <aconway@apache.org>
Date: 03/03/2009 23:07:58
Message:
QPID-1707 Mick Goulish. Improved failover_soak code #MsgLength=53


----
Modified: src/tests/failover_soak.cpp|19 8

Revision: 0dafd07806661ec61d3418ebafd28d36970b2c16
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2009 01:54:53
Message:
Complete change started by r749621: "Avoid use of std::vector::data(), not available on some platforms." #MsgLength=107


----
Modified: src/qpid/framing/FrameDecoder.cpp|1 1

Revision: bbeff7f92c8d7f5fa789f1ff67eb4829a00e943d
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2009 04:21:01
Message:
cluster::UpdateClient added missing error handling. Minor improvements to failover_soak tests. #MsgLength=96


----
Modified: src/qpid/cluster/UpdateClient.cpp|17 14
Modified: src/tests/failover_soak.cpp|87 29
Modified: src/tests/replaying_sender.cpp|2 0
Modified: src/tests/resuming_receiver.cpp|3 5
Modified: src/tests/run_failover_soak|4 4

Revision: 66115f545f7405d5039da3ba038e0ab3d2884cc8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/03/2009 05:02:10
Message:
Correct Socket error reporting so that it gives a useful message #MsgLength=66


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1

Revision: eda1228005a4f892bedebfe2ce854adcc8d5c47d
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2009 05:07:49
Message:
cpp/src/tests/ForkedBroker.cpp: supress misleading exceptions with kill -9. #MsgLength=77


----
Modified: src/tests/ForkedBroker.cpp|2 2
Modified: src/tests/failover_soak.cpp|1 2

Revision: 260f61ea8414790f0146d35371b23790d874d1c3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/03/2009 12:22:50
Message:
QPID-1710 Removed unnecessary nonportable internal API #MsgLength=56


----
Modified: src/qpid/sys/Socket.h|1 3
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1
Modified: src/qpid/sys/posix/Socket.cpp|2 2
Modified: src/qpid/sys/ssl/SslIo.cpp|1 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|2 2
Modified: src/qpid/sys/ssl/SslSocket.h|1 1

Revision: 6414132174236464896e6e9bc9a2db2928d8977c
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2009 17:26:28
Message:
QPID-1710: update test inline with modified method signature. #MsgLength=64


----
Modified: src/tests/SocketProxy.h|1 1

Revision: 9246e723a5be70587cb45010ff7fbb7d00f526d8
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2009 19:48:25
Message:
Added some extra debug information on failover time. #MsgLength=55


----
Modified: src/qpid/client/FailoverManager.cpp|10 1

Revision: 61d2b30da6387849c563a4ff7666e394f07677ce
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2009 21:10:08
Message:
Improved log message #MsgLength=23


----
Modified: src/qpid/replication/ReplicationExchange.cpp|1 1

Revision: da7cb62565cb04ef6750079382bffdf2ca5d9c3b
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2009 21:22:03
Message:
QPID-1711: Ensure the session state between the two peers in an inter-broker bridging session are kept in sync. #MsgLength=230


----
Modified: src/qpid/SessionState.cpp|6 1
Modified: src/qpid/SessionState.h|15 0
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|0 1
Modified: src/qpid/broker/Bridge.cpp|28 16
Modified: src/qpid/broker/Bridge.h|3 2
Modified: src/qpid/broker/Link.cpp|28 15
Modified: src/qpid/broker/Link.h|1 0
Modified: src/qpid/broker/SessionHandler.cpp|17 5
Modified: src/qpid/broker/SessionHandler.h|2 3

Revision: 2fd92856d7d0d16fcbfc9a1fedfd6b9e907bc847
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2009 05:13:04
Message:
Issue a useful message if not generating code from specs' fixes QPID-1709 #MsgLength=74


----
Modified: configure.ac|2 1

Revision: f4aa35d3cccc009d6c35deb8d05b67f3359e9afb
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2009 05:22:59
Message:
Issue a useful message if not generating code from specs; fixes QPID-1709 #MsgLength=74


----
Modified: configure.ac|1 1

Revision: 208e0bb7227b3e843becb1fea1c433aa25062145
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2009 08:24:02
Message:
Remove socklen_t for Windows; related to QPID-1710 #MsgLength=51


----
Modified: src/qpid/sys/windows/IntegerTypes.h|0 1
Modified: src/qpid/sys/windows/Socket.cpp|2 2

Revision: 4f54dc085d907b265d62d1c045af13be45d7065b
Author: Alan Conway <aconway@apache.org>
Date: 05/03/2009 21:28:14
Message:
cluster: fix delivery-property.exchange-name set on updated messages. #MsgLength=226


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/SessionState.cpp|4 3
Modified: src/qpid/broker/Exchange.cpp|4 0
Modified: src/qpid/broker/Exchange.h|2 1
Modified: src/qpid/broker/SemanticState.cpp|4 12
Modified: src/qpid/cluster/Cluster.cpp|40 21
Modified: src/qpid/cluster/Cluster.h|2 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 1
Modified: src/qpid/cluster/Connection.cpp|3 2
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/Event.cpp|2 3
Modified: src/qpid/cluster/Event.h|3 3
Modified: src/qpid/cluster/EventFrame.cpp|3 3
Modified: src/qpid/cluster/EventFrame.h|3 3
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 9
Modified: src/qpid/cluster/UpdateClient.cpp|5 7
Modified: src/qpid/cluster/UpdateClient.h|2 1
Added: src/qpid/cluster/UpdateExchange.h|45 0
Modified: src/tests/cluster_test.cpp|3 1
Modified: src/tests/failover_soak.cpp|13 15
Modified: src/tests/replaying_sender.cpp|1 1
Modified: xml/cluster.xml|1 0

Revision: 6709a7af648ef92a1e27fdbfe80dd61037cbe037
Author: Manuel Teira Paz <mteira@apache.org>
Date: 05/03/2009 23:59:17
Message:
Prepend std namespace to atoi since we are including cstdlib #MsgLength=62


----
Modified: src/qpid/sys/posix/Socket.cpp|1 1

Revision: c57588d25de76a9ffaa0c18251396b9a8d0541d1
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:00:31
Message:
Define the QPID_TSS macro for the Sun Studio Compilers #MsgLength=56


----
Modified: src/qpid/sys/Thread.h|2 0

Revision: 961ad0d70b57168f2b4da424c63227fe201eae84
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:02:31
Message:
Remove the argument type in the boost::function template since it's no needed and hurts the Sun compiler #MsgLength=106


----
Modified: src/qpid/sys/PollableQueue.h|1 1

Revision: 1513f439e401c546dd65963776c446c2bee328d4
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:06:42
Message:
Implement a solaris qpid::sys::SystemInfo Choose implementation based on SUNOS definition #MsgLength=91


----
Modified: src/Makefile.am|7 2
Added: src/qpid/sys/solaris/SystemInfo.cpp|104 0

Revision: 748f4803dbdcf559cc13af6eecf45e62b0a8570b
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:07:55
Message:
Add a pair of missing std:: namespaces #MsgLength=40


----
Modified: src/qpid/sys/Codec.h|2 2
Modified: src/qpid/sys/CopyOnWriteArray.h|1 1

Revision: 27333e40f24483410f596ba9745a7f270611861e
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:09:52
Message:
In qpid::client::SessionImpl Force the construction of a sys::ExceptionHolder to avoid the Sun Compiler to throw an ambiguity error, since it things that sys::ExceptionHolder and ClosedException are convertible one to the other. #MsgLength=231


----
Modified: src/qpid/client/SessionImpl.cpp|2 1

Revision: 2f14527dcdf0e92f885ed1cee5847c5b4a1f9081
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:12:09
Message:
Replace PF_LOCAL with PF_UNIX, since it seems to be equivalent, and the former doesn't exist on Solaris (for instance) #MsgLength=121


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1

Revision: adad131b30f045813043d70d73d97a0ff873872b
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:14:48
Message:
qpid::log::Selector: Include strings.h for ::strlen #MsgLength=55


----
Modified: src/qpid/log/Selector.cpp|1 0

Revision: 6591cacc8c783fe3c460c6e9b8e87ab689400f8d
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:22:06
Message:
configure.ac: - Check for existence of LOG_FTP and LOG_AUTHPRIV to create proper defines - Define SUNOS properly - Reverse SUNCC detection to make it work properly - Check if libacl is actually needed (in Solaris this functionality is part of libc) #MsgLength=259


----
Modified: configure.ac|26 1

Revision: 46e47d1b27ea5ee2301a2eb8dc935c54eff69fd9
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:25:17
Message:
qpid/log/posix/SinkOptions.cpp - Conditionally use LOG_FTP and LOG_AUTHPRIV - Add a missing std namespace #MsgLength=110


----
Modified: src/qpid/log/posix/SinkOptions.cpp|5 1

Revision: 791c9b03df875c6885b7c7248805d8f35c69fc3b
Author: Manuel Teira Paz <mteira@apache.org>
Date: 06/03/2009 00:29:22
Message:
qpid/broker/QueuePolicy.cpp - Add a missing std namespace qpid/broker/TxAccept.cpp - Add a missing std namespace #MsgLength=116


----
Modified: src/qpid/broker/QueuePolicy.cpp|1 1
Modified: src/qpid/broker/TxAccept.cpp|2 2

Revision: 5dcb55744ceb553805e5da439df77a50865817a4
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2009 04:24:41
Message:
Cluster: restore separate event/frame threads. #MsgLength=48


----
Modified: src/qpid/cluster/Cluster.cpp|39 48
Modified: src/qpid/cluster/Cluster.h|27 35
Modified: src/qpid/cluster/ExpiryPolicy.cpp|3 4
Modified: src/qpid/cluster/ExpiryPolicy.h|1 2

Revision: a2b82822e96a328b6cb4efb63d966ef74a153766
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2009 05:06:17
Message:
QPID-1717:  Check that target queue for replication events exists before attempting to process it. #MsgLength=101


----
Modified: src/qpid/replication/ReplicationExchange.cpp|20 13
Modified: src/tests/replication_test|6 0

Revision: 38139c92193fbcf294e3e796f73144582128f4af
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2009 06:05:26
Message:
QPID-1718: Ensure that cancellation caused by e.g. SubscriptionManager::get() doesn't close dispatch queue. #MsgLength=110


----
Modified: src/qpid/client/Dispatcher.cpp|1 2
Modified: src/tests/ClientSessionTest.cpp|18 0

Revision: c7c7fdcc0d3549ce136a9b44dd1875a9bc7c5178
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2009 22:10:35
Message:
QPID-1719: Ensure management object id remain in sync across cluster. #MsgLength=73


----
Modified: src/qpid/cluster/ConnectionCodec.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|1 1
Modified: src/tests/federated_cluster_test|35 5

Revision: 1d92a14ea2f11b3cfaf5b229cacbbcca1686d072
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2009 22:22:50
Message:
AclPlugin: Use --acl-file unmodified if --no-data-dir. SessionId: print as userid.sessionid rather than sessionid@userid. #MsgLength=123


----
Modified: src/qpid/SessionId.cpp|1 1
Modified: src/qpid/acl/AclPlugin.cpp|4 9

Revision: e39f3c3fb966c25e5e84c98de190f5076abd3b13
Author: Jonathan Robie <jonathan@apache.org>
Date: 06/03/2009 22:58:35
Message:
Moved a variable inside an assertion to avoid unused variable error when the assertion is undefined. #MsgLength=102


----
Modified: src/tests/DispatcherTest.cpp|1 2

Revision: 770b140de4c05bb465dbd73d0bdac28db4e243b3
Author: Gordon Sim <gsim@apache.org>
Date: 07/03/2009 01:21:13
Message:
QPID-1719: extra test for federated cluster (includes node failure which requires a wait so only run on make check-long) #MsgLength=123


----
Modified: src/tests/Makefile.am|4 2
Added: src/tests/federated_cluster_test_with_node_failure|23 0

Revision: d22c071f95787ba51fbcce3e78141a0d5fa67238
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/03/2009 07:21:24
Message:
Correct needed include file for strlen() #MsgLength=41


----
Modified: src/qpid/log/Selector.cpp|1 1

Revision: 110613275459776d2e27ea948b35f60a20607480
Author: Alan Conway <aconway@apache.org>
Date: 09/03/2009 07:52:35
Message:
Fixed race conditions in cluster. #MsgLength=134


----
Modified: src/cluster.mk|3 2
Modified: src/qpid/cluster/Cluster.cpp|100 78
Modified: src/qpid/cluster/Cluster.h|53 43
Modified: src/qpid/cluster/Connection.cpp|6 27
Modified: src/qpid/cluster/Connection.h|2 8
Deleted: src/qpid/cluster/ConnectionMap.cpp|0 84
Added: src/qpid/cluster/Decoder.cpp|60 0
Added: src/qpid/cluster/Decoder.h|57 0
Modified: src/qpid/cluster/Event.cpp|2 2
Modified: src/qpid/cluster/Event.h|1 4
Modified: src/qpid/cluster/EventFrame.cpp|3 3
Modified: src/qpid/cluster/EventFrame.h|0 8
Renamed: src/qpid/cluster/LockedConnectionMap.h [from src/qpid/cluster/ConnectionMap.h]|23 45
Modified: src/qpid/cluster/UpdateClient.cpp|6 5
Modified: src/qpid/cluster/UpdateClient.h|5 3
Modified: src/qpid/framing/AMQFrame.cpp|2 1
Modified: xml/cluster.xml|0 1

Revision: 8be8932b4a8c6da66304dbc85acda7db3c4aeca8
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2009 23:50:48
Message:
Ack outstanding messages before closing #MsgLength=42


----
Modified: src/tests/receiver.cpp|3 0

Revision: 4055d5fb20205f0228739febe7424e1741641987
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2009 23:58:17
Message:
QPID-1721: Fixes for replication between clusters when new members are added #MsgLength=381


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/Exchange.h|2 2
Modified: src/qpid/broker/Message.cpp|5 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/Queue.cpp|12 3
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/QueueEvents.cpp|16 3
Modified: src/qpid/broker/QueueEvents.h|3 0
Modified: src/qpid/broker/QueueRegistry.cpp|8 2
Modified: src/qpid/broker/QueueRegistry.h|5 0
Modified: src/qpid/broker/SessionAdapter.cpp|0 4
Modified: src/qpid/cluster/Cluster.cpp|3 1
Modified: src/qpid/replication/ReplicatingEventListener.cpp|1 2
Modified: src/qpid/replication/ReplicatingEventListener.h|0 1
Modified: src/qpid/replication/ReplicationExchange.cpp|10 1
Modified: src/qpid/replication/ReplicationExchange.h|2 0
Modified: src/tests/cluster.mk|3 2
Added: src/tests/clustered_replication_test|127 0

Revision: 64c750adeee44cc47614eaf9fe2f0c49d31fcd92
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/03/2009 00:58:16
Message:
Close a potential race between closing a connection and sending data #MsgLength=70


----
Modified: src/qpid/client/Connector.cpp|19 18

Revision: 82ded124933b6f1c700c988403b216fe1863ae2e
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2009 01:03:40
Message:
Fix cluster TTL: replicte expiry information to newcomers. #MsgLength=60


----
Modified: src/qpid/cluster/Cluster.cpp|2 8
Modified: src/qpid/cluster/Cluster.h|3 4
Modified: src/qpid/cluster/Connection.cpp|6 2
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/EventFrame.cpp|3 1
Modified: src/qpid/cluster/ExpiryPolicy.cpp|22 23
Modified: src/qpid/cluster/ExpiryPolicy.h|16 5
Modified: src/qpid/cluster/UpdateClient.cpp|22 12
Modified: src/qpid/cluster/UpdateClient.h|3 2
Modified: src/qpid/framing/AMQFrame.cpp|0 1
Modified: src/qpid/framing/AMQFrame.h|0 4
Modified: src/tests/cluster_test.cpp|16 3
Modified: src/tests/start_cluster|0 1
Modified: xml/cluster.xml|3 3

Revision: 59b959cc9d47fd33d00f23f5e1d0088644fa68c7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/03/2009 05:21:27
Message:
QPID-1722 Replace use of non thread safe gethostbyname() with more useful getaddrinfo() #MsgLength=89


----
Modified: src/qpid/sys/posix/Socket.cpp|21 16

Revision: 409f09903e55245ce48cbacf4c6b31631ec30f90
Author: Manuel Teira Paz <mteira@apache.org>
Date: 10/03/2009 16:10:24
Message:
examples/makedist.mk and examples/*/Makefile.am - Avoid the usage of make ?= assignments (not portable). #MsgLength=108


----
Modified: examples/direct/Makefile.am|1 0
Modified: examples/failover/Makefile.am|1 0
Modified: examples/fanout/Makefile.am|1 0
Modified: examples/makedist.mk|3 2
Modified: examples/pub-sub/Makefile.am|1 0
Modified: examples/qmf-console/Makefile.am|1 1
Modified: examples/request-response/Makefile.am|1 0
Modified: examples/tradedemo/Makefile.am|1 0
Modified: examples/xml-exchange/Makefile.am|1 0

Revision: 5e80c48e03a61744baaf9e4f92eb9a77ce594141
Author: Manuel Teira Paz <mteira@apache.org>
Date: 10/03/2009 16:12:13
Message:
qpid/sys/solaris/SystemInfo.cpp - Add a processName() solaris implementation #MsgLength=79


----
Modified: src/qpid/sys/solaris/SystemInfo.cpp|21 2

Revision: 6d36ec8ce60b55a15b8722a2ec706f268252595d
Author: Manuel Teira Paz <mteira@apache.org>
Date: 10/03/2009 16:19:28
Message:
configure.ac: - Add a SOCKLIBS definition, to define needed network libraries in Solaris src/tests/failover_soak.cpp - Replace usage of timersub with direct code, since timersub appears to be non-posix. src/tests/Makefile.am - Link against $(SOCKLIBS) when needed src/tests/* - Some qualifying needed for the Sun compiler #MsgLength=328


----
Modified: configure.ac|7 0
Modified: src/tests/ClientSessionTest.cpp|2 2
Modified: src/tests/DispatcherTest.cpp|1 1
Modified: src/tests/ForkedBroker.cpp|3 0
Modified: src/tests/Makefile.am|3 3
Modified: src/tests/MessageUtils.h|1 1
Modified: src/tests/PollerTest.cpp|1 1
Modified: src/tests/failover_soak.cpp|10 1
Modified: src/tests/txshift.cpp|2 2

Revision: db8dbd4b8f7d634294e65960359a71d73b366611
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2009 20:34:49
Message:
Add missing #includes to build with gcc 4.4. #MsgLength=46


----
Modified: src/qpid/broker/Daemon.h|3 1
Modified: src/qpid/console/ClassKey.cpp|1 0
Modified: src/qpid/framing/Uuid.h|1 0

Revision: 5a179b5ca5e8dc2fb9aaad0bdea466078c74f029
Author: Ted Ross <tross@apache.org>
Date: 10/03/2009 21:00:30
Message:
QPID-1723 - Fixed broken accounting in the headers exchange. #MsgLength=62


----
Modified: src/qpid/broker/HeadersExchange.cpp|27 18

Revision: 5e10b374681658513bde881eb843eb99b95a3eb3
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2009 23:46:09
Message:
Cluster authentication settings default to empty. #MsgLength=51


----
Modified: src/qpid/cluster/ClusterSettings.h|1 1

Revision: 91e752084e081e3850714734fec9a0719f50f9a4
Author: Alan Conway <aconway@apache.org>
Date: 11/03/2009 00:20:39
Message:
Added cluster ACL test, disabled for now as it exposes a memory leak in the SASL client. #MsgLength=90


----
Modified: src/tests/cluster_test.cpp|48 35

Revision: de2bbafc111109e8ce4c8ee239f2b0bc7287a7c8
Author: Manuel Teira Paz <mteira@apache.org>
Date: 11/03/2009 01:25:34
Message:
cpp/configure.ac - Change the SSL detection to use foo-config scripts instead of pkgconfig #MsgLength=94


----
Modified: configure.ac|16 6

Revision: 1646e8f4d24697cb90e740765b5b9319fde4fd41
Author: Manuel Teira Paz <mteira@apache.org>
Date: 11/03/2009 01:26:28
Message:
cpp/src/acl.mk cpp/src/replication.mk - Added solaris specific flags #MsgLength=71


----
Modified: src/acl.mk|4 0
Modified: src/replication.mk|6 0

Revision: 9cfe544e47cf41ec15ceb1b5326c2c14c0dbaa49
Author: Manuel Teira Paz <mteira@apache.org>
Date: 11/03/2009 01:30:06
Message:
Changes in Solaris ECF based poller, to meet the new Poller architecture #MsgLength=74


----
Modified: src/qpid/sys/solaris/ECFPoller.cpp|183 51

Revision: 317695f1a0e01424a3bdb7a790b66def9c191d44
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/03/2009 02:50:48
Message:
Catch up to latest generated source #MsgLength=36


----
Modified: src/common.vcproj|610 1090

Revision: aac14bbd3a768cb260ea8d52bd18299cf91da44f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/03/2009 03:08:18
Message:
Really close the potential race on the client between sending and closing a connection #MsgLength=88


----
Modified: src/qpid/client/Connector.cpp|3 5

Revision: a9a417ba18dff966dd820ea21c4e88f79daa8ad8
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2009 06:48:51
Message:
QPID-1724: Allow replication events to be shared across multiple federations bridges. #MsgLength=88


----
Modified: src/qpid/broker/Queue.cpp|8 0
Modified: src/qpid/replication/ReplicatingEventListener.cpp|57 21
Modified: src/qpid/replication/ReplicatingEventListener.h|5 0
Modified: src/qpid/replication/ReplicationExchange.cpp|1 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/ReplicationTest.cpp|129 0

Revision: 41ec60c29c845f26962b13736c099ca2195d5b35
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2009 00:38:54
Message:
QPID-1725: Revised some lock scopes in management and link registry to avoid deadlocks. #MsgLength=90


----
Modified: src/qpid/broker/LinkRegistry.cpp|30 27
Modified: src/qpid/broker/LinkRegistry.h|1 0
Modified: src/qpid/management/ManagementBroker.cpp|1 0

Revision: 345f55ee1c0ec4a1cff06c8d4d77891632f470bd
Author: Martin Ritchie <ritchiem@apache.org>
Date: 12/03/2009 01:10:57
Message:
Update versions to 0.5 #MsgLength=23


----
Modified: configure.ac|1 1
Modified: src/qpid/Version.h|1 1

Revision: 3db6e0a4c4fc1c1ae0258edc9c5011ce5e5240cd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/03/2009 02:40:54
Message:
Remove race condition in low level IO when throttling input to avoid overloading the clustering service #MsgLength=105


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|7 5

Revision: 4df6453b47a0a1a6d6b67e995977844265e832ca
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2009 04:03:45
Message:
Fix problems buildling on gcc 4.4 and latest corosync. #MsgLength=56


----
Modified: src/qpid/cluster/Cpg.cpp|17 7

Revision: 86e9a69062f4008faab8a5ec0156c02c643de69f
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2009 23:28:02
Message:
QPID-1728: Avoid logging error messages on 'shadow' connections that are outgoing links. #MsgLength=91


----
Modified: src/qpid/broker/ConnectionHandler.cpp|15 23
Modified: src/qpid/broker/ConnectionHandler.h|4 8

Revision: 165bc0991d6afc84a23ec59545180375bb266299
Author: Gordon Sim <gsim@apache.org>
Date: 13/03/2009 01:05:29
Message:
QPID-1729: trivial cleanup for shutdown in the case that perftest loses connection(s). #MsgLength=89


----
Modified: src/tests/perftest.cpp|4 2

Revision: c30c8bf7ad7f51e1b4b05c7a6891e7d58202ee08
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/03/2009 04:55:34
Message:
Changes to build DLLs instead of static libs on Windows; primarily added decorators to exported names. Fixes QPID-1673 #MsgLength=119


----
Modified: docs/api/developer.doxygen.in|3 3
Modified: docs/api/user.doxygen.in|1 1
Added: examples/direct/direct_declare_queues.vcproj|374 0
Added: examples/direct/direct_direct_producer.vcproj|374 0
Added: examples/direct/direct_listener.vcproj|374 0
Modified: examples/direct/direct_producer.cpp|0 1
Modified: examples/direct/listener.cpp|0 1
Added: examples/examples.sln|213 0
Added: examples/failover/failover_declare_queues.vcproj|374 0
Added: examples/failover/failover_replaying_sender.vcproj|374 0
Added: examples/failover/failover_resuming_receiver.vcproj|374 0
Added: examples/fanout/fanout_fanout_producer.vcproj|374 0
Added: examples/fanout/fanout_listener.vcproj|374 0
Modified: examples/fanout/fanout_producer.cpp|0 1
Modified: examples/fanout/listener.cpp|0 1
Added: examples/pub-sub/pub_sub_topic_listener.vcproj|374 0
Added: examples/pub-sub/pub_sub_topic_publisher.vcproj|374 0
Modified: examples/pub-sub/topic_listener.cpp|0 1
Modified: examples/pub-sub/topic_publisher.cpp|0 1
Modified: examples/qmf-console/ping.cpp|2 1
Modified: examples/qmf-console/printevents.cpp|1 1
Added: examples/qmf-console/qmf_console_console.vcproj|374 0
Added: examples/qmf-console/qmf_console_ping.vcproj|374 0
Added: examples/qmf-console/qmf_console_printevents.vcproj|374 0
Added: examples/qmf-console/qmf_console_queuestats.vcproj|374 0
Modified: examples/qmf-console/queuestats.cpp|2 1
Modified: examples/request-response/client.cpp|0 1
Added: examples/request-response/request_response_client.vcproj|374 0
Added: examples/request-response/request_response_server.vcproj|374 0
Modified: examples/request-response/server.cpp|0 1
Modified: examples/tradedemo/topic_listener.cpp|0 1
Modified: examples/tradedemo/topic_publisher.cpp|1 1
Added: examples/tradedemo/tradedemo_declare_queues.vcproj|374 0
Added: examples/tradedemo/tradedemo_topic_listener.vcproj|374 0
Added: examples/tradedemo/tradedemo_topic_publisher.vcproj|374 0
Modified: rubygen/framing.0-10/MethodBodyDefaultVisitor.rb|2 1
Modified: rubygen/framing.0-10/OperationsInvoker.rb|2 1
Modified: rubygen/framing.0-10/Proxy.rb|4 2
Modified: rubygen/framing.0-10/Session.rb|6 4
Modified: rubygen/framing.0-10/constants.rb|2 1
Modified: rubygen/framing.0-10/structs.rb|14 13
Modified: src/Makefile.am|4 1
Modified: src/broker.vcproj|45 46
Modified: src/client.vcproj|71 29
Modified: src/common.vcproj|71 29
Modified: src/qmfc.mk|2 0
Modified: src/qmfconsole.vcproj|71 29
Modified: src/qpid.sln|54 40
Modified: src/qpid/Address.h|3 3
Added: src/qpid/CommonImportExport.h|33 0
Modified: src/qpid/DataDir.h|3 2
Modified: src/qpid/Exception.h|8 8
Modified: src/qpid/Modules.h|4 3
Modified: src/qpid/Options.h|17 9
Modified: src/qpid/Plugin.h|10 9
Modified: src/qpid/SessionId.h|6 5
Modified: src/qpid/SessionState.h|34 33
Modified: src/qpid/StringUtils.h|4 2
Modified: src/qpid/Url.h|9 8
Modified: src/qpid/amqp_0_10/Connection.h|3 2
Modified: src/qpid/amqp_0_10/SessionHandler.h|28 27
Modified: src/qpid/broker/Broker.h|10 8
Added: src/qpid/broker/BrokerImportExport.h|33 0
Modified: src/qpid/broker/BrokerSingleton.h|2 1
Modified: src/qpid/broker/DeliverableMessage.h|5 4
Modified: src/qpid/broker/DeliveryRecord.h|10 10
Modified: src/qpid/broker/DirectExchange.h|17 7
Modified: src/qpid/broker/DtxBuffer.h|4 3
Modified: src/qpid/broker/DtxWorkRecord.h|8 6
Modified: src/qpid/broker/Exchange.h|4 3
Modified: src/qpid/broker/ExchangeRegistry.h|11 6
Modified: src/qpid/broker/ExpiryPolicy.h|4 3
Modified: src/qpid/broker/FanOutExchange.h|17 8
Modified: src/qpid/broker/HeadersExchange.h|18 9
Modified: src/qpid/broker/IncompleteMessageList.h|5 4
Modified: src/qpid/broker/Message.h|12 11
Modified: src/qpid/broker/MessageBuilder.h|5 3
Modified: src/qpid/broker/NullMessageStore.h|44 35
Modified: src/qpid/broker/PersistableMessage.h|11 8
Modified: src/qpid/broker/Queue.h|28 20
Modified: src/qpid/broker/QueueCleaner.h|3 2
Modified: src/qpid/broker/QueueEvents.h|10 8
Modified: src/qpid/broker/QueuePolicy.h|14 12
Modified: src/qpid/broker/QueueRegistry.h|11 7
Modified: src/qpid/broker/RetryList.h|4 3
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/Timer.h|6 5
Modified: src/qpid/broker/TopicExchange.h|20 10
Modified: src/qpid/broker/TxBuffer.h|6 5
Modified: src/qpid/broker/TxPublish.h|7 6
Added: src/qpid/client/ClientImportExport.h|33 0
Modified: src/qpid/client/Connection.h|14 13
Modified: src/qpid/client/ConnectionSettings.h|4 3
Modified: src/qpid/client/FailoverManager.h|6 5
Modified: src/qpid/client/Future.h|4 3
Modified: src/qpid/client/FutureResult.h|3 1
Modified: src/qpid/client/Handle.h|11 9
Modified: src/qpid/client/LocalQueue.h|8 7
Modified: src/qpid/client/Message.h|10 9
Modified: src/qpid/client/MessageListener.h|2 1
Modified: src/qpid/client/MessageReplayTracker.h|8 8
Modified: src/qpid/client/QueueOptions.h|24 22
Modified: src/qpid/client/SessionBase_0_10.h|16 15
Modified: src/qpid/client/Subscription.h|21 20
Modified: src/qpid/client/SubscriptionImpl.h|19 18
Modified: src/qpid/client/SubscriptionManager.h|25 24
Modified: src/qpid/console/Agent.h|3 2
Modified: src/qpid/console/Broker.h|7 5
Modified: src/qpid/console/ClassKey.h|3 2
Added: src/qpid/console/ConsoleImportExport.h|33 0
Modified: src/qpid/console/ConsoleListener.h|2 1
Modified: src/qpid/console/Event.h|18 15
Modified: src/qpid/console/Object.h|34 30
Modified: src/qpid/console/ObjectId.h|3 2
Modified: src/qpid/console/Package.h|1 0
Modified: src/qpid/console/SequenceManager.h|3 2
Modified: src/qpid/console/SessionManager.h|19 13
Modified: src/qpid/framing/AMQBody.h|3 2
Modified: src/qpid/framing/AMQContentBody.h|12 11
Modified: src/qpid/framing/AMQFrame.h|11 10
Modified: src/qpid/framing/AMQHeaderBody.h|7 6
Modified: src/qpid/framing/AMQHeartbeatBody.h|3 2
Modified: src/qpid/framing/AMQMethodBody.h|2 2
Modified: src/qpid/framing/AccumulatedAck.h|9 8
Modified: src/qpid/framing/Array.h|26 25
Modified: src/qpid/framing/Buffer.h|46 45
Modified: src/qpid/framing/FieldTable.h|34 33
Modified: src/qpid/framing/FieldValue.h|14 13
Modified: src/qpid/framing/FrameSet.h|10 9
Modified: src/qpid/framing/ProtocolInitiation.h|8 7
Modified: src/qpid/framing/ProtocolVersion.h|9 8
Modified: src/qpid/framing/Proxy.h|10 8
Modified: src/qpid/framing/SendContent.h|3 2
Modified: src/qpid/framing/SequenceNumber.h|14 13
Modified: src/qpid/framing/SequenceNumberSet.h|4 3
Modified: src/qpid/framing/SequenceSet.h|9 8
Modified: src/qpid/framing/StructHelper.h|1 0
Modified: src/qpid/framing/TransferContent.h|14 13
Modified: src/qpid/framing/Uuid.h|7 6
Modified: src/qpid/log/Logger.h|16 15
Modified: src/qpid/log/Options.h|4 3
Modified: src/qpid/log/OstreamOutput.h|2 2
Modified: src/qpid/log/Selector.h|4 3
Modified: src/qpid/log/Statement.h|3 3
Modified: src/qpid/log/windows/SinkOptions.h|4 4
Modified: src/qpid/management/Manageable.h|2 1
Modified: src/qpid/management/ManagementObject.h|16 15
Modified: src/qpid/sys/AggregateOutput.h|8 7
Modified: src/qpid/sys/AsynchIO.h|6 6
Modified: src/qpid/sys/AsynchIOHandler.h|14 13
Modified: src/qpid/sys/DispatchHandle.h|14 14
Modified: src/qpid/sys/Dispatcher.h|4 3
Modified: src/qpid/sys/IOHandle.h|4 2
Modified: src/qpid/sys/PollableCondition.h|7 6
Modified: src/qpid/sys/Poller.h|14 14
Modified: src/qpid/sys/Runnable.h|2 1
Modified: src/qpid/sys/Shlib.h|6 5
Modified: src/qpid/sys/Socket.h|12 12
Modified: src/qpid/sys/StrError.h|2 1
Modified: src/qpid/sys/SystemInfo.h|8 7
Modified: src/qpid/sys/Thread.h|7 6
Modified: src/qpid/sys/Time.h|13 11
Modified: src/qpid/sys/Timer.h|14 14
Added: src/qpid/sys/alloca.h|39 0
Modified: src/qpid/sys/windows/uuid.h|7 6
Added: src/qpidbroker.vcproj|378 0
Modified: src/tests/FieldTable.cpp|1 1
Modified: src/tests/MessageTest.cpp|2 3
Modified: src/tests/ProxyTest.cpp|0 1
Modified: src/tests/TimerTest.cpp|4 0
Modified: src/tests/Uuid.cpp|1 1
Modified: src/tests/client_test.vcproj|17 17
Modified: src/tests/consume.vcproj|17 17
Modified: src/tests/echotest.vcproj|17 17
Modified: src/tests/header_test.vcproj|17 17
Modified: src/tests/latencytest.vcproj|17 17
Modified: src/tests/logging.cpp|14 0
Modified: src/tests/perftest.cpp|4 3
Modified: src/tests/perftest.vcproj|17 17
Modified: src/tests/publish.vcproj|17 17
Modified: src/tests/receiver.vcproj|17 17
Modified: src/tests/sender.vcproj|17 17
Modified: src/tests/shlibtest.vcproj|66 25
Modified: src/tests/tests.sln|145 145
Modified: src/tests/topic_listener.cpp|2 1
Modified: src/tests/topic_listener.vcproj|17 17
Modified: src/tests/topic_publisher.vcproj|17 17
Modified: src/tests/txjob.vcproj|17 17
Modified: src/tests/txshift.vcproj|17 17
Modified: src/tests/txtest.vcproj|17 17
Modified: src/tests/unit_test.vcproj|83 29

Revision: f90d18bb9a621f1689cc027e334bcceda286f480
Author: Gordon Sim <gsim@apache.org>
Date: 13/03/2009 17:18:09
Message:
QPID-1673: Include BrokerImportExport header in distribution list. #MsgLength=69


----
Modified: src/Makefile.am|3 2

Revision: 0f71d96fd6e51fc46050ea091bfe4187563fc173
Author: Gordon Sim <gsim@apache.org>
Date: 13/03/2009 21:23:01
Message:
Remove duplicate '-l' from generated example Makefiles #MsgLength=57


----
Modified: examples/makedist.mk|1 1

Revision: da7af6ce50c39c73693e87fc8e9ed2e4bc0909ae
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/03/2009 05:21:54
Message:
Add PLAIN auth client handling for Windows; fixes QPID-1733 #MsgLength=60


----
Modified: src/Makefile.am|1 0
Modified: src/broker.vcproj|1 1
Modified: src/client.vcproj|4 4
Modified: src/common.vcproj|1 1
Modified: src/qmfconsole.vcproj|1 1
Modified: src/qpid.sln|50 50
Added: src/qpid/client/windows/SaslFactory.cpp|139 0
Modified: src/qpidbroker.vcproj|1 1

Revision: 02906ba21cd0ae2a8e8f91e4013be92c167d1877
Author: Gordon Sim <gsim@apache.org>
Date: 17/03/2009 16:43:29
Message:
QPID-1741: Fix for later versions of boost test API (from Jan Sarenik) #MsgLength=73


----
Modified: src/tests/unit_test.h|8 1

Revision: 09f0cf341084e90ef08d143d38ee896f1ed57b09
Author: Manuel Teira Paz <mteira@apache.org>
Date: 17/03/2009 17:11:17
Message:
Fixes to the Solaris ECFPoller: Extra trace logging and a misplaced event #MsgLength=75


----
Modified: src/qpid/sys/solaris/ECFPoller.cpp|10 4

Revision: 1e28017f31b3ee504672b6c3a30dd7dc9f2f5aee
Author: Manuel Teira Paz <mteira@apache.org>
Date: 17/03/2009 17:13:14
Message:
In testLoggerFormat: Change Logger::FUNCTION test to be aware that not all compilers may implement a __func__ macro -> Compare directly with BOOST_CURRENT_FUNCTION result #MsgLength=177


----
Modified: src/tests/logging.cpp|1 1

Revision: 3410385db6c1801467e2b1477533253a4cf52a98
Author: Manuel Teira Paz <mteira@apache.org>
Date: 17/03/2009 17:14:40
Message:
Fix some bashishms in test scripts Replace usage of seq (not widely available) with a while loop. #MsgLength=100


----
Modified: src/tests/replication_test|22 10
Modified: src/tests/run_header_test|2 1

Revision: 69eae0dd84348de87990d2218f3a5dc40d0462e7
Author: Gordon Sim <gsim@apache.org>
Date: 17/03/2009 17:20:44
Message:
QPID-1740: Update Makefile generation for examples to not use the undocumented Echo variable no longer supported in later autotools (from Jan Sarenik) #MsgLength=153


----
Modified: examples/Makefile.am|6 7
Modified: examples/makedist.mk|9 9

Revision: 27b3a5c1acd362caeed2a220b67fff37e2d685f1
Author: Gordon Sim <gsim@apache.org>
Date: 18/03/2009 00:39:43
Message:
QPID-1744: fix as applied to branch in r755315. #MsgLength=50


----
Modified: src/qpid/broker/Message.cpp|1 0

Revision: a5bb7508d90e7e8f6066db4346d58f15caae0923
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/03/2009 07:19:12
Message:
Correct the handling of end-of-connection cases; fixes QPID-1550 #MsgLength=65


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|10 12

Revision: 096171800f1f67ef3105617065b849e6dde533e1
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/03/2009 07:24:01
Message:
Remove unneeded size_t typedef; fixes QPID-1745 #MsgLength=48


----
Modified: src/qpid/sys/windows/IntegerTypes.h|0 1

Revision: f2e6e41cd0064e9baedcf0725efcfadf8d94b20c
Author: Gordon Sim <gsim@apache.org>
Date: 20/03/2009 03:31:45
Message:
QPID-1740: corrected some whitespace issues and esnured the subdirs var is processed at the right time #MsgLength=105


----
Modified: examples/Makefile.am|1 1
Modified: examples/makedist.mk|1 1

Revision: 23d947c32678054294d90ba5b4d3f30bf1793c36
Author: Gordon Sim <gsim@apache.org>
Date: 20/03/2009 16:54:01
Message:
QPID-1740: further whitespace cleanup #MsgLength=40


----
Modified: examples/Makefile.am|1 1
Modified: examples/makedist.mk|5 5

Revision: 3175b67f9715d6c7523cc75bc0c96dc6640cd20e
Author: Gordon Sim <gsim@apache.org>
Date: 24/03/2009 22:07:25
Message:
QPID-1771: fix as applied to branch as r757807. #MsgLength=50


----
Modified: src/qpid/cluster/Decoder.cpp|3 2
Modified: src/qpid/cluster/EventFrame.cpp|3 1

Revision: b207b4438d503f5bafc13ddb1d5b57891bf77d11
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/03/2009 01:30:00
Message:
Apply patch to s/STATUS_INVALID_PARAMETER/STATUS_PARAMETER_INVALID/ to build on Win7SDK; fixes QPID-1737 #MsgLength=105


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/management/Manageable.cpp|1 1
Modified: src/qpid/management/Manageable.h|1 1
Modified: src/qpid/management/ManagementBroker.cpp|2 2

Revision: 329aaf58c6f27bca47d1ea14e5a886c94bfd51d1
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/03/2009 03:36:21
Message:
Revert r758359 STATUS_INVALID_PARAMETER changes; breaks build. Reopen QPID-1737 #MsgLength=80


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/management/Manageable.cpp|1 1
Modified: src/qpid/management/Manageable.h|1 1
Modified: src/qpid/management/ManagementBroker.cpp|2 2

Revision: f49dccafc8ea52d5d0afa144a4f2913fc31f91c5
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/03/2009 05:04:47
Message:
Enable SocketProxy portability to Windows; fixes QPID-1765 #MsgLength=59


----
Modified: src/tests/SocketProxy.h|70 41

Revision: 7b9143ee57bf21147b86190850f2a8ce94b03776
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/03/2009 03:27:10
Message:
Need to see toFd from tests; related to QPID-1765 #MsgLength=50


----
Modified: src/qpid/sys/windows/IoHandlePrivate.h|2 1

Revision: 47b343a2b0e3f7cad8b07d24d827972146c78a6a
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/03/2009 03:49:04
Message:
Lib tweaks #MsgLength=11


----
Modified: src/tests/client_test.vcproj|1 1
Modified: src/tests/consume.vcproj|1 1
Modified: src/tests/echotest.vcproj|1 1
Modified: src/tests/header_test.vcproj|1 1
Modified: src/tests/latencytest.vcproj|1 1
Modified: src/tests/perftest.vcproj|1 1
Modified: src/tests/publish.vcproj|1 1
Modified: src/tests/receiver.vcproj|1 1
Modified: src/tests/sender.vcproj|1 1
Modified: src/tests/shlibtest.vcproj|1 1
Modified: src/tests/tests.sln|144 144
Modified: src/tests/topic_listener.vcproj|1 1
Modified: src/tests/topic_publisher.vcproj|1 1
Modified: src/tests/txjob.vcproj|1 1
Modified: src/tests/txshift.vcproj|1 1
Modified: src/tests/txtest.vcproj|1 1
Modified: src/tests/unit_test.vcproj|5 5

Revision: 02ee74c7712c32f4bbf11cfb5dd9a9a43ec4422c
Author: Alan Conway <aconway@apache.org>
Date: 30/03/2009 23:25:30
Message:
cpp/src/qpid/client/Handle.h: fix operator!() #MsgLength=47


----
Modified: src/qpid/client/Handle.h|4 1

Revision: 499b875b6dcd51b28e4c4bc52debc9669fe90b39
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2009 02:22:09
Message:
Fix lifecycle issue in ExpiryPolicy - remove deleted messages from unexpired map. #MsgLength=83


----
Modified: src/qpid/broker/ExpiryPolicy.cpp|2 0
Modified: src/qpid/broker/ExpiryPolicy.h|1 0
Modified: src/qpid/broker/Message.cpp|3 1
Modified: src/qpid/cluster/ExpiryPolicy.cpp|7 0
Modified: src/qpid/cluster/ExpiryPolicy.h|1 1

Revision: 024f0edc49dca246ab2240afddcd006e9e46faca
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2009 22:20:05
Message:
cpp/src/tests/failover_soak.cpp: allow it to run with all modules loaded or only the cluster module. cpp/src/tests/run_failover_soak: run failover_soak with all modules loaded by default. #MsgLength=189


----
Modified: src/tests/failover_soak.cpp|37 28
Modified: src/tests/run_failover_soak|2 4

Revision: 2a4ed2011e288b6624fd43b754166693b1203da0
Author: Jonathan Robie <jonathan@apache.org>
Date: 02/04/2009 20:36:59
Message:
Added dependencies for Xerces and XQilla for the optional XML Exchange. #MsgLength=73


----
Modified: INSTALL|3 0

Revision: f6e721c63186051a7c6b7d6baeffbe1281158a01
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2009 22:55:57
Message:
Cluster: fix exception handling if updater fails to connect to  updatee. #MsgLength=74


----
Modified: src/qpid/cluster/Cluster.cpp|7 7
Modified: src/qpid/cluster/Cpg.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|3 4

Revision: cb80508be6b0707c89bb3278611ac8c2a914307b
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2009 18:06:56
Message:
QPID-1785: Prevent session.detach following execution.exception from destroying the connection. #MsgLength=98


----
Modified: src/qpid/client/ConnectionImpl.cpp|5 3

Revision: 905ecee3219871119940bdd6db8571fea3ee6310
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2009 00:17:39
Message:
Add durability option to the cpp failover_soak test. #MsgLength=124


----
Modified: src/tests/declare_queues.cpp|7 3
Modified: src/tests/failover_soak.cpp|31 9
Modified: src/tests/replaying_sender.cpp|14 6
Modified: src/tests/run_failover_soak|2 1

Revision: 5064064514a3c629c30147720bcbdf9822803119
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2009 22:29:04
Message:
Fix issues when cluster is run with persistence enabled. #MsgLength=325


----
Modified: src/cluster.mk|3 0
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|2 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|2 1
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Connection.h|17 0
Modified: src/qpid/broker/ConnectionHandler.cpp|3 0
Modified: src/qpid/broker/SessionHandler.cpp|10 4
Modified: src/qpid/broker/SessionHandler.h|2 1
Modified: src/qpid/cluster/Cluster.cpp|47 11
Modified: src/qpid/cluster/Cluster.h|13 4
Modified: src/qpid/cluster/ClusterMap.cpp|21 22
Modified: src/qpid/cluster/ClusterMap.h|13 7
Modified: src/qpid/cluster/Connection.cpp|36 15
Modified: src/qpid/cluster/Connection.h|10 6
Added: src/qpid/cluster/ErrorCheck.cpp|120 0
Added: src/qpid/cluster/ErrorCheck.h|80 0
Modified: src/qpid/cluster/EventFrame.h|1 0
Modified: src/qpid/cluster/LockedConnectionMap.h|2 0
Modified: src/qpid/cluster/NoOpConnectionOutputHandler.h|1 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|5 4
Modified: src/qpid/cluster/OutputInterceptor.h|3 1
Modified: src/qpid/cluster/UpdateClient.cpp|5 2
Modified: src/tests/BrokerFixture.h|6 4
Modified: src/tests/ClusterFixture.cpp|29 3
Modified: src/tests/ClusterFixture.h|15 3
Modified: src/tests/ForkedBroker.cpp|22 4
Modified: src/tests/ForkedBroker.h|1 0
Modified: src/tests/Makefile.am|7 1
Added: src/tests/PartialFailure.cpp|222 0
Modified: src/tests/cluster.mk|4 2
Modified: src/tests/cluster_test.cpp|6 24
Modified: src/tests/clustered_replication_test|1 0
Modified: src/tests/failover_soak.cpp|1 60
Modified: src/tests/run_failover_soak|1 0
Modified: src/tests/start_cluster|7 5
Added: src/tests/test_store.cpp|146 0
Modified: xml/cluster.xml|15 0

Revision: 348dfd8e352bb365dc965520806074a576b17f51
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/04/2009 20:04:16
Message:
Trivial fix for gcc 4.3 compiler (F10) "may be used uninitialized" error #MsgLength=73


----
Modified: src/tests/test_store.cpp|2 1

Revision: 3cfb9097d9a4aa2f03be468aa4527e863791fbe9
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2009 22:19:12
Message:
Fix regression: close shadow connections belonging to brokers that have left the cluster. #MsgLength=91


----
Modified: src/qpid/cluster/Cluster.cpp|2 2
Modified: src/qpid/cluster/Connection.h|2 1
Added: src/tests/ClusterFailover.cpp|59 0
Modified: src/tests/cluster.mk|1 1

Revision: 1d337599ac533604be1c964c5d83eddddc870f28
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2009 23:03:07
Message:
src/cluster.mk: removed non-existent file. #MsgLength=44


----
Modified: src/cluster.mk|0 1

Revision: 8726c74256531fb4d9c8920f32d6c9bae0113ccd
Author: Alan Conway <aconway@apache.org>
Date: 15/04/2009 23:54:08
Message:
Update client test to use SubscriptionManager. #MsgLength=48


----
Modified: src/tests/client_test.cpp|9 26

Revision: 0bd565d4abbfa2a958068e46963c8a177026c0e3
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 01:45:45
Message:
Cleaned up some un-necessary #include dependencies. Removed un-used LatencyMetric hack. #MsgLength=89


----
Modified: src/qpid/client/Completion.h|2 1
Modified: src/qpid/client/Connection.cpp|1 0
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/Dispatcher.cpp|3 0
Modified: src/qpid/client/Dispatcher.h|1 1
Modified: src/qpid/client/FailoverListener.cpp|3 0
Modified: src/qpid/client/FailoverListener.h|1 0
Modified: src/qpid/client/Future.cpp|1 0
Modified: src/qpid/client/Future.h|0 1
Modified: src/qpid/client/LocalQueue.cpp|1 0
Modified: src/qpid/client/SessionBase_0_10.cpp|1 0
Modified: src/qpid/client/SessionBase_0_10.h|1 3
Modified: src/qpid/cluster/Cluster.cpp|0 3
Modified: src/qpid/cluster/Connection.cpp|0 2
Modified: src/qpid/cluster/Event.h|1 2
Modified: src/qpid/cluster/EventFrame.h|0 1
Modified: src/qpid/cluster/Multicaster.cpp|0 8
Modified: src/qpid/cluster/OutputInterceptor.h|1 2
Modified: src/qpid/cluster/UpdateClient.cpp|2 0
Modified: src/qpid/cluster/UpdateClient.h|1 0
Modified: src/qpid/framing/AMQFrame.h|1 2
Deleted: src/qpid/sys/LatencyMetric.cpp|0 74
Deleted: src/qpid/sys/LatencyMetric.h|0 85

Revision: b03bd1db0a96c18e7f6979cb3658c6eec683dae9
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 01:50:10
Message:
Removed un-used LatencyMetric hack: missed in lat commit. #MsgLength=59


----
Modified: src/qpid/cluster/EventFrame.cpp|1 3
Modified: src/qpid/cluster/Multicaster.h|0 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|0 2

Revision: 65022eb21d819644f239094462aada053f7ff53a
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 04:18:45
Message:
Fix bug in SocketProxy causing occasional hangs in tests. #MsgLength=59


----
Modified: src/tests/SocketProxy.h|2 2

Revision: 16f05e3cbccf53cc99770fc6aa4e0704828dff08
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/04/2009 04:49:06
Message:
Update set of generated source files #MsgLength=37


----
Modified: src/common.vcproj|6 0

Revision: 865340135e5246737f0622f8b3c88e34f879938a
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 05:21:47
Message:
Clean up temporary data directories in tests. #MsgLength=207


----
Modified: src/tests/ForkedBroker.cpp|18 4
Modified: src/tests/ForkedBroker.h|7 1
Modified: src/tests/PartialFailure.cpp|1 4
Modified: src/tests/failover_soak.cpp|4 10

Revision: 4383de6c7faf2a31d2d49600818181f4a83277ee
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 05:34:01
Message:
Removed defunct interop_runner test, was never updated from 0-8 channel API. #MsgLength=78


----
Deleted: src/tests/BasicP2PTest.cpp|0 66
Deleted: src/tests/BasicP2PTest.h|0 46
Deleted: src/tests/BasicPubSubTest.cpp|0 121
Deleted: src/tests/BasicPubSubTest.h|0 51
Modified: src/tests/Makefile.am|0 18
Deleted: src/tests/SimpleTestCaseBase.cpp|0 87
Deleted: src/tests/SimpleTestCaseBase.h|0 89
Deleted: src/tests/TestCase.h|0 64
Deleted: src/tests/interop_runner.cpp|0 251

Revision: 67f23e4baca39d077f149a5e0e00561f887e4ea2
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2009 20:52:52
Message:
Changes missed in previous commit r765285. #MsgLength=44


----
Modified: rubygen/framing.0-10/Session.rb|1 0
Modified: src/Makefile.am|0 2

Revision: b8e04dda9ad35dba3173ce23e536ab9aaf51b8cf
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2009 00:53:22
Message:
Override the executable used by ForkedBroker by setting an env. var. #MsgLength=70


----
Modified: src/tests/ForkedBroker.cpp|2 1
Modified: src/tests/run_failover_soak|2 2

Revision: 747f46d88a533666c381b9f266773ad3180a25b3
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2009 01:40:14
Message:
Fix log message with incorrect level (critical should be debug). #MsgLength=66


----
Modified: src/qpid/cluster/ErrorCheck.cpp|1 1

Revision: a0d4f3fb8349a03bd1337a5ba914223bb10a1278
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/04/2009 22:17:46
Message:
Remove LatencyMetric files #MsgLength=27


----
Modified: src/common.vcproj|0 6

Revision: b5302fa9d8da8c53514fc82c0e597fae98229475
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/04/2009 02:23:06
Message:
Small change to ClusterFixture which allows a different path to the cluster.so lib for persistence testing #MsgLength=107


----
Modified: src/tests/ClusterFixture.cpp|9 9
Modified: src/tests/ClusterFixture.h|8 7

Revision: 80b5d40e0e5c7b8b01075b14c9a6ddb40e6ada48
Author: Alan Conway <aconway@apache.org>
Date: 21/04/2009 06:33:27
Message:
Apply PIMPL pattern to qpid::client::Message. #MsgLength=156


----
Modified: src/Makefile.am|7 3
Modified: src/qpid/client/Dispatcher.cpp|2 1
Modified: src/qpid/client/Handle.h|4 2
Modified: src/qpid/client/HandlePrivate.h|9 3
Modified: src/qpid/client/LocalQueue.cpp|2 1
Modified: src/qpid/client/Message.cpp|22 37
Modified: src/qpid/client/Message.h|37 18
Added: src/qpid/client/MessageImpl.cpp|71 0
Added: src/qpid/client/MessageImpl.h|76 0
Added: src/qpid/client/PrivateImpl.h|54 0
Added: src/qpid/client/PrivateImplPrivate.h|66 0
Modified: src/qpid/client/SessionBase_0_10.h|1 6
Modified: src/qpid/client/SubscriptionImpl.cpp|5 2
Added: src/tests/ClientMessageTest.cpp|46 0
Modified: src/tests/ClientSessionTest.cpp|4 4
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/XmlClientSessionTest.cpp|1 1
Modified: src/tests/cluster_test.cpp|1 0

Revision: 505fb26e6dc51bbe157bebbd3c3fdcf54b9440f0
Author: Alan Conway <aconway@apache.org>
Date: 21/04/2009 22:26:54
Message:
File missed in previous commit. #MsgLength=33


----
Modified: rubygen/framing.0-10/Session.rb|6 4

Revision: b8585651d52c2e189ed527fb3f68c85594061e11
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2009 05:13:05
Message:
Better logging around cpg_init, 30 second retry limit. #MsgLength=56


----
Modified: src/qpid/cluster/Cpg.cpp|6 4

Revision: 35c02c86519447544a405421362914ece1b961af
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2009 05:17:18
Message:
Unit test for PollableCondition. #MsgLength=34


----
Modified: src/tests/Makefile.am|2 1
Added: src/tests/PollableCondition.cpp|117 0

Revision: 9084b3603b77a3dfd8e2f5abc7954d591f532b85
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2009 05:26:03
Message:
Fix valgrind error in PollableCondition unit test. #MsgLength=52


----
Modified: src/tests/PollableCondition.cpp|1 1

Revision: ac5946b66f378a9a7321d2e9f4c8ada171199357
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2009 19:48:32
Message:
Apply PIMPL pattern to client::Completion and client::Future. #MsgLength=63


----
Modified: rubygen/framing.0-10/Session.rb|2 1
Modified: src/Makefile.am|2 0
Added: src/qpid/client/Completion.cpp|38 0
Modified: src/qpid/client/Completion.h|14 20
Added: src/qpid/client/CompletionImpl.h|50 0
Modified: src/qpid/client/Future.h|4 9
Modified: src/qpid/client/SessionBase_0_10.cpp|1 0
Modified: src/qpid/client/SessionBase_0_10.h|1 0
Modified: src/qpid/client/TypedResult.h|5 5
Modified: src/qpid/cluster/UpdateClient.cpp|1 0
Modified: src/tests/AsyncCompletion.cpp|13 0

Revision: c67f3c9583dc94c3d8eb78f28e32787d7309895c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/04/2009 03:32:06
Message:
Fixes to build under Visual Studio 2008 #MsgLength=40


----
Modified: src/qpid/client/LocalQueue.cpp|1 0
Modified: src/qpid/client/Message.h|1 1
Modified: src/qpid/client/Subscription.cpp|1 0
Modified: src/qpid/client/SubscriptionImpl.cpp|1 0

Revision: cb49ccf320f7359b162d46dcb82dc4abc6a544b9
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/04/2009 05:04:03
Message:
Fix compile warning-turned-error #MsgLength=33


----
Modified: src/tests/AsyncCompletion.cpp|1 1

Revision: a3657042a16945516f2b44d8819b471ac59bcb7e
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/04/2009 06:23:59
Message:
Move client::Dispatcher destructor from .cpp to .h to avoid having to export it on Windows; Added new client files to client.vcproj #MsgLength=132


----
Modified: src/client.vcproj|9 0
Modified: src/qpid/client/Dispatcher.cpp|1 4
Modified: src/qpid/client/Dispatcher.h|2 1

Revision: 9e3110d3d971bd0a8d40b2b21c3ab23830600cf9
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/04/2009 06:59:12
Message:
Merge in initial changes to allow building with CMake; rubygen and managementgen can now generate either .mk files or .cmake files as needed; CONF_FILE and MODULE_DIR macros now have broker/client counterparts QPIDD_CONF_FILE, QPIDD_MODULE_DIR, QPIDC_CONF_FILE, QPIDC_MODULE_DIR configurable by cmake #MsgLength=301


----
Added: CMakeLists.txt|40 0
Added: managementgen/CMakeLists.txt|37 0
Modified: managementgen/qmf-gen|8 0
Modified: managementgen/qmfgen/generate.py|91 4
Added: managementgen/qmfgen/templates/CMakeLists.cmake|39 0
Modified: rubygen/generate|50 16
Added: src/CMakeLists.txt|647 0
Modified: src/Makefile.am|2 2
Added: src/cluster.cmake|119 0
Added: src/config.h.cmake|51 0
Modified: src/posix/QpiddBroker.cpp|5 4
Modified: src/qpid/CommonImportExport.h|1 1
Modified: src/qpid/broker/BrokerImportExport.h|1 1
Modified: src/qpid/client/ClientImportExport.h|1 1
Modified: src/qpid/client/LoadPlugins.cpp|3 2
Modified: src/qpid/client/SslConnector.cpp|2 1
Added: src/rdma.cmake|94 0
Added: src/ssl.cmake|105 0
Modified: src/ssl.mk|1 1
Added: src/tests/CMakeLists.txt|253 0
Modified: src/windows/QpiddBroker.cpp|14 11

Revision: ebb6c0781b222b733f731e34d9a7bd25c124afbc
Author: Ted Ross <tross@apache.org>
Date: 25/04/2009 00:35:59
Message:
Added missing const clause for putBin128. #MsgLength=43


----
Modified: src/qpid/framing/Buffer.cpp|1 1
Modified: src/qpid/framing/Buffer.h|1 1

Revision: 41e3e5022f8f257c3db0004553b960368b43ac2c
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/04/2009 03:30:10
Message:
Fix compile error - missing config.h check and QPIDC_MODULE_DIR, QPIDC_CONF_FILE #MsgLength=81


----
Modified: src/client.vcproj|8 8
Modified: src/qpid/client/LoadPlugins.cpp|3 1

Revision: 2610eb84529dfe3711726be6a358c5d288bbd302
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/04/2009 01:56:25
Message:
Add tests; revise checks for C++ headers to uuse C++, not C #MsgLength=60


----
Modified: CMakeLists.txt|4 1
Modified: src/CMakeLists.txt|10 16
Modified: src/tests/CMakeLists.txt|202 158
Modified: src/tests/Shlib.cpp|26 2

Revision: a8978eac1d78013ea6baff387ecc665919e9db29
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2009 04:57:58
Message:
Ensure socket is closed when exception occurs during encode/decode. #MsgLength=70


----
Modified: src/qpid/client/Connector.cpp|3 1

Revision: 32a037ec4d8d482c63b6a051f5036a07a16c83f1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2009 05:51:54
Message:
Fixed to allow use of cmake 2.4 Fixes to allow cmake to build all the plugin modules as before #MsgLength=96


----
Modified: CMakeLists.txt|5 1
Modified: managementgen/CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|10 9
Modified: src/cluster.cmake|6 6
Modified: src/config.h.cmake|3 0
Modified: src/rdma.cmake|9 5
Modified: src/ssl.cmake|22 36

Revision: df7852d4592b3a02c00cd12a7307c4a3750e2896
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2009 06:14:50
Message:
Removed code that prevents cmake build from raw checkout #MsgLength=58


----
Modified: src/CMakeLists.txt|0 3

Revision: f5b5c8093a0ddb8477df48ffffbe9f85347ba400
Author: Alan Conway <aconway@apache.org>
Date: 30/04/2009 04:29:53
Message:
Improved & simplified cluster output algorithm. #MsgLength=49


----
Modified: src/cluster.mk|0 2
Modified: src/qpid/cluster/Cluster.cpp|0 2
Modified: src/qpid/cluster/Cluster.h|2 5
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 1
Modified: src/qpid/cluster/ClusterSettings.h|2 2
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/Connection.h|0 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|24 22
Modified: src/qpid/cluster/OutputInterceptor.h|4 4
Deleted: src/qpid/cluster/WriteEstimate.cpp|0 64
Deleted: src/qpid/cluster/WriteEstimate.h|0 69

Revision: 6eff1d91a8ab82bcd026bd1d5545a493852bd295
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/04/2009 06:24:07
Message:
Fix locating of LIBCPG; removed deleted WriteEstimate.cpp, .h files #MsgLength=68


----
Modified: src/cluster.cmake|4 7

Revision: f4077b626ba1a8ce6b2c2d27c69f9788c1b38c2b
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/04/2009 07:34:33
Message:
Pass platform's shared lib prefix, suffix to test progs that need it; use it to pick up proper file for libtool/cmake/Windows #MsgLength=126


----
Modified: src/tests/CMakeLists.txt|7 0
Modified: src/tests/ReplicationTest.cpp|6 0
Modified: src/tests/Shlib.cpp|12 25

Revision: 35f9c1d963c8d3b06975b4bf326ecd78ae0a018e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/05/2009 01:16:06
Message:
Made cmake config more like the autotools version - By default if it detects a dependency it will build the module that needs it, otherwise it won't - It can be forced to build modules so that automated builds that have required outputs can fail config #MsgLength=258


----
Modified: src/CMakeLists.txt|30 14
Modified: src/cluster.cmake|33 17
Modified: src/rdma.cmake|13 5
Modified: src/ssl.cmake|12 6

Revision: fa6a0bf5c39130b01601cb10c0521a10f857254b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/05/2009 01:31:25
Message:
Fixed testShlib and testAutoShlib path typo #MsgLength=44


----
Modified: src/tests/Shlib.cpp|2 2

Revision: 516420c2b2ec49fc6d5d70258ab4810ba34e7022
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/05/2009 05:09:51
Message:
Add extern for run() so tests can link correctly on Windows #MsgLength=60


----
Modified: src/qpid/client/Dispatcher.h|4 1

Revision: cf17aebfcef1ac434beb0a0d1af624eae435a6bb
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/05/2009 05:11:42
Message:
Help more tests run #MsgLength=20


----
Modified: src/tests/CMakeLists.txt|22 39
Modified: src/tests/quick_topictest|1 1

Revision: 87c22fc97f42ee13310d079a3c1a559fc8b7d02d
Author: Alan Conway <aconway@apache.org>
Date: 01/05/2009 22:53:05
Message:
Cleaned up PIMPL pattern for public API #MsgLength=177


----
Modified: src/Makefile.am|1 3
Modified: src/qpid/client/Completion.cpp|7 5
Modified: src/qpid/client/Completion.h|14 8
Modified: src/qpid/client/Handle.h|13 10
Deleted: src/qpid/client/HandleAccess.h|0 41
Deleted: src/qpid/client/HandlePrivate.h|0 67
Modified: src/qpid/client/LocalQueue.cpp|4 3
Modified: src/qpid/client/Message.cpp|11 5
Modified: src/qpid/client/Message.h|11 7
Modified: src/qpid/client/MessageImpl.h|5 1
Deleted: src/qpid/client/PrivateImpl.h|0 54
Deleted: src/qpid/client/PrivateImplPrivate.h|0 66
Added: src/qpid/client/PrivateImplRef.h|93 0
Modified: src/qpid/client/Subscription.cpp|6 2
Modified: src/qpid/client/Subscription.h|9 2
Modified: src/qpid/client/SubscriptionImpl.cpp|3 4
Modified: src/qpid/client/TypedResult.h|1 1

Revision: 4d5d1e8ca27149214af852de723432ed9bba1008
Author: Alan Conway <aconway@apache.org>
Date: 01/05/2009 23:45:28
Message:
Code generator changes missed on last commit. #MsgLength=47


----
Modified: rubygen/framing.0-10/Session.rb|3 2

Revision: d76583135f8121b11ba511e7da0488df2dc9959b
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2009 00:00:43
Message:
Remove workaround for buggy corosync headers, no longer needed. #MsgLength=65


----
Modified: src/qpid/cluster/Cpg.cpp|3 7

Revision: 9ffd81d34afd31162f3c2ac8e20807c848f5e184
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2009 01:05:00
Message:
Apply PIMPL pattern to qpid::client::LocalQueue #MsgLength=49


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/Completion.h|0 1
Modified: src/qpid/client/LocalQueue.cpp|11 40
Modified: src/qpid/client/LocalQueue.h|13 9
Added: src/qpid/client/LocalQueueImpl.cpp|78 0
Added: src/qpid/client/LocalQueueImpl.h|108 0
Modified: src/qpid/client/SubscriptionManager.cpp|6 3

Revision: 0034fb672985491ba71df37335c24061df005a4c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/05/2009 03:17:59
Message:
Cluster test code now has a persistence switch controlled by the environment. When this switch set, all brokers start with the store module loaded, all queues are declared persistent and all messages are also made persistent. The absolute paths to module libs hardcoded into the test fixtures have been replaced by paths relative to environment variable QPID_LIB_DIR (which is set in Makefile.am). The cluster test, when run from qpid, will continue to run without persistence by default; the intention is to have the store test code run this test directly with the switch turned on. #MsgLength=584


----
Modified: src/tests/ClusterFailover.cpp|4 1
Modified: src/tests/ClusterFixture.cpp|4 9
Modified: src/tests/ClusterFixture.h|2 6
Modified: src/tests/Makefile.am|7 1
Modified: src/tests/PartialFailure.cpp|19 11
Modified: src/tests/cluster_test.cpp|130 84
Modified: src/tests/test_tools.h|9 0

Revision: 834a32ee4e9b0b1305fc72ad35fea89ed94c790d
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2009 03:59:57
Message:
Replace std::list with std::deque for SemanticState::unacked - more efficient, improves latency. #MsgLength=98


----
Modified: src/qpid/broker/DeliveryRecord.cpp|2 2
Modified: src/qpid/broker/DeliveryRecord.h|8 10
Modified: src/qpid/broker/DtxAck.cpp|2 2
Modified: src/qpid/broker/DtxAck.h|2 2
Modified: src/qpid/broker/SemanticState.cpp|4 4
Modified: src/qpid/broker/TxAccept.cpp|2 2

Revision: 6b03b86d89b0590ff779ebae9858119b8230ff0e
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/05/2009 04:14:39
Message:
Add qpidbroker.vcproj to windows_dist files; fixes QPID-1835 #MsgLength=61


----
Modified: src/Makefile.am|1 0

Revision: 16afecf8c821b142df75e7ea30a1049dca2fbd3b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/05/2009 05:28:21
Message:
Fixed CMake build #MsgLength=19


----
Modified: src/CMakeLists.txt|2 2

Revision: 40a6b1a4ea0a2606e90f5a78ad53a7acd87d6bc2
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/05/2009 05:50:06
Message:
Add Visual Studio sln/vcproj files to EXTRA_DIST to include them in releases; fixes QPID-1836 #MsgLength=94


----
Modified: examples/Makefile.am|1 1
Modified: examples/direct/Makefile.am|4 2
Modified: examples/failover/Makefile.am|5 0
Modified: examples/fanout/Makefile.am|3 6
Modified: examples/pub-sub/Makefile.am|3 6
Modified: examples/qmf-console/Makefile.am|5 0
Modified: examples/request-response/Makefile.am|3 6
Modified: examples/tradedemo/Makefile.am|4 4
Modified: src/tests/Makefile.am|18 1

Revision: 357ed199d7042d6ef471554b0f943da657997310
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/05/2009 11:52:37
Message:
Some more fixes to build under Visual Studio 2008 Remove some simple Visual Studio 2008 warnings Fix qmfconsole build under Windows and CMake #MsgLength=142


----
Modified: src/qpid/Plugin.h|1 1
Modified: src/qpid/acl/Acl.cpp|2 1
Modified: src/qpid/broker/DeliveryRecord.h|12 11
Modified: src/qpid/broker/Exchange.h|8 8
Modified: src/qpid/broker/ExchangeRegistry.h|3 5
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/Queue.h|3 3
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|5 2
Modified: src/qpid/client/Connector.cpp|1 1
Modified: src/qpid/console/ConsoleImportExport.h|1 1
Modified: src/tests/FieldTable.cpp|1 1
Modified: src/tests/header_test.cpp|1 1

Revision: 76b930dfac0466bb5d5c8ce83b76488c9c92735b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/05/2009 12:04:00
Message:
Fixed ExchangeRegistry definitions to match changed declarations in previous checkin #MsgLength=86


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|2 4

Revision: 6736472a4054387b2ca5cab07ba4f2c9f0256250
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/05/2009 23:55:21
Message:
Refactored the DispatchHandle/Poller code to remove a long standing set of race conditions. - Changed Poller naming for better clarity with new semantics. - Changed Poller semantics to avoid DispatchHandle keeping so much state - Changed Poller so that it will never re-enable a Handle until Poller::wait is called again on the same thread that returned the Handle. #MsgLength=375


----
Modified: src/qpid/cluster/PollerDispatch.cpp|4 0
Modified: src/qpid/cluster/PollerDispatch.h|4 1
Modified: src/qpid/sys/DispatchHandle.cpp|116 278
Modified: src/qpid/sys/DispatchHandle.h|6 13
Modified: src/qpid/sys/Poller.h|5 4
Modified: src/qpid/sys/epoll/EpollPoller.cpp|129 49
Modified: src/qpid/sys/posix/AsynchIO.cpp|5 0
Modified: src/qpid/sys/windows/AsynchIO.cpp|4 4
Modified: src/qpid/sys/windows/IocpPoller.cpp|4 4
Modified: src/qpid/sys/windows/PollableCondition.cpp|3 3
Modified: src/tests/PollerTest.cpp|33 25

Revision: 17cc1e2dfbc5532876e78cc780b05012f8414bf3
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 00:37:21
Message:
Undo buggy commit 770802. #MsgLength=27


----
Modified: src/qpid/broker/DeliveryRecord.h|6 5
Modified: src/qpid/broker/SemanticState.cpp|4 4

Revision: aca4ccfc512eaf073bf90fce35f05521dce91609
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 01:22:33
Message:
Applied PIMPL pattern to SubscriptionManager. #MsgLength=82


----
Modified: src/Makefile.am|27 2
Modified: src/qpid/client/LocalQueueImpl.h|1 1
Modified: src/qpid/client/PrivateImplRef.h|3 2
Modified: src/qpid/client/Subscription.cpp|1 1
Modified: src/qpid/client/Subscription.h|1 1
Modified: src/qpid/client/SubscriptionImpl.cpp|6 3
Modified: src/qpid/client/SubscriptionImpl.h|6 4
Modified: src/qpid/client/SubscriptionManager.cpp|35 94
Modified: src/qpid/client/SubscriptionManager.h|21 23
Added: src/qpid/client/SubscriptionManagerImpl.cpp|162 0
Added: src/qpid/client/SubscriptionManagerImpl.h|278 0
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/ClientSessionTest.cpp|2 0
Modified: src/tests/echotest.cpp|1 1
Modified: src/tests/exception_test.cpp|1 0
Modified: src/tests/latencytest.cpp|1 0
Modified: src/tests/perftest.cpp|1 0
Modified: src/tests/topic_listener.cpp|1 0
Modified: src/tests/txshift.cpp|2 2
Modified: src/tests/txtest.cpp|1 0

Revision: 42bd83d22570a84137543b30982851b68ff53096
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 02:28:33
Message:
Fix error in Makefile.am. #MsgLength=27


----
Modified: src/Makefile.am|0 23

Revision: e5a50d2ffbec90558eac8469107147b49be6ea56
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 02:33:25
Message:
Add missing ctor initializer. #MsgLength=31


----
Modified: src/qpid/client/SubscriptionManager.cpp|1 1

Revision: b5b794f6ab8175cac5425fd56430639b9b39f2d6
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 02:38:18
Message:
LatenchTracker: a tool for measuring latencies. #MsgLength=92


----
Modified: src/cluster.mk|2 1
Modified: src/qpid/cluster/Cluster.cpp|14 7
Added: src/qpid/sys/LatencyTracker.h|104 0

Revision: 674d7248fffdc7c72626444564fe5c11678a38ed
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 05:29:41
Message:
Fix issue with python clients to cluster, mis handling of channel 0. #MsgLength=214


----
Modified: src/qpid/client/ConnectionImpl.cpp|4 1
Modified: src/qpid/client/ConnectionImpl.h|4 2

Revision: 8660d935815cee17fa458353004ccef80752c646
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/05/2009 05:44:59
Message:
Add portability support for QMF agent, thanks to Pete McKinnon - partially fixes QPID-1731 #MsgLength=91


----
Modified: examples/README|13 1
Modified: examples/qmf-agent/example.cpp|4 2
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|4 1
Modified: src/qpid/agent/ManagementAgent.h|4 3
Modified: src/qpid/agent/ManagementAgentImpl.cpp|18 25
Modified: src/qpid/agent/ManagementAgentImpl.h|2 2
Added: src/qpid/agent/QmfAgentImportExport.h|33 0
Added: src/qpid/sys/PipeHandle.h|51 0
Added: src/qpid/sys/posix/PipeHandle.cpp|64 0
Added: src/qpid/sys/windows/PipeHandle.cpp|65 0

Revision: c51b4adc79979428e908c63ca5366e251953f424
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/05/2009 05:58:50
Message:
Add missing file to CMake #MsgLength=27


----
Modified: src/CMakeLists.txt|1 0

Revision: 38d9ce5b74c5cbae0a31eb54405cd645368dc407
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/05/2009 07:11:49
Message:
Add new files to client project #MsgLength=32


----
Modified: src/client.vcproj|12 0
Modified: src/qpid/client/LocalQueue.h|1 1

Revision: c3ca75c7fd23615b47b0afb54cf73046e94b22f4
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/05/2009 07:12:57
Message:
Add qmf agent project for Windows; fixes more of QPID-1731 #MsgLength=59


----
Modified: src/common.vcproj|3 0
Added: src/qmfagent.vcproj|403 0
Modified: src/qpid.sln|13 0

Revision: e99659db75d6f09a98a0bffba85afe0558175359
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2009 18:05:33
Message:
Add extra file to list of headers. #MsgLength=37


----
Modified: src/qmf.mk|2 1

Revision: 23eaf2353cae80f96515026dac378598349742b5
Author: Alan Conway <aconway@apache.org>
Date: 05/05/2009 21:36:31
Message:
Added #include Thread.h for backwards compatibility. #MsgLength=54


----
Modified: src/qpid/client/SubscriptionManager.h|6 5

Revision: 696c65790d0635eb0a8f16e4712a1a8e52bb4245
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/05/2009 22:50:46
Message:
Add Visuql Studio files for qmf-agent example; finishes QPID-1731 additions #MsgLength=76


----
Modified: examples/examples.sln|2 0
Added: examples/qmf-agent/example_gen.mak|10 0
Added: examples/qmf-agent/qmf_agent.vcproj|422 0

Revision: 96520ef1cf31d3dd6b907e7622bba60414535297
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/05/2009 23:11:37
Message:
Adjust lib settings and references to main qpid libs #MsgLength=53


----
Modified: examples/qmf-agent/qmf_agent.vcproj|4 3
Modified: examples/qmf-console/qmf_console_ping.vcproj|64 39

Revision: 1345a9f7b4e93f6e58372b154ea4bd41e883d839
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/05/2009 01:51:47
Message:
Changed name of store switch environment variable #MsgLength=50


----
Modified: src/tests/cluster_test.cpp|24 24

Revision: 7bcfc76fdc64d9ff90f2ec20c39da227c22c9229
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/05/2009 06:13:18
Message:
Hack around the namespace pollution in QPID-1737 Hack around simultaneous import and definition of ManagementAgent::Singleton in qpidbroker Make ACL plugin optional (default off on Windows currently) #MsgLength=201


----
Modified: src/CMakeLists.txt|17 9
Modified: src/qpid/agent/QmfAgentImportExport.h|1 1
Modified: src/qpid/sys/windows/Condition.h|1 0
Modified: src/qpid/sys/windows/Mutex.h|1 0
Modified: src/qpid/sys/windows/uuid.cpp|5 0
Modified: src/qpid/sys/windows/uuid.h|1 5

Revision: a1048a13078bd0b11e6800f767c53c964a419bc2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/05/2009 06:26:53
Message:
Get the sense of the BUILD_ACL option the correct way round #MsgLength=61


----
Modified: src/CMakeLists.txt|2 2

Revision: b31d23fe304b908c458c88c92b6ec098163529f8
Author: Alan Conway <aconway@apache.org>
Date: 06/05/2009 20:44:35
Message:
Remove client::Execution and FrameSet from the public API. #MsgLength=60


----
Modified: src/qpid/client/Connection.h|1 0
Modified: src/qpid/client/Dispatcher.cpp|3 3
Modified: src/qpid/client/Dispatcher.h|1 0
Modified: src/qpid/client/SessionBase_0_10.cpp|0 7
Modified: src/qpid/client/SessionBase_0_10.h|1 6
Modified: src/qpid/client/SessionBase_0_10Access.h|1 1
Modified: src/qpid/client/SubscriptionImpl.cpp|5 1
Modified: src/qpid/framing/AMQHeaderBody.h|0 2
Modified: src/qpid/framing/amqp_types.h|3 0
Modified: src/tests/ClientSessionTest.cpp|1 2

Revision: eb8891f07248ad874a756f0372a091a8e69aa5da
Author: Alan Conway <aconway@apache.org>
Date: 06/05/2009 22:59:23
Message:
Remove useless qpid/shared_ptr.h wrapper. #MsgLength=43


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/acl/Acl.h|0 1
Modified: src/qpid/acl/AclPlugin.cpp|1 1
Modified: src/qpid/broker/AclModule.h|1 2
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/SemanticState.h|0 1
Modified: src/qpid/broker/SessionAdapter.h|3 3
Modified: src/qpid/broker/TxOpVisitor.h|0 3
Modified: src/qpid/client/CompletionImpl.h|3 2
Modified: src/qpid/client/Connection.cpp|3 3
Modified: src/qpid/client/SessionBase_0_10.h|0 1
Modified: src/qpid/client/SessionImpl.cpp|4 3
Modified: src/qpid/client/SessionImpl.h|6 6
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|11 8
Modified: src/qpid/framing/AMQMethodBody.h|2 2
Modified: src/qpid/framing/Handler.h|1 1
Deleted: src/qpid/shared_ptr.h|0 51
Modified: src/qpid/xml/XmlExchangePlugin.cpp|1 1
Modified: src/tests/TxPublishTest.cpp|3 3

Revision: de0d6e2074a53bd8695cdc89ddc10c63fe643a02
Author: Alan Conway <aconway@apache.org>
Date: 07/05/2009 01:58:50
Message:
DeliveryRecord optimizations. #MsgLength=128


----
Modified: src/qpid/broker/DeliveryRecord.cpp|9 37
Modified: src/qpid/broker/DeliveryRecord.h|22 21
Modified: src/qpid/broker/SemanticState.cpp|10 10
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/TxAccept.cpp|3 8
Modified: src/tests/DeliveryRecordTest.cpp|1 1

Revision: 8c3cc240f929e8ae657711c15c6974f27e6f5697
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/05/2009 23:38:43
Message:
More work on cmake: Get many more tests working on Linux now #MsgLength=62


----
Modified: src/tests/CMakeLists.txt|14 12
Added: src/tests/test_wrap|48 0

Revision: 1f26bc965428155eaa4bb555f0407ecfa36cb5b0
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2009 03:48:28
Message:
Use set for efficient insert/remove rather than list. #MsgLength=55


----
Modified: src/qpid/broker/QueueListeners.cpp|7 19
Modified: src/qpid/broker/QueueListeners.h|2 6

Revision: b4395b559703d9d6cac7f6b99d1fc40b62883aa1
Author: Kim van der Riet <kpvdr@apache.org>
Date: 08/05/2009 22:25:34
Message:
Fixed cluster store problem where second and subsequent cluster nodes (which are persistent) to join a cluster fail with a "Exchange already exists: amq.direct (MessageStoreImpl.cpp:488)" message. To do this a new method was added to MessageStore called discardInit() which will throw away all restored data (if any) and restart as though no restore had taken place. #MsgLength=367


----
Modified: src/qpid/broker/Broker.cpp|19 17
Modified: src/qpid/broker/MessageStore.h|33 21
Modified: src/qpid/broker/MessageStoreModule.cpp|10 5
Modified: src/qpid/broker/MessageStoreModule.h|6 5
Modified: src/qpid/broker/NullMessageStore.cpp|10 11
Modified: src/qpid/broker/NullMessageStore.h|5 4

Revision: 23a79e1380bec4249571c00a0223c484c30f31b2
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/05/2009 00:29:26
Message:
Help 'make check' produce familiar output #MsgLength=42


----
Modified: CMakeLists.txt|1 1

Revision: c294608e41aa611b940c24198c68046890cca1fa
Author: Jonathan Robie <jonathan@apache.org>
Date: 09/05/2009 03:35:22
Message:
Include non-keyword versions of the session classes for documentation of parameters. #MsgLength=87


----
Modified: docs/api/user.doxygen.in|1 1

Revision: 2e0174f63f34a88224d62c37aa5d9d2bf0253f35
Author: Ted Ross <tross@apache.org>
Date: 09/05/2009 03:48:48
Message:
Fixed a minor typo #MsgLength=19


----
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 1

Revision: cec2483cbecc2a1dad72172deeaeb189f358114b
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/05/2009 04:37:07
Message:
Add examples building to cmake build #MsgLength=37


----
Modified: CMakeLists.txt|2 1
Added: examples/CMakeLists.txt|51 0
Added: examples/direct/CMakeLists.txt|22 0
Added: examples/failover/CMakeLists.txt|22 0
Added: examples/fanout/CMakeLists.txt|21 0
Added: examples/pub-sub/CMakeLists.txt|21 0
Added: examples/qmf-console/CMakeLists.txt|23 0
Added: examples/request-response/CMakeLists.txt|21 0
Added: examples/tradedemo/CMakeLists.txt|22 0
Added: examples/xml-exchange/CMakeLists.txt|22 0

Revision: d44f85d821761819fb4c521b245f6b0148fb6df2
Author: Gordon Sim <gsim@apache.org>
Date: 11/05/2009 20:21:40
Message:
Added method to test validity of session object. #MsgLength=51


----
Modified: src/qpid/client/SessionBase_0_10.cpp|2 0
Modified: src/qpid/client/SessionBase_0_10.h|2 0
Modified: src/tests/ClientSessionTest.cpp|7 0

Revision: 9c35810aca491f41666eb12a6469f682fd1dea5f
Author: Alan Conway <aconway@apache.org>
Date: 11/05/2009 21:11:42
Message:
Fix leak of Decoder map entries. #MsgLength=34


----
Modified: src/qpid/cluster/Cluster.cpp|1 0
Modified: src/qpid/cluster/Decoder.cpp|7 8
Modified: src/qpid/cluster/Decoder.h|2 0

Revision: 96a2b962758151a58cf4ea5ca9cd17e29bf56267
Author: Ted Ross <tross@apache.org>
Date: 11/05/2009 22:16:52
Message:
QPID-1843 - Cleaned up the interface to the broker's internal management agent. #MsgLength=81


----
Modified: managementgen/qmf-gen|15 7
Modified: managementgen/qmfgen/generate.py|16 4
Modified: managementgen/qmfgen/schema.py|9 0
Modified: managementgen/qmfgen/templates/Class.cpp|3 4
Modified: managementgen/qmfgen/templates/Class.h|6 0
Modified: managementgen/qmfgen/templates/Event.cpp|1 1
Modified: managementgen/qmfgen/templates/Package.h|1 1
Modified: src/Makefile.am|3 3
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/acl/Acl.h|1 1
Modified: src/qpid/broker/Bridge.cpp|3 3
Modified: src/qpid/broker/Broker.cpp|11 12
Modified: src/qpid/broker/Broker.h|3 2
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/DirectExchange.cpp|3 3
Modified: src/qpid/broker/DirectExchange.h|2 2
Modified: src/qpid/broker/Exchange.cpp|29 29
Modified: src/qpid/broker/Exchange.h|5 2
Modified: src/qpid/broker/ExchangeRegistry.cpp|5 5
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/broker/FanOutExchange.cpp|4 4
Modified: src/qpid/broker/FanOutExchange.h|2 2
Modified: src/qpid/broker/HeadersExchange.cpp|4 4
Modified: src/qpid/broker/HeadersExchange.h|2 2
Modified: src/qpid/broker/Link.cpp|3 3
Modified: src/qpid/broker/Link.h|1 1
Modified: src/qpid/broker/Queue.cpp|9 9
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/QueueRegistry.cpp|3 3
Modified: src/qpid/broker/QueueRegistry.h|2 1
Modified: src/qpid/broker/SessionAdapter.cpp|9 9
Modified: src/qpid/broker/SessionState.cpp|3 5
Modified: src/qpid/broker/System.cpp|4 3
Modified: src/qpid/broker/System.h|3 1
Modified: src/qpid/broker/TopicExchange.cpp|3 3
Modified: src/qpid/broker/TopicExchange.h|2 2
Modified: src/qpid/broker/Vhost.cpp|5 4
Modified: src/qpid/broker/Vhost.h|2 1
Modified: src/qpid/cluster/Cluster.cpp|2 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 3
Renamed: src/qpid/management/ManagementAgent.cpp [from src/qpid/management/ManagementBroker.cpp]|61 91
Renamed: src/qpid/management/ManagementAgent.h [from src/qpid/management/ManagementBroker.h]|37 31
Modified: src/qpid/management/ManagementExchange.cpp|6 6
Modified: src/qpid/management/ManagementExchange.h|5 5
Modified: src/qpid/management/ManagementObject.cpp|2 2
Modified: src/qpid/management/ManagementObject.h|4 6

Revision: ad8c8197ed817079e50e6470c015cab9a010b5b3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/05/2009 02:18:40
Message:
Cmake fixes: Mirrored recent management code update. Don't build failover_soak without cluster Remove some unnecessary #includes from examples #MsgLength=151


----
Modified: examples/CMakeLists.txt|2 0
Modified: examples/xml-exchange/declare_queues.cpp|0 1
Modified: examples/xml-exchange/listener.cpp|0 1
Modified: examples/xml-exchange/xml_producer.cpp|0 1
Modified: src/CMakeLists.txt|2 2
Modified: src/qpid/management/ManagementObject.h|1 1
Modified: src/tests/CMakeLists.txt|6 4

Revision: ea44c86fa80de4b2db04d60f92c6ea6eb1e85307
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2009 03:57:17
Message:
Reserve space for sequence id in args field table. #MsgLength=53


----
Modified: src/qpid/replication/ReplicationExchange.cpp|5 3

Revision: c11e47e82a500bb62a0db80e9a061a4b895609ce
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/05/2009 06:26:49
Message:
Add --quit, --check for Windows; required fixing LockFile for Windows #MsgLength=70


----
Modified: src/qpid/framing/Uuid.h|2 1
Modified: src/qpid/sys/LockFile.h|5 4
Modified: src/qpid/sys/windows/LockFile.cpp|3 3
Modified: src/windows/QpiddBroker.cpp|67 1

Revision: 5292b906513fb8bf4d7227f534c0975303688615
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/05/2009 06:28:26
Message:
Patch small probs building tests, examples on Windows #MsgLength=54


----
Modified: examples/CMakeLists.txt|6 0
Modified: src/CMakeLists.txt|11 7
Modified: src/qpid/framing/FrameDecoder.h|2 1
Modified: src/tests/CMakeLists.txt|12 14

Revision: 40aebb2392b5dcd048269a8c0a7b93cda99b57d6
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/05/2009 06:37:08
Message:
Windows adjustments to run tests #MsgLength=33


----
Modified: src/tests/CMakeLists.txt|3 2

Revision: c063d6c8dada5c322bbcbcf9ded52de0fca8bf25
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/05/2009 23:13:50
Message:
 #MsgLength=0


----

Revision: 20aa905146ead6dc4e8a7e89e2c8b436081a9486
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2009 03:50:45
Message:
QPID-1852 Removed thread unsafe code in Logger Fixed some potentially iffy code in Connector.h if a derived Connector doesn't have activateSecurityLayer() #MsgLength=155


----
Modified: src/qpid/agent/QmfAgentImportExport.h|1 1
Modified: src/qpid/client/Connector.cpp|4 0
Modified: src/qpid/client/Connector.h|1 1
Modified: src/qpid/log/Logger.cpp|2 19
Modified: src/qpid/sys/Time.h|3 0
Modified: src/qpid/sys/posix/Time.cpp|19 16
Modified: src/qpid/sys/windows/Time.cpp|13 0
Modified: src/qpid/sys/windows/Time.h|1 1

Revision: dd242ae15840cee75f8315199c34afd3d5a36548
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2009 04:34:13
Message:
Fix typo #MsgLength=10


----
Modified: src/qpid/sys/posix/Time.cpp|1 1

Revision: b9fe802e047348ee5b1630e683548163996436df
Author: Ted Ross <tross@apache.org>
Date: 14/05/2009 01:12:27
Message:
Suppress the return of deleted objects for synchronous management get requests to the broker #MsgLength=93


----
Modified: src/qpid/management/ManagementAgent.cpp|16 12

Revision: 833b8f4f8388a1a587193272efbb15c59241ee20
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2009 23:14:32
Message:
Fix for unpredictable enqueues by timer-triggered management code in a cluster. #MsgLength=248


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Broker.h|14 3
Added: src/qpid/broker/MessageHandler.h|43 0
Modified: src/qpid/cluster/Cluster.cpp|131 3
Modified: src/qpid/cluster/Cluster.h|6 1
Modified: src/qpid/cluster/EventFrame.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|20 10
Modified: src/qpid/management/ManagementAgent.h|2 1

Revision: a4155c79d33c938ae4e0d3337f3c68bde2752f59
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/05/2009 23:19:56
Message:
More work on cmake: Make tests build on Linux Fix XML tests to run Fix cmake installed locations for modules/config files #MsgLength=129


----
Modified: src/CMakeLists.txt|11 4
Modified: src/tests/CMakeLists.txt|11 7
Modified: src/tests/XmlClientSessionTest.cpp|5 1

Revision: 43a7ab15898d2d04caa494004cec9df340dccab1
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2009 23:12:05
Message:
Undo change from r774809. #MsgLength=239


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/broker/Broker.h|3 14
Deleted: src/qpid/broker/MessageHandler.h|0 43
Modified: src/qpid/cluster/Cluster.cpp|3 63
Modified: src/qpid/cluster/Cluster.h|1 6
Modified: src/qpid/cluster/EventFrame.h|0 1
Modified: src/qpid/management/ManagementAgent.cpp|10 20
Modified: src/qpid/management/ManagementAgent.h|1 2

Revision: 72e95c000641cd6612e0869e94393bdca35e99c0
Author: Ted Ross <tross@apache.org>
Date: 16/05/2009 03:50:47
Message:
from (aconway)... added facility to disable management methods. Use this facility to disable several methods that are unsafe for clusters when running in a cluster. #MsgLength=166


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|13 0
Modified: src/qpid/management/ManagementAgent.cpp|14 0
Modified: src/qpid/management/ManagementAgent.h|12 0

Revision: 92d273323c2689e6217e7e0a66cad119f19c1136
Author: Gordon Sim <gsim@apache.org>
Date: 18/05/2009 23:28:03
Message:
Fix includes to allow for alternative packaging for nspr/nss. #MsgLength=64


----
Modified: src/qpid/sys/ssl/SslSocket.cpp|5 5
Modified: src/qpid/sys/ssl/SslSocket.h|1 1
Modified: src/qpid/sys/ssl/check.h|2 2
Modified: src/qpid/sys/ssl/util.cpp|4 4
Modified: src/ssl.mk|1 1

Revision: bab98c98cb5b4c9e9d0328c072538c22ef6d0b30
Author: Ted Ross <tross@apache.org>
Date: 19/05/2009 03:11:52
Message:
Block unsafe management methods only if clustering is enabled #MsgLength=62


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 2

Revision: f0522a5af1d32962e184eb9fbc3f1fc3e6346808
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/05/2009 06:20:06
Message:
Correct listed broker files; correct qmfgen command switches to specify namespaces #MsgLength=83


----
Modified: src/broker.vcproj|35 1
Modified: src/protocol_gen.mak|1 1

Revision: 546b54fc6c1a8d7ebce44f408ce820859676664f
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/05/2009 06:21:29
Message:
Add --quit, --check, --pid-dir options to allow shutting down a broker from command line. Needed to run test suite. #MsgLength=116


----
Modified: src/windows/QpiddBroker.cpp|84 2

Revision: 67008320aaae447c01f3f2a8bcf9c3bc24ac5912
Author: Alan Conway <aconway@apache.org>
Date: 20/05/2009 05:18:52
Message:
Instrumentation for measuring latencies. #MsgLength=110


----
Modified: src/qpid/cluster/Cluster.cpp|15 6
Modified: src/qpid/cluster/Multicaster.cpp|4 0
Modified: src/qpid/cluster/Multicaster.h|3 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|4 0
Modified: src/qpid/sys/LatencyTracker.h|106 53

Revision: d0c4d0dace615186a61ba31575b818dce5faf3e6
Author: Ted Ross <tross@apache.org>
Date: 20/05/2009 23:17:21
Message:
Fixed a regression affecting plugin-exchanges. Plugin exchanges (i.e. the XML exchange) do not get the broker pointer and therefore can not register themselves with the management agent. #MsgLength=188


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/qpid/broker/ExchangeRegistry.h|2 2
Modified: src/qpid/xml/XmlExchange.cpp|3 3
Modified: src/qpid/xml/XmlExchange.h|3 2
Modified: src/qpid/xml/XmlExchangePlugin.cpp|5 3

Revision: 885d95d7a67e979f7095ade7044444c669c4211a
Author: Ted Ross <tross@apache.org>
Date: 20/05/2009 23:32:57
Message:
QPID-1865 - Block the deletion of default exchanges. #MsgLength=54


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|5 0

Revision: bd11c0b7ce84d43f5acc1072e12fbdea9d97f18b
Author: Alan Conway <aconway@apache.org>
Date: 21/05/2009 02:19:44
Message:
Add missing null body check in ErrorCheck #MsgLength=133


----
Modified: src/qpid/cluster/Cluster.cpp|11 5
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 0
Modified: src/qpid/cluster/ClusterSettings.h|4 1
Modified: src/qpid/cluster/ErrorCheck.cpp|6 5

Revision: bbea6fc93113f70eb53b5d800c523a6fd6264bfe
Author: Gordon Sim <gsim@apache.org>
Date: 21/05/2009 16:21:26
Message:
QPID-1869: Set closed flag to false only after poller and aio are initialised. #MsgLength=81


----
Modified: src/qpid/client/Connector.cpp|1 1

Revision: cdaf353824d61f67cb95db0dd7cfaba7d6afb457
Author: Gordon Sim <gsim@apache.org>
Date: 21/05/2009 19:28:54
Message:
* adjust replication exchange in line with change to registration function signature * make exchange type plugins register themselves on earlyInitialise; otherwise recovery of durable exchange occurs before plugins are initialised #MsgLength=232


----
Modified: src/qpid/replication/ReplicationExchange.cpp|9 8
Modified: src/qpid/replication/ReplicationExchange.h|2 1
Modified: src/qpid/xml/XmlExchangePlugin.cpp|2 2

Revision: c92062cee65ba7014d7ab01b54455b000290c835
Author: Gordon Sim <gsim@apache.org>
Date: 21/05/2009 20:42:33
Message:
Handle case where recovered exchange is of unrecognised type. #MsgLength=64


----
Modified: src/qpid/broker/Exchange.cpp|8 3
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|6 1

Revision: a07d6391458ab0de2837e307defd9daf6d1f8101
Author: Ted Ross <tross@apache.org>
Date: 21/05/2009 22:34:05
Message:
Added optimization for management updates sent from the broker. The agent now puts many management updates into a single AMQP message. #MsgLength=136


----
Modified: src/qpid/console/Broker.cpp|18 14
Modified: src/qpid/management/ManagementAgent.cpp|61 34

Revision: 264a9ebb591a5576657e85f67ac43a2017da47b2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/05/2009 23:04:56
Message:
Fix managementgen so to avoid trying to move files cross fs #MsgLength=61


----
Modified: managementgen/qmfgen/generate.py|1 1

Revision: 709b5bebd6184e7239e0b16f6455e5b25b2c5f14
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2009 09:31:00
Message:
Optimized TopicExchange matching. #MsgLength=35


----
Modified: src/qpid/broker/TopicExchange.cpp|130 91
Modified: src/qpid/broker/TopicExchange.h|6 42
Modified: src/tests/TopicExchangeTest.cpp|73 119

Revision: c836d34679a48f8e72a227aefd270e6537140eea
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/05/2009 04:28:51
Message:
Fix to cmake build to account for some ssl include changes #MsgLength=60


----
Modified: src/ssl.cmake|2 1

Revision: 2da9c68534e232ddd3b5dfab0f1f4a54577f4b73
Author: Ted Ross <tross@apache.org>
Date: 23/05/2009 05:40:57
Message:
QPID-1874 - First drop of the second-generation QMF libraries. #MsgLength=64


----
Modified: src/CMakeLists.txt|17 1
Modified: src/qmf.mk|35 3
Added: src/qmf/Agent.cpp|962 0
Added: src/qmf/Agent.h|206 0
Added: src/qmf/Console.h|82 0
Added: src/qmf/Event.h|30 0
Added: src/qmf/Message.h|39 0
Added: src/qmf/MessageImpl.cpp|43 0
Added: src/qmf/MessageImpl.h|42 0
Added: src/qmf/Object.h|47 0
Added: src/qmf/ObjectId.h|53 0
Added: src/qmf/ObjectIdImpl.cpp|192 0
Added: src/qmf/ObjectIdImpl.h|66 0
Added: src/qmf/ObjectImpl.cpp|222 0
Added: src/qmf/ObjectImpl.h|62 0
Added: src/qmf/Query.h|54 0
Added: src/qmf/QueryImpl.cpp|71 0
Added: src/qmf/QueryImpl.h|48 0
Added: src/qmf/ResilientConnection.cpp|460 0
Added: src/qmf/ResilientConnection.h|166 0
Added: src/qmf/Schema.h|160 0
Added: src/qmf/SchemaImpl.cpp|740 0
Added: src/qmf/SchemaImpl.h|195 0
Added: src/qmf/Typecode.h|51 0
Added: src/qmf/Value.h|113 0
Added: src/qmf/ValueImpl.cpp|478 0
Added: src/qmf/ValueImpl.h|144 0

Revision: eff8c9dee756de58227f08e484552b427a0758f3
Author: Alan Conway <aconway@apache.org>
Date: 25/05/2009 23:51:52
Message:
ConsumerImpl optimization - only dispatch on queue if we were notified of messages. #MsgLength=85


----
Modified: src/qpid/broker/SemanticState.cpp|18 2
Modified: src/qpid/broker/SemanticState.h|3 0

Revision: 3d2dc8b9ce56b6a9969efced628c0329111fc4d2
Author: Alan Conway <aconway@apache.org>
Date: 26/05/2009 00:41:28
Message:
ConsumerImpl optimization - use atomic value for queueHasMessages. #MsgLength=68


----
Modified: src/qpid/broker/SemanticState.cpp|8 17
Modified: src/qpid/broker/SemanticState.h|3 2

Revision: ee8e787d4e9b657196fd9c7dd05a28655462336d
Author: Alan Conway <aconway@apache.org>
Date: 26/05/2009 02:20:50
Message:
PollableQueue optimization - replace deque with vector. #MsgLength=57


----
Modified: src/qpid/broker/QueueEvents.cpp|6 7
Modified: src/qpid/broker/QueueEvents.h|1 1
Modified: src/qpid/cluster/Connection.h|0 2
Modified: src/qpid/cluster/Event.cpp|3 3
Modified: src/qpid/cluster/Event.h|3 3
Modified: src/qpid/cluster/Multicaster.cpp|4 3
Modified: src/qpid/cluster/Multicaster.h|2 1
Modified: src/qpid/cluster/PollableQueue.h|9 6
Modified: src/qpid/sys/PollableQueue.h|13 10

Revision: 8b6596145a088a1be059ac37827a4d6f73fff425
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/05/2009 23:30:47
Message:
Added installable python cluster tests that can be run from an external store build/test environment and can test persistent clusters. #MsgLength=135


----
Modified: src/Makefile.am|10 0
Modified: src/tests/Makefile.am|25 8
Modified: src/tests/ais_check|0 1
Modified: src/tests/cluster.mk|37 9
Added: src/tests/cluster.py|419 0
Modified: src/tests/clustered_replication_test|7 1
Modified: src/tests/federated_cluster_test|7 1
Added: src/tests/run_cluster_tests|70 0
Added: src/tests/testlib.py|486 0

Revision: 981f614929eb9d2968304be4c276958954a6e8c4
Author: Kim van der Riet <kpvdr@apache.org>
Date: 27/05/2009 02:22:48
Message:
Persistent cluster test added which checks for recovery of queue and messages after all nodes in a cluster are killed. Test does not run if no store is loaded. #MsgLength=160


----
Modified: src/tests/cluster.py|80 37
Modified: src/tests/testlib.py|4 2

Revision: ad860343500b33413503d79b3fac55b87d175502
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2009 05:27:06
Message:
[Linux] Small tidy up of SystemInfo code to get executable name #MsgLength=65


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|2 4

Revision: 07c1cb1c0a1ba4e69118ad4dbff2191bc98b2473
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2009 05:41:52
Message:
Improved doOutput algorithm. #MsgLength=207


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 7
Modified: src/qpid/cluster/ClusterSettings.h|2 2
Modified: src/qpid/cluster/Connection.cpp|2 9
Modified: src/qpid/cluster/Connection.h|4 3
Modified: src/qpid/cluster/OutputInterceptor.cpp|29 44
Modified: src/qpid/cluster/OutputInterceptor.h|7 7
Modified: src/qpid/cluster/PollableQueue.h|2 1
Modified: src/qpid/cluster/UpdateClient.cpp|2 1
Modified: xml/cluster.xml|2 1

Revision: 08e46f1753a719143ecf3f7190700db9863159cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2009 06:39:05
Message:
Small include file fix highlighted by using gcc4.4 #MsgLength=52


----
Modified: src/qmf/Message.h|1 1

Revision: 8844bbb73fc11152f7e0b8809910d6605f3552cb
Author: Gordon Sim <gsim@apache.org>
Date: 27/05/2009 22:23:49
Message:
QPID-1488: Ensure policy state (+ store state & mgmt stats) are accurate on newly joined nodes by informing the queue of any logically enqueued messages that are currently acquired (but not accepted or released). #MsgLength=386


----
Modified: src/qpid/broker/Queue.cpp|13 0
Modified: src/qpid/broker/Queue.h|9 1
Modified: src/qpid/broker/SessionAdapter.cpp|0 1
Modified: src/qpid/broker/SessionAdapter.h|11 0
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/qpid/cluster/Connection.cpp|4 7
Modified: src/qpid/cluster/UpdateClient.cpp|29 9
Modified: src/qpid/cluster/UpdateClient.h|4 2
Modified: src/tests/cluster_test.cpp|52 0

Revision: 9ac2ebc785ac50130e2a581cb857d0d0dc3b5faa
Author: Alan Conway <aconway@apache.org>
Date: 27/05/2009 22:50:41
Message:
Set log level for forked brokers to notice+ rather than error+. #MsgLength=65


----
Modified: src/tests/failover_soak.cpp|1 1

Revision: 6d4b2ffc6195dbca58480d5943385d2e24af5306
Author: Kim van der Riet <kpvdr@apache.org>
Date: 27/05/2009 23:12:32
Message:
Fixed erroneous use of arg::durable in messageTransfer() #MsgLength=57


----
Modified: src/tests/cluster_test.cpp|50 43

Revision: 5dd1246dafd1649197faf01ed635d6d5215ca0dd
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2009 00:39:15
Message:
Added missing locks in cluster code. #MsgLength=38


----
Modified: src/qpid/cluster/Cluster.cpp|10 3
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/Decoder.cpp|5 0
Modified: src/qpid/cluster/Decoder.h|1 1

Revision: 035a864955847faf543b23f9ee9d80e1fe4c5f2f
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2009 01:00:47
Message:
QPID-1873: Further test case contributed by Mick Goulish. #MsgLength=60


----
Modified: src/tests/cluster_test.cpp|25 0

Revision: 2f6246b6ff215b9ce88328ed641cb580d8183531
Author: Kim van der Riet <kpvdr@apache.org>
Date: 28/05/2009 02:09:02
Message:
Fix from gsim for python path; also changed name of QPID_CONFIG environment variable which clashes with previous definition and made others more consistent in naming. #MsgLength=167


----
Modified: src/tests/run_cluster_tests|7 5
Modified: src/tests/testlib.py|8 7

Revision: 40f8d05af14ccab77933138bbb0724492d091f24
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/05/2009 13:18:09
Message:
QPID-1879 Don't use a thread for every new client Connection - By default the max number of threads now used for network io is the number of cpus available. - This can be overridden with the QPID_MAX_IOTHREADS environment variable or the config file #MsgLength=255


----
Modified: src/qpid/client/ConnectionImpl.cpp|88 4
Modified: src/qpid/client/Connector.cpp|36 60
Modified: src/qpid/client/Connector.h|16 17
Modified: src/qpid/client/RdmaConnector.cpp|14 47
Modified: src/qpid/client/SslConnector.cpp|29 53

Revision: fdaa5ffa5e79cfc2af6a97cc9def7e9e3af151ff
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/05/2009 14:07:19
Message:
QPID-1879 Removed some code obsoleted by this change #MsgLength=54


----
Modified: src/qpid/client/Connector.cpp|1 9
Modified: src/qpid/client/RdmaConnector.cpp|0 4
Modified: src/qpid/client/SslConnector.cpp|1 8

Revision: a80f5d422389e4e7c0be79a1903da73d0ee4f0db
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/05/2009 14:13:57
Message:
Whitespace fixes #MsgLength=18


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|74 74
Modified: src/qpid/sys/rdma/RdmaIO.cpp|10 10
Modified: src/qpid/sys/rdma/RdmaIO.h|6 6

Revision: 83d5923a313ae7b8dfbdf618b58ac0805dc573dc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/05/2009 04:11:13
Message:
Fixes to get qpid to build with gcc4.4 with optimisation Fix for non thread safe use of inet_ntoa(). #MsgLength=102


----
Modified: src/cluster.mk|1 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|10 4

Revision: c466dea9c96d899bfe0a16432caac0c5523d2c6b
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2009 23:50:54
Message:
make cluster.py executable fix typo in test script #MsgLength=53


----
Modified: src/tests/cluster.py|0 0
Modified: src/tests/run_cluster_tests|1 1

Revision: 4c52db617ee9c883f582b6a5c0ad0e72ab7823f0
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/05/2009 02:29:37
Message:
Added some Windows-related info #MsgLength=32


----
Modified: examples/README|23 3

Revision: c3d287465da17993f8e381dd3e2e092fe707bcc7
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/05/2009 04:07:09
Message:
Grammar/clarificatione edits; change line endings to DOS so Windows users can read them more easily #MsgLength=100


----
Modified: examples/README|165 146

Revision: 006246d47b3aa8ccf9ddba1fa8ecaa4f5b433bd3
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/05/2009 04:08:04
Message:
Add a suffix so Windows can associate it with a reader program #MsgLength=63


----
Renamed: examples/README.txt [from examples/README]|0 0

Revision: 99c1f97f51242a4ccb997fc71d8bdfa3ebd057d3
Author: Gordon Sim <gsim@apache.org>
Date: 01/06/2009 16:50:44
Message:
Update makefile to reflect renamed README #MsgLength=44


----
Modified: examples/Makefile.am|1 1

Revision: c2ab8c441fad568974aa90c2c9f4be949eab5197
Author: Jonathan Robie <jonathan@apache.org>
Date: 01/06/2009 22:19:59
Message:
Test for repository replication #MsgLength=33


----
Added: examples/test.txt|1 0

Revision: a18bf65b8e6fbc996512b8bbef2afd5337ada581
Author: Jonathan Robie <jonathan@apache.org>
Date: 02/06/2009 00:40:56
Message:
ping #MsgLength=6


----
Modified: examples/test.txt|1 1

Revision: cc1175e94cac439eb0060b76f3b5799d9d36f07e
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2009 00:47:55
Message:
QPID-1819: ensure that security layer implementation can cope with the case where the max allowed input to cyrus sal routines isless than the max frame size in use. #MsgLength=167


----
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|12 5
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.h|2 0
Modified: src/tests/.valgrind.supp|20 0

Revision: 14b05198e22432654d3979efbadbaf4117ea4ce3
Author: Ted Ross <tross@apache.org>
Date: 02/06/2009 05:24:14
Message:
QPID-1874 - Patch from Ian Main This patch provides the Ruby binding for QMF Agent and the framework for the Python bindings. #MsgLength=127


----
Modified: Makefile.am|1 1
Added: bindings/qmf/Makefile.am|7 0
Added: bindings/qmf/python/Makefile.am|29 0
Added: bindings/qmf/python/python.i|16 0
Added: bindings/qmf/qmfengine.i|39 0
Added: bindings/qmf/ruby/Makefile.am|30 0
Added: bindings/qmf/ruby/qmf.rb|500 0
Added: bindings/qmf/ruby/ruby.i|46 0
Modified: configure.ac|77 0

Revision: 1b1f8a900d4ca1e4bee370a02c469c41ebe151b7
Author: Ted Ross <tross@apache.org>
Date: 02/06/2009 05:42:42
Message:
QPID-1874 - Add check for "swig" program in configure.ac.  Mention in cpp/INSTALL. #MsgLength=84


----
Modified: INSTALL|7 0
Modified: configure.ac|6 2

Revision: cf72f0eb26ff1b1728ab5d14c23deb4bbd101085
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/06/2009 06:30:24
Message:
Some fixes to QPID-1879 so that clustering still works: Change client io threading to be initialised at first use Stop linking loadable modules with tests Add some sentinel values so that we can see what happened last #MsgLength=219


----
Modified: src/qpid/client/ConnectionImpl.cpp|7 4
Modified: src/qpid/sys/epoll/EpollPoller.cpp|3 2
Modified: src/tests/cluster.mk|1 3

Revision: f392e5e8728c24ff21f6e6d3ea26fa00a6ad6973
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/06/2009 22:21:06
Message:
Fixed out of tree build broken by QPID-1874 #MsgLength=45


----
Modified: bindings/qmf/python/Makefile.am|3 3
Modified: bindings/qmf/ruby/Makefile.am|3 3

Revision: ca6059a69c8cfbe2c63cfed4d971c8b1eb95432f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/06/2009 22:45:39
Message:
Bit more fixed for QPID-1874 #MsgLength=30


----
Modified: bindings/qmf/python/Makefile.am|4 4
Modified: bindings/qmf/ruby/Makefile.am|4 4

Revision: 4ed5e486d1ef8f118e18cdc402a8e7c3021fb20e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/06/2009 23:47:26
Message:
Fixes to cluster tests which enable them to be built and run outside the source tree. #MsgLength=86


----
Modified: src/tests/Makefile.am|1 0
Modified: src/tests/run_cluster_tests|6 7

Revision: 949a53d82a36576088602d96d496ad0c2e3a3c7d
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2009 18:29:27
Message:
Change to make suppression apply on fc5 as well as rhel5. #MsgLength=60


----
Modified: src/tests/.valgrind.supp|1 1

Revision: 02e9f57236f8a1b97e5fe1ee8969fbc01a71eb5d
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2009 18:31:24
Message:
Stop watching the acceptors dispatch handle before it is deleted in ssl and rdma plugins. #MsgLength=92


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|5 0
Modified: src/qpid/sys/rdma/RdmaIO.h|1 1
Modified: src/qpid/sys/ssl/SslIo.cpp|5 0
Modified: src/qpid/sys/ssl/SslIo.h|1 0

Revision: 090451f7bca33c09ad98d7cd707b764d45590701
Author: Ted Ross <tross@apache.org>
Date: 03/06/2009 20:37:23
Message:
QPID-1874 - More Makefile fixes for vpath builds #MsgLength=50


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/ruby/Makefile.am|1 1

Revision: 69dd9cc438af99ec1f700326170bf715953f08f3
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2009 21:08:35
Message:
Allow conrol at configure time over generation of qmf bindings via swig (--with-swig/--without-swig) #MsgLength=103


----
Modified: configure.ac|7 0

Revision: 0b4c59805085b386718f9dd683d70c121f6c8b5b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/06/2009 21:52:37
Message:
Revert "Change client io threading to be initialised at first use" #MsgLength=131


----
Modified: src/qpid/client/ConnectionImpl.cpp|4 7

Revision: 9c023157bd2fb19354715a3cb56d701e408e06bd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/06/2009 21:52:44
Message:
Revert "QPID-1879 Removed some code obsoleted by this change" #MsgLength=126


----
Modified: src/qpid/client/Connector.cpp|9 1
Modified: src/qpid/client/RdmaConnector.cpp|4 0
Modified: src/qpid/client/SslConnector.cpp|8 1

Revision: daeccb5030d406d13f18d3a21d1ebaa57aaeb3f9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/06/2009 21:52:51
Message:
Revert "QPID-1879 Don't use a thread for every new client Connection" #MsgLength=134


----
Modified: src/qpid/client/ConnectionImpl.cpp|4 88
Modified: src/qpid/client/Connector.cpp|60 36
Modified: src/qpid/client/Connector.h|17 16
Modified: src/qpid/client/RdmaConnector.cpp|47 14
Modified: src/qpid/client/SslConnector.cpp|53 29

Revision: c997698ef9eac32cd5eb102c216fa5c2ecbeda66
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/06/2009 23:25:56
Message:
Python cluster test improvements and some additional tests #MsgLength=59


----
Modified: src/tests/cluster.py|151 282
Modified: src/tests/run_cluster_tests|18 12
Modified: src/tests/testlib.py|322 60

Revision: 9abd621301dea594032b1e5ab527c854c285d826
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2009 00:08:33
Message:
Ensure that ring queue behaves as expected when replicated to newly joined cluster node. Altered queueDurabilityPropagationToNewbie test to not use in-process broker to fix error caused by linking change. #MsgLength=207


----
Modified: src/qpid/broker/QueuePolicy.cpp|7 1
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/tests/cluster_test.cpp|78 1

Revision: 12a69f6da6029d3edad2522e0dea9f11b49dd37a
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/06/2009 03:49:17
Message:
Add extern marker to match() and normalize() methods to build tests on Windows #MsgLength=79


----
Modified: src/qpid/broker/TopicExchange.h|2 2

Revision: 0e7ac4bda1c90df326fd0455a77b474aea3bf4f9
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/06/2009 03:52:21
Message:
Use Boost variables, not direct library names; inserts correct names cross-platform #MsgLength=84


----
Modified: src/CMakeLists.txt|2 2

Revision: f7eda2e61968e13ff5b47e41cd54a3ab9273f4bf
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/06/2009 04:00:35
Message:
Initial capabilities to run test suite on Windows #MsgLength=50


----
Modified: src/tests/CMakeLists.txt|71 30
Added: src/tests/background.ps1|36 0
Added: src/tests/quick_topictest.ps1|29 0
Added: src/tests/run_federation_tests.ps1|59 0
Added: src/tests/run_header_test.ps1|40 0
Added: src/tests/run_test.ps1|54 0
Added: src/tests/start_broker.ps1|43 0
Added: src/tests/stop_broker.ps1|39 0
Added: src/tests/topictest.ps1|65 0
Added: src/tests/windows/DisableWin32ErrorWindows.cpp|55 0

Revision: 71cbdc977b6aa23a195182b0598bdc0b6d9da367
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/06/2009 21:31:01
Message:
Made the test_store lib installable to be used with installable tests #MsgLength=70


----
Modified: src/Makefile.am|2 0
Modified: src/tests/Makefile.am|4 2

Revision: 59f837600d22c2954b32aa5f737f4da1fd4e5972
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/06/2009 23:38:09
Message:
Patch from Michael Goulish - QPID-1891 "fix declaration problems with boost 1_33_1", but with minor additional fixes. #MsgLength=118


----
Modified: src/tests/ForkedBroker.cpp|5 2
Modified: src/tests/test_store.cpp|2 3

Revision: ba6b2477b919609b3ef6cb507ae3b74844cd2b81
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/06/2009 23:40:24
Message:
Updates to patches and valgrind suppressions for boost 1.32 #MsgLength=60


----
Modified: boost-1.32-support/main.patch|3 3
Modified: boost-1.32-support/supressions|118 72

Revision: 870daac42692c9aa3a1fc261490a651f7d2eec9f
Author: Gordon Sim <gsim@apache.org>
Date: 06/06/2009 01:39:07
Message:
Further fix to new cluster member state transfer to fix a case where unacked messages on ring policy queue cause inconsistencies in queue state between nodes. #MsgLength=161


----
Modified: src/qpid/broker/Queue.cpp|7 2
Modified: src/qpid/broker/Queue.h|9 0
Modified: src/qpid/cluster/Connection.cpp|2 1
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|1 0
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/cluster_test.cpp|67 20
Modified: xml/cluster.xml|1 0

Revision: e89ebd88a574995791bd6c7ad4cca47075333102
Author: Ted Ross <tross@apache.org>
Date: 06/06/2009 05:39:50
Message:
QPID-1892 - Fixed a memory leak where recovered durable queues are never deleted. #MsgLength=83


----
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 0

Revision: 730c98432e16fe39a5bc841613d8f82a8bc0cb96
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 08/06/2009 09:35:26
Message:
Make sure the heartbeat interval is started for the waitForOpen #MsgLength=64


----
Modified: src/qpid/client/ConnectionImpl.cpp|2 1

Revision: 8a8d9c0f2c47ff37abc5e4dc9c7d7890198fa324
Author: Gordon Sim <gsim@apache.org>
Date: 08/06/2009 16:19:23
Message:
Fix change in test logic introduced by r782075. #MsgLength=50


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: a48a917b44c49cea50cc424f57c4ca4518c3de25
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/06/2009 22:34:45
Message:
Plumbed in an a connection abort operation to the OutputHandler #MsgLength=65


----
Modified: src/qpid/amqp_0_10/Connection.cpp|7 6
Modified: src/qpid/amqp_0_10/Connection.h|3 2
Modified: src/qpid/broker/SessionState.cpp|6 1
Modified: src/qpid/broker/SessionState.h|3 2
Modified: src/qpid/sys/AggregateOutput.cpp|8 6
Modified: src/qpid/sys/AggregateOutput.h|4 3
Modified: src/qpid/sys/AsynchIOHandler.cpp|11 5
Modified: src/qpid/sys/AsynchIOHandler.h|4 4
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|3 2
Modified: src/qpid/sys/OutputControl.h|4 3
Modified: src/qpid/sys/RdmaIOPlugin.cpp|18 13
Modified: src/qpid/sys/ssl/SslHandler.cpp|10 4
Modified: src/qpid/sys/ssl/SslHandler.h|4 4

Revision: fd0031b966c508a160ba13a4e3fcf06e9aba6255
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/06/2009 22:34:52
Message:
Fixed broker Timer implementation so that you can correctly change the expiry time of a queued TimerTask. #MsgLength=107


----
Modified: src/qpid/broker/Timer.cpp|9 7

Revision: 96bbfc0609f31e4e3684ef0a42be1669d4b57da5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/06/2009 22:35:01
Message:
- Added heartbeat generation to the client (actually echo back any broker generated heartbeat) - Broker now disconnects client if it receives no traffic in 2 heartbeat intervals (which is now the same as the client behvaiour) #MsgLength=231


----
Modified: src/qpid/broker/Connection.cpp|53 15
Modified: src/qpid/broker/Connection.h|7 4
Modified: src/qpid/broker/ConnectionHandler.cpp|10 7
Modified: src/qpid/client/ConnectionHandler.cpp|12 8

Revision: 25dade533238e57dc60f34765d0834ee23f298d7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/06/2009 00:43:28
Message:
Fix of the previous client heartbeat changes: - Changes to the cluster code were previously missed - It's neater and more correct to reset the traffic timeout for all connection traffic, not just traffic in a session #MsgLength=222


----
Modified: src/qpid/broker/Connection.cpp|3 0
Modified: src/qpid/broker/ConnectionHandler.cpp|0 3
Modified: src/qpid/cluster/NoOpConnectionOutputHandler.h|1 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|5 0
Modified: src/qpid/cluster/OutputInterceptor.h|1 0

Revision: d9c10d4b9ba5ee352400b4ca22178a64dab170a9
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2009 01:39:24
Message:
If expiration is already set, don't alter it. #MsgLength=48


----
Modified: src/qpid/broker/Message.cpp|5 2
Modified: src/tests/ClientSessionTest.cpp|14 0

Revision: 2b23620d84b1b3c3ec6d17e420c067605167b3e5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/06/2009 02:06:09
Message:
YA Fix to the cluster behaviour of the client heartbeat (non) detection code #MsgLength=78


----
Modified: src/qpid/cluster/OutputInterceptor.cpp|3 1

Revision: 5a6d575492f26732607c91055e302bb329d4790b
Author: Ted Ross <tross@apache.org>
Date: 09/06/2009 04:23:19
Message:
Bugfixes in the c++ console API: - Connection threads now shut down cleanly - get-query timeouts now work properly - waitForStable now only waits for connected brokers #MsgLength=263


----
Modified: examples/qmf-console/ping.cpp|17 13
Modified: src/qpid/console/Broker.cpp|26 2
Modified: src/qpid/console/Broker.h|20 19
Modified: src/qpid/console/SessionManager.cpp|19 1
Modified: src/qpid/console/SessionManager.h|1 1

Revision: 0a38a7f555f46490365e3a1bef227ecfd8714fa8
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2009 20:41:53
Message:
Enhanced test sender to allow the lvq match keys used to be specified in a file. #MsgLength=83


----
Modified: src/tests/sender.cpp|15 5

Revision: 02e161fdd303cdef5736f60a251c015676773c42
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2009 20:42:50
Message:
Lock should be released in LVQ before dequeuing old message to prevent possible deadlocks when a store plugin is loaded. #MsgLength=123


----
Modified: src/qpid/broker/Queue.cpp|1 0

Revision: e062ec99679709922f1151eee63f7c8fc11fdb69
Author: Ted Ross <tross@apache.org>
Date: 09/06/2009 20:53:21
Message:
Added a signal handler to cleanly shut down on SIGINT. #MsgLength=56


----
Modified: examples/qmf-console/printevents.cpp|62 42

Revision: ac76a4896701d03ffa32e77d7a1c86f5f82d5ecf
Author: Manuel Teira Paz <mteira@apache.org>
Date: 10/06/2009 14:49:26
Message:
cpp/src/replication.mk - Avoid explicit linkage with -lCrun. Use SUNCC_RUNTIME_FLAGS that would be conditionally replaced with -lCrun for the Sun Studio Compiler #MsgLength=164


----
Modified: src/replication.mk|1 1

Revision: cfeb7a4ab266ca85dbcf1d3225c7af916226860a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/06/2009 02:54:30
Message:
Updates to python cluster tests and associated scripts #MsgLength=55


----
Modified: src/tests/cluster.py|8 7
Modified: src/tests/cluster_test.cpp|7 7
Modified: src/tests/federated_cluster_test|3 1
Modified: src/tests/run_cluster_tests|16 2
Modified: src/tests/testlib.py|27 12

Revision: 51d6843389705dc786c95e243ff6f2b24ea2d4be
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2009 07:38:18
Message:
Ensure that messages sent by clusters update client are correctly fragmented based on the max frame size for the session. #MsgLength=124


----
Modified: src/qpid/client/SessionImpl.cpp|19 10

Revision: d67a8e49a1aa32d6e46dec4edda583646288f0f7
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2009 09:59:16
Message:
If frameset being sent in cluster update is incomplete (i.e. content has been released) then send frames as is (will just be header). #MsgLength=136


----
Modified: src/qpid/client/SessionImpl.cpp|17 2

Revision: fc281c46b8b2d4d9ccfbb8b444684c4eb29da742
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2009 19:14:57
Message:
QPID-1901: only try to load content if there is some #MsgLength=55


----
Modified: src/qpid/broker/Message.cpp|1 1

Revision: 91895287047b5e17f85ef86d9c06a6ff668cf230
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2009 22:24:05
Message:
Add flag to broker Connection so that it knows if it is a local or shadow connection #MsgLength=86


----
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Connection.h|6 0
Modified: src/qpid/cluster/Connection.cpp|1 0

Revision: 0351e5d4356eaa08c5dd0db2ad50646aa4a598c7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2009 22:24:14
Message:
Stop timers on receiving Connection::closed() from lower levels as well as sending close() to them. #MsgLength=101


----
Modified: src/qpid/broker/Connection.cpp|4 0

Revision: c79dd7f009e2bad48e03bf1036ad77674a035fa8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2009 22:24:21
Message:
Don't start the broker Connection heartbeat timers if the connection isn't a local connection. #MsgLength=96


----
Modified: src/qpid/broker/Connection.cpp|1 1

Revision: beca5492cb531be2f62a6fb9f8e3c0a113b9840d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2009 22:24:27
Message:
Avoid the case where we can receive bytes from the socket after the heartbeat timer has disconnected it #MsgLength=105


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 0

Revision: 9a806df4025190d372c762d8763514c96e2710c3
Author: Ted Ross <tross@apache.org>
Date: 11/06/2009 23:54:37
Message:
QPID-1786 - Committed qmf patches from Bryan Kearney Additionally updated existing qmf and Qman to be compatible. The magic number for qmf messages has been incremented. #MsgLength=195


----
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: examples/qmf-agent/Makefile|1 1
Modified: managementgen/qmfgen/management-types.xml|1 1
Modified: managementgen/qmfgen/templates/Class.cpp|1 0
Modified: managementgen/qmfgen/templates/Event.cpp|1 0
Modified: src/qmf/Agent.cpp|2 2
Modified: src/qmf/SchemaImpl.cpp|1 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 2
Modified: src/qpid/console/Broker.cpp|2 2
Modified: src/qpid/console/Schema.cpp|12 3
Modified: src/qpid/console/Value.cpp|1 1
Modified: src/qpid/console/Value.h|6 0
Modified: src/qpid/framing/FieldTable.cpp|134 1
Modified: src/qpid/framing/FieldTable.h|4 0
Modified: src/qpid/management/ManagementAgent.cpp|17 2

Revision: 2156ab54ffa55d0579c2da17c55d899388c19059
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/06/2009 00:56:52
Message:
CDash config for sending build/test results to dashboard at riverace.com #MsgLength=73


----
Added: CTestConfig.cmake|13 0

Revision: afc9483f9d704be134552c4c3fd1d4ce6eb6c98d
Author: Ted Ross <tross@apache.org>
Date: 12/06/2009 01:15:16
Message:
QPID-1898 - Committed patch from Ian Main. #MsgLength=44


----
Modified: bindings/qmf/ruby/qmf.rb|19 0

Revision: 4e75e2d3786a0003a867e304a651100bd19cb9f6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/06/2009 02:03:53
Message:
Minor change to clarify queue size policy log messages #MsgLength=55


----
Modified: src/qpid/broker/QueuePolicy.cpp|6 3

Revision: c1463e132a7b0a995ab98e62d75adeeb626fab23
Author: Ted Ross <tross@apache.org>
Date: 12/06/2009 02:49:17
Message:
Added missing license text #MsgLength=27


----
Modified: bindings/qmf/Makefile.am|18 0
Modified: bindings/qmf/python/Makefile.am|18 0
Modified: bindings/qmf/python/python.i|19 0
Modified: bindings/qmf/qmfengine.i|18 0
Modified: bindings/qmf/ruby/Makefile.am|18 0
Modified: bindings/qmf/ruby/qmf.rb|18 0
Modified: bindings/qmf/ruby/ruby.i|19 0

Revision: 129cdb405693b45e76e03ac377d616ddcefe092c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/06/2009 02:54:33
Message:
Change to test directory names for installed tests #MsgLength=51


----
Modified: src/tests/Makefile.am|2 2

Revision: 9a2db41a82c31dbfca4371614c5973a191bad056
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/06/2009 02:59:31
Message:
Change to test directory names for installed tests missed in previous checkin #MsgLength=78


----
Modified: src/Makefile.am|2 2

Revision: 0ef31306e544ac4109517fb395f9783075eb1f50
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/06/2009 03:07:00
Message:
Change project name to qpid-cpp to match prior-scheme artifacts; enable ctest #MsgLength=78


----
Modified: CMakeLists.txt|5 2

Revision: 8084e7ffe355d8f05148fa5c9dd39fa8451beaa1
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2009 04:42:16
Message:
Revert bad optimization:  unpredictable ordering of set caused cluster failures. #MsgLength=82


----
Modified: src/qpid/broker/QueueListeners.cpp|19 7
Modified: src/qpid/broker/QueueListeners.h|6 2

Revision: 9dedd0dcca0107c73dc0d21ce1efce82ea3171c8
Author: Ted Ross <tross@apache.org>
Date: 16/06/2009 22:57:06
Message:
Added a new qmf-console example program. This new program illustrates how individual nodes of a broker cluster may be monitored. It connects to all nodes, tracks their connectivity, and queries only one of the connected nodes. This mechanism is used in lieu of cluster-failover which is not appropriate for broker management. #MsgLength=327


----
Modified: examples/qmf-console/Makefile.am|5 1
Added: examples/qmf-console/cluster-qmon.cpp|170 0

Revision: a11b353fd297cbe7922819d3e34d3dd07811007c
Author: Ted Ross <tross@apache.org>
Date: 17/06/2009 02:41:58
Message:
Minor cleanup of the new management-failover example. #MsgLength=55


----
Modified: examples/qmf-console/cluster-qmon.cpp|15 6

Revision: cb4115033289c1230825274e4ac4d11b24541e58
Author: Alan Conway <aconway@apache.org>
Date: 17/06/2009 05:21:09
Message:
Performance improvements in AggregateOutput and SemanticState. #MsgLength=400


----
Modified: src/qpid/broker/Connection.h|3 0
Modified: src/qpid/broker/Queue.cpp|2 0
Modified: src/qpid/broker/Queue.h|3 0
Modified: src/qpid/broker/QueueListeners.cpp|10 2
Modified: src/qpid/broker/QueueListeners.h|4 2
Modified: src/qpid/broker/SemanticState.cpp|30 28
Modified: src/qpid/broker/SemanticState.h|10 14
Modified: src/qpid/broker/SessionContext.h|2 0
Modified: src/qpid/broker/SessionState.cpp|6 6
Modified: src/qpid/broker/SessionState.h|3 0
Modified: src/qpid/cluster/Cluster.cpp|6 3
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/qpid/cluster/Connection.cpp|15 1
Modified: src/qpid/cluster/Connection.h|3 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|0 2
Modified: src/qpid/cluster/UpdateClient.cpp|28 10
Modified: src/qpid/cluster/UpdateClient.h|2 1
Modified: src/qpid/framing/SequenceNumber.cpp|0 60
Modified: src/qpid/framing/SequenceNumber.h|21 18
Modified: src/qpid/sys/AggregateOutput.cpp|42 26
Modified: src/qpid/sys/AggregateOutput.h|38 27
Modified: xml/cluster.xml|9 3

Revision: f14a8d23e410f76a6989af103b0f4204958647b0
Author: Alan Conway <aconway@apache.org>
Date: 17/06/2009 21:45:31
Message:
Drop _EXPECTED_FAILURES macro, doesn't work with all boost versions. #MsgLength=70


----
Modified: src/tests/ClientSessionTest.cpp|4 4
Modified: src/tests/cluster_test.cpp|2 1
Modified: src/tests/unit_test.h|0 23

Revision: 04a6938155bda5dd26c034fa8873535b24eacc4d
Author: Gordon Sim <gsim@apache.org>
Date: 18/06/2009 01:13:13
Message:
Ensure that the ConnectionTimeoutTask does not block other tasks (e.g. ConnectionHeartbeatTask) by having the timeout changed after it has been submitted. #MsgLength=157


----
Modified: src/qpid/broker/Connection.cpp|33 21
Modified: src/qpid/broker/Connection.h|2 1

Revision: 1942df0ba8f44db6932587018bc005a07ab5d4d8
Author: Gordon Sim <gsim@apache.org>
Date: 18/06/2009 03:00:58
Message:
Don't throw exception from destructor in Mutex and Condition as this is unsafe and unhelpful. #MsgLength=96


----
Modified: src/qpid/sys/posix/Condition.h|1 1
Modified: src/qpid/sys/posix/Mutex.h|2 2
Modified: src/qpid/sys/posix/check.h|2 0

Revision: 0bf7f48312706c28cfad372ca1514ed19bfc9dac
Author: Alan Conway <aconway@apache.org>
Date: 18/06/2009 04:45:52
Message:
Handle invalid AMPQ data to a cluster by closing the offending connection. #MsgLength=138


----
Modified: src/qpid/cluster/Cluster.cpp|12 2
Modified: src/qpid/cluster/Connection.cpp|6 0
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/tests/cluster_test.cpp|42 2
Modified: xml/cluster.xml|5 0

Revision: 35385da12d7c22894f93632442e7e78fb990d21f
Author: Gordon Sim <gsim@apache.org>
Date: 18/06/2009 16:56:04
Message:
Add missing include required on some platforms. #MsgLength=50


----
Modified: src/qpid/sys/posix/check.h|1 0

Revision: 9b27f9cf5760470e18c386358d292d55e7ec8577
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/06/2009 00:22:19
Message:
Correct order of args to memset(); fixes QPID-1787 #MsgLength=51


----
Modified: src/qpid/cluster/Cpg.cpp|1 1

Revision: dbe8810d63c58e08266ad8a121639bacdbdee6af
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2009 05:25:00
Message:
Make error-check a cluster-connection control rather than a cluster control. #MsgLength=317


----
Modified: src/qpid/cluster/Cluster.cpp|2 15
Modified: src/qpid/cluster/Cluster.h|0 1
Modified: src/qpid/cluster/Connection.cpp|16 1
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/ErrorCheck.cpp|7 5
Modified: src/qpid/cluster/ErrorCheck.h|1 1
Modified: xml/cluster.xml|14 13

Revision: c6157099f76bc60288963c4b69672a6da206af57
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/06/2009 23:55:38
Message:
Resolve Windows build errors/warnings #MsgLength=38


----
Modified: src/qmf/Agent.cpp|0 2
Modified: src/qmf/Object.h|1 1
Modified: src/qmf/ObjectId.h|2 2
Modified: src/qmf/Query.h|1 1
Modified: src/qmf/ResilientConnection.cpp|4 3
Modified: src/qmf/Schema.h|7 7
Modified: src/qmf/Value.h|1 1
Modified: src/qpid/console/SessionManager.h|1 1

Revision: 56aae83e6a07030817eb3471bcb644d785fca4e5
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2009 01:57:58
Message:
Log an error only the first time a detached session is used, ignore after that. #MsgLength=81


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|20 15
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 0

Revision: 7a628603a59a5a5e34eb1b9a43f116ab4aab27e9
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2009 05:44:15
Message:
Test script to run distributed perftest against a cluster. #MsgLength=60


----
Added: src/tests/cluster_test/README.txt|20 0
Added: src/tests/cluster_test/cluster_check|17 0
Added: src/tests/cluster_test/cluster_start|36 0
Added: src/tests/cluster_test/cluster_stop|18 0
Added: src/tests/cluster_test/config_example.sh|25 0
Added: src/tests/cluster_test/perftest|34 0

Revision: e00f1f087f110f51c35faaacb4dd7dc16fccd597
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/06/2009 06:13:42
Message:
Fix compile error #MsgLength=18


----
Modified: src/qpid/sys/AggregateOutput.cpp|1 1

Revision: a35459f4cabca00b6c2b2e8515e8fa576b39ffbc
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/06/2009 06:51:32
Message:
Script fixes to get tests going on Windows; includes properly licensed background.ps1 #MsgLength=86


----
Modified: src/tests/CMakeLists.txt|6 3
Modified: src/tests/background.ps1|26 22
Modified: src/tests/run_test.ps1|19 1

Revision: 806de10e167f08076879199b291f3591e608cd2a
Author: Gordon Sim <gsim@apache.org>
Date: 23/06/2009 18:03:37
Message:
Renamed new directory to avoid clashing with executable name where build is done in source tree. #MsgLength=99


----
Renamed: src/tests/cluster_test_scripts/README.txt [from src/tests/cluster_test/README.txt]|0 0
Renamed: src/tests/cluster_test_scripts/cluster_check [from src/tests/cluster_test/cluster_check]|0 0
Renamed: src/tests/cluster_test_scripts/cluster_start [from src/tests/cluster_test/cluster_start]|0 0
Renamed: src/tests/cluster_test_scripts/cluster_stop [from src/tests/cluster_test/cluster_stop]|0 0
Renamed: src/tests/cluster_test_scripts/config_example.sh [from src/tests/cluster_test/config_example.sh]|0 0
Renamed: src/tests/cluster_test_scripts/perftest [from src/tests/cluster_test/perftest]|0 0

Revision: cd0b98bb280b417148b44deecc9ef37a6be0709b
Author: Gordon Sim <gsim@apache.org>
Date: 23/06/2009 18:46:15
Message:
QPID-1936: Fix potential deadlock for durable ring queue #MsgLength=59


----
Modified: src/qpid/broker/Queue.cpp|16 1
Modified: src/qpid/broker/Queue.h|12 0
Modified: src/qpid/broker/QueuePolicy.cpp|27 14
Modified: src/qpid/broker/QueuePolicy.h|3 0

Revision: 05ed4f1a6f60cf8f330c2784c4973a214ade930c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:13
Message:
Make sure you close down heartbeatTimer for every close even if you don't need to do anything else #MsgLength=100


----
Modified: src/qpid/client/ConnectionImpl.cpp|2 1

Revision: 7c388ef8827a22ebc5f190922c8e354255723717
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:18
Message:
Don't schedule eof() in response to traffic timeout if already disconnecting and make sure that this is true for all close down paths #MsgLength=135


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|8 2

Revision: ec5199824052cce63cd51a6bbae7ac93ea60e152
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:24
Message:
Once we're aborting the connection due to traffic timeout make sure we cancel heartbeats #MsgLength=90


----
Modified: src/qpid/broker/Connection.cpp|6 1

Revision: d19e6bbf152a8bb70e95c418e983d6f83083057e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:29
Message:
Add blocking to broker::Timer/TimerTask so cancel and fire() cannot be interleaved. #MsgLength=85


----
Modified: src/qpid/broker/Timer.cpp|13 2
Modified: src/qpid/broker/Timer.h|2 1

Revision: 72077bdea96200a3ba57c907ae7f8efb2cb7466a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:35
Message:
Add blocking to sys::Timer so that timer callback and cancel can't happen interleaved #MsgLength=87


----
Modified: src/qpid/sys/Timer.cpp|11 2
Modified: src/qpid/sys/Timer.h|2 0

Revision: b9a4c24231fa81d550717a6184b43b2ef87d4d41
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:41
Message:
Client side fix to make sure we don't schedule a disconnect due to timeout when we are already disconnecting #MsgLength=110


----
Modified: src/qpid/client/Connector.cpp|4 1

Revision: af1928608afc761e28bdd58e76c5c1242676806d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:47
Message:
Fix for issue where a broker with single io thread can get stuck if it runs out of file handles. #MsgLength=98


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 0

Revision: 397cc0bdcac7c528f014d6ab7268ba3fbac51689
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/06/2009 04:02:51
Message:
Fix to perftest to make sure that all threads are joined even if there is an exception #MsgLength=88


----
Modified: src/tests/perftest.cpp|23 27

Revision: 781a411d591e8c28edf4ac287551fc4d82f2922a
Author: Alan Conway <aconway@apache.org>
Date: 25/06/2009 21:31:29
Message:
Added qpid_ping: a simple client to verify broker responsiveness. #MsgLength=67


----
Modified: src/tests/Makefile.am|5 0
Added: src/tests/qpid_ping.cpp|115 0

Revision: c0eb938bf0567591b3e0ec1b469a75b1a1ec7104
Author: Ted Ross <tross@apache.org>
Date: 25/06/2009 23:34:12
Message:
Added debug logs to the embedded broker agent #MsgLength=46


----
Modified: src/qpid/management/ManagementAgent.cpp|59 8

Revision: 5f880e7820cff5dda0126845fa85e5786004ab6a
Author: Ted Ross <tross@apache.org>
Date: 25/06/2009 23:59:00
Message:
Added one missing trace log #MsgLength=28


----
Modified: src/qpid/management/ManagementAgent.cpp|2 1

Revision: e6300d53dbca054f741bca7643eee524f01fa65e
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2009 01:06:51
Message:
Require exact match for environment variables before they are interpreted as options (rather than simply matching as a prefix to an option name). #MsgLength=148


----
Modified: src/qpid/Options.cpp|2 1

Revision: 2afc546b01acf5a60f9f1ef4ee7eca86768f3999
Author: Ted Ross <tross@apache.org>
Date: 26/06/2009 05:49:44
Message:
Added const to the Uuid constructor argument. #MsgLength=374


----
Modified: src/qpid/framing/Uuid.h|2 2
Modified: src/qpid/management/ManagementAgent.cpp|3 3

Revision: c19dd42a177ac36a645fb80b3d95f70b7b5d0152
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/06/2009 06:08:41
Message:
Update build instructions to describe CMake build mechanism #MsgLength=60


----
Modified: INSTALL-WINDOWS|47 26

Revision: d1800770b1f05e881f711dc00582a88a1bb21778
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/06/2009 06:13:33
Message:
Fix out-of-range vector access; fixes QPID-1957 #MsgLength=48


----
Modified: src/qpid/framing/FrameDecoder.cpp|2 1

Revision: 2d5f289d013a3f856a46768a97e16171f88c752e
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/06/2009 06:21:24
Message:
Export callMe on Windows; fixes QPID-1958 #MsgLength=42


----
Modified: src/tests/shlibtest.cpp|5 1

Revision: d8a56d5477b140e4f9410843087736b93e55f203
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/06/2009 06:26:47
Message:
Take dirpath off of plugin name to load; fixes QPID-1959 #MsgLength=57


----
Modified: src/tests/ReplicationTest.cpp|2 2

Revision: 44bc1071b332299de430ae0d7bf0e28e543c0aac
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/06/2009 06:31:49
Message:
In isInline() don't try to take address of a vector w/o storage yet; fixes QPID-1960 #MsgLength=85


----
Modified: src/tests/InlineVector.cpp|4 0

Revision: 0507882d94060519d4010724572ba10577005f1d
Author: Gordon Sim <gsim@apache.org>
Date: 29/06/2009 21:24:23
Message:
Added extra test script for testing ring queues plus a random data generation utility. #MsgLength=89


----
Modified: src/tests/Makefile.am|4 0
Added: src/tests/datagen.cpp|96 0
Added: src/tests/ring_queue_test|174 0

Revision: 49f493be756ce5ac67e6104b3a11bd15cc5a83fb
Author: Gordon Sim <gsim@apache.org>
Date: 29/06/2009 21:37:39
Message:
Have receivers in test ignore duplicates (makes it possible to recover from certain failure scenarios) #MsgLength=105


----
Modified: src/tests/ring_queue_test|1 1

Revision: 80a28559d3de43dad320f1bcb9a60ae5ffc54763
Author: Gordon Sim <gsim@apache.org>
Date: 29/06/2009 23:01:17
Message:
Backout last change to test script #MsgLength=37


----
Modified: src/tests/ring_queue_test|1 1

Revision: 22bebfd75af07c19130d497b77430a567a909697
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/06/2009 23:57:48
Message:
Minor test env name cleanup which syncs with changes to store #MsgLength=62


----
Modified: src/tests/run_cluster_tests|7 7
Modified: src/tests/testlib.py|2 2

Revision: 8915c64de3912ce9aa772e601b77b41c41b93ea3
Author: Gordon Sim <gsim@apache.org>
Date: 30/06/2009 18:46:35
Message:
Add some ring queue tests to make check-long (fix script to use QPID_PORT correctly) #MsgLength=88


----
Modified: src/tests/Makefile.am|4 2
Modified: src/tests/ring_queue_test|3 4
Added: src/tests/run_ring_queue_test|37 0

Revision: 7101e5b3d00cea663fee491495107607ed26e7fa
Author: Alan Conway <aconway@apache.org>
Date: 30/06/2009 21:47:31
Message:
Remove duplicate entries in generated makefile fragment src/rubygen.mk. #MsgLength=73


----
Modified: rubygen/amqpgen.rb|3 2

Revision: 09c108559970f367451eeab27139d6deb9608486
Author: Ted Ross <tross@apache.org>
Date: 30/06/2009 22:54:05
Message:
Removed installation lines that were redundant with the nobase_include_HEADERS in the main makefile. #MsgLength=102


----
Modified: src/qmf.mk|0 3

Revision: c90c8fc23421ab2caed07e6b08bb00d976abecf2
Author: Alan Conway <aconway@apache.org>
Date: 01/07/2009 04:51:38
Message:
Fix cluster race condition with connections closed by broker while in use. #MsgLength=624


----
Modified: src/qpid/cluster/Cluster.cpp|33 11
Modified: src/qpid/cluster/Cluster.h|3 1
Modified: src/qpid/cluster/Connection.cpp|1 16
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/ErrorCheck.cpp|5 5
Modified: src/qpid/cluster/ErrorCheck.h|1 1
Modified: src/qpid/cluster/Multicaster.cpp|1 1
Modified: src/tests/PartialFailure.cpp|3 2
Modified: src/tests/cluster_test.cpp|12 5
Modified: src/tests/qpid_ping.cpp|2 1
Modified: xml/cluster.xml|19 15

Revision: ec19a44c59bd1b9d911d07a10677090f1f97f09c
Author: Alan Conway <aconway@apache.org>
Date: 01/07/2009 21:47:04
Message:
Fix members joining cluster while cluster is handling client errors. #MsgLength=319


----
Modified: src/cluster.mk|2 0
Modified: src/qpid/cluster/Cluster.cpp|88 21
Modified: src/qpid/cluster/Cluster.h|5 1
Modified: src/qpid/cluster/Connection.cpp|10 4
Modified: src/qpid/cluster/Connection.h|2 0
Modified: src/qpid/cluster/ErrorCheck.cpp|10 5
Modified: src/qpid/cluster/ErrorCheck.h|2 1
Added: src/qpid/cluster/RetractClient.cpp|61 0
Added: src/qpid/cluster/RetractClient.h|49 0
Modified: src/qpid/cluster/UpdateClient.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.h|1 0
Modified: src/tests/qpid_ping.cpp|3 2
Modified: xml/cluster.xml|15 4

Revision: b36926bae6f8d7fb0b02a29524557fc0682175e3
Author: Gordon Sim <gsim@apache.org>
Date: 01/07/2009 21:47:54
Message:
QPID-1963: hold lock across TopicExchange::isBound() method #MsgLength=62


----
Modified: src/qpid/broker/TopicExchange.cpp|1 0

Revision: 2dff64469c03c2d4fdfe2a03d4f8a1ce544e0ad7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/07/2009 23:21:54
Message:
Fix for cluster_test problems: a) When not started from within test dir, qpidd is not found, and a process cascade results in which each forked process continues and runs all tests after its own instead of terminating; b) Hard-coded paths and names of libs, which have been moved into Makefile.am; c) Some tests use ScopedSuppressLogging, these tests are modified so the scope of the logging suppression does not include the broker/cluster startup. #MsgLength=449


----
Modified: src/tests/ClusterFailover.cpp|3 3
Modified: src/tests/ForkedBroker.cpp|14 13
Modified: src/tests/Makefile.am|3 1
Modified: src/tests/PartialFailure.cpp|106 96
Modified: src/tests/cluster_test.cpp|100 90

Revision: 7d7beb5a7d348d6d5f23e4e355483c514748aeb1
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/07/2009 23:25:27
Message:
Enabled tests, corrected Boost lib locators #MsgLength=44


----
Modified: CMakeLists.txt|0 3
Modified: src/CMakeLists.txt|6 8
Modified: src/tests/CMakeLists.txt|16 22

Revision: dd19015a20e433856f4f40b44d88e96af40499f9
Author: Gordon Sim <gsim@apache.org>
Date: 02/07/2009 01:42:26
Message:
Prevent broker thread blocking while SSL handshake completes. #MsgLength=64


----
Modified: src/qpid/sys/ssl/SslSocket.cpp|0 2

Revision: 1adf1a7fcc2bfc0e4b4f477e327f84cd6ee9aee1
Author: Alan Conway <aconway@apache.org>
Date: 02/07/2009 05:58:40
Message:
Fix members joining cluster while cluster is handling client errors. #MsgLength=121


----
Modified: src/qpid/cluster/Cluster.cpp|52 27
Modified: src/qpid/cluster/Cluster.h|5 3
Modified: src/qpid/cluster/ClusterMap.cpp|0 2
Modified: src/qpid/cluster/ClusterMap.h|3 0
Modified: src/qpid/cluster/Event.cpp|14 4
Modified: src/qpid/cluster/Event.h|3 1
Modified: src/qpid/cluster/LockedConnectionMap.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|2 1
Modified: xml/cluster.xml|1 0

Revision: f271c91874a5de4a3dd980f1b1eeb29af1a4debb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2009 13:46:42
Message:
Fix cmake build for recent gnu ld which needs all libs used by prog and dependencies linked into prog, also fix for older versions of cmake with more limited boost support. #MsgLength=173


----
Modified: examples/CMakeLists.txt|6 2
Modified: src/CMakeLists.txt|25 4
Modified: src/ssl.cmake|1 1

Revision: d56e7668f7318d4bd48788e7f366f51aaa1d6a86
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2009 13:46:51
Message:
Fix make build to generate code into the build tree #MsgLength=52


----
Modified: examples/CMakeLists.txt|1 1
Modified: managementgen/qmfgen/templates/CMakeLists.cmake|1 1
Modified: src/CMakeLists.txt|15 15

Revision: 72823ce233c43122105d24d3c257b1b12b3adedd
Author: Ted Ross <tross@apache.org>
Date: 03/07/2009 00:41:41
Message:
Bumped the libtool version information for the C++ libraries. #MsgLength=63


----
Modified: configure.ac|2 2

Revision: cd73de52e7d9650870467e9d79159b9c66f7c882
Author: Ted Ross <tross@apache.org>
Date: 03/07/2009 02:09:12
Message:
Federation: Propagation of dynamic bindings is now done on the thread servicing the federation link (connection). #MsgLength=185


----
Modified: src/qpid/broker/Bridge.cpp|11 3
Modified: src/qpid/broker/Bridge.h|3 0
Modified: src/qpid/broker/Connection.cpp|9 6
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|1 0
Modified: src/qpid/broker/LinkRegistry.h|5 4

Revision: f785621d334ce3488f2c099e5c97452303238e83
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/07/2009 04:58:49
Message:
Don't try to unset MEMORYCHECK_COMMAND - jut leave it if not needed #MsgLength=68


----
Modified: src/tests/CMakeLists.txt|0 2

Revision: 5cfdaf3e47991d110fa0e393190f718782b2db2f
Author: Alan Conway <aconway@apache.org>
Date: 03/07/2009 05:51:37
Message:
Update cluster requirements to mention corosync. #MsgLength=49


----
Modified: INSTALL|5 4

Revision: 9a1439bef9457bc4fc7b8dbdb3217c5887b0cad6
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/07/2009 07:04:45
Message:
Make up-to-date check for generated files look in binary dir. On Windows, don't add Boost libs to link libs; let heders pull them in as needed, and pay attention to the BOOST_ALL_DYN_LINK to allow static build. #MsgLength=211


----
Modified: src/CMakeLists.txt|25 7

Revision: b0f87a171a5578cf78b62af6b4d020e7337ab19b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/07/2009 09:53:13
Message:
Corrected the case where message on more than one queue does not persist when last node standing is enabled #MsgLength=108


----
Modified: src/qpid/broker/Message.cpp|9 1
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/tests/QueueTest.cpp|32 1

Revision: 2d6803f5e426390da20706276b7a8939b701e130
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/07/2009 23:05:11
Message:
More tests and completion of fix for 791672 #MsgLength=44


----
Modified: src/qpid/broker/Queue.cpp|11 5
Modified: src/qpid/broker/Queue.h|1 0
Modified: src/tests/QueueTest.cpp|28 0

Revision: aab4828f015d43e926788e89285daeb16f54b54c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 08/07/2009 00:00:16
Message:
Correcting to ensure recovered cluster-durable messages are dequeued from store #MsgLength=80


----
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|8 2

Revision: a5d991c3d2b7b12b2618c2aa4830f331bd48faa4
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2009 01:05:16
Message:
Add expected failure case to the list (purge is currently disabled on cluster as it is unsafe) #MsgLength=97


----
Modified: src/tests/cluster_python_tests_failing.txt|1 0

Revision: 23d5afbc859301e848522bc7caa516a9179cbdad
Author: Kim van der Riet <kpvdr@apache.org>
Date: 08/07/2009 03:22:53
Message:
Added python long cluster test outline for long tests and soak tests. Also added check for python tools before tests to stop make distcheck failures. #MsgLength=150


----
Modified: src/tests/cluster.mk|5 2
Renamed: src/tests/cluster_tests.py [from src/tests/cluster.py]|0 0
Added: src/tests/long_cluster_tests.py|38 0
Modified: src/tests/run_cluster_tests|25 5
Added: src/tests/run_long_cluster_tests|22 0

Revision: b46233526df63580bff0bf172399b4349f02c06c
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/07/2009 03:43:04
Message:
Change Nightly start time to 20:00 EST to catch all overnight and during the day builds together #MsgLength=97


----
Modified: CTestConfig.cmake|1 1

Revision: cb921cbefd187b31fdc45d94d3bc705cbddf7eaa
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/07/2009 06:54:59
Message:
Properly handle queued closes originating locally. Fixes QPID-1952 #MsgLength=67


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|8 3

Revision: decadc22fc4c0aa1a0a7aff10a77f5b71c689f4e
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2009 19:48:57
Message:
QPID-1974: Fixes (and tests) for updating lvq state to new cluster members. #MsgLength=78


----
Modified: src/qpid/broker/Message.cpp|15 0
Modified: src/qpid/broker/Message.h|4 0
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/Queue.h|8 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|2 0
Modified: src/tests/cluster_test.cpp|63 2

Revision: 06523753d48b5f965ddd5fa8d60d0a9274e3fd22
Author: Ted Ross <tross@apache.org>
Date: 08/07/2009 21:50:09
Message:
Added version check for SWIG in the configure script.  This should properly disable SWIG for distributions with too-old versions. #MsgLength=131


----
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: configure.ac|2 1
Added: m4/ac_pkg_swig.m4|118 0

Revision: ad9aae8be0a9387827cb714013a50d769b2803e4
Author: Jonathan Robie <jonathan@apache.org>
Date: 08/07/2009 23:45:18
Message:
Added qpid:Exception to the client API documentation. #MsgLength=56


----
Modified: docs/api/user.doxygen.in|1 1

Revision: 181aac0498ad75eaccf83b3a072873c1e3a28046
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/07/2009 00:10:29
Message:
More tests and complete fix for svn791672 commit -- correct requeue #MsgLength=68


----
Modified: src/qpid/broker/PersistableMessage.cpp|10 0
Modified: src/qpid/broker/PersistableMessage.h|2 0
Modified: src/qpid/broker/Queue.cpp|11 5
Modified: src/qpid/broker/Queue.h|0 1

Revision: 989c4c9852cbd21eff65e7693f6d89f561e3fd64
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/07/2009 00:20:47
Message:
 test for last commit #MsgLength=22


----
Modified: src/tests/QueueTest.cpp|18 1

Revision: 25f93d0553054b4ae4ae9306214cf46e3aca6994
Author: Gordon Sim <gsim@apache.org>
Date: 09/07/2009 01:28:09
Message:
Now that broker expects clients to send heartbeats, the client half of an inter-broker link must echo heratbeats (as these are set to the maximum allowed value for such links). #MsgLength=179


----
Modified: src/qpid/broker/ConnectionHandler.cpp|8 3

Revision: 61f28ff44c575a1ea6cf32d5579d623e8fee3497
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/07/2009 02:58:27
Message:
fix for regression in patch & test to prevent regression again Simulate this: 1. start 2 nodes 2. create cluster durable lvq 3. send a transient message to the queue 4. kill one of the nodes (to trigger force persistent behaviour)... 5. then restart it (to turn off force persistent behaviour) 6. send another transient message with same lvq key as in 3 7. kill the second node again (retrigger force persistent) 8. stop and recover the first node #MsgLength=467


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/tests/QueueTest.cpp|50 0

Revision: 99e7b11b140e7771ade832f785da7a185caa1897
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/07/2009 04:01:34
Message:
Fix to cover this case: 1. start two nodes 2. create cluster durable queue and add some messages 3. kill one node (trigger force-persistent behaviour) 4. stop and recover remaining node 5. add another node 6. kill that new node again #MsgLength=248


----
Modified: src/qpid/broker/PersistableMessage.cpp|6 1
Modified: src/qpid/broker/PersistableMessage.h|3 0
Modified: src/qpid/broker/Queue.cpp|4 0

Revision: 425c73deeee6d946cb78b7e4d5b56044e392c984
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 09/07/2009 04:02:36
Message:
simulate this: 1. start two nodes 2. create cluster durable queue and add some messages 3. kill one node (trigger force-persistent behaviour) 4. stop and recover remaining node 5. add another node 6. kill that new node again make sure that an attempt to re-enqueue a message does not happen which will result in the last man standing exiting with an error. #MsgLength=373


----
Modified: src/tests/QueueTest.cpp|42 0

Revision: bf8d0ae9a48aa26ecddc26e850ba144ee82c2edd
Author: Ted Ross <tross@apache.org>
Date: 09/07/2009 22:48:13
Message:
Fix make distcheck problems #MsgLength=28


----
Modified: bindings/qmf/Makefile.am|1 4
Modified: bindings/qmf/ruby/Makefile.am|6 9
Modified: configure.ac|0 1

Revision: 9f5d8929dd613f800150363e53a0668430e2077f
Author: Ted Ross <tross@apache.org>
Date: 09/07/2009 22:49:25
Message:
Removed commented out code in makefile #MsgLength=39


----
Modified: bindings/qmf/ruby/Makefile.am|0 2

Revision: c63a4641a5cc382a754825242f89e4b66cf1cdad
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/07/2009 04:19:04
Message:
Clean up for next commit to clean broker interface #MsgLength=51


----
Modified: src/tests/IncompleteMessageList.cpp|2 1
Modified: src/tests/QueueTest.cpp|2 2

Revision: b041aad56eb5e1be8e2a26deaabe9ab4f4c776ca
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/07/2009 04:20:45
Message:
Move helper functions out of the public interface, as they are unsafe #MsgLength=70


----
Modified: src/qpid/broker/PersistableMessage.h|4 3

Revision: f2ade1ad0a305202d111a4c59ffa520f9b42cfc5
Author: Alan Conway <aconway@apache.org>
Date: 10/07/2009 04:38:23
Message:
Simplified PollableCondition #MsgLength=30


----
Modified: src/qpid/sys/PollableCondition.h|2 17
Modified: src/qpid/sys/PollableQueue.h|3 5
Modified: src/qpid/sys/posix/PollableCondition.cpp|25 88
Modified: src/qpid/sys/windows/PollableCondition.cpp|2 11
Modified: src/tests/PollableCondition.cpp|9 19

Revision: b0f29d2f8b9130ad67f9d8f2c02032690776bbdd
Author: Alan Conway <aconway@apache.org>
Date: 10/07/2009 04:38:31
Message:
Minor improvement to cluster logging. #MsgLength=39


----
Modified: src/qpid/cluster/Cluster.cpp|6 3

Revision: 88c66aded95b49048eb168805addce60a2add282
Author: Alan Conway <aconway@apache.org>
Date: 10/07/2009 23:42:36
Message:
Fix cluster handling of multiple errors. #MsgLength=263


----
Modified: src/qpid/cluster/Cluster.cpp|2 1
Modified: src/qpid/cluster/ErrorCheck.cpp|27 14
Modified: src/qpid/cluster/ErrorCheck.h|8 4

Revision: f10eb77fbb93a60fdaa8beb2b300f5dcc44b0601
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 11/07/2009 03:42:16
Message:
Correct the case where for very low ( bytes) staging threshhold management could get disabled. Fix prevents the staging of management messages + test #MsgLength=152


----
Modified: src/qpid/broker/MessageBuilder.cpp|4 1
Modified: src/tests/MessageBuilderTest.cpp|25 0

Revision: b1bff63654d3943fb15b6b5842698a53f89a2d27
Author: Ted Ross <tross@apache.org>
Date: 11/07/2009 04:28:38
Message:
Fixed another make dist problem.  Need to specify "nodist_" for conditionally generated sources. #MsgLength=98


----
Modified: bindings/qmf/ruby/Makefile.am|1 1

Revision: 561ccd4c2bbf32ef22ab3be926ae1764de477cd5
Author: Ted Ross <tross@apache.org>
Date: 11/07/2009 05:05:10
Message:
Additional fix for make distcheck. Added CLEANFILES definition to clean up generated sources. #MsgLength=95


----
Modified: bindings/qmf/ruby/Makefile.am|2 0

Revision: fa47856ba7057d602bd7933e7019f0ba72936dee
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/07/2009 05:41:40
Message:
Remove libtool file that no longer needs tobe checked in #MsgLength=58


----
Deleted: build-aux/ltmain.sh|0 6892

Revision: 0c179da4823ecc7bfadb85b7b6476feb2a1d6404
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/07/2009 05:41:49
Message:
Typos/Whitespace fixes #MsgLength=24


----
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/sys/DispatchHandle.h|3 3
Modified: src/qpid/sys/Timer.h|1 1

Revision: ed0d290b2a38b805a2629bb45d74c022bc0bfc5d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/07/2009 05:41:54
Message:
Allow TimerTasks to be delayed correctly by separating out the time used to sort in the priority queue and the firing time #MsgLength=124


----
Modified: src/qpid/sys/Timer.cpp|9 3
Modified: src/qpid/sys/Timer.h|1 0

Revision: ee01792eaf56be182c657b5f54b44ac302f7739d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/07/2009 05:42:11
Message:
Change all broker users of broker::Timer to use sys::Timer #MsgLength=60


----
Modified: src/qpid/broker/Broker.h|6 10
Modified: src/qpid/broker/Connection.cpp|19 32
Modified: src/qpid/broker/Connection.h|2 2
Modified: src/qpid/broker/DtxManager.cpp|2 3
Modified: src/qpid/broker/DtxManager.h|4 4
Modified: src/qpid/broker/DtxTimeout.h|3 3
Modified: src/qpid/broker/LinkRegistry.cpp|2 2
Modified: src/qpid/broker/LinkRegistry.h|3 3
Modified: src/qpid/broker/QueueCleaner.cpp|4 4
Modified: src/qpid/broker/QueueCleaner.h|6 6
Modified: src/qpid/broker/SessionState.cpp|8 9
Modified: src/qpid/broker/SessionState.h|5 2
Modified: src/qpid/cluster/ExpiryPolicy.cpp|4 4
Modified: src/qpid/cluster/ExpiryPolicy.h|6 3
Modified: src/qpid/management/ManagementAgent.cpp|1 1
Modified: src/qpid/management/ManagementAgent.h|3 3

Revision: c504504a321fdd6f806cd3140ce2539de23245a2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/07/2009 05:42:19
Message:
Change remaining broker Timer clients to use the single broker Timer #MsgLength=70


----
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|4 2
Modified: src/qpid/broker/LinkRegistry.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|3 3
Modified: src/qpid/management/ManagementAgent.h|1 1

Revision: d6087b3c28a4b3a6a152b8dc65a58c88f5033ff8
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/07/2009 23:00:58
Message:
Reverted checkins 793119, 793120, 793121, 793122 because of problems with heartbeats and the store tests. #MsgLength=106


----
Modified: src/qpid/broker/Broker.h|10 6
Modified: src/qpid/broker/Connection.cpp|32 19
Modified: src/qpid/broker/Connection.h|2 2
Modified: src/qpid/broker/DtxManager.cpp|3 2
Modified: src/qpid/broker/DtxManager.h|4 4
Modified: src/qpid/broker/DtxTimeout.h|3 3
Modified: src/qpid/broker/LinkRegistry.cpp|4 6
Modified: src/qpid/broker/LinkRegistry.h|3 3
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/QueueCleaner.cpp|4 4
Modified: src/qpid/broker/QueueCleaner.h|6 6
Modified: src/qpid/broker/SessionState.cpp|9 8
Modified: src/qpid/broker/SessionState.h|2 5
Modified: src/qpid/cluster/ExpiryPolicy.cpp|4 4
Modified: src/qpid/cluster/ExpiryPolicy.h|3 6
Modified: src/qpid/management/ManagementAgent.cpp|3 3
Modified: src/qpid/management/ManagementAgent.h|3 3
Modified: src/qpid/sys/DispatchHandle.h|3 3
Modified: src/qpid/sys/Timer.cpp|3 9
Modified: src/qpid/sys/Timer.h|1 2

Revision: d2b426ebcb4560176bfcec419405a5f22447d0a2
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/07/2009 05:27:14
Message:
Replace getenv usage with more secure Windows calls - silences compile diagnostics. This involved adding a new method Broker::Options::getHome() implemented separately for Windows and posix BrokerDefaults.cpp #MsgLength=209


----
Modified: src/qpid/broker/Broker.cpp|2 3
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/posix/BrokerDefaults.cpp|11 1
Modified: src/qpid/broker/windows/BrokerDefaults.cpp|12 1
Modified: src/windows/QpiddBroker.cpp|7 6

Revision: 73febeb49093970e6f4cbc6d1be701771a3465fc
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/07/2009 05:29:20
Message:
Add missing externs for Queue methods; silence getenv() warnings on Windows by setting _CRT_NO_SECURE_WARNING #MsgLength=110


----
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/tests/CMakeLists.txt|3 1

Revision: 534f6c65465d79e84405a21bcb5fe1fd09c593af
Author: Gordon Sim <gsim@apache.org>
Date: 14/07/2009 17:07:14
Message:
Reapplied r793119 #MsgLength=20


----
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/sys/DispatchHandle.h|3 3
Modified: src/qpid/sys/Timer.h|1 1

Revision: ebbaf64fbe8a7b342ec9207106bbd29761a49f57
Author: Gordon Sim <gsim@apache.org>
Date: 14/07/2009 17:58:51
Message:
Reapplied r793120 #MsgLength=20


----
Modified: src/qpid/sys/Timer.cpp|9 3
Modified: src/qpid/sys/Timer.h|1 0

Revision: 05b16f0642bce670a9d05df2330320eb83ae0170
Author: Gordon Sim <gsim@apache.org>
Date: 14/07/2009 19:45:53
Message:
QPID-1984: Temporarily disabled the failing test until the error can be resolved. #MsgLength=84


----
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/reliable_replication_test|1 0

Revision: 359dad640f6a0ea3dd345de4854ca298e18e3672
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2009 22:32:39
Message:
Add directory to #include #MsgLength=26


----
Modified: rubygen/0-10/handlers.rb|1 1
Modified: rubygen/0-10/specification.rb|2 2
Modified: rubygen/framing.0-10/MethodBodyDefaultVisitor.rb|1 1
Modified: rubygen/framing.0-10/Proxy.rb|1 1
Modified: rubygen/framing.0-10/Session.rb|1 1
Modified: rubygen/framing.0-10/constants.rb|1 1
Modified: rubygen/framing.0-10/structs.rb|3 4
Modified: src/Makefile.am|0 1
Modified: src/qmf/Agent.cpp|8 8
Modified: src/qmf/MessageImpl.cpp|1 1
Modified: src/qmf/MessageImpl.h|1 1
Modified: src/qmf/ObjectIdImpl.cpp|1 1
Modified: src/qmf/ObjectImpl.cpp|2 2
Modified: src/qmf/QueryImpl.cpp|1 1
Modified: src/qmf/ResilientConnection.cpp|2 2
Modified: src/qmf/SchemaImpl.cpp|1 1
Modified: src/qmf/SchemaImpl.h|1 1
Modified: src/qmf/ValueImpl.cpp|1 1
Modified: src/qpid/Address.cpp|1 1
Modified: src/qpid/DataDir.cpp|2 2
Modified: src/qpid/Exception.cpp|1 1
Modified: src/qpid/InlineVector.h|1 1
Modified: src/qpid/Modules.cpp|2 2
Modified: src/qpid/Modules.h|1 1
Modified: src/qpid/Options.cpp|1 1
Modified: src/qpid/Plugin.cpp|1 1
Modified: src/qpid/RefCountedBuffer.cpp|1 1
Modified: src/qpid/SessionId.cpp|1 1
Modified: src/qpid/SessionState.cpp|1 1
Modified: src/qpid/StringUtils.cpp|1 1
Modified: src/qpid/agent/ManagementAgent.h|1 1
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1
Modified: src/qpid/amqp_0_10/Array.cpp|1 1
Modified: src/qpid/amqp_0_10/Codec.h|1 1
Modified: src/qpid/amqp_0_10/Command.h|1 1
Modified: src/qpid/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/amqp_0_10/Control.h|1 1
Modified: src/qpid/amqp_0_10/FrameHeader.cpp|1 1
Modified: src/qpid/amqp_0_10/Header.cpp|1 1
Modified: src/qpid/amqp_0_10/Holder.h|1 1
Modified: src/qpid/amqp_0_10/Map.cpp|1 1
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 1
Modified: src/qpid/amqp_0_10/Struct.h|1 1
Modified: src/qpid/amqp_0_10/Struct32.cpp|1 1
Modified: src/qpid/amqp_0_10/Unit.cpp|2 2
Modified: src/qpid/amqp_0_10/UnknownType.cpp|1 1
Modified: src/qpid/amqp_0_10/built_in_types.h|2 2
Modified: src/qpid/broker/Bridge.cpp|6 6
Modified: src/qpid/broker/Bridge.h|2 2
Modified: src/qpid/broker/Broker.cpp|12 12
Modified: src/qpid/broker/Broker.h|17 17
Modified: src/qpid/broker/BrokerSingleton.cpp|1 1
Modified: src/qpid/broker/BrokerSingleton.h|2 2
Modified: src/qpid/broker/Connection.cpp|4 4
Modified: src/qpid/broker/Connection.h|3 3
Modified: src/qpid/broker/ConnectionFactory.cpp|1 1
Modified: src/qpid/broker/ConnectionHandler.cpp|4 4
Modified: src/qpid/broker/ConnectionHandler.h|2 2
Modified: src/qpid/broker/ConnectionState.h|1 1
Modified: src/qpid/broker/ConnectionToken.h|1 1
Modified: src/qpid/broker/Consumer.h|3 3
Modified: src/qpid/broker/Daemon.cpp|1 1
Modified: src/qpid/broker/Deliverable.h|2 2
Modified: src/qpid/broker/DeliverableMessage.cpp|1 1
Modified: src/qpid/broker/DeliverableMessage.h|4 4
Modified: src/qpid/broker/DeliveryAdapter.h|2 2
Modified: src/qpid/broker/DeliveryRecord.cpp|4 4
Modified: src/qpid/broker/DeliveryRecord.h|5 5
Modified: src/qpid/broker/DirectExchange.cpp|1 1
Modified: src/qpid/broker/DirectExchange.h|3 3
Modified: src/qpid/broker/DtxAck.cpp|1 1
Modified: src/qpid/broker/DtxAck.h|2 2
Modified: src/qpid/broker/DtxBuffer.cpp|1 1
Modified: src/qpid/broker/DtxBuffer.h|2 2
Modified: src/qpid/broker/DtxManager.cpp|2 2
Modified: src/qpid/broker/DtxManager.h|4 4
Modified: src/qpid/broker/DtxTimeout.cpp|2 2
Modified: src/qpid/broker/DtxTimeout.h|1 1
Modified: src/qpid/broker/DtxWorkRecord.cpp|1 1
Modified: src/qpid/broker/DtxWorkRecord.h|4 4
Modified: src/qpid/broker/Exchange.cpp|4 4
Modified: src/qpid/broker/Exchange.h|5 5
Modified: src/qpid/broker/ExchangeRegistry.cpp|5 5
Modified: src/qpid/broker/ExchangeRegistry.h|3 3
Modified: src/qpid/broker/ExpiryPolicy.cpp|2 2
Modified: src/qpid/broker/ExpiryPolicy.h|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|1 1
Modified: src/qpid/broker/FanOutExchange.h|3 3
Modified: src/qpid/broker/HandlerImpl.h|3 3
Modified: src/qpid/broker/HeadersExchange.cpp|1 1
Modified: src/qpid/broker/HeadersExchange.h|3 3
Modified: src/qpid/broker/IncompleteMessageList.cpp|1 1
Modified: src/qpid/broker/IncompleteMessageList.h|1 1
Modified: src/qpid/broker/Link.cpp|5 5
Modified: src/qpid/broker/Link.h|4 4
Modified: src/qpid/broker/LinkRegistry.cpp|3 3
Modified: src/qpid/broker/LinkRegistry.h|3 3
Modified: src/qpid/broker/Message.cpp|3 3
Modified: src/qpid/broker/Message.h|3 3
Modified: src/qpid/broker/MessageAdapter.cpp|1 1
Modified: src/qpid/broker/MessageBuilder.cpp|4 4
Modified: src/qpid/broker/MessageBuilder.h|1 1
Modified: src/qpid/broker/MessageStore.h|6 6
Modified: src/qpid/broker/MessageStoreModule.cpp|2 2
Modified: src/qpid/broker/MessageStoreModule.h|3 3
Modified: src/qpid/broker/NameGenerator.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|3 3
Modified: src/qpid/broker/NullMessageStore.h|3 3
Modified: src/qpid/broker/PersistableConfig.h|1 1
Modified: src/qpid/broker/PersistableExchange.h|1 1
Modified: src/qpid/broker/PersistableMessage.cpp|2 2
Modified: src/qpid/broker/PersistableMessage.h|3 3
Modified: src/qpid/broker/PersistableQueue.h|1 1
Modified: src/qpid/broker/Queue.cpp|8 8
Modified: src/qpid/broker/Queue.h|9 9
Modified: src/qpid/broker/QueueBindings.cpp|2 2
Modified: src/qpid/broker/QueueCleaner.cpp|2 2
Modified: src/qpid/broker/QueueCleaner.h|2 2
Modified: src/qpid/broker/QueueEvents.cpp|1 1
Modified: src/qpid/broker/QueueEvents.h|2 2
Modified: src/qpid/broker/QueueListeners.cpp|1 1
Modified: src/qpid/broker/QueueListeners.h|1 1
Modified: src/qpid/broker/QueuePolicy.cpp|2 2
Modified: src/qpid/broker/QueuePolicy.h|2 2
Modified: src/qpid/broker/QueueRegistry.cpp|2 2
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/QueuedMessage.h|1 1
Modified: src/qpid/broker/RateTracker.cpp|1 1
Modified: src/qpid/broker/RecoverableQueue.h|1 1
Modified: src/qpid/broker/RecoverableTransaction.h|2 2
Modified: src/qpid/broker/RecoveredDequeue.cpp|1 1
Modified: src/qpid/broker/RecoveredDequeue.h|5 5
Modified: src/qpid/broker/RecoveredEnqueue.cpp|1 1
Modified: src/qpid/broker/RecoveredEnqueue.h|5 5
Modified: src/qpid/broker/RecoveryManager.h|6 6
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|8 8
Modified: src/qpid/broker/RecoveryManagerImpl.h|5 5
Modified: src/qpid/broker/RetryList.cpp|1 1
Modified: src/qpid/broker/RetryList.h|1 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1
Modified: src/qpid/broker/SecureConnection.cpp|1 1
Modified: src/qpid/broker/SecureConnectionFactory.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|11 11
Modified: src/qpid/broker/SemanticState.h|9 9
Modified: src/qpid/broker/SessionAdapter.cpp|3 3
Modified: src/qpid/broker/SessionAdapter.h|3 3
Modified: src/qpid/broker/SessionContext.h|2 2
Modified: src/qpid/broker/SessionHandler.cpp|3 3
Modified: src/qpid/broker/SessionManager.cpp|2 2
Modified: src/qpid/broker/SessionState.cpp|8 8
Modified: src/qpid/broker/SessionState.h|6 6
Modified: src/qpid/broker/SignalHandler.cpp|2 2
Modified: src/qpid/broker/System.cpp|2 2
Modified: src/qpid/broker/Timer.cpp|1 1
Modified: src/qpid/broker/Timer.h|1 1
Modified: src/qpid/broker/TopicExchange.cpp|1 1
Modified: src/qpid/broker/TopicExchange.h|3 3
Modified: src/qpid/broker/TxAccept.cpp|1 1
Modified: src/qpid/broker/TxAccept.h|2 2
Modified: src/qpid/broker/TxBuffer.cpp|1 1
Modified: src/qpid/broker/TxBuffer.h|3 3
Modified: src/qpid/broker/TxOp.h|2 2
Modified: src/qpid/broker/TxPublish.cpp|1 1
Modified: src/qpid/broker/TxPublish.h|6 6
Modified: src/qpid/broker/Vhost.cpp|2 2
Deleted: src/qpid/client/AckMode.h|0 53
Modified: src/qpid/client/Bounds.cpp|1 1
Modified: src/qpid/client/Completion.cpp|3 3
Modified: src/qpid/client/Completion.h|2 2
Modified: src/qpid/client/CompletionImpl.h|1 1
Modified: src/qpid/client/Connection.cpp|6 6
Modified: src/qpid/client/ConnectionHandler.cpp|2 2
Modified: src/qpid/client/ConnectionHandler.h|4 4
Modified: src/qpid/client/ConnectionImpl.cpp|5 5
Modified: src/qpid/client/ConnectionImpl.h|2 2
Modified: src/qpid/client/ConnectionSettings.cpp|1 1
Modified: src/qpid/client/Connector.cpp|4 4
Modified: src/qpid/client/Demux.cpp|1 1
Modified: src/qpid/client/Dispatcher.cpp|5 5
Modified: src/qpid/client/Dispatcher.h|3 3
Modified: src/qpid/client/Execution.h|1 1
Modified: src/qpid/client/FailoverListener.cpp|2 2
Modified: src/qpid/client/FailoverManager.cpp|1 1
Modified: src/qpid/client/FailoverManager.h|2 2
Modified: src/qpid/client/Future.cpp|2 2
Modified: src/qpid/client/Future.h|3 3
Modified: src/qpid/client/FutureCompletion.cpp|1 1
Modified: src/qpid/client/FutureResult.cpp|2 2
Modified: src/qpid/client/FutureResult.h|2 2
Modified: src/qpid/client/LocalQueue.cpp|5 5
Modified: src/qpid/client/LocalQueue.h|3 3
Modified: src/qpid/client/LocalQueueImpl.cpp|5 5
Modified: src/qpid/client/LocalQueueImpl.h|2 2
Modified: src/qpid/client/Message.cpp|2 2
Modified: src/qpid/client/MessageImpl.cpp|1 1
Modified: src/qpid/client/MessageImpl.h|1 1
Modified: src/qpid/client/MessageListener.cpp|1 1
Modified: src/qpid/client/MessageListener.h|1 1
Modified: src/qpid/client/MessageReplayTracker.cpp|1 1
Modified: src/qpid/client/MessageReplayTracker.h|2 2
Modified: src/qpid/client/QueueOptions.cpp|1 1
Modified: src/qpid/client/QueueOptions.h|1 1
Modified: src/qpid/client/RdmaConnector.cpp|4 4
Modified: src/qpid/client/Results.cpp|2 2
Modified: src/qpid/client/SaslFactory.cpp|2 2
Modified: src/qpid/client/SaslFactory.h|1 1
Modified: src/qpid/client/SessionBase_0_10.cpp|2 2
Modified: src/qpid/client/SessionImpl.cpp|3 3
Modified: src/qpid/client/SessionImpl.h|3 3
Modified: src/qpid/client/SslConnector.cpp|4 4
Modified: src/qpid/client/StateManager.cpp|1 1
Modified: src/qpid/client/Subscription.cpp|4 4
Modified: src/qpid/client/SubscriptionImpl.cpp|10 10
Modified: src/qpid/client/SubscriptionManager.cpp|3 3
Modified: src/qpid/client/SubscriptionManagerImpl.cpp|5 5
Modified: src/qpid/client/TypedResult.h|1 1
Modified: src/qpid/cluster/Cluster.cpp|7 7
Modified: src/qpid/cluster/Cluster.h|15 15
Modified: src/qpid/cluster/ClusterMap.cpp|1 1
Modified: src/qpid/cluster/ClusterMap.h|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 3
Modified: src/qpid/cluster/Connection.cpp|3 3
Modified: src/qpid/cluster/Connection.h|4 4
Modified: src/qpid/cluster/ConnectionCodec.cpp|4 4
Modified: src/qpid/cluster/Cpg.cpp|1 1
Modified: src/qpid/cluster/Decoder.cpp|2 2
Modified: src/qpid/cluster/Decoder.h|1 1
Modified: src/qpid/cluster/ErrorCheck.cpp|4 4
Modified: src/qpid/cluster/ErrorCheck.h|2 2
Modified: src/qpid/cluster/Event.cpp|3 3
Modified: src/qpid/cluster/Event.h|2 2
Modified: src/qpid/cluster/EventFrame.cpp|2 2
Modified: src/qpid/cluster/EventFrame.h|2 2
Modified: src/qpid/cluster/ExpiryPolicy.cpp|2 2
Modified: src/qpid/cluster/ExpiryPolicy.h|1 1
Modified: src/qpid/cluster/FailoverExchange.cpp|1 1
Modified: src/qpid/cluster/LockedConnectionMap.h|2 2
Modified: src/qpid/cluster/McastFrameHandler.h|2 2
Modified: src/qpid/cluster/Multicaster.cpp|2 2
Modified: src/qpid/cluster/Multicaster.h|2 2
Modified: src/qpid/cluster/OutputInterceptor.cpp|3 3
Modified: src/qpid/cluster/OutputInterceptor.h|1 1
Modified: src/qpid/cluster/PollerDispatch.cpp|1 1
Modified: src/qpid/cluster/PollerDispatch.h|1 1
Modified: src/qpid/cluster/Quorum.h|2 2
Modified: src/qpid/cluster/Quorum_cman.cpp|1 1
Modified: src/qpid/cluster/RetractClient.cpp|2 2
Modified: src/qpid/cluster/UpdateClient.cpp|6 6
Modified: src/qpid/cluster/UpdateClient.h|1 1
Modified: src/qpid/cluster/UpdateExchange.h|1 1
Modified: src/qpid/console/Agent.cpp|1 1
Modified: src/qpid/console/Agent.h|2 2
Modified: src/qpid/console/Broker.cpp|5 5
Modified: src/qpid/console/Broker.h|1 1
Modified: src/qpid/console/ClassKey.cpp|1 1
Modified: src/qpid/console/ClassKey.h|2 2
Modified: src/qpid/console/ConsoleListener.h|5 5
Modified: src/qpid/console/Event.cpp|5 5
Modified: src/qpid/console/Event.h|2 2
Modified: src/qpid/console/Object.cpp|6 6
Modified: src/qpid/console/Object.h|2 2
Modified: src/qpid/console/ObjectId.cpp|1 1
Modified: src/qpid/console/ObjectId.h|1 1
Modified: src/qpid/console/Package.cpp|1 1
Modified: src/qpid/console/Package.h|1 1
Modified: src/qpid/console/Schema.cpp|2 2
Modified: src/qpid/console/Schema.h|1 1
Modified: src/qpid/console/SequenceManager.cpp|1 1
Modified: src/qpid/console/SequenceManager.h|1 1
Modified: src/qpid/console/SessionManager.cpp|3 3
Modified: src/qpid/console/SessionManager.h|10 10
Modified: src/qpid/console/Value.cpp|1 1
Modified: src/qpid/console/Value.h|1 1
Modified: src/qpid/framing/AMQContentBody.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.h|3 3
Modified: src/qpid/framing/AMQDataBlock.h|1 1
Modified: src/qpid/framing/AMQFrame.cpp|1 1
Modified: src/qpid/framing/AMQFrame.h|5 5
Modified: src/qpid/framing/AMQHeaderBody.cpp|1 1
Modified: src/qpid/framing/AMQHeaderBody.h|3 3
Modified: src/qpid/framing/AMQHeartbeatBody.cpp|1 1
Modified: src/qpid/framing/AMQHeartbeatBody.h|3 3
Modified: src/qpid/framing/AMQMethodBody.cpp|1 1
Modified: src/qpid/framing/AMQMethodBody.h|2 2
Modified: src/qpid/framing/AccumulatedAck.cpp|1 1
Modified: src/qpid/framing/AccumulatedAck.h|2 2
Modified: src/qpid/framing/Array.cpp|3 3
Modified: src/qpid/framing/Array.h|2 2
Modified: src/qpid/framing/Blob.cpp|1 1
Modified: src/qpid/framing/BodyHandler.cpp|5 5
Modified: src/qpid/framing/Buffer.cpp|2 2
Modified: src/qpid/framing/Buffer.h|1 1
Modified: src/qpid/framing/ChannelHandler.h|2 2
Modified: src/qpid/framing/Endian.cpp|1 1
Modified: src/qpid/framing/FieldTable.cpp|5 5
Modified: src/qpid/framing/FieldTable.h|1 1
Modified: src/qpid/framing/FieldValue.cpp|4 4
Modified: src/qpid/framing/FieldValue.h|5 5
Modified: src/qpid/framing/FrameDecoder.cpp|2 2
Modified: src/qpid/framing/FrameDecoder.h|1 1
Modified: src/qpid/framing/FrameHandler.h|1 1
Modified: src/qpid/framing/FrameSet.cpp|1 1
Modified: src/qpid/framing/HeaderProperties.h|2 2
Modified: src/qpid/framing/InitiationHandler.cpp|1 1
Modified: src/qpid/framing/InitiationHandler.h|1 1
Modified: src/qpid/framing/InputHandler.h|1 1
Modified: src/qpid/framing/MethodBodyFactory.h|1 1
Modified: src/qpid/framing/MethodContent.h|1 1
Modified: src/qpid/framing/ModelMethod.h|1 1
Modified: src/qpid/framing/OutputHandler.h|1 1
Modified: src/qpid/framing/ProtocolInitiation.cpp|1 1
Modified: src/qpid/framing/ProtocolInitiation.h|4 4
Modified: src/qpid/framing/ProtocolVersion.cpp|1 1
Modified: src/qpid/framing/ProtocolVersion.h|1 1
Modified: src/qpid/framing/Proxy.cpp|3 3
Modified: src/qpid/framing/Proxy.h|2 2
Modified: src/qpid/framing/SendContent.cpp|1 1
Modified: src/qpid/framing/SequenceNumber.cpp|2 2
Modified: src/qpid/framing/SequenceNumber.h|1 1
Modified: src/qpid/framing/SequenceNumberSet.cpp|1 1
Modified: src/qpid/framing/SequenceNumberSet.h|3 3
Modified: src/qpid/framing/SequenceSet.cpp|2 2
Modified: src/qpid/framing/SequenceSet.h|1 1
Modified: src/qpid/framing/StructHelper.h|1 1
Modified: src/qpid/framing/TransferContent.cpp|1 1
Modified: src/qpid/framing/TransferContent.h|2 2
Modified: src/qpid/framing/Uuid.cpp|1 1
Modified: src/qpid/framing/amqp_framing.h|12 12
Modified: src/qpid/framing/amqp_types_full.h|5 5
Modified: src/qpid/log/Logger.cpp|3 3
Modified: src/qpid/log/Logger.h|2 2
Modified: src/qpid/log/Options.cpp|3 3
Modified: src/qpid/log/Options.h|1 1
Modified: src/qpid/log/OstreamOutput.cpp|1 1
Modified: src/qpid/log/OstreamOutput.h|1 1
Modified: src/qpid/log/Selector.cpp|2 2
Modified: src/qpid/log/Selector.h|1 1
Modified: src/qpid/log/Statement.cpp|2 2
Modified: src/qpid/log/posix/SinkOptions.cpp|1 1
Modified: src/qpid/log/windows/SinkOptions.cpp|1 1
Modified: src/qpid/management/IdAllocator.h|1 1
Modified: src/qpid/management/Manageable.cpp|1 1
Modified: src/qpid/management/Manageable.h|2 2
Modified: src/qpid/management/ManagementAgent.cpp|3 3
Modified: src/qpid/management/ManagementAgent.h|3 3
Modified: src/qpid/management/ManagementEvent.h|1 1
Modified: src/qpid/management/ManagementExchange.cpp|1 1
Modified: src/qpid/management/ManagementExchange.h|1 1
Modified: src/qpid/management/ManagementObject.cpp|2 2
Modified: src/qpid/replication/ReplicatingEventListener.cpp|2 2
Modified: src/qpid/replication/ReplicationExchange.cpp|2 2
Modified: src/qpid/sys/AggregateOutput.h|3 3
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 1
Modified: src/qpid/sys/AsynchIOHandler.h|4 4
Modified: src/qpid/sys/AtomicCount.h|1 1
Modified: src/qpid/sys/BlockingQueue.h|1 1
Modified: src/qpid/sys/ConnectionCodec.h|1 1
Modified: src/qpid/sys/ConnectionInputHandler.h|2 2
Modified: src/qpid/sys/ConnectionOutputHandler.h|1 1
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|1 1
Modified: src/qpid/sys/CopyOnWriteArray.h|1 1
Modified: src/qpid/sys/DispatchHandle.cpp|1 1
Modified: src/qpid/sys/DispatchHandle.h|2 2
Modified: src/qpid/sys/Dispatcher.cpp|1 1
Modified: src/qpid/sys/Dispatcher.h|2 2
Modified: src/qpid/sys/LatencyTracker.h|1 1
Modified: src/qpid/sys/LockFile.h|1 1
Modified: src/qpid/sys/Monitor.h|1 1
Modified: src/qpid/sys/OutputControl.h|1 1
Modified: src/qpid/sys/Poller.h|2 2
Modified: src/qpid/sys/ProtocolFactory.h|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 1
Modified: src/qpid/sys/Runnable.cpp|1 1
Modified: src/qpid/sys/SecurityLayer.h|1 1
Modified: src/qpid/sys/Semaphore.h|1 1
Modified: src/qpid/sys/Shlib.cpp|1 1
Modified: src/qpid/sys/Socket.h|1 1
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|3 3
Modified: src/qpid/sys/Timer.cpp|2 2
Modified: src/qpid/sys/apr/APRBase.cpp|1 1
Modified: src/qpid/sys/apr/APRPool.cpp|2 2
Modified: src/qpid/sys/apr/Condition.h|1 1
Modified: src/qpid/sys/apr/Mutex.h|2 2
Modified: src/qpid/sys/apr/Shlib.cpp|2 2
Modified: src/qpid/sys/apr/Socket.cpp|2 2
Modified: src/qpid/sys/apr/Thread.cpp|1 1
Modified: src/qpid/sys/apr/Thread.h|2 2
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1
Modified: src/qpid/sys/posix/Condition.h|1 1
Modified: src/qpid/sys/posix/IOHandle.cpp|1 1
Modified: src/qpid/sys/posix/LockFile.cpp|1 1
Modified: src/qpid/sys/posix/Mutex.h|1 1
Modified: src/qpid/sys/posix/PipeHandle.cpp|1 1
Modified: src/qpid/sys/posix/Socket.cpp|2 2
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 1
Modified: src/qpid/sys/posix/Thread.cpp|1 1
Modified: src/qpid/sys/posix/Time.cpp|1 1
Modified: src/qpid/sys/rdma/RdmaClient.cpp|1 1
Modified: src/qpid/sys/rdma/RdmaIO.cpp|1 1
Modified: src/qpid/sys/rdma/RdmaIO.h|1 1
Modified: src/qpid/sys/rdma/RdmaServer.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_factories.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_factories.h|1 1
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_wrap.h|1 1
Modified: src/qpid/sys/ssl/SslHandler.cpp|3 3
Modified: src/qpid/sys/ssl/SslIo.cpp|2 2
Modified: src/qpid/sys/ssl/SslSocket.cpp|3 3
Modified: src/qpid/sys/ssl/check.cpp|1 1
Modified: src/qpid/sys/ssl/util.cpp|2 2
Modified: src/qpid/sys/windows/AsynchIO.cpp|3 3
Modified: src/qpid/sys/windows/IOHandle.cpp|1 1
Modified: src/qpid/sys/windows/IoHandlePrivate.h|1 1
Modified: src/qpid/sys/windows/IocpPoller.cpp|3 3
Modified: src/qpid/sys/windows/LockFile.cpp|1 1
Modified: src/qpid/sys/windows/Mutex.h|1 1
Modified: src/qpid/sys/windows/PipeHandle.cpp|1 1
Modified: src/qpid/sys/windows/PollableCondition.cpp|2 2
Modified: src/qpid/sys/windows/Socket.cpp|2 2
Modified: src/qpid/sys/windows/Thread.cpp|1 1
Modified: src/qpid/sys/windows/uuid.cpp|1 1
Modified: src/qpid/xml/XmlExchange.cpp|1 1
Modified: src/qpid/xml/XmlExchangePlugin.cpp|1 1
Modified: src/qpidd.cpp|1 1
Modified: src/tests/AccumulatedAckTest.cpp|1 1
Modified: src/tests/Array.cpp|1 1
Modified: src/tests/AsyncCompletion.cpp|3 3
Modified: src/tests/AtomicValue.cpp|2 2
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/ClientMessageTest.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|3 3
Modified: src/tests/ClusterFailover.cpp|3 3
Modified: src/tests/ClusterFixture.cpp|5 5
Modified: src/tests/ClusterFixture.h|4 4
Modified: src/tests/ConsoleTest.cpp|1 1
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/DtxWorkRecordTest.cpp|2 2
Modified: src/tests/ExchangeTest.cpp|2 2
Modified: src/tests/FieldTable.cpp|1 1
Modified: src/tests/FieldValue.cpp|1 1
Modified: src/tests/ForkedBroker.cpp|1 1
Modified: src/tests/Frame.cpp|1 1
Modified: src/tests/FrameDecoder.cpp|1 1
Modified: src/tests/FramingTest.cpp|1 1
Modified: src/tests/HeaderTest.cpp|1 1
Modified: src/tests/HeadersExchangeTest.cpp|1 1
Modified: src/tests/IncompleteMessageList.cpp|1 1
Modified: src/tests/InlineAllocator.cpp|1 1
Modified: src/tests/InlineVector.cpp|1 1
Modified: src/tests/ManagementTest.cpp|1 1
Modified: src/tests/MessageBuilderTest.cpp|1 1
Modified: src/tests/MessageReplayTracker.cpp|2 2
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/PartialFailure.cpp|3 3
Modified: src/tests/PollableCondition.cpp|2 2
Modified: src/tests/ProxyTest.cpp|1 1
Modified: src/tests/QueueEvents.cpp|3 3
Modified: src/tests/QueueOptionsTest.cpp|1 1
Modified: src/tests/QueuePolicyTest.cpp|4 4
Modified: src/tests/QueueRegistryTest.cpp|1 1
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/RangeSet.cpp|2 2
Modified: src/tests/RateFlowcontrolTest.cpp|1 1
Modified: src/tests/RefCounted.cpp|1 1
Modified: src/tests/ReplicationTest.cpp|3 3
Modified: src/tests/RetryList.cpp|2 2
Modified: src/tests/SequenceNumberTest.cpp|1 1
Modified: src/tests/SequenceSet.cpp|1 1
Modified: src/tests/SessionState.cpp|1 1
Modified: src/tests/Shlib.cpp|2 2
Modified: src/tests/StringUtils.cpp|1 1
Modified: src/tests/TestOptions.h|1 1
Modified: src/tests/TimerTest.cpp|1 1
Modified: src/tests/TopicExchangeTest.cpp|2 2
Modified: src/tests/TxBufferTest.cpp|2 2
Modified: src/tests/TxPublishTest.cpp|3 3
Modified: src/tests/Url.cpp|2 2
Modified: src/tests/Uuid.cpp|1 1
Modified: src/tests/XmlClientSessionTest.cpp|3 3
Modified: src/tests/ais_test.cpp|1 1
Modified: src/tests/amqp_0_10/Map.cpp|1 1
Modified: src/tests/amqp_0_10/ProxyTemplate.cpp|1 1
Modified: src/tests/amqp_0_10/apply.cpp|1 1
Modified: src/tests/amqp_0_10/handlers.cpp|1 1
Modified: src/tests/amqp_0_10/serialize.cpp|2 2
Modified: src/tests/client_test.cpp|1 1
Modified: src/tests/cluster_test.cpp|5 5
Modified: src/tests/consume.cpp|1 1
Modified: src/tests/exception_test.cpp|3 3
Modified: src/tests/header_test.cpp|1 1
Modified: src/tests/latencytest.cpp|1 1
Modified: src/tests/logging.cpp|2 2
Modified: src/tests/perftest.cpp|1 1
Modified: src/tests/publish.cpp|1 1
Modified: src/tests/qpid_ping.cpp|1 1
Modified: src/tests/receiver.cpp|1 1
Modified: src/tests/sender.cpp|1 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1
Modified: src/tests/txjob.cpp|1 1
Modified: src/tests/txshift.cpp|1 1
Modified: src/tests/txtest.cpp|1 1
Modified: src/tests/unit_test.cpp|1 1
Modified: src/windows/QpiddBroker.cpp|1 1

Revision: 1dc98c54a7372774f6a5737d051e4ec86852d622
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2009 22:41:22
Message:
Remove incorrect directory from #include #MsgLength=41


----
Modified: src/tests/AccumulatedAckTest.cpp|1 1
Modified: src/tests/Array.cpp|1 1
Modified: src/tests/AsyncCompletion.cpp|3 3
Modified: src/tests/AtomicValue.cpp|2 2
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/ClientMessageTest.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|3 3
Modified: src/tests/ClusterFailover.cpp|3 3
Modified: src/tests/ClusterFixture.cpp|5 5
Modified: src/tests/ClusterFixture.h|4 4
Modified: src/tests/ConsoleTest.cpp|1 1
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/DtxWorkRecordTest.cpp|2 2
Modified: src/tests/ExchangeTest.cpp|2 2
Modified: src/tests/FieldTable.cpp|1 1
Modified: src/tests/FieldValue.cpp|1 1
Modified: src/tests/ForkedBroker.cpp|1 1
Modified: src/tests/Frame.cpp|1 1
Modified: src/tests/FrameDecoder.cpp|1 1
Modified: src/tests/FramingTest.cpp|1 1
Modified: src/tests/HeaderTest.cpp|1 1
Modified: src/tests/HeadersExchangeTest.cpp|1 1
Modified: src/tests/IncompleteMessageList.cpp|1 1
Modified: src/tests/InlineAllocator.cpp|1 1
Modified: src/tests/InlineVector.cpp|1 1
Modified: src/tests/ManagementTest.cpp|1 1
Modified: src/tests/MessageBuilderTest.cpp|1 1
Modified: src/tests/MessageReplayTracker.cpp|2 2
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/PartialFailure.cpp|3 3
Modified: src/tests/PollableCondition.cpp|2 2
Modified: src/tests/ProxyTest.cpp|1 1
Modified: src/tests/QueueEvents.cpp|3 3
Modified: src/tests/QueueOptionsTest.cpp|1 1
Modified: src/tests/QueuePolicyTest.cpp|4 4
Modified: src/tests/QueueRegistryTest.cpp|1 1
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/RangeSet.cpp|2 2
Modified: src/tests/RateFlowcontrolTest.cpp|1 1
Modified: src/tests/RefCounted.cpp|1 1
Modified: src/tests/ReplicationTest.cpp|3 3
Modified: src/tests/RetryList.cpp|2 2
Modified: src/tests/SequenceNumberTest.cpp|1 1
Modified: src/tests/SequenceSet.cpp|1 1
Modified: src/tests/SessionState.cpp|1 1
Modified: src/tests/Shlib.cpp|2 2
Modified: src/tests/StringUtils.cpp|1 1
Modified: src/tests/TestOptions.h|1 1
Modified: src/tests/TimerTest.cpp|1 1
Modified: src/tests/TopicExchangeTest.cpp|2 2
Modified: src/tests/TxBufferTest.cpp|2 2
Modified: src/tests/TxPublishTest.cpp|3 3
Modified: src/tests/Url.cpp|2 2
Modified: src/tests/Uuid.cpp|1 1
Modified: src/tests/XmlClientSessionTest.cpp|3 3
Modified: src/tests/ais_test.cpp|1 1
Modified: src/tests/amqp_0_10/Map.cpp|1 1
Modified: src/tests/amqp_0_10/ProxyTemplate.cpp|1 1
Modified: src/tests/amqp_0_10/apply.cpp|1 1
Modified: src/tests/amqp_0_10/handlers.cpp|1 1
Modified: src/tests/amqp_0_10/serialize.cpp|3 3
Modified: src/tests/client_test.cpp|1 1
Modified: src/tests/cluster_test.cpp|5 5
Modified: src/tests/consume.cpp|1 1
Modified: src/tests/exception_test.cpp|3 3
Modified: src/tests/header_test.cpp|1 1
Modified: src/tests/latencytest.cpp|1 1
Modified: src/tests/logging.cpp|2 2
Modified: src/tests/perftest.cpp|1 1
Modified: src/tests/publish.cpp|1 1
Modified: src/tests/qpid_ping.cpp|1 1
Modified: src/tests/receiver.cpp|1 1
Modified: src/tests/sender.cpp|1 1
Modified: src/tests/topic_listener.cpp|1 1
Modified: src/tests/topic_publisher.cpp|1 1
Modified: src/tests/txjob.cpp|1 1
Modified: src/tests/txshift.cpp|1 1
Modified: src/tests/txtest.cpp|1 1
Modified: src/tests/unit_test.cpp|1 1

Revision: 566cb2e500964d5f50ed34e219a746c77795c1a5
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2009 22:49:33
Message:
Minor cluster optimizations. #MsgLength=30


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/ErrorCheck.cpp|5 13
Modified: src/qpid/cluster/ErrorCheck.h|5 2
Deleted: src/qpid/sys/ActivityTimer.h|0 106
Modified: src/tests/latencytest.cpp|44 13

Revision: 31813dcbac10c717b5acc434ddac9ca520504850
Author: Gordon Sim <gsim@apache.org>
Date: 15/07/2009 17:24:54
Message:
QPID-1988: Applied patch from Mick Goulish to ensure all brokers are stopped even if there is a failure. #MsgLength=107


----
Modified: src/tests/failover_soak.cpp|1 0

Revision: 281b9ed785be28cfd2a1bd807db0ebebf53749b0
Author: Alan Conway <aconway@apache.org>
Date: 16/07/2009 00:45:21
Message:
Merge branch 'move_public_h_to_include' into trunk #MsgLength=51


----
Modified: docs/api/Makefile.am|1 3
Modified: examples/CMakeLists.txt|1 1
Modified: examples/makedist.mk|1 1
Renamed: include/qpid/Address.h [from src/qpid/Address.h]|2 2
Renamed: include/qpid/CommonImportExport.h [from src/qpid/CommonImportExport.h]|0 0
Renamed: include/qpid/Exception.h [from src/qpid/Exception.h]|4 4
Renamed: include/qpid/InlineAllocator.h [from src/qpid/InlineAllocator.h]|5 5
Renamed: include/qpid/InlineVector.h [from src/qpid/InlineVector.h]|3 3
Renamed: include/qpid/Msg.h [from src/qpid/Msg.h]|2 2
Renamed: include/qpid/Options.h [from src/qpid/Options.h]|17 17
Renamed: include/qpid/RangeSet.h [from src/qpid/RangeSet.h]|14 14
Renamed: include/qpid/SessionId.h [from src/qpid/SessionId.h]|4 4
Renamed: include/qpid/Url.h [from src/qpid/Url.h]|2 2
Renamed: include/qpid/agent/ManagementAgent.h [from src/qpid/agent/ManagementAgent.h]|3 3
Renamed: include/qpid/agent/QmfAgentImportExport.h [from src/qpid/agent/QmfAgentImportExport.h]|0 0
Renamed: include/qpid/client/AsyncSession.h [from src/qpid/client/AsyncSession.h]|2 2
Renamed: include/qpid/client/ClientImportExport.h [from src/qpid/client/ClientImportExport.h]|1 1
Renamed: include/qpid/client/Completion.h [from src/qpid/client/Completion.h]|3 3
Renamed: include/qpid/client/Connection.h [from src/qpid/client/Connection.h]|17 17
Renamed: include/qpid/client/ConnectionSettings.h [from src/qpid/client/ConnectionSettings.h]|2 2
Renamed: include/qpid/client/FailoverManager.h [from src/qpid/client/FailoverManager.h]|6 6
Renamed: include/qpid/client/FlowControl.h [from src/qpid/client/FlowControl.h]|3 3
Renamed: include/qpid/client/Future.h [from src/qpid/client/Future.h]|4 4
Renamed: include/qpid/client/FutureCompletion.h [from src/qpid/client/FutureCompletion.h]|3 3
Renamed: include/qpid/client/FutureResult.h [from src/qpid/client/FutureResult.h]|3 3
Renamed: include/qpid/client/Handle.h [from src/qpid/client/Handle.h]|4 4
Renamed: include/qpid/client/LocalQueue.h [from src/qpid/client/LocalQueue.h]|5 5
Renamed: include/qpid/client/Message.h [from src/qpid/client/Message.h]|15 15
Renamed: include/qpid/client/MessageListener.h [from src/qpid/client/MessageListener.h]|10 10
Renamed: include/qpid/client/MessageReplayTracker.h [from src/qpid/client/MessageReplayTracker.h]|2 2
Renamed: include/qpid/client/QueueOptions.h [from src/qpid/client/QueueOptions.h]|13 13
Renamed: include/qpid/client/Session.h [from src/qpid/client/Session.h]|2 2
Renamed: include/qpid/client/SessionBase_0_10.h [from src/qpid/client/SessionBase_0_10.h]|5 5
Renamed: include/qpid/client/Subscription.h [from src/qpid/client/Subscription.h]|4 4
Renamed: include/qpid/client/SubscriptionManager.h [from src/qpid/client/SubscriptionManager.h]|21 21
Renamed: include/qpid/client/SubscriptionSettings.h [from src/qpid/client/SubscriptionSettings.h]|6 6
Renamed: include/qpid/client/TypedResult.h [from src/qpid/client/TypedResult.h]|3 3
Renamed: include/qpid/console/Agent.h [from src/qpid/console/Agent.h]|2 2
Renamed: include/qpid/console/Broker.h [from src/qpid/console/Broker.h]|3 3
Renamed: include/qpid/console/ClassKey.h [from src/qpid/console/ClassKey.h]|2 2
Renamed: include/qpid/console/ConsoleImportExport.h [from src/qpid/console/ConsoleImportExport.h]|1 1
Renamed: include/qpid/console/ConsoleListener.h [from src/qpid/console/ConsoleListener.h]|2 2
Renamed: include/qpid/console/Event.h [from src/qpid/console/Event.h]|2 2
Renamed: include/qpid/console/Object.h [from src/qpid/console/Object.h]|2 2
Renamed: include/qpid/console/ObjectId.h [from src/qpid/console/ObjectId.h]|2 2
Renamed: include/qpid/console/Package.h [from src/qpid/console/Package.h]|2 2
Renamed: include/qpid/console/Schema.h [from src/qpid/console/Schema.h]|2 2
Renamed: include/qpid/console/SequenceManager.h [from src/qpid/console/SequenceManager.h]|2 2
Renamed: include/qpid/console/SessionManager.h [from src/qpid/console/SessionManager.h]|3 3
Renamed: include/qpid/console/Value.h [from src/qpid/console/Value.h]|2 2
Renamed: include/qpid/framing/Array.h [from src/qpid/framing/Array.h]|4 4
Renamed: include/qpid/framing/Buffer.h [from src/qpid/framing/Buffer.h]|8 8
Renamed: include/qpid/framing/FieldTable.h [from src/qpid/framing/FieldTable.h]|4 4
Renamed: include/qpid/framing/FieldValue.h [from src/qpid/framing/FieldValue.h]|20 20
Renamed: include/qpid/framing/ProtocolVersion.h [from src/qpid/framing/ProtocolVersion.h]|5 5
Renamed: include/qpid/framing/SequenceNumber.h [from src/qpid/framing/SequenceNumber.h]|6 6
Renamed: include/qpid/framing/SequenceSet.h [from src/qpid/framing/SequenceSet.h]|8 8
Renamed: include/qpid/framing/StructHelper.h [from src/qpid/framing/StructHelper.h]|3 3
Renamed: include/qpid/framing/Uuid.h [from src/qpid/framing/Uuid.h]|2 2
Renamed: include/qpid/framing/amqp_types.h [from src/qpid/framing/amqp_types.h]|3 3
Renamed: include/qpid/framing/amqp_types_full.h [from src/qpid/framing/amqp_types_full.h]|0 0
Renamed: include/qpid/log/Logger.h [from src/qpid/log/Logger.h]|4 4
Renamed: include/qpid/log/Options.h [from src/qpid/log/Options.h]|0 0
Renamed: include/qpid/log/Selector.h [from src/qpid/log/Selector.h]|4 4
Renamed: include/qpid/log/SinkOptions.h [from src/qpid/log/SinkOptions.h]|0 0
Renamed: include/qpid/log/Statement.h [from src/qpid/log/Statement.h]|7 7
Renamed: include/qpid/management/Args.h [from src/qpid/management/Args.h]|3 3
Renamed: include/qpid/management/Manageable.h [from src/qpid/management/Manageable.h]|3 3
Renamed: include/qpid/management/ManagementEvent.h [from src/qpid/management/ManagementEvent.h]|2 2
Renamed: include/qpid/management/ManagementObject.h [from src/qpid/management/ManagementObject.h]|6 6
Renamed: include/qpid/sys/Condition.h [from src/qpid/sys/Condition.h]|2 2
Renamed: include/qpid/sys/IOHandle.h [from src/qpid/sys/IOHandle.h]|2 2
Renamed: include/qpid/sys/IntegerTypes.h [from src/qpid/sys/IntegerTypes.h]|0 0
Renamed: include/qpid/sys/Monitor.h [from src/qpid/sys/Monitor.h]|2 2
Renamed: include/qpid/sys/Mutex.h [from src/qpid/sys/Mutex.h]|1 1
Renamed: include/qpid/sys/Runnable.h [from src/qpid/sys/Runnable.h]|3 3
Renamed: include/qpid/sys/StrError.h [from src/qpid/sys/StrError.h]|3 3
Renamed: include/qpid/sys/SystemInfo.h [from src/qpid/sys/SystemInfo.h]|1 1
Renamed: include/qpid/sys/Thread.h [from src/qpid/sys/Thread.h]|4 4
Renamed: include/qpid/sys/Time.h [from src/qpid/sys/Time.h]|5 5
Renamed: include/qpid/sys/posix/Condition.h [from src/qpid/sys/posix/Condition.h]|2 2
Renamed: include/qpid/sys/posix/IntegerTypes.h [from src/qpid/sys/posix/IntegerTypes.h]|0 0
Renamed: include/qpid/sys/posix/Mutex.h [from src/qpid/sys/posix/Mutex.h]|7 7
Renamed: include/qpid/sys/posix/PrivatePosix.h [from src/qpid/sys/posix/PrivatePosix.h]|3 3
Renamed: include/qpid/sys/posix/Time.h [from src/qpid/sys/posix/Time.h]|0 0
Renamed: include/qpid/sys/posix/check.h [from src/qpid/sys/posix/check.h]|2 2
Renamed: include/qpid/sys/uuid.h [from src/qpid/sys/uuid.h]|0 0
Modified: src/CMakeLists.txt|16 15
Modified: src/Makefile.am|377 371
Modified: src/qmf.mk|37 36
Modified: src/qmfc.mk|26 38
Modified: src/tests/Makefile.am|1 1

Revision: ab47dab2a3a76e6df560349f2bbcbef6a45a46f2
Author: Alan Conway <aconway@apache.org>
Date: 16/07/2009 02:32:34
Message:
Fix makefile for new include directory #MsgLength=39


----
Modified: bindings/qmf/ruby/Makefile.am|1 1

Revision: cca2e757f6667909d80d05834997ca572581767b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/07/2009 10:16:04
Message:
better help text, kill not so usefull option #MsgLength=45


----
Modified: src/tests/latencytest.cpp|4 30

Revision: 316e5582a753002440cb172a9f4310021a7b6c79
Author: Alan Conway <aconway@apache.org>
Date: 17/07/2009 00:28:14
Message:
Update queue listeners in the correct order. #MsgLength=46


----
Modified: src/qpid/broker/QueueListeners.h|5 0
Modified: src/qpid/cluster/Cluster.h|19 15
Modified: src/qpid/cluster/Connection.cpp|23 16
Modified: src/qpid/cluster/Connection.h|14 8
Added: src/qpid/cluster/Numbering.h|70 0
Modified: src/qpid/cluster/UpdateClient.cpp|28 7
Modified: src/qpid/cluster/UpdateClient.h|4 0
Added: src/qpid/cluster/UpdateReceiver.h|42 0
Modified: src/tests/Makefile.am|3 2
Modified: xml/cluster.xml|5 2

Revision: 2abcda8f02f47baeff2de9331270958926ac27e0
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/07/2009 01:18:09
Message:
Minor configure.ac cleanup to remove unneeded openais definitions when no openais is in use. #MsgLength=93


----
Modified: Makefile.am|2 3
Modified: configure.ac|3 0

Revision: d18e6a1929e6f4831acba8ef5ca9ba542db73a5e
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/07/2009 02:59:12
Message:
Move necessary files due to header file reorg; fixes Windows build #MsgLength=67


----
Renamed: include/qpid/sys/windows/Condition.h [from src/qpid/sys/windows/Condition.h]|0 0
Renamed: include/qpid/sys/windows/Mutex.h [from src/qpid/sys/windows/Mutex.h]|0 0
Renamed: include/qpid/sys/windows/Time.h [from src/qpid/sys/windows/Time.h]|0 0

Revision: 961a95072552b832ff60c023e28d1c15d925a91e
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/07/2009 03:40:49
Message:
Correct qpidd.h header path #MsgLength=28


----
Modified: src/windows/QpiddBroker.cpp|1 1

Revision: dcc3a1849e031b8cdd637792eec684042a92869c
Author: Ted Ross <tross@apache.org>
Date: 17/07/2009 21:39:26
Message:
Improved debug logging #MsgLength=23


----
Modified: src/qpid/management/ManagementAgent.cpp|8 1

Revision: 5167efcc82e2c3343362c44e1c3321d6ce027065
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/07/2009 03:30:55
Message:
Move remaining needed Windows files from src/qpid/sys/windows to include/qpid/sys/windows #MsgLength=90


----
Renamed: include/qpid/sys/windows/IntegerTypes.h [from src/qpid/sys/windows/IntegerTypes.h]|0 0
Renamed: include/qpid/sys/windows/check.h [from src/qpid/sys/windows/check.h]|0 0
Renamed: include/qpid/sys/windows/uuid.h [from src/qpid/sys/windows/uuid.h]|0 0

Revision: 53082b55ca32d6c3b3f5bf1699685c8991253ea0
Author: Alan Conway <aconway@apache.org>
Date: 18/07/2009 04:50:38
Message:
Add "[shadow]" prefix to the log-ID for shadow and catch-up connections, to make them easy to identify. #MsgLength=105


----
Modified: src/qpid/cluster/Connection.cpp|12 6

Revision: 48404b9c5c6c1616cc82288cf47a11afc74ed786
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/07/2009 06:14:58
Message:
Don't fail this if there are warnings in the log; mirrors behavior of Linux script #MsgLength=83


----
Modified: src/tests/stop_broker.ps1|5 3

Revision: 06f7ed5280894b51a466b57ae9d3b75b5a4d5785
Author: Gordon Sim <gsim@apache.org>
Date: 20/07/2009 18:21:06
Message:
Fixes for make distcheck #MsgLength=27


----
Modified: src/Makefile.am|6 6
Modified: src/cluster.mk|2 0

Revision: 43248f4a099b3ed7a25b8c2311a48aed1645306a
Author: Gordon Sim <gsim@apache.org>
Date: 20/07/2009 18:41:29
Message:
QPID-1993: Patch from Chenta Lee to prevent compiler warnings with GCC 4.3.3 #MsgLength=79


----
Modified: src/qmf/ResilientConnection.cpp|4 1
Modified: src/qpid/broker/Daemon.cpp|3 2
Modified: src/qpid/sys/posix/LockFile.cpp|2 1
Modified: src/tests/ForkedBroker.cpp|4 1

Revision: 11e2a980101969cfc22165e98dac2cf646d2031d
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2009 22:21:07
Message:
Fix problem with in-tree builds. #MsgLength=34


----
Modified: docs/api/Makefile.am|2 1

Revision: 4e3c12db87a0abdb64d7c6d92fd3469d242a7572
Author: Alan Conway <aconway@apache.org>
Date: 21/07/2009 02:32:13
Message:
Fix include paths for doxygen generated API doc. #MsgLength=50


----
Modified: docs/api/developer.doxygen.in|1 1
Modified: docs/api/user.doxygen.in|2 3

Revision: 881860b830b9430cfa0a57a03ec34941777f5c90
Author: Michael Goulish <mgoulish@apache.org>
Date: 21/07/2009 02:45:04
Message:
test checkin for mick #MsgLength=23


----
Modified: src/tests/failover_soak.cpp|0 1

Revision: 1c1525cfccabc9feebb50de6c875dafedf95684f
Author: Alan Conway <aconway@apache.org>
Date: 21/07/2009 23:05:51
Message:
Remove some unnecessary promotions of char* to std::string. #MsgLength=61


----
Modified: src/qpid/broker/SemanticState.cpp|3 1
Modified: src/qpid/broker/SessionAdapter.cpp|8 6
Modified: src/qpid/cluster/Cpg.cpp|18 13
Modified: src/qpid/cluster/Cpg.h|0 4

Revision: 94c1349c68b73cbb5c9fc50a4658fd9295b688e5
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/07/2009 07:23:04
Message:
Use a loopback socket instead of a pipe on Windows; resolves part of QPID-1918 #MsgLength=79


----
Modified: src/qpid/sys/windows/PipeHandle.cpp|49 13

Revision: 9d5a37139f2b57a42a2b02b7dd918106ec47d859
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/07/2009 07:37:24
Message:
Never try to init a string with a zero pointer; fixes QPID-1998 #MsgLength=64


----
Modified: src/qpid/sys/windows/SystemInfo.cpp|5 2

Revision: e898a7c6536bbd7a23697c004427c9da57b09c35
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/07/2009 03:04:34
Message:
Replace TRUE with _TRUE, FALSE with _FALSE to avoid macro conflicts on Windows MSVC #MsgLength=84


----
Modified: src/qpid/broker/SessionAdapter.cpp|8 8

Revision: 44d17fca5c6bf71c8cee8fdb57e57840a98a512c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/07/2009 11:10:10
Message:
Avoid creating unnecessary new deques (keep on recycling old ones) #MsgLength=68


----
Modified: src/qpid/sys/DispatchHandle.cpp|0 1
Modified: src/qpid/sys/DispatchHandle.h|1 0

Revision: 0d3f0cc5a78924bf5899eb0e411c2620c52e3c4f
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2009 02:42:09
Message:
Remove uninformative per-message info level log message. #MsgLength=58


----
Modified: src/qpid/broker/QueuePolicy.cpp|0 3

Revision: 20f6528240c7c5b5579b153a7dcd9c06cb31314f
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2009 20:47:53
Message:
Revert "Remove uninformative per-message info level log message." #MsgLength=89


----
Modified: src/qpid/broker/QueuePolicy.cpp|3 0

Revision: 9bccdd2aba6a2562d3f4103fe16c2fff85337e1c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 25/07/2009 08:44:33
Message:
Add missing mgnt counters for replication exchange #MsgLength=51


----
Modified: src/qpid/replication/ReplicationExchange.cpp|32 2
Modified: src/qpid/replication/ReplicationExchange.h|1 1

Revision: 0b69d186f11e3458aac60da4bc1dca53971eae44
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 28/07/2009 02:02:38
Message:
More friendly stalled messages for no samples #MsgLength=46


----
Modified: src/tests/latencytest.cpp|25 13

Revision: 98f4e718046bc2e9d6d9b5834db949c787aba153
Author: Alan Conway <aconway@apache.org>
Date: 28/07/2009 05:32:16
Message:
Separate generated public header files from non-public headers, generated code re-organization. #MsgLength=739


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: configure.ac|0 1
Modified: docs/api/developer.doxygen.in|1 1
Modified: docs/api/user.doxygen.in|1 1
Modified: examples/CMakeLists.txt|2 1
Modified: examples/makedist.mk|1 1
Modified: managementgen/qmfgen/generate.py|2 2
Modified: rubygen/amqpgen.rb|17 14
Modified: rubygen/framing.0-10/Operations.rb|3 3
Modified: rubygen/framing.0-10/OperationsInvoker.rb|3 3
Modified: rubygen/framing.0-10/Session.rb|7 5
Modified: rubygen/framing.0-10/constants.rb|7 3
Modified: rubygen/framing.0-10/frame_body_lists.rb|1 1
Modified: rubygen/framing.0-10/structs.rb|4 2
Modified: rubygen/generate|12 11
Modified: src/CMakeLists.txt|6 5
Modified: src/Makefile.am|3 3
Modified: src/tests/Makefile.am|19 1

Revision: 4fa86650875f5577326b6acd830e498e3e46fea7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/07/2009 11:23:49
Message:
Add a default constructor to LinkRegistry so that you don't need a broker to create one for the store tests #MsgLength=108


----
Modified: src/qpid/broker/LinkRegistry.cpp|15 2
Modified: src/qpid/broker/LinkRegistry.h|1 0

Revision: f62a35e723447ca4e84f64cd52234d507b7091a6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/07/2009 11:37:12
Message:
Oops: eliminated a ternary operator giving the "else" instead of the "then". #MsgLength=77


----
Modified: src/qpid/broker/LinkRegistry.cpp|1 1

Revision: 7cd77bc9688ae5b06b292c5d36ea26edf609d66a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/07/2009 12:37:32
Message:
Suppression for boost 1.37 unit_test problem #MsgLength=45


----
Modified: src/tests/.valgrind.supp|9 0

Revision: d2be1eb22503ba377f027f1924ce891d68297f3d
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2009 21:38:09
Message:
Further suppression for 32 bit fedora 11. #MsgLength=44


----
Modified: src/tests/.valgrind.supp|8 0

Revision: 523fd21ad4b8afe1fb3e023c09e7a300d03933ad
Author: Alan Conway <aconway@apache.org>
Date: 30/07/2009 07:34:57
Message:
Provide more informative cluster logging at notice level #MsgLength=58


----
Modified: src/qpid/cluster/Cluster.cpp|18 19
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/ErrorCheck.cpp|6 5
Modified: src/qpid/cluster/Quorum_cman.cpp|0 1
Modified: src/qpid/cluster/UpdateClient.cpp|2 1

Revision: ad0dccf2ce72599da5c309115d125c8606803798
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2009 22:06:35
Message:
Fix sys::Timer code to push into priority list using the correct time - fixes bug where timers get acted on out of sequence #MsgLength=124


----
Modified: src/qpid/sys/Timer.cpp|1 1

Revision: a2406674b1701fa0b1294c0bca40ef0e49704907
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2009 22:06:39
Message:
Added diagnostics to tell if timer callbacks overrun their allowed time #MsgLength=72


----
Modified: src/qpid/sys/Timer.cpp|21 3

Revision: 808730d599de7849956ea66d6d98cedd95e92ebe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2009 22:06:49
Message:
Change all broker users of broker::Timer to use sys::Timer #MsgLength=59


----
Modified: src/qpid/broker/Broker.h|6 10
Modified: src/qpid/broker/Connection.cpp|19 32
Modified: src/qpid/broker/Connection.h|2 2
Modified: src/qpid/broker/DtxManager.cpp|2 3
Modified: src/qpid/broker/DtxManager.h|4 4
Modified: src/qpid/broker/DtxTimeout.h|3 3
Modified: src/qpid/broker/LinkRegistry.cpp|2 2
Modified: src/qpid/broker/LinkRegistry.h|3 3
Modified: src/qpid/broker/QueueCleaner.cpp|4 4
Modified: src/qpid/broker/QueueCleaner.h|6 6
Modified: src/qpid/broker/SessionState.cpp|8 9
Modified: src/qpid/broker/SessionState.h|5 2
Modified: src/qpid/cluster/ExpiryPolicy.cpp|4 4
Modified: src/qpid/cluster/ExpiryPolicy.h|6 3
Modified: src/qpid/management/ManagementAgent.cpp|1 1
Modified: src/qpid/management/ManagementAgent.h|3 3

Revision: 59463a716307423fb8347a02f81e2f45e5986b2c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/07/2009 22:06:55
Message:
Change remaining broker Timer clients to use the single broker Timer #MsgLength=69


----
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|5 5
Modified: src/qpid/broker/LinkRegistry.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|3 3
Modified: src/qpid/management/ManagementAgent.h|1 1

Revision: e42fab1168cbd7fcc4e6e2f472880f9087d0245a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/07/2009 00:14:03
Message:
QPID-652 -- fixed by Marco Bisioli #MsgLength=35


----
Modified: src/qpid/client/Connector.cpp|3 1

Revision: bfa8e8af471b5f13dce1248739ebeea272b4fe4c
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2009 02:46:17
Message:
Set protocol versions correctly in cluster code. #MsgLength=208


----
Modified: src/qpid/amqp_0_10/Connection.cpp|10 3
Modified: src/qpid/amqp_0_10/Connection.h|5 0
Modified: src/qpid/client/Connector.cpp|2 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|10 7
Modified: src/qpid/cluster/ConnectionCodec.h|2 1

Revision: fd56dd63425b4f53a14a8f516b0999144dff63f4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/07/2009 04:30:18
Message:
Make replication of queue events not dependant on abs queue position, but rather use source queue sequence numbers. Also add in more error checking and tests #MsgLength=158


----
Modified: src/qpid/broker/Queue.cpp|4 0
Modified: src/qpid/broker/Queue.h|3 0
Modified: src/qpid/replication/ReplicatingEventListener.cpp|1 0
Modified: src/qpid/replication/ReplicationExchange.cpp|21 9
Modified: src/qpid/replication/constants.h|1 0
Modified: src/tests/replication_test|48 1

Revision: e286765b3b9f81c8340b0b589b9ccce5068f523c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/07/2009 21:14:25
Message:
Some clean up, and better error check #MsgLength=38


----
Modified: src/qpid/replication/ReplicationExchange.cpp|5 3

Revision: 578b5e26ba935793876182c1c44b1624ca361df1
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/07/2009 21:45:59
Message:
Candidate fix for race condition in test #MsgLength=41


----
Modified: src/tests/replication_test|4 1

Revision: 4b57c0f3c6ed3d0ebc5089a960783c3d76756d87
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 31/07/2009 21:54:26
Message:
Make previous test more robust, add some comments #MsgLength=50


----
Modified: src/tests/replication_test|12 1

Revision: 554c4022467335d7a73ea3a4f1af093d7314d77b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 31/07/2009 23:46:52
Message:
Removed file src/tests/allSegmentTypes.h, which is generated. #MsgLength=62


----
Deleted: src/tests/allSegmentTypes.h|0 128

Revision: b6857bf21980000a2d149ff3aa880bc4f4159de6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 01/08/2009 00:52:59
Message:
handle fail setting last-node-standing with unit test, still needs system test #MsgLength=79


----
Modified: src/qpid/broker/Queue.cpp|14 10
Modified: src/tests/QueueTest.cpp|35 2

Revision: 42af52e0a012c3eb979b545f51fe16f78b685d19
Author: Alan Conway <aconway@apache.org>
Date: 01/08/2009 02:40:07
Message:
Make AMQFrame::getMethod() safe on frames with no body. #MsgLength=57


----
Modified: src/qpid/framing/AMQFrame.h|2 2

Revision: 42f8c950b7c9c01ad0c11c771d56eb4956082288
Author: Alan Conway <aconway@apache.org>
Date: 01/08/2009 02:40:26
Message:
Fix race condition in cluster error handling. #MsgLength=200


----
Modified: src/qpid/cluster/Cluster.cpp|9 12
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/qpid/cluster/ClusterMap.cpp|1 1
Modified: src/qpid/cluster/ClusterMap.h|5 4
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/ErrorCheck.cpp|51 29
Modified: src/qpid/cluster/ErrorCheck.h|6 3
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/PartialFailure.cpp|24 3
Modified: xml/cluster.xml|2 2

Revision: 4365346955dfa2e83a11f8ebddd9e1b0cd491220
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/08/2009 03:53:30
Message:
Fix build warnings/errors on Windows #MsgLength=37


----
Modified: src/qpid/broker/DtxManager.cpp|2 1
Modified: src/qpid/broker/SessionState.h|1 1

Revision: 6734651f8dd896fdd526142f6ed50aae4cf70c4b
Author: Michael Goulish <mgoulish@apache.org>
Date: 04/08/2009 02:07:12
Message:
qrsh initial checkin. #MsgLength=24


----
Modified: src/tests/Makefile.am|12 0
Added: src/tests/qrsh.cpp|166 0
Added: src/tests/qrsh_run.cpp|321 0
Added: src/tests/qrsh_server.cpp|1062 0
Added: src/tests/qrsh_utils/10_all|30 0
Added: src/tests/qrsh_utils/1_remote_run|26 0
Added: src/tests/qrsh_utils/2_forever|26 0
Added: src/tests/qrsh_utils/3_kill_it|27 0
Added: src/tests/qrsh_utils/4_wait_for_it|26 0
Added: src/tests/qrsh_utils/5_exited|64 0
Added: src/tests/qrsh_utils/6_get|29 0
Added: src/tests/qrsh_utils/7_get_output|44 0
Added: src/tests/qrsh_utils/8_any|43 0
Added: src/tests/qrsh_utils/9_alias|38 0
Added: src/tests/qrsh_utils/qrsh_example_command.cpp|52 0
Added: src/tests/qrsh_utils/qrsh_forever.cpp|50 0
Added: src/tests/qrsh_utils/qsh_doc.txt|309 0

Revision: 16e4f3526afcc8c08d2b7269e150abb3f8df8ed6
Author: Ted Ross <tross@apache.org>
Date: 04/08/2009 02:23:40
Message:
Moved qpid/management/Manageable.cpp and qpid/management/ManagementObject.cpp from the broker library to the common library.  These may be used for client-side QMF applications. #MsgLength=179


----
Modified: src/Makefile.am|5 5

Revision: 72a3b115f8b7308f2474da97e8bdcdfd73707d8c
Author: Ted Ross <tross@apache.org>
Date: 04/08/2009 02:24:20
Message:
Updated the include path to use the new cpp/includes directory. #MsgLength=65


----
Modified: examples/qmf-agent/Makefile|1 1

Revision: 463f3ae7d970f9629474ad065dff7ae86ed1e7e1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/08/2009 04:45:46
Message:
Fixed missing #include lines #MsgLength=29


----
Modified: src/tests/qrsh.cpp|1 1
Modified: src/tests/qrsh_server.cpp|1 1

Revision: 6b01afd5f85b3fb69f602eff4a143f8f04d4e273
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/08/2009 05:43:36
Message:
Add needed 'extern' for building on Windows #MsgLength=44


----
Modified: src/qpid/broker/Queue.h|2 2

Revision: c5490cdcb1973b7ae4a6d56ecfe3f04e9526e9e1
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/08/2009 05:44:15
Message:
Return value to silence compiler warnings #MsgLength=42


----
Modified: src/tests/dlclose_noop.c|1 1

Revision: 0429acc916523c726fcb2096fde93a6888bcb1cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/08/2009 03:04:43
Message:
Fixes for cluster code to compile with new stricter corosync header files #MsgLength=74


----
Modified: src/qpid/cluster/Cluster.cpp|6 6
Modified: src/qpid/cluster/Cluster.h|5 5
Modified: src/qpid/cluster/Cpg.cpp|22 0
Modified: src/qpid/cluster/Cpg.h|23 5

Revision: d18160d8692c4c0721d3fb4f78c9a1680893d268
Author: Alan Conway <aconway@apache.org>
Date: 05/08/2009 03:27:57
Message:
Explicit Msg::op<< overrides for integral types, fixes a store compile problem. #MsgLength=81


----
Modified: include/qpid/Msg.h|19 4

Revision: 1bae86e4043318beb9b3fbe9abb31afa0cecb975
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/08/2009 22:21:26
Message:
Rename of MessageStore::discardInit() to MessageStore::truncateInint(), resulting from a cleanup of the code logic in the store. #MsgLength=129


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/MessageStore.h|1 1
Modified: src/qpid/broker/MessageStoreModule.cpp|2 2
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/NullMessageStore.cpp|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1

Revision: debb98fa95acfb2f5dc082cc9082d96b74bfe3d5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/08/2009 00:37:47
Message:
Improved Timer delay/overrun warnings #MsgLength=39


----
Modified: src/qpid/sys/Timer.cpp|6 4

Revision: 6e028fc6df81801d49ff0eda7fb7e33b1cd8e0e0
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/08/2009 01:17:30
Message:
Try to create piddir if needed; on error throw a useful message. Fixes QPID-2030 #MsgLength=81


----
Modified: src/qpid/sys/windows/LockFile.cpp|2 1
Modified: src/windows/QpiddBroker.cpp|11 0

Revision: 8affeea30b6b0869564ea8a0c7eed449bf1a520c
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/08/2009 01:26:14
Message:
Clarify that the build dir need not be a subdir of cpp/src; also, note the need for the \qpidd dir #MsgLength=99


----
Modified: INSTALL-WINDOWS|7 3

Revision: b3debc8093ff3ba1c5da4c8e2cab2137b1a9318f
Author: Michael Goulish <mgoulish@apache.org>
Date: 06/08/2009 03:32:49
Message:
Added many suppressions for stacks leading to apparent leaks in dl_open(). #MsgLength=76


----
Modified: boost-1.32-support/supressions|643 0

Revision: 813db3400c7f23add6df4b28ab69336baad8937e
Author: Michael Goulish <mgoulish@apache.org>
Date: 06/08/2009 04:32:43
Message:
generalized one suppression. #MsgLength=30


----
Modified: boost-1.32-support/supressions|0 5

Revision: 2caf3eb32ec27df6e51b8139fd397154e0ce2f52
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2009 01:41:18
Message:
Fix cman integration to exit immediately on loss of quorum. #MsgLength=61


----
Modified: src/qpid/cluster/Cluster.cpp|12 16
Modified: src/qpid/cluster/Cluster.h|0 2
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/ClusterSettings.h|1 1
Modified: src/qpid/cluster/Cpg.cpp|1 1
Modified: src/qpid/cluster/Cpg.h|0 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|0 1
Modified: src/qpid/cluster/PollerDispatch.cpp|5 2
Modified: src/qpid/cluster/PollerDispatch.h|1 0
Modified: src/qpid/cluster/Quorum_cman.cpp|62 4
Modified: src/qpid/cluster/Quorum_cman.h|19 5
Modified: src/qpid/cluster/Quorum_null.h|7 2

Revision: 9c38c61df7c76b9d5dccfc9ed016e4f3dedce347
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2009 04:04:13
Message:
Stop timer thread before users are deleted (as they don't all clean up prior to being destroyed) #MsgLength=99


----
Modified: src/qpid/broker/Broker.cpp|4 0

Revision: bbfe53b1d53e28cf8e836ea00dffe90521844066
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 09:53:34
Message:
When setting up the next fire time for a Timer make sure it can't be in the past. #MsgLength=83


----
Modified: src/qpid/sys/Timer.cpp|2 1

Revision: 938f4114d93fd09b85af8a272294be9b12e2e8cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 09:53:39
Message:
Further improve the delay/overrun Timer warnings when both occur at once #MsgLength=74


----
Modified: src/qpid/sys/Timer.cpp|14 6

Revision: 89c5d036b4b2c2f095c6a3124b81825813ddd733
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 09:53:44
Message:
Revert "Stop timer thread before users are deleted (as they don't all clean up prior to being destroyed)" #MsgLength=170


----
Modified: src/qpid/broker/Broker.cpp|0 4

Revision: f6e9429740651cacec79a83ad6659a811ebf64e7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 09:53:50
Message:
Change LinkRegistry to cancel its TimerTask in its destructor #MsgLength=63


----
Modified: src/qpid/broker/LinkRegistry.cpp|9 2
Modified: src/qpid/broker/LinkRegistry.h|4 0

Revision: eff72727191108126bce303215cbccb1c2023be1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 09:53:56
Message:
Change QueueCleaner so that it cancels any outstanding TimerTask on destruction #MsgLength=81


----
Modified: src/qpid/broker/LinkRegistry.cpp|1 1
Modified: src/qpid/broker/QueueCleaner.cpp|5 0
Modified: src/qpid/broker/QueueCleaner.h|1 0

Revision: 53ef0f9ae5395caa7057ccc13f6f87cf99050823
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/08/2009 11:14:20
Message:
Fixed LinkRegistry destructor to only cancel TimerTask if there is one! (the only time there might not be one is in the store tests) #MsgLength=134


----
Modified: src/qpid/broker/LinkRegistry.cpp|3 1

Revision: 0de3c472ac7fdf88bc6ee9b033da0665b9061b18
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/08/2009 15:38:20
Message:
Gsim's temporary fix for replication bug. #MsgLength=43


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: 55124239c8db7285e5d11a4fee261bde28edcd2a
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2009 19:06:04
Message:
Reverted r801903, it should not be needed after r801860 and r801861. #MsgLength=71


----
Modified: src/qpid/broker/Broker.cpp|0 1

Revision: 14badbdb474787e77bebf7bb8a3b67248381d00e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/08/2009 03:45:56
Message:
Removed unused files Removed unused functions from Timer Switched TimerTest to sys::Timer #MsgLength=90


----
Modified: src/CMakeLists.txt|0 2
Modified: src/Makefile.am|0 4
Deleted: src/qpid/broker/BrokerSingleton.cpp|0 36
Deleted: src/qpid/broker/BrokerSingleton.h|0 53
Deleted: src/qpid/broker/Timer.cpp|0 120
Deleted: src/qpid/broker/Timer.h|0 87
Modified: src/qpid/sys/Timer.cpp|0 2
Modified: src/qpid/sys/Timer.h|0 2
Modified: src/tests/TimerTest.cpp|1 2

Revision: 08ee22cdf5e8c5518092cbc93104406d39734c62
Author: Alan Conway <aconway@apache.org>
Date: 11/08/2009 05:10:53
Message:
Watchdog feature to remove unresponsive cluster nodes. #MsgLength=698


----
Modified: src/Makefile.am|1 0
Modified: src/cluster.mk|9 0
Added: src/qpid/cluster/WatchDogPlugin.cpp|114 0
Added: src/qpid/cluster/qpidd_watchdog.cpp|60 0
Modified: src/tests/cluster.mk|35 33
Added: src/tests/test_watchdog|16 0

Revision: f7d0fd724caf089300a63b10921066edb9e754a9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2009 13:34:59
Message:
Fix for re-entering DispatchHandle::processEvent more than once on disconnection #MsgLength=82


----
Modified: src/qpid/sys/DispatchHandle.cpp|1 4
Modified: src/qpid/sys/epoll/EpollPoller.cpp|2 0

Revision: 53df79415f9b9707e02f89935fcdfc8b28afb8ea
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2009 13:35:05
Message:
Ensure that a PollerHandle that has had a disconnected event can never be returned with any more events #MsgLength=105


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|4 1

Revision: d66cd2db5f890d961e755d350b306f50179bd93b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2009 13:35:10
Message:
Add tests to check for correct Poller DISCONNECT behaviour #MsgLength=60


----
Modified: src/tests/PollerTest.cpp|43 24

Revision: e29d12cec260cbb250d7fd61de06a8a37c3eb12e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2009 13:35:14
Message:
Reinstate reliable_replication_test #MsgLength=37


----
Modified: src/tests/Makefile.am|1 2

Revision: 78209a8c9b74bbc5c35ab627ad5b0eac935eb2d3
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2009 17:29:51
Message:
Add new test script to distribution list. #MsgLength=44


----
Modified: src/tests/cluster.mk|1 0

Revision: 08a9369d4c6b67fda729528eac5ebf95f97d9e53
Author: Ted Ross <tross@apache.org>
Date: 11/08/2009 23:27:08
Message:
Cleaned up the makefiles in the QMF bindings area. Added tests for the QMF bindings. Removed spurious "cout" prints from qmf/Agent.cpp #MsgLength=136


----
Modified: bindings/qmf/Makefile.am|4 1
Modified: bindings/qmf/python/Makefile.am|6 6
Modified: bindings/qmf/ruby/qmf.rb|0 1
Modified: bindings/qmf/ruby/ruby.i|12 3
Added: bindings/qmf/tests/Makefile.am|20 0
Added: bindings/qmf/tests/agent_ruby.rb|99 0
Added: bindings/qmf/tests/python_console.py|83 0
Added: bindings/qmf/tests/run_interop_tests|67 0
Modified: configure.ac|2 0
Modified: src/qmf/Agent.cpp|0 2

Revision: 287afea4094bd7a806effb1562c9e1aba3b46ad7
Author: Ted Ross <tross@apache.org>
Date: 11/08/2009 23:30:46
Message:
Removed unneeded Makefile from configure.ac #MsgLength=44


----
Modified: configure.ac|0 1

Revision: ded035d67b02ee0d981e394c78ba24be51ddbf95
Author: Rafael H. Schloming <rhs@apache.org>
Date: 12/08/2009 03:58:12
Message:
fixed the cpp/python test integration #MsgLength=38


----
Modified: bindings/qmf/tests/python_console.py|1 25
Modified: bindings/qmf/tests/run_interop_tests|2 2
Modified: src/tests/acl.py|30 59
Modified: src/tests/cli_tests.py|12 49
Modified: src/tests/federation.py|25 61
Modified: src/tests/python_tests|3 4
Modified: src/tests/run_acl_tests|2 2
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_federation_tests|2 3

Revision: b62322a2d36dd4c0dde22b29246d1b4efddcaed0
Author: Gordon Sim <gsim@apache.org>
Date: 12/08/2009 15:42:54
Message:
Add test script to distribution list #MsgLength=39


----
Modified: bindings/qmf/tests/Makefile.am|1 0

Revision: 56bf45723e8c7a1898e59ca0f526e3e46fc157fd
Author: Gordon Sim <gsim@apache.org>
Date: 12/08/2009 19:12:16
Message:
QPID-2046: * perform destroy() on the links own io thread, not on that of the management connection issuingthe request * move ACL check such that it only applies to the management operation #MsgLength=203


----
Modified: src/qpid/broker/Link.cpp|20 9
Modified: src/qpid/broker/Link.h|2 1

Revision: 9acf06951b89b877dd085bfca95bb51d47e0ac87
Author: Gordon Sim <gsim@apache.org>
Date: 12/08/2009 22:43:40
Message:
Minor whitespace adjustment. #MsgLength=31


----
Modified: src/qpid/broker/Link.cpp|1 1

Revision: dacf1c58dafd97284f04438560e8c7f134276d14
Author: Ted Ross <tross@apache.org>
Date: 12/08/2009 22:44:22
Message:
Fixed a bug where Ruby/C number conversions failed on 32-bit architectures. #MsgLength=77


----
Modified: bindings/qmf/ruby/qmf.rb|13 13
Modified: bindings/qmf/ruby/ruby.i|3 3

Revision: ff40b4677e1e43fb5c8b26e7ebbf1d452c6b93a8
Author: Alan Conway <aconway@apache.org>
Date: 12/08/2009 23:32:40
Message:
Updated svn:ignore properties to ignore generated source #MsgLength=57


----

Revision: b3c02d3a730aeee615365655a7a6805d0791d702
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/08/2009 00:56:24
Message:
Moved python cluster tests to new python test runner #MsgLength=53


----
Modified: src/tests/cluster_tests.py|88 15
Modified: src/tests/run_cluster_tests|18 12
Modified: src/tests/run_long_cluster_tests|1 1

Revision: dd042b5759a76f6c855fcdd57d060dac12f446bf
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2009 02:29:03
Message:
Optimized handling of accepts and completions. #MsgLength=266


----
Modified: src/qpid/broker/SemanticState.cpp|39 15
Modified: src/qpid/broker/SemanticState.h|2 3
Modified: src/qpid/broker/SessionAdapter.cpp|2 5
Modified: src/qpid/broker/SessionState.cpp|1 2
Added: src/qpid/framing/IsInSequenceSet.h|51 0

Revision: 0e98f5ce11d3707ee727e329bf7d465559b13ae9
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2009 02:29:28
Message:
Removed spurious code in AMQFrame::~AMQFrame. #MsgLength=47


----
Modified: src/qpid/framing/AMQFrame.cpp|1 1

Revision: 04f733451915c36894708c48d6eff4877196112c
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2009 05:08:51
Message:
Batch multiple events into a single CPG multicast. #MsgLength=52


----
Modified: src/qpid/cluster/Cluster.cpp|5 3
Modified: src/qpid/cluster/Event.cpp|1 1
Modified: src/qpid/cluster/Multicaster.cpp|20 12
Modified: src/qpid/cluster/Multicaster.h|2 1

Revision: 928232849fcca04c6fc21971784e70ce8baea2fd
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2009 15:17:15
Message:
Add missing file to distribution list #MsgLength=40


----
Modified: src/Makefile.am|1 0

Revision: d23ae4fdab8816b2021c46d932c27f7b26108214
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2009 15:47:43
Message:
QPID-2048: Handle connection fail while attempting to close. #MsgLength=63


----
Modified: src/qpid/client/ConnectionHandler.cpp|8 4
Modified: src/qpid/client/StateManager.cpp|12 0
Modified: src/qpid/client/StateManager.h|1 0

Revision: c1bdb4db3d6e485ba813f42a2ed60cb05cd3bb75
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2009 21:46:09
Message:
Check for null pointer in ~QueueCleaner. #MsgLength=42


----
Modified: src/qpid/broker/QueueCleaner.cpp|1 1

Revision: d3ee8e53782030d976f77e0a5c46aa9675f36aa4
Author: Ted Ross <tross@apache.org>
Date: 14/08/2009 03:18:03
Message:
QPID-1971 - bind in fedOpReorigen mode is not threadsafe for TopicExchange #MsgLength=109


----
Modified: src/qpid/broker/DirectExchange.cpp|17 5
Modified: src/qpid/broker/TopicExchange.cpp|18 5
Modified: src/tests/federation.py|124 0

Revision: 60ebe14d78dc85452dc274cb04d9a1727e050965
Author: Alan Conway <aconway@apache.org>
Date: 14/08/2009 20:56:31
Message:
Revert "Batch multiple events into a single CPG multicast." #MsgLength=147


----
Modified: src/qpid/cluster/Cluster.cpp|3 5
Modified: src/qpid/cluster/Event.cpp|1 1
Modified: src/qpid/cluster/Multicaster.cpp|12 20
Modified: src/qpid/cluster/Multicaster.h|1 2

Revision: 02df2b5bbab721652fbad6f0af91a2619111f146
Author: Alan Conway <aconway@apache.org>
Date: 14/08/2009 23:39:08
Message:
Added documentation to watchdog plugin. #MsgLength=40


----
Modified: src/qpid/cluster/WatchDogPlugin.cpp|22 0
Modified: src/qpid/cluster/qpidd_watchdog.cpp|3 0

Revision: 7df1a24d9a72f9e21c2dee4afdeeac193431eb8c
Author: Ted Ross <tross@apache.org>
Date: 15/08/2009 05:44:22
Message:
Initialize the update interval to a reasonable value #MsgLength=53


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1

Revision: 8d5584b7028baff41c9df0622753e55858206e12
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/08/2009 06:15:04
Message:
Removed TSS variables that tracked I/O counts; not used. Part of fix for QPID-1868 #MsgLength=83


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|0 17

Revision: 94b39698951d4dce05405795e83c5974d11a5624
Author: Gordon Sim <gsim@apache.org>
Date: 18/08/2009 21:11:08
Message:
QPID-2053: Allow queue names to be controlled for perftest (this allows multiple concurrent instances to be run). Based on a proposal and patch from Frantisek Reznicek. #MsgLength=171


----
Modified: src/tests/perftest.cpp|31 22

Revision: 9f00c6d85114df49132e370bca76e4f4cd5c460b
Author: Ted Ross <tross@apache.org>
Date: 19/08/2009 21:52:37
Message:
Improved the cleanup-check at the end of every federation test #MsgLength=63


----
Modified: src/tests/federation.py|21 35

Revision: e510d801e7928ae1cac87780a220719e1eadeda5
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2009 01:59:25
Message:
QPID-2058: Add a flag to the version of SessionImpl::send() that takes a FrameSet as content. This flag indicates whether the frames in that frame set are valid for sending over the connection or whether they should be reframed. #MsgLength=231


----
Modified: src/qpid/client/SessionImpl.cpp|2 2
Modified: src/qpid/client/SessionImpl.h|9 1
Modified: src/qpid/cluster/UpdateClient.cpp|1 1

Revision: 12174f76061ccfa0157c437652bbeb8feeb02496
Author: Ted Ross <tross@apache.org>
Date: 20/08/2009 02:31:31
Message:
Introduce the public includes for the QMF interfaces. Rename Agent to AgentEngine to differentiate the API from the underlying engine. #MsgLength=502


----
Modified: bindings/qmf/qmfengine.i|2 2
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf/ruby/qmf.rb|11 11
Added: include/qmf/Agent.h|283 0
Added: include/qmf/AgentObject.h|93 0
Added: include/qmf/Connection.h|118 0
Added: include/qmf/ConnectionSettings.h|135 0
Added: include/qmf/QmfImportExport.h|33 0
Modified: src/qmf.mk|12 10
Renamed: src/qmf/AgentEngine.cpp [from src/qmf/Agent.cpp]|77 77
Renamed: src/qmf/AgentEngine.h [from src/qmf/Agent.h]|13 12
Renamed: src/qmf/ConsoleEngine.h [from src/qmf/Console.h]|7 6
Modified: src/qmf/Object.h|1 1

Revision: 78bb04bf1867f62c86170600b5cbeeb7619326c0
Author: Ted Ross <tross@apache.org>
Date: 20/08/2009 04:01:57
Message:
Fixed doxygen generation for the C++ APIs #MsgLength=43


----
Modified: docs/api/doxygen_mainpage.h|2 0
Modified: docs/api/user.doxygen.in|2 2
Modified: include/qmf/Agent.h|4 0
Modified: include/qmf/AgentObject.h|2 0
Modified: include/qmf/Connection.h|5 0
Modified: include/qmf/ConnectionSettings.h|2 0

Revision: 38366143e051db18cc658ce239124ac8cf8af5ac
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/08/2009 06:10:17
Message:
Fix for previous qmf change to carry on building with cmake #MsgLength=60


----
Modified: src/CMakeLists.txt|2 2

Revision: c75c761fcabd4295c06da76effa3397ada773207
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2009 21:25:06
Message:
Add List class to handle encoding of AMQP 0-10 list type. Fill out accessors for different FieldValue types. #MsgLength=111


----
Modified: include/qpid/framing/FieldTable.h|7 1
Modified: include/qpid/framing/FieldValue.h|115 2
Added: include/qpid/framing/List.h|76 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/framing/FieldTable.cpp|13 7
Modified: src/qpid/framing/FieldValue.cpp|30 0
Added: src/qpid/framing/List.cpp|83 0
Modified: src/tests/FieldTable.cpp|31 1

Revision: b6f1d5a08d11c9baab6be4ed8780b4e7d08028c0
Author: Gordon Sim <gsim@apache.org>
Date: 21/08/2009 00:18:57
Message:
Fixed distcheck target, broken by my last commit. #MsgLength=52


----
Modified: include/qpid/framing/FieldValue.h|3 2
Modified: src/qpid/framing/FieldValue.cpp|5 0

Revision: 7b2c2616c30424600d89de46bb6e8c137621bc03
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/08/2009 06:43:06
Message:
Add needed extern decorators for Windows; applies patch QPID-2061-1.patch in QPID-2061 #MsgLength=87


----
Modified: include/qpid/framing/FieldValue.h|1 1
Modified: src/qpid/client/Demux.h|11 10
Modified: src/qpid/client/SessionImpl.h|2 1

Revision: 7658a85d329cc78cb002710171eb90b6397619a1
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/08/2009 06:45:10
Message:
Add new file qpid/framing/List.cpp #MsgLength=35


----
Modified: src/CMakeLists.txt|1 0

Revision: 47b9b7148f5a84051f863ffb7c0f2711bac7e246
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/08/2009 06:51:14
Message:
Remove using namespace boost - not needed and causes confusion with uint8_t from qpid/sys/IntegerTypes.h #MsgLength=105


----
Modified: src/qpid/client/Results.cpp|0 1

Revision: 969aee12fb29dd29b9d86f9cc7940f632b8fb4db
Author: Jonathan Robie <jonathan@apache.org>
Date: 22/08/2009 00:58:31
Message:
Added documentation for AMQP 0-10 URL format. #MsgLength=47


----
Modified: include/qpid/client/Connection.h|14 0

Revision: ad6dcfe616fa937fdb5bc8133effc81d8e707f85
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/08/2009 04:54:05
Message:
Use more friendly time setting for the Timer warnings #MsgLength=54


----
Modified: src/qpid/sys/Timer.cpp|3 2

Revision: 53a0ecb78393ab1713cf5312ebebad229b2c4151
Author: Ted Ross <tross@apache.org>
Date: 22/08/2009 05:19:22
Message:
Implemented the new QMF ConnectionSettings and incorporated into the bindings. #MsgLength=80


----
Modified: bindings/qmf/qmfengine.i|13 15
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf/ruby/qmf.rb|29 3
Modified: bindings/qmf/tests/agent_ruby.rb|2 2
Modified: include/qmf/Connection.h|2 0
Modified: include/qmf/ConnectionSettings.h|7 1
Modified: src/CMakeLists.txt|25 8
Modified: src/qmf.mk|2 0
Added: src/qmf/ConnectionSettingsImpl.cpp|323 0
Added: src/qmf/ConnectionSettingsImpl.h|60 0
Modified: src/qmf/ObjectId.h|0 1
Modified: src/qmf/ObjectIdImpl.cpp|0 5
Modified: src/qmf/ResilientConnection.cpp|9 10
Modified: src/qmf/ResilientConnection.h|2 6

Revision: 5d71ef3ba3e6195a0d3675d41c69d85eb1843a36
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/08/2009 08:51:00
Message:
Added QPID_COMMON_EXPORT to convertIfRequired to satisfy Windows build. #MsgLength=72


----
Modified: include/qpid/framing/FieldValue.h|1 1

Revision: 8ed52f0944f29df40bd50eee8180ab40c455f9b7
Author: Aidan Skinner <aidan@apache.org>
Date: 24/08/2009 16:24:25
Message:
Use co -r instead of URL@REV #MsgLength=29


----
Modified: configure.ac|0 1
Modified: src/Makefile.am|1 1
Modified: src/tests/.valgrind.supp|791 0

Revision: 83b67062199ff428805dbff5b122960b6a0338f6
Author: Aidan Skinner <aidan@apache.org>
Date: 24/08/2009 16:34:06
Message:
Revert 807114 #MsgLength=14


----
Modified: configure.ac|1 0
Modified: src/Makefile.am|1 1
Modified: src/tests/.valgrind.supp|0 791

Revision: 0398db882b2c4457119126f2f5a3be7cf8853e8f
Author: Ted Ross <tross@apache.org>
Date: 24/08/2009 23:55:14
Message:
Added QMF tests for method invocation and numeric types. Improved the swig typemaps to handle different numeric cases. #MsgLength=120


----
Modified: bindings/qmf/ruby/qmf.rb|7 0
Modified: bindings/qmf/ruby/ruby.i|31 2
Modified: bindings/qmf/tests/agent_ruby.rb|88 9
Modified: bindings/qmf/tests/python_console.py|84 3

Revision: 4ab1e59b5ddbc712abf6494a4215c3eb5ce90460
Author: Ted Ross <tross@apache.org>
Date: 25/08/2009 02:04:21
Message:
Fixed Ruby typemaps so 64-bit values are handled correctly on 32-bit architectures. #MsgLength=85


----
Modified: bindings/qmf/ruby/ruby.i|11 8

Revision: 34307bd7bace1c386b4bb77525387d172d29164c
Author: Alan Conway <aconway@apache.org>
Date: 25/08/2009 05:30:16
Message:
Fix misleading log messages. #MsgLength=167


----
Modified: src/qpid/broker/Daemon.cpp|1 1
Modified: src/qpidd.cpp|1 1

Revision: 59b1fb3f2519b49c2a326abef14e4e9de7e8933c
Author: Ted Ross <tross@apache.org>
Date: 26/08/2009 00:48:03
Message:
Added management visibility into the alternate exchange and auto-delete attributes of an exchange. #MsgLength=157


----
Modified: src/qpid/broker/Exchange.cpp|17 2
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/tests/cli_tests.py|22 0

Revision: 658b73120b872242e0916f20f36de7ef9a32275c
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2009 01:57:34
Message:
QPID-664: Initial checkin of high level messaging api for c++ #MsgLength=64


----
Modified: configure.ac|1 0
Modified: examples/CMakeLists.txt|1 0
Modified: examples/Makefile.am|1 1
Added: examples/messaging/CMakeLists.txt|32 0
Added: examples/messaging/Makefile.am|54 0
Added: examples/messaging/Makefile.in|657 0
Added: examples/messaging/client.cpp|76 0
Added: examples/messaging/map_receiver.cpp|54 0
Added: examples/messaging/map_sender.cpp|66 0
Added: examples/messaging/queue_listener.cpp|82 0
Added: examples/messaging/queue_receiver.cpp|65 0
Added: examples/messaging/queue_sender.cpp|65 0
Added: examples/messaging/server.cpp|78 0
Added: examples/messaging/topic_listener.cpp|82 0
Added: examples/messaging/topic_receiver.cpp|66 0
Added: examples/messaging/topic_sender.cpp|78 0
Added: include/qpid/client/amqp0_10/Codecs.h|61 0
Added: include/qpid/messaging/Address.h|57 0
Added: include/qpid/messaging/Codec.h|44 0
Added: include/qpid/messaging/Connection.h|67 0
Added: include/qpid/messaging/Filter.h|48 0
Added: include/qpid/messaging/Message.h|90 0
Added: include/qpid/messaging/MessageContent.h|90 0
Added: include/qpid/messaging/MessageListener.h|49 0
Added: include/qpid/messaging/Receiver.h|115 0
Added: include/qpid/messaging/Sender.h|57 0
Added: include/qpid/messaging/Session.h|99 0
Added: include/qpid/messaging/Variant.h|167 0
Modified: src/CMakeLists.txt|29 0
Modified: src/Makefile.am|43 2
Modified: src/qpid/client/SessionImpl.cpp|10 0
Modified: src/qpid/client/SessionImpl.h|1 0
Added: src/qpid/client/amqp0_10/AddressResolution.cpp|464 0
Added: src/qpid/client/amqp0_10/AddressResolution.h|68 0
Added: src/qpid/client/amqp0_10/Codecs.cpp|299 0
Added: src/qpid/client/amqp0_10/CompletionTracker.cpp|48 0
Added: src/qpid/client/amqp0_10/CompletionTracker.h|50 0
Added: src/qpid/client/amqp0_10/ConnectionImpl.cpp|79 0
Added: src/qpid/client/amqp0_10/ConnectionImpl.h|43 0
Added: src/qpid/client/amqp0_10/IncomingMessages.cpp|241 0
Added: src/qpid/client/amqp0_10/IncomingMessages.h|91 0
Added: src/qpid/client/amqp0_10/MessageSink.h|50 0
Added: src/qpid/client/amqp0_10/MessageSource.h|47 0
Added: src/qpid/client/amqp0_10/ReceiverImpl.cpp|146 0
Added: src/qpid/client/amqp0_10/ReceiverImpl.h|76 0
Added: src/qpid/client/amqp0_10/SenderImpl.cpp|49 0
Added: src/qpid/client/amqp0_10/SenderImpl.h|58 0
Added: src/qpid/client/amqp0_10/SessionImpl.cpp|281 0
Added: src/qpid/client/amqp0_10/SessionImpl.h|107 0
Added: src/qpid/messaging/Address.cpp|49 0
Added: src/qpid/messaging/Connection.cpp|90 0
Added: src/qpid/messaging/ConnectionImpl.h|45 0
Added: src/qpid/messaging/Filter.cpp|39 0
Added: src/qpid/messaging/Message.cpp|325 0
Added: src/qpid/messaging/Receiver.cpp|51 0
Added: src/qpid/messaging/ReceiverImpl.h|52 0
Added: src/qpid/messaging/Sender.cpp|44 0
Added: src/qpid/messaging/SenderImpl.h|44 0
Added: src/qpid/messaging/Session.cpp|117 0
Added: src/qpid/messaging/SessionImpl.h|65 0
Added: src/qpid/messaging/Variant.cpp|603 0
Modified: src/tests/CMakeLists.txt|2 0
Modified: src/tests/Makefile.am|3 1
Added: src/tests/MessagingSessionTests.cpp|325 0
Added: src/tests/Variant.cpp|157 0

Revision: 931d5c18a2cc1855d41acd29cdaf05070df237c1
Author: Ted Ross <tross@apache.org>
Date: 26/08/2009 03:33:38
Message:
Fixed minor issues from r807731 to build correctly on Fedora 10 (x86_64). #MsgLength=75


----
Deleted: examples/messaging/Makefile.in|0 657
Modified: examples/messaging/topic_listener.cpp|1 1
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|3 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|7 1
Modified: src/tests/MessagingSessionTests.cpp|1 1

Revision: 31862a18caa746c1a6d07d631d88e1600146b342
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2009 16:45:03
Message:
Add required include (absence believed to cause failures on some platforms) #MsgLength=78


----
Modified: include/qpid/messaging/Address.h|1 0

Revision: 70fea672a1be9a8235c1be8ea25c5e54b7221a0f
Author: Gordon Sim <gsim@apache.org>
Date: 27/08/2009 00:55:43
Message:
Hide internal message ID behind API #MsgLength=38


----
Modified: examples/messaging/server.cpp|1 3
Modified: include/qpid/messaging/Message.h|1 3
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|4 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|3 9
Modified: src/qpid/messaging/Message.cpp|1 256
Added: src/qpid/messaging/MessageImpl.cpp|192 0
Added: src/qpid/messaging/MessageImpl.h|132 0
Modified: src/tests/MessagingSessionTests.cpp|17 0

Revision: 6f7a8748f2c845aa8ac4a49e518e813a797ffdfd
Author: Ted Ross <tross@apache.org>
Date: 27/08/2009 02:44:14
Message:
Purely cosmetic changes, no functional change. - Changed indentation - Re-ordered class definitions for more logical grouping #MsgLength=131


----
Modified: bindings/qmf/ruby/qmf.rb|469 449

Revision: a5e59fe783e2b23f3d8a1970208c28ea4145da5c
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/08/2009 05:28:13
Message:
Fix MessagingSessionTests name (was missing trailing 's' #MsgLength=57


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: 84bc04ea50b3982ffabf3b3af7cf27d4be166551
Author: Ted Ross <tross@apache.org>
Date: 29/08/2009 06:03:26
Message:
Major work in the QMF engine. - The console framework now establishes connectivity with the broker. - The Ruby binding for console is tracking the engine development. - Overall improvements (thread safety in Ruby, etc.) have been added. #MsgLength=244


----
Modified: bindings/qmf/qmfengine.i|3 1
Modified: bindings/qmf/ruby/qmf.rb|258 40
Modified: bindings/qmf/tests/agent_ruby.rb|10 0
Modified: bindings/qmf/tests/python_console.py|12 0
Added: bindings/qmf/tests/ruby_console.rb|43 0
Modified: bindings/qmf/tests/run_interop_tests|12 1
Modified: src/qmf.mk|1 0
Modified: src/qmf/AgentEngine.cpp|22 22
Modified: src/qmf/AgentEngine.h|2 2
Added: src/qmf/ConsoleEngine.cpp|488 0
Modified: src/qmf/ConsoleEngine.h|147 31
Modified: src/qmf/ObjectImpl.cpp|3 3
Modified: src/qmf/ResilientConnection.cpp|11 11
Modified: src/qmf/ResilientConnection.h|6 5
Modified: src/qmf/Schema.h|17 6
Modified: src/qmf/SchemaImpl.cpp|42 33
Modified: src/qmf/SchemaImpl.h|19 8

Revision: 177f26d0a2f0f8d87c2d00049a59d16bce178958
Author: Ted Ross <tross@apache.org>
Date: 01/09/2009 04:18:48
Message:
Added protocol module for codepoint definitions and header handling. Fixed a deadlock case in ResilientConnection. Added more code to the ConsoleEngine implementation. #MsgLength=169


----
Modified: bindings/qmf/ruby/qmf.rb|2 1
Modified: bindings/qmf/tests/ruby_console.rb|1 1
Modified: src/qmf.mk|4 0
Modified: src/qmf/AgentEngine.cpp|43 147
Modified: src/qmf/ConsoleEngine.cpp|234 26
Added: src/qmf/Protocol.cpp|52 0
Added: src/qmf/Protocol.h|67 0
Modified: src/qmf/ResilientConnection.cpp|7 1
Added: src/qmf/SequenceManager.cpp|50 0
Added: src/qmf/SequenceManager.h|52 0

Revision: faaa13e0cf20e4249c406a8a96eeafc79d3d314c
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/09/2009 06:43:29
Message:
Changes to make messaging API build on Windows: Prepend VAR_ to Variant types enum to avoid name clashes, add 'reference' type for FieldTable ValueMap to satisfy STL, refer to structs as such, not as class (avoids compile warning) #MsgLength=231


----
Modified: include/qpid/framing/FieldTable.h|2 1
Modified: include/qpid/framing/List.h|1 0
Modified: include/qpid/messaging/Connection.h|1 1
Modified: include/qpid/messaging/Message.h|3 3
Modified: include/qpid/messaging/Session.h|2 2
Modified: include/qpid/messaging/Variant.h|15 15
Modified: src/qpid/client/amqp0_10/AddressResolution.h|2 2
Modified: src/qpid/client/amqp0_10/Codecs.cpp|15 15
Modified: src/qpid/client/amqp0_10/SessionImpl.h|2 2
Modified: src/qpid/messaging/MessageImpl.cpp|21 21
Modified: src/qpid/messaging/SessionImpl.h|2 2
Modified: src/qpid/messaging/Variant.cpp|129 129
Modified: src/tests/Variant.cpp|10 10

Revision: d12e4a509266ac5cbe1d2b0a5760628465f6fb61
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/09/2009 07:41:53
Message:
Working towards abstracting away the cross platform uuid mess: * Stop including indirectly from uuid.h in qpid/framing/Uuid.h and move inline definitions there into the implementation file #MsgLength=191


----
Modified: include/qpid/framing/Uuid.h|12 15
Modified: src/Makefile.am|3 3
Modified: src/qpid/framing/Uuid.cpp|31 0
Renamed: src/qpid/sys/uuid.h [from include/qpid/sys/uuid.h]|0 0
Renamed: src/qpid/sys/windows/uuid.h [from include/qpid/sys/windows/uuid.h]|0 0
Modified: src/tests/txtest.cpp|3 6

Revision: 76fe42cbba536404f96a3b6c0d08d21dc7d990a8
Author: Gordon Sim <gsim@apache.org>
Date: 01/09/2009 23:22:48
Message:
QPID-2078: Ensure sessions are cleaned up when their connection is closed by management. #MsgLength=91


----
Modified: src/qpid/broker/Connection.cpp|4 2

Revision: f2276b718e5381b51d11264ac9ec269a0ccf6188
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/09/2009 23:54:29
Message:
Some QPID_COMMON_EXTERNs missed from previous uuid commit #MsgLength=58


----
Modified: include/qpid/framing/Uuid.h|3 3

Revision: ed4bfd193632b8c42b933ccb813fe0bfaf35d389
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/09/2009 23:55:48
Message:
Remove some warnings picked up by MSVC compiler #MsgLength=48


----
Modified: src/tests/Variant.cpp|2 2

Revision: 83f7dba5b07af625134b02a4299469d17dfabef0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/09/2009 04:47:15
Message:
Revisit fix for QPID-1737: (clash with Win32 symbol) Change all use of STATUS_INVALID_PARAMETER to STATUS_PARAMETER_INVALID #MsgLength=127


----
Modified: include/qpid/management/Manageable.h|1 1
Modified: include/qpid/sys/windows/Condition.h|0 1
Modified: include/qpid/sys/windows/Mutex.h|0 1
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 2
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/management/Manageable.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|2 2

Revision: 60483df02ed07d6cc8fd64e2b48a83157b6e883f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/09/2009 05:37:27
Message:
Avoid failed test where ruby-devel isn't installed #MsgLength=51


----
Modified: bindings/qmf/Makefile.am|2 0

Revision: 78b7ee2278bf8326933a9291411e78945419198c
Author: Gordon Sim <gsim@apache.org>
Date: 02/09/2009 15:24:40
Message:
QPID-2078: cluster disallows the connection.close management method, so skip this test when running against cluster #MsgLength=118


----
Modified: src/tests/cluster_python_tests_failing.txt|1 0

Revision: dca26aadc2f52c696f3361d99937d5b85be8a91c
Author: Ted Ross <tross@apache.org>
Date: 02/09/2009 20:32:56
Message:
More QMF implementation: - Added schema handling and exchange to the console - Improved the connection performance by switching to pre-acquired mode #MsgLength=154


----
Modified: bindings/qmf/ruby/qmf.rb|73 16
Modified: bindings/qmf/tests/ruby_console.rb|19 1
Modified: src/qmf/ConsoleEngine.cpp|235 45
Modified: src/qmf/ConsoleEngine.h|6 5
Modified: src/qmf/ResilientConnection.cpp|3 0
Modified: src/qmf/SchemaImpl.cpp|113 322
Modified: src/qmf/SchemaImpl.h|12 1

Revision: 3c8825ff2424ce7db7e9189ddf00c8ec295c2a5a
Author: Ted Ross <tross@apache.org>
Date: 02/09/2009 21:04:20
Message:
Removed empty directory #MsgLength=24


----

Revision: 35f1ebf786d2b5cfe87ff30da1031276da1500c3
Author: Ted Ross <tross@apache.org>
Date: 02/09/2009 22:32:57
Message:
QPID-2064 - add python bindings for qmf (c++) Applied patch from Ken Giusti #MsgLength=77


----
Modified: bindings/qmf/Makefile.am|1 1
Modified: bindings/qmf/python/Makefile.am|4 2
Modified: bindings/qmf/python/python.i|114 6
Added: bindings/qmf/python/qmf.py|854 0
Added: bindings/qmf/tests/python_agent.py|192 0
Modified: bindings/qmf/tests/run_interop_tests|30 2
Modified: configure.ac|1 0
Modified: src/qmf/AgentEngine.h|1 1
Modified: src/qmf/Value.h|1 1

Revision: 5f9d6a51c06451888ac268d3648e16ada87030a8
Author: Ted Ross <tross@apache.org>
Date: 02/09/2009 22:45:33
Message:
Fixed a race condition whereby the connection thread sometimes read the value of "delayMin" before it was initialized by the constructor. #MsgLength=139


----
Modified: src/qmf/ResilientConnection.cpp|1 1

Revision: 78a3e2e74a82ea2aa0a11813e3fc539e9220161d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2009 00:24:00
Message:
Change Async buffer returning logic to only watch reads when necessary #MsgLength=71


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|21 3

Revision: 78d6798f57078750b479f755ce62725c6775da8a
Author: Ted Ross <tross@apache.org>
Date: 03/09/2009 04:19:13
Message:
QPID-2050 - leak of bridge objects Committed patch from Ken Giusti. #MsgLength=69


----
Modified: src/qpid/broker/Link.cpp|0 1
Modified: src/tests/federation.py|14 0

Revision: 3384dfe45f7e3789010b68bc6a3131e42d168cad
Author: Ted Ross <tross@apache.org>
Date: 03/09/2009 23:34:19
Message:
Improved automake for the qmf bindings. - Added conditionals for HAVE_PYTHON_DEVEL - Added conditionals in the run_interop_tests script to skip tests of unbuilt components - Removed from distribution the code generated by swig for Python #MsgLength=245


----
Modified: bindings/qmf/Makefile.am|8 2
Modified: bindings/qmf/python/Makefile.am|1 2
Modified: bindings/qmf/tests/Makefile.am|7 1
Modified: bindings/qmf/tests/run_interop_tests|27 20

Revision: 2072603d7a3bf49684f421ffac870ab375a9e0b9
Author: Ted Ross <tross@apache.org>
Date: 04/09/2009 01:20:45
Message:
QPID-2045 - crash when destroying a federation link with a dynamic bridge Committed patch from Ken Guisti #MsgLength=107


----
Modified: src/qpid/broker/Link.cpp|3 1
Modified: src/tests/federation.py|7 2

Revision: eb1ea4addabcbd4b3f9743a636f0de1f7544d213
Author: Ted Ross <tross@apache.org>
Date: 04/09/2009 08:27:37
Message:
QPID-2080 - crash when attempting to modify an exchange's alternate Committed patch from Ken Giusti #MsgLength=101


----
Modified: src/qpid/broker/SessionAdapter.cpp|4 2

Revision: a2f2bf9a1611f28a7a9f49e8c316284635cdd97a
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/09/2009 03:25:47
Message:
Unify namespace usage, avoid using qpid::client because it confuses arg in boost, at least on Windows #MsgLength=102


----
Modified: src/qmf/ResilientConnection.cpp|18 18

Revision: 62e50917f981e9ac759ba266a3cdd8ea0e95b71d
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/09/2009 05:19:13
Message:
Pick up correct CMake-set macro (qmfcommon_EXPORTS) to flip import/export for qmfcommon lib #MsgLength=92


----
Modified: include/qmf/QmfImportExport.h|1 1

Revision: b9f59b591d0def1c26f588b99da323644c1cd586
Author: Gordon Sim <gsim@apache.org>
Date: 07/09/2009 17:15:40
Message:
QPID-664: Added automatic reconnection logic. #MsgLength=48


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|108 6
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|26 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|6 3
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|1 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|104 60
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|97 8
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|32 7
Modified: src/qpid/client/amqp0_10/SenderImpl.h|53 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|159 65
Modified: src/qpid/client/amqp0_10/SessionImpl.h|101 6
Modified: src/tests/Makefile.am|5 0
Modified: src/tests/MessagingSessionTests.cpp|20 0
Added: src/tests/qpid_stream.cpp|163 0

Revision: e5344798d6f1ba5b6c1449f9d173c72fdbdcc95a
Author: Gordon Sim <gsim@apache.org>
Date: 08/09/2009 02:09:00
Message:
QPID-664: Added automatic message replay on reconnection. #MsgLength=60


----
Modified: include/qpid/messaging/Sender.h|1 1
Modified: src/CMakeLists.txt|3 0
Modified: src/Makefile.am|3 0
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|10 13
Added: src/qpid/client/amqp0_10/CodecsInternal.h|41 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 2
Modified: src/qpid/client/amqp0_10/MessageSink.h|3 1
Added: src/qpid/client/amqp0_10/OutgoingMessage.cpp|64 0
Added: src/qpid/client/amqp0_10/OutgoingMessage.h|46 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|30 6
Modified: src/qpid/client/amqp0_10/SenderImpl.h|14 4
Modified: src/qpid/messaging/MessageImpl.cpp|13 0
Modified: src/qpid/messaging/MessageImpl.h|2 0
Modified: src/qpid/messaging/Sender.cpp|1 1
Modified: src/qpid/messaging/SenderImpl.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|0 2

Revision: 576f0c35767853c7c14ce9babf237ec176ddd731
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2009 01:29:24
Message:
Fixed code that pushes a buffer into the read queue if closed for write #MsgLength=72


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1

Revision: 65d6c43704eadaa47496c872d4b7424d9c29cbf7
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/09/2009 04:50:12
Message:
Remove extra ::Variant from translate() signature #MsgLength=50


----
Modified: src/qpid/client/amqp0_10/CodecsInternal.h|1 1

Revision: fee0cc7d5b5898726551cabb764f1c5e20c390b7
Author: Michael Goulish <mgoulish@apache.org>
Date: 09/09/2009 23:30:12
Message:
( mgoulish checking in changes for gsim ) add ttl option for messages. #MsgLength=72


----
Modified: src/tests/sender.cpp|10 6

Revision: 64c7b673abe614c504de15e3cb0a35ef68be51fa
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2009 03:01:09
Message:
Replace write lock with read lock in QueueRegistry::eachQueue. #MsgLength=64


----
Modified: src/qpid/broker/QueueRegistry.h|1 1

Revision: e6765a0702c0d3eb71a0285a38fd1d6e2aabfac2
Author: Stephen D. Huston <shuston@apache.org>
Date: 10/09/2009 03:45:26
Message:
Adjust to new location of state_saver in Boost 1.40; fixes QPID-2090 #MsgLength=69


----
Modified: src/qpid/client/Dispatcher.cpp|9 2

Revision: a38582961987b2d51869c26a367c610c993c42dc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/09/2009 03:46:56
Message:
Tidied up namespace usage Miscelleneous whitespace fixes #MsgLength=57


----
Modified: src/qpid/broker/Exchange.cpp|13 13
Modified: src/qpid/broker/MessageBuilder.cpp|14 14
Modified: src/qpid/sys/rdma/RdmaClient.cpp|9 2
Modified: src/qpid/sys/rdma/RdmaServer.cpp|9 2
Modified: src/tests/AccumulatedAckTest.cpp|9 4
Modified: src/tests/Array.cpp|8 3
Modified: src/tests/AsyncCompletion.cpp|8 3
Modified: src/tests/AtomicValue.cpp|5 0
Modified: src/tests/BrokerFixture.h|7 3
Modified: src/tests/ClientMessageTest.cpp|6 1
Modified: src/tests/ClientSessionTest.cpp|35 32
Modified: src/tests/ClusterFailover.cpp|5 0
Modified: src/tests/ClusterFixture.cpp|5 0
Modified: src/tests/ClusterFixture.h|5 0
Modified: src/tests/ConnectionOptions.h|9 5
Modified: src/tests/ConsoleTest.cpp|6 3
Modified: src/tests/DeliveryRecordTest.cpp|6 2
Modified: src/tests/DispatcherTest.cpp|27 20
Modified: src/tests/DtxWorkRecordTest.cpp|11 7
Modified: src/tests/ExchangeTest.cpp|23 18
Modified: src/tests/FieldTable.cpp|12 7
Modified: src/tests/FieldValue.cpp|9 4
Modified: src/tests/ForkedBroker.cpp|12 8
Modified: src/tests/ForkedBroker.h|11 6
Modified: src/tests/Frame.cpp|7 2
Modified: src/tests/FrameDecoder.cpp|8 3
Modified: src/tests/FramingTest.cpp|15 10
Modified: src/tests/HeaderTest.cpp|11 7
Modified: src/tests/HeadersExchangeTest.cpp|18 13
Modified: src/tests/IncompleteMessageList.cpp|11 6
Modified: src/tests/InlineAllocator.cpp|9 4
Modified: src/tests/InlineVector.cpp|8 3
Modified: src/tests/ManagementTest.cpp|6 3
Modified: src/tests/MessageBuilderTest.cpp|26 20
Modified: src/tests/MessageReplayTracker.cpp|12 9
Modified: src/tests/MessageTest.cpp|8 4
Modified: src/tests/MessageUtils.h|9 4
Modified: src/tests/MessagingSessionTests.cpp|23 18
Modified: src/tests/PartialFailure.cpp|5 0
Modified: src/tests/PollableCondition.cpp|10 8
Modified: src/tests/ProxyTest.cpp|8 3
Modified: src/tests/QueueEvents.cpp|10 7
Modified: src/tests/QueueOptionsTest.cpp|16 11
Modified: src/tests/QueuePolicyTest.cpp|25 20
Modified: src/tests/QueueRegistryTest.cpp|11 6
Modified: src/tests/QueueTest.cpp|80 75
Modified: src/tests/RangeSet.cpp|7 2
Modified: src/tests/RateFlowcontrolTest.cpp|12 7
Modified: src/tests/RefCounted.cpp|5 0
Modified: src/tests/ReplicationTest.cpp|9 4
Modified: src/tests/RetryList.cpp|10 5
Modified: src/tests/SequenceNumberTest.cpp|8 4
Modified: src/tests/SequenceSet.cpp|6 3
Modified: src/tests/SessionState.cpp|12 7
Modified: src/tests/Shlib.cpp|7 2
Modified: src/tests/SocketProxy.h|9 4
Modified: src/tests/TestMessageStore.h|9 4
Modified: src/tests/TestOptions.h|3 3
Modified: src/tests/TimerTest.cpp|12 7
Modified: src/tests/TopicExchangeTest.cpp|14 8
Modified: src/tests/TxBufferTest.cpp|7 2
Modified: src/tests/TxMocks.h|27 22
Modified: src/tests/TxPublishTest.cpp|14 9
Modified: src/tests/Url.cpp|5 0
Modified: src/tests/Uuid.cpp|5 0
Modified: src/tests/Variant.cpp|13 8
Modified: src/tests/XmlClientSessionTest.cpp|11 7
Modified: src/tests/client_test.cpp|14 7
Modified: src/tests/cluster_test.cpp|7 2
Modified: src/tests/consume.cpp|14 7
Modified: src/tests/datagen.cpp|13 6
Modified: src/tests/echotest.cpp|14 7
Modified: src/tests/exception_test.cpp|11 6
Modified: src/tests/failover_soak.cpp|63 61
Modified: src/tests/latencytest.cpp|31 24
Modified: src/tests/logging.cpp|18 13
Modified: src/tests/perftest.cpp|42 35
Modified: src/tests/publish.cpp|14 7
Modified: src/tests/qpid_ping.cpp|9 3
Modified: src/tests/qrsh.cpp|20 17
Modified: src/tests/qrsh_server.cpp|65 62
Modified: src/tests/receiver.cpp|15 11
Modified: src/tests/replaying_sender.cpp|23 16
Modified: src/tests/resuming_receiver.cpp|26 19
Modified: src/tests/sender.cpp|15 7
Modified: src/tests/shlibtest.cpp|4 2
Modified: src/tests/test_store.cpp|10 5
Modified: src/tests/test_tools.h|5 1
Modified: src/tests/topic_listener.cpp|55 50
Modified: src/tests/topic_publisher.cpp|71 64
Modified: src/tests/txjob.cpp|12 5
Modified: src/tests/txshift.cpp|17 10
Modified: src/tests/txtest.cpp|30 23

Revision: fe1f7c0bf93ed60421b491bc3bb17c073a0c2dcf
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2009 04:17:20
Message:
Fix QPID-2086, hang of federated_cluster_test_with_node_failure. #MsgLength=158


----
Modified: src/qpid/cluster/Connection.cpp|9 1

Revision: c5c38d561ff5d904c6d4a7965ff31a1f3dcd168c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/09/2009 05:17:25
Message:
Fixed wrong namespace placement in previous check in #MsgLength=53


----
Modified: src/tests/XmlClientSessionTest.cpp|3 3

Revision: 2f64d7401ed40e8cb9368a2f2982c9d48c2ce7cb
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/09/2009 21:33:42
Message:
Joint checkin with cctrieloff. Refactor of exchange routing so that multi-queue policy differences may be resolved and allow for correct multi-queue flow-to-disk behavior. Different queues may have differing policies and persistence properties - these were previously being neglected. New c++ test added. #MsgLength=305


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/DirectExchange.cpp|5 32
Modified: src/qpid/broker/Exchange.cpp|43 0
Modified: src/qpid/broker/Exchange.h|9 6
Modified: src/qpid/broker/FanOutExchange.cpp|6 29
Modified: src/qpid/broker/HeadersExchange.cpp|10 24
Modified: src/qpid/broker/Message.cpp|26 26
Modified: src/qpid/broker/Message.h|16 15
Modified: src/qpid/broker/MessageBuilder.cpp|2 2
Added: src/qpid/broker/MessageReleaseManager.h|54 0
Modified: src/qpid/broker/PersistableMessage.cpp|31 22
Modified: src/qpid/broker/PersistableMessage.h|17 9
Modified: src/qpid/broker/PersistableQueue.h|9 9
Modified: src/qpid/broker/Queue.cpp|63 75
Modified: src/qpid/broker/Queue.h|11 13
Modified: src/qpid/broker/QueuePolicy.cpp|18 18
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|10 10
Modified: src/qpid/broker/SemanticState.cpp|27 27
Modified: src/qpid/broker/TopicExchange.cpp|21 41
Modified: src/qpid/sys/CopyOnWriteArray.h|3 2
Modified: src/qpid/xml/XmlExchange.cpp|20 43
Modified: src/qpid/xml/XmlExchange.h|5 5
Modified: src/tests/QueueTest.cpp|130 4

Revision: 45a65deb5c6f5ed4b18891b623102d9061fa1213
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 11/09/2009 22:24:11
Message:
This commit contains the following 1. Applying patches from Tim Platten attched to QPID-2062 and QPID-2063 2. Fixed QPID-2098 3. Added test cases for QPID-2062 and QPID-2063 4. Added more user friendly logging for ACL rule processing and lookup methods. In debug mode the logging should now provide more visibility into how rules are evaluated. #MsgLength=346


----
Modified: src/qpid/acl/AclData.cpp|57 34
Modified: src/qpid/acl/AclData.h|11 1
Modified: src/qpid/acl/AclReader.cpp|127 100
Modified: src/qpid/broker/AclModule.h|16 1
Modified: src/qpid/broker/SessionAdapter.cpp|11 7
Modified: src/tests/acl.py|105 21

Revision: b834d583860f57c55158d75e99046d2ea913d1dc
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/09/2009 04:40:29
Message:
Fix for signed-unsigned mismatch in test #MsgLength=41


----
Modified: src/tests/QueueTest.cpp|2 2

Revision: 425bd42120ecdea2bdc45d82db6616d5f94810bb
Author: Alan Conway <aconway@apache.org>
Date: 12/09/2009 04:42:58
Message:
Fix incorrect test for quorum status. #MsgLength=39


----
Modified: src/qpid/cluster/Quorum_cman.cpp|1 1

Revision: 8fd660682f6173884a129aeffae4e10cd9a9e938
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/09/2009 05:47:04
Message:
Minor fix from r.814021 #MsgLength=24


----
Modified: src/qpid/cluster/Quorum_cman.cpp|3 3

Revision: 8deee3fee6e04aee030aa54666955757b6b127dd
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 12/09/2009 07:22:59
Message:
Organized the tests to cover both allow and deny mode for particular case Added more tests cases to exchange , particularly to cover QPID-2098 Fixed errors in test cases for queue acl #MsgLength=185


----
Modified: src/tests/acl.py|259 33

Revision: 5cf25e21c76cf3782a8ddca8e45a92600a19d573
Author: Gordon Sim <gsim@apache.org>
Date: 14/09/2009 17:15:54
Message:
Fix incorrect file name #MsgLength=26


----
Modified: src/Makefile.am|1 1

Revision: 87a719d1f6fdc371090491b9c6b996cc1dc2bc48
Author: Gordon Sim <gsim@apache.org>
Date: 14/09/2009 18:21:49
Message:
Added available and pendingAck properties to Receiver; added capacity and pending properties to Sender. #MsgLength=106


----
Modified: include/qpid/messaging/Receiver.h|27 6
Modified: include/qpid/messaging/Sender.h|19 0
Modified: include/qpid/messaging/Session.h|11 3
Modified: src/CMakeLists.txt|2 2
Modified: src/Makefile.am|2 2
Added: src/qpid/client/amqp0_10/AcceptTracker.cpp|111 0
Renamed: src/qpid/client/amqp0_10/AcceptTracker.h [from src/qpid/client/amqp0_10/CompletionTracker.h]|49 14
Deleted: src/qpid/client/amqp0_10/CompletionTracker.cpp|0 48
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|48 5
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|8 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|15 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|3 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|45 10
Modified: src/qpid/client/amqp0_10/SenderImpl.h|28 6
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|55 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|17 0
Modified: src/qpid/messaging/Address.cpp|0 3
Modified: src/qpid/messaging/Receiver.cpp|3 0
Modified: src/qpid/messaging/ReceiverImpl.h|3 0
Modified: src/qpid/messaging/Sender.cpp|3 0
Modified: src/qpid/messaging/SenderImpl.h|3 0
Modified: src/qpid/messaging/Session.cpp|2 10
Modified: src/qpid/messaging/SessionImpl.h|2 2
Modified: src/tests/MessagingSessionTests.cpp|77 1

Revision: f6c7bc1f6d7664db58b0adfb69fe2e54583dfbb6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 14/09/2009 23:20:13
Message:
Reversed checkin of r.813825 until its problems can be resolved #MsgLength=64


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/DirectExchange.cpp|32 5
Modified: src/qpid/broker/Exchange.cpp|0 43
Modified: src/qpid/broker/Exchange.h|6 9
Modified: src/qpid/broker/FanOutExchange.cpp|29 6
Modified: src/qpid/broker/HeadersExchange.cpp|24 10
Modified: src/qpid/broker/Message.cpp|26 26
Modified: src/qpid/broker/Message.h|15 16
Modified: src/qpid/broker/MessageBuilder.cpp|2 2
Deleted: src/qpid/broker/MessageReleaseManager.h|0 54
Modified: src/qpid/broker/PersistableMessage.cpp|22 31
Modified: src/qpid/broker/PersistableMessage.h|9 17
Modified: src/qpid/broker/PersistableQueue.h|9 9
Modified: src/qpid/broker/Queue.cpp|75 63
Modified: src/qpid/broker/Queue.h|13 11
Modified: src/qpid/broker/QueuePolicy.cpp|18 18
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|10 10
Modified: src/qpid/broker/SemanticState.cpp|27 27
Modified: src/qpid/broker/TopicExchange.cpp|41 21
Modified: src/qpid/sys/CopyOnWriteArray.h|2 3
Modified: src/qpid/xml/XmlExchange.cpp|42 19
Modified: src/qpid/xml/XmlExchange.h|5 5
Modified: src/tests/QueueTest.cpp|4 120

Revision: 6812310e418bc60cebc1f4d481be931b5f18353a
Author: Ted Ross <tross@apache.org>
Date: 16/09/2009 01:45:51
Message:
QMF Console updated to the point where query (get_object) is supported. The Ruby binding continues to track the c++ engine progress. #MsgLength=134


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/python/qmf.py|9 5
Modified: bindings/qmf/ruby/qmf.rb|242 53
Modified: bindings/qmf/tests/agent_ruby.rb|3 4
Modified: bindings/qmf/tests/python_agent.py|3 1
Modified: bindings/qmf/tests/ruby_console.rb|70 13
Modified: src/qmf/AgentEngine.cpp|11 8
Modified: src/qmf/ConsoleEngine.cpp|292 87
Modified: src/qmf/ConsoleEngine.h|46 24
Modified: src/qmf/Object.h|2 1
Modified: src/qmf/ObjectId.h|1 0
Modified: src/qmf/ObjectIdImpl.cpp|13 8
Modified: src/qmf/ObjectIdImpl.h|2 1
Modified: src/qmf/ObjectImpl.cpp|37 51
Modified: src/qmf/ObjectImpl.h|8 5
Modified: src/qmf/Query.h|60 10
Modified: src/qmf/QueryImpl.cpp|54 31
Modified: src/qmf/QueryImpl.h|66 12
Modified: src/qmf/SchemaImpl.cpp|11 2
Modified: src/qmf/SchemaImpl.h|7 0
Modified: src/qmf/SequenceManager.cpp|49 3
Modified: src/qmf/SequenceManager.h|17 3

Revision: acdea9dbccbeb2b2e7d81d84bc349879fa441e27
Author: Michael Goulish <mgoulish@apache.org>
Date: 16/09/2009 22:31:11
Message:
rhs's new system for python allows us to build python test code that is appropriate for the installed python version, and place the code at any desired location.  This is a big improvement in making the builds automatically adapt to different OSs. #MsgLength=446


----
Modified: src/tests/Makefile.am|7 0
Modified: src/tests/clustered_replication_test|1 1
Modified: src/tests/federated_cluster_test|1 1
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_ring_queue_test|1 1

Revision: 3a04ccce31e450640de6348d4011c09f576af558
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/09/2009 00:53:07
Message:
Use qpid::sys::sleep() instead of naked sleep(); fixes build error on Windows #MsgLength=78


----
Modified: src/tests/MessagingSessionTests.cpp|1 1

Revision: a1a8a5f893c4e42d5e3963f0c2a84a371602b0ab
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/09/2009 01:52:39
Message:
Path fix for recent checkin of Python changes. #MsgLength=49


----
Modified: src/tests/clustered_replication_test|6 6

Revision: 1d7d575ae2ba4c54cb42d450a78e3093242c8119
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/09/2009 02:45:54
Message:
backing out change r815804 -- didn't test with clustering turned on. #MsgLength=71


----
Modified: src/tests/Makefile.am|0 7
Modified: src/tests/clustered_replication_test|7 7
Modified: src/tests/federated_cluster_test|1 1
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_ring_queue_test|1 1

Revision: c1475af8295e34d86e3ac49680d7f801551ba5b0
Author: Ted Ross <tross@apache.org>
Date: 18/09/2009 03:27:52
Message:
QMF Console - Added implementation for method invocation - Added metaprogramming hooks in Ruby for attribute and method access - Refactored file structure #MsgLength=162


----
Modified: bindings/qmf/ruby/qmf.rb|135 5
Modified: bindings/qmf/tests/agent_ruby.rb|37 37
Modified: bindings/qmf/tests/ruby_console.rb|18 3
Modified: src/qmf.mk|4 1
Added: src/qmf/BrokerProxyImpl.cpp|663 0
Added: src/qmf/BrokerProxyImpl.h|222 0
Deleted: src/qmf/ConsoleEngine.cpp|0 1091
Modified: src/qmf/ConsoleEngine.h|10 10
Added: src/qmf/ConsoleEngineImpl.cpp|361 0
Added: src/qmf/ConsoleEngineImpl.h|133 0
Modified: src/qmf/Object.h|1 0
Modified: src/qmf/ObjectImpl.cpp|11 3
Modified: src/qmf/ObjectImpl.h|6 1
Modified: src/qmf/Value.h|1 0
Modified: src/qmf/ValueImpl.cpp|65 289
Modified: src/qmf/ValueImpl.h|1 2

Revision: fafb9cba873aba0af8766c5d06a667667b4104a0
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/09/2009 03:37:35
Message:
Add console control handler to properly shut down broker on ^C et al; fixes QPID-2109 #MsgLength=86


----
Modified: src/windows/QpiddBroker.cpp|9 0

Revision: a38deb7f85fe80207951c70b902256b1f9e554a9
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/09/2009 22:45:12
Message:
New suppressions for RHEL4 only, taking care of extensive leaks in dl_open and a couple other libs after a recent upgrade. #MsgLength=232


----
Modified: boost-1.32-support/supressions|76 0

Revision: b00c784abe6ddfa625d638148849f7f2970bf766
Author: Michael Goulish <mgoulish@apache.org>
Date: 19/09/2009 00:53:50
Message:
rhs's new system for python allows us to build python test code that is appropriate for the installed python version, and place the code at any desired location.  This is a big improvement in making the builds automatically adapt to different OSs. #MsgLength=448


----
Modified: src/tests/Makefile.am|8 0
Modified: src/tests/clustered_replication_test|7 7
Modified: src/tests/federated_cluster_test|9 9
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_ring_queue_test|1 1

Revision: 064a07c913dabd3c5ed632d52bcba5aa75acf804
Author: Michael Goulish <mgoulish@apache.org>
Date: 19/09/2009 02:06:36
Message:
Rolling back my recent change 816715.  These script changes don't work with the RH "Ptolemy" build system. #MsgLength=108


----
Modified: src/tests/Makefile.am|0 8
Modified: src/tests/clustered_replication_test|7 7
Modified: src/tests/federated_cluster_test|9 9
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_ring_queue_test|1 1

Revision: e89d373cfa150e86fb96b4a88b7ffbbe24ae6b53
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/09/2009 03:55:47
Message:
Rearrange readCredit logic for correctness #MsgLength=43


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|18 14

Revision: cb9a4d5994e342760ce6ffdf4df2d9b733b5d997
Author: Ted Ross <tross@apache.org>
Date: 19/09/2009 04:15:15
Message:
Refactored the QMF engine to adhere to the following rules regarding the pimpl (Pointer to Implementation) pattern: #MsgLength=521


----
Modified: bindings/qmf/ruby/qmf.rb|0 4
Modified: bindings/qmf/tests/ruby_console.rb|1 1
Modified: include/qmf/ConnectionSettings.h|5 2
Modified: src/qmf/AgentEngine.cpp|47 49
Modified: src/qmf/AgentEngine.h|1 1
Modified: src/qmf/BrokerProxyImpl.cpp|73 62
Modified: src/qmf/BrokerProxyImpl.h|44 39
Modified: src/qmf/ConnectionSettingsImpl.cpp|18 73
Modified: src/qmf/ConnectionSettingsImpl.h|2 3
Modified: src/qmf/ConsoleEngine.h|7 3
Modified: src/qmf/ConsoleEngineImpl.cpp|22 23
Modified: src/qmf/ConsoleEngineImpl.h|11 11
Modified: src/qmf/Object.h|4 1
Modified: src/qmf/ObjectId.h|8 1
Modified: src/qmf/ObjectIdImpl.cpp|25 55
Modified: src/qmf/ObjectIdImpl.h|4 2
Modified: src/qmf/ObjectImpl.cpp|15 11
Modified: src/qmf/ObjectImpl.h|8 6
Modified: src/qmf/Query.h|5 1
Modified: src/qmf/QueryImpl.cpp|9 0
Modified: src/qmf/QueryImpl.h|10 14
Modified: src/qmf/ResilientConnection.cpp|2 1
Modified: src/qmf/Schema.h|48 12
Modified: src/qmf/SchemaImpl.cpp|135 76
Modified: src/qmf/SchemaImpl.h|30 34
Modified: src/qmf/Value.h|7 2
Modified: src/qmf/ValueImpl.cpp|25 13
Modified: src/qmf/ValueImpl.h|12 7

Revision: ff344e401352865c9db152cfc61890bcec199840
Author: Ted Ross <tross@apache.org>
Date: 19/09/2009 04:28:58
Message:
Added accessor for returned method arguments #MsgLength=46


----
Modified: bindings/qmf/ruby/qmf.rb|4 0
Modified: bindings/qmf/tests/ruby_console.rb|1 1

Revision: 64b10a708a4cd02cd8f280b963f48f171054f284
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2009 04:58:34
Message:
Enabled some tests that were unintentionally disabled. #MsgLength=56


----
Modified: src/tests/PartialFailure.cpp|2 3

Revision: e055e301fd1304cc8eed8d30f588920a04eb2b94
Author: Ted Ross <tross@apache.org>
Date: 22/09/2009 00:24:38
Message:
Added Ruby test infrastructure and Console tests in Ruby Fixed issues identified by the new tests: - Improper formatting of object-id in get-query - Remote (non-broker-resident) agents not visible to the console - object.update() and object.merge() not implemented #MsgLength=272


----
Modified: bindings/qmf/ruby/qmf.rb|14 5
Added: bindings/qmf/tests/ruby_console_test.rb|137 0
Modified: bindings/qmf/tests/run_interop_tests|9 1
Added: bindings/qmf/tests/test_base.rb|64 0
Modified: src/qmf/BrokerProxyImpl.cpp|37 7
Modified: src/qmf/BrokerProxyImpl.h|2 1
Modified: src/qmf/Object.h|3 1
Modified: src/qmf/ObjectIdImpl.cpp|1 1
Modified: src/qmf/ObjectImpl.cpp|13 1
Modified: src/qmf/ObjectImpl.h|2 0

Revision: 329949811c648fed888417844f6a9c8715d1f7ef
Author: Ted Ross <tross@apache.org>
Date: 22/09/2009 00:42:19
Message:
Fixed a Ruby convention problem (camel-case vs. underscores) Added method_missing function for Arguments for direct access to method output args. #MsgLength=147


----
Modified: bindings/qmf/ruby/qmf.rb|11 3
Modified: bindings/qmf/tests/ruby_console_test.rb|2 2

Revision: fb6b6a43e68c6bb4f5f7fc11f116d1d61f53f531
Author: Ted Ross <tross@apache.org>
Date: 22/09/2009 03:06:04
Message:
Properly report test failures in Ruby tests #MsgLength=44


----
Modified: bindings/qmf/tests/test_base.rb|4 0

Revision: 95af516d867cb47c25f17e37b4a6d7e3ae01e918
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/09/2009 04:15:39
Message:
More namespace cleaning #MsgLength=24


----
Modified: src/tests/qpid_stream.cpp|8 1

Revision: 49562774da8fc83029dff534116aa8231229779d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/09/2009 23:59:53
Message:
Make the AsynchIO API more consistent #MsgLength=38


----
Modified: src/qpid/sys/AsynchIO.h|1 1
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 6
Modified: src/qpid/sys/AsynchIOHandler.h|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 1

Revision: 5a1f1274034ef5df4133aaa5e74378d5ec9da740
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/09/2009 01:36:01
Message:
Joint checkin from gsim, kpvdr, cctrieloff. See QPID-2102: Exceeding reject queue policy under a transaction causes broker crash #MsgLength=129


----
Modified: src/qpid/broker/DtxAck.cpp|18 4
Modified: src/qpid/broker/Message.cpp|16 3
Modified: src/qpid/broker/Message.h|3 6
Modified: src/qpid/broker/MessageBuilder.cpp|2 1
Modified: src/qpid/broker/PersistableMessage.cpp|28 3
Modified: src/qpid/broker/PersistableMessage.h|14 1
Modified: src/qpid/broker/Queue.cpp|34 27
Modified: src/qpid/broker/Queue.h|2 3
Modified: src/qpid/broker/QueuePolicy.cpp|70 71
Modified: src/qpid/broker/QueuePolicy.h|18 12
Modified: src/qpid/broker/SemanticState.cpp|3 0
Modified: src/qpid/broker/TxAccept.cpp|7 1
Modified: src/qpid/broker/TxPublish.cpp|41 13
Modified: src/qpid/broker/TxPublish.h|8 6
Modified: src/tests/ExchangeTest.cpp|1 1
Modified: src/tests/MessageUtils.h|4 1
Modified: src/tests/QueuePolicyTest.cpp|37 21
Modified: src/tests/QueueTest.cpp|324 17
Modified: src/tests/TxPublishTest.cpp|1 1

Revision: 78cf61ad8093caf4650145e413e032b381178b9e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/09/2009 02:15:57
Message:
Minor update to allow store access to the message isPersistent() method. This is required for correctly setting the transient flag. #MsgLength=132


----
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/PersistableMessage.h|3 1
Modified: src/tests/QueueTest.cpp|1 1

Revision: f111182cddbd61b0dc59db4b68fb730ea27d781b
Author: Ted Ross <tross@apache.org>
Date: 23/09/2009 02:58:59
Message:
QPID-2112 - C++ Client: Facility needed for app to extract the user-ID in use for a connection #MsgLength=96


----
Modified: src/qpid/client/ConnectionHandler.cpp|1 0
Modified: src/qpid/client/ConnectionHandler.h|2 0
Modified: src/qpid/client/ConnectionImpl.cpp|6 0
Modified: src/qpid/client/Sasl.h|1 0
Modified: src/qpid/client/SaslFactory.cpp|13 0
Modified: src/qpid/client/windows/SaslFactory.cpp|6 0

Revision: 6a1cc856b6ab444b8880a1b19332bffa0edda476
Author: Ted Ross <tross@apache.org>
Date: 23/09/2009 04:11:30
Message:
QMF updates: - Added "sendUserId" option (defaults to true) to QMF connection settings - Implemented the user-id function using "negotiatedSettings" from qpid::client::Connection - Fixed a sign-extension bug in Value - Added tests for all of the above #MsgLength=261


----
Modified: bindings/qmf/tests/agent_ruby.rb|23 6
Modified: bindings/qmf/tests/ruby_console_test.rb|57 3
Modified: src/qmf/ConnectionSettingsImpl.cpp|4 2
Modified: src/qmf/ConnectionSettingsImpl.h|2 0
Modified: src/qmf/ResilientConnection.cpp|12 3
Modified: src/qmf/ValueImpl.cpp|2 2

Revision: ef9bb8ae8595cee300468372b0ad3ba29814d9f2
Author: Ted Ross <tross@apache.org>
Date: 23/09/2009 11:31:28
Message:
Attempt to clean up a warning about violating aliasing rules. #MsgLength=63


----
Modified: src/qpid/client/SaslFactory.cpp|3 3

Revision: 559e03cdbc8f3e1541acc094eb5a53c3999a357d
Author: Michael Goulish <mgoulish@apache.org>
Date: 23/09/2009 17:39:12
Message:
rhs's new system for python allows us to build python test code that is appropriate for the installed python version, and place the code at any desired location.  This is a big improvement in making the builds automatically adapt to different OSs. #MsgLength=443


----
Modified: src/tests/Makefile.am|7 0
Modified: src/tests/clustered_replication_test|7 7
Modified: src/tests/federated_cluster_test|9 9
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_ring_queue_test|1 1

Revision: 1f892f775309b3c5b44147100d047ea99ef32f6e
Author: Ted Ross <tross@apache.org>
Date: 23/09/2009 23:34:46
Message:
Fixes to the QMF Ruby API - added missing methods and reduced use of "get_" convention. #MsgLength=89


----
Modified: bindings/qmf/ruby/qmf.rb|34 7
Modified: bindings/qmf/tests/ruby_console.rb|11 9
Modified: bindings/qmf/tests/ruby_console_test.rb|9 9
Modified: bindings/qmf/tests/test_base.rb|2 2

Revision: b879508b298c05b66fe7d76845b4e6cb7f542d5e
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 24/09/2009 04:34:48
Message:
This patch requires svn 817742, corrects the lock issue for ring queue in 817742, and protects replication when used together with flow to disk #MsgLength=144


----
Modified: src/qpid/broker/Broker.cpp|5 3
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Queue.cpp|17 11
Modified: src/qpid/broker/QueueEvents.cpp|32 9
Modified: src/qpid/broker/QueueEvents.h|3 1

Revision: 930cd2c0460e46bd59503d1632cc232cde37a63c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/09/2009 04:41:29
Message:
Fix to allow python testing stuff to build outside source tree #MsgLength=63


----
Modified: src/tests/Makefile.am|2 4

Revision: 483b41348824950074bfc31d25d0d241c1779ba8
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/09/2009 10:23:57
Message:
Use struct/class consistently #MsgLength=30


----
Modified: src/qmf/BrokerProxyImpl.h|3 3
Modified: src/qmf/ConsoleEngine.h|13 13
Modified: src/qmf/Object.h|2 2
Modified: src/qmf/ObjectId.h|6 6
Modified: src/qmf/Query.h|3 3
Modified: src/qmf/Schema.h|18 18
Modified: src/qmf/Value.h|4 4

Revision: 661a9e9530b351076d139473db9bb54f1f83d5ce
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/09/2009 02:04:59
Message:
Exchange route() refactorization that eliminates common code in each of the Exchange subclass route() methods. #MsgLength=111


----
Modified: src/qpid/broker/DirectExchange.cpp|3 30
Modified: src/qpid/broker/Exchange.cpp|30 0
Modified: src/qpid/broker/Exchange.h|3 0
Modified: src/qpid/broker/FanOutExchange.cpp|4 28
Modified: src/qpid/broker/HeadersExchange.cpp|8 21
Modified: src/qpid/broker/TopicExchange.cpp|11 32
Modified: src/qpid/xml/XmlExchange.cpp|8 31

Revision: fd39b2814664a29062f3ff69164301b413f25540
Author: Ted Ross <tross@apache.org>
Date: 26/09/2009 04:24:22
Message:
QMF updates: - Refactored into two namespaces: 1) 'qmf' for the public QMF api (c++) 2) 'qmf::engine' for the public engine API (used for language bindings) - Added object and first_object calls to Console (in Ruby) - Made objects call compatible with the kwarg arguments used in the older API - Added to_s functions to classes that needed them #MsgLength=364


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/python/qmf.py|2 2
Modified: bindings/qmf/qmfengine.i|18 17
Modified: bindings/qmf/ruby/Makefile.am|3 4
Modified: bindings/qmf/ruby/qmf.rb|40 2
Modified: bindings/qmf/tests/ruby_console_test.rb|14 21
Modified: bindings/qmf/tests/test_base.rb|5 0
Added: include/qmf/ConsoleObject.h|94 0
Renamed: include/qmf/engine/Agent.h [from src/qmf/AgentEngine.h]|17 15
Renamed: include/qmf/engine/ConnectionSettings.h [from include/qmf/ConnectionSettings.h]|18 16
Renamed: include/qmf/engine/Console.h [from src/qmf/ConsoleEngine.h]|21 19
Renamed: include/qmf/engine/Event.h [from src/qmf/Event.h]|4 2
Renamed: include/qmf/engine/Message.h [from src/qmf/Message.h]|4 2
Renamed: include/qmf/engine/Object.h [from src/qmf/Object.h]|8 6
Renamed: include/qmf/engine/ObjectId.h [from src/qmf/ObjectId.h]|5 3
Added: include/qmf/engine/QmfEngineImportExport.h|33 0
Renamed: include/qmf/engine/Query.h [from src/qmf/Query.h]|6 4
Renamed: include/qmf/engine/ResilientConnection.h [from src/qmf/ResilientConnection.h]|6 4
Renamed: include/qmf/engine/Schema.h [from src/qmf/Schema.h]|9 7
Renamed: include/qmf/engine/Typecode.h [from src/qmf/Typecode.h]|4 2
Renamed: include/qmf/engine/Value.h [from src/qmf/Value.h]|7 5
Modified: src/qmf.mk|77 45
Renamed: src/qmf/engine/Agent.cpp [from src/qmf/AgentEngine.cpp]|78 76
Renamed: src/qmf/engine/BrokerProxyImpl.cpp [from src/qmf/BrokerProxyImpl.cpp]|6 6
Renamed: src/qmf/engine/BrokerProxyImpl.h [from src/qmf/BrokerProxyImpl.h]|16 16
Renamed: src/qmf/engine/ConnectionSettingsImpl.cpp [from src/qmf/ConnectionSettingsImpl.cpp]|3 3
Renamed: src/qmf/engine/ConnectionSettingsImpl.h [from src/qmf/ConnectionSettingsImpl.h]|6 4
Renamed: src/qmf/engine/ConsoleImpl.cpp [from src/qmf/ConsoleEngineImpl.cpp]|55 55
Renamed: src/qmf/engine/ConsoleImpl.h [from src/qmf/ConsoleEngineImpl.h]|18 16
Renamed: src/qmf/engine/MessageImpl.cpp [from src/qmf/MessageImpl.cpp]|2 2
Renamed: src/qmf/engine/MessageImpl.h [from src/qmf/MessageImpl.h]|5 3
Renamed: src/qmf/engine/ObjectIdImpl.cpp [from src/qmf/ObjectIdImpl.cpp]|2 2
Renamed: src/qmf/engine/ObjectIdImpl.h [from src/qmf/ObjectIdImpl.h]|5 3
Renamed: src/qmf/engine/ObjectImpl.cpp [from src/qmf/ObjectImpl.cpp]|4 4
Renamed: src/qmf/engine/ObjectImpl.h [from src/qmf/ObjectImpl.h]|6 4
Renamed: src/qmf/engine/Protocol.cpp [from src/qmf/Protocol.cpp]|2 2
Renamed: src/qmf/engine/Protocol.h [from src/qmf/Protocol.h]|4 2
Renamed: src/qmf/engine/QueryImpl.cpp [from src/qmf/QueryImpl.cpp]|3 3
Renamed: src/qmf/engine/QueryImpl.h [from src/qmf/QueryImpl.h]|6 4
Renamed: src/qmf/engine/ResilientConnection.cpp [from src/qmf/ResilientConnection.cpp]|11 9
Renamed: src/qmf/engine/SchemaImpl.cpp [from src/qmf/SchemaImpl.cpp]|2 2
Renamed: src/qmf/engine/SchemaImpl.h [from src/qmf/SchemaImpl.h]|5 3
Renamed: src/qmf/engine/SequenceManager.cpp [from src/qmf/SequenceManager.cpp]|2 2
Renamed: src/qmf/engine/SequenceManager.h [from src/qmf/SequenceManager.h]|4 2
Renamed: src/qmf/engine/ValueImpl.cpp [from src/qmf/ValueImpl.cpp]|2 2
Renamed: src/qmf/engine/ValueImpl.h [from src/qmf/ValueImpl.h]|7 5
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 93bf1b4da915badc18854f468e7b9d7ac7d2c1a4
Author: Ted Ross <tross@apache.org>
Date: 26/09/2009 04:27:05
Message:
Backed out a broker change that was unintentionally carried along in another commit. #MsgLength=86


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: b581b00464fa6f5bb3e1f496cc77d0401d2b09bf
Author: Ted Ross <tross@apache.org>
Date: 28/09/2009 02:41:39
Message:
Cleaned up issues with distribution. #MsgLength=38


----
Modified: src/qmf.mk|4 1

Revision: ffab9545c4dba6e397497d872f6a4eefdc7420c8
Author: Ted Ross <tross@apache.org>
Date: 28/09/2009 03:13:59
Message:
Adding missing file #MsgLength=20


----
Added: include/qmf/ConnectionSettings.h|32 0

Revision: baade7282d69f3b715fd6aa9eeab7022805763a0
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2009 20:12:41
Message:
QPID-2102: Changed QueuePolicy to rely on external locking and require dequeues to be handled by policy user rather. (r817742 introduced a deadlock in ring queue policy which this checkin fixes) #MsgLength=208


----
Modified: src/qpid/broker/Queue.cpp|9 10
Modified: src/qpid/broker/Queue.h|0 12
Modified: src/qpid/broker/QueuePolicy.cpp|6 9
Modified: src/qpid/broker/QueuePolicy.h|3 3
Modified: src/tests/ring_queue_test|4 3

Revision: 8db8bf896d5ec1cfd89ae4104f5024f4063345f8
Author: Gordon Sim <gsim@apache.org>
Date: 28/09/2009 21:11:06
Message:
r817742 (the fix for QPID-2102), introduced a deadlock and a race condition into flow-to-disk behaviour, fixed by this checkin. #MsgLength=131


----
Modified: src/qpid/broker/Message.cpp|28 25
Modified: src/qpid/broker/Message.h|2 1

Revision: 6f190dc26f483bf43ffa6302d6ee4242ccd850f3
Author: Kim van der Riet <kpvdr@apache.org>
Date: 28/09/2009 23:45:03
Message:
Transient flow-to-disk messages switched to store from BDB. Only single-queue transient messages are handled at this point, multi-queue bindings are blocked under all circumstances to prevent routing order dependencies from making the outcome inconsistent. BZ525813 - "Move Flow to disk from BDB to journal" #MsgLength=308


----
Modified: src/qpid/broker/Exchange.cpp|4 0
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/tests/QueueTest.cpp|2 2

Revision: d064ac86cf316fbe052d21e73891d4109f72ffef
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2009 05:17:31
Message:
Fix python tests to work in VPATH builds and for make distcheck. #MsgLength=66


----
Modified: src/tests/Makefile.am|37 23
Modified: src/tests/clustered_replication_test|8 9
Modified: src/tests/federated_cluster_test|9 10
Modified: src/tests/federated_topic_test|8 9
Added: src/tests/python_env.sh|26 0
Modified: src/tests/python_tests|3 7
Modified: src/tests/reliable_replication_test|7 7
Modified: src/tests/replication_test|22 21
Modified: src/tests/run_acl_tests|2 2
Modified: src/tests/run_cli_tests|3 3
Modified: src/tests/run_cluster_tests|3 3
Modified: src/tests/run_federation_tests|2 2
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_long_cluster_tests|2 1
Modified: src/tests/run_ring_queue_test|2 3

Revision: a8b53cf3a7cf0cac38a22da5418510b6a19d0789
Author: Ted Ross <tross@apache.org>
Date: 29/09/2009 11:21:49
Message:
QMF Engine updates: - Connected console handler callbacks - Added string representations for a number of object classes - Added a feature that completes query requests sent to disconnected agents #MsgLength=203


----
Modified: bindings/qmf/ruby/qmf.rb|18 4
Modified: bindings/qmf/tests/ruby_console.rb|32 2
Modified: include/qmf/engine/Console.h|6 1
Modified: include/qmf/engine/ObjectId.h|1 0
Modified: include/qmf/engine/Schema.h|1 0
Modified: src/qmf/engine/BrokerProxyImpl.cpp|83 26
Modified: src/qmf/engine/BrokerProxyImpl.h|13 4
Modified: src/qmf/engine/ConsoleImpl.cpp|64 5
Modified: src/qmf/engine/ConsoleImpl.h|13 3
Modified: src/qmf/engine/ObjectIdImpl.cpp|4 2
Modified: src/qmf/engine/ObjectIdImpl.h|2 1
Modified: src/qmf/engine/ResilientConnection.cpp|10 5
Modified: src/qmf/engine/SchemaImpl.cpp|4 2
Modified: src/qmf/engine/SchemaImpl.h|2 1
Modified: src/qmf/engine/SequenceManager.cpp|3 3
Modified: src/qmf/engine/SequenceManager.h|2 2
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 8daea4172058afb85e3defd9d65387f669029879
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 29/09/2009 21:49:40
Message:
I have applied the patch attached to QPID-2108 from Tim Platten with a few modifications. (Please refer to the JIRA for a description of these modifications) I also fixed the formatting and added more debug loggging for the publish acl lookup method in AclData.cpp I also added test cases to cover QPID-2108 #MsgLength=309


----
Modified: src/qpid/acl/AclData.cpp|79 29
Modified: src/qpid/broker/AclModule.h|16 6
Modified: src/qpid/broker/SessionAdapter.cpp|5 2
Modified: src/tests/acl.py|114 12

Revision: cdcbe21854b993086bc68cb0d4b9fbfe80a6dce9
Author: Alan Conway <aconway@apache.org>
Date: 29/09/2009 23:49:03
Message:
Fix dependencies so python client used by tests is built before tests. #MsgLength=72


----
Modified: src/tests/Makefile.am|3 0

Revision: 2ffd5ef16d8535853832a6ddacb650cc6f2e8362
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 30/09/2009 04:20:35
Message:
This is related to QPID-2108 I was initially setting the qpid.max_count and qpid.max_size as strings instead of ints as expected by the API. I also incorrectly fetched them as strings on the broker side. This commit fixes acl.py test script to use int values for the above properties and then fetches them appropriately from the broker side. #MsgLength=343


----
Modified: src/qpid/broker/SessionAdapter.cpp|2 2
Modified: src/tests/acl.py|8 8

Revision: c44ff3490ef9999286bac26140278c997cc7c277
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/09/2009 07:57:56
Message:
Revised set of source files and library names for QMF; matches earlier changes to qmf.mk. Fixes QPID-2119 #MsgLength=106


----
Modified: src/CMakeLists.txt|45 42

Revision: aff7299e6bd4be5015a62bcf42cd391ab3badb0f
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/09/2009 08:48:04
Message:
For Windows, add 'd' postfix to library file names #MsgLength=51


----
Modified: CMakeLists.txt|4 4

Revision: b2b8eaaa569a7e2e51be50edec833b72a6ef73f8
Author: Gordon Sim <gsim@apache.org>
Date: 30/09/2009 19:52:20
Message:
Add definition of int64_t (required by gcc 4.4.1) #MsgLength=50


----
Modified: src/qpid/acl/AclData.cpp|1 0

Revision: df7c63004a35cb6e2d23bc18cb0d4f9dcb57779a
Author: Ted Ross <tross@apache.org>
Date: 01/10/2009 06:08:57
Message:
Updated library dependencies #MsgLength=29


----
Modified: examples/qmf-agent/Makefile|1 1

Revision: e9a6a336678d42c0aff6b6ed989dd22338045006
Author: Alan Conway <aconway@apache.org>
Date: 02/10/2009 00:55:58
Message:
Fix QPID-2086 - problem with read-credit. #MsgLength=86


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|7 0
Modified: src/tests/ais_check|0 6
Modified: src/tests/cluster.mk|4 1
Added: src/tests/cluster_read_credit|27 0
Modified: src/tests/clustered_replication_test|1 19
Modified: src/tests/federated_cluster_test|1 19
Added: src/tests/run_cluster_test|26 0
Modified: src/tests/run_failover_soak|1 23
Modified: src/tests/start_cluster|3 6

Revision: 215edf56e351753234c76f678fe3e35d7aab8778
Author: Alan Conway <aconway@apache.org>
Date: 02/10/2009 04:48:11
Message:
Fix broker race where broker closes connection before sending close-ok. #MsgLength=194


----
Modified: src/qpid/amqp_0_10/Connection.cpp|14 7
Modified: src/qpid/amqp_0_10/Connection.h|1 1

Revision: b230e9afc3f0df66239092276560a3cb06b6f1eb
Author: Alan Conway <aconway@apache.org>
Date: 02/10/2009 05:02:29
Message:
Set cluster version number from SVN revision. #MsgLength=47


----
Modified: src/qpid/cluster/Cluster.cpp|6 2

Revision: 796626d7136b8e236decdf6bd8899672bdf9f213
Author: Alan Conway <aconway@apache.org>
Date: 02/10/2009 05:17:01
Message:
Removed LatencyTracker from cluster. #MsgLength=119


----
Modified: src/cluster.mk|1 2
Modified: src/qpid/cluster/Cluster.cpp|3 16
Modified: src/qpid/cluster/Event.cpp|0 9
Modified: src/qpid/cluster/Multicaster.cpp|0 4
Modified: src/qpid/cluster/Multicaster.h|0 3
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 10
Deleted: src/qpid/sys/LatencyTracker.h|0 157

Revision: 0126ee922997544630e67e63224a51c924d470ef
Author: Gordon Sim <gsim@apache.org>
Date: 02/10/2009 21:01:51
Message:
define content- and view- classes separately from message class #MsgLength=64


----
Modified: examples/messaging/client.cpp|1 1
Modified: examples/messaging/map_receiver.cpp|3 1
Modified: examples/messaging/map_sender.cpp|7 4
Modified: examples/messaging/queue_listener.cpp|2 2
Modified: examples/messaging/queue_receiver.cpp|1 7
Modified: examples/messaging/queue_sender.cpp|5 10
Modified: examples/messaging/server.cpp|4 4
Modified: examples/messaging/topic_listener.cpp|2 2
Modified: examples/messaging/topic_receiver.cpp|2 2
Added: include/qpid/messaging/ListContent.h|90 0
Added: include/qpid/messaging/ListView.h|67 0
Added: include/qpid/messaging/MapContent.h|90 0
Added: include/qpid/messaging/MapView.h|70 0
Modified: include/qpid/messaging/Message.h|5 17
Deleted: include/qpid/messaging/MessageContent.h|0 90
Modified: src/Makefile.am|8 1
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 10
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 10
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|2 15
Added: src/qpid/messaging/ListContent.cpp|98 0
Added: src/qpid/messaging/ListView.cpp|63 0
Added: src/qpid/messaging/MapContent.cpp|87 0
Added: src/qpid/messaging/MapView.cpp|63 0
Modified: src/qpid/messaging/Message.cpp|8 20
Modified: src/qpid/messaging/MessageImpl.cpp|4 145
Modified: src/qpid/messaging/MessageImpl.h|1 53
Modified: src/tests/MessagingSessionTests.cpp|49 34

Revision: 15ad7b1d90d205e5d99e668475b077e5843e2589
Author: Jonathan Robie <jonathan@apache.org>
Date: 02/10/2009 21:05:32
Message:
Deprecated enableQueueEvents() in the doxygen comments. Use setInt() instead. #MsgLength=79


----
Modified: include/qpid/client/QueueOptions.h|15 0

Revision: e4d10c5575734f33253a2967e4184d19ec1da7cb
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/10/2009 23:47:27
Message:
Applied patches to resolve QPID-2076 #MsgLength=37


----
Modified: src/qpid/broker/Broker.cpp|5 3
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/MessageStoreModule.cpp|3 3
Modified: src/qpid/broker/MessageStoreModule.h|3 2
Modified: src/tests/AsyncCompletion.cpp|4 2
Modified: src/tests/test_store.cpp|2 1

Revision: de50209b99c1fb2342bf6db9c7ca7616948ea101
Author: Alan Conway <aconway@apache.org>
Date: 03/10/2009 00:00:17
Message:
qpidd prints message to stderr if logging configuration is invalid. #MsgLength=95


----
Modified: src/qpidd.cpp|19 15

Revision: d4f76fb8a7db80b16ed535f65b6ecc1815f69b0d
Author: Ted Ross <tross@apache.org>
Date: 03/10/2009 01:45:58
Message:
QMF Fixes: - In ruby: waitForStable => wait_for_stable - Setting an unknown attribute on connection settings now throws an exception - Added connected? accessor to Connection #MsgLength=182


----
Modified: bindings/qmf/ruby/qmf.rb|11 6
Modified: bindings/qmf/tests/ruby_console.rb|1 1
Modified: bindings/qmf/tests/ruby_console_test.rb|10 0
Modified: bindings/qmf/tests/test_base.rb|1 1
Modified: include/qmf/engine/ConnectionSettings.h|3 1
Modified: src/qmf/engine/ConnectionSettingsImpl.cpp|5 2
Modified: src/qmf/engine/ConnectionSettingsImpl.h|1 1

Revision: 68ad272a326e8b0665702e0008b564bca56b7141
Author: Ted Ross <tross@apache.org>
Date: 03/10/2009 05:43:22
Message:
QMF Fixes in Ruby Console: - AgentProxy object now has broker_bank and agent_bank accessors - Fixed a bug in the returning og reference values (ObjectId) - Added package_name accessor to SchemaObjectClass - Added accessors for agent/broker bank to ObjectId #MsgLength=266


----
Modified: bindings/qmf/ruby/qmf.rb|31 7
Modified: bindings/qmf/tests/ruby_console.rb|5 2
Modified: include/qmf/engine/Console.h|2 0
Modified: include/qmf/engine/ObjectId.h|4 0
Modified: src/qmf/engine/BrokerProxyImpl.cpp|2 0
Modified: src/qmf/engine/BrokerProxyImpl.h|2 0
Modified: src/qmf/engine/ObjectIdImpl.cpp|4 0

Revision: fd30b8dcf7d41e25b4b771af5dc614399254706b
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/10/2009 06:34:40
Message:
Look for qpidd.exe in various places, not just Debug #MsgLength=53


----
Modified: src/tests/background.ps1|18 3
Modified: src/tests/start_broker.ps1|19 2
Modified: src/tests/stop_broker.ps1|16 1

Revision: 6ed805f678df554db80bdc84a76ed35a36cf9967
Author: Alan Conway <aconway@apache.org>
Date: 05/10/2009 23:08:25
Message:
Fixed: cluster udpate did not presever deliver-properties.exchange on messages. #MsgLength=226


----
Modified: src/qpid/broker/SemanticState.cpp|20 10
Modified: src/qpid/broker/SemanticState.h|2 0
Modified: src/qpid/broker/SessionContext.h|2 1
Modified: src/qpid/broker/SessionState.h|2 0
Modified: src/qpid/client/SessionImpl.cpp|12 6
Modified: src/qpid/client/SessionImpl.h|4 0
Modified: src/qpid/cluster/UpdateClient.cpp|8 1
Modified: src/qpid/cluster/UpdateExchange.h|1 1
Modified: src/tests/ClusterFixture.h|2 2
Modified: src/tests/ais_check|7 22
Modified: src/tests/cluster_test.cpp|54 4
Modified: src/tests/clustered_replication_test|0 4
Modified: src/tests/run_cluster_tests|4 28

Revision: 9a49a454386d6d810a50b0186195253c2acf9166
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/10/2009 00:00:59
Message:
Correct some powershell problems for Windows #MsgLength=45


----
Modified: src/tests/quick_topictest.ps1|6 5
Modified: src/tests/run_header_test.ps1|4 5
Modified: src/tests/run_test.ps1|1 2
Modified: src/tests/topictest.ps1|17 15

Revision: 210ed32d8a95c59eaf9c495f4bc413fba3cf3b5f
Author: Alan Conway <aconway@apache.org>
Date: 06/10/2009 01:03:41
Message:
Removed AMQP method body classes from public API. #MsgLength=50


----
Modified: rubygen/framing.0-10/structs.rb|2 1

Revision: 625b74c4fc14f7264d5cf3a7d40eb4f3f08962f7
Author: Alan Conway <aconway@apache.org>
Date: 06/10/2009 02:09:34
Message:
Minor improvements to cluster logging. #MsgLength=101


----
Modified: src/qpid/cluster/ErrorCheck.cpp|17 13
Modified: src/qpid/cluster/ErrorCheck.h|1 0
Modified: src/tests/PartialFailure.cpp|3 3

Revision: b058f3402e2cb78403ba1d5ad6fae16515fc7ce5
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/10/2009 05:11:39
Message:
Add new files from r821000; Fixes QPID-2130 #MsgLength=44


----
Modified: src/CMakeLists.txt|4 0

Revision: 1f8eeb599e7ac65704ff9252b88fa8e3789a511b
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/10/2009 07:19:53
Message:
Improve ability to avoid dialogs in automated tests #MsgLength=52


----
Modified: src/tests/windows/DisableWin32ErrorWindows.cpp|17 0

Revision: 5edfedc7ca028fc769c3089e6bd38c3216bbfd26
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/10/2009 07:35:23
Message:
Get remaining tests running on Windows #MsgLength=39


----
Added: src/tests/python_tests.ps1|42 0
Modified: src/tests/run_federation_tests.ps1|43 22
Modified: src/tests/run_header_test.ps1|34 3

Revision: 2b98fef41680ec3092a45076db3375641bc210f5
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/10/2009 19:41:42
Message:
Remove conflicts checked in earlier #MsgLength=36


----
Modified: src/tests/run_header_test.ps1|0 17

Revision: 67aee460ab3f73d764bc0cc9c4822e9261e8ddf0
Author: Alan Conway <aconway@apache.org>
Date: 06/10/2009 21:36:22
Message:
Fix typo in ais_check, causing cluster tests to fail. #MsgLength=55


----
Modified: src/tests/ais_check|1 1

Revision: e1cdb2c1e072d140826c34dac81014f85da23f2d
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/10/2009 07:38:06
Message:
Pick up size_t def from Windows rather than making one up and possibly clashing with other packages. #MsgLength=101


----
Modified: include/qpid/sys/windows/IntegerTypes.h|3 1

Revision: c95d4c51162269edd4fe3c9a0b411502dd7b2297
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/10/2009 07:40:17
Message:
Add missing extern decls. #MsgLength=26


----
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/PersistableMessage.h|2 2

Revision: 409e4d059730a757820ee826f20d65f3270833e4
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/10/2009 07:43:27
Message:
Added more install-related content to the CMake structure. Adds changes requested in QPID-2123, modified somewhat. Also adds Windows-specific installer content in cpp/packaging. Other specific packaging things can be added there as well. #MsgLength=238


----
Modified: CMakeLists.txt|133 7
Added: etc/CMakeLists.txt|20 0
Modified: managementgen/CMakeLists.txt|4 15
Added: packaging/NSIS/qpid-icon.ico|0 0
Added: packaging/NSIS/qpid-icon.png|0 0
Added: packaging/NSIS/qpid-install-banner.bmp|0 0
Modified: src/CMakeLists.txt|153 33

Revision: 063ccf86722da4c438972a9c23432b6a76a7668e
Author: Gordon Sim <gsim@apache.org>
Date: 08/10/2009 16:55:44
Message:
QPID-2132: Applied patch from Ken Giusti #MsgLength=43


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|26 17
Modified: src/qpid/agent/ManagementAgentImpl.h|4 2

Revision: af5b547de73d048c94ab74e947b966de6021aeca
Author: Alan Conway <aconway@apache.org>
Date: 08/10/2009 23:53:33
Message:
Fix race condition in testExclusiveQueueUpdate causing occasional false failures. #MsgLength=83


----
Modified: src/tests/cluster_test.cpp|1 0

Revision: 21475dadd6591a0ce28e5bcf6c0ef119ead89cca
Author: Alan Conway <aconway@apache.org>
Date: 09/10/2009 02:28:42
Message:
Cluster shuts down broker via SignalHandler to fix memory errors on exit. #MsgLength=225


----
Modified: src/qpid/broker/SignalHandler.cpp|2 0
Modified: src/qpid/broker/SignalHandler.h|3 0
Modified: src/qpid/cluster/Cluster.cpp|2 1
Modified: src/tests/PartialFailure.cpp|3 3

Revision: 94453ff05b852267379ebbc35c48b08217657efe
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/10/2009 02:51:25
Message:
Help the package make go better on Linux #MsgLength=41


----
Modified: src/CMakeLists.txt|3 3

Revision: cdb7c4fe629ee2f11e06b184ce5cadc9dfeaf308
Author: Gordon Sim <gsim@apache.org>
Date: 09/10/2009 03:04:05
Message:
QPID-2132: further fix from Ken Giusti. #MsgLength=42


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|11 5
Modified: src/qpid/agent/ManagementAgentImpl.h|4 1

Revision: 8162b7d50df4a9e654655122d6e265c27885a448
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/10/2009 07:18:18
Message:
Fix package name and NSIS banner bitmap size. #MsgLength=46


----
Modified: CMakeLists.txt|5 7
Modified: packaging/NSIS/qpid-install-banner.bmp|0 0
Added: packaging/NSIS/qpid-install-banner.png|0 0

Revision: a20f8c99ba97007e8f8c26fdcc5656ea16a892fe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:37:37
Message:
Fix memory usage error in AsynchConnector #MsgLength=42


----
Modified: src/qpid/sys/AsynchIO.h|2 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|19 8
Modified: src/qpid/sys/posix/AsynchIO.cpp|6 10

Revision: 64abef6e8442ad117c5f66fa719d395d623cafc1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:37:54
Message:
Change TCP AsynchConnector so that it returns all failures asynchronously #MsgLength=74


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 2

Revision: 25e73c1dacf14bb52f572a13477972b9e3a4c64b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:37:59
Message:
Split TCP connect so that the connect is non blocking - This means it can now be interrupted by heartbeat abort #MsgLength=116


----
Modified: src/qpid/client/Connector.cpp|47 35

Revision: 37aae0beaff8a23cebd3a4f70e99aebef86cc215
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:38:09
Message:
Split responsibility for name lookup in AsynchConnector::connect into new SocketAddress class. #MsgLength=95


----
Modified: include/qpid/sys/posix/PrivatePosix.h|5 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/sys/Socket.h|2 0
Added: src/qpid/sys/SocketAddress.h|51 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|4 1
Modified: src/qpid/sys/posix/Socket.cpp|14 30
Added: src/qpid/sys/posix/SocketAddress.cpp|62 0

Revision: c73270c2ab9f5e7dae460b7acd8b6bb3a9208811
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:38:15
Message:
Added in passive socket address to SocketAddress and use in Socket::listen() #MsgLength=77


----
Modified: src/qpid/sys/posix/Socket.cpp|5 6
Modified: src/qpid/sys/posix/SocketAddress.cpp|10 1

Revision: feb9eff9799ac547f6a89b83e7a442751a822325
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2009 11:38:22
Message:
Used new SocketAddress class in rdma code #MsgLength=42


----
Modified: src/qpid/client/RdmaConnector.cpp|2 13
Modified: src/qpid/sys/RdmaIOPlugin.cpp|6 14
Modified: src/qpid/sys/rdma/RdmaClient.cpp|5 12
Modified: src/qpid/sys/rdma/RdmaIO.cpp|3 2
Modified: src/qpid/sys/rdma/RdmaIO.h|5 4
Modified: src/qpid/sys/rdma/RdmaServer.cpp|4 8
Modified: src/qpid/sys/rdma/rdma_wrap.h|4 5

Revision: ac0d304e192d2ef1ae7325eae94bd1722f60166c
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2009 03:37:14
Message:
Fix race condition in enqueue/dequeue callbacks. #MsgLength=50


----
Modified: src/qpid/broker/Message.cpp|22 14
Modified: src/qpid/broker/Message.h|3 0

Revision: 49a17d283c42e8f80927042255ee2869598355cf
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/10/2009 13:53:27
Message:
Refactored Socket to allow for IPv6 and unix domain socket #MsgLength=59


----
Modified: src/qpid/sys/Socket.h|6 5
Modified: src/qpid/sys/epoll/EpollPoller.cpp|14 10
Modified: src/qpid/sys/posix/Socket.cpp|24 10
Modified: src/qpid/sys/windows/Socket.cpp|4 9

Revision: 4255964aa5898b1d78bcbb1b833f22af1a8f9363
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2009 00:44:39
Message:
Added new SocketAddress class to Cmake build (oops) #MsgLength=52


----
Modified: src/CMakeLists.txt|1 0

Revision: d2c3303db669f379d8ba209118fd9cf2d3873142
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2009 02:03:30
Message:
Split Socket::listen #MsgLength=21


----
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/posix/Socket.cpp|6 2

Revision: bc6b562e365301bc44fcd5ea0c88ed22f8cea1ea
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/10/2009 07:52:31
Message:
Add new SocketAddress.cpp and requisite adjustments; a few install improvements #MsgLength=80


----
Modified: CMakeLists.txt|21 0
Modified: src/CMakeLists.txt|4 3
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 1
Modified: src/qpid/sys/windows/Socket.cpp|33 28
Added: src/qpid/sys/windows/SocketAddress.cpp|70 0

Revision: dc504e7da3a7b9af69edacd9b6112ef66eddf058
Author: Alan Conway <aconway@apache.org>
Date: 14/10/2009 03:53:43
Message:
Have qpidd -q wait till the qpidd process exits before returning. #MsgLength=66


----
Modified: src/posix/QpiddBroker.cpp|10 2

Revision: bec28b71a99f2760a9706b6472bc258abd03443a
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/10/2009 08:38:18
Message:
Improved test output capturing in automated tests; correctly get exe process exit codes #MsgLength=88


----
Added: src/tests/find_prog.ps1|36 0
Modified: src/tests/quick_topictest.ps1|1 1
Modified: src/tests/run_header_test.ps1|1 7
Modified: src/tests/run_test.ps1|18 17
Modified: src/tests/topictest.ps1|6 3

Revision: 8dde2b8850ede999cb555278ed803e4c4d8c3b26
Author: Ted Ross <tross@apache.org>
Date: 15/10/2009 21:24:10
Message:
Added select for object queries (Ruby). Added separate callback-thread to prevent deadlock when a user blocks on a callback. #MsgLength=126


----
Modified: bindings/qmf/ruby/qmf.rb|44 8
Modified: bindings/qmf/tests/ruby_console.rb|7 0

Revision: fac72aa6621d2736eaabdbe1e4277dea8b1286a6
Author: Ted Ross <tross@apache.org>
Date: 16/10/2009 05:38:07
Message:
Bug fix: Console sent get-requests (by objectId) to all agents, not just the agent identified in the objectId. #MsgLength=121


----
Modified: bindings/qmf/tests/python_console.py|11 0
Modified: bindings/qmf/tests/ruby_console_test.rb|15 0
Modified: src/qmf.mk|1 1
Modified: src/qmf/engine/BrokerProxyImpl.cpp|16 3
Modified: src/qmf/engine/BrokerProxyImpl.h|1 1
Modified: src/qmf/engine/QueryImpl.h|2 0

Revision: f8fab2a1375054dd155520cd4c42ddf071cfd60a
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/10/2009 20:56:46
Message:
Protect close method #MsgLength=21


----
Modified: src/qpid/client/Connection.cpp|2 1

Revision: 7705bd5c5136440ad261565fca20c13b1edcd9f2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/10/2009 02:47:36
Message:
Fix creating socket in the wrong place for listen() #MsgLength=52


----
Modified: src/qpid/sys/posix/Socket.cpp|2 2

Revision: 5b0782df2dc4e1ecc5c295493ddf1474f092524f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/10/2009 02:47:42
Message:
Fixed tcp nodelay, broken by previous socket code shuffling #MsgLength=60


----
Modified: src/qpid/client/ConnectionSettings.cpp|1 1
Modified: src/qpid/sys/Socket.h|3 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/posix/Socket.cpp|19 12

Revision: 14eadbe130bf9111c6b648d5e478c05ec42984e8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/10/2009 02:47:47
Message:
Rationalised AsynchConnector/Acceptor/IO to all use the same code structure #MsgLength=76


----
Modified: src/qpid/sys/AsynchIO.h|3 8
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|34 57

Revision: c3d42eab9fc862f35f94c2f159338e2b3e9bfd30
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/10/2009 02:47:52
Message:
Pull running acceptor out of Broker run loop #MsgLength=45


----
Modified: src/posix/QpiddBroker.cpp|2 0
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/tests/BrokerFixture.h|1 0

Revision: bc77d4a2ceabbbd4fb8851811d137432beb5d071
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2009 05:01:58
Message:
Consistently show qpid-based paths in #include directives. Help this work from a CMake build. Fixes QPID-2151 #MsgLength=110


----
Modified: docs/api/user.doxygen.in|4 4

Revision: 0f7b57933c41e1efb538bbbd8bfaa2c65e903c2e
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2009 05:24:13
Message:
Add API doc generation and install to CMake build. #MsgLength=51


----
Modified: CMakeLists.txt|6 2
Added: docs/api/CMakeLists.txt|36 0

Revision: 7a30996e1f6c99627c7bb30444140660daa39642
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/10/2009 05:25:13
Message:
Change threshold for reporting a timer as late from 10 to 50 msec. Resolves QPID-2150. #MsgLength=87


----
Modified: src/qpid/sys/Timer.cpp|1 1

Revision: 6e6805b46b9f19bf7e81470cdd84057d38c10030
Author: Gordon Sim <gsim@apache.org>
Date: 18/10/2009 23:20:34
Message:
r817742 (the fix for QPID-2102) did not cover the case for 2pc transactions recovered in the prepared state; this fixes that case. #MsgLength=133


----
Modified: src/qpid/broker/Queue.cpp|4 0
Modified: src/qpid/broker/Queue.h|6 0
Modified: src/qpid/broker/RecoveredDequeue.cpp|11 4
Modified: src/qpid/broker/RecoveredEnqueue.cpp|5 1

Revision: d9e6b8f46cd8ff63ea8a6203ad75c0de07100ae0
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2009 22:53:44
Message:
Change CPG initialization log message to notice level. #MsgLength=55


----
Modified: src/qpid/cluster/Cpg.cpp|2 2

Revision: d45867a54523b6c6ec4cf96b0ddcdfa987ed841d
Author: Ted Ross <tross@apache.org>
Date: 20/10/2009 23:22:19
Message:
QPID-2126 - Sync the python QMF bindings to the current Ruby QMF bindings implementation Applied patch from Ken Giusti #MsgLength=120


----
Modified: bindings/qmf/python/qmf.py|752 127
Modified: bindings/qmf/tests/python_agent.py|85 48
Modified: src/qmf/engine/ConnectionSettingsImpl.cpp|5 0

Revision: c4b4812fea2d2bc154ca5e74f9c3bf40e8a7c543
Author: Alan Conway <aconway@apache.org>
Date: 21/10/2009 00:54:18
Message:
Supress TCPConnector join leak, disabled valgrind --gen-supressions - too verbose. #MsgLength=84


----
Modified: src/tests/.valgrind.supp|15 0
Modified: src/tests/run_test|1 1

Revision: 72491b1f246a5d7f9b5cc76ed7411a8cf9cc118a
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/10/2009 01:10:05
Message:
Carry over recent AsynchIO-level changes to Windows. #MsgLength=53


----
Modified: include/qpid/sys/IOHandle.h|5 3
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|25 31
Modified: src/qpid/sys/windows/AsynchIoResult.h|16 16
Modified: src/qpid/sys/windows/IoHandlePrivate.h|3 2
Modified: src/qpid/sys/windows/IocpPoller.cpp|10 9
Modified: src/qpid/sys/windows/PollableCondition.cpp|3 3
Modified: src/qpid/sys/windows/Socket.cpp|16 12

Revision: 408c72c8fbe154fa547ffa50adef205e9f7fd02a
Author: Ted Ross <tross@apache.org>
Date: 21/10/2009 04:38:11
Message:
Fixed memory leak on broker shutdown.  Broker's management agent pointer is now a std::auto_ptr rather than a raw pointer.  The agent pointer was moved in front of the registries in initialization order to prevent references to deleted management objects when the registries are destroyed. #MsgLength=291


----
Modified: src/qpid/broker/Broker.cpp|4 4
Modified: src/qpid/broker/Broker.h|2 2

Revision: af4009fbeab13fff9fb54d4bae5d4e9b32239c9d
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/10/2009 09:36:16
Message:
Add ability to load modules from something other than a .so file; allows loading .dll files on Windows, for example. The proper suffix is gleaned from cmake; if on autoconf assume .so. #MsgLength=185


----
Modified: src/config.h.cmake|2 0
Modified: src/qpid/Modules.cpp|9 1

Revision: 8e54b0aaf5f04222f0053ed1dc0b0cead471e3b3
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/10/2009 10:11:04
Message:
Initial checkin of portable message store plugin and MS SQL-specific storage provider. Goes with QPID-2017 #MsgLength=107


----
Modified: src/qpid/broker/MessageStore.h|1 9
Modified: src/qpid/broker/PersistableMessage.h|2 2
Added: src/qpid/store/CMakeLists.txt|74 0
Added: src/qpid/store/MessageStorePlugin.cpp|444 0
Added: src/qpid/store/MessageStorePlugin.h|284 0
Added: src/qpid/store/StorageProvider.h|322 0
Added: src/qpid/store/StoreException.h|49 0
Added: src/qpid/store/ms-sql/AmqpTransaction.cpp|89 0
Added: src/qpid/store/ms-sql/AmqpTransaction.h|84 0
Added: src/qpid/store/ms-sql/BindingRecordset.cpp|150 0
Added: src/qpid/store/ms-sql/BindingRecordset.h|84 0
Added: src/qpid/store/ms-sql/BlobAdapter.cpp|64 0
Added: src/qpid/store/ms-sql/BlobAdapter.h|62 0
Added: src/qpid/store/ms-sql/BlobEncoder.cpp|133 0
Added: src/qpid/store/ms-sql/BlobEncoder.h|61 0
Added: src/qpid/store/ms-sql/BlobRecordset.cpp|85 0
Added: src/qpid/store/ms-sql/BlobRecordset.h|53 0
Added: src/qpid/store/ms-sql/DatabaseConnection.cpp|70 0
Added: src/qpid/store/ms-sql/DatabaseConnection.h|62 0
Added: src/qpid/store/ms-sql/Exception.h|56 0
Added: src/qpid/store/ms-sql/MSSqlProvider.cpp|989 0
Added: src/qpid/store/ms-sql/MessageMapRecordset.cpp|115 0
Added: src/qpid/store/ms-sql/MessageMapRecordset.h|69 0
Added: src/qpid/store/ms-sql/MessageRecordset.cpp|182 0
Added: src/qpid/store/ms-sql/MessageRecordset.h|85 0
Added: src/qpid/store/ms-sql/Recordset.cpp|117 0
Added: src/qpid/store/ms-sql/Recordset.h|101 0
Added: src/qpid/store/ms-sql/State.cpp|45 0
Added: src/qpid/store/ms-sql/State.h|52 0
Added: src/qpid/store/ms-sql/VariantHelper.cpp|59 0
Added: src/qpid/store/ms-sql/VariantHelper.h|61 0

Revision: aac0be53f8c5807943f1fe039ec10a8a0f3eec66
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2009 00:42:12
Message:
Fix repository location and update CMake-based build instructions #MsgLength=66


----
Modified: INSTALL-WINDOWS|8 7

Revision: e238c3a17b73349b3b0d0766702cb3f5c39a0a2b
Author: Alan Conway <aconway@apache.org>
Date: 22/10/2009 01:03:33
Message:
Fix problems with sessions going out of scope and session numbers wrapping around. #MsgLength=287


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|16 15
Modified: src/qpid/amqp_0_10/SessionHandler.h|5 4
Modified: src/qpid/client/ConnectionImpl.cpp|16 7
Modified: src/qpid/client/SessionImpl.cpp|9 3
Modified: src/qpid/client/SessionImpl.h|5 0
Modified: src/qpid/cluster/UpdateClient.cpp|1 0

Revision: 338a5c113737ceeb58b5d4ef0599be75f41efda0
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2009 04:43:46
Message:
Add missing accept() call to start listening on broker port #MsgLength=60


----
Modified: src/windows/QpiddBroker.cpp|4 3

Revision: b2cb5422b1a98fe710249bbc53c9e1f18d80dd8a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2009 05:53:53
Message:
Tidied up dependencies in IOHandle so that it is no longer dependent on the windows implementation classes. #MsgLength=108


----
Modified: include/qpid/sys/IOHandle.h|1 15
Modified: src/qpid/sys/windows/AsynchIO.cpp|19 26
Modified: src/qpid/sys/windows/AsynchIoResult.h|2 0
Modified: src/qpid/sys/windows/IoHandlePrivate.h|4 1
Modified: src/qpid/sys/windows/IocpPoller.cpp|1 1
Modified: src/qpid/sys/windows/Socket.cpp|10 0
Modified: src/tests/SocketProxy.h|4 0

Revision: c2dbb0f6dd3b67ca5d6b485a312db26f2154269b
Author: Ted Ross <tross@apache.org>
Date: 22/10/2009 20:53:10
Message:
QPID-1732 - When an exchange is deleted, the binding-count for bound queues is not adjusted for deleted bindings. #MsgLength=115


----
Modified: src/qpid/broker/DirectExchange.cpp|0 2
Modified: src/qpid/broker/Exchange.cpp|6 1
Modified: src/qpid/broker/FanOutExchange.cpp|0 2
Modified: src/qpid/broker/HeadersExchange.cpp|0 2
Modified: src/qpid/broker/TopicExchange.cpp|0 2

Revision: e4d01cd8962dde664a3f9ee2ed6a7edb6dd8db09
Author: Alan Conway <aconway@apache.org>
Date: 22/10/2009 20:58:34
Message:
Improved suppression for TCPConnector leak. #MsgLength=115


----
Modified: src/tests/.valgrind.supp|4 8

Revision: 82941eec661139df042a4a358658f3c238fdcdff
Author: Ted Ross <tross@apache.org>
Date: 22/10/2009 21:42:29
Message:
Added immediate-publish for new connections and agents.  This solves a race condition where a QMF console may learn about an object before it learns about the agent that controls that object. #MsgLength=253


----
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|50 33
Modified: src/qpid/management/ManagementAgent.h|2 1

Revision: 413e75212f9e864b852696dd78bc1b32ba680f3d
Author: Ted Ross <tross@apache.org>
Date: 22/10/2009 21:51:14
Message:
Added operators for present/not-present in the object (i.e. for optional properties). #MsgLength=87


----
Modified: include/qmf/engine/Query.h|3 1

Revision: f03c8d2dfc0e385020dd8c18e4c3a3373183f82e
Author: Ted Ross <tross@apache.org>
Date: 22/10/2009 22:39:49
Message:
Move management-agent earlier in the init-sequence so it is destroyed after the message store is finalized. #MsgLength=109


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Broker.h|1 1

Revision: 52929455346f30e38d8ea413e94ae68e79b80d74
Author: Alan Conway <aconway@apache.org>
Date: 22/10/2009 23:11:08
Message:
Removed "..." from suppressions to work with older valgrind versions. #MsgLength=138


----
Modified: src/tests/.valgrind.supp|13 3
Modified: src/tests/run_test|2 2

Revision: 4aacc81a15a8d4983c13c230790efcb4a902aa60
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/10/2009 08:23:30
Message:
Get selected TCP listen port before building the pid file name; fixes regression introduced yesterday. #MsgLength=103


----
Modified: src/windows/QpiddBroker.cpp|3 2

Revision: baef67bcc8ab8c9bd2d1c1939587efa7edf66937
Author: Ted Ross <tross@apache.org>
Date: 24/10/2009 02:11:42
Message:
QPID-2156 - Add thread shutdown to python QMF bindings, additional logging, native console test. Committed patch from Ken Giusti. #MsgLength=131


----
Modified: bindings/qmf/python/qmf.py|99 41

Revision: d9e8b48c1b035e04a66a56f87fffe4a800599ada
Author: Ted Ross <tross@apache.org>
Date: 24/10/2009 02:31:10
Message:
Removed references to broker and agent bank from API, replaced with the more generic (and forward compatible) "key". #MsgLength=366


----
Modified: bindings/qmf/python/qmf.py|55 53
Modified: bindings/qmf/ruby/qmf.rb|37 43
Modified: bindings/qmf/tests/ruby_console.rb|2 3
Modified: bindings/qmf/tests/ruby_console_test.rb|13 0
Modified: include/qmf/engine/Console.h|1 0
Modified: src/qmf/engine/BrokerProxyImpl.cpp|1 0

Revision: 59754e39116c2d8102e452adef79c0f58eee2694
Author: Ted Ross <tross@apache.org>
Date: 26/10/2009 21:18:26
Message:
Removed spurious assertion from python test agent #MsgLength=50


----
Modified: bindings/qmf/tests/python_agent.py|0 1

Revision: 6fabf86f427c91cd40f457266bab3961f1c1bb6f
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2009 22:48:58
Message:
Fix regression introduced in r828108 #MsgLength=118


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|10 9

Revision: b2b9560da6100ca39e4a8cb5ce7e808878c69f37
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2009 03:23:47
Message:
Ignore exceptions from detach() in ~SessionImpl. #MsgLength=141


----
Modified: src/qpid/client/SessionImpl.cpp|5 3

Revision: 4ab287afd213669a7c2c6cfe11da0394f1199181
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2009 04:11:08
Message:
Separate FailoverListener from client::Connection. #MsgLength=545


----
Modified: include/qpid/client/Connection.h|5 1
Renamed: include/qpid/client/FailoverListener.h [from src/qpid/client/FailoverListener.h]|32 11
Modified: include/qpid/client/FailoverManager.h|5 3
Modified: src/Makefile.am|1 1
Modified: src/qpid/client/Connection.cpp|2 2
Modified: src/qpid/client/ConnectionImpl.cpp|2 7
Modified: src/qpid/client/ConnectionImpl.h|1 4
Modified: src/qpid/client/FailoverListener.cpp|33 62
Modified: src/qpid/client/FailoverManager.cpp|4 1
Modified: src/qpid/client/SessionImpl.cpp|7 22
Modified: src/qpid/client/SessionImpl.h|1 8
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|2 0
Modified: src/tests/BrokerFixture.h|2 2
Modified: src/tests/ClusterFixture.cpp|4 3
Modified: src/tests/cluster_test.cpp|9 4
Modified: src/tests/exception_test.cpp|2 2

Revision: 475ba5bc0e0213372aaf42077f48b29f4daa4941
Author: Alan Conway <aconway@apache.org>
Date: 28/10/2009 01:55:44
Message:
Make Session::close and Connection::close no-throw #MsgLength=133


----
Modified: src/qpid/client/ConnectionImpl.cpp|8 5
Modified: src/qpid/client/SessionImpl.cpp|9 4
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/PartialFailure.cpp|28 0

Revision: 036f8b265bf356e17af7fcf885f26d1af07c6158
Author: Alan Conway <aconway@apache.org>
Date: 28/10/2009 01:55:52
Message:
Added missing resetDequeueCompleteCallback calls to ~IncompleteMessageList. #MsgLength=77


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|4 1

Revision: 7b6fea3beb203528636c9a0941ab6236971e1c61
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 03:33:25
Message:
Include store directory; fix moved FailoverListener.h file; add a bunch of install stuff for Windows. #MsgLength=102


----
Modified: src/CMakeLists.txt|94 110

Revision: 7ef3ee44fe76ad7eae56591bbe5b3547b76ff858
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 03:34:35
Message:
Add install steps. #MsgLength=19


----
Modified: src/qpid/store/CMakeLists.txt|6 0

Revision: fa960a791d9e848785a267702f8bc9f6c013a6c4
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 07:18:40
Message:
Use class/struct consistently for OutgoingMessage. #MsgLength=51


----
Modified: src/qpid/client/amqp0_10/MessageSink.h|1 1
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 1

Revision: 2f858c9452afde10b337fb9847a0a2f54326853c
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 07:19:21
Message:
Set up COM initialization before trying to database connection in earlyInitialize. #MsgLength=83


----
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|1 0

Revision: 16825d33c3ab100cbdad385fb97303076bf1971e
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 23:57:57
Message:
Adapt to Boost.system only in 1.35 and later #MsgLength=45


----
Modified: src/CMakeLists.txt|11 7

Revision: 5aba1351ca7f26fa0de5c1a7cf51167151c71e41
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/10/2009 23:58:29
Message:
Fix unused arg warnings #MsgLength=24


----
Modified: src/qpid/store/MessageStorePlugin.cpp|1 1
Modified: src/qpid/store/StorageProvider.h|1 1

Revision: 20e1e1991932feae264e6fe37f030f6ecb7e4d0a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/10/2009 01:30:04
Message:
Fixed problem where broker does not persist the alternate exchange setting to the store for durable exchanges, and these settings were being lost upon recovery. #MsgLength=161


----
Modified: src/qpid/broker/Exchange.cpp|18 0
Modified: src/qpid/broker/Exchange.h|5 0
Modified: src/qpid/broker/ExchangeRegistry.h|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|3 3

Revision: 534f6f1ff13b385aaeecf307b3c9169a451240b9
Author: Alan Conway <aconway@apache.org>
Date: 29/10/2009 01:38:58
Message:
Reduce redundancy in cluster log output. #MsgLength=125


----
Modified: src/qpid/cluster/Cluster.cpp|1 5
Modified: src/tests/start_cluster|1 1

Revision: 5f9e3950452ffb046cb189075dc0ca3f5f6c0015
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/10/2009 04:24:51
Message:
Fixed lack of checking for reserved exchange names that start with "amq." according to the AMQP spec. Added a python test for this functionality. #MsgLength=146


----
Modified: src/qpid/broker/SessionAdapter.cpp|3 0

Revision: 1a37d3dfc35158f2738788afaa184e8a3db9802b
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/10/2009 07:43:46
Message:
Ensure connections are done blocking; there's no asynch connect support yet. Fixes intermittent connection hangs. #MsgLength=114


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 1

Revision: cc7d27120f7c8443b0c3399210c2e6a3510e3e01
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/10/2009 07:47:03
Message:
Change StorageProvider::Exception to inherit from qpid::Exception instead of std::exception; allows the broker to catch them and do something other than die without a message. Fixed exception handling around more ADO ops and correctly handle com exceptions without associated ErrorInfo. #MsgLength=287


----
Modified: src/qpid/store/MessageStorePlugin.cpp|4 1
Modified: src/qpid/store/StorageProvider.h|2 1
Modified: src/qpid/store/ms-sql/Exception.h|9 2
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|27 22

Revision: 4c466d0aced2356dce5b308e22149e0182dc4aa5
Author: Michael Goulish <mgoulish@apache.org>
Date: 29/10/2009 07:51:42
Message:
Fixing a build failure in the examples code. #MsgLength=46


----
Modified: boost-1.32-support/main.patch|12 0

Revision: 5792d3ff70bccd49997aa81e1afc5999d2345e7a
Author: Gordon Sim <gsim@apache.org>
Date: 29/10/2009 18:17:45
Message:
condrestart was mentioned in usage but not supported in case; made it a synonym for existing try-restart. #MsgLength=108


----
Modified: etc/qpidd|1 1

Revision: 11a59e96d12b3cdc5cd5ccfea94871f99572637b
Author: Gordon Sim <gsim@apache.org>
Date: 29/10/2009 19:12:32
Message:
Added extra info to doxygen comments regarding use of SubscriptionManager::get(). #MsgLength=84


----
Modified: include/qpid/client/SubscriptionManager.h|6 0

Revision: 537819b8346f700fce750decece07d1d8c413faf
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/10/2009 21:20:07
Message:
Fix for QPID-2171 "No checks made for reserved exchange names "amq.*" and "qpid.*". This checkin adds the qpid check, r.830751 added the amq check. Python tests also inlcuded which checks for these prefixes. #MsgLength=208


----
Modified: src/qpid/broker/SessionAdapter.cpp|2 2

Revision: aac7bff3522b3ceebef63e71ba49a6cea5f18208
Author: Kim van der Riet <kpvdr@apache.org>
Date: 30/10/2009 04:41:22
Message:
Fixed problem of queue alternate-exchange property not being persisted on persistent queues, and on recovery this property is lost. No tests exist as yet for this. #MsgLength=164


----
Modified: src/qpid/broker/Queue.cpp|17 2
Modified: src/qpid/broker/Queue.h|2 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 2

Revision: 949ae8e06fee9409714988297f78a0877a0dadf2
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2009 07:58:39
Message:
Remove extraneous space from exception message. #MsgLength=48


----
Modified: src/qpid/framing/FieldTable.cpp|1 1

Revision: c0fde62de2ec828875f1e93a0915381d32b3543d
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2009 08:00:24
Message:
Always include the hresult message if it's available. #MsgLength=54


----
Modified: src/qpid/store/ms-sql/Exception.h|2 3

Revision: 683e95de06e136c3666c03be19cad7ed75e3688d
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2009 08:12:57
Message:
Ensure a client-side cursor is used, and change to static cursor to improve performance. When adding a new record that has a persistence ID, wait until after the Update to retrieve the new id from the new record. Fixes QPID-2168. #MsgLength=230


----
Modified: src/qpid/store/ms-sql/BlobRecordset.cpp|2 1
Modified: src/qpid/store/ms-sql/Recordset.cpp|5 1

Revision: 8bf79bfa7caf89025d964fc2c697127fcd4bc264
Author: Alan Conway <aconway@apache.org>
Date: 30/10/2009 23:52:48
Message:
Python framework for tests that start multiple brokers. #MsgLength=330


----
Added: src/tests/brokertest.py|215 0
Modified: src/tests/cluster_tests.py|36 4
Modified: src/tests/run_cluster_tests|1 1

Revision: 109091925fc7cd1f76e11770bbcc55bb8d436b99
Author: Ted Ross <tross@apache.org>
Date: 30/10/2009 23:53:30
Message:
QPID-2181 - Alternate exchange on queue is not visible in management tools #MsgLength=76


----
Modified: src/qpid/broker/Queue.cpp|6 0
Modified: src/tests/cli_tests.py|14 0

Revision: 7f42870b12fc0f5bff0d2f440bf23e0d98764644
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2009 02:19:30
Message:
Add missing install rule for brokertest.py #MsgLength=44


----
Modified: src/tests/cluster.mk|2 1

Revision: f3839fa8ee776250eeee1ca66252aef892530251
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2009 04:33:46
Message:
Fix memory leak in testCoincidentErrors due to un-joined connector thread. #MsgLength=76


----
Modified: src/qpid/client/ConnectionImpl.cpp|8 2
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/PartialFailure.cpp|2 2

Revision: ff7613c6c1fbe3836ccf9e1d51e417f8945d9634
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2009 06:30:34
Message:
In broker, change RecoverableExchange[Impl]::bind() strings to const; they are never changed, and are only passed on to other methods that expect const strings. Makes it easier to work with from store. #MsgLength=547


----
Modified: src/qpid/broker/RecoverableExchange.h|3 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|4 2
Modified: src/qpid/store/MessageStorePlugin.cpp|1 1
Modified: src/qpid/store/StorageProvider.h|2 1
Modified: src/qpid/store/ms-sql/BindingRecordset.cpp|52 37
Modified: src/qpid/store/ms-sql/BindingRecordset.h|12 8
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|17 8

Revision: 7e4ff435e725a7845b16b279b006954487945b89
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2009 06:35:42
Message:
Fix variable used to retrieve Boost include files for Windows kit. #MsgLength=67


----
Modified: src/CMakeLists.txt|1 1

Revision: a1bccf45835a43b5eaf6e3fce1615b2d00787e93
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2009 06:50:51
Message:
Correct the macro used to detect DLL building to match the new target name changed in CMakeLists.txt a while back. #MsgLength=115


----
Modified: include/qmf/engine/QmfEngineImportExport.h|1 1

Revision: 10e7cdfb0ee6c6227c61f694a742d41852296116
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/10/2009 06:51:17
Message:
Refer to struct/class consistently across files. #MsgLength=49


----
Modified: include/qmf/engine/Console.h|3 3
Modified: include/qmf/engine/Schema.h|1 1

Revision: 5900f05cd5503327ba791d5d7d368580b774aed0
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2009 18:22:44
Message:
Changed ssl_test to use 127.0.0.1 instead of hostname and to regenerate certs every time (to avoid stale certs). #MsgLength=115


----
Modified: src/tests/ssl_test|19 8

Revision: 06f7bae170e4850ada8cf4cfa54488eb8fac1bab
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/11/2009 02:30:22
Message:
Minor fix for testlib.py cluster testing script #MsgLength=48


----
Modified: src/tests/testlib.py|1 1

Revision: 2abfa8681870e16c10712d6f48672e20d75f9f00
Author: Alan Conway <aconway@apache.org>
Date: 03/11/2009 04:08:30
Message:
Remove incorrect import. #MsgLength=26


----
Modified: src/tests/cluster_tests.py|1 1

Revision: e963f10ef7e958a453f6309dd0e0fb72b4472b67
Author: Alan Conway <aconway@apache.org>
Date: 03/11/2009 06:08:17
Message:
Fix leak in SASL code, enable cluster ACL test. #MsgLength=49


----
Modified: src/qpid/client/SaslFactory.cpp|24 1
Modified: src/tests/cluster_test.cpp|9 8

Revision: e9cd0c33165d0cbc0b372d3d1b072460b1cc15d0
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/11/2009 08:49:30
Message:
Erasing an iterator invalidates the iterator; changed the code to not dereference an iterator that was just deleted. #MsgLength=117


----
Modified: src/qpid/broker/Queue.cpp|5 2

Revision: 8ee75115bab064907a1ed6add4c9f5f24577cabe
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/11/2009 08:53:24
Message:
When storing a message, set its new persistence Id. Don't throw an exception when attempting to enqueue/dequeue a message without a AMQP transaction associated. Mark queued/dequeued messages complete right after storing in database; there's no delayed notify needed for this storage provider. Fixes QPID-2170. #MsgLength=310


----
Modified: src/qpid/store/CMakeLists.txt|1 1
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|62 25
Modified: src/qpid/store/ms-sql/MessageRecordset.cpp|2 0

Revision: 1774763cad6b32f79b69d9184989baef8616f19a
Author: Ted Ross <tross@apache.org>
Date: 04/11/2009 05:08:58
Message:
QMF fixes: - Added immediate notification of agent deletion - Fixed some issues with memory management between the wrapped client and the ruby wrapper #MsgLength=156


----
Modified: bindings/qmf/ruby/qmf.rb|2 2
Modified: src/qmf/engine/ObjectImpl.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|31 3
Modified: src/qpid/management/ManagementAgent.h|3 0

Revision: 11576bfb05098f3371ff8724e6028218a250af1a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/11/2009 22:37:38
Message:
Changed default timeout for daemon to 10 min to allow for long store recovery times. #MsgLength=85


----
Modified: src/posix/QpiddBroker.cpp|1 1
Modified: src/qpid/broker/Daemon.cpp|1 1

Revision: 6621b743a1a3f628089a8e40dbecf110517c0957
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2009 03:33:47
Message:
Clean up files left behind by tests in make clean. #MsgLength=51


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/cluster.mk|3 0

Revision: 4d973c50a76b4a267f4f20630c17b4b33a5a87a1
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2009 03:33:56
Message:
Automatically add shared library suffix to module name in --load-module. #MsgLength=159


----
Modified: src/qpid/Modules.cpp|19 10
Modified: src/qpid/sys/posix/Shlib.cpp|1 1
Modified: src/qpidd.cpp|0 1

Revision: 7e483921dd60c0fe018f8d78214e6ad28e1862f2
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2009 07:13:25
Message:
Fix restoration of durable messages at startup. Remove all references to a queue that's about to be deleted from the database. Fixes QPID-2183. #MsgLength=144


----
Modified: src/qpid/store/ms-sql/BlobRecordset.cpp|11 11
Modified: src/qpid/store/ms-sql/BlobRecordset.h|3 2
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|39 19
Modified: src/qpid/store/ms-sql/MessageMapRecordset.cpp|41 1
Modified: src/qpid/store/ms-sql/MessageMapRecordset.h|9 1
Modified: src/qpid/store/ms-sql/MessageRecordset.cpp|1 1
Modified: src/qpid/store/ms-sql/MessageRecordset.h|1 1

Revision: 53f1f9096228aa76d16bac64d80e51e607d033f2
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2009 19:50:39
Message:
QPID-2191: Fix browsing behaviour where messages may have been released out of order #MsgLength=85


----
Modified: src/qpid/broker/Queue.cpp|5 1
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|1 0

Revision: 865e37108613dd7b0544c3e786833a61b10d2a13
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2009 23:30:18
Message:
QPID-1899: Applied patch from Ken Giusti to tie in SASL enctryption to the handling of the --require-encrypted option #MsgLength=118


----
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Connection.h|5 1
Modified: src/qpid/broker/ConnectionFactory.cpp|4 2
Modified: src/qpid/broker/ConnectionFactory.h|4 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|26 7
Modified: src/qpid/broker/SecureConnectionFactory.cpp|6 4
Modified: src/qpid/broker/SecureConnectionFactory.h|4 2
Modified: src/qpid/client/ConnectionHandler.cpp|2 1
Modified: src/qpid/client/ConnectionHandler.h|3 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 0
Modified: src/qpid/client/Connector.cpp|1 0
Modified: src/qpid/client/Connector.h|2 0
Modified: src/qpid/client/RdmaConnector.cpp|1 0
Modified: src/qpid/client/Sasl.h|1 1
Modified: src/qpid/client/SaslFactory.cpp|14 3
Modified: src/qpid/client/SslConnector.cpp|1 0
Modified: src/qpid/cluster/Cluster.cpp|17 4
Modified: src/qpid/cluster/Connection.cpp|5 3
Modified: src/qpid/cluster/Connection.h|6 3
Modified: src/qpid/cluster/ConnectionCodec.cpp|9 7
Modified: src/qpid/cluster/ConnectionCodec.h|6 3
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 2
Modified: src/qpid/sys/ConnectionCodec.h|16 3
Modified: src/qpid/sys/RdmaIOPlugin.cpp|2 2
Modified: src/qpid/sys/ssl/SslHandler.cpp|2 2
Modified: src/qpid/sys/ssl/SslIo.cpp|1 0
Modified: src/qpid/sys/ssl/SslIo.h|3 0
Modified: src/qpid/sys/ssl/SslSocket.cpp|20 0
Modified: src/qpid/sys/ssl/SslSocket.h|2 0
Modified: xml/cluster.xml|6 1

Revision: 3722378389df86545881bc54569a6716f01ae4f7
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2009 00:03:06
Message:
Filled out process management in python brokertest framework. #MsgLength=63


----
Modified: src/tests/brokertest.py|192 86
Modified: src/tests/cluster_tests.py|27 387
Modified: src/tests/run_cluster_tests|14 37

Revision: 48ac15acaa5e70e6daa1bcdee7499128a286e332
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2009 01:27:28
Message:
Set default mechanism for cluster updates to be ANONYMOUS #MsgLength=58


----
Modified: etc/qpidd.conf|1 0

Revision: e26fb1b2557c4124c6276c1acdc8a65149030dc0
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/11/2009 02:41:36
Message:
remove looping for position search and replace with stl algorithms for better performance #MsgLength=90


----
Modified: src/qpid/broker/Queue.cpp|58 37
Modified: src/qpid/broker/Queue.h|3 0
Modified: src/qpid/broker/QueuedMessage.h|2 0
Modified: src/tests/QueueTest.cpp|2 1

Revision: 2e51bbe7932d81fed712752551bbe51f2cb3777d
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2009 03:50:15
Message:
Added message store recovery tests to cluster_tests. #MsgLength=54


----
Modified: src/tests/brokertest.py|24 4
Modified: src/tests/cluster.mk|1 1
Added: src/tests/cluster_tests.fail|2 0
Modified: src/tests/cluster_tests.py|45 2
Modified: src/tests/run_cluster_tests|10 28

Revision: ddc691d0141c2fb693054687b8392d3043eb8573
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2009 17:35:47
Message:
Add missing cluster_tests.fail file to distribution list. #MsgLength=58


----
Modified: src/tests/cluster.mk|2 1

Revision: 79aadb4b4c5c8f9431600c8ef6d94d8b8071c826
Author: Ted Ross <tross@apache.org>
Date: 10/11/2009 23:25:30
Message:
Added limited backtracing for exceptions raised in console callbacks. #MsgLength=71


----
Modified: bindings/qmf/ruby/qmf.rb|7 2

Revision: a50b5044179f66d1b16d7ebb08a87f428f9f19e6
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 11/11/2009 03:17:32
Message:
Also remove liner search from seek() & add tests #MsgLength=49


----
Modified: src/qpid/broker/Queue.cpp|5 6
Modified: src/tests/QueueTest.cpp|52 0

Revision: 01179096b0839e4ea311da24c7e46efed04c8f94
Author: Alan Conway <aconway@apache.org>
Date: 11/11/2009 04:57:30
Message:
Fixed test_failover, added ErrorGenerator with test. #MsgLength=54


----
Modified: src/tests/brokertest.py|93 41
Modified: src/tests/cluster_tests.fail|1 1
Modified: src/tests/cluster_tests.py|24 10
Modified: src/tests/run_cluster_tests|1 1

Revision: c91df7c026d7756620612471975c7ef38dc32b4a
Author: Alan Conway <aconway@apache.org>
Date: 11/11/2009 05:09:56
Message:
Moved brokertest.py to python directory. #MsgLength=42


----
Deleted: src/tests/brokertest.py|0 393
Modified: src/tests/cluster.mk|1 2
Modified: src/tests/cluster_tests.py|2 2

Revision: 0a8f42c2b7bdcf7ae4cdb52ded577e3271c2d9de
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/11/2009 09:43:55
Message:
Add new ssf arg to Sasl::start #MsgLength=32


----
Modified: src/qpid/client/windows/SaslFactory.cpp|3 2

Revision: a639b6b6872e0840e0a38e6fad6cc41a7451ba23
Author: Gordon Sim <gsim@apache.org>
Date: 11/11/2009 21:15:44
Message:
Added support for address parsing, create/assert/delete policies #MsgLength=65


----
Modified: examples/messaging/client.cpp|1 1
Modified: examples/messaging/topic_listener.cpp|4 7
Modified: examples/messaging/topic_receiver.cpp|4 11
Modified: include/qpid/messaging/Address.h|50 12
Deleted: include/qpid/messaging/Filter.h|0 48
Modified: include/qpid/messaging/Message.h|1 1
Modified: include/qpid/messaging/Session.h|6 10
Modified: include/qpid/messaging/Variant.h|1 3
Modified: src/CMakeLists.txt|0 1
Modified: src/Makefile.am|0 2
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|520 206
Modified: src/qpid/client/amqp0_10/AddressResolution.h|3 6
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 1
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|1 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|3 5
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|1 6
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|3 4
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|17 36
Modified: src/qpid/client/amqp0_10/SessionImpl.h|4 12
Modified: src/qpid/messaging/Address.cpp|278 13
Deleted: src/qpid/messaging/Filter.cpp|0 39
Modified: src/qpid/messaging/Session.cpp|8 17
Modified: src/qpid/messaging/SessionImpl.h|2 4
Modified: src/qpid/messaging/Variant.cpp|1 0
Added: src/tests/Address.cpp|91 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/MessagingSessionTests.cpp|293 10

Revision: 5a4fde72e05f733e425211e3db052e7fe603c3d0
Author: Gordon Sim <gsim@apache.org>
Date: 11/11/2009 23:13:06
Message:
Fix compilation error on some platforms #MsgLength=40


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|1 0

Revision: b4f4f2d06737cc5c43d12d2d9e28508dfe7ca969
Author: Ted Ross <tross@apache.org>
Date: 12/11/2009 01:33:33
Message:
Added full SASL authentication and security layer for the Python client. #MsgLength=74


----
Modified: Makefile.am|1 1
Added: bindings/sasl/Makefile.am|65 0
Added: bindings/sasl/cyrus/saslwrapper.cpp|372 0
Added: bindings/sasl/python/python.i|169 0
Added: bindings/sasl/saslwrapper.h|151 0
Added: bindings/sasl/saslwrapper.i|40 0
Modified: configure.ac|1 0
Modified: src/tests/acl.py|5 5

Revision: e0098044f59b6717289a340aa464ad5c648c199e
Author: Ted Ross <tross@apache.org>
Date: 12/11/2009 04:01:13
Message:
Disabled user-id test from the pure python console.  This needs to be re-designed following the update to SASL on Python. #MsgLength=123


----
Modified: bindings/qmf/tests/python_console.py|1 1

Revision: ef3b40849d41d75973b2c823170d25b5389ac6f7
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/11/2009 05:28:27
Message:
Add missing extern decls. Fixes broken Windows build. #MsgLength=54


----
Modified: include/qpid/framing/FieldValue.h|1 1
Modified: include/qpid/messaging/Address.h|1 1

Revision: d1293c8f4ffcd0a09694a7da625a606b943f43ca
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/11/2009 06:45:40
Message:
Add missing extern decls. Fixes broken Windows build. #MsgLength=54


----
Modified: src/qpid/broker/Queue.h|1 1

Revision: 488c53a6cc0f3cd061360244561a6b16ab2f20d3
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2009 18:30:53
Message:
Merge branch 'next_receiver_changes' into trunk #MsgLength=48


----
Modified: include/qpid/messaging/Session.h|3 2
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|30 5
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|2 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|44 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|5 0
Modified: src/qpid/messaging/Session.cpp|12 5
Modified: src/qpid/messaging/SessionImpl.h|2 1
Modified: src/tests/MessagingSessionTests.cpp|22 0

Revision: 15ec141c15c1c1b62ba172d1e7e2efb3ba7c68e4
Author: Ted Ross <tross@apache.org>
Date: 12/11/2009 22:35:39
Message:
QPID-2179 - example qmf-agent occasionally crashes on shutdown Committed patch from Ken Giusti #MsgLength=96


----
Modified: examples/qmf-agent/example.cpp|7 3

Revision: 826e4328a589348d88ba9993f92988553651b8f7
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2009 05:13:00
Message:
Made cluster_tests.py ClusterTests.test_failover configurable to run for any length of time. #MsgLength=157


----
Modified: src/tests/cluster_tests.py|9 20

Revision: 10d10a9cdaa1a85c804f8262c7efccdff4b2ff50
Author: Ted Ross <tross@apache.org>
Date: 13/11/2009 05:16:59
Message:
QPID-2198 - Moved SASL wrapper out of the cpp area and removed "qpid" from its name. #MsgLength=86


----
Modified: Makefile.am|1 1
Deleted: bindings/sasl/Makefile.am|0 65
Deleted: bindings/sasl/cyrus/saslwrapper.cpp|0 372
Deleted: bindings/sasl/python/python.i|0 169
Deleted: bindings/sasl/saslwrapper.h|0 151
Deleted: bindings/sasl/saslwrapper.i|0 40
Modified: configure.ac|0 1

Revision: 3d9071f2748ad572f31357e33a66e101f36289d0
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/11/2009 08:13:42
Message:
Move the kit-building settings out of CMakeLists.txt to a new file, BuildInstallSettings.cmake. Changed the examples's vcproj files to refer to the installed header/lib locations instead of in the source tree locations; also adjusted the  names to match directories and look sensible in the solution list. #MsgLength=306


----
Added: BuildInstallSettings.cmake|133 0
Modified: CMakeLists.txt|29 118
Modified: docs/api/CMakeLists.txt|5 1
Modified: examples/CMakeLists.txt|39 7
Modified: examples/README.txt|11 11
Modified: examples/direct/direct_declare_queues.vcproj|33 13
Modified: examples/direct/direct_direct_producer.vcproj|32 12
Modified: examples/direct/direct_listener.vcproj|32 12
Modified: examples/examples.sln|109 9
Modified: examples/failover/failover_declare_queues.vcproj|32 12
Modified: examples/failover/failover_replaying_sender.vcproj|32 12
Modified: examples/failover/failover_resuming_receiver.vcproj|32 12
Modified: examples/fanout/fanout_fanout_producer.vcproj|32 12
Modified: examples/fanout/fanout_listener.vcproj|32 12
Modified: examples/pub-sub/CMakeLists.txt|2 2
Renamed: examples/pub-sub/pub-sub_topic_listener.vcproj [from examples/pub-sub/pub_sub_topic_listener.vcproj]|32 12
Renamed: examples/pub-sub/pub-sub_topic_publisher.vcproj [from examples/pub-sub/pub_sub_topic_publisher.vcproj]|32 12
Modified: examples/qmf-agent/qmf_agent.vcproj|32 12
Modified: examples/qmf-console/CMakeLists.txt|4 4
Renamed: examples/qmf-console/qmf-console_console.vcproj [from examples/qmf-console/qmf_console_console.vcproj]|32 12
Renamed: examples/qmf-console/qmf-console_ping.vcproj [from examples/qmf-console/qmf_console_ping.vcproj]|32 12
Renamed: examples/qmf-console/qmf-console_printevents.vcproj [from examples/qmf-console/qmf_console_printevents.vcproj]|32 12
Renamed: examples/qmf-console/qmf-console_queuestats.vcproj [from examples/qmf-console/qmf_console_queuestats.vcproj]|32 12
Renamed: examples/request-response/request-response_client.vcproj [from examples/request-response/request_response_client.vcproj]|32 12
Renamed: examples/request-response/request-response_server.vcproj [from examples/request-response/request_response_server.vcproj]|32 12
Modified: examples/tradedemo/tradedemo_declare_queues.vcproj|32 12
Modified: examples/tradedemo/tradedemo_topic_listener.vcproj|32 12
Modified: examples/tradedemo/tradedemo_topic_publisher.vcproj|32 12
Modified: examples/xml-exchange/CMakeLists.txt|2 0
Modified: src/CMakeLists.txt|2 2

Revision: 583ee34f4766c03f4a5896a6e15ac37637642e7c
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/11/2009 08:16:13
Message:
Add new vcproj files for the messaging examples; these go in the Windows installer. #MsgLength=84


----
Added: examples/messaging/messaging_client.vcproj|411 0
Added: examples/messaging/messaging_map_receiver.vcproj|411 0
Added: examples/messaging/messaging_map_sender.vcproj|411 0
Added: examples/messaging/messaging_queue_listener.vcproj|411 0
Added: examples/messaging/messaging_queue_receiver.vcproj|411 0
Added: examples/messaging/messaging_queue_sender.vcproj|411 0
Added: examples/messaging/messaging_server.vcproj|411 0
Added: examples/messaging/messaging_topic_listener.vcproj|411 0
Added: examples/messaging/messaging_topic_receiver.vcproj|411 0
Added: examples/messaging/messaging_topic_sender.vcproj|411 0

Revision: c604025e4ed335df3cad08f0964738c4de6e1a7b
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/11/2009 08:48:00
Message:
Correct the changed vcproj files in the Makefile.am files; added the EXTRA_DIST for messaging/Makefile.am. #MsgLength=107


----
Modified: examples/messaging/Makefile.am|12 0
Modified: examples/pub-sub/Makefile.am|2 2
Modified: examples/qmf-console/Makefile.am|4 4
Modified: examples/request-response/Makefile.am|2 2

Revision: a577cc41d50a41c3dbc2853b6ea1aa2ad934b08f
Author: Michael Goulish <mgoulish@apache.org>
Date: 13/11/2009 13:37:54
Message:
Make failover_soak and its children adjustable as to the number of brokers in the cluster, and the number of queues talking through the cluster during the test. #MsgLength=464


----
Modified: src/tests/declare_queues.cpp|50 23
Modified: src/tests/failover_soak.cpp|76 40
Modified: src/tests/replaying_sender.cpp|23 8
Modified: src/tests/resuming_receiver.cpp|44 25
Modified: src/tests/run_failover_soak|7 5

Revision: 82667392ccd093f8ec8643e343f643a57ff5aac3
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2009 18:57:50
Message:
Change from linear to binary search in requeue #MsgLength=47


----
Modified: src/qpid/broker/Queue.cpp|1 5

Revision: ee87e3f7846e959ef5de66ee4c50642e09103a7c
Author: Rafael H. Schloming <rhs@apache.org>
Date: 13/11/2009 23:33:04
Message:
changed address syntax to permit more complex subjects, added escaping, improved error reporting #MsgLength=97


----
Modified: src/tests/cluster_tests.py|2 2

Revision: a21f0cdaae82c6f0ea2c9e73a8f47517ad021ae8
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2009 00:07:28
Message:
Fix verify to run c++ and mixed c++/python examples. #MsgLength=54


----
Modified: examples/verify_all|1 1

Revision: 9d441eb7b1c9f14aec2204714683c0ec29cc6305
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 14/11/2009 03:30:07
Message:
Add management subscription object #MsgLength=35


----
Modified: src/qpid/broker/SemanticState.cpp|50 3
Modified: src/qpid/broker/SemanticState.h|7 1

Revision: 32be2e9c385fc0b4bc7bb7925b288611207cafd8
Author: Gordon Sim <gsim@apache.org>
Date: 16/11/2009 19:58:45
Message:
Merge branch 'next_receiver_changes' into trunk #MsgLength=48


----
Modified: examples/messaging/CMakeLists.txt|0 2
Modified: examples/messaging/Makefile.am|1 7
Deleted: examples/messaging/queue_listener.cpp|0 82
Deleted: examples/messaging/topic_listener.cpp|0 79
Deleted: include/qpid/messaging/MessageListener.h|0 49
Modified: include/qpid/messaging/Receiver.h|0 8
Modified: include/qpid/messaging/Session.h|16 4
Modified: src/Makefile.am|0 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 4
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|0 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 71
Modified: src/qpid/client/amqp0_10/SessionImpl.h|1 11
Modified: src/qpid/messaging/Receiver.cpp|0 1
Modified: src/qpid/messaging/ReceiverImpl.h|0 1
Modified: src/qpid/messaging/Session.cpp|0 15
Modified: src/qpid/messaging/SessionImpl.h|0 3
Modified: src/tests/MessagingSessionTests.cpp|0 57

Revision: b534b58f2558ff5280d89fe9dc916d38b6f70974
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 16/11/2009 22:02:20
Message:
expose less internals and some term clean up thanks to gsim's comments #MsgLength=71


----
Modified: src/qpid/broker/SemanticState.cpp|5 6

Revision: 695d68323e6e369a143ceb96ea644b477e2166f1
Author: Gordon Sim <gsim@apache.org>
Date: 16/11/2009 23:57:43
Message:
QPID-664: Introduce ';' as delimiter bewteen name (and optionally subject) and the options map in address syntax. #MsgLength=114


----
Modified: examples/messaging/topic_receiver.cpp|1 1
Modified: include/qpid/messaging/Address.h|1 1
Modified: src/qpid/messaging/Address.cpp|52 17
Modified: src/tests/Address.cpp|4 4
Modified: src/tests/MessagingSessionTests.cpp|14 14

Revision: 9f540e9e03dfa5fa72239791b96d1c70e31426a6
Author: Gordon Sim <gsim@apache.org>
Date: 16/11/2009 23:57:55
Message:
QPID-664: Fix client example to include new delimiter in address #MsgLength=65


----
Modified: examples/messaging/client.cpp|1 1

Revision: 450cb4eeb86f3fb4c84d8966392ddee3a49effb4
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2009 00:33:06
Message:
Added extra test for quoating in name or subject parts of address. #MsgLength=67


----
Modified: src/tests/Address.cpp|7 0

Revision: 3edeb784e7bf3252376e04517b84bb7692d81b9e
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2009 01:30:23
Message:
QPID-664: Remove start()/stop() methods from api #MsgLength=49


----
Modified: include/qpid/messaging/Receiver.h|0 10
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|8 18
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|0 14
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|7 2
Modified: src/qpid/messaging/Receiver.cpp|0 2
Modified: src/qpid/messaging/ReceiverImpl.h|0 2
Modified: src/tests/MessagingSessionTests.cpp|0 6

Revision: 70e0125e2028b7618d61f634ce151d91feb5a4d8
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/11/2009 04:30:19
Message:
Use portable sleep call #MsgLength=24


----
Modified: src/tests/declare_queues.cpp|2 1

Revision: 6c048a68701a21ac48560e5fea2ffc7412411aa2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/11/2009 14:42:13
Message:
Make cluster/ssl/rdma/xml modules install correctly #MsgLength=52


----
Modified: src/CMakeLists.txt|1 1
Modified: src/cluster.cmake|10 1
Modified: src/rdma.cmake|12 0
Modified: src/ssl.cmake|8 0

Revision: 8d5f9921b3cee620c33cda814a2333c419ac6748
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/11/2009 14:42:36
Message:
Bring cluster module cmake build back up to date nad make it link as well #MsgLength=74


----
Modified: src/cluster.cmake|7 1

Revision: 8f02411a595bc4fcacb00f043cd93146d8cc77e3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/11/2009 14:42:52
Message:
Make the unix config files install in the install prefix not absolute /etc #MsgLength=75


----
Modified: BuildInstallSettings.cmake|1 2
Modified: CMakeLists.txt|0 7

Revision: 7bbe0201cbe9736d9c8f5b98904e2f19878ea436
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/11/2009 14:43:01
Message:
The cmake build should work for any Unix this is not Linux specific #MsgLength=68


----
Modified: BuildInstallSettings.cmake|2 2

Revision: 8f219e5fe50c2b2316ac57a2de2fc9b356150d55
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2009 18:52:33
Message:
QPID-664: Added getReceiver()/getSender() methods to session in new api. #MsgLength=73


----
Modified: include/qpid/messaging/Receiver.h|6 0
Modified: include/qpid/messaging/Sender.h|5 0
Modified: include/qpid/messaging/Session.h|26 1
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|5 0
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|23 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|4 1
Modified: src/qpid/messaging/Receiver.cpp|1 1
Modified: src/qpid/messaging/ReceiverImpl.h|1 0
Modified: src/qpid/messaging/Sender.cpp|1 0
Modified: src/qpid/messaging/SenderImpl.h|1 0
Modified: src/qpid/messaging/Session.cpp|11 0
Modified: src/qpid/messaging/SessionImpl.h|2 0
Modified: src/tests/MessagingSessionTests.cpp|29 0

Revision: 394df7964468b018d9bbf67ba11b3bf6be385d3f
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2009 18:52:53
Message:
QPID-664: Cancel all senders and receivers on closing session; check queue/exchange exists before deleting. #MsgLength=108


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|11 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|14 0
Modified: src/tests/MessagingSessionTests.cpp|0 4

Revision: 2ee2eae2fc3e75fddb6d924b1cc38c3db730f3d9
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2009 01:34:55
Message:
QPID-664: Allow application to set session name and retrieve session using that name; close all sessions when connection is closed. #MsgLength=132


----
Modified: include/qpid/messaging/Connection.h|2 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|29 5
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|5 4
Modified: src/qpid/messaging/Connection.cpp|2 1
Modified: src/qpid/messaging/ConnectionImpl.h|2 1
Modified: src/tests/MessagingSessionTests.cpp|13 1

Revision: e1ce833841f4dd382ccd267588386f462d6c9493
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2009 01:35:28
Message:
QPID-664: Add accessors for connection from session, and for session from sender/receiver. #MsgLength=91


----
Modified: include/qpid/messaging/Receiver.h|6 0
Modified: include/qpid/messaging/Sender.h|6 1
Modified: include/qpid/messaging/Session.h|7 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|5 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|6 0
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|6 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|4 2
Modified: src/qpid/messaging/Receiver.cpp|2 0
Modified: src/qpid/messaging/ReceiverImpl.h|2 0
Modified: src/qpid/messaging/Sender.cpp|2 0
Modified: src/qpid/messaging/SenderImpl.h|2 0
Modified: src/qpid/messaging/Session.cpp|6 0
Modified: src/qpid/messaging/SessionImpl.h|3 2
Modified: src/tests/MessagingSessionTests.cpp|14 1

Revision: b01fce2325bfc6f761d552555054ac3e2695a988
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2009 02:09:01
Message:
cluster::InitialStatusMap and unit tests, support for improved cluster join protocol. #MsgLength=87


----
Modified: src/cluster.mk|2 0
Modified: src/qpid/cluster/Cluster.cpp|14 3
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/ClusterMap.h|0 3
Modified: src/qpid/cluster/Cpg.cpp|9 6
Added: src/qpid/cluster/InitialStatusMap.cpp|110 0
Added: src/qpid/cluster/InitialStatusMap.h|68 0
Modified: src/qpid/cluster/types.h|5 2
Added: src/tests/InitialStatusMap.cpp|141 0
Modified: src/tests/cluster.mk|3 2
Modified: src/tests/cluster_test.cpp|0 5
Modified: src/tests/test_tools.h|12 2
Modified: xml/cluster.xml|12 0

Revision: f1d97f0aa290761bc9a8082b9d7016413b3c0dd2
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2009 02:09:21
Message:
Integrated InitialStatusMap into cluster code. #MsgLength=48


----
Modified: src/cluster.mk|2 0
Modified: src/qpid/cluster/Cluster.cpp|71 47
Modified: src/qpid/cluster/Cluster.h|12 5
Modified: src/qpid/cluster/ClusterMap.cpp|32 49
Modified: src/qpid/cluster/ClusterMap.h|3 10
Modified: src/qpid/cluster/Cpg.cpp|1 1
Modified: src/qpid/cluster/ErrorCheck.cpp|1 6
Modified: src/qpid/cluster/ErrorCheck.h|1 3
Modified: src/qpid/cluster/InitialStatusMap.cpp|33 5
Modified: src/qpid/cluster/InitialStatusMap.h|13 4
Added: src/qpid/cluster/MemberSet.cpp|51 0
Added: src/qpid/cluster/MemberSet.h|43 0
Modified: src/qpid/cluster/types.h|0 4
Modified: src/qpid/framing/AMQContentBody.cpp|3 1
Modified: src/tests/InitialStatusMap.cpp|32 9
Modified: src/tests/cluster_tests.py|7 3
Modified: xml/cluster.xml|3 3

Revision: a700434ee3b624e7f7c0e0994fd53ffd5ae873e0
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2009 04:18:37
Message:
Added missing #include <algorithm> #MsgLength=36


----
Modified: src/qpid/cluster/MemberSet.cpp|1 0

Revision: cb4856651d7457ef755d0ae231bcabbb5e53117f
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 18/11/2009 05:08:10
Message:
QPID-2188 , support for maxConnections, limit is set to broker #MsgLength=63


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|24 1
Modified: src/qpid/broker/Connection.cpp|3 0
Modified: src/qpid/broker/ConnectionFactory.cpp|6 0
Modified: src/qpid/broker/SecureConnectionFactory.cpp|6 0

Revision: df0058f1b600849faa620d214ddf487097a90cd3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/11/2009 14:11:39
Message:
Add compile options for SunPro compiler and rearrange setting warnings for GCC #MsgLength=79


----
Modified: src/CMakeLists.txt|16 5

Revision: bc2cff3981a8dd68d9df6c5854539c334f9f5f3c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/11/2009 14:11:47
Message:
Fix the files to compile for Solaris #MsgLength=37


----
Modified: src/CMakeLists.txt|9 3

Revision: 74c9984f773cd3291d2bf7b10abd24964320a1e8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/11/2009 14:11:59
Message:
Changes to compile under  SunCC 5.10 #MsgLength=37


----
Modified: src/qpid/Plugin.cpp|1 1
Modified: src/qpid/broker/QueueListeners.cpp|3 3
Modified: src/qpid/framing/Uuid.cpp|3 1
Modified: src/qpid/sys/posix/Fork.cpp|2 0

Revision: 09728cab3d1aa11f2a58c4f6da9b5636aa3968dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/11/2009 14:12:08
Message:
Updated cluster cmake build for recent changes #MsgLength=47


----
Modified: src/cluster.cmake|4 0

Revision: c5500e5085c0151fc47d9e2ade77feca9ed61ac9
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2009 19:12:32
Message:
QPID-2188: Fixed typo in log messages #MsgLength=38


----
Modified: src/qpid/broker/ConnectionFactory.cpp|1 1
Modified: src/qpid/broker/SecureConnectionFactory.cpp|1 1

Revision: b05e8ddf96020de5ba3eee246a246981b103004a
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2009 23:47:34
Message:
Silence expected warning from cluster tests. #MsgLength=46


----
Modified: src/tests/ClusterFailover.cpp|1 1

Revision: f21cc373624328ec57b678191f06a3205f640798
Author: Alan Conway <aconway@apache.org>
Date: 19/11/2009 01:26:43
Message:
Added cluster option --cluster-size. #MsgLength=149


----
Modified: src/qpid/cluster/Cluster.cpp|4 5
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 2
Modified: src/qpid/cluster/ClusterSettings.h|2 3
Modified: src/qpid/cluster/InitialStatusMap.cpp|4 3
Modified: src/qpid/cluster/InitialStatusMap.h|2 1
Modified: src/tests/InitialStatusMap.cpp|20 6
Modified: src/tests/cluster_tests.py|40 8
Modified: src/tests/run_cluster_tests|4 2

Revision: 6f4ce14ac61fe6417c69c1ec2ca6dee407e02587
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2009 19:45:15
Message:
Change content type for map and list messages to align with python client. #MsgLength=75


----
Modified: src/qpid/client/amqp0_10/Codecs.cpp|2 2

Revision: fd3ba73eccb1b63f035784e5ce7d1f064e7fef88
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2009 19:46:00
Message:
QPID-664: Add spout & drain examples as per python client #MsgLength=58


----
Modified: examples/messaging/CMakeLists.txt|3 0
Modified: examples/messaging/Makefile.am|7 1
Added: examples/messaging/drain.cpp|125 0
Added: examples/messaging/spout.cpp|190 0
Modified: include/qpid/messaging/Message.h|2 2
Modified: src/qpid/messaging/Address.cpp|1 1
Modified: src/qpid/messaging/MapContent.cpp|1 0
Modified: src/qpid/messaging/Variant.cpp|6 2

Revision: df1249a07f8c64b4f4495290d73083f2e997133e
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 01:50:34
Message:
Added getStoreDir() to MessageStore #MsgLength=37


----
Modified: src/qpid/broker/MessageStore.h|2 0
Modified: src/qpid/broker/MessageStoreModule.cpp|2 0
Modified: src/qpid/broker/MessageStoreModule.h|1 0
Modified: src/qpid/broker/NullMessageStore.cpp|1 0
Modified: src/qpid/broker/NullMessageStore.h|2 0
Modified: src/tests/QueueTest.cpp|2 0

Revision: 1a311a1f78666ea1c5802a52ae0d919af4ebb4bd
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 05:31:17
Message:
Cleaned up test environment script. #MsgLength=36


----
Modified: src/tests/run_cluster_tests|4 18
Added: src/tests/test_env.sh|51 0

Revision: 28ca85bb43bb59ac864376215efe7dd7e8824d27
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 06:07:43
Message:
In exchange-bound, set queue-not-found correctly even if exchange is not found. #MsgLength=80


----
Modified: src/qpid/broker/SessionAdapter.cpp|1 1

Revision: 5b3f7a53fd1451e79080d3c168ffb37b3cc17aba
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 06:08:30
Message:
QPID-664: Refine address resolution; if type not specified, default to queue as per python client. #MsgLength=99


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|80 31
Modified: src/tests/MessagingSessionTests.cpp|2 0

Revision: d3e38d0d22c53c568473218285d6f579c63967d5
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 07:07:20
Message:
QPID-664: Bring address option names in to line with those used in python client. #MsgLength=82


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|38 25
Modified: src/qpid/messaging/Address.cpp|24 8
Modified: src/tests/MessagingSessionTests.cpp|11 11

Revision: 7040c488b9e2e2ef1887ba645690d93473489d0d
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 07:07:37
Message:
QPID-664: Refactored address resolution; ensure type is asserted on when required; moved exclusive option for subscribe. #MsgLength=121


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|58 77

Revision: 5b1bf6f71111c3b64689b98c8e5f2e3c7a15e1d7
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 07:07:55
Message:
QPID-664: Added some documentation for address options; tidied up the handling of queue- and subscribe- arguments #MsgLength=114


----
Modified: include/qpid/messaging/Address.h|72 4
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|22 5

Revision: d7b9221aa3db55f63453c145494475bba77f26b6
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/11/2009 09:04:03
Message:
Removed the Visual Studio solution/project files, as these are now generated by CMake. Added CMakeLists.txt files to Makefile.am, and all other needed support files so that the 'make dist' supplies all needed items for building a release kit on Windows. Fixes QPID-2134 #MsgLength=270


----
Modified: Makefile.am|1 1
Modified: docs/api/Makefile.am|1 1
Modified: etc/Makefile.am|1 1
Modified: examples/Makefile.am|1 1
Modified: examples/direct/Makefile.am|1 0
Modified: examples/failover/Makefile.am|1 0
Modified: examples/fanout/Makefile.am|1 0
Modified: examples/messaging/Makefile.am|1 0
Modified: examples/pub-sub/Makefile.am|1 0
Modified: examples/qmf-console/Makefile.am|1 0
Modified: examples/request-response/Makefile.am|1 0
Modified: examples/tradedemo/Makefile.am|1 0
Modified: examples/xml-exchange/Makefile.am|2 1
Modified: managementgen/Makefile.am|1 1
Modified: src/CMakeLists.txt|7 6
Modified: src/Makefile.am|18 11
Deleted: src/broker.vcproj|0 1349
Deleted: src/client.vcproj|0 646
Deleted: src/common.vcproj|0 1930
Deleted: src/protocol_gen.mak|0 28
Deleted: src/qmfagent.vcproj|0 403
Deleted: src/qmfconsole.vcproj|0 463
Deleted: src/qpid.sln|0 99
Deleted: src/qpidbroker.vcproj|0 378
Modified: src/tests/Makefile.am|3 18
Deleted: src/tests/client_test.vcproj|0 432
Deleted: src/tests/consume.vcproj|0 432
Deleted: src/tests/echotest.vcproj|0 432
Deleted: src/tests/header_test.vcproj|0 432
Deleted: src/tests/latencytest.vcproj|0 432
Deleted: src/tests/perftest.vcproj|0 435
Deleted: src/tests/publish.vcproj|0 432
Deleted: src/tests/receiver.vcproj|0 432
Deleted: src/tests/sender.vcproj|0 432
Deleted: src/tests/shlibtest.vcproj|0 474
Deleted: src/tests/tests.sln|0 183
Deleted: src/tests/topic_listener.vcproj|0 432
Deleted: src/tests/topic_publisher.vcproj|0 432
Deleted: src/tests/txjob.vcproj|0 432
Deleted: src/tests/txshift.vcproj|0 432
Deleted: src/tests/txtest.vcproj|0 432
Deleted: src/tests/unit_test.vcproj|0 579

Revision: ae885a318151bf830aee81e8a898614e4107d665
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 15:50:31
Message:
Added test_env.sh script to distributed file list #MsgLength=50


----
Modified: src/tests/Makefile.am|2 1

Revision: 654f04000516fa2daf9f1c950a5e875ae9b0a265
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 16:37:09
Message:
QPID-2212: Attempt to fix windows build of drain/spout examples by linking in boost program options #MsgLength=100


----
Modified: examples/messaging/CMakeLists.txt|2 2

Revision: 967fa0298861b0c81c19edd79a41919c7703ae5a
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 18:23:56
Message:
Improved formatting of address documentation. #MsgLength=46


----
Modified: include/qpid/messaging/Address.h|47 35

Revision: 848625e94d4c53cc5a7c6a59a7d61c7c8a3a2273
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2009 19:00:59
Message:
Change spout option name to match equivalent python example #MsgLength=60


----
Modified: examples/messaging/spout.cpp|1 1

Revision: 9ded7586c6860cd2772aaea03f63012c4996f3ef
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 22:33:31
Message:
Fix distcheck failure: don't try to run python tests if python not available. #MsgLength=79


----
Modified: src/tests/run_cluster_tests|6 3

Revision: b60051d886669d98ded9ce19f8ca02ef63fd3207
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 22:50:32
Message:
Fix race in the test: wait for both brokers to be ready before killing one. #MsgLength=77


----
Modified: src/tests/ClusterFailover.cpp|1 0

Revision: 899c4d964243eac767439119e4c5c2b2b7426605
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 23:11:01
Message:
Changes to hopefully address a sporadic test failure. Couldn't reproduce so not sure. #MsgLength=87


----
Modified: src/tests/cluster_test.cpp|5 8

Revision: 8a3ae8a746c08c2dd58eeea719e68d2053be72d3
Author: Alan Conway <aconway@apache.org>
Date: 20/11/2009 23:57:10
Message:
Revert "Added getStoreDir() to MessageStore" #MsgLength=267


----
Modified: src/qpid/broker/MessageStore.h|0 2
Modified: src/qpid/broker/MessageStoreModule.cpp|0 2
Modified: src/qpid/broker/MessageStoreModule.h|0 1
Modified: src/qpid/broker/NullMessageStore.cpp|0 1
Modified: src/qpid/broker/NullMessageStore.h|0 2
Modified: src/tests/QueueTest.cpp|0 2

Revision: 30375a7aa27015e11394d74879589a4c421c748f
Author: Gordon Sim <gsim@apache.org>
Date: 21/11/2009 00:03:24
Message:
QPID-2212: disable spout/drain under cmake until windows build issues are resolved #MsgLength=83


----
Modified: examples/messaging/CMakeLists.txt|4 2

Revision: 4e177341de3ef77b0008cb2b3c666749e1b9a88c
Author: Gordon Sim <gsim@apache.org>
Date: 23/11/2009 19:20:18
Message:
QPID-664: Set subject in application headers when specified #MsgLength=60


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 25
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|16 0
Modified: src/qpid/client/amqp0_10/OutgoingMessage.h|2 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|1 0

Revision: 2d41a8c74eabe1420fea18373ad55ac42e1d694f
Author: Gordon Sim <gsim@apache.org>
Date: 23/11/2009 19:20:31
Message:
QPID-664: Use subject if specified as binding key when a map filter is specified #MsgLength=81


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|19 13

Revision: c3a4e5c63010193d9db6211762cd658b6c3ad981
Author: Gordon Sim <gsim@apache.org>
Date: 23/11/2009 20:50:58
Message:
QPID-664: Allow session to be specified as transactional; add basic test of transaction implementation. #MsgLength=104


----
Modified: include/qpid/messaging/Connection.h|3 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.h|2 1
Modified: src/qpid/messaging/Connection.cpp|6 1
Modified: src/qpid/messaging/ConnectionImpl.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|27 0

Revision: 39956bd774c87f1213d3d6007fb49747c5f78482
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2009 01:46:05
Message:
QPID-664: Added readme with some context and description of using the drain & spout examples to explore uses of the address syntax - (a work in progress!). #MsgLength=156


----
Added: examples/messaging/readme.txt|146 0

Revision: a05741ead3816c277b429676090bd2b7f4987ae5
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2009 02:10:08
Message:
QPID-664: Added a little bit of doc on connection options. #MsgLength=59


----
Modified: include/qpid/messaging/Connection.h|34 0

Revision: d5c6ac51c4ac0a34f815316068eaa0b2c06c199d
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2009 04:07:24
Message:
Support for restarting a persistent cluster. #MsgLength=328


----
Modified: include/qpid/framing/Uuid.h|3 1
Modified: src/cluster.mk|3 1
Modified: src/qpid/Plugin.cpp|16 2
Modified: src/qpid/Plugin.h|8 0
Modified: src/qpid/broker/Broker.cpp|9 14
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/cluster/Cluster.cpp|101 35
Modified: src/qpid/cluster/Cluster.h|11 7
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 0
Modified: src/qpid/cluster/Event.cpp|3 3
Modified: src/qpid/cluster/InitialStatusMap.cpp|32 20
Modified: src/qpid/cluster/InitialStatusMap.h|1 5
Modified: src/qpid/cluster/Multicaster.cpp|13 8
Modified: src/qpid/cluster/Multicaster.h|16 5
Added: src/qpid/cluster/StoreStatus.cpp|96 0
Added: src/qpid/cluster/StoreStatus.h|61 0
Modified: src/qpid/framing/Uuid.cpp|1 1
Modified: src/tests/InitialStatusMap.cpp|74 2
Added: src/tests/StoreStatus.cpp|109 0
Modified: src/tests/cluster.mk|2 1
Modified: src/tests/cluster_tests.py|53 52
Modified: src/tests/clustered_replication_test|3 3
Modified: src/tests/run_cluster_tests|0 1
Modified: xml/cluster.xml|17 5

Revision: 21bdb3367c58f9a26c961dfaf13ce1c19fb778a7
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2009 06:40:53
Message:
Added flow control to failover_test in cluster_tests.py. #MsgLength=58


----
Modified: src/tests/cluster_tests.py|2 2

Revision: 40133954752cf42796b8be909a1c1d0e031375b9
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2009 06:41:10
Message:
Verify stored cluster-id matches agreed cluster-id when joining a persistent cluster. #MsgLength=87


----
Modified: src/qpid/cluster/Cluster.cpp|28 20
Modified: src/qpid/cluster/Cluster.h|2 3
Modified: src/qpid/cluster/StoreStatus.cpp|15 15
Modified: src/qpid/cluster/StoreStatus.h|4 3
Modified: src/tests/InitialStatusMap.cpp|3 5
Modified: src/tests/StoreStatus.cpp|20 20
Modified: src/tests/cluster_tests.py|11 0
Modified: xml/cluster.xml|1 3

Revision: fe3b7ba03c9b35ed2da01e383c7c898756cc60fa
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/11/2009 09:18:49
Message:
Export the initOrder() method; fixes QPID-2217 #MsgLength=47


----
Modified: src/qpid/Plugin.h|1 1

Revision: f79c2813a7eafcc3be4f04790ff68ea720b86744
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/11/2009 15:07:09
Message:
Updated qpid version to 0.6 #MsgLength=28


----
Modified: configure.ac|1 1
Modified: src/qpid/Version.h|1 1

Revision: c8368be982b3cf72c4d174d64bd2a03fe519ece0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/11/2009 22:39:40
Message:
Fixed cluster build for recent cluster changes #MsgLength=47


----
Modified: src/cluster.cmake|2 0

Revision: 21204bb482c6daabc00651673ed5f8fd9f4639ef
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/11/2009 22:39:50
Message:
Change java and python package versions to 0.6 #MsgLength=47


----
Modified: src/cluster.cmake|1 1

Revision: 7fd81253bae2b238716f7d1dc1f0401ad9941815
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2009 22:42:15
Message:
Don't load from default module dir when generating man page. #MsgLength=62


----
Modified: docs/man/Makefile.am|1 1

Revision: 11887fd37663db14a62814e378388fb43c90e381
Author: Alan Conway <aconway@apache.org>
Date: 25/11/2009 22:55:56
Message:
Don't load modules from default module dir when running help2man. #MsgLength=67


----
Modified: docs/man/Makefile.am|1 1

Revision: a92ff900fec857cd092c7c2b05ce4f1a24ffb4ae
Author: Alan Conway <aconway@apache.org>
Date: 26/11/2009 02:36:09
Message:
Consistency checks for persistent cluster startup. #MsgLength=52


----
Modified: src/qpid/cluster/Cluster.cpp|12 21
Modified: src/qpid/cluster/Cluster.h|1 1
Modified: src/qpid/cluster/InitialStatusMap.cpp|38 2
Modified: src/qpid/cluster/InitialStatusMap.h|2 1
Modified: src/qpid/cluster/StoreStatus.cpp|0 2
Modified: src/qpid/cluster/StoreStatus.h|0 1
Modified: src/tests/cluster_tests.py|35 14
Modified: xml/cluster.xml|4 2

Revision: 3b69e94b3feee7f3bb751d8505c56f31e6873b6b
Author: Ted Ross <tross@apache.org>
Date: 26/11/2009 03:21:20
Message:
QPID-2219 - Example tests hang when run in a vpath build Verify scripts updated to operate in vpath builds. #MsgLength=109


----
Modified: examples/Makefile.am|2 1
Modified: examples/verify|25 6
Modified: examples/verify_all|3 2

Revision: 4016a118badfe46850ea0e810f5b5aaa40da7c0d
Author: Alan Conway <aconway@apache.org>
Date: 26/11/2009 23:56:46
Message:
Cluster consistency: check for no clean store condition. #MsgLength=58


----
Modified: src/qpid/cluster/Cluster.cpp|1 0
Modified: src/qpid/cluster/InitialStatusMap.cpp|34 24
Modified: src/qpid/cluster/StoreStatus.cpp|16 0
Modified: src/qpid/cluster/StoreStatus.h|3 0
Modified: src/tests/cluster_tests.py|15 2

Revision: dbadc1ac513f44af8f00381a830c357b782ea394
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/11/2009 14:21:49
Message:
Fix autotool dependency on installed libtool for running "make check" #MsgLength=70


----
Modified: src/tests/Makefile.am|1 0
Modified: src/tests/run_test|2 2

Revision: ca7ed909765fa30ad438c59db501ebd686b8e489
Author: Ted Ross <tross@apache.org>
Date: 30/11/2009 23:16:21
Message:
Simplified the normalize function (as suggested by aconway) to be compatible with older shells. #MsgLength=97


----
Modified: examples/verify|5 12

Revision: 40cb84e1bc9fdd236f0ccaae1afe4372e95c73b4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/12/2009 02:55:13
Message:
Rearranged chack for ruby so that we only need ruby if we need to generate code #MsgLength=80


----
Modified: configure.ac|1 2

Revision: b3d04896b13ed3ed77da5d06b41ef3f0740ce9c9
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2009 03:34:36
Message:
Clean up test environment variables, prepare for running more tests in cmake. #MsgLength=365


----
Modified: bootstrap|1 1
Modified: configure.ac|5 0
Modified: examples/verify|2 1
Modified: src/CMakeLists.txt|4 4
Modified: src/tests/CMakeLists.txt|13 2
Modified: src/tests/ClusterFailover.cpp|1 1
Modified: src/tests/Makefile.am|1 6
Modified: src/tests/PartialFailure.cpp|2 2
Modified: src/tests/ReplicationTest.cpp|2 1
Modified: src/tests/XmlClientSessionTest.cpp|2 5
Modified: src/tests/cluster_test.cpp|2 2
Modified: src/tests/clustered_replication_test|3 4
Modified: src/tests/federated_cluster_test|1 1
Modified: src/tests/federated_topic_test|1 1
Deleted: src/tests/python_env.sh|0 26
Modified: src/tests/python_tests|2 3
Modified: src/tests/reliable_replication_test|7 8
Modified: src/tests/replication_test|8 10
Modified: src/tests/run_acl_tests|5 5
Modified: src/tests/run_cli_tests|2 4
Modified: src/tests/run_cluster_tests|2 5
Modified: src/tests/run_failover_soak|3 2
Modified: src/tests/run_federation_tests|3 5
Modified: src/tests/run_header_test|2 3
Modified: src/tests/run_ring_queue_test|2 2
Modified: src/tests/run_test|9 5
Modified: src/tests/ssl_test|4 2
Modified: src/tests/start_cluster|2 1
Deleted: src/tests/test_env.sh|0 51
Added: src/tests/test_env.sh.in|76 0
Modified: src/tests/test_tools.h|7 2

Revision: 3a6262ad8fe746f5224ec2a09093e0c4728fae0d
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2009 05:47:17
Message:
Improved documentation for PlugIn::initOrder. #MsgLength=47


----
Modified: src/qpid/Plugin.h|4 2

Revision: 51fafbcf87195386528cbba789e4d506a4f7ae79
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2009 05:47:23
Message:
Remove env setting causing problems with failover-soak. #MsgLength=57


----
Modified: src/tests/test_env.sh.in|0 2

Revision: 720947611f9532688c47e95830015db23f3e52de
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/12/2009 07:11:27
Message:
Remove a hardwired reference to nss include directory to allow debian build #MsgLength=76


----
Modified: src/qpid/sys/ssl/check.cpp|2 2

Revision: 942128a605bf8607346ba0ad7234885f51cb43b5
Author: Alan Conway <aconway@apache.org>
Date: 01/12/2009 21:28:29
Message:
Fix problem with make distcheck - python tests not being skipped when python absent. #MsgLength=86


----
Modified: src/tests/python_tests|1 0
Modified: src/tests/test_env.sh.in|10 16

Revision: d336f20c152610eeef01dff2237372528f28aae6
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2009 03:04:40
Message:
Make cluster update work out of the box without special authentication options. #MsgLength=136


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 3
Modified: src/qpid/cluster/ClusterSettings.h|1 1

Revision: b39b4a671a61d40ce1c17c0d68b899db94a1f083
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/12/2009 10:28:31
Message:
Add comments to start(); resolves QPID-1899 #MsgLength=44


----
Modified: src/qpid/client/Sasl.h|17 1

Revision: 6d3af2362e92716f4549639c798f95aa7ea08311
Author: Ted Ross <tross@apache.org>
Date: 02/12/2009 12:21:05
Message:
Fixed intermittent hang seen in Qmf interop tests. #MsgLength=52


----
Modified: src/qmf/engine/ResilientConnection.cpp|1 1

Revision: dbcbef4c8c88b123e2a2ee6ad4a15c2c285d7729
Author: Alan Conway <aconway@apache.org>
Date: 03/12/2009 03:00:11
Message:
Run cluster tests under cmake. #MsgLength=309


----
Modified: src/CMakeLists.txt|5 5
Modified: src/cluster.cmake|6 3
Modified: src/tests/CMakeLists.txt|6 8
Added: src/tests/cluster.cmake|86 0
Modified: src/tests/clustered_replication_test|10 10
Modified: src/tests/federated_cluster_test|6 5
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/reliable_replication_test|5 10
Modified: src/tests/replication_test|10 10
Modified: src/tests/run_acl_tests|4 4
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_cluster_tests|2 3
Modified: src/tests/run_failover_soak|2 1
Modified: src/tests/run_federation_tests|2 2
Modified: src/tests/ssl_test|3 4
Modified: src/tests/start_cluster|1 1
Modified: src/tests/start_cluster_hosts|1 1
Modified: src/tests/stop_broker|1 1
Modified: src/tests/stop_cluster|1 1
Modified: src/tests/test_env.sh.in|14 14
Modified: src/tests/test_watchdog|22 3
Modified: src/tests/testlib.py|2 2

Revision: 4aafad3498b4a83ecb3511c5d5739b312c96c1e4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/12/2009 21:35:39
Message:
QPID-2227 C++ "make dist" is missing cluster.cmake and has unneeded test_env.sh #MsgLength=80


----
Modified: src/tests/Makefile.am|1 1

Revision: 9f7f4c799189b2ea8aefe0bb1420563672d733b0
Author: Alan Conway <aconway@apache.org>
Date: 04/12/2009 04:11:11
Message:
QPID-2231: Cluster + store fails with default data-directory #MsgLength=408


----
Modified: src/qpid/cluster/StoreStatus.cpp|7 7

Revision: 30009094c673cfc8a8c78d6ae7a5dcf4e57ff7e5
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/12/2009 10:26:16
Message:
Fix build errors in test_store; resolves QPID-2229 #MsgLength=51


----
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/test_store.cpp|4 5

Revision: bdce2d816a4da3c32e7678de6813fcf9810ca54c
Author: Ted Ross <tross@apache.org>
Date: 05/12/2009 02:59:29
Message:
QPID-2246 - QMF - Querying objects using a selector of type ObjectId yields incorrect results #MsgLength=95


----
Modified: bindings/qmf/python/qmf.py|1 4
Modified: bindings/qmf/ruby/qmf.rb|1 2
Modified: bindings/qmf/tests/agent_ruby.rb|2 2
Modified: bindings/qmf/tests/python_console.py|15 0
Modified: bindings/qmf/tests/ruby_console_test.rb|14 2
Modified: src/qmf/engine/ObjectIdImpl.cpp|41 10
Modified: src/qmf/engine/ObjectIdImpl.h|8 8

Revision: d6419e6724ed6b4d1258e59ade554bf187f438a3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/12/2009 23:42:14
Message:
QPID-2214: Opening and closing client connections causes memory use to grow unboundedly - Clean up the DeletionManager state for each thread when the thread exits #MsgLength=163


----
Modified: src/qpid/sys/DeletionManager.h|34 6
Modified: src/qpid/sys/epoll/EpollPoller.cpp|29 21

Revision: d40e9d8fb121e7dc827912c9c2c925497cfb2e19
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/12/2009 08:18:38
Message:
Correct typo in diagnostic message. #MsgLength=36


----
Modified: src/tests/python_tests.ps1|1 1

Revision: 81cbe933fd8ff91b5d42bb47fc7f2dd1e406a35a
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/12/2009 09:29:40
Message:
Set up python test list correctly and get the correct exit code from a test process; resolves QPID-2252 #MsgLength=104


----
Modified: src/tests/python_tests.ps1|1 1
Modified: src/tests/run_test.ps1|2 1

Revision: 1592bec3b05ec329ee98c937b1ef4de4789cfe19
Author: Alan Conway <aconway@apache.org>
Date: 10/12/2009 00:58:51
Message:
QPID-2253 -  Cluster node shuts down with inconsistent error. #MsgLength=323


----
Modified: src/qpid/cluster/Cluster.cpp|4 5

Revision: bb2f4845528ee6ada5790da491340be14a7b51dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/12/2009 11:29:29
Message:
QPID-2256: Removed an unnecessary lock that was causing deadlock due to lock inversion #MsgLength=87


----
Modified: src/qpid/sys/DeletionManager.h|0 4

Revision: c7c5206d28ab04be211ec0a890a874713b769653
Author: Gordon Sim <gsim@apache.org>
Date: 10/12/2009 19:45:59
Message:
QPID-2216: correct option name in log message for ssl plugin. #MsgLength=62


----
Modified: src/qpid/sys/SslPlugin.cpp|1 1

Revision: f0bd2ae9a32ab31a5afb6de9a671253186e5899a
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2009 02:40:37
Message:
QPID-2236: cmake link error, missing boost.system library. #MsgLength=166


----
Modified: src/CMakeLists.txt|9 1
Modified: src/cluster.cmake|1 1
Modified: src/tests/cluster.cmake|1 1

Revision: 17f1ac3e5e08dff14c73082c0caca4a1fb5ff6dd
Author: Ted Ross <tross@apache.org>
Date: 11/12/2009 21:52:48
Message:
QPID-2245 QMF protocol changes will make 0.6 incompatible with 0.5 #MsgLength=68


----
Modified: include/qpid/framing/FieldTable.h|0 4
Modified: managementgen/qmfgen/management-types.xml|1 1
Modified: managementgen/qmfgen/templates/Class.cpp|0 1
Modified: src/qmf/engine/Protocol.cpp|2 2
Modified: src/qmf/engine/SchemaImpl.cpp|1 2
Modified: src/qmf/engine/ValueImpl.cpp|0 2
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 2
Modified: src/qpid/console/Broker.cpp|2 2
Modified: src/qpid/console/Schema.cpp|1 1
Modified: src/qpid/console/Value.cpp|1 1
Modified: src/qpid/framing/FieldTable.cpp|0 134
Modified: src/qpid/management/ManagementAgent.cpp|3 3

Revision: 6f2a5e7d44045842884ec74e6882dd04dcbd3d31
Author: Michael Goulish <mgoulish@apache.org>
Date: 11/12/2009 23:29:00
Message:
Add retry capability to several cpg calls. First retry is immediate, next one after 10 usec, then 100 usec, etc ... for 5 retries. Retry pause maxes out at 0.1 second. Then give up and report error. #MsgLength=342


----
Modified: src/qpid/cluster/Cpg.cpp|32 3
Modified: src/qpid/cluster/Cpg.h|64 0

Revision: 1cf706d968601761ebe490225bbdbcc053ec75d5
Author: Gordon Sim <gsim@apache.org>
Date: 12/12/2009 02:00:39
Message:
QPID-2087: Some amplification of doxygen for SubscriptionSettings #MsgLength=66


----
Modified: include/qpid/client/SubscriptionSettings.h|35 4

Revision: dddb18d897d97cbd899990ba7d7339c30a69126c
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2009 04:55:45
Message:
QPID-2266:  error sending update: Enqueue capacity threshold exceeded #MsgLength=249


----
Modified: src/cluster.cmake|1 0
Modified: src/cluster.mk|1 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|5 0
Modified: src/qpid/broker/Message.cpp|0 15
Modified: src/qpid/broker/Message.h|4 4
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|2 0
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 1
Modified: src/qpid/cluster/UpdateClient.cpp|4 3
Added: src/qpid/cluster/UpdateExchange.cpp|47 0
Modified: src/qpid/cluster/UpdateExchange.h|4 4
Modified: src/qpid/framing/FrameSet.cpp|5 0
Modified: src/qpid/framing/FrameSet.h|6 0
Modified: src/tests/cluster_tests.py|28 0
Modified: src/tests/test_store.cpp|32 5

Revision: b676160a82f3549caeda9921e05f00c91a7c43c9
Author: Gordon Sim <gsim@apache.org>
Date: 14/12/2009 17:04:38
Message:
Corrected setting of auto-delete in client-server example; configured server address to create queue if needed. #MsgLength=112


----
Modified: examples/messaging/client.cpp|1 1
Modified: examples/messaging/server.cpp|1 1

Revision: 14c94153ab1a75227efb172165d87f6ae40076fb
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/12/2009 02:16:58
Message:
Only search for boost.system if the discovered Boost version is 1.35 or greater; fixes QPID-2202 #MsgLength=97


----
Modified: src/CMakeLists.txt|12 6

Revision: c5ff2589ba2e565da0128d460b1c879ef0431c17
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/12/2009 04:47:24
Message:
Don't explicitly name Boost libs in Windows link; fixes QPID-2271 #MsgLength=66


----
Modified: examples/CMakeLists.txt|6 1

Revision: 8fdcdd33c8a5946567f2d1acbf57f32506ad95cd
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/12/2009 04:58:12
Message:
Fix compile warnings; resolve QPID-2272 #MsgLength=40


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|2 2
Modified: src/qpid/client/amqp0_10/AddressResolution.h|1 1

Revision: f9cb09caa72a78dd9cd3eb26ff50cbc23f334a92
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/12/2009 05:16:30
Message:
Move the TCPConnector class to its own file to allow deriving from it; resolves QPID-2270. #MsgLength=91


----
Modified: src/CMakeLists.txt|13 4
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/Connector.cpp|1 352
Added: src/qpid/client/TCPConnector.cpp|327 0
Added: src/qpid/client/TCPConnector.h|117 0

Revision: fc01d2c6142a22de1e51d3b33c606c867709a742
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/12/2009 05:33:16
Message:
Remove stray comma; resolving QPID-2202 #MsgLength=40


----
Modified: src/CMakeLists.txt|1 1

Revision: f17d14dde334924a094b537da62cb2a8aa9c4882
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2009 16:23:19
Message:
QPID-2212: revert previous attempt at fix; disable on windows only #MsgLength=67


----
Modified: examples/messaging/CMakeLists.txt|6 4
Renamed: include/qpid/sys/ExceptionHolder.h [from src/qpid/sys/ExceptionHolder.h]|0 1
Modified: src/Makefile.am|1 1

Revision: 7eebbae822a0ca1b6de182742dad585fce17ed34
Author: Gordon Sim <gsim@apache.org>
Date: 15/12/2009 17:50:30
Message:
QPID-2089: Dequeue on acquire for accept mode NONE #MsgLength=51


----
Modified: src/qpid/broker/DeliveryRecord.cpp|5 1
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: 6f3c54950916eecc153e379c3712451c02acedc7
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/12/2009 01:07:13
Message:
The spout/drain examples have qpid::Options usage which inlines the boost::program_options usage. This requires linking boost_program_options in the examples, not via qpidcommon. Adjust the Windows options to handle this. Resolves QPID-2212. #MsgLength=242


----
Modified: examples/CMakeLists.txt|1 3
Modified: examples/messaging/CMakeLists.txt|4 6

Revision: c8ba9bea7efe06e994c4737278edce323d7e31f0
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/12/2009 01:40:07
Message:
Fix the check for boost system; prev one broke Windows config. Instead of trying to find_library, run the Find_Boost again for just the system component when needed. Resolving QPID-2202. #MsgLength=187


----
Modified: src/CMakeLists.txt|3 2

Revision: 23b33570226e7ccf64dbf3d6122b7e86eb881a10
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/12/2009 02:24:02
Message:
QPID-1951: Removed need for Windows versions of ssize_t and pid_t - Trivially removed Windows uses of ssize_t - Rearchitected how the Windows port finds an existing qpidd to stop it - Split Posix Lockfile functionality using pids into a new PidFile class #MsgLength=255


----
Modified: include/qpid/sys/windows/IntegerTypes.h|0 4
Modified: src/Makefile.am|1 0
Modified: src/qpid/DataDir.cpp|1 0
Modified: src/qpid/DataDir.h|4 1
Modified: src/qpid/broker/Daemon.cpp|10 4
Modified: src/qpid/sys/LockFile.h|6 23
Modified: src/qpid/sys/posix/LockFile.cpp|30 12
Added: src/qpid/sys/posix/PidFile.h|62 0
Modified: src/qpid/sys/windows/LockFile.cpp|0 25
Modified: src/tests/SocketProxy.h|2 2
Modified: src/windows/QpiddBroker.cpp|119 72

Revision: 07e0f2c4d540f7960711edbe168791bc81d06b6a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/12/2009 04:07:25
Message:
Fix for QPID-2278 - "Store recovery compatibility problem introduced by alternate-exchange fix" #MsgLength=96


----
Modified: src/qpid/broker/Exchange.cpp|4 2

Revision: 6e29f6f07fad0fafc23c6a22b38d72aac91aae65
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/12/2009 05:29:32
Message:
QPID-2279: Removal of unused "using qpid::messaging::filter" #MsgLength=61


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|0 1
Modified: src/qpid/client/amqp0_10/AddressResolution.h|0 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|0 1

Revision: 5aedd6fa8e456fb12e018e1efbf1351a4c61b65d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/12/2009 07:02:29
Message:
QPID-2281: LockFile class now actually locks the file! [before it just opened the file without locking it] #MsgLength=107


----
Modified: src/qpid/sys/windows/LockFile.cpp|8 3

Revision: 4bbc24792c80b158444f9160a3046d5391504a3d
Author: Gordon Sim <gsim@apache.org>
Date: 16/12/2009 19:28:58
Message:
QPID-2278: Encode alternate exchange information at the end of the buffer for backward compatibility with stores created from older versions #MsgLength=141


----
Modified: src/qpid/broker/Queue.cpp|6 4

Revision: 0fb9b0ef2ab37333e343a69eb3f412c16a20fc40
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/12/2009 21:01:55
Message:
Update to c++ INSTALL file #MsgLength=27


----
Modified: INSTALL|6 0

Revision: 737979e81d4e3531fdcecbe94df303a5b22b9953
Author: Alan Conway <aconway@apache.org>
Date: 16/12/2009 21:40:59
Message:
test_watchdog: trivial test fix, check exit status of qpidd. #MsgLength=62


----
Modified: src/tests/test_watchdog|2 2

Revision: f6fcda6b5f90d824de74d1382abf33296dfb3824
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/12/2009 02:22:11
Message:
Added methods to set the message redelivered flag upon recovery #MsgLength=64


----
Modified: src/qpid/broker/RecoverableMessage.h|1 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|6 0

Revision: 36035e88a72c9cc265c9e99275d81a0699cab50f
Author: Alan Conway <aconway@apache.org>
Date: 17/12/2009 03:31:20
Message:
QPID-2282: test_watchdog failing due to incorrect use of env. vars #MsgLength=67


----
Modified: src/qpid/cluster/WatchDogPlugin.cpp|1 1
Modified: src/tests/test_watchdog|1 0

Revision: b255928c81e267dff0dfeabb229a121fd11fdf64
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2009 19:14:57
Message:
QPID-2289: Fixed copy constructor in qpid::messaging::Message, added in equality operator for qpid::messaging::Variant #MsgLength=119


----
Modified: include/qpid/messaging/Variant.h|3 0
Modified: src/qpid/messaging/Message.cpp|1 1
Modified: src/qpid/messaging/Variant.cpp|54 3
Modified: src/tests/CMakeLists.txt|1 0
Added: src/tests/ClientMessage.cpp|46 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/Variant.cpp|16 0

Revision: 8b8c2c43ca3dca0ab513ac86b953c7c599cd06db
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/12/2009 00:03:54
Message:
Apply patches QPID-2128-2.patch, cppbld.patch and interop.tx.patch; resolves QPID-2128. #MsgLength=88


----
Modified: src/CMakeLists.txt|9 0

Revision: ff9f594a31f610113b8e9e19a137e2d4e8c8719d
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2009 04:45:07
Message:
QPID-2293:  MessageReplyTracker loses messages if an exception is thrown during replay #MsgLength=88


----
Modified: src/qpid/client/MessageReplayTracker.cpp|1 3

Revision: 1454de1ed39c4f7ad74d7227f4736e417959ff35
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/12/2009 06:01:04
Message:
QPID-2210: Rework SocketAddress class to have correct value semantics under copying #MsgLength=84


----
Modified: src/qpid/sys/SocketAddress.h|3 1
Modified: src/qpid/sys/posix/SocketAddress.cpp|41 15

Revision: 6dd41f12f3e61e0323a0512c73bc2f620308c4b5
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 18/12/2009 11:52:58
Message:
This is a fix for QPID-2290 and the proper fix for QPID-2175 If the client doesn't add a domain to the userID supplied in the message, the broker will add the default realm before performing the userID check. #MsgLength=210


----
Modified: src/qpid/broker/SemanticState.cpp|4 3
Modified: src/qpid/broker/SemanticState.h|1 0

Revision: b807e8efaeb430a0d4e2b364b08a6bd85b7b7b8e
Author: Alan Conway <aconway@apache.org>
Date: 22/12/2009 22:22:17
Message:
QPID-2296: Cluster errors when using acquire-mode-not-acquired #MsgLength=123


----
Modified: src/qpid/cluster/Connection.cpp|2 1
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|2 1
Modified: src/tests/cluster_test.cpp|37 0
Modified: xml/cluster.xml|1 0

Revision: 94dda59345db6cb34e250f4cf9d34108db51f41f
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/01/2010 01:22:00
Message:
When installing WCF DLLs on Windows, install the Release ones, not Debug. Resolves QPID-2260. #MsgLength=94


----
Modified: CMakeLists.txt|2 2

Revision: 54ca8c2427f5894b7a9950a539f90c3dde9f786c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/01/2010 05:18:24
Message:
Upped qpid version to 0.7 for next development cycle #MsgLength=53


----
Modified: configure.ac|1 1
Modified: src/qpid/Version.h|1 1

Revision: 952f7efb8380ddd3e141a237a5142b8fcafafce6
Author: Ted Ross <tross@apache.org>
Date: 06/01/2010 03:45:28
Message:
Added handling of MAP values for the wrapped QMF interfaces. #MsgLength=62


----
Modified: bindings/qmf/python/qmf.py|117 117
Modified: bindings/qmf/ruby/qmf.rb|111 77
Modified: bindings/qmf/ruby/ruby.i|1 1
Modified: bindings/qmf/tests/agent_ruby.rb|26 1
Modified: bindings/qmf/tests/python_agent.py|45 1
Modified: bindings/qmf/tests/ruby_console_test.rb|38 0
Modified: bindings/qmf/tests/run_interop_tests|12 0
Modified: include/qpid/framing/FieldValue.h|1 1
Modified: src/qmf/engine/ValueImpl.cpp|115 5
Modified: src/qmf/engine/ValueImpl.h|10 0
Modified: src/qpid/framing/FieldValue.cpp|1 1

Revision: 51e4c8f06132f5616b191fa8abd7b834035d11a8
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 05:53:37
Message:
Add header.html and footer.html to dist files; resolves QPID-2302 #MsgLength=66


----
Modified: docs/api/Makefile.am|2 1

Revision: cbf56b36c9dd5ead3c76eb1e4a9a38e1baf6dde9
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:01:49
Message:
Remove old vcproj files not in use any longer; resolves QPID-2301 #MsgLength=66


----
Modified: examples/messaging/Makefile.am|0 2

Revision: 1ac2792d7f5b8e9978cd41a930b554371eb7e116
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:06:29
Message:
Add vcproj files for messaging/drain and messaging/spout; resolves QPID-2299 #MsgLength=77


----
Modified: examples/examples.sln|38 51
Modified: examples/messaging/Makefile.am|2 0
Renamed: examples/messaging/messaging_drain.vcproj [from examples/messaging/messaging_queue_listener.vcproj]|28 65
Renamed: examples/messaging/messaging_spout.vcproj [from examples/messaging/messaging_topic_listener.vcproj]|29 65

Revision: c1ad2957d7a0f4edc6a22a1cee0516207e4d88a0
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:20:15
Message:
Add qpid/cpp/packaging/NSIS files to dist; resolves QPID-2300 #MsgLength=62


----
Modified: Makefile.am|2 1
Added: packaging/NSIS/Makefile.am|21 0

Revision: c1130bf964ef5411448d59a987c55addfd925955
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:26:30
Message:
React properly to generated headers being in the source dir as opposed to build dir; resolves QPID-2298. #MsgLength=105


----
Modified: src/CMakeLists.txt|10 1

Revision: 6b4c8b336795710a044574d028cc6899c770e0d8
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:28:34
Message:
Add qpidxarm.dll to the installer; resolves QPID-2284. #MsgLength=55


----
Modified: src/CMakeLists.txt|3 0

Revision: 48b5812aa1466bfdf1e86826f99edf20d124054c
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/01/2010 06:38:12
Message:
BodyHolder.cpp, .h removed. 0 bytes and no references to either one. Resolves QPID-2213. #MsgLength=89


----
Deleted: src/qpid/framing/BodyHolder.cpp|0 0
Deleted: src/qpid/framing/BodyHolder.h|0 0

Revision: 8739a31531322781326ecaf1200c72c4b5bd745f
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:00:34
Message:
Install useful tests. #MsgLength=23


----
Modified: src/tests/Makefile.am|21 20

Revision: 5f7a06296904eefc9a6f816197c7caf070cd1313
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:00:57
Message:
Don't hold up broker initialization for cluster initialization. #MsgLength=65


----
Modified: src/qpid/cluster/Cluster.cpp|8 32
Modified: src/qpid/cluster/Multicaster.cpp|2 9
Modified: src/qpid/cluster/PollableQueue.h|1 1
Modified: src/tests/cluster_tests.py|16 9

Revision: 8436568f35ec8229c2cb7b5ca4e82d6ec672b401
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:01:12
Message:
Exception handling for URL parsing in cluster. #MsgLength=48


----
Modified: src/qpid/cluster/Cluster.cpp|9 5
Modified: src/qpid/cluster/ClusterMap.cpp|7 3

Revision: 67a2e273ea340b4e2a9b7e83fcec966a3c46287a
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:01:50
Message:
    Added config-seq counter to track config changes since cluster init. #MsgLength=182


----
Modified: src/qpid/cluster/Cluster.cpp|19 22
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/ClusterMap.cpp|9 4
Modified: src/qpid/cluster/ClusterMap.h|6 3
Modified: src/qpid/cluster/Connection.cpp|5 2
Modified: src/qpid/cluster/Connection.h|3 1
Modified: src/qpid/cluster/InitialStatusMap.cpp|6 2
Modified: src/qpid/cluster/StoreStatus.cpp|53 20
Modified: src/qpid/cluster/StoreStatus.h|6 0
Modified: src/tests/InitialStatusMap.cpp|3 4
Modified: src/tests/cluster_tests.py|24 1
Modified: xml/cluster.xml|2 0

Revision: 4116c8fac30bf9dc0743208e5906cb40d4a4b566
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:02:11
Message:
Minor cluster test fixes. #MsgLength=27


----
Modified: src/tests/cluster_tests.py|2 2
Modified: src/tests/run_cluster_tests|0 1

Revision: 8d9f0c146c464366fba8730b3a54d206a3bbfbb7
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:02:32
Message:
Revert "Make cluster update work out of the box without special authentication options." #MsgLength=120


----
Modified: src/qpid/cluster/ClusterPlugin.cpp|3 3
Modified: src/qpid/cluster/ClusterSettings.h|1 1

Revision: 5550b4352c4ba426a519b0d41e140c79754b8e69
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 01:02:49
Message:
Fix error in cluster_tests.py #MsgLength=31


----
Modified: src/tests/cluster_tests.py|2 2

Revision: fc088c505ba04af2e7950a43d365081850f91db5
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 02:49:52
Message:
Fix uninitialized read error in cluster::StoreStatus. #MsgLength=55


----
Modified: src/qpid/cluster/StoreStatus.cpp|22 7

Revision: 3b774065bbb5279d54565bcbd114f8dc91a14072
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2010 04:44:54
Message:
Make cluster::StoreStatus::load/save no-ops if broker has no data-dir. #MsgLength=72


----
Modified: src/qpid/cluster/StoreStatus.cpp|2 0

Revision: 541bfec87be7101f1c1bec2691c22f9eb6bf90d4
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 07/01/2010 05:48:42
Message:
fix & test QPID-2320 #MsgLength=21


----
Modified: src/qpid/broker/Queue.cpp|5 6
Modified: src/tests/QueueTest.cpp|5 0

Revision: e510224e9dd803692a38068da6901f20869cc83f
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2010 00:24:35
Message:
StoreStatus tests clean up temporary directory properly. #MsgLength=58


----
Modified: src/tests/StoreStatus.cpp|16 10

Revision: feca54d9971db639422ab2ff15ab38e56d3f2c8a
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2010 02:49:12
Message:
Add cluster watchdog plugin to cmake build. #MsgLength=45


----
Modified: BuildInstallSettings.cmake|2 0
Modified: src/cluster.cmake|5 0
Modified: src/config.h.cmake|2 0
Modified: src/qpid/cluster/WatchDogPlugin.cpp|2 1

Revision: f10ecb7ebb91dffaf09aeb93d423c1864b8c35c8
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2010 03:24:31
Message:
Fix problem in automake build introduced by r896959. #MsgLength=54


----
Modified: src/Makefile.am|1 1

Revision: 8043536b2be3f301fb389dc9efc41d20d1171150
Author: Ted Ross <tross@apache.org>
Date: 08/01/2010 04:32:09
Message:
QPID-2327 - Enhance qpid-config to deal with xml and headers brokers Committed patch from John Dunning #MsgLength=104


----
Modified: src/tests/cli_tests.py|110 0
Modified: src/tests/run_cli_tests|32 3
Added: src/tests/test.xquery|6 0

Revision: 2de683da0fea472d966bb23b780efc173c2fe146
Author: Alan Conway <aconway@apache.org>
Date: 12/01/2010 01:23:18
Message:
Fix broker crash "confirmed N but only sent M" with managed agents running. #MsgLength=486


----
Modified: include/qpid/framing/Buffer.h|1 2
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|10 0
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|12 1
Modified: src/qpid/management/ManagementAgent.cpp|76 12
Modified: src/qpid/management/ManagementAgent.h|21 7
Modified: xml/cluster.xml|5 0

Revision: c61027ebdd99803eb64328b91de238b230633022
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 12/01/2010 03:20:34
Message:
This is a fix for QPID-2297 #MsgLength=29


----
Modified: src/qpid/acl/AclReader.cpp|1 1
Modified: src/tests/acl.py|3 2

Revision: 9e14c482fde0bf64ccd1c950246617f75dec69ab
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 12/01/2010 03:26:11
Message:
This further improves the fix made at rev 19819 in Qpid trunk for QPID-2175 The check is now done without creating any new strings to avoid extra allocations. #MsgLength=160


----
Modified: src/qpid/broker/SemanticState.cpp|4 3
Modified: src/qpid/broker/SemanticState.h|2 1

Revision: d7296730fe320c4f6e49da2f174b7faaff673bc4
Author: Gordon Sim <gsim@apache.org>
Date: 12/01/2010 20:02:38
Message:
QPID-664: Added some of the missing standard message headers. Added two new test utilities for sending and receiving with the new API (both still works in progress). #MsgLength=166


----
Modified: examples/messaging/readme.txt|2 0
Modified: include/qpid/messaging/Message.h|17 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|13 3
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|9 3
Modified: src/qpid/messaging/Message.cpp|17 0
Modified: src/qpid/messaging/MessageImpl.cpp|12 2
Modified: src/qpid/messaging/MessageImpl.h|6 0
Modified: src/tests/Makefile.am|14 0
Added: src/tests/qpid_recv.cpp|206 0
Added: src/tests/qpid_send.cpp|208 0

Revision: f08eec62876f0f4588c92e378bc2a9b00a420e25
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/01/2010 05:16:46
Message:
Explicitly name qpid::framing::Buffer instead of framing::Buffer; resolves compile errors on Windows. #MsgLength=102


----
Modified: src/qpid/management/ManagementAgent.cpp|5 5

Revision: a8f784466f35ead064a2fc0054730620c5fcedf8
Author: Ted Ross <tross@apache.org>
Date: 13/01/2010 19:57:19
Message:
Added raise_event support to the Ruby and Python wrapped agent APIs. #MsgLength=70


----
Modified: bindings/qmf/python/qmf.py|104 5
Modified: bindings/qmf/qmfengine.i|1 0
Modified: bindings/qmf/ruby/qmf.rb|90 4
Modified: bindings/qmf/tests/agent_ruby.rb|31 1
Modified: bindings/qmf/tests/python_agent.py|31 0
Modified: bindings/qmf/tests/python_console.py|38 0
Modified: include/qmf/engine/Event.h|17 0
Modified: include/qmf/engine/Schema.h|3 1
Modified: include/qmf/engine/Value.h|1 0
Modified: src/qmf.mk|2 0
Modified: src/qmf/engine/Agent.cpp|12 1
Added: src/qmf/engine/EventImpl.cpp|106 0
Added: src/qmf/engine/EventImpl.h|53 0
Modified: src/qmf/engine/ResilientConnection.cpp|14 5
Modified: src/qmf/engine/SchemaImpl.cpp|2 2
Modified: src/qmf/engine/SchemaImpl.h|4 2

Revision: f414704003cef33a27c8702349446795e127fa83
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2010 02:55:46
Message:
Removed dead code: OutputTask::hasOutput and Queue::checkForMessages. #MsgLength=71


----
Modified: src/qpid/broker/Connection.cpp|0 2
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/Queue.cpp|0 26
Modified: src/qpid/broker/Queue.h|0 7
Modified: src/qpid/broker/SemanticState.cpp|0 4
Modified: src/qpid/broker/SemanticState.h|0 1
Modified: src/qpid/cluster/Connection.h|0 1
Modified: src/qpid/cluster/ProxyInputHandler.h|0 1
Modified: src/qpid/sys/AggregateOutput.cpp|0 5
Modified: src/qpid/sys/AggregateOutput.h|0 1
Modified: src/qpid/sys/OutputTask.h|0 7

Revision: 9f0bb36332a4b56267b78763ea658fd3deb6ba6f
Author: Gordon Sim <gsim@apache.org>
Date: 15/01/2010 23:17:01
Message:
QPID-2323: add a Uuid type and allow it as the value of a Variant. #MsgLength=67


----
Modified: examples/messaging/map_sender.cpp|1 0
Modified: examples/messaging/spout.cpp|0 2
Modified: include/qpid/framing/FieldValue.h|16 0
Added: include/qpid/messaging/Uuid.h|93 0
Modified: include/qpid/messaging/Variant.h|7 1
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/amqp0_10/Codecs.cpp|23 15
Modified: src/qpid/framing/FieldValue.cpp|3 0
Added: src/qpid/messaging/Uuid.cpp|140 0
Modified: src/qpid/messaging/Variant.cpp|28 0
Modified: src/qpid/sys/windows/uuid.cpp|3 0
Modified: src/qpid/sys/windows/uuid.h|1 0
Modified: src/tests/CMakeLists.txt|10 0
Modified: src/tests/Uuid.cpp|29 0
Modified: src/tests/Variant.cpp|6 1

Revision: 4da591ae08be9634a6545a58999b0dc0ef49e7cc
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2010 18:45:20
Message:
Alter type of array index variable #MsgLength=35


----
Modified: include/qpid/framing/FieldValue.h|2 2

Revision: c0a2486cc7b7be8af04beeef45cc1d05b74b36f0
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2010 00:28:17
Message:
QPID-2295: Clustered + persistent broker crashes with inconsistency error. #MsgLength=350


----
Modified: src/qpid/broker/PersistableMessage.cpp|1 9
Modified: src/qpid/broker/PersistableQueue.h|0 10
Modified: src/qpid/broker/Queue.cpp|0 10
Modified: src/qpid/broker/Queue.h|0 1

Revision: 931c9178212b88821d6f20d6a850bb8b067d0dc5
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/01/2010 01:42:05
Message:
Applied John Dunning's patch from https://issues.apache.org/jira/browse/QPID-2335. #MsgLength=145


----
Modified: src/qpid/xml/XmlExchange.cpp|3 2
Modified: src/qpid/xml/XmlExchange.h|5 2

Revision: 5f38c7728735cc195f3c9661542696f6919c46c5
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/01/2010 02:07:04
Message:
Commiting John Dunning's revisions to the XML client session test. #MsgLength=68


----
Modified: src/tests/XmlClientSessionTest.cpp|2 1

Revision: 55b9a9d7e8e8bdf946e5569af7f3f8a223c4058c
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/01/2010 02:42:52
Message:
Deleting vestigial header file. #MsgLength=33


----
Deleted: src/qpid/xml/XmlBinding.h|0 37

Revision: 13d41efa66fbb54dac696d321aec5d2c5d35cd66
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/01/2010 06:40:15
Message:
Correct new uuid methods for Windows, add QPID_CLIENT_EXTERN where needed. #MsgLength=75


----
Modified: src/qpid/sys/windows/uuid.cpp|2 1
Modified: src/qpid/sys/windows/uuid.h|1 1

Revision: 51497ce46afdceac1b9cfd79518b9b5d6a6e12aa
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2010 16:29:24
Message:
QPID-2335: Set the timeout used when waiting for a message to be 1 second which I assume was the original intention. #MsgLength=117


----
Modified: src/tests/XmlClientSessionTest.cpp|1 1

Revision: d9e477bd83394be61febd92d9dbea48830a67dd5
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2010 00:13:06
Message:
Fix intermittent test error: cluster_test.cpp(1108): error in "testRelease": check browse(c3, "q", 5) == expected failed [ != m_1 m_2 m_3 m_4 m_5 ] #MsgLength=654


----
Modified: src/tests/cluster_test.cpp|1 0

Revision: 3f38cce9fd99c2c087f6cb09e1841849b2f69e32
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2010 01:37:18
Message:
Removed dead code - cluster::Connection::left() #MsgLength=49


----
Modified: src/qpid/cluster/Connection.cpp|0 6
Modified: src/qpid/cluster/Connection.h|0 3

Revision: 65adc21364174fc4f9d82503661615b567d0666a
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/01/2010 02:17:28
Message:
Apply QPID_CLIENT_EXTERN where needed; should have been in with r900592. Fixes QPID-2344. #MsgLength=90


----
Modified: include/qpid/messaging/Uuid.h|9 8

Revision: 7f62a5de6f5d9ccac7e66eabe8d331105455d8bd
Author: Gordon Sim <gsim@apache.org>
Date: 20/01/2010 20:17:34
Message:
QPID-664: added support for testing transactions to qpid-send and qpid-recv, fixed bug in rollback. #MsgLength=100


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/tests/qpid_recv.cpp|32 24
Modified: src/tests/qpid_send.cpp|29 2

Revision: c2238532ce684c601d6382fdfeaf7b3f36829f87
Author: Gordon Sim <gsim@apache.org>
Date: 20/01/2010 23:54:59
Message:
Provide access to a sessions connection. #MsgLength=41


----
Modified: include/qpid/client/SessionBase_0_10.h|2 0
Modified: src/qpid/client/ConnectionAccess.h|1 0
Modified: src/qpid/client/SessionBase_0_10.cpp|8 0
Modified: src/tests/ClientSessionTest.cpp|22 0

Revision: 538726f9348ea476c00d8bc20d571c54b3ddc1cd
Author: Alan Conway <aconway@apache.org>
Date: 21/01/2010 01:07:54
Message:
Cluster-safe assertions. #MsgLength=206


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|13 2
Modified: src/qpid/broker/SemanticState.cpp|18 1
Modified: src/qpid/cluster/Cluster.cpp|6 0
Added: src/qpid/sys/ClusterSafe.cpp|47 0
Added: src/qpid/sys/ClusterSafe.h|60 0

Revision: b64e462cbb66883604234b6e311adfe983665471
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:11:59
Message:
Fixed "Cluster-safe assertions" not to break the build (CMake) #MsgLength=63


----
Modified: src/CMakeLists.txt|1 0

Revision: cee5b798417d3e410f3245eda983e957f19b733c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:13:19
Message:
Log detailed error if unexpected socket write error (don't throw anymore) #MsgLength=74


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|4 1

Revision: b7efea1829fd0f47285f3f40d401e6664e5bab8f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:14:00
Message:
Made the getSSF() member functions of Connectors private as they can't be used from outside the connector anyway except via the virtual in the parent class. #MsgLength=157


----
Modified: src/qpid/client/RdmaConnector.cpp|1 1
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/client/TCPConnector.h|1 1

Revision: 66c642071079b5f9b47fdf13b543d3d959e2d6d9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:15:06
Message:
Split out AsynchConnecter::start from constructor (like other AsynchIO classes) #MsgLength=80


----
Modified: src/qpid/client/TCPConnector.cpp|2 1
Modified: src/qpid/sys/AsynchIO.h|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|9 8
Modified: src/qpid/sys/posix/AsynchIO.cpp|11 8
Modified: src/qpid/sys/windows/AsynchIO.cpp|13 6

Revision: 85ae703b07c24358568f96aff0d4ed82f1ab0a31
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:15:40
Message:
Small refactor of AsynchConnector to have a more regular structure #MsgLength=67


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|8 9

Revision: 4289f17f46d49f00703b8d853bd603dd82483c9c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:17:10
Message:
QPID-1879 Don't use a thread for every new client Connection - By default the max number of threads now used for network io is the number of cpus available. - This can be overridden with the QPID_MAX_IOTHREADS environment variable or the config file - The client threads are initialised (via a singleton) when first used in a Connection::open() #MsgLength=351


----
Modified: src/qpid/client/ConnectionImpl.cpp|91 4
Modified: src/qpid/client/Connector.cpp|6 18
Modified: src/qpid/client/Connector.h|16 17
Modified: src/qpid/client/RdmaConnector.cpp|16 56
Modified: src/qpid/client/SslConnector.cpp|28 59
Modified: src/qpid/client/TCPConnector.cpp|28 55
Modified: src/qpid/client/TCPConnector.h|11 11

Revision: 34b60cc75860276f5afd7b52e8ea3e0d91a09076
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:17:58
Message:
Fix a potential RDMA connect failure race #MsgLength=42


----
Modified: src/qpid/client/RdmaConnector.cpp|4 3

Revision: bac17ac041281d94ba4349a943a8bea8f28f8969
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:18:28
Message:
Remove possible double closing of connection on connect failure #MsgLength=64


----
Modified: src/qpid/client/ConnectionImpl.cpp|4 7

Revision: 826e2cab44cb94e388adbc81494a3b867bd1dbe5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:19:09
Message:
Ensure that shutting down an unsuccessful connect can't race with connection deletion #MsgLength=86


----
Modified: src/qpid/client/ConnectionImpl.cpp|9 3

Revision: d11cd0c4311deb21a0c36e411d94661cb854a7d5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:19:41
Message:
Allow Connection to be closed whilst still connecting without error. #MsgLength=69


----
Modified: src/qpid/client/TCPConnector.cpp|2 1

Revision: e0081aff0bed19e7ef782e0ce9aba6e2087d5189
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:20:07
Message:
Throw sync connect failures straight out of AsynchConnector constructor #MsgLength=72


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 19

Revision: 2d978716ec611ba24c692484d7c2efd5ad48cd36
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/01/2010 14:20:45
Message:
Small comment fix #MsgLength=18


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|1 1

Revision: 0549eb5296c4a14d0e1b07b4778640bd6bf7e279
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/01/2010 02:24:04
Message:
Fixes to make Win32 port build again (and remove some warnings) #MsgLength=64


----
Modified: include/qmf/engine/Event.h|1 1
Modified: src/qpid/sys/ClusterSafe.h|3 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 3

Revision: 19ec76d0b8c8fc18f81314afc735e4569ea7d18b
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2010 18:58:20
Message:
QPID-2347: Signal deletion of queue to active subscribers via a resource-deleted exception. #MsgLength=92


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|10 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|2 0
Modified: src/qpid/broker/Connection.cpp|4 0
Modified: src/qpid/broker/Queue.cpp|21 1
Modified: src/qpid/broker/Queue.h|3 0
Modified: src/qpid/broker/QueueListeners.cpp|11 0
Modified: src/qpid/broker/QueueListeners.h|11 0
Modified: src/qpid/broker/SemanticState.cpp|6 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 0
Added: src/qpid/broker/SessionOutputException.h|47 0
Modified: src/qpid/client/SessionImpl.cpp|1 0
Modified: src/tests/ClientSessionTest.cpp|13 0
Modified: src/tests/MessagingSessionTests.cpp|1 0

Revision: 873627353b9a8915000a9643842e69347bd4ad10
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/01/2010 00:56:18
Message:
Refer to ConnectionAccess as the struct it is, not class. Resolves compile warning on MSVC. #MsgLength=92


----
Modified: include/qpid/client/Connection.h|1 1

Revision: a347473910f2e2f9ffddc384862804892aae6695
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/01/2010 01:01:32
Message:
#include SecurityLayer.h needs to go back in; MSVC needs to see the class def for auto_ptr use in activateSecurityLayer. #MsgLength=121


----
Modified: src/qpid/client/Connector.cpp|1 0

Revision: e8633c1daecd12e1311ce3cd9a1bedecfdedf792
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/01/2010 05:24:52
Message:
If we've already closed Connection don't attempt to write to it #MsgLength=64


----
Modified: src/qpid/client/TCPConnector.cpp|4 0

Revision: 5e6fe7830d1fbaa3c6681fa9066835432c8bb813
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/01/2010 08:16:34
Message:
Add SSL support for Windows client and broker per QPID-1403. Adds new AsynchIO::BufferBase::squish() method that does what used to be done by in-place memmove() calls so it can be reused easily. SSL support for Windows is in: - Client: qpid/client/windows/SslConnector.cpp qpid/client/TCPConnector.{h cpp} rearranged a bit to make pieces available to SslConnector - Broker: qpid/broker/windows/SslProtocolFactory.cpp - Common: qpid/sys/windows/SslAsynchIO contains all the Schannel stuff to negotiate a session, encrypt, and decrypt data. The SslAsynchIO acts as a shim between the layer above and the "regular" AsynchIO that actually handles read/write and completions. #MsgLength=682


----
Modified: src/CMakeLists.txt|1 1
Added: src/qpid/broker/windows/SslProtocolFactory.cpp|302 0
Modified: src/qpid/client/TCPConnector.cpp|11 3
Modified: src/qpid/client/TCPConnector.h|11 8
Added: src/qpid/client/windows/SslConnector.cpp|181 0
Modified: src/qpid/sys/AsynchIO.h|7 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 4
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 5
Added: src/qpid/sys/windows/SslAsynchIO.cpp|654 0
Added: src/qpid/sys/windows/SslAsynchIO.h|191 0
Modified: src/ssl.cmake|65 54

Revision: 56dc960563cc10b1439fd22c9a2821030ece7779
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/01/2010 00:38:44
Message:
QPID-2355: fix include path order in binding makefiles #MsgLength=55


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/ruby/Makefile.am|1 1

Revision: 578b2c289d465b673f8a5eae032313ef4dc2951e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/01/2010 07:26:07
Message:
Explicitly ignore SIGCHLD signal by sending it to an empty function so that the boost_unit_test framework doesn't catch the signal when child processes exit #MsgLength=157


----
Modified: src/tests/ForkedBroker.cpp|17 0

Revision: b69591bc344574a09cd2601b0283dfc9c8ce155b
Author: Gordon Sim <gsim@apache.org>
Date: 26/01/2010 19:13:26
Message:
QPID-2288: add support for bindings in address options #MsgLength=55


----
Modified: include/qpid/messaging/Address.h|5 3
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|55 13

Revision: 5f272b3f6e82088f3bbf0db2ce6bcef5ad263a6e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/01/2010 04:45:03
Message:
Fix memory error in previous SocketAddress refactoring #MsgLength=55


----
Modified: src/qpid/client/RdmaConnector.cpp|4 4
Modified: src/qpid/sys/RdmaIOPlugin.cpp|5 6
Modified: src/qpid/sys/rdma/RdmaClient.cpp|3 4
Modified: src/qpid/sys/rdma/RdmaIO.cpp|6 10
Modified: src/qpid/sys/rdma/RdmaIO.h|4 8
Modified: src/qpid/sys/rdma/RdmaServer.cpp|3 3
Modified: src/qpid/sys/rdma/rdma_wrap.h|2 2

Revision: af7dc0bd1b9cfc4ee87358d2582f791ce475f48d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/01/2010 07:56:40
Message:
Make TCP more like RDMA #MsgLength=24


----
Modified: src/qpid/client/TCPConnector.cpp|5 3

Revision: 09bac38c76b1e74d520f194991e7835bcac666b8
Author: Gordon Sim <gsim@apache.org>
Date: 27/01/2010 18:42:19
Message:
QPID-664: change cancel() to close() for consistency #MsgLength=53


----
Modified: examples/messaging/drain.cpp|1 1
Modified: examples/messaging/map_receiver.cpp|1 1
Modified: examples/messaging/queue_receiver.cpp|2 2
Modified: examples/messaging/topic_receiver.cpp|2 2
Modified: include/qpid/messaging/Receiver.h|1 1
Modified: include/qpid/messaging/Sender.h|1 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|3 3
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|5 5
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|3 3
Modified: src/qpid/client/amqp0_10/SenderImpl.h|5 5
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|3 3
Modified: src/qpid/messaging/Receiver.cpp|1 1
Modified: src/qpid/messaging/ReceiverImpl.h|1 1
Modified: src/qpid/messaging/Sender.cpp|1 1
Modified: src/qpid/messaging/SenderImpl.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|18 18

Revision: 03690aef826025382bac7ae0db90b9016436c481
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 04:56:31
Message:
Fix cluster elder calculation to ensure unique elder. #MsgLength=163


----
Modified: src/qpid/cluster/Cluster.cpp|9 5
Modified: src/qpid/cluster/Cluster.h|1 0
Modified: src/qpid/cluster/InitialStatusMap.cpp|20 5
Modified: src/qpid/cluster/InitialStatusMap.h|6 2
Modified: src/qpid/cluster/MemberSet.cpp|7 0
Modified: src/qpid/cluster/MemberSet.h|2 0
Modified: src/qpid/cluster/types.h|1 1
Modified: src/tests/InitialStatusMap.cpp|21 17
Modified: xml/cluster.xml|1 0

Revision: ca1c0e9e2535518d02ac14d2257d3597f7f2b354
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/01/2010 05:50:18
Message:
Locate an executable's path correctly and set up in PATH properly. Catch up run_federation_tests.ps1 to match latest run_federation_test script. #MsgLength=145


----
Modified: src/tests/run_federation_tests.ps1|4 3
Modified: src/tests/run_test.ps1|2 6

Revision: b1193cc267df5a7b0fe734cc82c1d65e1bec47eb
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/01/2010 06:06:52
Message:
Write the correct port number to stdout when starting up. Resolves QPID-2366. #MsgLength=78


----
Modified: src/windows/QpiddBroker.cpp|5 5

Revision: 7e17aef415fcb609c1d8ea4553177504b0cf3cfc
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 06:20:36
Message:
In clustered broker: move construction of broker::Connections to the cluster dispatch thread. #MsgLength=213


----
Modified: src/qpid/cluster/Cluster.cpp|6 16
Modified: src/qpid/cluster/Connection.cpp|63 35
Modified: src/qpid/cluster/Connection.h|32 6

Revision: eb67a42ffc7ae194ea4a72fadda19396b67ded6a
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 06:20:51
Message:
Added PeriodicTimer interface for periodic tasks that need cluster synchronization. #MsgLength=253


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Broker.h|4 0
Modified: src/qpid/management/ManagementAgent.cpp|5 13
Modified: src/qpid/management/ManagementAgent.h|2 11
Added: src/qpid/sys/PeriodicTimer.h|56 0
Added: src/qpid/sys/PeriodicTimerImpl.cpp|49 0
Added: src/qpid/sys/PeriodicTimerImpl.h|45 0
Modified: src/qpid/sys/Timer.h|6 0

Revision: 15d6ae8199ec21f4b915302448b6dc373f3ad758
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 06:21:02
Message:
Cluster implementation of PeriodicTimer. #MsgLength=247


----
Modified: src/CMakeLists.txt|1 0
Modified: src/cluster.cmake|2 0
Modified: src/cluster.mk|2 0
Modified: src/qpid/cluster/Cluster.cpp|18 1
Modified: src/qpid/cluster/Cluster.h|3 5
Added: src/qpid/cluster/PeriodicTimerImpl.cpp|78 0
Added: src/qpid/cluster/PeriodicTimerImpl.h|72 0
Modified: xml/cluster.xml|5 0

Revision: 44a6df53cdffedbfd7f85765731ba9b64e2d2919
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 06:21:13
Message:
Test for management + cluster: run management tools in parallel with regular clients. #MsgLength=227


----
Modified: src/tests/cluster_tests.py|67 5
Modified: src/tests/test_env.sh.in|3 0

Revision: fc4eb09dddd8b8c2c18e1ffe87205cfd1ac42850
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2010 06:21:28
Message:
QPID_2634  Management updates in timer create inconsistencies in a cluster. #MsgLength=234


----
Modified: include/qpid/sys/Time.h|1 1
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|10 1
Modified: src/qpid/broker/Broker.h|4 4
Added: src/qpid/broker/DelegatingPeriodicTimer.cpp|50 0
Added: src/qpid/broker/DelegatingPeriodicTimer.h|57 0
Modified: src/qpid/cluster/Cluster.cpp|9 8
Modified: src/qpid/cluster/Cluster.h|2 0
Modified: src/qpid/cluster/PeriodicTimerImpl.cpp|10 4

Revision: 4b4e1f33774e223d5772a383fc0d0e024d5ec8a6
Author: Gordon Sim <gsim@apache.org>
Date: 28/01/2010 16:37:37
Message:
QPID-664: change format of connection options string to match address options; make open() a non-static method. #MsgLength=112


----
Modified: examples/messaging/client.cpp|2 1
Modified: examples/messaging/drain.cpp|4 1
Modified: examples/messaging/map_receiver.cpp|2 1
Modified: examples/messaging/map_sender.cpp|2 1
Modified: examples/messaging/queue_receiver.cpp|2 3
Modified: examples/messaging/queue_sender.cpp|2 1
Modified: examples/messaging/server.cpp|2 1
Modified: examples/messaging/spout.cpp|4 1
Modified: examples/messaging/topic_receiver.cpp|2 1
Modified: examples/messaging/topic_sender.cpp|2 1
Modified: include/qpid/messaging/Connection.h|10 17
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|7 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|2 1
Modified: src/qpid/messaging/Address.cpp|0 203
Added: src/qpid/messaging/AddressParser.cpp|263 0
Added: src/qpid/messaging/AddressParser.h|65 0
Modified: src/qpid/messaging/Connection.cpp|17 7
Modified: src/qpid/messaging/ConnectionImpl.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|11 2
Modified: src/tests/qpid_recv.cpp|2 5
Modified: src/tests/qpid_send.cpp|2 5
Modified: src/tests/qpid_stream.cpp|2 1

Revision: 5a25afa715bc006b8aa50646d6f0fb4acd218579
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/01/2010 00:52:38
Message:
Fix for QPID-2373 - Durable exchange state not replicated to broker joining cluster #MsgLength=84


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 2
Modified: src/qpid/cluster/Connection.cpp|3 0

Revision: 81d7a2058406188caf77092a80ef5f34b61b552c
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2010 03:42:48
Message:
Fixed cluster error "Not enough for multicast header" #MsgLength=112


----
Modified: src/qpid/assert.cpp|3 1
Modified: src/qpid/cluster/Event.cpp|5 8

Revision: cd7e5c20459d58ca360cbb463ccf238088d74279
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2010 05:38:19
Message:
QPID-2357 Broker boot sequence doesn't synchronize when clustered - patch from John Dunning #MsgLength=93


----
Modified: src/qpid/agent/ManagementAgentImpl.h|7 0
Modified: src/qpid/cluster/Connection.cpp|14 0
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|27 0
Modified: src/qpid/cluster/UpdateClient.h|2 0
Modified: src/qpid/management/ManagementAgent.h|7 0
Modified: xml/cluster.xml|8 0

Revision: c1d3484e39bb7281fbe2a267fc6c0a7d90397e05
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/01/2010 07:01:12
Message:
QPID-2374: Null authenticator now checks for SSL if --encryption-required specified #MsgLength=84


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|7 2
Modified: src/tests/ssl_test|1 1

Revision: 021e61ba17d678bd8e734541b79d3c5fb576bdb7
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/01/2010 07:48:46
Message:
Added missing QPID_COMMON_EXTERN decorators to fix Windows build. Resolves QPID-2372. #MsgLength=86


----
Modified: src/qpid/sys/PeriodicTimerImpl.h|5 2

Revision: 050ede0e173e011452c2eb524423be9147c3c83f
Author: Alan Conway <aconway@apache.org>
Date: 29/01/2010 23:14:59
Message:
Fixed missing ManagementAgent test, causing core dumps in cluster with --mgmt-enable=no. #MsgLength=90


----
Modified: src/qpid/cluster/UpdateClient.cpp|9 8

Revision: 9da55607ac6fe5e2d91997388582284efbd5a47c
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/01/2010 23:48:09
Message:
QPID-2374: fix conditional compile based on config #MsgLength=51


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|4 1

Revision: 58a606e09ab40990fca4af2b4db6c9a0a38f2113
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/01/2010 01:22:13
Message:
Apply part of patch msvc2005.patch from QPID-2371. #MsgLength=51


----
Modified: src/qpid/sys/windows/SocketAddress.cpp|1 0

Revision: d4d85028270c8d340f56a5908a6efebbecaf27a6
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2010 01:28:16
Message:
test_enf.sh: Added missing directories to PATH #MsgLength=48


----
Modified: src/tests/test_env.sh.in|1 1

Revision: 0fb6a4c17228ba2017794e23f510e9ea13c3093c
Author: Michael Goulish <mgoulish@apache.org>
Date: 30/01/2010 02:53:28
Message:
Change the heuristic used to alter the send estimate up and down. Especially, change the starting estimate to be much higher than 1 message. #MsgLength=142


----
Modified: src/qpid/cluster/OutputInterceptor.cpp|2 2

Revision: dce0850b121015d5ac2fdedcdb1a4dfe59b16d54
Author: Ted Ross <tross@apache.org>
Date: 30/01/2010 06:07:03
Message:
QPID-2251, QPID-1982 - Added alternative to non-portable FD notifier in the c++ QMF agent. #MsgLength=92


----
Modified: include/qpid/agent/ManagementAgent.h|19 4
Modified: src/qpid/agent/ManagementAgentImpl.cpp|49 14
Modified: src/qpid/agent/ManagementAgentImpl.h|6 0

Revision: 72726065f82d3716d3d3aafcd604ce90fc622e7f
Author: Ted Ross <tross@apache.org>
Date: 30/01/2010 06:58:22
Message:
QPID-2365 - Reroute messages from a queue feature #MsgLength=51


----
Modified: src/qpid/broker/Queue.cpp|57 8
Modified: src/qpid/broker/Queue.h|1 1

Revision: 01a0bd963dabbc3c479b21d677a8dabf30e2bd2d
Author: Alan Conway <aconway@apache.org>
Date: 30/01/2010 06:59:09
Message:
Replace PeriodicTimer with ClusterTimer, which inherits from Timer. #MsgLength=69


----
Modified: src/CMakeLists.txt|0 2
Modified: src/Makefile.am|0 5
Modified: src/cluster.cmake|2 2
Modified: src/cluster.mk|2 2
Modified: src/qpid/broker/Broker.cpp|3 8
Modified: src/qpid/broker/Broker.h|6 4
Modified: src/qpid/cluster/Cluster.cpp|28 20
Modified: src/qpid/cluster/Cluster.h|7 3
Added: src/qpid/cluster/ClusterTimer.cpp|114 0
Added: src/qpid/cluster/ClusterTimer.h|58 0
Modified: src/qpid/management/ManagementAgent.cpp|21 5
Modified: src/qpid/management/ManagementAgent.h|15 2
Modified: src/qpid/sys/Timer.cpp|16 4
Modified: src/qpid/sys/Timer.h|20 19
Modified: xml/cluster.xml|6 2

Revision: 50803114c57cb9449cda13ee465e4bdc073ff888
Author: Ted Ross <tross@apache.org>
Date: 30/01/2010 07:30:49
Message:
Improved the comments describing the notification mechanisms. #MsgLength=63


----
Modified: include/qpid/agent/ManagementAgent.h|18 11

Revision: 831d1584622aee2cf69e7b17b796b9f56ad3cc6c
Author: Ted Ross <tross@apache.org>
Date: 02/02/2010 00:10:33
Message:
QPID-2348 - [C++] The HeadersExchange does not support federation Applied patch from Sam Joyce #MsgLength=96


----
Modified: src/qpid/broker/Bridge.cpp|7 1
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/Exchange.h|3 2
Modified: src/qpid/broker/HeadersExchange.cpp|153 32
Modified: src/qpid/broker/HeadersExchange.h|30 6
Modified: src/qpid/sys/CopyOnWriteArray.h|18 0
Modified: src/tests/federation.py|153 0
Added: src/tests/headers_federation.py|99 0
Added: src/tests/run_headers_federation_tests|49 0

Revision: 8229f9e76cd9c8898021d67b7c55741502f1a890
Author: Gordon Sim <gsim@apache.org>
Date: 02/02/2010 19:09:11
Message:
QPID-2380: recognise reliability option for sender (also added capacity to qpid_send test client and fixed handling of empty option string) #MsgLength=140


----
Modified: include/qpid/messaging/Address.h|1 1
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 4
Modified: src/qpid/client/amqp0_10/AddressResolution.h|2 1
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|18 6
Modified: src/qpid/client/amqp0_10/SenderImpl.h|17 0
Modified: src/qpid/messaging/Connection.cpp|1 1
Modified: src/tests/qpid_send.cpp|4 0

Revision: a4ccb9663ba6f518e024b91bc1e1ec35dae298f4
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/02/2010 23:12:59
Message:
Add missing QPID_COMMON_EXTERN to pair-returning insert() - it's now called by qpidbroker. #MsgLength=91


----
Modified: include/qpid/framing/FieldTable.h|1 1

Revision: f575bff1c7e76ab888ccf88f46c13161b43127e2
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2010 23:46:46
Message:
Cluster: debug snapshots of queue depth at broker join, help find inconsistencies. #MsgLength=84


----
Modified: src/qpid/cluster/Cluster.cpp|29 4
Modified: src/qpid/cluster/Cluster.h|4 5
Modified: src/qpid/cluster/Connection.cpp|5 0
Modified: src/qpid/cluster/Connection.h|1 1

Revision: 9b2e584ee9a651c871410708ab9ce0eab8967b21
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2010 23:47:41
Message:
Cluster: fix update of failover exchange. #MsgLength=124


----
Modified: src/qpid/cluster/Cluster.cpp|3 3
Modified: src/qpid/cluster/FailoverExchange.cpp|5 1
Modified: src/qpid/cluster/FailoverExchange.h|4 1
Modified: src/tests/cluster_test.cpp|1 1

Revision: daa07317daf4213c7fc430f8e82ffce32161dfa4
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/02/2010 23:50:56
Message:
QPID-2384: Fix for problem of cluster nodes recovering from both cluster and store when --no-data-dir and --store-dir are in use together. #MsgLength=139


----
Modified: src/qpid/cluster/StoreStatus.cpp|3 1

Revision: b54e6fb061e924cd3e801d5d6a938a5a12fb4cc6
Author: Ted Ross <tross@apache.org>
Date: 03/02/2010 01:17:15
Message:
QPID-1982 - Don't allocate more than one instance of a PipeHandle. #MsgLength=68


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 1

Revision: 475c0549e87a9f868c835d3e30fba0e91d72a55f
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2010 05:01:56
Message:
Fix cluster bug introduced in r905674, incorrect frame-sequence count. #MsgLength=72


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: d2d896f4a35bb9f64f8bbc354e5d2d24291be1cd
Author: Ted Ross <tross@apache.org>
Date: 03/02/2010 21:35:58
Message:
Changes to management code generation: #MsgLength=285


----
Modified: include/qpid/management/ManagementObject.h|6 0
Modified: managementgen/qmfgen/management-types.xml|29 29
Modified: managementgen/qmfgen/schema.py|33 0
Modified: managementgen/qmfgen/templates/Class.cpp|21 0
Modified: managementgen/qmfgen/templates/Class.h|2 0
Modified: src/qpid/management/ManagementAgent.cpp|1 0
Modified: src/qpid/management/ManagementObject.cpp|15 0

Revision: 2a2bbf5cfb2538b3e1278486739d24c6d67edf1c
Author: Ted Ross <tross@apache.org>
Date: 03/02/2010 22:10:44
Message:
Added hook to retrieve priority from the delivery properties of a message. This is to enable eventual work on priority-ordering in Queues. #MsgLength=140


----
Modified: src/qpid/broker/Message.cpp|4 0
Modified: src/qpid/broker/Message.h|2 0
Modified: src/qpid/broker/MessageAdapter.cpp|5 0
Modified: src/qpid/broker/MessageAdapter.h|2 0

Revision: 87c80fec3f8c27dc8e04ae53e7801bcd5165b753
Author: Gordon Sim <gsim@apache.org>
Date: 04/02/2010 16:38:24
Message:
Correct periodic flush logic in MessageReplayTracker #MsgLength=53


----
Modified: src/qpid/client/MessageReplayTracker.cpp|1 1

Revision: ae2133b481ac12bf1dfa04a919b5c9c504f8b757
Author: Ted Ross <tross@apache.org>
Date: 05/02/2010 01:25:19
Message:
Added encode/decode/encodedSize methods for management objects. Made methods on generated code public. #MsgLength=104


----
Modified: include/qpid/management/ManagementObject.h|12 5
Modified: managementgen/qmfgen/management-types.xml|29 29
Modified: managementgen/qmfgen/schema.py|17 0
Modified: managementgen/qmfgen/templates/Class.cpp|11 1
Modified: managementgen/qmfgen/templates/Class.h|4 5
Modified: src/qpid/management/ManagementObject.cpp|13 2

Revision: baf422ff2708816c7a0a4f33328a7f8181351952
Author: Rafael H. Schloming <rhs@apache.org>
Date: 05/02/2010 22:56:48
Message:
specify PLAIN so that sasl negotiation can't end up using ANONYMOUS #MsgLength=68


----
Modified: src/tests/acl.py|2 1

Revision: e06d6067ba64a62cff739571f24c1dc38f524bf7
Author: Rafael H. Schloming <rhs@apache.org>
Date: 05/02/2010 23:08:44
Message:
moved protocol tests from qpid/python to qpid/tests #MsgLength=52


----
Modified: src/tests/python_tests|1 1
Modified: src/tests/run_acl_tests|0 2
Modified: src/tests/test_env.sh.in|3 1

Revision: 7ae7a6bacee477ccc53463e689fd57bdc85ceb3d
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2010 02:17:57
Message:
Synchronize management agent lists during cluster update. #MsgLength=237


----
Modified: src/qpid/cluster/Cluster.cpp|10 2
Modified: src/qpid/cluster/Connection.cpp|9 1
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|37 32
Modified: src/qpid/cluster/UpdateClient.h|2 2
Modified: src/qpid/management/ManagementAgent.cpp|103 24
Modified: src/qpid/management/ManagementAgent.h|18 4
Modified: xml/cluster.xml|4 1

Revision: 43e1a769ed0148e60695b4eec657ba39bd928493
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/02/2010 05:30:43
Message:
Add Windows Powershell scripts needed for test suite to run on Windows to EXTRA_DIST so they get included in releases. Resolves QPID-2392. #MsgLength=139


----
Modified: src/tests/Makefile.am|14 4

Revision: 12f9a3b38ace99e9068e2b3caa2a8c2aa56a0a33
Author: Ted Ross <tross@apache.org>
Date: 06/02/2010 06:47:56
Message:
QPID-2029 - Added verification script contributed by John Dunning #MsgLength=67


----
Added: src/tests/verify_cluster_objects|400 0

Revision: 7be77efffc8aaec09ba1427be844026b67003f96
Author: Alan Conway <aconway@apache.org>
Date: 06/02/2010 07:02:45
Message:
Consistent connection names across a cluster. #MsgLength=242


----
Modified: src/qpid/broker/Connection.cpp|3 3
Modified: src/qpid/broker/Connection.h|1 3
Modified: src/qpid/cluster/Cluster.cpp|1 3
Modified: src/qpid/cluster/Connection.cpp|33 19
Modified: src/qpid/cluster/Connection.h|19 8
Modified: src/qpid/cluster/UpdateClient.cpp|11 1
Modified: src/qpid/cluster/UpdateReceiver.h|3 0
Modified: xml/cluster.xml|9 2

Revision: ed13297444f191cc9fa21c1f428a1dbae7acacbc
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/02/2010 01:26:33
Message:
Add tested part of patch from QPID-2371. Also add install for Debug variant of qmfconsole on Windows. #MsgLength=102


----
Modified: src/CMakeLists.txt|12 0

Revision: 84bc2a5149661e6157f80b9e1202d022be56bf59
Author: Ken Giusti <kgiusti@apache.org>
Date: 09/02/2010 05:33:54
Message:
QPID-2396: add assignment operator to ObjectId class. #MsgLength=54


----
Modified: include/qmf/engine/ObjectId.h|1 0
Modified: src/qmf/engine/ObjectIdImpl.cpp|10 0

Revision: 5916c8a2f7194ce09358eb82771c05494b14ea5e
Author: Stephen D. Huston <shuston@apache.org>
Date: 10/02/2010 01:45:19
Message:
Add BOOST_ALL_DYN_LINK to projects' Visual Studio C++ preprocessor settings; resolves QPID-2398. #MsgLength=97


----
Modified: examples/direct/direct_declare_queues.vcproj|3 3
Modified: examples/direct/direct_direct_producer.vcproj|4 4
Modified: examples/direct/direct_listener.vcproj|4 4
Modified: examples/failover/failover_declare_queues.vcproj|4 4
Modified: examples/failover/failover_replaying_sender.vcproj|4 4
Modified: examples/failover/failover_resuming_receiver.vcproj|4 4
Modified: examples/fanout/fanout_fanout_producer.vcproj|4 4
Modified: examples/fanout/fanout_listener.vcproj|4 4
Modified: examples/messaging/messaging_client.vcproj|4 4
Modified: examples/messaging/messaging_drain.vcproj|4 4
Modified: examples/messaging/messaging_map_receiver.vcproj|4 4
Modified: examples/messaging/messaging_map_sender.vcproj|4 4
Modified: examples/messaging/messaging_queue_receiver.vcproj|4 4
Modified: examples/messaging/messaging_queue_sender.vcproj|4 4
Modified: examples/messaging/messaging_server.vcproj|4 4
Modified: examples/messaging/messaging_spout.vcproj|5 5
Modified: examples/messaging/messaging_topic_receiver.vcproj|4 4
Modified: examples/messaging/messaging_topic_sender.vcproj|4 4
Modified: examples/pub-sub/pub-sub_topic_listener.vcproj|4 4
Modified: examples/pub-sub/pub-sub_topic_publisher.vcproj|4 4
Modified: examples/qmf-console/qmf-console_console.vcproj|4 4
Modified: examples/qmf-console/qmf-console_ping.vcproj|4 4
Modified: examples/qmf-console/qmf-console_printevents.vcproj|4 4
Modified: examples/qmf-console/qmf-console_queuestats.vcproj|4 4
Modified: examples/request-response/request-response_client.vcproj|4 4
Modified: examples/request-response/request-response_server.vcproj|4 4
Modified: examples/tradedemo/tradedemo_declare_queues.vcproj|4 4
Modified: examples/tradedemo/tradedemo_topic_listener.vcproj|4 4

Revision: a2e345e958d29692b64b7745c847d2c5f1c7a178
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/02/2010 06:44:18
Message:
Add comment that destructor doesn't close connection; see QPID-2395 #MsgLength=68


----
Modified: include/qpid/client/Connection.h|5 1

Revision: 85f6dafb8ab4805044d03157bb92e07fcb1f5830
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/02/2010 23:57:34
Message:
Add EventImpl.cpp, .h for qmfengine source from patch in QPID-2401. When adding qmfconsoled.dll to Windows installer, pick it up from correct directory. #MsgLength=153


----
Modified: src/CMakeLists.txt|5 3

Revision: ca791255ac8546f88b3c24ae85183223afadf524
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/02/2010 22:27:33
Message:
Fix typo. #MsgLength=10


----
Modified: src/CMakeLists.txt|1 1

Revision: 1fd68cc2b9622ef4f82db4a15931903f364ff27a
Author: Ted Ross <tross@apache.org>
Date: 13/02/2010 02:23:47
Message:
QPID-2328 - Applied patch from Ian Main #MsgLength=41


----
Modified: bindings/qmf/python/qmf.py|1 2
Modified: bindings/qmf/ruby/qmf.rb|1 2
Modified: include/qmf/engine/ResilientConnection.h|8 0
Modified: src/qmf/engine/ResilientConnection.cpp|16 0

Revision: 7ff4bc41833fc5ec5c39e65ccdaaf4e52eab86e2
Author: Ted Ross <tross@apache.org>
Date: 13/02/2010 05:23:27
Message:
Changes needed for QPID-2029 (Clustering and Management don't work well together) This update changes the indexing of object IDs in the broker-resident management agent from being based on the QMFv1 format (numeric) to the QMFv2 format (string name).  This removes the need for numeric objectIds to be synchronized across a set of clustered brokers. #MsgLength=666


----
Modified: include/qpid/management/ManagementObject.h|6 1
Modified: src/qpid/broker/DirectExchange.cpp|1 0
Modified: src/qpid/broker/Exchange.cpp|17 13
Modified: src/qpid/broker/Exchange.h|3 0
Modified: src/qpid/broker/FanOutExchange.cpp|1 0
Modified: src/qpid/broker/HeadersExchange.cpp|1 0
Modified: src/qpid/broker/TopicExchange.cpp|1 0
Modified: src/qpid/management/ManagementAgent.cpp|73 6
Modified: src/qpid/management/ManagementAgent.h|11 0
Modified: src/qpid/management/ManagementObject.cpp|15 5
Modified: src/qpid/xml/XmlExchange.h|1 1

Revision: a25d89ee45861d439554a1ea06feded33aa4cbbd
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 13/02/2010 06:30:38
Message:
I have added the license header to the files included in this commit. #MsgLength=71


----
Modified: examples/README.verify|18 0
Modified: src/qpid/framing/Blob.h|21 0
Modified: src/tests/Blob.cpp|21 0
Modified: src/tests/cluster_python_tests|20 0
Modified: src/tests/cluster_test_scripts/cluster_check|20 0
Modified: src/tests/cluster_test_scripts/cluster_start|20 0
Modified: src/tests/cluster_test_scripts/cluster_stop|20 0
Modified: src/tests/cluster_test_scripts/config_example.sh|19 0
Modified: src/tests/cluster_test_scripts/perftest|20 0

Revision: b66b90d92bc6d9fee5c4e9de167620a34a600fb3
Author: Rafael H. Schloming <rhs@apache.org>
Date: 14/02/2010 22:59:24
Message:
moved qpid-* tools out of qpid/python into qpid/tools; moved qmf library into extras/qmf #MsgLength=89


----
Modified: bindings/qmf/tests/run_interop_tests|3 1
Modified: src/tests/run_cli_tests|1 1
Modified: src/tests/test_env.sh.in|4 2

Revision: 770e314646944de071ec3f128df84c308596b417
Author: Rafael H. Schloming <rhs@apache.org>
Date: 15/02/2010 11:32:14
Message:
use python/setup.py instead of python/Makefile #MsgLength=47


----
Modified: src/tests/Makefile.am|4 1

Revision: b76f6b76163b2ed5b606d376a8b512b15d43154f
Author: Rafael H. Schloming <rhs@apache.org>
Date: 15/02/2010 14:49:30
Message:
more futzing with setup.py; pulled specs into python/qpid package #MsgLength=66


----
Modified: src/tests/Makefile.am|3 6

Revision: 56baca7ada13a500136a713c7bb839c41ac816fb
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/02/2010 02:36:21
Message:
Added handling for adjusting TTL on outgoing message based on how long a message has been on the queue. Added a new TTL test as ClientSessionTest.testTtl. #MsgLength=155


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0
Modified: src/qpid/broker/Message.cpp|10 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/tests/ClientSessionTest.cpp|30 0

Revision: ddd3d3065cfb1c8d77d570da7503e6939c43d1b5
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/02/2010 05:27:29
Message:
When handling coalesced sets of SSL segments, ensure the buffer obtained to hold the extra data is big enough. Resolves QPID-2407. #MsgLength=131


----
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|9 2

Revision: 8670b0450dc6dd7503869927efdcc9a4720483e9
Author: Rafael H. Schloming <rhs@apache.org>
Date: 16/02/2010 20:26:39
Message:
update exclude file to match new test package name #MsgLength=51


----
Modified: src/tests/cluster_python_tests_failing.txt|31 31

Revision: 77220a3636225537fbdf9945bab40e6a0b6a1c6f
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/02/2010 23:55:57
Message:
Use qpid::sys::usleep() instead of usleep(). Resolves QPID-2408. #MsgLength=65


----
Modified: src/tests/ClientSessionTest.cpp|1 1

Revision: 2e7ac1d2321ab55435669f4717639195fa47bf29
Author: Ted Ross <tross@apache.org>
Date: 17/02/2010 07:38:11
Message:
QMF Messages originated from the broker don't have a routing-key field in the delivery properties. This update fixes this bug. #MsgLength=128


----
Modified: src/qpid/management/ManagementAgent.cpp|5 0

Revision: cc7a959111665211c0fea5aeb5d1fd15f464f690
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/02/2010 08:18:36
Message:
Build the ACL source into the qpidbroker library on Windows; works around the problems with qmf-gen'd management code; see QPID-1842 for history. #MsgLength=146


----
Modified: src/CMakeLists.txt|17 15

Revision: 420ab851e975a73f229f7db4711f6e79a395fb90
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/02/2010 08:28:00
Message:
SSL changes for broker listening that weren't checked in with the original Windows broker SSL support (QPID-1403). #MsgLength=115


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|4 4

Revision: 759ce496ff40ac14db29e149cfacc825f4a567bf
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/02/2010 08:33:40
Message:
Comment out the gacutil stuff for the WCF DLLs and explain why. Related to QPID-2310. #MsgLength=86


----
Modified: CMakeLists.txt|17 8

Revision: 828f83a43707cf51a756a4e0ba56c9022d2ef1e4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/02/2010 06:47:37
Message:
Allow cmake build to work again with earlier boost versions #MsgLength=60


----
Modified: src/CMakeLists.txt|4 7

Revision: d672bff540b51ff012a800141732ee061fe81431
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/02/2010 06:47:41
Message:
Avoid linking to unversioned symbols in libibverbs by explicitly linking rdma.so/rdmaconnector.so with -libverbs #MsgLength=113


----
Modified: src/Makefile.am|4 2

Revision: 70daa980a0be4bec2a229a9ccce2ba26fdb444a3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/02/2010 06:47:44
Message:
Deallocate rdma state when closing an rdma connection #MsgLength=54


----
Modified: src/qpid/client/RdmaConnector.cpp|4 0

Revision: db9d3653a35d086b162eef6c8ce2488f2a508435
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 19/02/2010 02:23:54
Message:
This is related to QPID-2413 Added a mechanism to catch the lexical cast errors and print an error message. I also fixed up some formatting as well. #MsgLength=151


----
Modified: src/qpid/acl/Acl.cpp|2 1
Modified: src/qpid/acl/AclData.cpp|33 8
Modified: src/qpid/acl/AclData.h|3 2

Revision: c1052380323d47da1cdba4de672bd8bcf1a3e4a4
Author: Michael Goulish <mgoulish@apache.org>
Date: 24/02/2010 13:07:13
Message:
Failover_soak was not detecting child exits properly, and so was not terminating when the sending and receiving clients had both exited. #MsgLength=548


----
Modified: src/tests/failover_soak.cpp|79 80
Modified: src/tests/run_failover_soak|2 2

Revision: 89ab8c780049f7a6fe5d323c43784240808bf111
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/02/2010 04:53:08
Message:
Removed unecessary include of Msg.h in Exception.h #MsgLength=51


----
Modified: include/qpid/Exception.h|0 2
Modified: include/qpid/sys/posix/check.h|1 0
Modified: include/qpid/sys/windows/check.h|1 0
Modified: rubygen/framing.0-10/MethodBodyFactory.rb|1 0
Modified: rubygen/framing.0-10/constants.rb|2 0
Modified: src/qmf/engine/EventImpl.cpp|2 0
Modified: src/qmf/engine/ObjectIdImpl.cpp|1 0
Modified: src/qmf/engine/SchemaImpl.cpp|1 0
Modified: src/qmf/engine/SchemaImpl.h|3 1
Modified: src/qpid/cluster/StoreStatus.cpp|1 0
Modified: src/qpid/console/Value.cpp|2 0
Modified: src/qpid/framing/AMQFrame.cpp|2 0
Modified: src/qpid/framing/Array.cpp|1 0
Modified: src/qpid/framing/BodyHandler.cpp|1 0
Modified: src/qpid/framing/FieldTable.cpp|1 0
Modified: src/qpid/framing/FieldValue.cpp|1 0
Modified: src/qpid/framing/List.cpp|1 0
Modified: src/qpid/framing/SequenceSet.cpp|1 0
Modified: src/qpid/framing/Uuid.cpp|1 0
Modified: src/qpid/messaging/Variant.cpp|1 0
Modified: src/qpid/sys/posix/Shlib.cpp|1 0
Modified: src/qpid/sys/ssl/check.h|2 0
Modified: src/tests/TxMocks.h|1 0

Revision: 02c4b3c6d8adcce346cc969ebd5860d9c2a9d4ea
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2010 06:07:12
Message:
Minor improvements to verify_cluster_objects. #MsgLength=82


----
Modified: src/tests/verify_cluster_objects|21 13

Revision: 211a6c48a318b90c95dd8dd4b281ce485a804ecc
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2010 06:07:21
Message:
Configure boost tests to create core dumps. #MsgLength=124


----
Modified: src/tests/Makefile.am|0 1
Modified: src/tests/test_env.sh.in|3 0

Revision: 3675067bdab4ee76f5d296f16c86f309e53feed2
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2010 06:07:30
Message:
Last member of a cluster always has clean store. #MsgLength=261


----
Modified: src/qpid/cluster/Cluster.cpp|6 0
Modified: src/qpid/cluster/StoreStatus.cpp|6 0
Modified: src/qpid/cluster/StoreStatus.h|3 3
Modified: src/tests/cluster_tests.py|40 14

Revision: ccd74e868927d95214043dbc7cf9a10f3a346c22
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2010 00:47:23
Message:
Fix cluster abort on shutdown in ClusterTimer::fire. #MsgLength=184


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/ClusterTimer.h|6 0
Modified: src/qpid/cluster/Cpg.cpp|0 1
Modified: src/qpid/sys/AggregateOutput.cpp|3 1

Revision: 312b510060ade66f6f3e279f2b98dc35d60fbf42
Author: Ted Ross <tross@apache.org>
Date: 27/02/2010 04:07:36
Message:
QPID-2423 - Add Constructors to set initial value of content for MapContent and ListContent #MsgLength=93


----
Modified: include/qpid/messaging/ListContent.h|1 0
Modified: include/qpid/messaging/MapContent.h|1 0
Modified: src/qpid/messaging/ListContent.cpp|6 0
Modified: src/qpid/messaging/MapContent.cpp|6 0
Modified: src/tests/MessagingSessionTests.cpp|53 0

Revision: 0f982c5359f1588ca979e5e06822480f45b4baea
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/02/2010 05:31:37
Message:
Small Hack to allow Windows to compile without error until the qmfv2 changes remove the ResilientConnection.cpp file. #MsgLength=118


----
Modified: src/CMakeLists.txt|4 1

Revision: 25ed13e553216927bdda41d48d338c34ffe62b3a
Author: Alan Conway <aconway@apache.org>
Date: 02/03/2010 05:34:47
Message:
Fix: decoding error causes cluster broker to exit. #MsgLength=290


----
Modified: src/qpid/cluster/Connection.cpp|16 4

Revision: 5f91627fcfacea02a581e3731a317f0e3b84da5e
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2010 01:06:05
Message:
QPID-2426: Check for empty name in address when resolving #MsgLength=58


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|3 0

Revision: d7bd75f48f96e687c16431c264d8fe7277af3e7d
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2010 01:06:20
Message:
QPID-2427: Align browsing option with approach used in python client #MsgLength=69


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|14 1
Modified: src/tests/MessagingSessionTests.cpp|2 2

Revision: e117be1eb22fac3279a2c8f2506758e214187729
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2010 01:06:44
Message:
QPID-2402 & QPID-2406: Documented the units for the ttl property of Message. Eliminated use of qpid::sys::Duration from API. #MsgLength=125


----
Modified: examples/messaging/drain.cpp|2 6
Added: include/qpid/messaging/Duration.h|39 0
Modified: include/qpid/messaging/Message.h|9 2
Modified: include/qpid/messaging/Receiver.h|5 5
Modified: include/qpid/messaging/Session.h|3 2
Modified: src/Makefile.am|1 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|6 6
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|11 11
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|15 6
Modified: src/qpid/client/amqp0_10/SessionImpl.h|5 4
Modified: src/qpid/messaging/Message.cpp|2 2
Modified: src/qpid/messaging/Receiver.cpp|4 4
Modified: src/qpid/messaging/ReceiverImpl.h|4 5
Modified: src/qpid/messaging/Session.cpp|2 2
Modified: src/qpid/messaging/SessionImpl.h|3 3
Modified: src/tests/MessagingSessionTests.cpp|12 12
Modified: src/tests/qpid_recv.cpp|2 6
Modified: src/tests/qpid_stream.cpp|13 14

Revision: 4ceb79f8b3e88d8606674f2fd9256f6248c04bd3
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2010 01:06:55
Message:
QPID-2386: added username (if available) to log entry for failed authentication. #MsgLength=81


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|22 19

Revision: 30a01cd5ba5401ab8837525f7959157d2e1e64ca
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2010 04:23:32
Message:
Added tests/testagent, a simple QMF agent for use in tests. #MsgLength=61


----
Modified: configure.ac|1 0
Modified: src/tests/Makefile.am|2 0
Added: src/tests/testagent/Makefile.am|49 0
Added: src/tests/testagent/schema.xml|64 0
Added: src/tests/testagent/testagent.cpp|207 0

Revision: 471f6b95e932010ab57c2f72ffbc859215d82ad5
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2010 04:23:43
Message:
Extended cluster_tests.test_management exposes a bug. #MsgLength=208


----
Modified: src/tests/cluster_tests.fail|1 0
Modified: src/tests/cluster_tests.py|74 23

Revision: aacd9b57fd52ba1859a23a5753e636525d91abe1
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2010 04:57:18
Message:
Amended cluster error message for decoding failures. #MsgLength=206


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: be1f10cc7558b8be59928ce87c6e07659795778c
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2010 05:44:29
Message:
Increase test_watchdog interval to avoid spurious test failures. #MsgLength=66


----
Modified: src/tests/test_watchdog|2 2

Revision: 83121ae2ea2c61213ae963bde6decd590448772f
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 04/03/2010 11:53:06
Message:
This is a fix for QPID-2428 #MsgLength=29


----
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|1 1

Revision: 6f47facf137de22c87acefbb45107ece9b5fd7c5
Author: Alan Conway <aconway@apache.org>
Date: 04/03/2010 21:41:38
Message:
Added testagent/schema.xml to EXTRA_DIST, was causing make distcheck to fail. #MsgLength=79


----
Modified: src/tests/testagent/Makefile.am|1 0

Revision: 544b5223cf987e95d866ba07e081d57bbc0710d0
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2010 02:34:01
Message:
QPID-2429: Use explicit check for void value rather than relaying on empty() call when matching 'wildcard' binding properties. #MsgLength=127


----
Modified: src/qpid/broker/HeadersExchange.cpp|1 1

Revision: a66e257d7f4372017104077edbd5ea19706fddb9
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2010 08:09:25
Message:
Fix to run topictest correctly on Windows. #MsgLength=43


----
Modified: src/tests/quick_topictest.ps1|2 2
Modified: src/tests/topictest.ps1|11 8

Revision: 5185aad89f64cfbb98ad58a14d17fbc65044cfba
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2010 08:11:31
Message:
Allow builder to generate developer docs as well as user API docs. #MsgLength=67


----
Modified: docs/api/CMakeLists.txt|4 1

Revision: 481e9047b04428401245523399b28b884cba9032
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2010 00:51:22
Message:
QPID-2412: Support for EXTERNAL mechanism on client-authenticated SSL connections. #MsgLength=753


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Connection.cpp|4 2
Modified: src/qpid/broker/Connection.h|8 3
Modified: src/qpid/broker/ConnectionFactory.cpp|6 4
Modified: src/qpid/broker/ConnectionFactory.h|2 3
Modified: src/qpid/broker/SaslAuthenticator.cpp|18 4
Modified: src/qpid/broker/SecureConnectionFactory.cpp|6 4
Modified: src/qpid/broker/SecureConnectionFactory.h|2 3
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/client/ConnectionHandler.h|7 2
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/Connector.h|2 1
Modified: src/qpid/client/RdmaConnector.cpp|1 1
Modified: src/qpid/client/Sasl.h|4 10
Modified: src/qpid/client/SaslFactory.cpp|15 6
Modified: src/qpid/client/SslConnector.cpp|10 1
Modified: src/qpid/client/TCPConnector.h|1 1
Modified: src/qpid/client/windows/SaslFactory.cpp|4 2
Modified: src/qpid/cluster/Cluster.cpp|7 2
Modified: src/qpid/cluster/Connection.cpp|13 8
Modified: src/qpid/cluster/Connection.h|9 8
Modified: src/qpid/cluster/ConnectionCodec.cpp|7 7
Modified: src/qpid/cluster/ConnectionCodec.h|3 3
Modified: src/qpid/sys/AsynchIOHandler.cpp|3 2
Modified: src/qpid/sys/ConnectionCodec.h|3 14
Modified: src/qpid/sys/RdmaIOPlugin.cpp|3 2
Added: src/qpid/sys/SecuritySettings.h|58 0
Modified: src/qpid/sys/SslPlugin.cpp|12 5
Modified: src/qpid/sys/ssl/SslHandler.cpp|12 4
Modified: src/qpid/sys/ssl/SslHandler.h|3 1
Modified: src/qpid/sys/ssl/SslIo.cpp|6 1
Modified: src/qpid/sys/ssl/SslIo.h|2 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|49 0
Modified: src/qpid/sys/ssl/SslSocket.h|1 0
Modified: xml/cluster.xml|4 0

Revision: 7a7dbe3e452d32d57be21813545b574f94367a06
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/03/2010 01:49:10
Message:
QPID-2434: add timestamp files to CLEANFILES list #MsgLength=50


----
Modified: src/tests/testagent/Makefile.am|1 1

Revision: d63049e0ec961e40cf14971f77599fbdc48d9770
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2010 02:02:32
Message:
Don't generate debug snapshot messages unless debug logging enabled. #MsgLength=70


----
Modified: src/qpid/cluster/Cluster.cpp|6 7
Modified: src/qpid/cluster/Cluster.h|2 2
Modified: src/qpid/management/ManagementAgent.cpp|5 5
Modified: src/qpid/management/ManagementAgent.h|1 1

Revision: 5e44de6803effff4e4195b219c1a55c76ec89123
Author: Gordon Sim <gsim@apache.org>
Date: 06/03/2010 02:07:49
Message:
QPID-2412: updated notes for SASL EXTERNAL support and added option. #MsgLength=69


----
Modified: SSL|13 7

Revision: d3240826533ab7063d80586b4c651ac5465f949d
Author: Ted Ross <tross@apache.org>
Date: 06/03/2010 05:10:26
Message:
Fix QPID-2435.  This patch removes the "publishNow" feature from the broker agent. #MsgLength=84


----
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|20 35
Modified: src/qpid/management/ManagementAgent.h|9 4

Revision: 35299751b6e1051aeacece165030c99db92cda89
Author: Jonathan Robie <jonathan@apache.org>
Date: 06/03/2010 05:51:53
Message:
Modified to either support the older XQilla 2.1.3 API or to use xqilla/ast/XQEffectiveBooleanValue.hpp, depending on a constant set in configure.ac. #MsgLength=150


----
Modified: src/qpid/xml/XmlExchange.cpp|11 1

Revision: e64b3e3276b584fbc1ea480bdfc73c8888e65d1f
Author: Jonathan Robie <jonathan@apache.org>
Date: 06/03/2010 05:52:42
Message:
Tests for presence of xqilla/ast/XQEffectiveBooleanValue.hpp; if not present, sets a constant to enable legacy API for effective boolean value. #MsgLength=145


----
Modified: configure.ac|9 0

Revision: 9d4a5ee7e24b88e598215b26cca33b5dd72a15f9
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2010 07:08:08
Message:
Minor cleanup: removed unused parameter of initial-status in cluster.xml. #MsgLength=75


----
Modified: src/qpid/cluster/Cluster.cpp|3 5
Modified: src/qpid/cluster/Cluster.h|0 1
Modified: src/tests/InitialStatusMap.cpp|3 3
Modified: xml/cluster.xml|0 1

Revision: 84583a275b702e7adb2ebc274fe117c480bc7c07
Author: Ted Ross <tross@apache.org>
Date: 08/03/2010 11:46:44
Message:
Added hooks in the broker for QMFv2 management of the broker. Now both DirectExchange and TopicExchange have been subclassed so messages can be redirected to the embedded management agent (in QMFv1, only the topic exchange was subclassed this way). #MsgLength=250


----
Modified: src/Makefile.am|4 2
Modified: src/qpid/broker/Broker.cpp|17 5
Modified: src/qpid/broker/ExchangeRegistry.cpp|6 3
Modified: src/qpid/management/ManagementAgent.cpp|12 3
Modified: src/qpid/management/ManagementAgent.h|8 3
Added: src/qpid/management/ManagementDirectExchange.cpp|63 0
Added: src/qpid/management/ManagementDirectExchange.h|59 0
Renamed: src/qpid/management/ManagementTopicExchange.cpp [from src/qpid/management/ManagementExchange.cpp]|24 20
Renamed: src/qpid/management/ManagementTopicExchange.h [from src/qpid/management/ManagementExchange.h]|15 14

Revision: d1b2fde42fc5dc61d3d8d23c7d9be12a713fd812
Author: Jonathan Robie <jonathan@apache.org>
Date: 08/03/2010 20:47:52
Message:
Fixed #ifndef for XQilla 2.1.3 #MsgLength=32


----
Modified: src/qpid/xml/XmlExchange.cpp|1 1

Revision: 77076c37d3ee4ec3697f165400167088cc492eec
Author: Alan Conway <aconway@apache.org>
Date: 09/03/2010 01:33:54
Message:
QPID-2436: Drop the vhost prefix in QMF V2keys. #MsgLength=266


----
Modified: managementgen/qmfgen/schema.py|8 7

Revision: e7a2ebb985bed9a8d58ef76599365e9fb83a0940
Author: Alan Conway <aconway@apache.org>
Date: 09/03/2010 01:34:09
Message:
QPID-2436: Fix cluster update of remote agents. #MsgLength=281


----
Modified: src/qpid/cluster/Cluster.cpp|6 2
Modified: src/qpid/cluster/Connection.cpp|3 3
Modified: src/qpid/cluster/InitialStatusMap.h|7 2
Modified: src/qpid/management/ManagementAgent.cpp|20 12
Modified: src/tests/cluster_tests.fail|1 1
Modified: src/tests/cluster_tests.py|14 10
Modified: src/tests/test_env.sh.in|1 1
Modified: src/tests/testagent/Makefile.am|4 1

Revision: 6eafc2ef40cbb205937126778e018df5b80626c7
Author: Jonathan Robie <jonathan@apache.org>
Date: 09/03/2010 06:20:55
Message:
Changed name of XQilla EBV define to XQ_EXTENDED_BOOLEAN_VALUE_HPP. #MsgLength=69


----
Modified: configure.ac|2 2
Modified: src/qpid/xml/XmlExchange.cpp|3 3

Revision: 19f3ff6e043ce944c9f6f3309709034d840cd083
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2010 01:20:15
Message:
Remove tests/testagent sub-directory, build testagent in the tests directory. #MsgLength=159


----
Modified: configure.ac|0 1
Modified: src/tests/Makefile.am|2 2
Renamed: src/tests/testagent.cpp [from src/tests/testagent/testagent.cpp]|0 0
Added: src/tests/testagent.mk|50 0
Renamed: src/tests/testagent.xml [from src/tests/testagent/schema.xml]|0 0
Deleted: src/tests/testagent/Makefile.am|0 53

Revision: b0ef5c2711cadbd7e7e531145f426ca96e260b3a
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2010 01:47:15
Message:
Removed testagent directory #MsgLength=28


----

Revision: f8c496a1a326f5870c891300c1bc7a3185761958
Author: Alan Conway <aconway@apache.org>
Date: 10/03/2010 03:47:57
Message:
Fix build dependency problem with tests/testagent. #MsgLength=52


----
Modified: src/tests/testagent.mk|1 0

Revision: f8703575dde93a7cfcc0b22f3babc17f8118a0ae
Author: Stephen D. Huston <shuston@apache.org>
Date: 10/03/2010 05:58:04
Message:
Apply parallel changes from Makefile.am a couple days ago; resolves QPID-2439. #MsgLength=79


----
Modified: src/CMakeLists.txt|2 1

Revision: cf3f888bf640c73cc42159ac661bfd7fe6385016
Author: Gordon Sim <gsim@apache.org>
Date: 10/03/2010 19:48:20
Message:
QPID-2441: patch from Jan Sarenik that prevents verification failures when running the examples if locale is not as expected #MsgLength=125


----
Modified: examples/pub-sub/verify_python_cpp.in|4 4
Modified: examples/verify|1 0
Modified: examples/verify_all|1 1

Revision: 04a61f51358dcdf77805a7892311af68e7936d07
Author: Alan Conway <aconway@apache.org>
Date: 11/03/2010 03:12:01
Message:
Remove non-existent directory from PATH. #MsgLength=42


----
Modified: src/tests/test_env.sh.in|1 1

Revision: 1a6088ba57c78623ed48a4383816eb1a8b0cce8a
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2010 02:23:46
Message:
QPID-2382: Created separate utility class for handling updates from failover exchange; cleaned up reconnection options #MsgLength=119


----
Modified: include/qpid/messaging/Address.h|10 7
Modified: include/qpid/messaging/Connection.h|15 12
Modified: src/CMakeLists.txt|3 0
Modified: src/Makefile.am|6 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|101 47
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|11 10
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/qpid/messaging/AddressParser.cpp|1 0
Modified: src/qpid/messaging/Connection.cpp|4 33
Modified: src/qpid/messaging/ConnectionImpl.h|2 0
Modified: src/tests/qpid_recv.cpp|7 1
Modified: src/tests/qpid_send.cpp|7 7
Modified: src/tests/qpid_stream.cpp|26 5

Revision: 7f40d45becf07a2aa26c23a818cddc8d43a5d76d
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2010 16:20:48
Message:
QPID-2382: Checked in missing files from last commit #MsgLength=53


----
Added: include/qpid/client/amqp0_10/FailoverUpdates.h|53 0
Added: src/qpid/client/amqp0_10/FailoverUpdates.cpp|84 0
Added: src/qpid/client/amqp0_10/SimpleUrlParser.cpp|79 0
Added: src/qpid/client/amqp0_10/SimpleUrlParser.h|42 0

Revision: cafaa4baa8f2738f66d370ebfbd4d8df754937f2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/03/2010 00:48:12
Message:
Remove unnecessary dependency of qmf on qmfengine #MsgLength=50


----
Modified: src/CMakeLists.txt|1 1

Revision: ca6b62b7c66ce80156df50a7e052b543cfd7525b
Author: Alan Conway <aconway@apache.org>
Date: 13/03/2010 04:11:15
Message:
Fix for deadlock beween journal timer & connection threads. #MsgLength=118


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|2 1
Modified: src/qpid/broker/Message.cpp|24 3
Modified: src/qpid/broker/Message.h|3 2

Revision: 07e5a54f9e176f3bde69c20a2fbb59285ba52bf1
Author: Alan Conway <aconway@apache.org>
Date: 13/03/2010 04:11:31
Message:
New cluster member pushes store when joining an active cluster. #MsgLength=639


----
Modified: src/qpid/broker/IncompleteMessageList.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|67 24
Modified: src/qpid/cluster/Cluster.h|3 1
Modified: src/qpid/cluster/InitialStatusMap.cpp|21 11
Modified: src/qpid/cluster/InitialStatusMap.h|9 2
Modified: src/qpid/cluster/Multicaster.cpp|15 6
Modified: src/qpid/cluster/Multicaster.h|14 9
Modified: src/qpid/cluster/PollableQueue.h|19 1
Modified: src/qpid/cluster/StoreStatus.cpp|30 9
Modified: src/tests/InitialStatusMap.cpp|0 16
Modified: src/tests/cluster_tests.py|57 13

Revision: 7f83abea92da5150a7eaef4f6185933a85684b97
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/03/2010 04:20:55
Message:
Correct Windows qmf lib build so that the library entry points get exported without any warning #MsgLength=96


----
Modified: include/qpid/agent/QmfAgentImportExport.h|1 1

Revision: 326324f7f8e81327a9aaf646173edb8e497829da
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/03/2010 04:27:12
Message:
Export FailoverUpdate symbols necessary to link on Windows #MsgLength=59


----
Modified: include/qpid/client/amqp0_10/FailoverUpdates.h|4 2

Revision: b81ac5029f75541528547eebf866afa0ec4fa20b
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2010 04:08:10
Message:
Work-around for race condition in the IO layer. #MsgLength=357


----
Modified: src/qpid/cluster/UpdateClient.cpp|6 0
Modified: src/tests/ClusterFixture.cpp|2 2

Revision: 2733e6f1b807f7657db3d75b6fd95b28ec45a15a
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2010 04:08:17
Message:
QPID 24448: throw if no channels available when adding a session. #MsgLength=67


----
Modified: src/qpid/client/ConnectionImpl.cpp|2 1

Revision: 4b87a9d47eb6456e193d7754868cce999e2b8154
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2010 14:21:55
Message:
Simple script to build a client sdk for windows: This script requires 7z in addition to the usual windows build requirements to make the zip file #MsgLength=146


----
Added: bld-winsdk.ps1|57 0

Revision: 1fe4b048d5b3a68a5e3e67a6b58e3826acd1a441
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2010 00:04:45
Message:
Remove WCF products from the C++ packaging #MsgLength=43


----
Modified: CMakeLists.txt|0 31

Revision: 3db6e56cd66c269d98a0e58431af6d686c3f845a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2010 00:04:53
Message:
Remove unconditional debug libs from cmake install targets #MsgLength=59


----
Modified: src/CMakeLists.txt|0 30

Revision: 3d81e4d3134bb2b35433ef450066587a6f0d2a22
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2010 00:28:27
Message:
Remove warning #MsgLength=15


----
Modified: src/qpid/client/amqp0_10/Codecs.cpp|1 1

Revision: 02148106ce70337a2ae652f199148ed6a8f008a1
Author: Alan Conway <aconway@apache.org>
Date: 17/03/2010 02:01:38
Message:
Removed dependencies in qpid/messaging on qpid/client. #MsgLength=55


----
Modified: include/qpid/messaging/Address.h|1 1
Modified: include/qpid/messaging/Codec.h|1 1
Modified: include/qpid/messaging/Connection.h|5 10
Added: include/qpid/messaging/Handle.h|71 0
Added: include/qpid/messaging/ImportExport.h|33 0
Modified: include/qpid/messaging/ListContent.h|1 1
Modified: include/qpid/messaging/ListView.h|1 1
Modified: include/qpid/messaging/MapContent.h|1 1
Modified: include/qpid/messaging/MapView.h|1 1
Modified: include/qpid/messaging/Message.h|2 4
Modified: include/qpid/messaging/Receiver.h|14 13
Modified: include/qpid/messaging/Sender.h|5 10
Modified: include/qpid/messaging/Session.h|15 19
Modified: include/qpid/messaging/Uuid.h|1 1
Modified: include/qpid/messaging/Variant.h|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|2 2
Modified: src/qpid/messaging/Connection.cpp|3 9
Modified: src/qpid/messaging/ConnectionImpl.h|0 3
Added: src/qpid/messaging/PrivateImplRef.h|94 0
Modified: src/qpid/messaging/Receiver.cpp|3 9
Modified: src/qpid/messaging/ReceiverImpl.h|0 3
Modified: src/qpid/messaging/Sender.cpp|3 10
Modified: src/qpid/messaging/SenderImpl.h|0 3
Modified: src/qpid/messaging/Session.cpp|3 9
Modified: src/qpid/messaging/SessionImpl.h|0 3

Revision: 552c9a1330ec77808cb6a9da0fa49944afb30364
Author: Alan Conway <aconway@apache.org>
Date: 17/03/2010 04:46:02
Message:
Fix missing source files in distribution. #MsgLength=43


----
Modified: src/Makefile.am|5 2

Revision: f555da115d296a449c0cc60279a91389fc77aa97
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/03/2010 13:52:12
Message:
workaround for BZ 570168 ( see comment in code ) #MsgLength=50


----
Modified: src/qpid/client/TCPConnector.cpp|12 1

Revision: 55afdd7f14514d4b047d08daf0b8a846fca87d3b
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/03/2010 14:03:05
Message:
Initial checkin of a temporary place for external code documentation. Feel free to impose new structure here as we figure out what it should be. #MsgLength=146


----
Added: docs/src/DispatchHandle.odg|0 0

Revision: 374783a41f90bc03e96285c186d82aeffca19080
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/03/2010 14:34:08
Message:
initial checkin of CONTENTS file -- explanation of purpose of this directory. #MsgLength=79


----
Added: docs/src/CONTENTS|12 0

Revision: a569aa8eb3c4a0f735c3f15437e67f4db2a3f3ea
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2010 00:33:50
Message:
C++ automake build picks up version number from qpid/QPID_VERSION.txt. #MsgLength=72


----
Added: .gitignore|1 0
Modified: Makefile.am|1 1
Modified: bld-winsdk.ps1|1 1
Modified: bootstrap|5 2
Modified: configure.ac|8 2
Modified: examples/README.txt|11 11
Renamed: src/qpid/Version.h.in [from src/qpid/Version.h]|1 1

Revision: bb05dcdeb60d187d8f11a4663b4eeb00baf7ba44
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/03/2010 02:49:56
Message:
Fixed previous broken change which attempted to get version at configuration time. #MsgLength=83


----
Renamed: src/qpid/Version.h [from src/qpid/Version.h.in]|2 6

Revision: bef2bd3b65709e2eda005bb35a29554f8b715cab
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2010 03:16:36
Message:
Updated cmake build to pick up version from QPID_VERSION.txt. #MsgLength=63


----
Modified: BuildInstallSettings.cmake|11 2
Modified: src/CMakeLists.txt|3 0
Added: src/qpid/Version.h.cmake|44 0

Revision: 0f3d844db839757f4eb08226cf97e5302ddc8e10
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2010 03:25:51
Message:
Remove un-necessary Version.h.cmake #MsgLength=37


----
Modified: src/CMakeLists.txt|0 4
Deleted: src/qpid/Version.h.cmake|0 44

Revision: fc23091202f16ce5d97b676385a89b3aa6ccc12e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/03/2010 03:43:57
Message:
Get qpid version from top-level QPID_VERSION.txt file #MsgLength=55


----
Modified: bld-winsdk.ps1|15 2

Revision: d0ea497d9ced3fc3d7439ed8dc4180f3c964ab25
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2010 05:24:20
Message:
Remove Version.h reference from configure.ac. #MsgLength=46


----
Modified: configure.ac|0 3

Revision: cbeedb85452f6d7e59a090b3e2833c2fb6fea001
Author: Gordon Sim <gsim@apache.org>
Date: 19/03/2010 02:37:28
Message:
QPID-2452: Fixed control over the encoding used when sending a string valued variant. The user is currently responsible for correctly setting any encoding (e.g. utf8). If none is specified it will be transfered as an amqp0-10 vbin. Fixed bug preventing correct assignment of encoding in variants. #MsgLength=299


----
Modified: include/qpid/framing/FieldValue.h|10 0
Modified: src/qpid/client/amqp0_10/Codecs.cpp|27 3
Modified: src/qpid/framing/FieldValue.cpp|15 0
Modified: src/qpid/messaging/Variant.cpp|5 3
Modified: src/tests/MessagingSessionTests.cpp|10 0
Modified: src/tests/Variant.cpp|15 0

Revision: f69a6d451d935dc3b2eaa48ae2a7de81035caee7
Author: Gordon Sim <gsim@apache.org>
Date: 20/03/2010 01:04:18
Message:
QPID-664: Prevent dangling pointers when receiver/sender handles stay in scope after connection/session handles goes out of scope. This change require connections to be closed explicitly to avoid leaking memory. #MsgLength=212


----
Modified: examples/messaging/client.cpp|2 1
Modified: examples/messaging/drain.cpp|2 1
Modified: examples/messaging/map_receiver.cpp|2 1
Modified: examples/messaging/map_sender.cpp|2 2
Modified: examples/messaging/queue_receiver.cpp|2 1
Modified: examples/messaging/queue_sender.cpp|2 2
Modified: examples/messaging/server.cpp|2 1
Modified: examples/messaging/spout.cpp|2 1
Modified: examples/messaging/topic_receiver.cpp|2 1
Modified: examples/messaging/topic_sender.cpp|2 1
Modified: include/qpid/messaging/Connection.h|5 0
Modified: include/qpid/messaging/Session.h|6 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|9 9
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|4 3
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|7 7
Modified: src/qpid/client/amqp0_10/SenderImpl.h|4 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|4 4
Modified: src/qpid/client/amqp0_10/SessionImpl.h|2 1
Modified: src/tests/qpid_recv.cpp|2 1
Modified: src/tests/qpid_send.cpp|2 1
Modified: src/tests/qpid_stream.cpp|2 1

Revision: 6862a4353ece4226a5b940d92303126f379d7e7c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/03/2010 11:57:52
Message:
Make sure the client library Poller is created on library load before anything in the client program can be run. This ensures that it will be destroyed after anything in the client program is destroyed #MsgLength=202


----
Modified: src/qpid/client/ConnectionImpl.cpp|9 0

Revision: 9211634857987dc6cc7865b85a86a69b2f37fcc4
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2010 22:02:10
Message:
Updated cluster package names for Fedora 12. #MsgLength=45


----
Modified: INSTALL|2 0

Revision: 35b9ec9a87ab46870d51f86152f5e6506dea328c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/03/2010 03:57:35
Message:
Get qpid source on the cmdline Take an optional version string on cmdline Use a temporary install directory More work on following #install chains #MsgLength=147


----
Modified: bld-winsdk.ps1|68 17

Revision: 52333571a28b051c2996a01e274b1a75a0ace583
Author: Alan Conway <aconway@apache.org>
Date: 23/03/2010 03:58:13
Message:
Fix error in path to amqp.xml in configure.ac. #MsgLength=47


----
Modified: configure.ac|1 2

Revision: 863c8f7891314d0fef45b4b01ddf4c203b8a5381
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/03/2010 04:57:47
Message:
Add messaging drain and spout examples. #MsgLength=40


----
Modified: examples/examples.sln|12 0

Revision: ab1f2517ae877d19abc8b1e8836ec58ee82314d0
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/03/2010 00:28:33
Message:
Install/stage generated api docs to docs/api/html. Resolves QPID-2463. #MsgLength=71


----
Modified: BuildInstallSettings.cmake|1 1

Revision: 4771897329579b74bd84f532545cb27b1a704ada
Author: Alan Conway <aconway@apache.org>
Date: 24/03/2010 00:29:32
Message:
Defer Poller creation in ConnectionImpl IOThread from creation to first use. #MsgLength=78


----
Modified: src/qpid/client/ConnectionImpl.cpp|6 3

Revision: 860ac0833065a6818d88444d465fd1b100389c26
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/03/2010 06:27:57
Message:
Initial Windows installer builder combining C++ and WCF components in a WiX-based installer. Merged in from 0.6-release-windows-installer branch r926803 #MsgLength=154


----
Modified: src/CMakeLists.txt|73 3

Revision: a4841b492e7bdb8a7d9d1b7e40e56d4b9a31d4cc
Author: Gordon Sim <gsim@apache.org>
Date: 25/03/2010 02:35:11
Message:
QPID-664: Updates to address options to stay in-line with python client changes in r926604 #MsgLength=91


----
Modified: examples/messaging/readme.txt|4 6
Modified: include/qpid/messaging/Address.h|43 68
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|319 272
Modified: src/qpid/messaging/Address.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|9 9

Revision: 8cd4486b4aaa81cccb9794da49d52dabc530f9ea
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2010 02:56:33
Message:
Fix resource leaks in cluster_tests, add 5 minute test run to make check-long. #MsgLength=80


----
Modified: src/tests/cluster_tests.py|9 6
Modified: src/tests/run_long_cluster_tests|1 1

Revision: e583705571eb0087dc3674dd8dea350116f6a84c
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/03/2010 07:11:38
Message:
Add missing BOOST_ALL_DYN_LINK macro settings; merged in from 0.6-release-windows-installer branch. #MsgLength=100


----
Modified: examples/tradedemo/tradedemo_topic_publisher.vcproj|4 4

Revision: f4a01784a907923046500518d1fba5099ddef44b
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/03/2010 08:21:18
Message:
Add missing qpidxarm.dll and plug-ins to installer; resolves QPID-2467. Fix multi-platform installer build, legal files placement, install notes doc, and other miscellaneous nits in the installer. (Merged in from 0.6-release-windows-installer branch r927233) #MsgLength=259


----
Modified: CMakeLists.txt|2 3

Revision: 81d74413bf58e28097e6cd19bba9badddb68a675
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2010 20:43:09
Message:
Disable run_long_cluster_tests from make check-long until failures are fixed. #MsgLength=78


----
Modified: src/tests/cluster.mk|0 1

Revision: 98f8a81507e8b16e4564fb925fd43435ade49439
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2010 21:21:30
Message:
More generous overrun threshold for cluster timer to avoid excessive warnings. #MsgLength=80


----
Modified: src/qpid/cluster/ClusterTimer.cpp|5 1
Modified: src/qpid/sys/Timer.cpp|17 15
Modified: src/qpid/sys/Timer.h|4 0

Revision: 6de6ec20baaa541489b069f093840c77928ee982
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2010 21:21:37
Message:
Fix "Session was not closed cleanly" warnings in a cluster broker giving an update. #MsgLength=85


----
Modified: src/qpid/client/SessionImpl.cpp|4 4

Revision: 5004314c789050646a1d1fafbda9305063571130
Author: Alan Conway <aconway@apache.org>
Date: 25/03/2010 21:21:45
Message:
Fix "Ignoring frame while closing connection" warnings in a cluster broker giving an update. #MsgLength=94


----
Modified: src/qpid/cluster/UpdateClient.cpp|4 1

Revision: f28eaec229a5f82b3c4212e533d60e2dc9387093
Author: Alan Conway <aconway@apache.org>
Date: 26/03/2010 01:19:31
Message:
Re-eneable run_long_cluster_tests. #MsgLength=203


----
Modified: src/tests/cluster.mk|1 0
Modified: src/tests/cluster_tests.py|17 19
Modified: src/tests/run_long_cluster_tests|2 1

Revision: 7cbf8023543143670aa1d5cdf2083b39bb444fc3
Author: Alan Conway <aconway@apache.org>
Date: 26/03/2010 21:40:02
Message:
Fix race condition causing deadlock in cluster_tests.py, failover_test. #MsgLength=73


----
Modified: src/tests/cluster_tests.py|1 1

Revision: a54949df9a3626e95ade35b3a789a121f6efe0da
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 27/03/2010 02:27:17
Message:
QPID-2454 Messages set with a TTL expire immediately when sent on qpid queues with LVQ ordering #MsgLength=96


----
Modified: src/qpid/broker/Queue.cpp|1 0

Revision: 3fef94d3fe7e3185550a46c25ec80e3f54ab65aa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/03/2010 04:49:46
Message:
Move ManagementAgent class statics to be file static to avoid exposing their types in the header file #MsgLength=102


----
Modified: include/qpid/agent/ManagementAgent.h|0 6
Modified: src/qpid/agent/ManagementAgentImpl.cpp|7 4

Revision: 2af9cd06e270c48844f278b5124afe56529ee214
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2010 21:54:46
Message:
Raise ClusterTimer lateness threshold to reduce noisy warnings. #MsgLength=65


----
Modified: src/qpid/cluster/Cluster.cpp|3 1
Modified: src/qpid/cluster/ClusterTimer.cpp|1 0

Revision: 579f1c8a289cd5b6c069ed8cf80851b28a6a0aed
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2010 00:00:24
Message:
QPID-664: move Variant and Uuid from messaging to types namespace #MsgLength=66


----
Modified: examples/messaging/drain.cpp|1 0
Modified: examples/messaging/map_receiver.cpp|1 0
Modified: examples/messaging/map_sender.cpp|1 0
Modified: examples/messaging/server.cpp|0 1
Modified: examples/messaging/spout.cpp|2 1
Modified: examples/messaging/topic_receiver.cpp|0 1
Modified: include/qpid/client/amqp0_10/Codecs.h|4 4
Modified: include/qpid/messaging/Address.h|6 6
Modified: include/qpid/messaging/Codec.h|5 3
Modified: include/qpid/messaging/Connection.h|3 3
Modified: include/qpid/messaging/ListContent.h|16 16
Modified: include/qpid/messaging/ListView.h|6 6
Modified: include/qpid/messaging/MapContent.h|11 11
Modified: include/qpid/messaging/MapView.h|6 6
Modified: include/qpid/messaging/Message.h|3 3
Deleted: include/qpid/messaging/Variant.h|0 174
Renamed: include/qpid/types/Uuid.h [from include/qpid/messaging/Uuid.h]|34 34
Added: include/qpid/types/Variant.h|174 0
Modified: src/CMakeLists.txt|2 2
Modified: src/Makefile.am|4 4
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 4
Modified: src/qpid/client/amqp0_10/AddressResolution.h|0 1
Modified: src/qpid/client/amqp0_10/Codecs.cpp|4 3
Modified: src/qpid/client/amqp0_10/CodecsInternal.h|3 3
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|3 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|4 4
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|2 2
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|0 1
Modified: src/qpid/client/amqp0_10/SenderImpl.h|0 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|0 1
Modified: src/qpid/client/amqp0_10/SessionImpl.h|0 1
Modified: src/qpid/messaging/Address.cpp|2 0
Modified: src/qpid/messaging/AddressParser.cpp|2 0
Modified: src/qpid/messaging/AddressParser.h|10 10
Modified: src/qpid/messaging/Connection.cpp|2 0
Modified: src/qpid/messaging/ConnectionImpl.h|6 2
Modified: src/qpid/messaging/ListContent.cpp|2 0
Modified: src/qpid/messaging/ListView.cpp|2 0
Modified: src/qpid/messaging/MapContent.cpp|2 0
Modified: src/qpid/messaging/MapView.cpp|2 0
Modified: src/qpid/messaging/Message.cpp|2 0
Modified: src/qpid/messaging/MessageImpl.cpp|2 0
Modified: src/qpid/messaging/MessageImpl.h|4 4
Renamed: src/qpid/types/Uuid.cpp [from src/qpid/messaging/Uuid.cpp]|3 3
Renamed: src/qpid/types/Variant.cpp [from src/qpid/messaging/Variant.cpp]|3 3
Modified: src/tests/Address.cpp|2 1
Modified: src/tests/MessagingSessionTests.cpp|1 0
Modified: src/tests/Uuid.cpp|8 8
Modified: src/tests/Variant.cpp|2 2
Modified: src/tests/qpid_recv.cpp|1 0
Modified: src/tests/qpid_send.cpp|1 0
Modified: src/tests/qpid_stream.cpp|1 0

Revision: 04a161eec70dc6e0e5ddf48f032542a9eb3b1a90
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2010 02:15:42
Message:
QPID-2406: a more explicit solution for durations in the messaging api #MsgLength=71


----
Modified: examples/messaging/drain.cpp|2 2
Modified: include/qpid/messaging/Duration.h|15 4
Modified: include/qpid/messaging/Receiver.h|4 4
Modified: include/qpid/messaging/Session.h|2 2
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|1 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|2 1
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|1 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|3 2
Added: src/qpid/messaging/Duration.cpp|45 0
Modified: src/qpid/messaging/Message.cpp|2 2
Modified: src/tests/MessagingSessionTests.cpp|18 18
Modified: src/tests/qpid_recv.cpp|3 3
Modified: src/tests/qpid_send.cpp|1 1

Revision: fdca90af7b6a32e2e2d2441136202681f970aa13
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2010 03:21:26
Message:
QPID-664: renamed headers as properties (to match python); added priority #MsgLength=74


----
Modified: examples/messaging/drain.cpp|1 1
Modified: examples/messaging/spout.cpp|3 3
Modified: include/qpid/messaging/Message.h|7 3
Modified: src/qpid/client/amqp0_10/FailoverUpdates.cpp|1 1
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|4 3
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|5 2
Modified: src/qpid/messaging/Message.cpp|7 3
Modified: src/qpid/messaging/MessageImpl.cpp|2 0
Modified: src/qpid/messaging/MessageImpl.h|1 0
Modified: src/tests/ClientMessage.cpp|2 2
Modified: src/tests/MessagingSessionTests.cpp|2 2
Modified: src/tests/qpid_recv.cpp|3 3
Modified: src/tests/qpid_send.cpp|4 4
Modified: src/tests/qpid_stream.cpp|2 2

Revision: 87af2966d09caafc927f9befc54607299e39e929
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/03/2010 04:02:35
Message:
Rename Duration::INFINITE to Duration::FOREVER; resolves QPID-2475. Added missing QPID_CLIENT_EXTERN where needed in Duration class to build on Windows. #MsgLength=153


----
Modified: examples/messaging/drain.cpp|1 1
Modified: include/qpid/messaging/Duration.h|12 8
Modified: include/qpid/messaging/Receiver.h|4 4
Modified: include/qpid/messaging/Session.h|2 2
Modified: src/qpid/messaging/Duration.cpp|1 1
Modified: src/tests/qpid_recv.cpp|1 1

Revision: 5b8c366351810370615790eef3e2fcd2b777e766
Author: Ken Giusti <kgiusti@apache.org>
Date: 31/03/2010 04:09:59
Message:
add support for QMF TYPE_LIST in engine, ruby and python wrappers #MsgLength=66


----
Modified: bindings/qmf/python/qmf.py|24 6
Modified: bindings/qmf/ruby/qmf.rb|20 2
Modified: bindings/qmf/tests/agent_ruby.rb|6 0
Modified: bindings/qmf/tests/python_agent.py|7 1
Modified: bindings/qmf/tests/python_console.py|20 1
Modified: bindings/qmf/tests/ruby_console_test.rb|17 0
Modified: src/qmf/engine/ValueImpl.cpp|149 18
Modified: src/qmf/engine/ValueImpl.h|9 4

Revision: 3713f0d18061b39092af47d4f6941e56fe40f69a
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:56:53
Message:
Fix intermittent failure of cluster_tests.py test_last_store_clean. #MsgLength=69


----
Modified: src/tests/cluster_tests.py|6 1

Revision: 3e5ddef02bfa515ce9842bf2dc47f72385da1a4d
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:57:02
Message:
Remove dead PeriodicTimer code. #MsgLength=33


----
Deleted: src/qpid/broker/DelegatingPeriodicTimer.cpp|0 50
Deleted: src/qpid/broker/DelegatingPeriodicTimer.h|0 57
Deleted: src/qpid/cluster/PeriodicTimerImpl.cpp|0 84
Deleted: src/qpid/cluster/PeriodicTimerImpl.h|0 72
Deleted: src/qpid/sys/PeriodicTimer.h|0 56
Deleted: src/qpid/sys/PeriodicTimerImpl.cpp|0 49
Deleted: src/qpid/sys/PeriodicTimerImpl.h|0 48

Revision: 9e0077d300c33282dd85e6fad552bca48be4a54a
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:57:12
Message:
Cluster logging improvements: log config changes in the deliver thread. #MsgLength=73


----
Modified: src/qpid/cluster/Cluster.cpp|41 36
Modified: src/qpid/cluster/Cluster.h|5 1
Modified: src/qpid/cluster/ErrorCheck.cpp|1 1
Modified: src/qpid/cluster/StoreStatus.h|3 0
Modified: xml/cluster.xml|3 1

Revision: 45bd9691f1e49b9d213669b0d874768890bba8e3
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:57:22
Message:
Fix hanging failover_soak test. #MsgLength=238


----
Modified: src/qpid/cluster/Cluster.cpp|2 0
Modified: src/qpid/cluster/PollableQueue.h|1 4
Modified: src/tests/failover_soak.cpp|2 2

Revision: 6dcfab98b6948f524b688184422c85164761dc48
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:57:30
Message:
Fixed bug that caused a busy-wait if an item was pushed to a stopped queue. #MsgLength=165


----
Modified: src/qpid/sys/PollableQueue.h|1 1

Revision: fb14b2ec04b4fc9c0776a32cd294c5103180b861
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2010 04:57:37
Message:
Joining a cluster: don't push an empty store. #MsgLength=47


----
Modified: src/qpid/cluster/Cluster.cpp|1 0

Revision: 9b5df1bbc124147ecd456ba428829dd4e423c596
Author: Gordon Sim <gsim@apache.org>
Date: 01/04/2010 00:17:17
Message:
QPID-664: made changes suggested by Alan Conway, also moved 0-10 map/list codecs to common lib #MsgLength=95


----
Modified: examples/messaging/client.cpp|1 1
Modified: examples/messaging/drain.cpp|4 3
Modified: examples/messaging/map_receiver.cpp|3 4
Modified: examples/messaging/map_sender.cpp|3 4
Modified: examples/messaging/queue_receiver.cpp|1 1
Modified: examples/messaging/queue_sender.cpp|1 1
Modified: examples/messaging/server.cpp|1 1
Modified: examples/messaging/spout.cpp|5 6
Modified: examples/messaging/topic_receiver.cpp|1 1
Modified: examples/messaging/topic_sender.cpp|1 1
Renamed: include/qpid/amqp_0_10/Codecs.h [from include/qpid/client/amqp0_10/Codecs.h]|26 17
Modified: include/qpid/messaging/Address.h|18 4
Deleted: include/qpid/messaging/Codec.h|0 46
Modified: include/qpid/messaging/Connection.h|8 3
Deleted: include/qpid/messaging/ListContent.h|0 91
Deleted: include/qpid/messaging/ListView.h|0 67
Deleted: include/qpid/messaging/MapContent.h|0 91
Deleted: include/qpid/messaging/MapView.h|0 70
Modified: include/qpid/messaging/Message.h|57 4
Modified: include/qpid/messaging/Receiver.h|4 4
Modified: include/qpid/messaging/Sender.h|4 1
Modified: include/qpid/messaging/Session.h|4 4
Modified: include/qpid/types/Variant.h|1 4
Modified: src/CMakeLists.txt|1 6
Modified: src/Makefile.am|2 12
Renamed: src/qpid/amqp_0_10/Codecs.cpp [from src/qpid/client/amqp0_10/Codecs.cpp]|11 16
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|21 34
Deleted: src/qpid/client/amqp0_10/CodecsInternal.h|0 41
Modified: src/qpid/client/amqp0_10/FailoverUpdates.cpp|1 1
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|3 3
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|2 2
Modified: src/qpid/messaging/Address.cpp|3 9
Modified: src/qpid/messaging/Connection.cpp|3 4
Deleted: src/qpid/messaging/ListContent.cpp|0 106
Deleted: src/qpid/messaging/ListView.cpp|0 65
Deleted: src/qpid/messaging/MapContent.cpp|0 96
Deleted: src/qpid/messaging/MapView.cpp|0 65
Modified: src/qpid/messaging/Message.cpp|64 7
Modified: src/qpid/messaging/MessageImpl.cpp|2 2
Modified: src/qpid/messaging/Receiver.cpp|2 2
Modified: src/qpid/messaging/Sender.cpp|1 1
Modified: src/qpid/messaging/Session.cpp|2 2
Modified: src/qpid/types/Variant.cpp|1 1
Modified: src/tests/Address.cpp|9 9
Modified: src/tests/MessagingSessionTests.cpp|34 36
Modified: src/tests/qpid_recv.cpp|1 1
Modified: src/tests/qpid_send.cpp|2 3
Modified: src/tests/qpid_stream.cpp|1 1

Revision: d6cce60872e9b8116226305b28a22f07bf40c7d0
Author: Alan Conway <aconway@apache.org>
Date: 01/04/2010 00:52:50
Message:
Cluster: remove un-necessary code for config-seq. #MsgLength=51


----
Modified: src/qpid/cluster/Cluster.cpp|1 5
Modified: src/qpid/cluster/ClusterMap.cpp|5 8
Modified: src/qpid/cluster/ClusterMap.h|2 4
Modified: src/qpid/cluster/Connection.cpp|2 3
Modified: src/qpid/cluster/Connection.h|1 2
Modified: src/qpid/cluster/StoreStatus.cpp|2 18
Modified: src/qpid/cluster/StoreStatus.h|0 3
Modified: src/tests/cluster_test.cpp|1 1
Modified: xml/cluster.xml|0 1

Revision: c599e15be736a72a2882dc90460c76803a7b488f
Author: Gordon Sim <gsim@apache.org>
Date: 01/04/2010 00:53:57
Message:
QPID-2477: cleanup from patch by Jan Sarenik #MsgLength=45


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|0 1

Revision: 431161a2dc1f5a7ea36ebae8d6fd1c4a33c105bf
Author: Alan Conway <aconway@apache.org>
Date: 01/04/2010 02:54:59
Message:
Fix error in cluster_tests.py test_join_sub_size #MsgLength=119


----
Modified: src/tests/cluster_tests.py|3 1

Revision: db5f7dbe2d1f9ee9ce5449832b926fefbfdd7c4e
Author: Alan Conway <aconway@apache.org>
Date: 01/04/2010 03:43:08
Message:
Removed config-sequence test from cluster_tests.py, functionality was removed. #MsgLength=80


----
Modified: src/tests/cluster_tests.py|0 23

Revision: 454f5f28323dd49e1b6d75a19e0c318275d1b14d
Author: Ted Ross <tross@apache.org>
Date: 01/04/2010 05:13:12
Message:
Merged the changes from the qmf-devel0.7a branch back to the trunk. This is a checkpoint along the QMFv2 development path. This update introduces portions of QMFv2 into the code: - The C++ agent (qpid/agent) uses QMFv2 for data and method transfer o The APIs no longer use qpid::framing::* o Consequently, boost is no longer referenced from the API headers. o Agents and Objects are now referenced by strings, not numbers. o Schema transfer still uses the QMFv1 format. - The broker-resident agent can use QMFv1 or QMFv2 based on the command line options. It defaults to QMFv1 for compatibility. - The pure-python QMF console (qmf.console) can concurrently interact with both QMFv1 and QMFv2 agents. #MsgLength=731


----
Modified: bindings/qmf/tests/python_console.py|1 1
Modified: examples/qmf-agent/example.cpp|20 1
Modified: examples/qmf-agent/schema.xml|2 0
Modified: include/qpid/agent/ManagementAgent.h|14 0
Modified: include/qpid/framing/FieldTable.h|1 0
Modified: include/qpid/management/ManagementEvent.h|8 4
Modified: include/qpid/management/ManagementObject.h|59 24
Modified: managementgen/qmf-gen|2 0
Modified: managementgen/qmfgen/generate.py|24 17
Modified: managementgen/qmfgen/management-types.xml|23 5
Modified: managementgen/qmfgen/schema.py|308 6
Modified: managementgen/qmfgen/templates/Args.h|2 2
Modified: managementgen/qmfgen/templates/Class.cpp|142 16
Modified: managementgen/qmfgen/templates/Class.h|19 11
Modified: managementgen/qmfgen/templates/Event.cpp|28 6
Modified: managementgen/qmfgen/templates/Event.h|4 5
Modified: src/qpid/acl/Acl.cpp|3 2
Modified: src/qpid/agent/ManagementAgentImpl.cpp|443 230
Modified: src/qpid/agent/ManagementAgentImpl.h|32 10
Modified: src/qpid/broker/Broker.cpp|7 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|5 4
Modified: src/qpid/broker/System.cpp|2 1
Modified: src/qpid/management/ManagementAgent.cpp|1209 196
Modified: src/qpid/management/ManagementAgent.h|44 9
Modified: src/qpid/management/ManagementDirectExchange.cpp|7 3
Modified: src/qpid/management/ManagementObject.cpp|184 40
Modified: src/qpid/management/ManagementTopicExchange.cpp|7 8
Modified: src/tests/Makefile.am|3 3
Modified: src/tests/ManagementTest.cpp|12 10

Revision: 261265d0aaa03b0f74e395300938034196cdca83
Author: Ted Ross <tross@apache.org>
Date: 01/04/2010 10:57:22
Message:
Adapted test to an API change in qmf.console. #MsgLength=47


----
Modified: src/tests/verify_cluster_objects|2 2

Revision: 1144ffd86fb5a145f569f56e28d8f1b972cb5631
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/04/2010 00:28:38
Message:
Add missing QPID_COMMON_EXTERNs to fix build on Windows. #MsgLength=57


----
Modified: include/qpid/amqp_0_10/Codecs.h|7 4
Modified: include/qpid/framing/Uuid.h|1 1

Revision: 39b9a55123652bd821202e9d677a592466a389bd
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2010 01:51:04
Message:
Update cluster store status with a single atomic write() operation. #MsgLength=69


----
Modified: src/qpid/cluster/Cluster.cpp|13 7
Modified: src/qpid/cluster/StoreStatus.cpp|60 64
Modified: src/qpid/cluster/StoreStatus.h|5 7
Modified: src/qpid/framing/Uuid.cpp|4 2
Modified: src/tests/StoreStatus.cpp|6 4
Modified: src/tests/Uuid.cpp|24 0
Modified: src/tests/cluster_tests.py|14 25
Modified: src/tests/testagent.mk|1 1

Revision: 6acbbdea8f294a5d52400c45b53481cdebd3c2ed
Author: Gordon Sim <gsim@apache.org>
Date: 02/04/2010 02:41:37
Message:
QPID-664: minor adjustment to connection option names #MsgLength=54


----
Modified: include/qpid/messaging/Connection.h|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|3 3

Revision: 7bb3dd9817e0a969cd3a87de5982e21571639f43
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/04/2010 07:39:52
Message:
Add missing QPID_CLIENT_EXTERNs to fix build on Windows. #MsgLength=57


----
Modified: include/qpid/messaging/Message.h|12 4

Revision: 477289c1140873b2f4d8574c1a9f7eaf06f90466
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2010 04:00:06
Message:
Remove unnecessary reference to qpid/sys/Time.h to avoid pulling in boost on Windows. Stop Duration.h referring to qpid/client include files. #MsgLength=142


----
Modified: include/qpid/messaging/Duration.h|1 1
Modified: include/qpid/messaging/Session.h|0 1

Revision: bc96c49c7fe0ec5dac14d5219672002f79681928
Author: Gordon Sim <gsim@apache.org>
Date: 06/04/2010 22:52:47
Message:
QPID-664: added param to control synchronous send and acknowledge #MsgLength=66


----
Modified: examples/messaging/map_sender.cpp|1 2
Modified: examples/messaging/queue_sender.cpp|1 2
Modified: examples/messaging/topic_sender.cpp|1 2
Modified: include/qpid/messaging/Sender.h|7 2
Modified: include/qpid/messaging/Session.h|4 1
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|2 1
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.h|1 1
Modified: src/qpid/messaging/Sender.cpp|1 1
Modified: src/qpid/messaging/SenderImpl.h|1 1
Modified: src/qpid/messaging/Session.cpp|1 1
Modified: src/qpid/messaging/SessionImpl.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|12 0

Revision: 3f3d02de30d33834e5bcc07fbf4e8c7026143139
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/04/2010 23:24:33
Message:
verify broker UUID read from config file #MsgLength=41


----
Modified: src/qpid/management/ManagementAgent.cpp|5 1

Revision: 68f81184e568fd5b21edfd4998019f56b21d2d91
Author: Ken Giusti <kgiusti@apache.org>
Date: 07/04/2010 02:18:44
Message:
QPID-2482: prevent duplication of messages that match multiple binding keys on a topic exchange #MsgLength=96


----
Modified: src/qpid/broker/TopicExchange.cpp|9 2
Modified: src/tests/federation.py|51 0

Revision: 42ee0f4683569666a1e74d352691eb4479da54f0
Author: Gordon Sim <gsim@apache.org>
Date: 07/04/2010 03:08:28
Message:
QPID-664: added method to release messages #MsgLength=43


----
Modified: include/qpid/messaging/Session.h|8 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|12 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|10 0
Modified: src/qpid/messaging/Session.cpp|1 0
Modified: src/qpid/messaging/SessionImpl.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|15 0

Revision: 2104d66734a1600b47bc42e4d5d5eb06c33c32a8
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/04/2010 05:59:34
Message:
Be sure not to back off the beginning of rules in loadDecisionData(). Resolves QPID-2474. Also replaced tabs with spaces. #MsgLength=122


----
Modified: src/qpid/acl/AclReader.cpp|139 130

Revision: 1a92dd93bc50e56dfcba9297d343fa9046781a4c
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2010 03:41:44
Message:
QPID-664: removed flush, added option to make sync non-blocking if so desired #MsgLength=78


----
Modified: include/qpid/client/SessionBase_0_10.h|2 0
Modified: include/qpid/messaging/Connection.h|0 3
Modified: include/qpid/messaging/Session.h|9 2
Modified: src/qpid/client/SessionBase_0_10.cpp|7 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|7 16
Modified: src/qpid/client/amqp0_10/SessionImpl.h|6 8
Modified: src/qpid/messaging/Session.cpp|2 7
Modified: src/qpid/messaging/SessionImpl.h|1 2

Revision: 3f72879f85a12f7fa395991f87076d8e8a2aaff2
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 03:51:09
Message:
Added AbsTime::epoch()) constant to Time.h to provide a portable reference time point. #MsgLength=87


----
Modified: include/qpid/sys/Time.h|4 1
Modified: src/qpid/sys/posix/Time.cpp|2 0
Modified: src/qpid/sys/windows/Time.cpp|4 0

Revision: 2074e10f2013ea0e826dada348452c76530a2aab
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 03:51:20
Message:
Extend qpid_send, qpid_recv to measure throughput and latency. #MsgLength=63


----
Modified: src/tests/Makefile.am|4 2
Added: src/tests/Statistics.cpp|119 0
Added: src/tests/Statistics.h|106 0
Modified: src/tests/qpid_recv.cpp|20 6
Modified: src/tests/qpid_send.cpp|68 11

Revision: 5159a5303a751c8e0a921e099f8117e481b14c11
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 03:59:20
Message:
Fix compiler warnings "virtual function but no virtual destructor". #MsgLength=69


----
Modified: src/tests/Statistics.cpp|4 0
Modified: src/tests/Statistics.h|3 0
Modified: src/tests/qpid_send.cpp|1 0

Revision: 6d61c05f920830ebd4a6fe88601754c103e02468
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 04:51:05
Message:
Fix ambiguous --report option in qpid_send, qpid_recv. #MsgLength=56


----
Modified: src/tests/qpid_recv.cpp|5 5
Modified: src/tests/qpid_send.cpp|4 4

Revision: 13293df539f97264b9b2cd45ccbebc616535377e
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 04:51:14
Message:
Use read-write lock to imporve Logger concurrency. #MsgLength=52


----
Modified: include/qpid/log/Logger.h|1 0
Modified: src/qpid/log/Logger.cpp|3 3

Revision: 61cbe6c6714d59dda446ccdefc7cd945e7209954
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2010 05:18:27
Message:
Add Statistics.h/.cpp to Makefile.am and CMakeLists.txt. #MsgLength=58


----
Modified: src/tests/CMakeLists.txt|2 2
Modified: src/tests/Makefile.am|2 0

Revision: 46eefef9dacc36f7f3e0b5a0e2a92fc01dfdc027
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/04/2010 12:53:26
Message:
Improved fix for to create client library Poller. Improved because it is now created at first need rather than library load. #MsgLength=125


----
Modified: src/qpid/client/Connection.cpp|4 1
Modified: src/qpid/client/ConnectionImpl.cpp|7 9
Modified: src/qpid/client/ConnectionImpl.h|3 1

Revision: 097b08b919be27f81043e21e2d196c560a479aae
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/04/2010 12:53:33
Message:
Changed the recent AbsTime::Epoch code to conform better to the previously existing code. Fixed AbsTime to compile on Windows again. Removed unused and seemingly extraneous serialize() code from AbsTime. #MsgLength=204


----
Modified: include/qpid/sys/Time.h|4 2
Modified: src/qpid/sys/posix/Time.cpp|5 2
Modified: src/qpid/sys/windows/Time.cpp|6 4
Modified: src/tests/Statistics.cpp|1 1
Modified: src/tests/qpid_send.cpp|1 1

Revision: 3d3b2492d67f3aa7e034b804265b8de7ef52e845
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/04/2010 13:07:08
Message:
Remove some clunky accessors for AbsTime on Windows and replace by making Condition a friend class of AbsTime. #MsgLength=111


----
Modified: include/qpid/sys/Time.h|1 1
Modified: include/qpid/sys/windows/Condition.h|1 4
Modified: src/qpid/sys/windows/Time.cpp|0 4

Revision: dc44df1714111f3607a1d1f82b2e29c7a37e2c40
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2010 17:47:21
Message:
QPID-664: set content-type on encoded messages, removed some duplication and added in a typedef to codecs that may be useful #MsgLength=125


----
Modified: include/qpid/amqp_0_10/Codecs.h|6 4
Modified: src/qpid/messaging/Message.cpp|41 32

Revision: 59d5f452666388c97d6fee5342b789e3f44a7028
Author: Gordon Sim <gsim@apache.org>
Date: 08/04/2010 17:49:04
Message:
QPID-664: changed open() to connect(), moved url parameter to constructor, added detach() and isConnected() #MsgLength=108


----
Modified: examples/messaging/client.cpp|2 2
Modified: examples/messaging/drain.cpp|2 2
Modified: examples/messaging/map_receiver.cpp|2 2
Modified: examples/messaging/map_sender.cpp|2 2
Modified: examples/messaging/queue_receiver.cpp|2 2
Modified: examples/messaging/queue_sender.cpp|2 2
Modified: examples/messaging/server.cpp|2 2
Modified: examples/messaging/spout.cpp|2 2
Modified: examples/messaging/topic_receiver.cpp|2 2
Modified: examples/messaging/topic_sender.cpp|2 2
Modified: include/qpid/messaging/Connection.h|6 4
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|13 8
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|4 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/qpid/messaging/Connection.cpp|7 5
Modified: src/qpid/messaging/ConnectionImpl.h|3 1
Modified: src/tests/MessagingSessionTests.cpp|2 2
Modified: src/tests/qpid_recv.cpp|2 2
Modified: src/tests/qpid_send.cpp|2 2
Modified: src/tests/qpid_stream.cpp|2 2

Revision: 750b5b6637170d70e43985e35ca51bb552e3412e
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2010 00:24:08
Message:
Renamed qpid_recv to qpid_receive. #MsgLength=36


----
Modified: src/tests/CMakeLists.txt|3 5
Modified: src/tests/Makefile.am|4 4
Renamed: src/tests/qpid_receive.cpp [from src/tests/qpid_recv.cpp]|0 0

Revision: 853237fabbf90de1833be49435b270639f643dac
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/04/2010 00:35:29
Message:
Removed QPID_COMMON_EXTERN from inlined constructor. #MsgLength=53


----
Modified: include/qpid/sys/Time.h|1 1

Revision: 54f2d8f07c2437a066cc12a65b28a93db049247a
Author: Ken Giusti <kgiusti@apache.org>
Date: 09/04/2010 01:58:26
Message:
QPID-2487: always save the origin, even if queue is already bound #MsgLength=66


----
Modified: src/qpid/broker/DirectExchange.cpp|11 0
Modified: src/qpid/broker/FanOutExchange.cpp|2 0
Modified: src/qpid/broker/HeadersExchange.cpp|1 0
Modified: src/qpid/broker/TopicExchange.cpp|4 1

Revision: c9614bb4294d244e9ca633d1be1a02c413c5e46c
Author: Stephen D. Huston <shuston@apache.org>
Date: 09/04/2010 05:52:22
Message:
Install remainder of required Boost headers and Boost .libs for Windows installer; resolves QPID-2483. (merged from 0.6-release-windows-installer branch) #MsgLength=154


----
Modified: src/CMakeLists.txt|34 19

Revision: 537dd654be0d2f59427d5131b66e265a77b74070
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 09/04/2010 06:12:03
Message:
Committing the patch attached to QPID-2488 #MsgLength=44


----
Modified: src/CMakeLists.txt|2 0
Modified: src/acl.mk|3 1
Modified: src/qpid/acl/Acl.cpp|4 0
Added: src/qpid/acl/AclValidator.cpp|141 0
Added: src/qpid/acl/AclValidator.h|82 0

Revision: 10559fd8445371ee940ce7c676506fccdad730ec
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 09/04/2010 06:13:07
Message:
This adds test cases for QPID-2488 #MsgLength=36


----
Modified: src/tests/acl.py|75 0

Revision: bf3c307c193008d29c4a1db55651cc9b6c4d92d3
Author: Ted Ross <tross@apache.org>
Date: 09/04/2010 11:53:30
Message:
QPID-2489 - Remove references to boost:: and qpid::framing:: from QMF-generated cpp files #MsgLength=293


----
Modified: include/qpid/amqp_0_10/Codecs.h|2 0
Modified: include/qpid/framing/Buffer.h|1 0
Added: include/qpid/management/Buffer.h|106 0
Modified: managementgen/qmfgen/management-types.xml|16 13
Modified: managementgen/qmfgen/schema.py|31 31
Modified: managementgen/qmfgen/templates/Args.h|0 2
Modified: managementgen/qmfgen/templates/Class.cpp|9 8
Modified: managementgen/qmfgen/templates/Event.cpp|6 5
Modified: src/Makefile.am|2 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|14 0
Added: src/qpid/management/Buffer.cpp|103 0

Revision: 0f3e60fcbfe1f949d516754fb68fe4dc79375dac
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 09/04/2010 21:54:37
Message:
Adding virtual destructors. The virtual dtor warning is not given on fedora 11 but is on rhel5, so I missed it the first time around. #MsgLength=135


----
Modified: src/qpid/acl/AclValidator.h|3 0

Revision: bb86c5291cf67f29c101f249eee1031e7240fe60
Author: Gordon Sim <gsim@apache.org>
Date: 09/04/2010 23:08:47
Message:
QPID-664: changed connect() back to open(),removed detach(),defined new exception hierarchy, added ability to re-use reconnect/replay logic for resource-limit-exceeded errors #MsgLength=175


----
Modified: examples/messaging/client.cpp|1 1
Modified: examples/messaging/drain.cpp|1 1
Modified: examples/messaging/map_receiver.cpp|1 1
Modified: examples/messaging/map_sender.cpp|1 1
Modified: examples/messaging/queue_receiver.cpp|1 1
Modified: examples/messaging/queue_sender.cpp|1 1
Modified: examples/messaging/server.cpp|1 1
Modified: examples/messaging/spout.cpp|1 1
Modified: examples/messaging/topic_receiver.cpp|1 1
Modified: examples/messaging/topic_sender.cpp|1 1
Modified: include/qpid/client/SessionBase_0_10.h|0 3
Modified: include/qpid/messaging/Address.h|1 18
Modified: include/qpid/messaging/Connection.h|5 9
Modified: include/qpid/messaging/Receiver.h|1 3
Modified: include/qpid/messaging/Session.h|4 6
Added: include/qpid/messaging/exceptions.h|150 0
Added: include/qpid/types/Exception.h|44 0
Modified: include/qpid/types/Variant.h|2 2
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|4 0
Modified: src/qpid/client/SessionBase_0_10.cpp|0 7
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|52 50
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|40 12
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|4 3
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|4 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|35 8
Modified: src/qpid/client/amqp0_10/SessionImpl.h|16 1
Modified: src/qpid/messaging/Address.cpp|0 4
Modified: src/qpid/messaging/Connection.cpp|3 6
Modified: src/qpid/messaging/ConnectionImpl.h|2 3
Modified: src/qpid/messaging/Message.cpp|2 2
Modified: src/qpid/messaging/Session.cpp|10 1
Modified: src/qpid/messaging/SessionImpl.h|1 0
Added: src/qpid/messaging/exceptions.cpp|58 0
Added: src/qpid/types/Exception.cpp|30 0
Modified: src/qpid/types/Variant.cpp|4 4
Modified: src/tests/MessagingSessionTests.cpp|7 7
Modified: src/tests/qpid_receive.cpp|1 1
Modified: src/tests/qpid_send.cpp|1 1
Modified: src/tests/qpid_stream.cpp|1 1

Revision: 47831e7ea000dbbd0adcb26d4a0b2e2fea040ddc
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2010 00:06:02
Message:
Script to run performance benchmarks using qpid_send and qpid_receive. #MsgLength=72


----
Modified: src/tests/Statistics.cpp|23 16
Added: src/tests/qpid_cpp_benchmark|106 0

Revision: f394ceae33c872aa7b47291a8d4ae50993dd3d77
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2010 00:23:57
Message:
Fix --send-rate option in qpid_cpp_benchmark. #MsgLength=47


----
Modified: src/tests/qpid_cpp_benchmark|2 1

Revision: b11d8f347c65054343063182c9186e1275bb1282
Author: Gordon Sim <gsim@apache.org>
Date: 10/04/2010 00:27:35
Message:
QPID-664: changed pending to unsettled; added available to sender; minor update to address doc #MsgLength=95


----
Modified: include/qpid/messaging/Address.h|8 1
Modified: include/qpid/messaging/Receiver.h|1 1
Modified: include/qpid/messaging/Sender.h|6 2
Modified: include/qpid/messaging/Session.h|5 3
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|4 4
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|2 2
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|1 1
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|16 16
Modified: src/qpid/client/amqp0_10/SessionImpl.h|8 8
Modified: src/qpid/messaging/Receiver.cpp|2 2
Modified: src/qpid/messaging/ReceiverImpl.h|2 2
Modified: src/qpid/messaging/Sender.cpp|2 1
Modified: src/qpid/messaging/SenderImpl.h|1 1
Modified: src/qpid/messaging/Session.cpp|2 2
Modified: src/qpid/messaging/SessionImpl.h|2 2
Modified: src/tests/MessagingSessionTests.cpp|9 9

Revision: e8d67f86475f2ebd4eb191c72a5bcaada320df8d
Author: Ted Ross <tross@apache.org>
Date: 10/04/2010 01:19:32
Message:
QPID-2489 - Added wrapped version of Mutex to isolate QMF-generated source from boost. #MsgLength=88


----
Modified: include/qpid/management/ManagementObject.h|2 2
Added: include/qpid/management/Mutex.h|66 0
Modified: managementgen/qmfgen/schema.py|4 4
Modified: managementgen/qmfgen/templates/Class.cpp|6 6
Modified: managementgen/qmfgen/templates/Event.cpp|1 1
Modified: src/Makefile.am|2 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|27 27
Modified: src/qpid/management/ManagementAgent.cpp|21 21
Modified: src/qpid/management/ManagementObject.cpp|1 1
Added: src/qpid/management/Mutex.cpp|29 0

Revision: ea298e8abc08e15c96c6c8bad35b24555a35cf4e
Author: Gordon Sim <gsim@apache.org>
Date: 10/04/2010 02:17:34
Message:
QPID-2497: added some verification that address options specified are valid #MsgLength=76


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|51 3

Revision: ee55fabc94127e09922a42688ee69167446bee33
Author: Alan Conway <aconway@apache.org>
Date: 10/04/2010 04:31:36
Message:
Rationalize message count and message content options in new API send/receive/benchmark. #MsgLength=90


----
Modified: src/tests/qpid_cpp_benchmark|5 3
Modified: src/tests/qpid_receive.cpp|1 1
Modified: src/tests/qpid_send.cpp|47 21

Revision: 523315c00acee07f5a7011de0db64e7b09a242b2
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/04/2010 04:53:51
Message:
QPID-2487: add federation tests to verify bugfix. #MsgLength=50


----
Modified: src/tests/federation.py|550 0
Modified: src/tests/run_federation_tests|10 3

Revision: b82eddb3522585e21d5e0f840cc1d89b9a042397
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/04/2010 05:46:08
Message:
Add recent management changes to cmake build #MsgLength=45


----
Modified: src/CMakeLists.txt|4 2

Revision: a4b364b8a62d4d86c75ddd9c4f806c2509d3b2c6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/04/2010 05:46:19
Message:
Make qmf generated code use new qpid::types::Exception as base for buffer exception. #MsgLength=85


----
Modified: include/qpid/management/Buffer.h|3 3

Revision: af9983866be90e675ec16421e80bac2976eb9a2c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/04/2010 06:41:07
Message:
Small fixes to get recent management changes to compile under Visual Studio/Windows #MsgLength=84


----
Modified: include/qpid/management/Mutex.h|5 4
Modified: src/qpid/management/Buffer.cpp|4 1

Revision: d2215be613c5bc5f0473e90aa63ed641516cbd57
Author: Gordon Sim <gsim@apache.org>
Date: 12/04/2010 18:24:30
Message:
QPID-664: removed explicit throw() clause #MsgLength=42


----
Modified: include/qpid/messaging/Connection.h|1 1
Modified: src/qpid/messaging/Connection.cpp|1 1

Revision: 3caf4686edbe91943aababb777382f6622bf5c99
Author: Ted Ross <tross@apache.org>
Date: 12/04/2010 20:46:37
Message:
Added missing newline at end of the file #MsgLength=41


----
Modified: src/qpid/management/Buffer.cpp|1 1

Revision: fffda3a23a1920545c4a77645a8349c22515afa4
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2010 21:21:14
Message:
Added --ack-frequency to qpid_cpp_benchmark. #MsgLength=46


----
Modified: src/tests/qpid_cpp_benchmark|3 0

Revision: 0a22e5ed93fd52d4e786cb01fae4c4429986e432
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2010 21:21:20
Message:
Fix code-generation dependencies for tests/testagent. #MsgLength=115


----
Modified: src/tests/testagent.mk|2 2

Revision: f5ba765ae446aea9ea17272fc08c33d6b901e813
Author: Gordon Sim <gsim@apache.org>
Date: 13/04/2010 01:25:35
Message:
QPID-664: changed option verifier to use constants rather than duplicating string literals; added a test to make sure all valid options are allowed and illegal ones are not #MsgLength=173


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|18 17
Modified: src/tests/MessagingSessionTests.cpp|7 0

Revision: 83bad7737096c4e2f003b102a652d201d0820241
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2010 01:49:57
Message:
qpid_cpp_benchmark waits for receivers to be ready before starting senders. #MsgLength=202


----
Modified: src/tests/qpid_cpp_benchmark|23 14
Modified: src/tests/qpid_receive.cpp|6 0

Revision: 7fcead740b6855865872d1b62bfe53a8f7ce10cd
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2010 04:14:54
Message:
Fix testagent.mk to generate code conditionally same as ../Makefile.am #MsgLength=71


----
Modified: src/tests/testagent.mk|4 2

Revision: 506a956b23372bb7a7c1ff9a3bbcbd753f8a9c1e
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 13/04/2010 05:10:29
Message:
Simplified the vaidate method using for_each to make it more readable. Also renamed AclProperty to PropertyType to avoid any confusion with acl::Property. #MsgLength=156


----
Modified: src/qpid/acl/AclValidator.cpp|40 31
Modified: src/qpid/acl/AclValidator.h|16 18

Revision: 5669329ee90c5eb0ae244723c139a8aff257398f
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/04/2010 06:34:45
Message:
Pick up more of the existing test cases from qpid/tests #MsgLength=56


----
Modified: src/tests/python_tests.ps1|4 2

Revision: 2f727a4baa167f382584f89fa581220113226a22
Author: Kim van der Riet <kpvdr@apache.org>
Date: 14/04/2010 01:28:52
Message:
Fix for QPID-2470 - Broker does not honour flow-to-disk policy on recovery #MsgLength=75


----
Modified: src/qpid/broker/Exchange.cpp|2 1
Modified: src/qpid/broker/Message.cpp|1 0
Modified: src/qpid/broker/PersistableMessage.cpp|10 0
Modified: src/qpid/broker/PersistableMessage.h|2 0
Modified: src/qpid/broker/Queue.cpp|5 1
Modified: src/qpid/broker/QueuePolicy.cpp|4 2
Modified: src/qpid/broker/SemanticState.cpp|11 2
Modified: src/qpid/broker/TxPublish.cpp|11 2

Revision: e387e827d61e80b2d83a2d5f8d85725c11126fc0
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2010 01:43:02
Message:
Make qpid_send/qpid_receive output more spreadsheet-friendly. #MsgLength=130


----
Modified: src/tests/Statistics.cpp|10 13
Modified: src/tests/Statistics.h|5 4
Modified: src/tests/qpid_receive.cpp|5 3
Modified: src/tests/qpid_send.cpp|4 1

Revision: 56ca33e0293c5acd9e7086f8564556a991d82f19
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2010 01:43:12
Message:
qpid_cpp_benchmark: print send/receive stats side-by-side #MsgLength=59


----
Modified: src/tests/Statistics.cpp|2 1
Modified: src/tests/qpid_cpp_benchmark|27 18

Revision: 363441aca26a752652c2043921c92ae2f2afdc5e
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2010 01:43:19
Message:
qpid_cpp_benchmark: added --reliable option #MsgLength=45


----
Modified: src/tests/qpid_cpp_benchmark|20 9

Revision: 0c10499cb96747f50b376e498199d7de0c6f398a
Author: Alan Conway <aconway@apache.org>
Date: 14/04/2010 03:24:17
Message:
Update qpid_cpp_benchmark for change in python API exceptions. #MsgLength=64


----
Modified: src/tests/qpid_cpp_benchmark|1 1

Revision: abde8884d2aac72f11154fb89e51f5c7367004ba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/04/2010 10:13:08
Message:
Remove final vestiges of old client API references from messaging and agent header files #MsgLength=89


----
Modified: include/qpid/agent/ManagementAgent.h|0 6
Modified: include/qpid/management/ManagementObject.h|5 13
Modified: include/qpid/messaging/Address.h|4 2
Modified: include/qpid/messaging/Connection.h|3 1
Modified: include/qpid/messaging/Duration.h|1 0
Modified: include/qpid/messaging/Message.h|5 4
Modified: include/qpid/messaging/Receiver.h|2 1
Modified: include/qpid/messaging/Sender.h|2 0
Modified: include/qpid/messaging/Session.h|3 1
Modified: src/qpid/management/ManagementObject.cpp|18 0
Modified: src/qpid/messaging/Message.cpp|1 1

Revision: daebb45563414798f634c2d6d2cc2156d6c4b4f9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/04/2010 11:15:06
Message:
Update windows SDK building script to eliminate most include files and to move boost dlls back into bin #MsgLength=104


----
Modified: bld-winsdk.ps1|52 54

Revision: f44ee3c965062794128af342af5d61d48c9ea330
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2010 20:23:21
Message:
Fix testagent for changes in r933842 #MsgLength=37


----
Modified: managementgen/qmfgen/templates/Class.cpp|1 0
Modified: src/tests/testagent.cpp|1 5

Revision: 3d98e184ddc64b6f854139ca8354db58d9336afc
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2010 20:24:28
Message:
QPID-664: more specific exception handling (avoids reconnecting for invalid url) #MsgLength=81


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1

Revision: a07c514a1832a5339643e44791332563c05156e3
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2010 22:32:26
Message:
Fix url parsing to make hostname required #MsgLength=42


----
Modified: src/qpid/Url.cpp|1 1
Modified: src/tests/Url.cpp|5 3

Revision: 50e06b8f2c61e61434eb634c8b5aa82342c1127e
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2010 22:40:08
Message:
Tidy up unnecessary includes in ConnectionSettings and fix consequences #MsgLength=72


----
Modified: include/qpid/client/Connection.h|2 0
Modified: include/qpid/client/ConnectionSettings.h|5 9
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/client/ConnectionSettings.cpp|1 0
Modified: src/qpid/client/SaslFactory.cpp|1 0
Modified: src/qpid/cluster/RetractClient.h|1 0
Modified: src/tests/echotest.cpp|1 0
Modified: src/tests/qrsh_server.cpp|3 0

Revision: efdf0f1aecf545c670dcd35df5008b362d7b78f4
Author: Ken Giusti <kgiusti@apache.org>
Date: 15/04/2010 02:57:18
Message:
QPID-2506: enable map and list method arguments. #MsgLength=49


----
Modified: examples/qmf-agent/example.cpp|13 6
Modified: examples/qmf-agent/schema.xml|6 0
Modified: managementgen/qmfgen/management-types.xml|2 2

Revision: ad69595f26615c41fe97df0b3d7cbaacf4675ea4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/04/2010 05:46:23
Message:
Split example Visual Studio projects into old API and new API solutions #MsgLength=72


----
Modified: examples/examples.sln|20 202
Added: examples/old-examples.sln|225 0

Revision: 58dd2ad1e65357717547644fdff9e6749a4f591c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/04/2010 09:50:25
Message:
Install new old-examples visual studio solution file Install perftest & latencytest programs Amend windows sdk zip builder script to strip out examples not buildable with new messaging API Build debug build before release build so that it's the release executables that are in the install area #MsgLength=294


----
Modified: bld-winsdk.ps1|19 3
Modified: examples/CMakeLists.txt|1 0
Modified: src/tests/CMakeLists.txt|4 0

Revision: c60e5ea944a2f10c8af490f61fc06c528ea5d070
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/04/2010 11:17:38
Message:
Removed drain and spout projects from examples as they need boost #MsgLength=66


----
Modified: examples/examples.sln|0 16

Revision: ad4ebcc3a1011945e466491f15e75a1bce6e4763
Author: Kim van der Riet <kpvdr@apache.org>
Date: 15/04/2010 23:57:46
Message:
Implementation of QPID-2509 (Remove message staging from C++ broker) #MsgLength=69


----
Modified: src/qpid/broker/Broker.cpp|1 5
Modified: src/qpid/broker/Broker.h|0 2
Modified: src/qpid/broker/ConnectionState.h|0 4
Modified: src/qpid/broker/MessageBuilder.cpp|3 20
Modified: src/qpid/broker/MessageBuilder.h|1 4
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|7 8
Modified: src/qpid/broker/RecoveryManagerImpl.h|1 2
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/tests/MessageBuilderTest.cpp|3 64

Revision: ce530b86e6b62134427b765a08a4e54199763ca1
Author: Gordon Sim <gsim@apache.org>
Date: 16/04/2010 02:08:04
Message:
QPID-2511: Altered shutdown sequence in connectors; after connect() has returned there will always now be a shutdown callback made and only at that point is it guaranteed that there will be no further io callbacks. ConnectionImpl consequently waits for this before allowing itself to be deleted. #MsgLength=296


----
Modified: src/qpid/client/ConnectionImpl.cpp|41 7
Modified: src/qpid/client/ConnectionImpl.h|6 2
Modified: src/qpid/client/SslConnector.cpp|11 17
Modified: src/qpid/client/TCPConnector.cpp|14 19
Modified: src/qpid/client/TCPConnector.h|1 3

Revision: 713e33b980d3086ced391fb25618a14d8ab27004
Author: Ken Giusti <kgiusti@apache.org>
Date: 16/04/2010 03:37:20
Message:
QPID-2507: drop the userLock before calling exchange->route() #MsgLength=62


----
Modified: src/qpid/management/ManagementAgent.cpp|83 67
Modified: src/qpid/management/ManagementAgent.h|11 10

Revision: 00794d68bbfb649c8ac71d7002dd114af3295c86
Author: Jonathan Robie <jonathan@apache.org>
Date: 16/04/2010 04:04:00
Message:
Added hello_world.cpp example for tutorial. #MsgLength=45


----
Modified: examples/messaging/Makefile.am|5 1
Added: examples/messaging/hello_world.cpp|49 0

Revision: 1f7835b41573046527fb2ec604e114a1411c7e3d
Author: Jonathan Robie <jonathan@apache.org>
Date: 16/04/2010 04:32:25
Message:
Naming change: variable queueName is now called address. #MsgLength=58


----
Modified: examples/messaging/hello_world.cpp|3 3

Revision: 5a6f3bf752f195c117896665f122535668babbac
Author: Gordon Sim <gsim@apache.org>
Date: 16/04/2010 05:43:18
Message:
Remove reference to non-existent file. #MsgLength=39


----
Modified: examples/messaging/Makefile.am|0 1

Revision: 8521ba3b97e4b136d81a3e99e11b36b764da0f6e
Author: Jonathan Robie <jonathan@apache.org>
Date: 16/04/2010 06:14:59
Message:
Applied Gordon's patch - much simpler now. #MsgLength=44


----
Modified: examples/messaging/hello_world.cpp|23 37

Revision: c3d3f5f951c7bc7ef743c4109adfe8d684036d59
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/04/2010 07:57:05
Message:
Fix unreferenced local variable warnings. #MsgLength=42


----
Modified: src/qpid/management/ManagementAgent.cpp|3 3

Revision: 070e4fc8c89bfd61cf3810e7ece45ed8e61fe65f
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2010 00:39:32
Message:
Added throughput reporting to sender.cpp. #MsgLength=43


----
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/sender.cpp|27 7

Revision: 2659a3d745ef28d05728adf44afeae78b035a24f
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2010 00:39:39
Message:
qpid_cpp_benchmark: added options to set address options for sending/receiving. #MsgLength=81


----
Modified: src/tests/qpid_cpp_benchmark|13 13

Revision: 7d83546dbb7faadec8c95f150bbea38f7db9ee71
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2010 02:16:30
Message:
Ensure that ConnectionImpl is notified of shutdown even in the case of disconnect (which needs different handling than eof) #MsgLength=124


----
Modified: src/qpid/client/TCPConnector.cpp|6 1
Modified: src/qpid/client/TCPConnector.h|1 0

Revision: 2c560b563fb661a52fe9934e950660d5ec8e089f
Author: Ted Ross <tross@apache.org>
Date: 17/04/2010 03:03:36
Message:
Fixed problems with the broker's QMFv2 mode: - app_id is a message property, not an application header - even in v2 mode, the agent must respond to v1 schema requests - missing object_id was added to the periodic data updates - epoch/boot-sequence added to agent information (locate-response, heartbeat) #MsgLength=313


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|2 0
Modified: src/qpid/broker/Message.cpp|5 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/MessageAdapter.cpp|6 0
Modified: src/qpid/broker/MessageAdapter.h|2 0
Modified: src/qpid/management/ManagementAgent.cpp|11 12

Revision: 6424b8d25a9949a3dad71a86fb99bb1df6b09557
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/04/2010 04:12:55
Message:
Fix for QPID-2420 to correctly handle restoring and commit/abort prepared transactions. The basic approach is documented in QPID-2420. This also makes improvements in the way changes are done to the tblMessageMap table which should perform much better, avoiding pulling the whole table into the broker just to add or edit or delete a single record. Also, some of the consistency checks and enforcements are moved into the database itself from the C++ code. #MsgLength=457


----
Modified: src/qpid/store/CMakeLists.txt|2 0
Modified: src/qpid/store/MessageStorePlugin.cpp|20 6
Modified: src/qpid/store/StorageProvider.h|12 2
Modified: src/qpid/store/ms-sql/AmqpTransaction.cpp|11 33
Modified: src/qpid/store/ms-sql/AmqpTransaction.h|15 14
Modified: src/qpid/store/ms-sql/DatabaseConnection.cpp|21 0
Modified: src/qpid/store/ms-sql/DatabaseConnection.h|2 0
Modified: src/qpid/store/ms-sql/Exception.h|5 1
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|250 62
Modified: src/qpid/store/ms-sql/MessageMapRecordset.cpp|165 52
Modified: src/qpid/store/ms-sql/MessageMapRecordset.h|37 14
Modified: src/qpid/store/ms-sql/Recordset.cpp|14 43
Modified: src/qpid/store/ms-sql/Recordset.h|7 33
Added: src/qpid/store/ms-sql/SqlTransaction.cpp|71 0
Added: src/qpid/store/ms-sql/SqlTransaction.h|67 0
Added: src/qpid/store/ms-sql/TplRecordset.cpp|128 0
Added: src/qpid/store/ms-sql/TplRecordset.h|58 0
Modified: src/qpid/store/ms-sql/VariantHelper.cpp|14 2

Revision: 67797b51990219353b0d2caedc7141afab550aab
Author: Ken Giusti <kgiusti@apache.org>
Date: 17/04/2010 04:57:44
Message:
QPID-2487: fix route propagation tests to prevent spurious timeouts. #MsgLength=69


----
Modified: src/tests/federation.py|263 58

Revision: 8974f9494b8d2e06de028df2981667c695774792
Author: Gordon Sim <gsim@apache.org>
Date: 18/04/2010 07:29:08
Message:
An alternative attempt at ensuring ConnectionImpl is not deleted before IO thread is finished with it. #MsgLength=103


----
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|33 27
Modified: src/qpid/client/ConnectionImpl.h|7 8

Revision: a092eedd90a4223b36b6ab2cfa4c7ad96afba903
Author: Gordon Sim <gsim@apache.org>
Date: 19/04/2010 16:32:52
Message:
Ensure that ConnectionImpl is notified of shutdown even in the case of disconnect (which needs different handling than eof) #MsgLength=124


----
Modified: src/qpid/client/SslConnector.cpp|7 1

Revision: dcbc70a80e35ae78b9f534a115890911e99d322e
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/04/2010 22:37:24
Message:
Fix g++ compile warning-turned-error #MsgLength=37


----
Modified: src/qpid/store/MessageStorePlugin.cpp|2 0

Revision: 1a5da1424b3c2913e97ecbdc4db65d25583a65c4
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/04/2010 22:43:43
Message:
Add missing Statistics.cpp to sender test's sources #MsgLength=52


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: dfd306981a5ee296ef80c4dbc747389fb171a4e0
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/04/2010 23:44:02
Message:
Add restorecon to qpid init script to allow SELinux to correctly handle pidfile attributes #MsgLength=91


----
Modified: etc/qpidd|1 0

Revision: 0cadf49e332c5aab85e4292db8268d194cdbaf68
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/04/2010 01:02:43
Message:
QPID-2487: add wait for new exchange to appear in qmf #MsgLength=54


----
Modified: src/tests/federation.py|48 22

Revision: 637d6c492237e2011f72f5c2ef89ebbd2edd91cf
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/04/2010 02:56:53
Message:
QMF: Add timestamps to generated V2 objects #MsgLength=44


----
Modified: include/qpid/management/ManagementObject.h|6 6
Modified: src/qpid/agent/ManagementAgentImpl.cpp|4 0
Modified: src/qpid/management/ManagementAgent.cpp|5 0
Modified: src/qpid/management/ManagementObject.cpp|23 23

Revision: 22e6be7db7fc32ca654efb04ae39833f89f4223e
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/04/2010 03:18:32
Message:
Add store test executions if building the store module. Add trigger on messageMap table deletes to remove orphaned messages from message table; part of QPID-2420. #MsgLength=163


----
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|16 0
Modified: src/tests/CMakeLists.txt|3 0
Added: src/tests/run_store_tests.ps1|101 0

Revision: adcca42a797266c5d212a132ed64d7c51f0a32b4
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/04/2010 04:25:24
Message:
Port of the ACL tests script to Windows Powershell. #MsgLength=52


----
Added: src/tests/run_acl_tests.ps1|98 0

Revision: 7b94892e54de47987244ffa6adcbbd9c11747c44
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/04/2010 09:32:25
Message:
QPID-2487: remove call to reversed() - not in pre2.4 python, increased bind timeouts #MsgLength=85


----
Modified: src/tests/federation.py|9 9

Revision: b31dbea54bfc954ce7c2dd82f97268cc339f971a
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/04/2010 23:39:54
Message:
QMF: fix object name separator, use native bool type #MsgLength=53


----
Modified: managementgen/qmfgen/management-types.xml|1 1
Modified: src/qpid/management/ManagementObject.cpp|1 1

Revision: 0e8b9bc877d54c5fcb17755efd920d6a738fd9d5
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 21/04/2010 02:55:28
Message:
This is a fix for QPID-2521 #MsgLength=29


----
Modified: src/qpid/acl/Acl.cpp|6 1

Revision: 6e8708e689b3cf1dab22cc4d108300a14fd25202
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/04/2010 22:09:41
Message:
- Hold up tearing down client I/O threads until there are no more connections active. - Don't create more client I/O threads than connections. #MsgLength=145


----
Modified: src/qpid/client/ConnectionImpl.cpp|8 1

Revision: 17d5d157a9c65d060898906982eccdbab0e302e9
Author: Alan Conway <aconway@apache.org>
Date: 21/04/2010 22:48:48
Message:
Count latency samples, don't assume all messages are latency samples. #MsgLength=71


----
Modified: src/tests/Statistics.cpp|7 4
Modified: src/tests/Statistics.h|1 0

Revision: 4d2839d606f6fcd46239fcef8e19182c9dace10d
Author: Alan Conway <aconway@apache.org>
Date: 21/04/2010 22:48:58
Message:
Consistent use of string constants for message property keys in sender/receiver tests. #MsgLength=88


----
Modified: src/tests/Statistics.cpp|3 1
Modified: src/tests/qpid_receive.cpp|2 1
Modified: src/tests/qpid_send.cpp|5 3
Modified: src/tests/qpid_stream.cpp|3 3
Modified: src/tests/receiver.cpp|2 1
Modified: src/tests/replaying_sender.cpp|3 1
Modified: src/tests/resuming_receiver.cpp|2 1
Modified: src/tests/sender.cpp|1 1

Revision: f7cf0747fb9550eb1a80f478d11d24a25adc4508
Author: Alan Conway <aconway@apache.org>
Date: 21/04/2010 22:49:06
Message:
qpid_send: make serialno & timestamp optional. #MsgLength=48


----
Modified: src/tests/qpid_cpp_benchmark|6 2
Modified: src/tests/qpid_send.cpp|13 7

Revision: 21d71647b05a84c0f6f05445ce51885752eab4f7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/04/2010 22:59:50
Message:
Fixed license text in c++ Visual Studio examples solutions files. - Ensured there were no blank lines so as not to confuse vcbuild Removed x64 builds as currently we only support win32 builds. #MsgLength=193


----
Modified: examples/examples.sln|3 38
Modified: examples/old-examples.sln|20 86

Revision: 5127cad8ec915082b094e32b59057181407d64a3
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/04/2010 05:18:06
Message:
Add QMF_LIB to PYTHONPATH to pick up qmf.console #MsgLength=49


----
Modified: src/tests/python_tests.ps1|2 1
Modified: src/tests/run_federation_tests.ps1|4 1
Modified: src/tests/run_store_tests.ps1|3 1

Revision: 3faf555acb179e4bacef39427953f07839a55657
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/04/2010 05:25:55
Message:
Add QMF_LIB to PYTHONPATH to pick up qmf.console #MsgLength=49


----
Modified: src/tests/run_acl_tests.ps1|6 3

Revision: fa105bce519277f707484beedfd5540351a406ba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/04/2010 06:07:04
Message:
QPID-2527: Remove Thread::id member as its uses are better implemented by comparison operators. #MsgLength=96


----
Modified: include/qpid/sys/Thread.h|5 3
Modified: src/qpid/cluster/Cluster.cpp|3 3
Modified: src/qpid/sys/PollableQueue.h|3 3
Modified: src/qpid/sys/posix/Thread.cpp|19 7
Modified: src/qpid/sys/windows/Thread.cpp|14 2
Modified: src/tests/SocketProxy.h|1 1
Modified: src/tests/exception_test.cpp|1 1

Revision: 770493422cb442ca5b4774551da8ed70040264e7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/04/2010 12:30:44
Message:
QPID-1811: Applied patch from Andrey Kotrekhov with more portable code to enumerate the IP addresses of the local network interfaces #MsgLength=133


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|35 20

Revision: aca36f3385f7be607dbb029b5c3ab47dd0b85a19
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2010 01:00:42
Message:
Add missing include file used by qmf generated code to Windows SDK builder #MsgLength=75


----
Modified: bld-winsdk.ps1|1 0

Revision: 2faf2df6151befdca861cc8b4a7deeaec75bc601
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2010 01:02:26
Message:
Strip out the Unicode BOM mark #MsgLength=31


----
Modified: examples/examples.sln|1 1

Revision: 0e60d7a4dbe51bab974990272ed6bcfa8c0eb26f
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2010 01:25:37
Message:
Fix bug in disabling sequence number and timestamp. #MsgLength=53


----
Modified: src/tests/qpid_send.cpp|9 5

Revision: b52b95015bd143a7b4e60a850ce0a4d1469bda84
Author: Ken Giusti <kgiusti@apache.org>
Date: 23/04/2010 05:30:01
Message:
QMF: correct the build of exception response messages. #MsgLength=55


----
Modified: src/qpid/management/ManagementAgent.cpp|30 16

Revision: 49be9d4394011fc80a50ce0a7475e41e957626e7
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 23/04/2010 08:57:35
Message:
Changed from using arrays to using vectors. #MsgLength=45


----
Modified: src/qpid/acl/AclData.cpp|18 28
Modified: src/qpid/acl/AclData.h|19 15
Modified: src/qpid/acl/AclReader.cpp|12 19
Modified: src/qpid/acl/AclValidator.cpp|11 14
Modified: src/qpid/acl/AclValidator.h|2 2

Revision: 373ce6af7d3d145b1fc00f116f43e8259cfabce5
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 23/04/2010 08:58:47
Message:
QPID-2523 I added a mutex to protect the boost shared pointer assignments. #MsgLength=76


----
Modified: src/qpid/acl/Acl.cpp|18 6
Modified: src/qpid/acl/Acl.h|2 0

Revision: f852ff939805cb6ac13adff77d472869a395cedc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2010 11:59:52
Message:
QPID-1904: Ensure that all timestamp uses are correctly relative to 1/1/1970 epoch. - Removed the hacky way to access the internal time value in AbsTime now that there is a defined AbsTime value EPOCH. - Changed all the code to use Duration(EPOCH, abtime) #MsgLength=258


----
Modified: include/qpid/sys/Time.h|5 11
Modified: include/qpid/sys/posix/Condition.h|1 1
Modified: src/qmf/engine/Agent.cpp|2 2
Modified: src/qmf/engine/ObjectImpl.cpp|2 2
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/agent/ManagementAgentImpl.cpp|3 3
Modified: src/qpid/broker/SessionManager.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|7 7
Modified: src/qpid/management/ManagementAgent.h|1 1
Modified: src/qpid/sys/posix/Time.cpp|0 4
Modified: src/qpid/sys/windows/Time.cpp|0 5
Modified: src/tests/echotest.cpp|1 1
Modified: src/tests/latencytest.cpp|2 2

Revision: e53fed47b642e8e3aec8a2335b0fe94e5c01cc3f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/04/2010 13:53:12
Message:
QPID-1904: File mised in previous checkin #MsgLength=42


----
Modified: src/tests/qpid_stream.cpp|1 1

Revision: 18287f069a9fde5fd1c2d13cae92664dc15418bc
Author: Ted Ross <tross@apache.org>
Date: 24/04/2010 03:02:31
Message:
QPID-2517 - Broker schema changes to support cluster management. #MsgLength=66


----
Modified: src/qpid/broker/Broker.cpp|3 1

Revision: 753f6cc7a290e9cff5d9e78972125207483e9ff9
Author: Ted Ross <tross@apache.org>
Date: 24/04/2010 03:07:14
Message:
Cluster management improvements: 1) Enable all management methods via QMFv2 for clusters 2) Disable all management methods via QMFv1 for clusters 3) The broker-resident management agent can handle both v1 and v2 method calls 4) qmf.console (Python) now works with new and old brokers by detecting whether the broker can handle v2 commands #MsgLength=353


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 8
Modified: src/qpid/management/ManagementAgent.cpp|234 204
Modified: src/qpid/management/ManagementAgent.h|22 16
Modified: src/qpid/management/ManagementDirectExchange.cpp|1 1
Modified: src/qpid/management/ManagementObject.cpp|2 1
Modified: src/qpid/management/ManagementTopicExchange.cpp|1 1
Modified: src/qpid/types/Variant.cpp|30 6
Modified: src/tests/ManagementTest.cpp|5 5

Revision: e8dee6378de7c76bf3e7786225d3c559c62d4e05
Author: Ken Giusti <kgiusti@apache.org>
Date: 24/04/2010 04:27:27
Message:
QPID-2546: implement event support for ruby wrapper. Python pending... #MsgLength=71


----
Modified: bindings/qmf/ruby/qmf.rb|3 2
Modified: bindings/qmf/tests/ruby_console_test.rb|33 0
Modified: bindings/qmf/tests/test_base.rb|9 1
Modified: src/qmf/engine/BrokerProxyImpl.cpp|12 2
Modified: src/qmf/engine/BrokerProxyImpl.h|1 0
Modified: src/qmf/engine/ConsoleImpl.cpp|10 1
Modified: src/qmf/engine/ConsoleImpl.h|3 2
Modified: src/qmf/engine/EventImpl.cpp|15 3
Modified: src/qmf/engine/EventImpl.h|4 0

Revision: b310f8505b54c2db1df19b527f24c663073781c6
Author: Ted Ross <tross@apache.org>
Date: 24/04/2010 05:00:10
Message:
Code cleanup - Removed IdAllocator (it's no longer needed) - Cleaned up the calls to ManagementAgent::addObject to handle durable objects - Removed the deferred call to addObject for durable objects - Removed unneeded calls to self._checkClosed() in qmf.console.Agent #MsgLength=278


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|14 28
Modified: src/qpid/broker/Link.cpp|1 6
Modified: src/qpid/broker/Queue.cpp|8 20
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/Vhost.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|0 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|0 47
Deleted: src/qpid/management/IdAllocator.h|0 42
Modified: src/qpid/management/ManagementAgent.cpp|3 22
Modified: src/qpid/management/ManagementAgent.h|3 9

Revision: 8b2b75903250b3a3fa359ea4b2fe53ecc4ae1c3b
Author: Ted Ross <tross@apache.org>
Date: 24/04/2010 05:26:37
Message:
Fixed a logic error in the handling of QMFv2 get-by-class queries.  When deleted objects were encountered, spurious updates were sent, appearing as duplicates. #MsgLength=161


----
Modified: src/qpid/management/ManagementAgent.cpp|3 4

Revision: 7e6afbd348f0d4de9651a7c93a21c18c6820d8de
Author: Gordon Sim <gsim@apache.org>
Date: 26/04/2010 18:00:09
Message:
QPID-2548: applied patch from francesco emmi #MsgLength=45


----
Modified: src/qpid/client/SubscriptionManager.cpp|4 0

Revision: 4a7895636b29d0daee3c5554a756c0950ef1cd33
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/04/2010 20:50:22
Message:
QPID-1811: Look for saslpasswd2 at configure time instead of hardcoding its location (autotools build only as cmake build doesn't currently build a custom sasl passwd file) #MsgLength=173


----
Modified: configure.ac|5 2
Modified: etc/Makefile.am|1 1

Revision: 4c9f8f758a58bb27d7f51c66841ad9c6fae8b260
Author: Gordon Sim <gsim@apache.org>
Date: 26/04/2010 22:33:27
Message:
Handle incorrect values for worker-threads option more gracefully #MsgLength=66


----
Modified: src/qpid/broker/Broker.cpp|20 15

Revision: adb5d98aa35728626ebd1c994a10c3bae5589c75
Author: Jonathan Robie <jonathan@apache.org>
Date: 27/04/2010 01:39:19
Message:
Changed address string to current format. #MsgLength=43


----
Modified: examples/messaging/client.cpp|1 1

Revision: 95b765fde924fb6075d050164d95a80be4144e10
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 27/04/2010 10:19:54
Message:
Reverting the change made in rev937119 as it seems to cause a core dump in RHEL5. I haven't managed to pin point the issue. Once I do I may introduce the fix again with the required changes. #MsgLength=192


----
Modified: src/qpid/acl/AclData.cpp|28 18
Modified: src/qpid/acl/AclData.h|15 19
Modified: src/qpid/acl/AclReader.cpp|19 12
Modified: src/qpid/acl/AclValidator.cpp|14 11
Modified: src/qpid/acl/AclValidator.h|2 2

Revision: b7bc75c72756725271cc493b61c0c4ec0ac5b619
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/04/2010 19:48:13
Message:
Fix typo in name; resolves QPID-2553 #MsgLength=37


----
Modified: docs/api/CMakeLists.txt|1 1

Revision: 3bb97a7e520a8fb8608a25da748b4cfc55d269e6
Author: Gordon Sim <gsim@apache.org>
Date: 27/04/2010 22:09:31
Message:
QPID-664: allow safe closing of session as part of handling a session exception #MsgLength=80


----
Modified: src/qpid/client/SessionImpl.cpp|6 0
Modified: src/qpid/client/SessionImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|23 13
Modified: src/qpid/client/amqp0_10/SessionImpl.h|1 0

Revision: 67dc3c2d5da059ed1a82bd310e61b226228b1a04
Author: Ken Giusti <kgiusti@apache.org>
Date: 27/04/2010 23:19:14
Message:
QPID-2556: fix conversion of signed integers in maps and lists. #MsgLength=64


----
Modified: bindings/qmf/tests/agent_ruby.rb|11 13
Modified: bindings/qmf/tests/python_agent.py|13 13
Modified: bindings/qmf/tests/python_console.py|17 0
Modified: bindings/qmf/tests/ruby_console_test.rb|17 38
Modified: src/qmf/engine/ValueImpl.cpp|13 5

Revision: ac40e26d2c4f29d1528921805b8602d47e1d99aa
Author: Ken Giusti <kgiusti@apache.org>
Date: 28/04/2010 02:45:31
Message:
QPID-2556: add tests for maps and lists in method args and events. #MsgLength=67


----
Modified: bindings/qmf/tests/agent_ruby.rb|23 7
Modified: bindings/qmf/tests/python_agent.py|23 8
Modified: bindings/qmf/tests/python_console.py|59 0
Modified: bindings/qmf/tests/ruby_console_test.rb|58 0

Revision: 20781d877fe80de5fc82e7e2eba0b4e2e03450f2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/04/2010 05:34:41
Message:
Added necessary #include for memmove #MsgLength=37


----
Modified: src/qpid/sys/AsynchIO.h|4 1

Revision: 93037a7535e964ad099fcd82bee3ea8f22c11cc0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/04/2010 06:20:19
Message:
Avoid possible initialisation dependency problem by using a "static singleton" pattern for plugin module file suffix #MsgLength=117


----
Modified: src/qpid/Modules.cpp|9 6

Revision: f61a592144cc835123aad16d32bdcb0544c1a326
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/04/2010 06:20:25
Message:
Load client side plugins just before creating the first Connection. #MsgLength=68


----
Modified: src/qpid/client/ConnectionImpl.cpp|8 3
Modified: src/qpid/client/LoadPlugins.cpp|13 1
Added: src/qpid/client/LoadPlugins.h|33 0

Revision: 25bde899ab4697397f7cb3f04ba16713148bf2e3
Author: Gordon Sim <gsim@apache.org>
Date: 28/04/2010 15:45:13
Message:
Include recently added header in distribution list #MsgLength=51


----
Modified: src/Makefile.am|1 0

Revision: 62970a8a9c83d91b365e1e9b6c09e470b1482421
Author: Gordon Sim <gsim@apache.org>
Date: 28/04/2010 23:27:36
Message:
QPID-2083: Some improvements to error handling for NSS based SSL implementation. #MsgLength=81


----
Modified: src/qpid/sys/ssl/SslIo.cpp|5 2
Modified: src/qpid/sys/ssl/SslSocket.cpp|1 0
Modified: src/qpid/sys/ssl/check.cpp|23 8
Modified: src/qpid/sys/ssl/check.h|2 0

Revision: b31b2d7f0a8d8faf6c18d69819522f8cd64e8f81
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/04/2010 01:26:16
Message:
BZ572245: Clustering can force message persistence when one node remains. Fix for problem in which forcing persistence on one queue but not another results in an error if a message is sent to both and the message is consumed from the non-forced queue. #MsgLength=252


----
Modified: src/qpid/broker/Queue.cpp|10 5

Revision: 54938dcee8f8bed033bccaccc3de2e2cbdc4fe73
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2010 03:50:23
Message:
QPID-2083: Added some error messages for particular codes #MsgLength=58


----
Modified: src/qpid/sys/ssl/check.cpp|16 19

Revision: f2e8b372677148b66a5c13687035deb2e45a22a6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2010 04:02:18
Message:
Replaced some unnecessary streaming operators ("<<") with preprocessor string concatenation #MsgLength=92


----
Modified: include/qpid/Msg.h|1 1

Revision: 1eb4513bd18a6d3846afdde0b9c44b557518fcd5
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/04/2010 04:29:54
Message:
Fix path to broker exe so it can be stopped when needed. #MsgLength=57


----
Modified: src/tests/run_acl_tests.ps1|6 5

Revision: 600f253c52e3a6229f0a63f07d282dd24eaf7d90
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/04/2010 04:30:23
Message:
Fix PYTHONPATH to pick federation from the tests source dir. #MsgLength=61


----
Modified: src/tests/run_federation_tests.ps1|1 1

Revision: 4eabe290374f935ee961651fcfa6a3d14efbee09
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/04/2010 06:25:46
Message:
Don't try to get the top() of an empty queue and use it. Resolves (I believe) QPID-2186. #MsgLength=89


----
Modified: src/qpid/sys/Timer.cpp|16 8

Revision: 40eb9cb90cf49cb0894c13e5131cb6fed1813cd1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2010 09:17:09
Message:
QPID-2186: Small adjustments to previous fix: - Turn one of the "if"s into an assert - Fix incorrect scope for unlocking Timer monitor around fire() callback. #MsgLength=159


----
Modified: src/qpid/sys/Timer.cpp|7 5

Revision: 28a432e3973e03c00c092d5f4699e5d1fbd72e15
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2010 10:44:06
Message:
Fix previous checkin and correctly quote __LINE__ in QPID_MSG #MsgLength=62


----
Modified: include/qpid/Msg.h|3 1

Revision: fa4d62cf9d4828f7ac02cbcb11ea572fa7e99f9e
Author: Jonathan Robie <jonathan@apache.org>
Date: 30/04/2010 00:35:47
Message:
Changed code examples and references from doxygen main page to the new API classes. #MsgLength=85


----
Modified: docs/api/doxygen_mainpage.h|248 82

Revision: bdff097d45840c413f78ab3e33578f83cb90e8dd
Author: Jonathan Robie <jonathan@apache.org>
Date: 30/04/2010 00:36:29
Message:
Added doxygen group directives. #MsgLength=33


----
Modified: include/qpid/messaging/Address.h|1 1
Modified: include/qpid/messaging/Connection.h|5 1
Modified: include/qpid/messaging/Duration.h|1 1
Modified: include/qpid/messaging/Handle.h|1 1
Modified: include/qpid/messaging/Message.h|1 1
Modified: include/qpid/messaging/Receiver.h|1 1
Modified: include/qpid/messaging/Sender.h|1 1
Modified: include/qpid/messaging/Session.h|1 1
Modified: include/qpid/messaging/exceptions.h|3 0

Revision: 30cf1331109246e16d687c2b0ca9c4c1c7b0d82a
Author: Ken Giusti <kgiusti@apache.org>
Date: 30/04/2010 06:36:22
Message:
QMF: remove v1 method test from cluster testbed - clusters no longer support v1-style method calls. #MsgLength=100


----
Modified: src/tests/cluster_python_tests_failing.txt|1 0

Revision: 193de2f4329bc151025d9a9f16a2d88591d9792c
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2010 00:01:11
Message:
Added a couple of tests to init script and use env var for data dir if set #MsgLength=75


----
Modified: etc/qpidd|20 6

Revision: 0b3b89ad65a86241e073fdd2a87c8f385a10cebf
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2010 00:58:36
Message:
QMF: Agent now sends class indications for schema added after attachement completes. #MsgLength=85


----
Modified: src/qmf/engine/Agent.cpp|26 5

Revision: ff007d5d7ec6de16b78b9c5ecc5cf62c94b9ea2d
Author: Ken Giusti <kgiusti@apache.org>
Date: 04/05/2010 04:43:15
Message:
QMF: add attribute read access to ConnectionSettings ruby class #MsgLength=64


----
Modified: bindings/qmf/ruby/qmf.rb|16 2

Revision: ff2c4e04613210320b8ae50f590402f9b9ed4060
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2010 19:17:41
Message:
Some cleanup on examples: #MsgLength=422


----
Modified: examples/messaging/CMakeLists.txt|18 6
Modified: examples/messaging/Makefile.am|22 22
Added: examples/messaging/OptionParser.cpp|257 0
Added: examples/messaging/OptionParser.h|56 0
Modified: examples/messaging/drain.cpp|21 41
Added: examples/messaging/extra_dist/Makefile|12 0
Deleted: examples/messaging/messaging_queue_receiver.vcproj|0 411
Deleted: examples/messaging/messaging_queue_sender.vcproj|0 411
Deleted: examples/messaging/messaging_topic_receiver.vcproj|0 411
Deleted: examples/messaging/messaging_topic_sender.vcproj|0 411
Deleted: examples/messaging/queue_receiver.cpp|0 59
Deleted: examples/messaging/queue_sender.cpp|0 60
Modified: examples/messaging/spout.cpp|38 55
Deleted: examples/messaging/topic_receiver.cpp|0 60
Deleted: examples/messaging/topic_sender.cpp|0 79

Revision: 50be1f74920e1cf288666b200c7c8a706fe4d6ed
Author: Gordon Sim <gsim@apache.org>
Date: 05/05/2010 22:22:25
Message:
Allow empty subject for direct- and xml- exchanges #MsgLength=51


----
Modified: examples/messaging/spout.cpp|0 1
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|7 3

Revision: 114654e1a67d5764afca1733f744cac6e9d0876e
Author: Jonathan Robie <jonathan@apache.org>
Date: 06/05/2010 04:56:16
Message:
Added hello_xml.cpp example. #MsgLength=30


----
Modified: examples/messaging/Makefile.am|5 1
Added: examples/messaging/hello_xml.cpp|64 0

Revision: d5446248bc7e9d7dfd943db4b4d95fdd189b8028
Author: Jonathan Robie <jonathan@apache.org>
Date: 06/05/2010 05:25:34
Message:
Changed floating point from "price" to "percent" - better use of floating point. #MsgLength=82


----
Modified: examples/messaging/map_sender.cpp|1 1

Revision: c77cc069d760e312cda4267d788ea97c01e66dfa
Author: Gordon Sim <gsim@apache.org>
Date: 06/05/2010 17:49:45
Message:
Use UnauthorizedAccessException for ACL violations rather than NotAllowedException #MsgLength=83


----
Modified: src/qpid/broker/Link.cpp|2 2
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|11 11
Modified: src/tests/acl.py|76 76
Modified: src/tests/cluster_test.cpp|2 2

Revision: 1c74326da6ea1fdbc244db19851493f2461c3fb0
Author: Alan Conway <aconway@apache.org>
Date: 07/05/2010 02:53:29
Message:
Correct brokertest.retry logic. #MsgLength=33


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/tests/Makefile.am|1 1

Revision: 1e0ef276af6d04c7b60e86096495ac820e8419b8
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/05/2010 23:05:45
Message:
Keep dispatching the condition until it is cleared; resolves QPID-2587. #MsgLength=72


----
Modified: src/qpid/sys/windows/PollableCondition.cpp|3 5

Revision: c1d87f9984e2f79104895ce0c8767ac688ff6dcc
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2010 00:16:26
Message:
Skip cluster_python_tests if cluster services are not running. #MsgLength=63


----
Modified: src/tests/cluster_python_tests|3 1

Revision: 81ea29c367c071538ee53c5789e381dd115cdbce
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/05/2010 23:02:54
Message:
qmf: add class accessors for event schema - parity with class schema #MsgLength=69


----
Modified: bindings/qmf/python/qmf.py|11 0
Modified: bindings/qmf/ruby/qmf.rb|12 0

Revision: 5d1e5b84833aa1e4760f7e6032a1de5899a0de5f
Author: Ken Giusti <kgiusti@apache.org>
Date: 11/05/2010 03:20:32
Message:
qmf: bugfix - remove parse of non-present supertype field #MsgLength=58


----
Modified: src/qpid/management/ManagementAgent.cpp|1 1

Revision: d5b4bb4982343839ef816d1397d09835fe5ca575
Author: Ted Ross <tross@apache.org>
Date: 11/05/2010 04:33:19
Message:
QPID-2589 - Applied patch from Chuck Rolke. #MsgLength=44


----
Added: bindings/qpid/dotnet/ReadMe.txt|33 0
Added: bindings/qpid/dotnet/examples/csharp.direct.receiver/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|57 0
Added: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|63 0
Added: bindings/qpid/dotnet/examples/csharp.direct.sender/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|42 0
Added: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|63 0
Added: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|89 0
Added: bindings/qpid/dotnet/src/AssemblyInfo.cpp|57 0
Added: bindings/qpid/dotnet/src/Connection.cpp|115 0
Added: bindings/qpid/dotnet/src/Connection.h|63 0
Added: bindings/qpid/dotnet/src/Duration.cpp|107 0
Added: bindings/qpid/dotnet/src/Duration.h|67 0
Added: bindings/qpid/dotnet/src/Message.cpp|202 0
Added: bindings/qpid/dotnet/src/Message.h|92 0
Added: bindings/qpid/dotnet/src/QpidMarshal.h|61 0
Added: bindings/qpid/dotnet/src/ReadMe.txt|40 0
Added: bindings/qpid/dotnet/src/Receiver.cpp|164 0
Added: bindings/qpid/dotnet/src/Receiver.h|88 0
Added: bindings/qpid/dotnet/src/Sender.cpp|121 0
Added: bindings/qpid/dotnet/src/Sender.h|77 0
Added: bindings/qpid/dotnet/src/Session.cpp|186 0
Added: bindings/qpid/dotnet/src/Session.h|93 0
Added: bindings/qpid/dotnet/src/app.rc|62 0
Added: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|278 0
Added: bindings/qpid/dotnet/src/resource.h|22 0
Added: bindings/qpid/dotnet/test/messaging.test/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|38 0
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|63 0

Revision: 874d321d9d49a3b3e30378ee32a3ff3db7c23391
Author: Gordon Sim <gsim@apache.org>
Date: 11/05/2010 16:13:56
Message:
QPID-664: Fix bug preventing re-establishment of credit on reconnect #MsgLength=69


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 1

Revision: 7867f9e607faf5642b94ca0956de7375409d811a
Author: Gordon Sim <gsim@apache.org>
Date: 11/05/2010 18:06:30
Message:
QPID-664: Add default constructor for Connection; add option to set url on existing connection. #MsgLength=96


----
Modified: include/qpid/messaging/Connection.h|1 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|10 5
Modified: src/qpid/messaging/Connection.cpp|7 0

Revision: 56089d721214dcd19dcc34d970459d5f02c4b9bb
Author: Alan Conway <aconway@apache.org>
Date: 11/05/2010 22:39:58
Message:
Support for multiple protocols in qpid::Url. #MsgLength=274


----
Modified: include/qpid/Address.h|16 46
Modified: include/qpid/Url.h|10 9
Modified: include/qpid/sys/SystemInfo.h|3 2
Modified: src/qmf/engine/BrokerProxyImpl.cpp|1 1
Modified: src/qpid/Address.cpp|6 26
Modified: src/qpid/Url.cpp|39 31
Modified: src/qpid/broker/Broker.cpp|3 2
Modified: src/qpid/broker/Link.cpp|6 6
Modified: src/qpid/broker/Link.h|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|24 24
Modified: src/qpid/broker/LinkRegistry.h|5 4
Modified: src/qpid/broker/RetryList.cpp|4 8
Modified: src/qpid/broker/RetryList.h|1 1
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1
Modified: src/qpid/client/Connection.cpp|11 12
Modified: src/qpid/client/ConnectionSettings.cpp|1 1
Modified: src/qpid/client/Connector.cpp|2 1
Modified: src/qpid/client/FailoverManager.cpp|5 6
Modified: src/qpid/cluster/MemberSet.cpp|1 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|4 3
Modified: src/qpid/sys/solaris/SystemInfo.cpp|4 3
Modified: src/qpid/sys/ssl/util.cpp|4 2
Modified: src/qpid/sys/windows/SystemInfo.cpp|5 3
Modified: src/tests/ClusterFixture.cpp|1 1
Modified: src/tests/RetryList.cpp|4 4
Modified: src/tests/Url.cpp|13 14
Modified: src/tests/ssl_test|6 0

Revision: ce4cd51a35e02f3ed56d6a4afeedf87d2588d2cd
Author: Gordon Sim <gsim@apache.org>
Date: 12/05/2010 00:16:58
Message:
QPID-664: Fix failover updates to set correct option name; clear list valued option on setting it rather than merely appending to it. #MsgLength=134


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 0
Modified: src/qpid/client/amqp0_10/FailoverUpdates.cpp|2 1

Revision: ba411a80bdb4b0b69d7aeed8f9fdc0928752f788
Author: Ted Ross <tross@apache.org>
Date: 12/05/2010 00:23:36
Message:
Added missing EXTERNs for Windows #MsgLength=34


----
Modified: include/qpid/Url.h|2 2

Revision: bb51d6fcd30b80ed081071c77eacf2185544bc0e
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 12/05/2010 09:48:38
Message:
This commit contains a fix for QPID-2600 Added a test case to check if all allowed chars are accepted and the rest is rejected. Added a check for empty continuation lines. Improved error reporting by adding a line number. Removed test_allowed_chars_for_username method from acl.py as the check for group name will flag the "@" char, making this test case redundent. #MsgLength=367


----
Modified: src/qpid/acl/AclReader.cpp|47 26
Modified: src/qpid/acl/AclReader.h|1 1
Modified: src/tests/acl.py|24 34

Revision: e2280cbfb812a096cd5c6650aa150dffbfc4a188
Author: Alan Conway <aconway@apache.org>
Date: 12/05/2010 21:41:32
Message:
Delay generating URL in cluster till global constructors to handle multi-protocol URLs. #MsgLength=89


----
Modified: src/qpid/cluster/Cluster.cpp|13 10
Modified: src/tests/ConnectionOptions.h|1 1

Revision: 49272365ad5c41ac588c24ac6179ddec6c9751b9
Author: Alan Conway <aconway@apache.org>
Date: 12/05/2010 21:41:41
Message:
Fixes to new API impl to support failover. #MsgLength=301


----
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|5 1
Modified: src/qpid/client/amqp0_10/FailoverUpdates.cpp|14 14

Revision: 3683ed5025bb9bb6e7e38b49ca42163d231a621f
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 13/05/2010 02:39:24
Message:
Added a few more test cases for acl file format. #MsgLength=50


----
Modified: src/tests/acl.py|26 3

Revision: 3d3677006f249fc350abc3df8e7e006212cb6c80
Author: Alan Conway <aconway@apache.org>
Date: 13/05/2010 03:20:41
Message:
Remove incorrect optimization in Logger. #MsgLength=87


----
Modified: include/qpid/log/Logger.h|0 1
Modified: src/qpid/log/Logger.cpp|3 3

Revision: e8627cf08f5a292a803819937fd053b4d3511a04
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2010 10:26:14
Message:
Allow rdma_disconnect() to fail with EINVAL as it appears to be necessary to call rdma_disconnect() after receiving a disconnection event in Infiniband, but it's not allowed on iWarp as the disconnect event has already disconnected the queue pair. #MsgLength=248


----
Modified: src/qpid/sys/rdma/rdma_exception.h|4 0
Modified: src/qpid/sys/rdma/rdma_wrap.h|8 2

Revision: 067bb80748bbeb9df090326e51018eee23787b3d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2010 10:26:21
Message:
Rearrange RDMA wrapper class code so that the interface and implementation are better separated. #MsgLength=97


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 0
Modified: src/qpid/sys/rdma/RdmaClient.cpp|1 0
Modified: src/qpid/sys/rdma/RdmaServer.cpp|1 0
Modified: src/qpid/sys/rdma/rdma_factories.cpp|51 19
Modified: src/qpid/sys/rdma/rdma_factories.h|8 38
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|349 15
Modified: src/qpid/sys/rdma/rdma_wrap.h|52 312

Revision: f6734384c61543ac919b9d85e6bec2a25ad81fbc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/05/2010 10:26:26
Message:
Transfer TCP code changes to RDMA code #MsgLength=39


----
Modified: src/qpid/client/RdmaConnector.cpp|7 6

Revision: 50d016ddd9f36dbc299ca782d997c22b26a60ab4
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/05/2010 22:58:39
Message:
Fix typo in namespace close comments #MsgLength=37


----
Modified: src/qpid/store/MessageStorePlugin.h|1 2

Revision: 9c9c794addf720510c1b9c7dcac84bcb98dbca4c
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 02:54:39
Message:
Fix deadlocks & thread safety in new API classes. #MsgLength=51


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|12 15
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|2 2
Modified: src/qpid/client/amqp0_10/FailoverUpdates.cpp|3 2
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|27 10
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|2 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|29 13
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|4 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|33 14
Modified: src/qpid/client/amqp0_10/SessionImpl.h|0 1
Modified: src/qpid/messaging/PrivateImplRef.h|3 3

Revision: 1c76ae7eeaa077e1f459a86f2b1341d183dabd47
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 02:54:50
Message:
New API clients failover in a cluster with SSL connections. #MsgLength=147


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|38 18
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|4 1
Modified: src/tests/qpid_ping.cpp|3 5
Modified: src/tests/ssl_test|38 14

Revision: fa77cf089d0f357b7b79fdfbbe511c6b911686b1
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 02:55:06
Message:
Moved FailoverUpdates to qpid::messaging namespace. #MsgLength=53


----
Renamed: include/qpid/messaging/FailoverUpdates.h [from include/qpid/client/amqp0_10/FailoverUpdates.h]|7 13
Modified: src/CMakeLists.txt|2 1
Modified: src/Makefile.am|4 4
Renamed: src/qpid/messaging/FailoverUpdates.cpp [from src/qpid/client/amqp0_10/FailoverUpdates.cpp]|5 8
Modified: src/tests/qpid_receive.cpp|1 3
Modified: src/tests/qpid_send.cpp|2 2

Revision: 3ade227ef95d033f3fd72d69f484c83fc703c9e3
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2010 05:10:34
Message:
QPID-2588: Ensure we do not make calls on store for a given queue once it has been destroyed #MsgLength=93


----
Modified: src/qpid/broker/PersistableMessage.cpp|1 1
Modified: src/qpid/broker/PersistableQueue.h|1 0
Modified: src/qpid/broker/Queue.cpp|9 1
Modified: src/qpid/broker/Queue.h|2 0

Revision: 9849368739fbd1af52ccbbc18702fd8fab97be3c
Author: Michael Goulish <mgoulish@apache.org>
Date: 14/05/2010 16:56:45
Message:
Cluster + Security ----------------------------------- #MsgLength=1730


----
Modified: src/cluster.cmake|2 0
Modified: src/cluster.mk|2 0
Modified: src/qpid/broker/Connection.cpp|6 1
Modified: src/qpid/broker/Connection.h|7 0
Modified: src/qpid/broker/ConnectionHandler.cpp|14 4
Modified: src/qpid/broker/ConnectionHandler.h|18 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|13 11
Modified: src/qpid/broker/SaslAuthenticator.h|18 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|8 3
Modified: src/qpid/cluster/Connection.cpp|72 5
Modified: src/qpid/cluster/Connection.h|15 1
Modified: src/qpid/cluster/ConnectionCodec.h|1 1
Added: src/qpid/cluster/SecureConnectionFactory.cpp|73 0
Added: src/qpid/cluster/SecureConnectionFactory.h|58 0
Modified: src/tests/ForkedBroker.cpp|1 0
Modified: src/tests/Makefile.am|7 1
Modified: src/tests/cluster.cmake|2 2
Added: src/tests/cluster_authentication_soak.cpp|244 0
Modified: src/tests/cluster_test.cpp|1 0
Modified: xml/cluster.xml|6 0

Revision: 0883bf83d1df421703673ce10a769fc3b5f7d8e2
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 21:54:56
Message:
Add missing "public" qualifier to exception inheritance. #MsgLength=58


----
Modified: include/qpid/messaging/exceptions.h|15 15

Revision: e2dbd1363bf44016ba0750b5f8526118ad7c21c8
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 21:55:03
Message:
Move helper classes/functions from MessagingSessionTests.cpp to MessagingFixture.h for sharing with other tests. #MsgLength=114


----
Added: src/tests/MessagingFixture.h|215 0
Modified: src/tests/MessagingSessionTests.cpp|1 170

Revision: 2d26b5305dd0eb02bc28cfcaf1a3e3b9a553470a
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 21:55:18
Message:
Initial multi-thread unit test for messaging API. #MsgLength=107


----
Modified: include/qpid/messaging/Receiver.h|17 7
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|7 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|2 0
Modified: src/qpid/messaging/Receiver.cpp|1 0
Modified: src/qpid/messaging/ReceiverImpl.h|1 0
Modified: src/tests/Makefile.am|2 0
Modified: src/tests/MessagingFixture.h|3 3
Added: src/tests/MessagingThreadTests.cpp|99 0

Revision: 7f32ac4a18200722442b0bfd8f01c684bde5351d
Author: Ted Ross <tross@apache.org>
Date: 14/05/2010 22:01:35
Message:
QPID-2589 - Patch from Chuck Rolke that exposes structured message content (map/list). #MsgLength=88


----
Modified: bindings/qpid/dotnet/src/Message.cpp|466 0
Modified: bindings/qpid/dotnet/src/Message.h|62 1

Revision: d6d7d588a329ef65eeedaa1c07f2d61462e54f91
Author: Ted Ross <tross@apache.org>
Date: 14/05/2010 22:08:30
Message:
QPID-2589 1) Added map-message examples 2) Added license text to example sources #MsgLength=82


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|21 0
Added: bindings/qpid/dotnet/examples/csharp.map.receiver/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|63 0
Added: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|75 0
Added: bindings/qpid/dotnet/examples/csharp.map.sender/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|87 0
Added: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|63 0
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|29 0

Revision: 849fd637099ee21f71d9dd1ad961e9166cf9b14b
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2010 22:33:11
Message:
Removed references to non-existent test run_cluster_authentication_soak #MsgLength=73


----
Modified: src/tests/Makefile.am|1 2

Revision: ce0bfaa6abac9fbbd8c71ad89a4ac20fab7a3c4e
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2010 00:08:33
Message:
This reverts r736810. In my testing (admittedly limited) I did not observe any benefot from the optimisation. It causes a bug where concurrent calls to the non-const getBody() method can result in the encodedSize() method returning 0. This has implications e.g. for store modules where the message size may be incorrectly reported resulting in buffer overruns. #MsgLength=361


----
Modified: src/qpid/framing/AMQFrame.cpp|8 30
Modified: src/qpid/framing/AMQFrame.h|2 3

Revision: be02885586a15f414a809b09733e7176682a7086
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2010 01:46:52
Message:
Skip cluster part of ssl_test if cluster not enabled. #MsgLength=54


----
Modified: src/tests/ssl_test|2 0

Revision: 4cc11fed112cde21ae95a19d9286c3c6e6b49fd3
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2010 01:53:26
Message:
QPID-664: separate out the messaging API into its own library #MsgLength=62


----
Modified: examples/messaging/CMakeLists.txt|5 5
Modified: examples/messaging/Makefile.am|2 2
Modified: examples/messaging/extra_dist/Makefile|1 1
Modified: src/CMakeLists.txt|34 13
Modified: src/Makefile.am|13 6
Modified: src/tests/CMakeLists.txt|4 4
Modified: src/tests/Makefile.am|6 5

Revision: f64279c45a67fdcabf50fea0f44c25d6b0e6c1ec
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2010 04:55:51
Message:
Fix errors when new API Receiver is closed while in use. #MsgLength=58


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|15 12
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|9 11
Modified: src/tests/MessagingThreadTests.cpp|17 9

Revision: 328fb0b859ffb6e8f758494113ba173bf7a01efe
Author: Gordon Sim <gsim@apache.org>
Date: 16/05/2010 01:05:01
Message:
QPID-2588: Prevent queue being destroyed while still in use. #MsgLength=61


----
Modified: src/qpid/broker/PersistableMessage.cpp|2 2
Modified: src/qpid/broker/PersistableQueue.h|1 1
Modified: src/qpid/broker/Queue.cpp|40 7
Modified: src/qpid/broker/Queue.h|24 2
Modified: src/tests/IncompleteMessageList.cpp|1 1

Revision: 794c077c6fcd51b94dacbe4a2f6f5d83d42a8908
Author: Gordon Sim <gsim@apache.org>
Date: 17/05/2010 17:38:31
Message:
QPID-2605: Fix to fragmentation logic for delivered messages #MsgLength=61


----
Modified: src/qpid/framing/SendContent.cpp|1 3

Revision: a7f60f9fb12e6420b51b5a22f15adba85eb9cfd9
Author: Alan Conway <aconway@apache.org>
Date: 17/05/2010 23:34:14
Message:
Added support for user/pass@ syntax in Url. #MsgLength=45


----
Modified: include/qpid/Url.h|9 2
Modified: src/qpid/Url.cpp|26 5
Modified: src/tests/Url.cpp|17 0

Revision: 29b3bcf4650df210ec753b7cb0fe772034b460df
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/05/2010 23:53:49
Message:
FailoverUpdates.h is no longer in the qpid messaging dir (from r943975); remove it from the src list. #MsgLength=102


----
Modified: src/CMakeLists.txt|0 1

Revision: 3f3bacc219fd2f99ca3e9720bf5a30e3681fc924
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2010 05:27:56
Message:
Fix for "Assertion `!mcastSentButNotReceived' failed." in cluster tests. #MsgLength=74


----
Modified: src/qpid/cluster/Connection.cpp|22 15

Revision: 144c75425222103c416b4639109f95826321dd02
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2010 05:28:05
Message:
Use new API clients qpid_send, qpid_receive instead of sender/receiver in brokertests.py #MsgLength=90


----
Modified: src/qpid/messaging/FailoverUpdates.cpp|3 1

Revision: 8269f77b9b479d364450a11425bc00d7cb9addff
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2010 05:28:15
Message:
Fix retry logic in ConnectionImpl::newSession. #MsgLength=48


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|9 8

Revision: 9c11fdac466200af37d0024a4f45fb1ebd46c072
Author: Gordon Sim <gsim@apache.org>
Date: 18/05/2010 21:13:34
Message:
QPID-2612: remove qpidtypes lib as it causes problems on windows #MsgLength=65


----
Modified: src/CMakeLists.txt|4 14
Modified: src/Makefile.am|6 9
Modified: src/tests/cluster.cmake|6 2

Revision: 2e664ec93115ca4581fef52e431de00a32e0b6cd
Author: Gordon Sim <gsim@apache.org>
Date: 18/05/2010 22:14:46
Message:
QPID-2612: remove undesired char from makefile introduced by accident in last commit #MsgLength=85


----
Modified: src/Makefile.am|1 1

Revision: 8b0bb1bb0a4b2951c042312df32b0804a91772b1
Author: Gordon Sim <gsim@apache.org>
Date: 19/05/2010 01:26:58
Message:
QPID-2612: Fix to windows build from Chuck Rolke #MsgLength=49


----
Modified: include/qpid/messaging/Address.h|19 19
Modified: include/qpid/messaging/Connection.h|14 14
Modified: include/qpid/messaging/Duration.h|8 8
Modified: include/qpid/messaging/FailoverUpdates.h|3 3
Modified: include/qpid/messaging/Handle.h|7 7
Modified: include/qpid/messaging/ImportExport.h|4 4
Modified: include/qpid/messaging/Message.h|36 36
Modified: include/qpid/messaging/Receiver.h|16 16
Modified: include/qpid/messaging/Sender.h|12 12
Modified: include/qpid/messaging/Session.h|24 24
Modified: include/qpid/messaging/exceptions.h|23 23
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 1
Modified: src/qpid/client/SessionImpl.h|2 2

Revision: a38bb10985c12e637e6c40b6898690a037eaf608
Author: Alan Conway <aconway@apache.org>
Date: 19/05/2010 02:47:25
Message:
Added locking to make amqp_0_10::SenderImpl thread safe. #MsgLength=58


----
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|34 10
Modified: src/qpid/client/amqp0_10/SenderImpl.h|4 1

Revision: 94bcc5cce1e7b37699463e42cb1e736ea5921eff
Author: Ken Giusti <kgiusti@apache.org>
Date: 19/05/2010 04:34:34
Message:
QMF: allow consoles to filter agent heartbeats based on agent identification. #MsgLength=78


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|20 3
Modified: src/qpid/management/ManagementAgent.cpp|13 2

Revision: e4a18a6f1ef50a7073503a24322a087e0416ddb5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2010 05:33:15
Message:
Fix the behaviour of the EpollPoller when shutdowns and interrupts interact #MsgLength=76


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|6 0
Modified: src/tests/PollerTest.cpp|50 14

Revision: 1870dd7e2514f8e113593bdc829dafa93b843647
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2010 05:41:25
Message:
Fix RDMA for upstream changes which now require notification on shutdown differently from before #MsgLength=97


----
Modified: src/qpid/client/RdmaConnector.cpp|66 29
Modified: src/qpid/sys/RdmaIOPlugin.cpp|15 5
Modified: src/qpid/sys/rdma/RdmaClient.cpp|4 0
Modified: src/qpid/sys/rdma/RdmaIO.cpp|104 36
Modified: src/qpid/sys/rdma/RdmaIO.h|14 13
Modified: src/qpid/sys/rdma/RdmaServer.cpp|6 2

Revision: 3d6ce11d843be26c399a116887759bb3b2971a8a
Author: Gordon Sim <gsim@apache.org>
Date: 19/05/2010 18:21:05
Message:
Prevent race between shutdown() and release() resulting in attempt to close deleted connector. #MsgLength=95


----
Modified: src/qpid/client/ConnectionImpl.cpp|12 3

Revision: 00f3aeb832c63013efc36cf94456f9fa640a4461
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/05/2010 05:28:38
Message:
Correct class/struct reference; resolves compile warning on Windows. #MsgLength=69


----
Modified: include/qpid/Address.h|1 1

Revision: 5f7904af3faee892f2d38fbecf2d26aa1d2d3d3b
Author: Ted Ross <tross@apache.org>
Date: 21/05/2010 03:52:55
Message:
Removed the logic in the broker's management agent that detected name collisions. The new logic will disambiguate colliding names by adding an underscore to the one being inserted. #MsgLength=182


----
Modified: include/qpid/management/ManagementObject.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|15 98
Modified: src/qpid/management/ManagementAgent.h|0 2
Modified: src/qpid/management/ManagementObject.cpp|21 15

Revision: a3813a2eae60cc510a6c573817a523fb350b0cfa
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/05/2010 05:42:40
Message:
QMF: provide event filter api for python console #MsgLength=49


----
Modified: src/qpid/management/ManagementAgent.cpp|35 11
Modified: src/qpid/management/ManagementAgent.h|2 0

Revision: ac1fbe2887e2bfe692f599b7b0f13aa1a17f38f7
Author: Ted Ross <tross@apache.org>
Date: 21/05/2010 23:40:39
Message:
Added setEncoding call to strings encoded from maps and lists.  Encoding is "utf8" for now. #MsgLength=92


----
Modified: bindings/qpid/dotnet/src/Message.cpp|1 0

Revision: 8c0a403e31f8bac76256e3aede4d20fcc0e1f8bb
Author: Alan Conway <aconway@apache.org>
Date: 22/05/2010 01:31:29
Message:
Fix broker core dump during start-up caused by un-initialized mAgent pointer. #MsgLength=79


----
Modified: src/qpid/cluster/Cluster.cpp|1 0

Revision: 8c50d5634e7dfd14b565960f24726938f4ed9dea
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/05/2010 01:39:51
Message:
QMF: add bindEvent api to allow filtering of unsolicted events. #MsgLength=64


----
Modified: bindings/qmf/python/qmf.py|14 1
Modified: bindings/qmf/ruby/qmf.rb|15 0
Modified: include/qmf/engine/Console.h|3 0
Modified: include/qpid/console/SessionManager.h|14 0
Modified: src/qmf/engine/ConsoleImpl.cpp|30 0
Modified: src/qmf/engine/ConsoleImpl.h|2 0
Modified: src/qpid/console/SessionManager.cpp|27 0

Revision: ff52471a8f666059c8907ebbb80a158c2ec2ce10
Author: Kim van der Riet <kpvdr@apache.org>
Date: 24/05/2010 23:48:18
Message:
Changed the names of tests which are installed in /usr/bin/ to be prefixed with "qpid-". This will make these generic names easier to associate with qpid. (BZ577353) #MsgLength=166


----
Modified: src/tests/CMakeLists.txt|28 28
Modified: src/tests/Makefile.am|30 30
Modified: src/tests/cluster_authentication_soak.cpp|11 11
Modified: src/tests/cluster_tests.py|1 1
Renamed: src/tests/qpid-client-test.cpp [from src/tests/client_test.cpp]|0 0
Renamed: src/tests/qpid-latency-test.cpp [from src/tests/latencytest.cpp]|0 0
Renamed: src/tests/qpid-perftest.cpp [from src/tests/perftest.cpp]|7 7
Renamed: src/tests/qpid-topic-listener.cpp [from src/tests/topic_listener.cpp]|4 4
Renamed: src/tests/qpid-topic-publisher.cpp [from src/tests/topic_publisher.cpp]|1 1
Renamed: src/tests/qpid-txtest.cpp [from src/tests/txtest.cpp]|0 0
Modified: src/tests/quick_perftest|1 1
Modified: src/tests/quick_txtest|1 1
Modified: src/tests/run_perftest|3 3
Modified: src/tests/ssl_test|1 1
Modified: src/tests/topictest|2 2

Revision: b670dc10329eea467e49f23bb8ccbfd231a3c53a
Author: Michael Goulish <mgoulish@apache.org>
Date: 25/05/2010 02:25:46
Message:
Jira QPID-2617 -- make sasl-based tests config files relocatable #MsgLength=1189


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|24 11
Modified: src/qpid/broker/SaslAuthenticator.h|1 1
Added: src/sasl.mk|31 0
Modified: src/tests/ForkedBroker.cpp|4 1
Modified: src/tests/ForkedBroker.h|4 0
Modified: src/tests/Makefile.am|7 4
Modified: src/tests/cluster_authentication_soak.cpp|93 28
Added: src/tests/run_cluster_authentication_soak|4 0
Added: src/tests/run_cluster_authentication_test|4 0
Added: src/tests/sasl_config/qpidd.conf|45 0

Revision: b5af5927fde71d239fad7f7ae33d52f815b41bfe
Author: Michael Goulish <mgoulish@apache.org>
Date: 25/05/2010 03:02:03
Message:
The cmake build caught my omission of this unused arg. #MsgLength=56


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1

Revision: 036c448c16ed737d0a3876452e55fb095a7d9a2e
Author: Michael Goulish <mgoulish@apache.org>
Date: 25/05/2010 06:56:40
Message:
Disable new sasl testing if SASL version is less than 2.1.22. Earlier version do not have SASL_PATH_TYPE_CONFIG, which this testing requires. #MsgLength=143


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|3 0
Modified: src/tests/cluster_authentication_soak.cpp|5 0

Revision: 6c9beebe7c1752fa6f08cdbbd9046df7816cc645
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2010 15:14:08
Message:
QPID-2617: Fix new sasl test setup for vpath builds (patch from Mick Goulish) #MsgLength=78


----
Modified: src/sasl.mk|1 1

Revision: 8e10a6df0fc43b12efc3bda31b242bc65b52986d
Author: Michael Goulish <mgoulish@apache.org>
Date: 25/05/2010 18:08:41
Message:
Removed sasl test db creation from the Makefile logic, and simply put it into the test scripts where it is used.   When mixed in with Makefiles, it was breaking make targets like "install". #MsgLength=191


----
Modified: src/Makefile.am|0 2
Deleted: src/sasl.mk|0 31
Modified: src/tests/run_cluster_authentication_soak|12 0
Modified: src/tests/run_cluster_authentication_test|12 0

Revision: 3bb8420740a222f03f47c57fc6b0d2048dea9da9
Author: Ted Ross <tross@apache.org>
Date: 25/05/2010 22:02:49
Message:
Replaced the earlier-removed init function (in ManagementAgent.h) that uses ConnectionSettings.  Created a ConnectionSettings in the qpid::management name space that mirrors that from the qpid::client namespace. #MsgLength=213


----
Modified: include/qpid/agent/ManagementAgent.h|8 1
Added: include/qpid/management/ConnectionSettings.h|118 0
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|22 3
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1
Added: src/qpid/management/ConnectionSettings.cpp|40 0

Revision: 2a4b9825218c4d83730c98fb897d3198743fc68b
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2010 23:13:08
Message:
QPID-2617: Fix the windows build for modified method signature #MsgLength=63


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 1

Revision: 38fa6a82e0b859440159250f0d220f5e5c82b932
Author: Alan Conway <aconway@apache.org>
Date: 26/05/2010 02:05:54
Message:
Fix "mismatched cluster-id" errors during start up. #MsgLength=244


----
Modified: src/qpid/cluster/Cluster.cpp|27 20
Modified: src/qpid/cluster/Cluster.h|1 1

Revision: 34d995ff32968355a3feec33af804432a2f1e6d3
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2010 02:09:13
Message:
QPID-2631: For blocking Bounds::expand() calls, only increase the current count when there is space. In SessionImpl::send() expand bounds before queueing frame. Expand bounds for all frames sent (including connection frames and cluster specific frames). #MsgLength=254


----
Modified: src/qpid/client/Bounds.cpp|3 3
Modified: src/qpid/client/ConnectionHandler.cpp|10 2
Modified: src/qpid/client/ConnectionHandler.h|6 3
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|14 2
Modified: src/tests/cluster_test.cpp|2 0

Revision: e0eecbdb2653d2b7af85384d0b0c07cab1f14442
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2010 04:02:18
Message:
Fix issues with cluster+security #MsgLength=146


----
Modified: src/qpid/broker/ConnectionHandler.cpp|8 9
Modified: src/qpid/broker/ConnectionHandler.h|1 6
Modified: src/qpid/cluster/Connection.cpp|15 15

Revision: a98952fecfd91c65db6abfcfefe4e219ab559c43
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2010 04:02:30
Message:
Fix problems with cluster_authentication_soak test in VPATH build. #MsgLength=292


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|9 11
Modified: src/tests/Makefile.am|4 9
Modified: src/tests/cluster_authentication_soak.cpp|7 11
Modified: src/tests/run_cluster_authentication_soak|1 12
Modified: src/tests/run_cluster_authentication_test|1 12
Renamed: src/tests/sasl.mk [from src/tests/sasl_config/qpidd.conf]|12 26
Added: src/tests/sasl_test_setup.sh|21 0

Revision: 6a1423333c0ac03fe03e47cf6ed92ef189200b98
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2010 04:02:41
Message:
Fixed: authentication with bad credentials causes cluster broker to exit. #MsgLength=75


----
Modified: src/qpid/cluster/Connection.cpp|12 2
Modified: src/tests/Makefile.am|5 1
Modified: src/tests/cluster_tests.py|12 0
Modified: src/tests/sasl_test_setup.sh|2 1

Revision: 93bd4b69707e66c163c80d81c0f0a172decd2375
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2010 21:37:22
Message:
QPID-2598: Prevent exit hang on windows (at the expense of intermittent leak on exit under linux) #MsgLength=98


----
Modified: src/qpid/client/ConnectionImpl.cpp|8 10

Revision: b5378184b292504b7749e997210469b29106656a
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/05/2010 22:07:25
Message:
Allow tests that load shareable libs to work on Windows with a debug build. Those libs have a 'd' appended to their name. #MsgLength=122


----
Modified: src/config.h.cmake|6 0
Modified: src/tests/ReplicationTest.cpp|6 3
Modified: src/tests/Shlib.cpp|3 2

Revision: b4d91304467027b56528f43b6fb499d358dab448
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2010 22:10:57
Message:
Fix compilation error on windows #MsgLength=33


----
Modified: src/qpid/client/ConnectionHandler.cpp|1 1

Revision: 6984d687a02f1e85e4503920bbb6a8a6db232cda
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2010 22:42:43
Message:
Add missing sasl_test_setup.sh to EXTRA_DIST #MsgLength=46


----
Modified: src/tests/Makefile.am|2 1

Revision: 9340b5020d51ceae30270a7e40290161bf08b7ef
Author: Alan Conway <aconway@apache.org>
Date: 28/05/2010 23:29:15
Message:
Fix make distcheck: clean sasl_config test files. #MsgLength=51


----
Modified: src/tests/Makefile.am|3 0

Revision: f87f7e5d1e05de259e39997d6eb2f3765cc2ca74
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2010 01:00:11
Message:
Fixed conflicting clean-local targets, causing make distcheck to fail. #MsgLength=72


----
Modified: src/tests/Makefile.am|4 1
Modified: src/tests/ssl.mk|1 2

Revision: 3f766d72cf4a6e3dc6e21b46948084e2580f6342
Author: Ted Ross <tross@apache.org>
Date: 29/05/2010 02:09:10
Message:
QPID-2628 - Patch from Chuck Rolke #MsgLength=35


----
Modified: bindings/qpid/dotnet/ReadMe.txt|24 9
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|16 3
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|7 5
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|14 1
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|7 5
Added: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/Properties/AssemblyInfo.cs|54 0
Added: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|280 0
Added: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|69 0
Added: bindings/qpid/dotnet/examples/csharp.map.callback.sender/Properties/AssemblyInfo.cs|54 0
Added: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|146 0
Added: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|66 0
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|11 5
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|7 5
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|44 0
Added: bindings/qpid/dotnet/src/Address.cpp|186 0
Added: bindings/qpid/dotnet/src/Address.h|89 0
Modified: bindings/qpid/dotnet/src/Connection.cpp|178 16
Modified: bindings/qpid/dotnet/src/Connection.h|18 3
Modified: bindings/qpid/dotnet/src/Duration.h|44 21
Modified: bindings/qpid/dotnet/src/Message.cpp|111 404
Modified: bindings/qpid/dotnet/src/Message.h|30 52
Renamed: bindings/qpid/dotnet/src/QpidException.h [from bindings/qpid/dotnet/src/resource.h]|19 3
Modified: bindings/qpid/dotnet/src/QpidMarshal.h|1 0
Added: bindings/qpid/dotnet/src/QpidTypeCheck.h|75 0
Modified: bindings/qpid/dotnet/src/Receiver.cpp|127 18
Modified: bindings/qpid/dotnet/src/Receiver.h|13 7
Modified: bindings/qpid/dotnet/src/Sender.cpp|6 23
Modified: bindings/qpid/dotnet/src/Sender.h|28 5
Modified: bindings/qpid/dotnet/src/Session.cpp|271 34
Modified: bindings/qpid/dotnet/src/Session.h|36 11
Added: bindings/qpid/dotnet/src/TypeTranslator.cpp|411 0
Added: bindings/qpid/dotnet/src/TypeTranslator.h|70 0
Modified: bindings/qpid/dotnet/src/app.rc|1 0
Added: bindings/qpid/dotnet/src/org.apache.qpid.messaging.rc|101 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|26 8
Added: bindings/qpid/dotnet/src/qpid.snk|0 0
Added: bindings/qpid/dotnet/src/resource1.h|14 0
Added: bindings/qpid/dotnet/src/sessionreceiver/Properties/AssemblyInfo.cs|55 0
Added: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|65 0
Added: bindings/qpid/dotnet/src/sessionreceiver/sessionreceiver.cs|133 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|56 6
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|13 5

Revision: 7079208b667de0f2efeaa718d67a83db94ac463d
Author: Alan Conway <aconway@apache.org>
Date: 31/05/2010 23:14:54
Message:
Fixed assertion error in cluster_tests.py test_failover. #MsgLength=118


----
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/RetractClient.cpp|1 0

Revision: b6af956f92c4cd424589efd6edf38f79e26a2bbf
Author: Alan Conway <aconway@apache.org>
Date: 01/06/2010 04:29:00
Message:
Added pkg-config support for qpid C++ client libraries. #MsgLength=56


----
Modified: configure.ac|1 0
Modified: src/Makefile.am|3 0
Added: src/qpid.pc.in|11 0

Revision: e5afc58d0ed4dd2570df39dbbf7afbd63bf3384c
Author: Alan Conway <aconway@apache.org>
Date: 01/06/2010 23:48:45
Message:
Fix memory error in failover_soak.cpp. #MsgLength=40


----
Modified: src/tests/failover_soak.cpp|2 1

Revision: 274a7fafd435c489bb78117132421dd8b506966c
Author: Alan Conway <aconway@apache.org>
Date: 01/06/2010 23:53:39
Message:
Source cluster environment checks in run_cluster_authentication_test/_soak. #MsgLength=77


----
Modified: src/tests/run_cluster_authentication_soak|4 1
Modified: src/tests/run_cluster_authentication_test|4 1

Revision: afc3ec85dd6046ddeba93e2ac421501d84e82be6
Author: Michael Goulish <mgoulish@apache.org>
Date: 02/06/2010 02:03:26
Message:
Change verbosity back to 0.  Oops. #MsgLength=36


----
Modified: src/tests/run_failover_soak|1 1

Revision: 22f4fd2865f20e4b94389f5f347e57fdb868758f
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2010 02:54:56
Message:
QPID-2636: Ensure close is called for a disconnect preventing occasional leaks of abruptly terminated connections #MsgLength=114


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|5 6
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 7

Revision: 99da6dda2e6176bbe3f9f9911dc794d66b848900
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2010 02:59:52
Message:
QPID-2004: Send disconnected event to any handles still registered after shutdown to ensure they can clean themselves up #MsgLength=121


----
Modified: src/qpid/cluster/PollerDispatch.cpp|4 2
Modified: src/qpid/sys/Poller.h|2 0
Modified: src/qpid/sys/epoll/EpollPoller.cpp|46 0
Modified: src/qpid/sys/solaris/ECFPoller.cpp|5 0
Modified: src/qpid/sys/windows/IocpPoller.cpp|5 0

Revision: dcdea3b16e56a6bfec4f79ef3090e6b983f3f9e0
Author: Gordon Sim <gsim@apache.org>
Date: 02/06/2010 18:39:10
Message:
QPID-664: Changed default for reconnect to false as that is more intuitive (e.g. when you specify the wrong broker address to start with) #MsgLength=138


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1

Revision: 5ec3ff9baedaf721611c8b640000bd378b2d14a8
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/06/2010 21:23:11
Message:
Correct reference to test exe #MsgLength=30


----
Modified: src/tests/CMakeLists.txt|2 2

Revision: d56f2b047cd1909afdbe467f45d08ded21f3fe41
Author: Robert Gemmell <robbie@apache.org>
Date: 02/06/2010 22:56:03
Message:
Delete empty cpp/src/tests/sasl_config dir which is being touched and removed by the build process, leading to spurious svn update output as the missing directory is recreated. #MsgLength=177


----

Revision: b1c203da4d0784f36aeaa75f225f00454b8219f8
Author: Alan Conway <aconway@apache.org>
Date: 02/06/2010 23:49:49
Message:
Fixed sporadic client "reserved bits not 0" exceptions with cluster + encryption. #MsgLength=83


----
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1

Revision: dab12233e345980b3bdb514af17d08a66603dac3
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2010 03:45:34
Message:
QPID-2004: Now that connections are cleaned up on shutdown, some cluster safety assertions need to be relaxed. #MsgLength=111


----
Modified: src/qpid/broker/Queue.cpp|0 1
Modified: src/qpid/broker/SemanticState.cpp|0 2

Revision: b46aa3e148b5babae262cd364f69c495deb71248
Author: Alan Conway <aconway@apache.org>
Date: 03/06/2010 05:21:38
Message:
Fix error string for invalid options, fix exception handling in qpid_send/qpid_receive. #MsgLength=89


----
Modified: src/qpid/messaging/Connection.cpp|1 1
Modified: src/tests/qpid_receive.cpp|10 9
Modified: src/tests/qpid_send.cpp|8 7

Revision: 316eec5b967db908058dac2e0f64436d28201a6a
Author: Gordon Sim <gsim@apache.org>
Date: 03/06/2010 18:07:23
Message:
QPID-2640: Don't try to cast integer-like values during parsing; leave as strings and let the usage context determine the correct type to cast to. #MsgLength=147


----
Modified: src/qpid/messaging/AddressParser.cpp|0 3

Revision: 22b5ffe1996219b382c16bd780b2374c2e676409
Author: Ted Ross <tross@apache.org>
Date: 03/06/2010 22:14:50
Message:
QPID-2589 - Build DLLs and EXEs usable on both 32 and 64-bit architectures. Patch from Chuck Rolke. #MsgLength=100


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|17 1
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|17 1
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|17 1
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|18 1
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|17 1
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|17 1
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|37 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|7 7
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|17 1
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|17 1

Revision: c95920fab26627f61c69d5913e20c324ff184d1c
Author: Ted Ross <tross@apache.org>
Date: 04/06/2010 04:23:30
Message:
QPID-2644 - Console examples sometimes fail due to not waiting for the broker connection to complete Moved 'Broker::waitForStable' from private to public, used this function in the examples to hold off until the broker is fully connected. #MsgLength=240


----
Modified: examples/qmf-console/console.cpp|1 0
Modified: examples/qmf-console/ping.cpp|1 0
Modified: include/qpid/console/Broker.h|7 7

Revision: 86552ef3bd5f3bceb9b1693d505e507aba3ab4ec
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/06/2010 04:48:53
Message:
Remove dependency on qpid::sys::AbsTime (which uses boost on Windows) #MsgLength=70


----
Modified: examples/messaging/spout.cpp|6 6

Revision: 7b96a477b8cd7a4e3174ae373ba42acbaec3bb04
Author: Alan Conway <aconway@apache.org>
Date: 04/06/2010 23:23:32
Message:
Fix initialization-order problem with URL protocol tags. #MsgLength=58


----
Modified: include/qpid/Url.h|0 2
Modified: src/qpid/Url.cpp|31 7

Revision: 48494bc72d2aca8678d192aceb8f21406ebbe515
Author: Alan Conway <aconway@apache.org>
Date: 04/06/2010 23:39:01
Message:
Fixed sporadic failure of cluster_tests.py sasl_test #MsgLength=196


----
Modified: src/qpid/cluster/Connection.cpp|2 1

Revision: f7cd2497464114e1ed09c1c1a38e77f0b3f259b3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/06/2010 01:41:38
Message:
Eliminate windows warning #MsgLength=26


----
Modified: include/qpid/framing/FieldValue.h|1 1

Revision: 334fc5554fe02a695dfedb8f47026fd7aab60737
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/06/2010 05:11:04
Message:
Windows SDK work: * Added message_drain & message_spout programs back into the SDK examples * Modified messaging example project files to use qpidmessaging library (instead of old qpidclient lib) * Removed all x64 configurations from the example messaging projects as we don't include the x64 libs in the SDK * Put import libs in lib directory to separate them from dlls * Removed use of BOOST_ROOT env var from example projects as no boost headers are needed by the SDK #MsgLength=474


----
Modified: bld-winsdk.ps1|8 11
Modified: examples/examples.sln|10 22
Modified: examples/messaging/messaging_client.vcproj|30 191
Modified: examples/messaging/messaging_drain.vcproj|11 172
Modified: examples/messaging/messaging_map_receiver.vcproj|30 191
Modified: examples/messaging/messaging_map_sender.vcproj|30 191
Modified: examples/messaging/messaging_server.vcproj|30 191
Modified: examples/messaging/messaging_spout.vcproj|10 172
Modified: examples/old-examples.sln|0 12

Revision: 1606145401c764b6b5bc56b70695817be5c035bf
Author: Gordon Sim <gsim@apache.org>
Date: 08/06/2010 00:15:27
Message:
QPID-2649: Ensure timer is stopped before we start deleting broker members #MsgLength=75


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: 44da256411aab97e29043ddd0cbeb6830162cd19
Author: Gordon Sim <gsim@apache.org>
Date: 08/06/2010 03:46:55
Message:
Don't set USER callback, AUTHNAME is sufficient #MsgLength=48


----
Modified: src/qpid/client/SaslFactory.cpp|0 4

Revision: f4a4318b4c69de0f5b4d6ceb35665e17e3bd5a32
Author: Alan Conway <aconway@apache.org>
Date: 08/06/2010 23:31:31
Message:
Cluster handle connection-negotiation phase in local broker. #MsgLength=513


----
Modified: src/qpid/broker/Connection.cpp|1 2
Modified: src/qpid/broker/Connection.h|2 6
Modified: src/qpid/broker/ConnectionHandler.cpp|4 9
Modified: src/qpid/broker/ConnectionHandler.h|2 10
Modified: src/qpid/broker/SaslAuthenticator.h|0 10
Modified: src/qpid/cluster/Connection.cpp|89 117
Modified: src/qpid/cluster/Connection.h|6 14
Modified: src/qpid/cluster/Multicaster.cpp|0 1
Modified: src/tests/cluster_test.cpp|4 4
Modified: xml/cluster.xml|4 6

Revision: 444274e10b4bd51b35faef950c44bb53ab300587
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2010 18:21:59
Message:
Ensure that bindings for dynamic bridges are not propagated over failed sessions. #MsgLength=82


----
Modified: src/qpid/broker/Bridge.cpp|17 9
Modified: src/qpid/broker/Bridge.h|2 0

Revision: 5c58c21416f4809049461bff0b9389788fa4f464
Author: Ted Ross <tross@apache.org>
Date: 09/06/2010 19:59:38
Message:
QPID-2589 Cleanup pass to address function naming, capitalization rules, change Qpid messaging 'list' representation from List<> to Collection<>, some exception cleanup. Patch from Chuck Rolke #MsgLength=193


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|8 8
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|7 7
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|24 23
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|10 9
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|10 11
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|9 8
Modified: bindings/qpid/dotnet/src/Address.cpp|25 25
Modified: bindings/qpid/dotnet/src/Address.h|19 15
Modified: bindings/qpid/dotnet/src/Connection.cpp|67 61
Modified: bindings/qpid/dotnet/src/Connection.h|15 15
Modified: bindings/qpid/dotnet/src/Duration.h|22 7
Modified: bindings/qpid/dotnet/src/Message.cpp|48 51
Modified: bindings/qpid/dotnet/src/Message.h|40 35
Modified: bindings/qpid/dotnet/src/QpidException.h|10 6
Modified: bindings/qpid/dotnet/src/QpidMarshal.h|7 4
Modified: bindings/qpid/dotnet/src/QpidTypeCheck.h|18 13
Modified: bindings/qpid/dotnet/src/ReadMe.txt|4 4
Modified: bindings/qpid/dotnet/src/Receiver.cpp|45 54
Modified: bindings/qpid/dotnet/src/Receiver.h|33 28
Modified: bindings/qpid/dotnet/src/Sender.cpp|11 11
Modified: bindings/qpid/dotnet/src/Sender.h|9 9
Modified: bindings/qpid/dotnet/src/Session.cpp|101 142
Modified: bindings/qpid/dotnet/src/Session.h|24 24
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|62 60
Modified: bindings/qpid/dotnet/src/TypeTranslator.h|24 23
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.rc|3 3
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|5 1
Modified: bindings/qpid/dotnet/src/sessionreceiver/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/src/sessionreceiver/sessionreceiver.cs|19 19
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|8 8

Revision: 722fc52a9f819c5c45a48cfb208d046e5aff1eeb
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2010 22:40:26
Message:
Ensure heartbeat task is cancelled before ConnectionImpl it refers to is deleted #MsgLength=81


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 0

Revision: 7bfab743cca474f07ef4c3782eabd5ffa47fd0cb
Author: Ted Ross <tross@apache.org>
Date: 10/06/2010 02:17:19
Message:
Cleaned up the storage of RemoteAgents in ManagementAgent. This closes a window of opportunity for a double-free. #MsgLength=115


----
Modified: src/qpid/management/ManagementAgent.cpp|11 16
Modified: src/qpid/management/ManagementAgent.h|1 5

Revision: 39f328465de02a89a6d62b6b99b72dfeacaddced
Author: Alan Conway <aconway@apache.org>
Date: 10/06/2010 04:29:32
Message:
Fix cluster-safe assertion in connection negotiation. #MsgLength=195


----
Modified: src/qpid/broker/Connection.cpp|11 1
Modified: src/qpid/broker/Connection.h|1 0
Modified: src/qpid/cluster/Connection.cpp|2 0
Modified: src/qpid/sys/ClusterSafe.cpp|5 1
Modified: src/qpid/sys/ClusterSafe.h|16 1
Modified: src/tests/cluster_tests.py|4 2

Revision: 9d93f2d237218c2452ce654c199a53cf64deb9d6
Author: Gordon Sim <gsim@apache.org>
Date: 10/06/2010 21:36:15
Message:
QPID-664: Correct the name of the subject string used for incoming messages. #MsgLength=77


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|2 0

Revision: dec3eb5eaa54a4d36a86e75339b443bb7e4d2d86
Author: Alan Conway <aconway@apache.org>
Date: 11/06/2010 05:01:40
Message:
Extended tests for cluster and security. #MsgLength=41


----
Modified: src/tests/cluster_tests.py|47 3

Revision: 798a0f8e340171a991201c62522a63a6c6718a3c
Author: Alan Conway <aconway@apache.org>
Date: 11/06/2010 05:01:58
Message:
Improved qpid_ping - use heartbeat to interrupt connection. #MsgLength=61


----
Modified: src/tests/qpid_ping.cpp|18 63

Revision: df6bc4c3fb122b78bb611f6092dce6d24db37ad5
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/06/2010 08:52:28
Message:
Fix unreferenced variable warnings on Windows build. #MsgLength=53


----
Modified: src/qpid/acl/AclData.cpp|2 2
Modified: src/qpid/acl/AclValidator.cpp|1 1

Revision: 7a7bf2f475410e5317d39b18f80094ea9b18502e
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/06/2010 08:59:41
Message:
Refer to struct Url as that, not a class - fixes compile warnings on Windows. #MsgLength=78


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 1

Revision: 1d4553eb7a57ef3603da30acab3dc7a3d6e0410d
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2010 16:42:37
Message:
Ensure that AsynchConnector is disassociated from Poller when aborting connection attempt due to a heartbeat timeout #MsgLength=117


----
Modified: src/qpid/client/TCPConnector.cpp|8 4
Modified: src/qpid/client/TCPConnector.h|1 0
Modified: src/qpid/sys/AsynchIO.h|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|6 0

Revision: 0ce69056c0472ff85e158f6ad0c34b001be75698
Author: Gordon Sim <gsim@apache.org>
Date: 11/06/2010 17:10:13
Message:
QPID-664: Avoid allocation for void Variant #MsgLength=44


----
Modified: src/qpid/types/Variant.cpp|29 26

Revision: 733a75a0cf3e8e3793a97fdbb09d549b3216b2e7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/06/2010 20:49:52
Message:
QPID-2666: Fix for init script problem where config file has "log-to-file" set with a relative path. #MsgLength=101


----
Modified: etc/qpidd|1 1

Revision: f597aa4e598b35a6192aa1155c46b2ac22421545
Author: Alan Conway <aconway@apache.org>
Date: 12/06/2010 03:11:12
Message:
Fix ordering problem with of dependencies of make check. #MsgLength=57


----
Modified: src/tests/Makefile.am|2 1

Revision: ecce5de5d388ea00d555dbd08a3efe9c3b41424f
Author: Ted Ross <tross@apache.org>
Date: 12/06/2010 05:46:57
Message:
Fixed a bug in which QMF error return codes were being sent back as 7 - Exception. #MsgLength=84


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|12 20

Revision: 9099642a07b2f551a96e53ae3ceb8798b4f4de31
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2010 21:44:00
Message:
Rename tests qpid_* to qpid-* for consistency. #MsgLength=48


----
Modified: src/tests/CMakeLists.txt|6 6
Modified: src/tests/Makefile.am|12 17
Renamed: src/tests/qpid-cpp-benchmark [from src/tests/qpid_cpp_benchmark]|3 3
Renamed: src/tests/qpid-ping.cpp [from src/tests/qpid_ping.cpp]|0 0
Renamed: src/tests/qpid-receive.cpp [from src/tests/qpid_receive.cpp]|2 2
Renamed: src/tests/qpid-send.cpp [from src/tests/qpid_send.cpp]|5 5
Renamed: src/tests/qpid-stream.cpp [from src/tests/qpid_stream.cpp]|7 7
Modified: src/tests/ssl_test|7 7

Revision: 644ceefe9fbf5d65f397fce0107b07085c44a5ac
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:05
Message:
Removed unnecessary parameter from Rdma::AsynchIO::dataEvent() #MsgLength=63


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 2
Modified: src/qpid/sys/rdma/RdmaIO.h|1 1

Revision: 99b46660a92aa822e8e231f6f1bb27c71eb506c8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:08
Message:
Trivial code simplification #MsgLength=28


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|1 3

Revision: e6d24acd96c25ba21633dc3cda123859fd8e84c6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:12
Message:
Only set the draining flag when we delay calling the drained callback. #MsgLength=71


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|1 2

Revision: 47127ee230d1184a78aca5a198725671906dfee6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:16
Message:
In Rdma::AsynchIO::stop(): - make sure we stop the underlying handle immediately whether or not we do the stopped callback now or have to defer it. #MsgLength=338


----
Modified: src/qpid/client/RdmaConnector.cpp|15 4
Modified: src/qpid/sys/rdma/RdmaIO.cpp|4 2

Revision: 188c7de1951c3ec4a6ea2f5b0e504a3f28b60816
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:20
Message:
Allow stopping even if we've got outstanding write buffers. #MsgLength=60


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|1 1

Revision: 697347cd04f9bb5eaa7a97aaa1a4ce36ed08d391
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:23
Message:
Added asserts to ensure that we catch it if xmitCredit isn't sane #MsgLength=66


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|7 0

Revision: 3a0b4f8cb4203167259c68140852d2f9be1c93b6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:27
Message:
Try to avoid getting into a state where we can't send credit because we sent the very last buffer without any credit. So in theory when we do have credit to send we should have a buffer and xmit credit to do it with. #MsgLength=217


----
Modified: src/qpid/sys/rdma/RdmaIO.h|10 1

Revision: 5a6e089e36a1738570b77d8613ec5ad4cd4b4f1c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:33
Message:
Combine Rdma::Buffer and ibv_sge needed to send it #MsgLength=51


----
Modified: src/qpid/client/RdmaConnector.cpp|5 6
Modified: src/qpid/sys/RdmaIOPlugin.cpp|6 6
Modified: src/qpid/sys/rdma/RdmaClient.cpp|4 4
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 11
Modified: src/qpid/sys/rdma/RdmaServer.cpp|2 2
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|17 29
Modified: src/qpid/sys/rdma/rdma_wrap.h|24 5

Revision: fe8964b034f4c6fa02d713424b7520455c1d522a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:36
Message:
Ensure that we can't shutdown in the middle of writing a buffer #MsgLength=64


----
Modified: src/qpid/client/RdmaConnector.cpp|1 0

Revision: 7dfdfffc82dd3ce3ed349f34b80c240e770cc720
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:40
Message:
Move QueuePair member in Rdma::AsynchIO to ensure that it get destroyed before the buffers it uses, so that there is no hardware activity using them after they are deleted #MsgLength=172


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 2
Modified: src/qpid/sys/rdma/RdmaIO.h|4 2

Revision: 6cd1a564e8199bc8779cc83c241dfe773e7ae4a6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2010 22:50:44
Message:
Allow entry into notifyPendingWrite() if already stopped as it is too hard to eliminate a race that can cause this, and it is essentially harmless if ignored #MsgLength=158


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 2

Revision: 7493463de9e6fc5cda344e83e6b1d3cc5231fbab
Author: Ted Ross <tross@apache.org>
Date: 15/06/2010 03:33:25
Message:
QPID-2667 - Documentation update from Chuck Rolke #MsgLength=50


----
Modified: INSTALL-WINDOWS|9 8

Revision: ae9b5d7c8b12cbbabf1a94e2fa6b872ec4abce1b
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2010 04:03:38
Message:
Added qpid-cpp-benchmark to EXTRA_DIST. #MsgLength=40


----
Modified: src/tests/Makefile.am|1 0

Revision: 4f828ae6919f57476303b569a949b824e65fca65
Author: Michael Goulish <mgoulish@apache.org>
Date: 15/06/2010 22:07:53
Message:
This change is a partial fix for the problem of long cluster failovers.  This change addresses part of that problem: long newbie-broker catchup times. #MsgLength=655


----
Modified: src/qpid/cluster/Cluster.cpp|3 1

Revision: a360c33020f35445a4e49d34cdfdeb3f6e610860
Author: Gordon Sim <gsim@apache.org>
Date: 15/06/2010 23:34:10
Message:
QPID-2670: copy-on-write when tagging message for loop detection #MsgLength=65


----
Modified: src/qpid/broker/Message.cpp|6 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/Queue.cpp|10 3
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/framing/FrameSet.cpp|10 0
Modified: src/qpid/framing/FrameSet.h|1 0

Revision: fffb33d0028c913c9bbc4ecefb8421c72e4d9331
Author: Ted Ross <tross@apache.org>
Date: 16/06/2010 01:51:10
Message:
QPID-2589 - Patch from Chuck Rolke More API cleanup and new examples (to match the examples for other languages) #MsgLength=113


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|18 29
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|23 19
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|2 2
Added: bindings/qpid/dotnet/examples/csharp.example.client/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.cs|70 0
Added: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.csproj|81 0
Added: bindings/qpid/dotnet/examples/csharp.example.declare_queues/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.cs|61 0
Added: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|81 0
Added: bindings/qpid/dotnet/examples/csharp.example.drain/Options.cs|181 0
Added: bindings/qpid/dotnet/examples/csharp.example.drain/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.cs|85 0
Added: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.csproj|82 0
Added: bindings/qpid/dotnet/examples/csharp.example.server/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.cs|61 0
Added: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.csproj|81 0
Added: bindings/qpid/dotnet/examples/csharp.example.spout/Options.cs|189 0
Added: bindings/qpid/dotnet/examples/csharp.example.spout/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.cs|117 0
Added: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.csproj|82 0
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|38 3
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|8 3
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|44 3
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|2 2
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|92 1
Modified: bindings/qpid/dotnet/src/Message.cpp|133 13
Modified: bindings/qpid/dotnet/src/Message.h|20 2
Modified: bindings/qpid/dotnet/src/Session.cpp|100 2
Modified: bindings/qpid/dotnet/src/Session.h|5 1
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|2 2
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|31 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|2 2

Revision: 9520483ef2a0899d3d76d23eb0acf586a2e90904
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/06/2010 19:54:42
Message:
Nix a compile warning on Windows about converting int to bool. #MsgLength=63


----
Modified: examples/messaging/OptionParser.cpp|1 1

Revision: 6dd019767735ab38bb504e07ebdcd2832e93b057
Author: Gordon Sim <gsim@apache.org>
Date: 17/06/2010 02:25:30
Message:
remove assertion for condition that is in fact valid (the callback could have been processed on the back of an event concurrently returned with the interrupt request) #MsgLength=167


----
Modified: src/qpid/sys/DispatchHandle.cpp|0 2

Revision: 4f3ce305d6fd548b70793c9c0a0c91a11d8aa2a0
Author: Alan Conway <aconway@apache.org>
Date: 17/06/2010 04:32:04
Message:
Bug 603835 - cluster_tests.test_management failing. #MsgLength=325


----
Modified: src/qpid/cluster/Cluster.cpp|1 2
Modified: src/qpid/cluster/Connection.cpp|28 19
Modified: src/qpid/cluster/Connection.h|4 1
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|14 10
Modified: src/tests/failover_soak.cpp|5 4

Revision: 3de1de92b6e9e7a3bf5ff4baee5f736961e9ed02
Author: Alan Conway <aconway@apache.org>
Date: 18/06/2010 00:55:54
Message:
Allow libraries to be independently versioned in the autotools build. #MsgLength=187


----
Modified: configure.ac|0 7
Modified: src/Makefile.am|20 8
Modified: src/acl.mk|3 1
Modified: src/cluster.mk|4 2
Modified: src/qmf.mk|4 16
Modified: src/qmfc.mk|3 0
Modified: src/replication.mk|9 2
Modified: src/ssl.mk|6 4
Modified: src/xml.mk|3 1

Revision: 2d99b195d6812996eda0dcc94db423c5a829c01b
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/06/2010 04:59:45
Message:
Change warning C4996 from level 1 to level 4. This is the "warning C4996: 'std::equal': Function call with parameters that may be unsafe" warning. The "safe" replacements are only available on Windows, so can't be portably used. If the conditions are violated run-time errors are thrown, so these aren't totally ignored. Changing them to level 4 makes it possible for someone to easily find them all in a build if desired. #MsgLength=423


----
Modified: CMakeLists.txt|9 0
Modified: src/CMakeLists.txt|0 1

Revision: c2a013b983b8d8de9f9fe8176392b682663bb651
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/06/2010 05:11:24
Message:
Consistent comparison of unsigned values; clarify usage as well as removing potential bad compare. #MsgLength=99


----
Modified: src/qpid/acl/AclReader.cpp|2 1

Revision: 7090559ffbebfe5c4350c337f475f1c29cc9ec59
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/06/2010 05:13:55
Message:
Refer to FailoverUpdatesImpl as the struct it is, not a class. Removes compile warning on Windows. #MsgLength=99


----
Modified: include/qpid/messaging/FailoverUpdates.h|1 1

Revision: 8c13a15b56c36671a2c098c801cf77d5d79f4ffd
Author: Alan Conway <aconway@apache.org>
Date: 18/06/2010 21:40:04
Message:
Fix version info #MsgLength=114


----
Modified: src/Makefile.am|2 7
Modified: src/acl.mk|1 2
Modified: src/cluster.mk|2 4
Modified: src/qmfc.mk|1 2
Modified: src/replication.mk|2 9
Modified: src/ssl.mk|2 4
Modified: src/xml.mk|1 2

Revision: eba83a01fa7e34c4b49f6b81445b645950e288f0
Author: Alan Conway <aconway@apache.org>
Date: 22/06/2010 21:29:52
Message:
Fix cluster broker crashes when management is active. #MsgLength=353


----
Modified: src/qpid/broker/Connection.cpp|20 10
Modified: src/qpid/broker/Connection.h|12 2
Modified: src/qpid/cluster/Cluster.cpp|12 1
Modified: src/qpid/cluster/Cluster.h|2 1
Modified: src/qpid/cluster/Connection.cpp|25 20
Modified: src/qpid/cluster/Connection.h|10 4
Modified: src/qpid/management/ManagementAgent.cpp|19 2
Modified: src/qpid/sys/ClusterSafe.cpp|9 2
Modified: src/tests/cluster_tests.py|1 1
Modified: src/tests/run_long_cluster_tests|1 1
Modified: src/tests/verify_cluster_objects|74 382
Modified: xml/cluster.xml|3 1

Revision: cd35e63a6248c5021b81e92d5f6beab28b0d12e0
Author: Gordon Sim <gsim@apache.org>
Date: 22/06/2010 23:42:35
Message:
Don't hold QueueRegistry lock while iterating over queues to purge them of expired messages. #MsgLength=93


----
Modified: src/qpid/broker/QueueCleaner.cpp|17 1

Revision: a47c51600789e895f104d44561463bc5638f5c84
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2010 02:13:35
Message:
Fix bad assertion introduced in prevoius commit r956882 #MsgLength=57


----
Modified: src/qpid/sys/ClusterSafe.cpp|3 3
Modified: src/qpid/sys/ClusterSafe.h|4 1

Revision: 5cbf7e55fbd7ebdc8456362a68091430eb6942ff
Author: Gordon Sim <gsim@apache.org>
Date: 23/06/2010 03:27:12
Message:
QPID-2688: ensure that unacked messages are requeued before autodeletion occurs when session closes #MsgLength=100


----
Modified: src/qpid/broker/SemanticState.cpp|32 9
Modified: src/qpid/broker/SemanticState.h|4 0
Modified: src/qpid/broker/SessionState.cpp|1 0

Revision: bac34a6eb6e0ff9108831b6be930c50ffc02a1f6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/06/2010 12:52:49
Message:
QPID-2388: Do not unmask signals whilst waiting for IO to happen - The client and common libraries do not use signals at all so there is no real reason to allow signal handling on IO threads. #MsgLength=194


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|0 12
Modified: src/tests/DispatcherTest.cpp|2 6

Revision: be2a5dba8c1b02a2e94dbcf09ad238464bec9297
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/06/2010 12:52:53
Message:
small clean up: Remove use of obsolete Dispatcher class. #MsgLength=57


----
Modified: src/tests/DispatcherTest.cpp|4 8

Revision: 4ed4791302c59a1a76b36c96ebf6d07ab05f46c2
Author: Jonathan Robie <jonathan@apache.org>
Date: 23/06/2010 21:44:50
Message:
Changed README to README.txt throughout the project for consistency. Removed gentools/README.txt, which described Velocity. #MsgLength=126


----
Renamed: README.txt [from README]|0 0
Renamed: boost-1.32-support/README.txt [from boost-1.32-support/README]|0 0
Renamed: examples/xml-exchange/README.txt [from examples/xml-exchange/README]|0 0
Renamed: rubygen/README.txt [from rubygen/README]|0 0
Renamed: src/tests/README.txt [from src/tests/README]|0 0

Revision: d4ed6524515199a91ce4ca685d4f9f1eb2ed9abf
Author: Jonathan Robie <jonathan@apache.org>
Date: 23/06/2010 22:38:17
Message:
Fixed scripts that referred to README instead of README.txt. #MsgLength=105


----
Modified: INSTALL|1 1
Modified: INSTALL-WINDOWS|1 1
Modified: Makefile.am|1 1
Modified: docs/api/header.html|9 28
Modified: examples/xml-exchange/Makefile.am|1 1

Revision: e77d3408f9b44912fda86cad631fc276849a93ae
Author: Alan Conway <aconway@apache.org>
Date: 24/06/2010 04:56:30
Message:
Make management+cluster test more aggressive. #MsgLength=47


----
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/tests/cluster_tests.py|8 11
Modified: src/tests/run_cluster_tests|1 1

Revision: 68e5196000d511250b6f0cfe6a103ac206ade5e4
Author: Alan Conway <aconway@apache.org>
Date: 24/06/2010 05:55:55
Message:
Make verify_cluster_objects more informative. #MsgLength=46


----
Modified: src/tests/verify_cluster_objects|16 9

Revision: fdee283fde479b3d9a10c9d309bb831219cbfe39
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2010 19:22:28
Message:
QPID-2691: ensure ttl adjustment uses correct expiration on cloned message #MsgLength=75


----
Modified: src/qpid/broker/Message.cpp|5 2
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/tests/federation.py|3 1

Revision: a8936975918bec6ad33493e46e8a32404dc6ab4c
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2010 19:34:18
Message:
Ensure spout example waits for all messages to be sent before detaching session #MsgLength=80


----
Modified: examples/messaging/spout.cpp|1 0

Revision: c39af7821ed088fc06360facf65fcc7a1a8ad211
Author: Ted Ross <tross@apache.org>
Date: 24/06/2010 20:40:11
Message:
QPID-2589 - Patch from Chuck Rolke Visual Basic example added, UUID support added, C# Hello World example added. #MsgLength=113


----
Added: bindings/qpid/dotnet/examples/csharp.example.helloworld/Properties/AssemblyInfo.cs|36 0
Added: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.cs|55 0
Added: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|81 0
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|3 0
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|3 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Application.Designer.vb|13 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Application.myapp|10 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/AssemblyInfo.vb|35 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Resources.Designer.vb|63 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Resources.resx|117 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Settings.Designer.vb|73 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Settings.settings|7 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vb|69 0
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vbproj|134 0
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|37 0
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|29 1
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|14 0

Revision: 61182b202d1230b11ddee4ae763eb99070614235
Author: Alan Conway <aconway@apache.org>
Date: 25/06/2010 01:19:24
Message:
Fix test bug causing occasional failure of cluster_test. #MsgLength=58


----
Modified: src/tests/cluster_test.cpp|1 1

Revision: ad5202539986ddc912bf9e7d38cdcc762057b41c
Author: Alan Conway <aconway@apache.org>
Date: 25/06/2010 01:19:58
Message:
Fix regression in r956882, sporadic failures of client_test.cpp:testBadClientData #MsgLength=83


----
Modified: src/qpid/cluster/Connection.cpp|9 14
Modified: src/qpid/cluster/Connection.h|1 1
Modified: xml/cluster.xml|1 3

Revision: 6a528ee03d82eb66625d276e3d6f39a6bbcc2564
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2010 01:25:46
Message:
QPID-2698: recognise special property names for amqp 0-10 specific message- and delivery- properties #MsgLength=101


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|19 0
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|29 3
Modified: src/tests/MessagingFixture.h|5 0
Modified: src/tests/MessagingSessionTests.cpp|45 0

Revision: 8c96ac900653f04212fcdcbed6701f39298c067d
Author: Ted Ross <tross@apache.org>
Date: 26/06/2010 01:55:46
Message:
QPID-2589 - Patch from Chuck Rolke * Convert c-style Get() functions to c#-style properties. * Add powershell helloworld example. * Fix message SetContent to accept byte array or byte array slice. * Re-code Session GetReceiver and GetSender not to malloc new objects but to create the objects on the stack. #MsgLength=310


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|1 1
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|1 1
Modified: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.cs|1 1
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.cs|3 3
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.cs|1 1
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.cs|4 4
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|4 4
Added: bindings/qpid/dotnet/examples/powershell.example.helloworld/powershell.example.helloworld.ps1|34 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vb|1 1
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|3 0
Modified: bindings/qpid/dotnet/src/Address.cpp|8 73
Modified: bindings/qpid/dotnet/src/Address.h|80 10
Modified: bindings/qpid/dotnet/src/Connection.cpp|0 5
Modified: bindings/qpid/dotnet/src/Connection.h|8 1
Modified: bindings/qpid/dotnet/src/Message.cpp|17 177
Modified: bindings/qpid/dotnet/src/Message.h|225 29
Modified: bindings/qpid/dotnet/src/Receiver.cpp|1 31
Modified: bindings/qpid/dotnet/src/Receiver.h|60 6
Modified: bindings/qpid/dotnet/src/Sender.cpp|1 6
Modified: bindings/qpid/dotnet/src/Sender.h|10 1
Modified: bindings/qpid/dotnet/src/Session.cpp|8 14
Modified: bindings/qpid/dotnet/src/Session.h|8 1
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|19 8

Revision: b918e013e896ef87334d87e59f960d8d09d63cfa
Author: Ted Ross <tross@apache.org>
Date: 26/06/2010 06:35:28
Message:
QPID-2589 - Patch from Chuck Rolke Re-do changes to Session.cpp. #MsgLength=65


----
Modified: bindings/qpid/dotnet/src/Session.cpp|74 6

Revision: 963ef1b51a83f861d97e3c8f0dc7e72d4da7a585
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/06/2010 04:22:25
Message:
QPID-2689: Install and package Visual Studio debugging symbols (.pdb) files, in the windows sdk zip package. #MsgLength=157


----
Modified: bld-winsdk.ps1|145 133
Modified: src/CMakeLists.txt|46 35

Revision: 9791db4f32fd214b550812b06e97ef8f92b74cfa
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 30/06/2010 02:22:45
Message:
added a case for SEC_ERROR_EXPIRED_CERTIFICATE: in getErrorString() #MsgLength=69


----
Modified: src/qpid/sys/ssl/check.cpp|1 0

Revision: 7900daa76cdcc8ea0db5caa12c7832f2ba09f976
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/06/2010 02:24:23
Message:
Move all shared lib prefix/postfix/suffix settings from tests/CMakeLists.txt to config.h (revises the plan implemented at r770001). Also sets separate macros for MODULE and SHLIB. Fixes QPID-2707. #MsgLength=197


----
Modified: src/config.h.cmake|5 0
Modified: src/tests/CMakeLists.txt|0 7
Modified: src/tests/Shlib.cpp|6 6

Revision: 8b027dc3a3efed7b7e2292181f909ec100a60355
Author: Ted Ross <tross@apache.org>
Date: 30/06/2010 04:55:25
Message:
QPID-2706 Patch from Chuck Rolke Removed space from directory name in the VB examples. #MsgLength=87


----
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Application.Designer.vb|0 13
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.myapp [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Application.myapp]|0 0
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/AssemblyInfo.vb [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/AssemblyInfo.vb]|0 0
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.Designer.vb [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Resources.Designer.vb]|0 0
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.resx [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Resources.resx]|0 0
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.Designer.vb [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Settings.Designer.vb]|0 0
Renamed: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.settings [from bindings/qpid/dotnet/examples/visualbasic.example.client/My Project/Settings.settings]|0 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vbproj|7 7

Revision: 3c093bb34fb4022f358640ea38a75c4d2e30e562
Author: Ted Ross <tross@apache.org>
Date: 30/06/2010 05:06:03
Message:
QPID-2706 Patch from Chuck Rolke Added missing file from patch. #MsgLength=64


----
Added: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.Designer.vb|13 0

Revision: d4ce944d23463197cd4b2d38e38a03d34825527d
Author: Gordon Sim <gsim@apache.org>
Date: 30/06/2010 19:25:43
Message:
Added sed based alternative to help2man to ensure that a reasonable man page is produced in all cases #MsgLength=102


----
Modified: docs/man/Makefile.am|3 3
Added: docs/man/generate_manpage|5 0
Added: docs/man/groffify_options.sed|7 0
Added: docs/man/groffify_template.sed|3 0
Modified: docs/man/qpidd.x|10 5

Revision: 9071b1b5dbe4eb88bbb1ff0916fa56a592d9fba4
Author: Ted Ross <tross@apache.org>
Date: 30/06/2010 22:05:51
Message:
Fixed incorrect syntax for connection options in the comments. #MsgLength=64


----
Modified: include/qpid/messaging/Connection.h|1 1

Revision: 3886bfcabdb1c6dfd37256b0c23ce4a6d3c30ad0
Author: Alan Conway <aconway@apache.org>
Date: 01/07/2010 03:54:00
Message:
QPID-2708: Create a separate qpidtypes library for the types namespace. #MsgLength=73


----
Modified: include/qpid/types/Exception.h|4 4
Added: include/qpid/types/ImportExport.h|33 0
Modified: include/qpid/types/Uuid.h|29 29
Modified: include/qpid/types/Variant.h|84 84
Modified: src/CMakeLists.txt|27 7
Modified: src/Makefile.am|12 8
Modified: src/qpid/sys/windows/uuid.h|8 8

Revision: 85f5ba16a10d0d465db326ae41c1213ccf2f7a94
Author: Gordon Sim <gsim@apache.org>
Date: 01/07/2010 05:55:17
Message:
QPID-664: corrected option name for setting subscribe options on a queue #MsgLength=73


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|2 2
Modified: src/tests/MessagingSessionTests.cpp|13 0

Revision: 5760a0ab24695b74e72e036a6eb59b2c4061fd9d
Author: Gordon Sim <gsim@apache.org>
Date: 01/07/2010 06:22:50
Message:
QPID-664: expose authenticated username for connection #MsgLength=55


----
Modified: include/qpid/messaging/Connection.h|1 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 0
Modified: src/qpid/messaging/Connection.cpp|4 1
Modified: src/qpid/messaging/ConnectionImpl.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|6 0

Revision: 798f16b4bf3599d2de2b3e57e908f9b2772d83b0
Author: Alan Conway <aconway@apache.org>
Date: 01/07/2010 20:42:41
Message:
Add qpid/types/ImportExport.h to distribution. #MsgLength=48


----
Modified: src/Makefile.am|3 1

Revision: 58668141e3df173cc7fc2ed942ff4d428f385de8
Author: Alan Conway <aconway@apache.org>
Date: 01/07/2010 21:47:11
Message:
Ensure broker is deleted in main thread, not by global destructors. #MsgLength=104


----
Modified: src/posix/QpiddBroker.cpp|2 0

Revision: 212c08000b18bc412ffbef2d6cb2e1d65f5855cc
Author: Ted Ross <tross@apache.org>
Date: 01/07/2010 21:53:36
Message:
QPID-2708 - Patch from Chuck Rolke Added dependency for new qpidtypes library. #MsgLength=79


----
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|2 2

Revision: 619be025efddef0f17f4520112f200b37383ea8c
Author: Gordon Sim <gsim@apache.org>
Date: 02/07/2010 00:49:22
Message:
QPID-664: Translate exceptions to correct type when occuring on creating new session. #MsgLength=86


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 0
Modified: src/tests/MessagingSessionTests.cpp|8 0

Revision: e1ef6004feb7807610a0df1bbdefca719f26c61f
Author: Alan Conway <aconway@apache.org>
Date: 02/07/2010 02:59:20
Message:
Ensure broker is deleted in main thread,  not by global destructors. #MsgLength=126


----
Modified: src/posix/QpiddBroker.cpp|13 4

Revision: b23e2ce1ae42cfe2b61968d9c25e4c6dc087a716
Author: Alan Conway <aconway@apache.org>
Date: 02/07/2010 03:19:48
Message:
Fix spordic failure in cluster_test testConnectionKnownHosts. #MsgLength=367


----
Modified: include/qpid/client/FailoverListener.h|8 1
Modified: src/qpid/client/FailoverListener.cpp|10 2
Modified: src/tests/ClusterFixture.cpp|1 1

Revision: 39449a27c913577e640a62d5bc6063159641ad88
Author: Alan Conway <aconway@apache.org>
Date: 02/07/2010 03:23:43
Message:
Fix sporadic cluster core on exit. #MsgLength=167


----
Modified: src/qpid/cluster/Connection.cpp|0 1
Modified: src/qpid/cluster/ConnectionCodec.cpp|1 0

Revision: f4c47c96cf3742eb1eeafea1fa33aebb94562227
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/07/2010 22:46:30
Message:
QPID-2716: QMF bugfix - set agent name in object id #MsgLength=52


----
Modified: include/qpid/agent/ManagementAgent.h|1 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|7 0

Revision: 7dd685c6c56bb612f47aeb47cb6c976bcea66671
Author: Alan Conway <aconway@apache.org>
Date: 05/07/2010 21:07:38
Message:
Added types/ImportExport.h to installed headers. #MsgLength=50


----
Modified: src/Makefile.am|2 1

Revision: 084fee75a9018489b629f6023d8e74f46af139de
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2010 04:12:08
Message:
Defer delivery of messages in cluster-unsafe context. #MsgLength=471


----
Modified: src/qpid/broker/Broker.cpp|6 1
Modified: src/qpid/broker/Broker.h|13 0
Modified: src/qpid/broker/Queue.cpp|3 0
Modified: src/qpid/cluster/Cluster.cpp|33 2
Modified: src/qpid/cluster/Cluster.h|9 1
Modified: src/tests/cluster_tests.py|15 1
Modified: xml/cluster.xml|6 0

Revision: 974903050cec69cde29f70674e6a6a766a27ef21
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2010 21:16:02
Message:
Fix link error on fedora 13 #MsgLength=93


----
Modified: src/tests/cluster.mk|1 3

Revision: 466f82af4eb79517fd6545ca45fd7d047dc6111c
Author: Gordon Sim <gsim@apache.org>
Date: 07/07/2010 01:27:58
Message:
QPID-664: Don't hold lock while waiting for incoming message in nextReceiver() call. #MsgLength=85


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/tests/MessagingThreadTests.cpp|37 0

Revision: 41cf3bb81eca7c9ddb48861caea46931763bc7bb
Author: Ted Ross <tross@apache.org>
Date: 07/07/2010 20:21:03
Message:
QPID-2710 Patch from Chuck Rolke C++ Messaging Client .NET binding is not compiled in SDK #MsgLength=90


----
Modified: bld-winsdk.ps1|8 0

Revision: 298ad091be9060a6d4affeef73452e246bd254e4
Author: Alan Conway <aconway@apache.org>
Date: 07/07/2010 23:20:01
Message:
Ensure broker is deleted in main thread,  not by global destructors. This fixes a race condition that was not handled by r959746. #MsgLength=136


----
Modified: src/posix/QpiddBroker.cpp|1 1
Modified: src/qpid/broker/SignalHandler.cpp|12 8
Modified: src/qpid/broker/SignalHandler.h|5 5

Revision: 60b5e2758c70ea16e2943b07a5a86a85604afad2
Author: Alan Conway <aconway@apache.org>
Date: 08/07/2010 23:40:01
Message:
Fix cluster-safe assertion in ~Connection. #MsgLength=166


----
Modified: src/qpid/cluster/Connection.cpp|6 0

Revision: 29056c59532c6ed877c597c2ad37b2c57ad05c2c
Author: Ken Giusti <kgiusti@apache.org>
Date: 09/07/2010 04:29:52
Message:
QMF: add api to get agent id, and new object id constructor that uses agent id. #MsgLength=80


----
Modified: include/qpid/agent/ManagementAgent.h|10 0
Modified: include/qpid/management/ManagementObject.h|4 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|15 0
Modified: src/qpid/agent/ManagementAgentImpl.h|2 0
Modified: src/qpid/management/ManagementAgent.cpp|20 0
Modified: src/qpid/management/ManagementAgent.h|3 0
Modified: src/tests/ManagementTest.cpp|7 0

Revision: 9425796980743f661d5f927c89089fb6bd215c13
Author: Ted Ross <tross@apache.org>
Date: 09/07/2010 06:14:54
Message:
QPID-2711 - Patch from Chuck Rolke Add version and icon resources to Windows C++ exe/dll files #MsgLength=95


----
Modified: CMakeLists.txt|7 7
Modified: src/CMakeLists.txt|126 15
Added: src/CMakeWinVersions.cmake|57 0
Added: src/windows/resources/qpid-icon.ico|0 0
Added: src/windows/resources/template-resource.rc|122 0
Added: src/windows/resources/version-resource.h|35 0

Revision: 66bc12c6257cc6bfd3917920a15ed54177dc8657
Author: Gordon Sim <gsim@apache.org>
Date: 10/07/2010 00:06:44
Message:
QPID-2727: Handle exceptions in Broker constructor and call finalise to safely cleanup plugins #MsgLength=95


----
Modified: src/qpid/broker/Broker.cpp|5 0

Revision: 41c4e5d9cd23d218578d1240ecf24220b72b31d6
Author: Ken Giusti <kgiusti@apache.org>
Date: 13/07/2010 04:38:07
Message:
QMF: enable python console to pull schema info from agent. #MsgLength=59


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|131 102
Modified: src/qpid/agent/ManagementAgentImpl.h|7 1

Revision: 8ac3c6fb9781388596dee43a58d310caaed4c4c6
Author: Robert Gemmell <robbie@apache.org>
Date: 13/07/2010 04:50:35
Message:
QPID-2709: update references to the old incubator mailing lists and svn repository addresses #MsgLength=149


----
Modified: INSTALL|1 1
Modified: etc/emacs/qpid-c++-mode.el|1 1

Revision: 2784f7d54b5b21f6874f612f9c7d960673962162
Author: Alan Conway <aconway@apache.org>
Date: 13/07/2010 22:22:43
Message:
Added missing dependencies for SSL to INSTALL #MsgLength=47


----
Modified: INSTALL|1 1

Revision: 9fe593a40107984a3e1f8161d97aabedb00e9671
Author: Ted Ross <tross@apache.org>
Date: 13/07/2010 23:22:30
Message:
QPID-2728 - Patch from Chuck Rolke Fix recent changes to CMake build to properly handle separate source/build directories #MsgLength=123


----
Modified: src/CMakeLists.txt|2 1

Revision: 382f55e4d432c00d93e9561edf6030df3504560e
Author: Rafael H. Schloming <rhs@apache.org>
Date: 14/07/2010 00:33:24
Message:
removed old python examples #MsgLength=28


----
Modified: examples/README.verify|2 4
Deleted: examples/direct/verify_cpp_python|0 4
Deleted: examples/direct/verify_cpp_python.in|0 14
Deleted: examples/direct/verify_python_cpp|0 5
Deleted: examples/direct/verify_python_cpp.in|0 15
Deleted: examples/fanout/verify_cpp_python|0 7
Deleted: examples/fanout/verify_cpp_python.in|0 27
Deleted: examples/fanout/verify_python_cpp|0 7
Deleted: examples/fanout/verify_python_cpp.in|0 29
Deleted: examples/pub-sub/verify_cpp_python|0 6
Deleted: examples/pub-sub/verify_cpp_python.in|0 55
Deleted: examples/pub-sub/verify_python_cpp|0 6
Deleted: examples/pub-sub/verify_python_cpp.in|0 59
Deleted: examples/request-response/verify_cpp_python|0 6
Deleted: examples/request-response/verify_cpp_python.in|0 15
Deleted: examples/request-response/verify_python_cpp|0 5
Deleted: examples/request-response/verify_python_cpp.in|0 18
Modified: examples/verify_all|2 10

Revision: 3ee3c0d93fd3c3fe5d727e24e6c2c96ed24ad252
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2010 06:24:47
Message:
Remove deleted files from Makefile.am, part of removing the old python examples. #MsgLength=82


----
Modified: examples/direct/Makefile.am|0 4
Modified: examples/fanout/Makefile.am|0 4
Modified: examples/pub-sub/Makefile.am|0 4
Modified: examples/request-response/Makefile.am|0 4

Revision: ae9f3c7447609ccf9be6b11d23aef17a6db1a249
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/07/2010 19:49:10
Message:
Specify paths for the generated resource file so it gets picked up correctly when generating projects. Fixes QPID-2728. #MsgLength=120


----
Modified: src/CMakeLists.txt|2 2

Revision: 648042283b97f4e3f1d3f88ecd28c34aabe6256a
Author: Alan Conway <aconway@apache.org>
Date: 15/07/2010 04:56:33
Message:
Move libqpidtypes to the front of the libraries list. #MsgLength=118


----
Modified: src/Makefile.am|1 1

Revision: 6c9cb0f57804c06310183671b09cacff54d887d5
Author: Alan Conway <aconway@apache.org>
Date: 15/07/2010 05:33:09
Message:
Fix read-credit bug causing cluster brokers to disconnect clients sporadically. #MsgLength=143


----
Modified: src/qpid/client/ConnectionImpl.cpp|18 7
Modified: src/qpid/client/ConnectionImpl.h|3 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|6 2

Revision: 3002c6a6f611bc36fda175c8e97ff43b57cf4846
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2010 02:37:31
Message:
Add license to help2man replacment scripts (add shebang to the executable file) #MsgLength=80


----
Modified: docs/man/generate_manpage|19 0
Modified: docs/man/groffify_options.sed|18 0
Modified: docs/man/groffify_template.sed|18 0

Revision: 02f56f1fc713a014720ecc10756f43ea869ca40c
Author: Alan Conway <aconway@apache.org>
Date: 16/07/2010 03:42:23
Message:
Selinux policy module needed to run a qpid cluster with selinux in enforcing mode. #MsgLength=83


----
Added: etc/selinux/qpidd.te|16 0

Revision: 6451cfcff5ad990605216eb6285c921d0553da91
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2010 04:33:16
Message:
QPID-2734: Tighter control over sasl related test; now passes when cyrus-sasl not in use. #MsgLength=90


----
Modified: src/tests/MessagingFixture.h|8 0
Modified: src/tests/MessagingSessionTests.cpp|6 1

Revision: 484efa58e058848dbcc91aaea234217ba791aed1
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/07/2010 06:01:02
Message:
Fix unreferenced local variable warning #MsgLength=40


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 67cce2a3afb6fec64469b19d64796a0df1399d80
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/07/2010 06:02:08
Message:
Fix unreferenced local variable warning #MsgLength=40


----
Modified: src/tests/MessagingSessionTests.cpp|1 1

Revision: c59fe2bd62f1636212ef50cf498dc29640c463f2
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2010 16:31:27
Message:
Fix cmake build to correctly enable sasl if libs are detected. #MsgLength=63


----
Modified: src/CMakeLists.txt|5 5
Modified: src/config.h.cmake|1 4

Revision: b3e823f2e3cc33999484e0c1cea75e98cede465a
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2010 19:00:45
Message:
Make address used for map sender/receiver configurable; make default create the queue automatically. #MsgLength=101


----
Modified: examples/messaging/map_receiver.cpp|2 1
Modified: examples/messaging/map_sender.cpp|2 1

Revision: 14d8e46817044476fa2a4b95c7ecce6b418cd598
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2010 20:16:20
Message:
Fix incorrect exe name #MsgLength=23


----
Modified: examples/messaging/messaging_spout.vcproj|1 1

Revision: 01069a806e0931e321aad52b3a297f0b8c5324e2
Author: Ted Ross <tross@apache.org>
Date: 20/07/2010 03:51:47
Message:
QPID-2589 - Patch from Chuck Rolke This patch cleans up or adds the copy constructors and the copy assignment operators for the binding classes. #MsgLength=146


----
Modified: bindings/qpid/dotnet/src/Address.cpp|8 2
Modified: bindings/qpid/dotnet/src/Address.h|20 1
Modified: bindings/qpid/dotnet/src/Connection.cpp|8 0
Modified: bindings/qpid/dotnet/src/Connection.h|34 0
Modified: bindings/qpid/dotnet/src/Duration.h|3 3
Modified: bindings/qpid/dotnet/src/Message.cpp|3 3
Modified: bindings/qpid/dotnet/src/Message.h|20 1
Modified: bindings/qpid/dotnet/src/Receiver.cpp|4 3
Modified: bindings/qpid/dotnet/src/Receiver.h|21 1
Modified: bindings/qpid/dotnet/src/Sender.cpp|5 3
Modified: bindings/qpid/dotnet/src/Sender.h|27 1
Modified: bindings/qpid/dotnet/src/Session.cpp|5 4
Modified: bindings/qpid/dotnet/src/Session.h|25 1
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|62 0

Revision: 96d771606163c29244226eba0990563bf09c47f6
Author: Ted Ross <tross@apache.org>
Date: 20/07/2010 05:10:26
Message:
QPID-2589 - Patch from Chuck Rolke Fixes a property misspelling and adds two missing functions. #MsgLength=96


----
Modified: bindings/qpid/dotnet/src/Connection.h|8 0
Modified: bindings/qpid/dotnet/src/Receiver.h|11 0
Modified: bindings/qpid/dotnet/src/Session.h|1 1

Revision: f0b7faa5e57a4783cc53457c8fa3087faab8f0af
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2010 21:28:14
Message:
Added compile instructions to selinux policy source file. #MsgLength=58


----
Modified: etc/selinux/qpidd.te|3 1

Revision: 4125f579d4a0b437373a6ef9e8f07e48d8ff184f
Author: Alan Conway <aconway@apache.org>
Date: 21/07/2010 03:56:42
Message:
Fix bug in cluster with authentication: nodes exit with "unauthorized-access" #MsgLength=318


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|11 0
Modified: src/qpid/cluster/Connection.h|2 0
Modified: src/qpid/cluster/UpdateClient.cpp|2 0
Modified: src/tests/cluster_tests.py|13 0
Modified: xml/cluster.xml|6 1

Revision: 340ad3339a93493c9fb85fcf79a722b38131b2d6
Author: Alan Conway <aconway@apache.org>
Date: 22/07/2010 00:37:04
Message:
Added selinux policy so developers can run cluster tests with enforcing=1 #MsgLength=75


----
Modified: etc/selinux/qpidd.te|7 3
Added: etc/selinux/qpiddevel.te|23 0

Revision: b17a6df34ff90b3f1d670421e870e77391c729f9
Author: Alan Conway <aconway@apache.org>
Date: 22/07/2010 01:29:08
Message:
Added makefile to build & install selinux policy modules. #MsgLength=59


----
Added: etc/selinux/.gitignore|7 0
Added: etc/selinux/Makefile|14 0

Revision: 929293d9c6a574628c9c4202eb1b649f0e7946bb
Author: Ken Giusti <kgiusti@apache.org>
Date: 23/07/2010 02:43:33
Message:
QPID-2754: fix management object database locking problem. #MsgLength=59


----
Modified: src/qpid/management/ManagementAgent.cpp|201 109
Modified: src/qpid/management/ManagementAgent.h|6 2
Modified: src/qpid/management/ManagementObject.cpp|1 1

Revision: 48fdca8b89f5e3babf7c90335e84cef4d0644a58
Author: Ted Ross <tross@apache.org>
Date: 23/07/2010 05:57:37
Message:
Bugfix: agent label in wrapped (python, ruby) qmf agent was not transmitted to the consoles. #MsgLength=103


----
Modified: bindings/qmf/tests/agent_ruby.rb|1 1
Modified: bindings/qmf/tests/python_agent.py|1 1
Modified: bindings/qmf/tests/ruby_console_test.rb|1 1
Modified: src/qmf/engine/Agent.cpp|2 2

Revision: 8afe4b4646916c46fdf72fbd8afc50c91e8fbd60
Author: Alan Conway <aconway@apache.org>
Date: 23/07/2010 09:48:59
Message:
Race condition in cluster+management, inconsistent errors like: #MsgLength=380


----
Modified: src/qpid/cluster/Cluster.cpp|44 23
Modified: src/qpid/cluster/Cluster.h|2 0

Revision: 64a9dce0d970c513243e4bdd9759c2c629aee880
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2010 03:26:07
Message:
QPID-2702 --max-connections does not work when using cluster. #MsgLength=63


----
Modified: src/qpid/cluster/ConnectionCodec.cpp|11 2

Revision: e8b334644e69e9fc4694e0e5c9378e649f13b92c
Author: Ted Ross <tross@apache.org>
Date: 26/07/2010 19:23:53
Message:
QPID-2755 - Windows SDK has no README Patch from Chuck Rolke #MsgLength=62


----
Added: README-winsdk.txt|74 0
Modified: bld-winsdk.ps1|3 0

Revision: f28ed675622b8591beb20718bf5f63463de857b3
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2010 22:55:46
Message:
Minor fix to help message of qpid-cpp-benchmark. #MsgLength=50


----
Modified: src/tests/qpid-cpp-benchmark|1 1

Revision: d185d0d8b29b5e48fbb4cc2c24f2204a6249ad24
Author: Alan Conway <aconway@apache.org>
Date: 28/07/2010 02:52:50
Message:
Fix bug in test code: invalid use of c_str() #MsgLength=46


----
Modified: src/tests/cluster_authentication_soak.cpp|1 1

Revision: 88bb47ce4645d945d6f0a7190dc247ead0d99a80
Author: Nuno Santos <nsantos@apache.org>
Date: 28/07/2010 04:20:05
Message:
fix for autoconf swig version comparison macro, AC_PROG_SWIG #MsgLength=61


----
Modified: m4/ac_pkg_swig.m4|5 3

Revision: f14e9eed94a1a406a37d3b675ecca90c0fddf766
Author: Ted Ross <tross@apache.org>
Date: 28/07/2010 04:33:42
Message:
Removed unused header files. #MsgLength=30


----
Deleted: include/qmf/Agent.h|0 287
Deleted: include/qmf/AgentObject.h|0 95
Deleted: include/qmf/Connection.h|0 125
Deleted: include/qmf/ConnectionSettings.h|0 32
Deleted: include/qmf/ConsoleObject.h|0 94
Deleted: include/qmf/QmfImportExport.h|0 33
Modified: src/qmf.mk|1 7

Revision: 5e06e0e8249ba130d1e7574466a30ff71ad1f37f
Author: Jonathan Robie <jonathan@apache.org>
Date: 28/07/2010 23:31:27
Message:
Improved doxygen documentation of SessionState. #MsgLength=49


----
Modified: src/qpid/broker/SemanticState.h|11 2

Revision: 83ea34a5dfe37a3734d668b2fc08020cf29e417c
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 01:55:56
Message:
Improved doxygen comments for class description. #MsgLength=50


----
Modified: src/qpid/broker/SessionAdapter.h|6 5

Revision: 1263b862aa0f5cb046af7a86db5b43ad105a0112
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 02:02:09
Message:
Added comment on AMQP version independence. #MsgLength=45


----
Modified: src/qpid/broker/SemanticState.h|2 1

Revision: 6cd081c8633b156f88f30c4cefb75b742735dd11
Author: Ted Ross <tross@apache.org>
Date: 29/07/2010 02:35:15
Message:
Made the new C++ API more friendly for swig-wrapping. - Added Message::setProperty() as an alternative to using getProperties() to obtain a writable reference to a Variant::Map. - Added unit testing for this new method. - Added #ifndef SWIG conditions around the declarations of non-member operator<< methods. #MsgLength=321


----
Modified: include/qpid/messaging/Address.h|2 0
Modified: include/qpid/messaging/Message.h|2 0
Modified: include/qpid/types/Variant.h|2 0
Modified: src/qpid/messaging/Message.cpp|1 0
Modified: src/qpid/messaging/MessageImpl.cpp|1 0
Modified: src/qpid/messaging/MessageImpl.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|2 0

Revision: 5e872879f4be3eb46f8d895bd09c33f598cff2db
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 03:07:04
Message:
Improved doxygen comments. #MsgLength=28


----
Modified: src/qpid/sys/Poller.h|8 2

Revision: e2fb2aeecc22a54780c6827221be366e96674d9e
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 03:29:27
Message:
Added doxygen comments. #MsgLength=25


----
Modified: src/qpid/sys/ConnectionInputHandler.h|8 0

Revision: 9932b14b7f275f868cec364ce46225741ea93a30
Author: Alan Conway <aconway@apache.org>
Date: 29/07/2010 04:32:36
Message:
Updated developer SELinux policy to also allow tests run under valgrind. #MsgLength=74


----
Modified: etc/selinux/qpiddevel.te|3 0

Revision: 778421657117a2378c2f19e6f2da0bf6eee161e1
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 20:58:38
Message:
Added overview page, designed to list starting points for developers. #MsgLength=172


----
Modified: docs/api/developer.doxygen.in|2 1
Added: docs/api/doxygen_developer_mainpage.h|60 0

Revision: d874dc2916725bba5379b4d9356244eec68072ef
Author: Gordon Sim <gsim@apache.org>
Date: 29/07/2010 21:18:48
Message:
QPID-2768: allow '/' after name in address without an explicit subject #MsgLength=71


----
Modified: src/qpid/messaging/AddressParser.cpp|2 5

Revision: c9f6a852078a2aa1823a4f40150684b6eb90696e
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 21:56:37
Message:
Added sections for client and management starting points, currently TBD, in the hopes that someone will fill them in. #MsgLength=119


----
Modified: docs/api/doxygen_developer_mainpage.h|10 0

Revision: f082535b8f12e9379984242eae3b2eaed036480c
Author: Jonathan Robie <jonathan@apache.org>
Date: 29/07/2010 23:14:59
Message:
Turned off Graphviz #MsgLength=21


----
Modified: docs/api/developer.doxygen.in|1 1

Revision: 1aef1d2c21645c3bf665a27e1f09f3ada182ffe9
Author: Ted Ross <tross@apache.org>
Date: 30/07/2010 02:14:20
Message:
QPID-2777 - Additional bindings for the C++ messaging API (Python, Ruby) #MsgLength=74


----
Modified: Makefile.am|3 2
Added: bindings/qpid/Makefile.am|33 0
Added: bindings/qpid/python/Makefile.am|48 0
Added: bindings/qpid/python/python.i|38 0
Added: bindings/qpid/qpid.i|73 0
Added: bindings/qpid/ruby/Makefile.am|43 0
Added: bindings/qpid/ruby/ruby.i|38 0
Added: bindings/swig_python_typemaps.i|354 0
Added: bindings/swig_ruby_typemaps.i|313 0
Modified: configure.ac|3 0

Revision: ed42b9cb24d2f6e5f004e9eeb470a8a1e94514b5
Author: Ted Ross <tross@apache.org>
Date: 30/07/2010 21:43:30
Message:
QPID-2777 Removed unneeded swig include files. #MsgLength=48


----
Modified: bindings/qpid/python/python.i|0 2
Modified: bindings/qpid/ruby/ruby.i|0 2

Revision: ffdd70555c305cce7fe72adb7e730a32e88a462d
Author: Ted Ross <tross@apache.org>
Date: 31/07/2010 00:55:25
Message:
Disabled build of the qpid bindings until it's fixed for RHEL5 (swig-1.3.29) #MsgLength=78


----
Modified: Makefile.am|1 1

Revision: fa80b9eea92ec7b604bcfb94eb9ba833de55a17e
Author: Ted Ross <tross@apache.org>
Date: 31/07/2010 03:08:16
Message:
Disabled build of the qpid bindings until it's fixed for RHEL5 (swig-1.3.29) #MsgLength=78


----
Modified: configure.ac|0 3

Revision: 68a005a1485e148200971e6574d9e28c9c0e04be
Author: Ted Ross <tross@apache.org>
Date: 31/07/2010 03:51:04
Message:
QPID-2764 - WinSdk cpp examples do not compile Patch from Chuck Rolke #MsgLength=71


----
Modified: examples/messaging/messaging_client.vcproj|2 2
Modified: examples/messaging/messaging_drain.vcproj|2 2
Modified: examples/messaging/messaging_map_receiver.vcproj|2 2
Modified: examples/messaging/messaging_map_sender.vcproj|2 2
Modified: examples/messaging/messaging_server.vcproj|2 2
Modified: examples/messaging/messaging_spout.vcproj|2 2

Revision: 3c5fcccac1ee71b2c09ddfeced126ff3a26eba48
Author: Ted Ross <tross@apache.org>
Date: 31/07/2010 04:13:47
Message:
QPID-2765 - WinSdk does not have the .NET Binding examples Patch from Chuck Rolke #MsgLength=82


----
Modified: bindings/qpid/dotnet/ReadMe.txt|62 16
Added: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.sessionreceiver.csproj|81 0
Added: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.sln|52 0
Added: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.vcproj|300 0
Modified: bld-winsdk.ps1|7 2

Revision: db14f751024a4391f66c6e77c5cf0f8ec22e884a
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/08/2010 01:53:57
Message:
QPID-2782: update qmf console binding api. #MsgLength=43


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|46 16
Modified: src/qpid/agent/ManagementAgentImpl.h|3 0
Modified: src/qpid/management/ManagementAgent.cpp|23 6
Modified: src/qpid/management/ManagementAgent.h|1 0

Revision: 09b5c7b217ffa35d9573048cb5b826a5732968f1
Author: Gordon Sim <gsim@apache.org>
Date: 02/08/2010 17:51:10
Message:
Ensure that for clustered broker the queue cleaner is run on the correct thread. #MsgLength=81


----
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/QueueCleaner.cpp|11 4
Modified: src/qpid/broker/QueueCleaner.h|3 2
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/cluster_tests.py|29 0

Revision: 0a74c37e0e0f9af2434b456562b134273bfad14e
Author: Gordon Sim <gsim@apache.org>
Date: 02/08/2010 22:20:02
Message:
Give queue cleaner task an explicit name #MsgLength=41


----
Modified: src/qpid/broker/QueueCleaner.cpp|1 1

Revision: 8472be352944fe75c098dd8a9b4da09913823808
Author: Ted Ross <tross@apache.org>
Date: 03/08/2010 00:44:55
Message:
Fixed bug in setting of the app-id header (it was set in the application-headers rather than the message-properties). Made the broker agent more selective about when it broadcasts console-added messages. #MsgLength=205


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|18 2

Revision: 854040d6a3c23a983a40fa507690c77984af88fd
Author: Alan Conway <aconway@apache.org>
Date: 03/08/2010 23:33:12
Message:
Disable non-0 session timeouts. #MsgLength=267


----
Modified: src/qpid/SessionState.cpp|4 1
Modified: src/qpid/SessionState.h|2 2
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|5 0
Modified: src/qpid/broker/SessionState.h|2 0
Modified: src/tests/BrokerFixture.h|4 4
Modified: src/tests/ClusterFailover.cpp|47 6
Modified: src/tests/ClusterFixture.h|1 1

Revision: 9949cb46205f889aa907ccd9ce9684580bc38e1b
Author: Ted Ross <tross@apache.org>
Date: 04/08/2010 21:22:00
Message:
Added conditional-compilation directives to hide the PrivateImplRef template from Swig.  It seems that earlier versions of Swig (like that in RHEL5) don't like the template syntax. #MsgLength=182


----
Modified: include/qpid/messaging/Connection.h|5 1
Modified: include/qpid/messaging/Receiver.h|4 0
Modified: include/qpid/messaging/Sender.h|4 0
Modified: include/qpid/messaging/Session.h|4 0

Revision: 324f9e6b6b2074553bb56d2a76dbe9e181fb096c
Author: Ted Ross <tross@apache.org>
Date: 04/08/2010 21:24:11
Message:
Re-enabled the wrapping of the messaging API with fixes for earlier versions of Swig, Python, and Ruby. #MsgLength=105


----
Modified: Makefile.am|1 1
Modified: bindings/qpid/qpid.i|0 6
Modified: bindings/swig_python_typemaps.i|8 1
Modified: bindings/swig_ruby_typemaps.i|1 1
Modified: configure.ac|3 0

Revision: e8a4f4cffc9db60d374e947689b3aa0350997b52
Author: Ted Ross <tross@apache.org>
Date: 04/08/2010 22:15:24
Message:
Missed in a previous commit.  Updated README from Chuck Rolke. #MsgLength=63


----
Modified: README-winsdk.txt|65 10

Revision: 45af04a2e1d941c3e82bdb6cd5a31b06251319e1
Author: Alan Conway <aconway@apache.org>
Date: 04/08/2010 23:46:20
Message:
Fix race conditions in brokertest.py and cluster_tests.py. #MsgLength=60


----
Modified: src/tests/cluster_tests.py|2 3

Revision: 3d58ea9c60f41e57ec11cac38052e3040f87c0fb
Author: Alan Conway <aconway@apache.org>
Date: 05/08/2010 03:25:28
Message:
Fix ClusterFailover.cpp and ForkedBroker.cpp to avoid using the default data directory. #MsgLength=177


----
Modified: src/tests/ClusterFailover.cpp|9 3
Modified: src/tests/ForkedBroker.cpp|6 0

Revision: f88244fc9185d3818e6e3df65cae8b30e70d94d8
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2010 01:07:35
Message:
Fix crash on exit with --cluster-cman. #MsgLength=40


----
Modified: src/qpid/cluster/Quorum_cman.cpp|2 0

Revision: 5f9fe4bdc7d1bf5ea2a8c19494499f2ff7fcc402
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2010 03:29:10
Message:
Add missing destroy permissions to qpidd selinux module. #MsgLength=58


----
Modified: etc/selinux/qpidd.te|2 0

Revision: a45d39a9e440f6694c7c603da76dc947d396b609
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2010 03:29:18
Message:
Fixed memory management error in cluster::Quorum causing problems with --cluster-cman. #MsgLength=198


----
Modified: src/qpid/cluster/Quorum_cman.cpp|3 3
Modified: src/qpid/cluster/Quorum_cman.h|2 1

Revision: 2fcf73f799cf53e538f6c18079df99700fbfbcdc
Author: Alan Conway <aconway@apache.org>
Date: 10/08/2010 22:10:51
Message:
Fix test race conditions causing cluster_tests.py:management_test to hang. #MsgLength=201


----
Modified: src/tests/cluster_tests.py|5 11

Revision: da2872826c19c1691b14210433e4198d0904091d
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2010 18:06:24
Message:
Revert commits r981517 and r981435 that moved periodic purging of queues onto cluster's timer. If the timer fires during an update it causes errors; it also puts a potentially time consuming task on the clusters dispatch thread. Instead don't purge LVQs to avoid cluster inconsistencies (and more directly the assertion that aims to prevent these). #MsgLength=349


----
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/broker/Queue.cpp|22 4
Modified: src/qpid/broker/QueueCleaner.cpp|5 12
Modified: src/qpid/broker/QueueCleaner.h|2 3
Modified: src/tests/QueueTest.cpp|1 1

Revision: b3b8df0789d2063fc3d8f5614adf671c1900fad4
Author: Ted Ross <tross@apache.org>
Date: 12/08/2010 08:59:15
Message:
Completed the set of permutations of type-conversion for all signed and unsigned integer types. #MsgLength=97


----
Modified: src/qpid/types/Variant.cpp|156 6
Modified: src/tests/Variant.cpp|495 2

Revision: 6870f90b041c518ffc879155b8ef366c029eb3a1
Author: Gordon Sim <gsim@apache.org>
Date: 12/08/2010 18:30:54
Message:
Fix some compilation errors #MsgLength=28


----
Modified: src/qpid/types/Variant.cpp|17 23
Modified: src/tests/Variant.cpp|18 18

Revision: d491dc79bc800078b9ca9f3f1a58238f5c5e1d50
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2010 00:43:27
Message:
Updated selinux policy to work on versions lacking aisexec_t. #MsgLength=63


----
Modified: etc/selinux/Makefile|4 2
Modified: etc/selinux/qpidd.te|19 13
Modified: etc/selinux/qpiddevel.te|16 11

Revision: 61f1c945e0946583d7f6de946f402494451f8034
Author: Ken Giusti <kgiusti@apache.org>
Date: 13/08/2010 03:59:19
Message:
QPID-2791: batch up data indications and replies #MsgLength=49


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|43 25
Modified: src/qpid/agent/ManagementAgentImpl.h|4 0

Revision: 24654bf06c4279157d0be000e4ff1bbaed89cae8
Author: Alan Conway <aconway@apache.org>
Date: 13/08/2010 04:45:00
Message:
Remove misleading "no message store" message. #MsgLength=46


----
Modified: src/qpid/broker/NullMessageStore.cpp|1 3

Revision: c5401c571b4e94a765027a6b9b1ca8bcca2931ea
Author: Ted Ross <tross@apache.org>
Date: 13/08/2010 06:28:09
Message:
QPID-2792 - QMF Clients in C++ following the ABI-stable pattern of the new messaging API #MsgLength=90


----
Added: include/qmf/Agent.h|84 0
Added: include/qmf/AgentEvent.h|74 0
Added: include/qmf/AgentSession.h|93 0
Added: include/qmf/ConsoleEvent.h|73 0
Added: include/qmf/ConsoleSession.h|65 0
Added: include/qmf/Data.h|71 0
Added: include/qmf/DataAddr.h|62 0
Added: include/qmf/Handle.h|70 0
Added: include/qmf/ImportExport.h|33 0
Added: include/qmf/Query.h|65 0
Added: include/qmf/Schema.h|76 0
Added: include/qmf/SchemaId.h|61 0
Added: include/qmf/SchemaMethod.h|65 0
Added: include/qmf/SchemaProperty.h|74 0
Added: include/qmf/SchemaTypes.h|56 0
Added: include/qmf/exceptions.h|59 0
Modified: src/qmf.mk|61 2
Added: src/qmf/Agent.cpp|578 0
Added: src/qmf/AgentEvent.cpp|82 0
Added: src/qmf/AgentEventImpl.h|93 0
Added: src/qmf/AgentImpl.h|112 0
Added: src/qmf/AgentSession.cpp|944 0
Added: src/qmf/ConsoleEvent.cpp|64 0
Added: src/qmf/ConsoleEventImpl.h|71 0
Added: src/qmf/ConsoleSession.cpp|422 0
Added: src/qmf/ConsoleSessionImpl.h|95 0
Added: src/qmf/Data.cpp|115 0
Added: src/qmf/DataAddr.cpp|105 0
Added: src/qmf/DataAddrImpl.h|73 0
Added: src/qmf/DataImpl.h|72 0
Added: src/qmf/Hash.cpp|45 0
Added: src/qmf/Hash.h|44 0
Added: src/qmf/PrivateImplRef.h|93 0
Added: src/qmf/Query.cpp|74 0
Added: src/qmf/Schema.cpp|201 0
Added: src/qmf/SchemaCache.cpp|91 0
Added: src/qmf/SchemaCache.h|56 0
Added: src/qmf/SchemaId.cpp|95 0
Added: src/qmf/SchemaIdImpl.h|74 0
Added: src/qmf/SchemaImpl.h|90 0
Added: src/qmf/SchemaMethod.cpp|148 0
Added: src/qmf/SchemaMethodImpl.h|74 0
Added: src/qmf/SchemaProperty.cpp|327 0
Added: src/qmf/SchemaPropertyImpl.h|90 0
Added: src/qmf/exceptions.cpp|37 0

Revision: b9c37fde3c2f97d8cb5959fc491ee2f92567b4c5
Author: Ted Ross <tross@apache.org>
Date: 13/08/2010 06:34:23
Message:
Added some missing typecasts and type-check clauses. #MsgLength=54


----
Modified: bindings/swig_python_typemaps.i|4 1

Revision: 88a8074e466fa73786942c98fb2a71fe6e921824
Author: Ted Ross <tross@apache.org>
Date: 13/08/2010 06:35:23
Message:
QPID-2793 - Python and Ruby bindings for the C++ QMFv2 API #MsgLength=60


----
Modified: Makefile.am|1 1
Added: bindings/qmf2/Makefile.am|33 0
Added: bindings/qmf2/examples/python/agent.py|150 0
Added: bindings/qmf2/python/Makefile.am|46 0
Added: bindings/qmf2/python/python.i|38 0
Added: bindings/qmf2/python/qmf2.py|753 0
Added: bindings/qmf2/qmf2.i|63 0
Added: bindings/qmf2/ruby/Makefile.am|42 0
Added: bindings/qmf2/ruby/ruby.i|35 0
Modified: bindings/qpid/python/Makefile.am|10 10
Modified: bindings/qpid/python/python.i|3 1
Modified: bindings/qpid/ruby/Makefile.am|9 9
Modified: bindings/qpid/ruby/ruby.i|1 1
Modified: configure.ac|3 0

Revision: 8a6a73a09dc4336b3ce3b9e1806410b2d11caf88
Author: Ted Ross <tross@apache.org>
Date: 13/08/2010 10:25:28
Message:
QPID-2793 - Added doxygen text #MsgLength=32


----
Modified: include/qmf/AgentSession.h|77 0

Revision: b295fc0ddd0ee49289e10724247b1c69004d7c4f
Author: Ted Ross <tross@apache.org>
Date: 13/08/2010 22:22:57
Message:
QPID-2792 - Added C++ example agent. #MsgLength=38


----
Modified: bindings/qmf2/Makefile.am|1 1
Added: bindings/qmf2/examples/cpp/Makefile.am|26 0
Added: bindings/qmf2/examples/cpp/agent.cpp|200 0
Modified: bindings/qmf2/examples/python/agent.py|1 1
Modified: configure.ac|1 0

Revision: 35bf1b706e5604b253bd16e6dee31ac3b1e5edb0
Author: Alan Conway <aconway@apache.org>
Date: 14/08/2010 04:41:33
Message:
Fix qpiddevel selinux policy to work with valgrind. #MsgLength=53


----
Modified: etc/selinux/qpiddevel.te|4 0

Revision: 257774a08855f3c23ad48b8ab4bf4ae85963046b
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2010 17:27:57
Message:
Fix locking in receiver impl; protect session member against concurrent fetch and init. #MsgLength=88


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|7 2

Revision: 14fc974e92baf551d3d94fe3477dbb86f2103b5b
Author: Jonathan Robie <jonathan@apache.org>
Date: 20/08/2010 04:41:17
Message:
Added -c count parameter - exits after reading c messages. #MsgLength=60


----
Modified: examples/messaging/drain.cpp|14 1

Revision: d857adc839e75ba4bd6381aecce88cfcf51f55cf
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2010 15:15:53
Message:
Fix compile error on windows #MsgLength=29


----
Modified: examples/messaging/drain.cpp|1 1

Revision: fb5bbe5e3752013c4ef9254067ed0a68e793cfde
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2010 17:29:31
Message:
QPID-2817: on close, wait for at most the heartbeat interval (if specified) for close-ok response from broker #MsgLength=110


----
Modified: src/qpid/client/ConnectionHandler.cpp|8 1
Modified: src/qpid/client/StateManager.cpp|20 0
Modified: src/qpid/client/StateManager.h|2 0

Revision: 5583ec350498624f20dd6cf18da7fd337de889d4
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2010 19:32:11
Message:
QPID-2807: Allow per message acknowledgement #MsgLength=45


----
Modified: include/qpid/messaging/Session.h|4 0
Modified: src/qpid/client/amqp0_10/AcceptTracker.cpp|20 0
Modified: src/qpid/client/amqp0_10/AcceptTracker.h|3 1
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|7 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|1 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|15 0
Modified: src/qpid/client/amqp0_10/SessionImpl.h|10 0
Modified: src/qpid/messaging/Session.cpp|1 0
Modified: src/qpid/messaging/SessionImpl.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|51 0

Revision: 1c3d92a80c3797d1ec75bb329840448124787f69
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/08/2010 21:45:52
Message:
Make the count check a bit clearer and remove extraneous blank lines at end of file. #MsgLength=85


----
Modified: examples/messaging/drain.cpp|1 3

Revision: 5bf9c91bf6b035de46b47b8181bda926ea274b9e
Author: Ted Ross <tross@apache.org>
Date: 20/08/2010 21:58:20
Message:
QPID-2798 - C++ Messaging Client .NET binding fails to clone managed objects correctly Patch from Chuck Rolke #MsgLength=110


----
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.cs|3 2
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|5 2
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|5 3
Modified: bindings/qpid/dotnet/src/Address.cpp|4 5
Modified: bindings/qpid/dotnet/src/Address.h|4 4
Modified: bindings/qpid/dotnet/src/Connection.cpp|6 33
Modified: bindings/qpid/dotnet/src/Connection.h|5 10
Modified: bindings/qpid/dotnet/src/Message.cpp|3 3
Modified: bindings/qpid/dotnet/src/Message.h|7 5
Modified: bindings/qpid/dotnet/src/Receiver.cpp|49 46
Modified: bindings/qpid/dotnet/src/Receiver.h|14 6
Modified: bindings/qpid/dotnet/src/Sender.cpp|3 2
Modified: bindings/qpid/dotnet/src/Sender.h|4 2
Modified: bindings/qpid/dotnet/src/Session.cpp|23 127
Modified: bindings/qpid/dotnet/src/Session.h|6 3
Modified: bindings/qpid/dotnet/src/sessionreceiver/sessionreceiver.cs|4 2

Revision: 576bb7a0e5cf6583c41b3b932c2fa04578963a7c
Author: Ted Ross <tross@apache.org>
Date: 20/08/2010 22:24:59
Message:
QPID-2785 - QpidTypes.pdb is not installed Patch from Chuck Rolke #MsgLength=66


----
Modified: src/CMakeLists.txt|1 0

Revision: bf8a47672ba9a2a0ecbbb500c12f12c18a9c6a95
Author: Ted Ross <tross@apache.org>
Date: 20/08/2010 22:31:04
Message:
QPID-2805 - The windows resource version for qmfengine dll is hard coded to an unusable value Patch from Chuck Rolke #MsgLength=117


----
Modified: src/CMakeLists.txt|3 3

Revision: 1113e17db3073041ba2cb8a5155eb1396c71560a
Author: Gordon Sim <gsim@apache.org>
Date: 23/08/2010 22:51:12
Message:
QPID-664: allow the key in options map for an address to be quoted #MsgLength=67


----
Modified: src/qpid/messaging/AddressParser.cpp|1 1

Revision: daa03a26a0c42470fa61d648842b82023aae821b
Author: Alan Conway <aconway@apache.org>
Date: 24/08/2010 05:04:33
Message:
Check for and abort invalid catchup connections. #MsgLength=134


----
Modified: src/qpid/cluster/Cluster.cpp|5 0
Modified: src/qpid/cluster/Cluster.h|3 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|5 1

Revision: 41055d439d288c548139602dac90ed3a02ed9ee8
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2010 05:12:54
Message:
Give timer tasks a name for logging purposes. #MsgLength=47


----
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/DtxManager.cpp|1 1
Modified: src/qpid/broker/DtxTimeout.cpp|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|1 1
Modified: src/qpid/broker/QueueCleaner.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/cluster/ExpiryPolicy.cpp|1 1
Modified: src/qpid/cluster/WatchDogPlugin.cpp|1 1
Modified: src/qpid/sys/Timer.cpp|8 8
Modified: src/qpid/sys/Timer.h|2 2
Modified: src/tests/TimerTest.cpp|1 1

Revision: 248fd86c94ccfc5b1b3710ef8196195bf4160dd7
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2010 22:08:20
Message:
Check exit status of qpid-route, avoid hung test if it fails. #MsgLength=62


----
Modified: src/tests/clustered_replication_test|1 1

Revision: 05724314af6c7bb3b60565281c8cabae23f28824
Author: Ted Ross <tross@apache.org>
Date: 31/08/2010 03:38:31
Message:
QPID-2827 - QPID Cpp WinSDK does not contain 64-bit libraries Patch from Chuck Rolke #MsgLength=1107


----
Modified: README-winsdk.txt|17 50
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|21 4
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|20 4
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|20 4
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vbproj|26 4
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|66 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|167 8
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|20 4
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|20 4
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.sender/csharp.direct.sender.csproj|78 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.client/csharp.example.client.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.drain/csharp.example.drain.csproj|96 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.server/csharp.example.server.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.spout/csharp.example.spout.csproj|96 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|99 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|98 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.sender/csharp.map.sender.csproj|95 0
Added: bindings/qpid/dotnet/winsdk_sources/winsdk_dotnet_examples.sln|195 0
Modified: bld-winsdk.ps1|241 121
Modified: examples/examples.sln|26 0
Modified: examples/messaging/messaging_client.vcproj|192 0
Modified: examples/messaging/messaging_drain.vcproj|158 0
Modified: examples/messaging/messaging_map_receiver.vcproj|193 1
Modified: examples/messaging/messaging_map_sender.vcproj|192 0
Modified: examples/messaging/messaging_server.vcproj|192 0
Modified: examples/messaging/messaging_spout.vcproj|158 0

Revision: d97f06a4f1efb4520be14124dac0a56842f9e8cd
Author: Ted Ross <tross@apache.org>
Date: 01/09/2010 02:36:23
Message:
QPID-2827 - QPID Cpp WinSDK does not contain 64-bit libraries Patch from Chuck Rolke fixed a typo #MsgLength=98


----
Modified: examples/messaging/messaging_map_receiver.vcproj|1 1

Revision: 32055baffa6e761af9439008ef8d244f4e63e74f
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/09/2010 02:11:26
Message:
QPID-2841: set the TTL in agent heartbeat messages. #MsgLength=52


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|12 2
Modified: src/qpid/agent/ManagementAgentImpl.h|2 1
Modified: src/qpid/management/ManagementAgent.cpp|8 2
Modified: src/qpid/management/ManagementAgent.h|2 1

Revision: 93a22908b93c979ec8f903c1a1e180a70d7c50ea
Author: Ted Ross <tross@apache.org>
Date: 07/09/2010 20:53:37
Message:
Add heartbeat value to the simpler init() case.  Applications that use this init function will now get the protection of a connection heartbeat. #MsgLength=146


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 0

Revision: 6930225c05c1e6891ff4cc098fb13d7e8949b999
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:31
Message:
Changed RDMA testing server not to use the lower level Rdma buffers if it needs to queue messages to echo, but to suffer the double copy overhead of using its own buffers #MsgLength=171


----
Modified: src/qpid/sys/rdma/RdmaServer.cpp|35 11

Revision: eb38885df50da94b8ab3a05059a533477ab4209d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:36
Message:
Move the RDMA buffer tracking/destruction into the QueuePair class from the RdmaIO class. #MsgLength=90


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|0 4
Modified: src/qpid/sys/rdma/RdmaIO.h|0 4
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|5 1
Modified: src/qpid/sys/rdma/rdma_wrap.h|2 0

Revision: 72dc899a437571d8ee31271bd57e1791e882eced
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:41
Message:
Stop using references to intrusive_ptr in Rdma code #MsgLength=52


----
Modified: src/qpid/client/RdmaConnector.cpp|8 8
Modified: src/qpid/sys/RdmaIOPlugin.cpp|14 14
Modified: src/qpid/sys/rdma/RdmaIO.h|6 6

Revision: a17215ad88d7a2907693833d878b1643e878a8d3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:45
Message:
Make sure that we fail connection correctly if connect fails. #MsgLength=62


----
Modified: src/qpid/client/RdmaConnector.cpp|26 11

Revision: 9ce6d406217f9e84008e932eaf0199d40e1aebba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:48
Message:
Remove use of dubious auto_ptr #MsgLength=31


----
Modified: src/qpid/client/RdmaConnector.cpp|2 5

Revision: 2d8c1330df0efd427d6d1affa5cd98f3d0334f6e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:53
Message:
Move rdma recv buffers to a single large allocation rather than piecemeal allocations #MsgLength=86


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 6
Modified: src/qpid/sys/rdma/rdma_factories.cpp|11 2
Modified: src/qpid/sys/rdma/rdma_factories.h|1 0
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|34 2
Modified: src/qpid/sys/rdma/rdma_wrap.h|5 0

Revision: d048afbb00c9623ced4b966eac860b77d0c5c2ba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:48:58
Message:
Refactored Rdma write buffers to be controlled by the rdma_wrapper layer #MsgLength=73


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|3 22
Modified: src/qpid/sys/rdma/RdmaIO.h|10 4
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|37 24
Modified: src/qpid/sys/rdma/rdma_wrap.h|17 6

Revision: f80c09b37ed89ffd001021618e423df6f68b28b1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:02
Message:
Use structures with much less dynamic allocation to hold rdma buffers #MsgLength=70


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|17 14
Modified: src/qpid/sys/rdma/rdma_wrap.h|5 4

Revision: 070d2805af1ebebfd4af4564f0f30cb1070924a0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:06
Message:
Dispose the queue pair before acknowledging channel events when destroying Rdma::QueuePair to stop any events being processed during destruction #MsgLength=145


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|6 3

Revision: a6dc9bbb0abee88176270953eb21ba7e60ae0d43
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:11
Message:
Remove write after frees in Rdma::AsynchIO and qpid::client::RdmaConnector #MsgLength=75


----
Modified: src/qpid/client/RdmaConnector.cpp|2 1
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 1

Revision: bf968453f38ded17f7360a3f2d284650895239e7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:14
Message:
Reorder some code for improved intellegibility #MsgLength=47


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|10 15

Revision: 027e9bd0fad28ea402876192181a5fbde54a3d5a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:19
Message:
Coalesce checking for the drained and stopped conditions into a single function #MsgLength=80


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|21 17
Modified: src/qpid/sys/rdma/RdmaIO.h|1 0

Revision: 6152c8691f449d465a011a31c04a35ea5e87e8d8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:22
Message:
Rearrange drain queue code so that it does't call the callback unless there are no outstanding write buffers #MsgLength=109


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|8 3

Revision: c5fb11dd531371827a2d2131b9cefa1757e709db
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:26
Message:
Trivial comment fix #MsgLength=20


----
Modified: src/qpid/client/RdmaConnector.cpp|5 5

Revision: 91575695210688ef8bde5b2759ebaf3b6d3c1b6a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:30
Message:
Improve daemon handling of unexpected RDMA disconnects from client #MsgLength=67


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|48 21

Revision: e9eac3c11bad68239d5857cfee8c3508e84cbc29
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:33
Message:
Reordered members of RdmaIOHandler to ensure correct destruction order #MsgLength=71


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|5 4

Revision: c8417e171d0342fcaf17e5b79804bc6d240a022a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:37
Message:
Only delete Rdma server side connections when the client disconnects - this avoids a race between the disconnect event and deleting the connection upon closing. #MsgLength=161


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|12 12
Modified: src/qpid/sys/rdma/rdma_wrap.h|4 0

Revision: 6a496e1d799a08efb62fe909c03aaca65fcb8e35
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:41
Message:
Avoid Rdma::AsynchIO leaking when stopped without being drained and add in asserts to be sure that you call stopped and drained callbacks in the correct state #MsgLength=159


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|3 1

Revision: ba102e697353607dc68d4ee611dcdd7e7a4275b3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:47
Message:
Delay daemon side Rdma connection disconnect() so that it happens serialised to the data channel for the connection. #MsgLength=117


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|6 1
Modified: src/qpid/sys/rdma/RdmaIO.cpp|14 0
Modified: src/qpid/sys/rdma/RdmaIO.h|3 0

Revision: 05707691b01b020a2d8e8a3c3adbdcad3f02ca35
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:50
Message:
Delay client side Rdma connection disconnect() so that it happens serialised to the data channel for the connection. #MsgLength=117


----
Modified: src/qpid/client/RdmaConnector.cpp|8 3

Revision: fdddfd5d7b14af932c8607f80f0b14806a5089dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 00:49:55
Message:
Stop the client side Rdma code from receiving connection events before the data events are stopped to avoid any events after the Rdma::Connector is deleted #MsgLength=156


----
Modified: src/qpid/client/RdmaConnector.cpp|1 0
Modified: src/qpid/sys/rdma/RdmaIO.cpp|4 0
Modified: src/qpid/sys/rdma/RdmaIO.h|1 0

Revision: 6c3ba3832903bd8820554f7bc4aca5f98656ed8c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/09/2010 01:38:41
Message:
Fix to allow compilation with libibverbs 1.1.2 #MsgLength=48


----
Modified: src/qpid/sys/rdma/rdma_factories.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_factories.h|1 1

Revision: 41beb908f2d9361507ffa2c0627d7e640a4bd9cc
Author: Alan Conway <aconway@apache.org>
Date: 09/09/2010 21:43:25
Message:
Break deadlock caused when ClusterTimer::drop is called concurrently with Timer::add. #MsgLength=87


----
Modified: src/qpid/cluster/Cluster.cpp|0 1
Modified: src/qpid/sys/Timer.cpp|8 5

Revision: 67ab93dcf909e6a74ffeef9010a7d31eee6f360c
Author: Ted Ross <tross@apache.org>
Date: 15/09/2010 04:50:50
Message:
Fixed a thread safety issue in which the managementObjects map was used in an unsafe way (i.e. without the lock held). #MsgLength=209


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|60 52
Modified: src/qpid/agent/ManagementAgentImpl.h|6 3

Revision: 0b58310102b6a39e89a510e243b04fd2c1452dca
Author: Jonathan Robie <jonathan@apache.org>
Date: 15/09/2010 05:19:42
Message:
Adds a parameter to several examples to allow connection options to be specified. #MsgLength=83


----
Modified: examples/messaging/client.cpp|4 3
Modified: examples/messaging/hello_world.cpp|3 1
Modified: examples/messaging/hello_xml.cpp|3 1
Modified: examples/messaging/map_receiver.cpp|3 2
Modified: examples/messaging/map_sender.cpp|3 1
Modified: examples/messaging/server.cpp|3 2

Revision: fcc85dc7c99399c4d2f1d007adba77d7ae98cbd5
Author: Ted Ross <tross@apache.org>
Date: 15/09/2010 23:41:51
Message:
Removed spurious comment #MsgLength=25


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1

Revision: 74dec7d24cfd55219adbcad658f0fbd70aad73a1
Author: Ken Giusti <kgiusti@apache.org>
Date: 16/09/2010 03:05:34
Message:
QPID-2859: Save the agent's name to the configuration file. #MsgLength=60


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|60 19
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1

Revision: 5be24583cea489e1193be7c174476736fb78aee5
Author: Jonathan Robie <jonathan@apache.org>
Date: 16/09/2010 22:52:37
Message:
Fixes parsing problem with empty lists ('[]') in addresses, which previously raised an exception and leaked the memory associated with the AddressImpl. #MsgLength=154


----
Modified: src/qpid/messaging/AddressParser.cpp|7 2
Modified: src/qpid/messaging/AddressParser.h|1 0
Modified: src/tests/Address.cpp|18 0

Revision: b8edf3bea4701ead8d417d39e87fa56888effec8
Author: Jonathan Robie <jonathan@apache.org>
Date: 17/09/2010 00:57:21
Message:
Adding cast to list and map size comparisons to avoid signed/unsigned comparison: #MsgLength=132


----
Modified: src/tests/Address.cpp|2 2

Revision: c04256c66e095551352c633486d96308bf6cbd18
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2010 16:04:52
Message:
QPID-2860: Have exchange declared as correct type if auto-created #MsgLength=66


----
Modified: examples/messaging/hello_xml.cpp|1 1

Revision: e1ec2cd89ead4a8eacb589ef379f4d9b39556b2d
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/09/2010 22:29:33
Message:
QPID-2875: wait for federation configuration to settle before testing route propagation. #MsgLength=89


----
Modified: src/tests/federation.py|78 21

Revision: b2c77297f2c53a196cec2de2a4e335c4c50cb69e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 21/09/2010 23:50:41
Message:
Renamed the MessageStore interface truncateInit parameter to a more generic name. Changed the language of the description to match. This is a tidy-up only, there should be no code implications. #MsgLength=194


----
Modified: src/qpid/broker/MessageStore.h|9 7

Revision: a9d1e87cd1499a4298a5cbb831aa777580e5acab
Author: Ted Ross <tross@apache.org>
Date: 22/09/2010 05:48:41
Message:
QMFv2 Additions: - QMFv2 schema encoding completed - Schema queries handled by the agent and initiated by the console by user request - Full query support with predicates evaluated on the agent (regex not yet implemented) - Agent filtering in the console - Agent aging in the console - Unit tests #MsgLength=310


----
Modified: bindings/qmf2/python/python.i|7 4
Modified: bindings/qmf2/python/qmf2.py|13 2
Modified: include/qmf/Agent.h|42 0
Modified: include/qmf/ConsoleEvent.h|22 10
Modified: include/qmf/ConsoleSession.h|13 0
Modified: include/qmf/Query.h|15 6
Modified: include/qmf/SchemaProperty.h|1 0
Modified: src/qmf.mk|4 0
Modified: src/qmf/Agent.cpp|88 63
Modified: src/qmf/AgentImpl.h|10 3
Modified: src/qmf/AgentSession.cpp|126 124
Modified: src/qmf/ConsoleEvent.cpp|17 1
Modified: src/qmf/ConsoleEventImpl.h|8 1
Modified: src/qmf/ConsoleSession.cpp|136 36
Modified: src/qmf/ConsoleSessionImpl.h|8 1
Added: src/qmf/Expression.cpp|441 0
Added: src/qmf/Expression.h|73 0
Modified: src/qmf/Query.cpp|123 44
Added: src/qmf/QueryImpl.h|77 0
Modified: src/qmf/Schema.cpp|58 1
Modified: src/qmf/SchemaIdImpl.h|9 0
Modified: src/qmf/SchemaImpl.h|1 0
Modified: src/qmf/SchemaMethod.cpp|39 1
Modified: src/qmf/SchemaMethodImpl.h|1 0
Modified: src/qmf/SchemaProperty.cpp|108 1
Modified: src/qmf/SchemaPropertyImpl.h|3 0
Added: src/qmf/agentCapability.h|39 0
Modified: src/tests/Makefile.am|4 2
Added: src/tests/Qmf2.cpp|320 0

Revision: aceaa0ef9425d8abf3967f9e3b230fb92c372d8c
Author: Ted Ross <tross@apache.org>
Date: 22/09/2010 20:13:22
Message:
Added type casts to literal numbers in cpp/src/tests/Qmf2.cpp. #MsgLength=64


----
Modified: src/tests/Qmf2.cpp|7 7

Revision: d73b6d75196f77299d8c07d8fb7e72c2a3f76b09
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/09/2010 20:48:00
Message:
clarify a comment #MsgLength=18


----
Modified: managementgen/qmfgen/schema.py|3 1

Revision: 78b4391353c7ee2e1717c55087a457892695389c
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/09/2010 20:51:10
Message:
QPID-2880: allow boolean values in method call map/list arguments. #MsgLength=67


----
Modified: bindings/qmf/tests/python_console.py|3 3
Modified: bindings/qmf/tests/ruby_console_test.rb|3 2
Modified: src/qmf/engine/ValueImpl.cpp|15 2

Revision: 2d80e059555fde962fc1e9caa49214e565b2736b
Author: Alan Conway <aconway@apache.org>
Date: 23/09/2010 05:14:01
Message:
Design note on proposed new cluster design. #MsgLength=44


----
Added: src/qpid/cluster/new-cluster-design.txt|277 0

Revision: 304d47d2a93f90eb5452a54a8ba87e2f70d739d1
Author: Ted Ross <tross@apache.org>
Date: 23/09/2010 09:42:08
Message:
Renamed swig-generated Ruby binding for QMF2 from "qmf2" to "cqmf2" to match the pattern of the Python binding. #MsgLength=152


----
Modified: bindings/qmf2/ruby/Makefile.am|9 9
Added: bindings/qmf2/ruby/qmf2.rb|537 0
Modified: bindings/qmf2/ruby/ruby.i|1 1

Revision: 67c859cb2e78fce86d1eb06893d1f6b1dcd6de47
Author: Ken Giusti <kgiusti@apache.org>
Date: 24/09/2010 23:24:38
Message:
QPID-2885: clean up memory leaks on C++ qmf console shutdown. #MsgLength=62


----
Modified: src/qpid/console/Broker.cpp|5 0
Modified: src/qpid/console/SessionManager.cpp|9 0

Revision: 9bac0b656a5af91af0be58a9553dcf773050889a
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2010 02:41:14
Message:
Update new-cluster-design.txt: improvements to new members joining cluster. #MsgLength=76


----
Modified: src/qpid/cluster/new-cluster-design.txt|82 3

Revision: ab25558142a39ef2fbc7c62739fba70b6c16c7ff
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2010 03:50:11
Message:
Update new-cluster-design.txt, clarifications & notes. #MsgLength=55


----
Modified: src/qpid/cluster/new-cluster-design.txt|19 13

Revision: a871f70039acb42601631979fe0e7d70f34ea821
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2010 03:41:23
Message:
Added install_env.sh to set environment variables to use an install prefix. #MsgLength=77


----
Modified: configure.ac|1 0
Modified: src/tests/Makefile.am|4 3
Added: src/tests/install_env.sh.in|26 0
Modified: src/tests/test_env.sh.in|4 4

Revision: d6eac9259226c41cdca8b01e6363e869d7b6e59e
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2010 03:41:33
Message:
Scripts using rsync and ssh to assist cluster testing: - run a command on all hosts in a cluster. - copy files to all hosts in a cluster. - "make install" locally and copy install tree to cluster. - copy source tree to cluster and "make install" on each host. #MsgLength=261


----
Added: src/tests/allhosts|77 0
Modified: src/tests/cluster.mk|3 0
Added: src/tests/qpid-build-rinstall|28 0
Added: src/tests/qpid-src-rinstall|31 0
Added: src/tests/rsynchosts|49 0

Revision: f9f1e3a3e88cc8e0af1a6f4ff4525ba0ef773b25
Author: Jonathan Robie <jonathan@apache.org>
Date: 28/09/2010 20:46:37
Message:
Ensure that a rejected message is also dequeued. #MsgLength=277


----
Modified: src/qpid/broker/DeliveryRecord.cpp|2 0

Revision: 86f7df94955bb7ef632299c6209e89ac127897ce
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2010 22:19:22
Message:
new-cluster-design.txt: added note on async replication. #MsgLength=57


----
Modified: src/qpid/cluster/new-cluster-design.txt|21 6

Revision: d36e56d19474fed57c0dcbe6e62a4b52afe42271
Author: Ken Giusti <kgiusti@apache.org>
Date: 30/09/2010 21:06:06
Message:
QPID-2888: qmf v2 agent will republish all data on broker reconnect. #MsgLength=69


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|9 5
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1

Revision: 4b5bae6ab56b06b279194dc15e46f0edf9705268
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2010 04:05:39
Message:
Add missing cluster test scripts to EXTRA_DIST. #MsgLength=49


----
Modified: src/tests/cluster.mk|2 1

Revision: 451954cf59d1530cf78145fa3ecb48c167d81a79
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2010 04:06:03
Message:
Extending qpid-cpp-benchmark for cluster testing #MsgLength=207


----
Modified: src/tests/qpid-cpp-benchmark|72 40
Modified: src/tests/qpid-receive.cpp|2 2

Revision: 3332d3dd41eda121e9cfc8957705eded8d826793
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2010 04:06:12
Message:
qpid-test-cluster: script to start a multi-host test cluster. #MsgLength=63


----
Modified: src/tests/allhosts|1 1
Added: src/tests/qpid-test-cluster|95 0
Modified: src/tests/test_env.sh.in|1 0

Revision: 764f7bc9ccf9a70be7256be5e2dab331bf17ac73
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2010 04:06:22
Message:
Add missing files to EXTRA_DIST. #MsgLength=34


----
Modified: src/tests/cluster.mk|6 2

Revision: 4644a1cc94c021ecb35fe3e5a3a5a69c225212ca
Author: Alan Conway <aconway@apache.org>
Date: 01/10/2010 04:06:36
Message:
Improvements to output & message distribution for qpid-cpp-benchmark. #MsgLength=71


----
Modified: src/tests/Statistics.cpp|0 2
Modified: src/tests/allhosts|1 1
Modified: src/tests/qpid-cpp-benchmark|7 1
Modified: src/tests/qpid-test-cluster|3 2

Revision: 71e6f00a8218a598d89f6a1bd2ff585b42b13e06
Author: Jonathan Robie <jonathan@apache.org>
Date: 01/10/2010 21:20:54
Message:
Fixes two bugs for ring queue policies that involve size. #MsgLength=340


----
Modified: src/qpid/broker/QueuePolicy.cpp|41 20
Modified: src/qpid/broker/QueuePolicy.h|3 0
Modified: src/tests/QueuePolicyTest.cpp|81 2

Revision: 51aa978d2c61bbc817e3e650766c7ca4b537ed99
Author: Jonathan Robie <jonathan@apache.org>
Date: 05/10/2010 02:51:13
Message:
Allows browsing of exclusive queues held by another session. #MsgLength=63


----
Modified: src/qpid/broker/SessionAdapter.cpp|2 1
Modified: src/tests/MessagingSessionTests.cpp|19 0

Revision: cff79b6222e78d7897c299409cf97e2b571dc758
Author: Alan Conway <aconway@apache.org>
Date: 05/10/2010 04:44:40
Message:
Cluster benchmark test script. Improvements to qpid-cpp-bencmhark. #MsgLength=68


----
Modified: src/tests/cluster.mk|2 1
Added: src/tests/qpid-cluster-benchmark|20 0
Modified: src/tests/qpid-cpp-benchmark|46 13

Revision: 7fabd4055acfeed4e938bffec6c717c2fc6fe866
Author: Alan Conway <aconway@apache.org>
Date: 07/10/2010 22:47:42
Message:
Update new cluster design: no longer planning to use MessageStore interface. #MsgLength=77


----
Modified: src/qpid/cluster/new-cluster-design.txt|26 36

Revision: 5201e475303a0f7daa954edc106525a1e2c1a0c1
Author: Ted Ross <tross@apache.org>
Date: 08/10/2010 05:30:59
Message:
Add explicit node-type declaration for receivers. #MsgLength=51


----
Modified: src/qmf/AgentSession.cpp|6 4

Revision: 9619344fe36e0c4bf5af205b3920e1e055030647
Author: Ted Ross <tross@apache.org>
Date: 08/10/2010 06:21:19
Message:
Fix session-shutdown-after-failure so it does not cause a segfault. Fixed the method-call wrapper for Python in the qpid messaging wrapper to properly handle and translate C++ exceptions. #MsgLength=189


----
Modified: bindings/qpid/python/python.i|7 4
Modified: src/qmf/AgentSession.cpp|2 2

Revision: bf6a94aa9192c4bc2c6a5bbf461673a9fe5a72a4
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/10/2010 08:56:41
Message:
Apply patch from QPID-2415 describing SSL use on Windows. #MsgLength=58


----
Modified: SSL|54 0

Revision: f703e8280b4112cdcadaa57e59583fab2bd8962b
Author: Jonathan Robie <jonathan@apache.org>
Date: 09/10/2010 01:11:06
Message:
Registers the amq.failover exchange in the management exchange. #MsgLength=65


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/FailoverExchange.cpp|9 8
Modified: src/qpid/cluster/FailoverExchange.h|2 2
Modified: src/tests/cluster_tests.py|10 2

Revision: ced4b8c6161a8e7d99cadf7aeea14605aeac1345
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2010 22:11:56
Message:
QPID-2895 Qpid Windows Messaging .NET Binding does not work in release mode. #MsgLength=228


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|38 19
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|39 21
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|36 17
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|36 17
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vbproj|39 19
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|81 149
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|183 10
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|26 2
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|26 2

Revision: 6acca8f0c98cffb71e5a6e0668b1233365d5a260
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2010 22:46:38
Message:
QPID-2863 Propagate WinSDK Build Version numbers to the Messaging .NET Binding #MsgLength=504


----
Added: bindings/qpid/dotnet/src/org.apache.qpid.messaging.template.rc|101 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|1 1
Added: bindings/qpid/dotnet/src/sessionreceiver/Properties/sessionreceiver-AssemblyInfo-template.cs|55 0
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|2 2
Modified: src/CMakeLists.txt|10 1

Revision: bb3dcc5093fd313ab88831dbb4f3f2064efa9008
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2010 22:58:17
Message:
QPID-2863 #MsgLength=70


----
Deleted: bindings/qpid/dotnet/src/org.apache.qpid.messaging.rc|0 101
Deleted: bindings/qpid/dotnet/src/sessionreceiver/Properties/AssemblyInfo.cs|0 55

Revision: dae751dceb68e101e18c8ff595ad2e9bedc6a88a
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2010 23:00:46
Message:
QPID-2865 Cpp messaging examples compile problems for x64. #MsgLength=242


----
Modified: examples/messaging/messaging_client.vcproj|2 2
Modified: examples/messaging/messaging_drain.vcproj|2 2
Modified: examples/messaging/messaging_map_receiver.vcproj|2 2
Modified: examples/messaging/messaging_map_sender.vcproj|2 2
Modified: examples/messaging/messaging_server.vcproj|2 2
Modified: examples/messaging/messaging_spout.vcproj|2 2

Revision: 61b26a901243cad2231f0c17d0ca42fedf6dd831
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2010 23:19:34
Message:
QPID-2866 Remove unneeded build files and directory #MsgLength=219


----
Deleted: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.sessionreceiver.csproj|0 81
Deleted: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.sln|0 52
Deleted: bindings/qpid/dotnet/bld/bld-org.apache.qpid.messaging.vcproj|0 300

Revision: d58af62c91260fb9d10553817b7a59ea9349a750
Author: Ted Ross <tross@apache.org>
Date: 12/10/2010 00:46:43
Message:
Converted four files from DOS format to Unix format to match all of the other files in their respective directories. #MsgLength=195


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|302 302
Modified: src/qpid/client/windows/SslConnector.cpp|181 181
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|661 661
Modified: src/qpid/sys/windows/SslAsynchIO.h|191 191

Revision: 3c5da42593fdabb2aa27ef280a196fa3ef4f68ab
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:03:56
Message:
Catch uncaught exceptions thrown by DispatchHandle callbacks instead of letting then destroy the Poller thread. #MsgLength=113


----
Modified: src/qpid/sys/DispatchHandle.cpp|7 0

Revision: 591ae69e8471e14d0a62f1a48fde5b06c5b9bafc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:06
Message:
Fix Rdma test server so that you can interrupt it again (since making Poller run loop impervious to signals) #MsgLength=110


----
Modified: src/qpid/sys/rdma/RdmaServer.cpp|9 3

Revision: 2e0b697daf5a3b3bafbb9f4b1396a610946ac466
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:15
Message:
Handle Rdma Flush events - instead of reporting to the application just return write buffers to the pool and do nothing for recv buffers as the connection must be in an error state now. #MsgLength=187


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|16 0

Revision: ad2dd5a866c2ae3cea0e4c204a24172a30e9aa2c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:25
Message:
If we have already stopped an Rdma connection, but we still get a data event ignore it #MsgLength=88


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|3 0

Revision: 3ce978a715f1d7b0cd91da66c8da59802e5a0008
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:35
Message:
Make sure that Rdma::Listener can generate no more callbacks after it receives a disconnected event for a connection id. #MsgLength=122


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|12 0

Revision: 574b23898a73bb33daafe020018218e6c23b5733
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:47
Message:
Serialise close into the data callbacks: Rejig Rdma::ConnectionManager to have a stop function with a callback and use this to ensure that the Rdma::Connector used by qpid::sys::RdmaConnector is correctly deleted only after it has been actually stopped #MsgLength=254


----
Modified: src/qpid/client/RdmaConnector.cpp|50 34
Modified: src/qpid/sys/rdma/RdmaIO.cpp|14 1
Modified: src/qpid/sys/rdma/RdmaIO.h|8 3

Revision: 42937bac197dd764f575a64c1007bdae185a03e6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:04:56
Message:
Account for seemingly getting reject messages after already getting established event. #MsgLength=88


----
Modified: src/qpid/client/RdmaConnector.cpp|7 1

Revision: 96746b652b3de862c858bd690f03b595af01d0f7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:05:05
Message:
Delay deleting the Rdma::AsynchIO associated with a Connection to just before the callback to the ConnectionImpl shutdown function so that we make the possibility of race between a write coming down and deleting it as small as possible. #MsgLength=380


----
Modified: src/qpid/client/RdmaConnector.cpp|55 69

Revision: 1f238bdc40702b44f7a318eb8ec8d776bf4b8cde
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:05:15
Message:
Rewrite Rdma::AsynchIO to use deferred code rather than a state machine: This eliminates a lot of difficult to understand error prone state machine code #MsgLength=154


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|22 233
Modified: src/qpid/sys/rdma/RdmaIO.h|4 5

Revision: a2029bdb0b61c591ccfee01ed92040b7c5e58b68
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:05:26
Message:
Improve the performance of the Rdma::AsynchIO by using a very simple state machine to reduce the context switch for notifyPendingWrite() by allowing it to "hijack" existing concurrent processing on an IO thread. #MsgLength=213


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|57 5
Modified: src/qpid/sys/rdma/RdmaIO.h|5 2

Revision: 098bb6d1c77aca5e5702a3fff2c52b4153362802
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/10/2010 00:34:31
Message:
Add state constraint annotations to Rdma::AsynchIO; Simplify state machine slightly #MsgLength=85


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|14 4

Revision: b7f44c53cb8b9a09b0061b5c3597ae70348bf7ec
Author: Ted Ross <tross@apache.org>
Date: 14/10/2010 02:18:45
Message:
Added -fno-strict-aliasing for all of the swig-generated Python wrappers because Swig (for Python) generates code that violates the strict aliasing rules. #MsgLength=156


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf2/python/Makefile.am|1 1
Modified: bindings/qpid/python/Makefile.am|1 1

Revision: afa2e5d0944d6cb0f0627a8f0c1db33104d411d9
Author: Alan Conway <aconway@apache.org>
Date: 14/10/2010 04:09:18
Message:
Test client to measure cluster lag: greater delays in responses from some brokers. #MsgLength=177


----
Added: src/tests/qpid-cluster-lag.py|93 0
Modified: src/tests/qpid-test-cluster|6 9

Revision: b5ed101e77fb010ee6e56a4bf40c824d36c71f74
Author: Charles E. Rolke <chug@apache.org>
Date: 15/10/2010 03:22:46
Message:
QPID-2906 Qpid WinSDK .NET Binding does not support Release configuration #MsgLength=1248


----
Modified: README-winsdk.txt|151 96
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|3 3
Modified: bindings/qpid/dotnet/winsdk_sources/winsdk_dotnet_examples.sln|10 47
Modified: bld-winsdk.ps1|77 23
Added: src/windows/winsdk/LICENSE-MSVC|15 0
Added: src/windows/winsdk/MS-LICENSE.HTM|806 0

Revision: 059b6006d374b3297d4eb707bc2a6328830aa398
Author: Alan Conway <aconway@apache.org>
Date: 15/10/2010 03:38:40
Message:
Code cleanup in broker directory. #MsgLength=135


----
Modified: rubygen/cppgen.rb|8 8
Modified: src/qpid/broker/Bridge.cpp|1 0
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Connection.h|3 3
Modified: src/qpid/broker/ConnectionState.h|10 10
Modified: src/qpid/broker/Deliverable.h|0 1
Modified: src/qpid/broker/DeliverableMessage.cpp|2 0
Modified: src/qpid/broker/DeliverableMessage.h|0 1
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0
Modified: src/qpid/broker/DeliveryRecord.h|5 4
Modified: src/qpid/broker/DirectExchange.cpp|2 0
Modified: src/qpid/broker/DirectExchange.h|6 7
Modified: src/qpid/broker/Exchange.cpp|1 0
Modified: src/qpid/broker/Exchange.h|8 8
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 0
Modified: src/qpid/broker/FanOutExchange.h|2 2
Modified: src/qpid/broker/HeadersExchange.h|8 8
Modified: src/qpid/broker/Link.cpp|1 0
Modified: src/qpid/broker/Link.h|14 15
Modified: src/qpid/broker/LinkRegistry.cpp|1 0
Modified: src/qpid/broker/Message.cpp|1 0
Modified: src/qpid/broker/MessageStoreModule.cpp|1 0
Modified: src/qpid/broker/NullMessageStore.cpp|3 3
Modified: src/qpid/broker/Queue.h|304 309
Modified: src/qpid/broker/QueueBindings.cpp|1 0
Modified: src/qpid/broker/QueueCleaner.cpp|1 0
Modified: src/qpid/broker/QueueRegistry.cpp|2 0
Modified: src/qpid/broker/QueueRegistry.h|16 12
Modified: src/qpid/broker/RecoveredDequeue.cpp|2 0
Modified: src/qpid/broker/RecoveredDequeue.h|3 4
Modified: src/qpid/broker/RecoveredEnqueue.cpp|2 0
Modified: src/qpid/broker/RecoveredEnqueue.h|17 18
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 0
Modified: src/qpid/broker/SemanticState.h|14 13
Modified: src/qpid/broker/SessionAdapter.h|12 12
Modified: src/qpid/broker/TopicExchange.h|7 7
Modified: src/qpid/broker/TxPublish.cpp|1 0
Modified: src/qpid/broker/TxPublish.h|3 4
Modified: src/qpid/cluster/FailoverExchange.h|5 5
Modified: src/qpid/management/ManagementDirectExchange.h|3 3
Modified: src/qpid/management/ManagementTopicExchange.h|4 4
Modified: src/qpid/replication/ReplicationExchange.cpp|2 0
Modified: src/qpid/replication/ReplicationExchange.h|8 3
Modified: src/qpid/xml/XmlExchange.cpp|1 0
Modified: src/qpid/xml/XmlExchange.h|3 3
Modified: src/tests/DeliveryRecordTest.cpp|1 0
Modified: src/tests/QueueRegistryTest.cpp|1 0

Revision: 4201f2cce1d1ce48f85b13bd0c1297d612305931
Author: Charles E. Rolke <chug@apache.org>
Date: 15/10/2010 04:55:58
Message:
QPID-2907 Developing Qpid Cpp Messaging .NET Binding requires setup help #MsgLength=271


----
Added: bindings/qpid/dotnet/configure-windows.ps1|522 0

Revision: f423ea5cbe92f5461e64977aef030938dac87f80
Author: Jonathan Robie <jonathan@apache.org>
Date: 15/10/2010 05:11:38
Message:
Removed confusing text from reject() and release() doxygen strings. #MsgLength=69


----
Modified: include/qpid/messaging/Session.h|5 7

Revision: 8500b22ae8de5b0556a9f805516d6a5577025d64
Author: Jonathan Robie <jonathan@apache.org>
Date: 15/10/2010 21:00:13
Message:
Improved wording in the doxygen strings for session::reject(), session::release(). #MsgLength=84


----
Modified: include/qpid/messaging/Session.h|6 4

Revision: e025b46087759cb872bec7fa2468d630a3464430
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2010 03:36:13
Message:
Introduce broker::Cluster interface. #MsgLength=262


----
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Broker.h|5 0
Added: src/qpid/broker/Cluster.h|103 0
Modified: src/qpid/broker/DeliveryRecord.cpp|4 15
Modified: src/qpid/broker/Exchange.cpp|15 1
Added: src/qpid/broker/NullCluster.h|66 0
Modified: src/qpid/broker/Queue.cpp|99 27
Modified: src/qpid/broker/Queue.h|7 0
Modified: src/qpid/broker/QueuedMessage.h|1 2
Modified: src/qpid/broker/SemanticState.cpp|1 6
Modified: src/qpid/cluster/new-cluster-design.txt|3 0
Added: src/qpid/cluster/new-cluster-plan.txt|439 0
Added: src/tests/BrokerClusterCalls.cpp|435 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/cluster.mk|1 1

Revision: 885d875bb4b914cf784fa2bcd38fa390f9e885b0
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2010 23:31:29
Message:
Fix compile error: outline set/getCluster fucntions on Broker. #MsgLength=64


----
Modified: src/qpid/broker/Broker.cpp|4 0
Modified: src/qpid/broker/Broker.h|2 2

Revision: e872ec4219d6e8a62ff6314cc854c16d7dd41884
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2010 23:35:53
Message:
Fix compile error in BrokerClusterCalls test, signed/unsigned comparison. #MsgLength=75


----
Modified: src/tests/BrokerClusterCalls.cpp|5 5

Revision: ef6b95e158d94a5927e073f69a6ea52767336047
Author: Michael Goulish <mgoulish@apache.org>
Date: 20/10/2010 16:03:36
Message:
SASLizing Interbroker Links ------------------------------------------------------------- #MsgLength=1477


----
Modified: src/CMakeLists.txt|1 1
Modified: src/Makefile.am|3 3
Renamed: src/qpid/Sasl.h [from src/qpid/client/Sasl.h]|4 8
Renamed: src/qpid/SaslFactory.cpp [from src/qpid/client/SaslFactory.cpp]|46 16
Renamed: src/qpid/SaslFactory.h [from src/qpid/client/SaslFactory.h]|6 7
Modified: src/qpid/broker/Connection.cpp|32 0
Modified: src/qpid/broker/Connection.h|4 0
Modified: src/qpid/broker/ConnectionHandler.cpp|96 8
Modified: src/qpid/broker/ConnectionHandler.h|15 0
Modified: src/qpid/broker/LinkRegistry.cpp|36 0
Modified: src/qpid/broker/LinkRegistry.h|4 0
Modified: src/qpid/broker/SecureConnection.cpp|4 1
Modified: src/qpid/broker/SecureConnection.h|1 1
Modified: src/qpid/client/ConnectionHandler.cpp|8 2
Modified: src/qpid/client/ConnectionHandler.h|1 1
Modified: src/tests/sasl.mk|1 0
Added: src/tests/sasl_fed|152 0

Revision: fd7bb01f61a47bed73a52570f2a2d788f85b3f5d
Author: Alan Conway <aconway@apache.org>
Date: 20/10/2010 22:02:12
Message:
Add matching fclose for fdopen in ForkedBroker. #MsgLength=49


----
Modified: src/tests/ForkedBroker.cpp|1 1

Revision: 554e13bcd7d38463053cc4790bda1817d52061dd
Author: Jonathan Robie <jonathan@apache.org>
Date: 21/10/2010 06:15:24
Message:
Adds support for federation in the XML exchange. #MsgLength=160


----
Modified: src/qpid/broker/Bridge.cpp|1 12
Modified: src/qpid/broker/DirectExchange.cpp|3 10
Modified: src/qpid/broker/Exchange.cpp|5 13
Modified: src/qpid/broker/Exchange.h|26 0
Modified: src/qpid/broker/FanOutExchange.cpp|1 12
Modified: src/qpid/broker/HeadersExchange.cpp|2 1
Modified: src/qpid/broker/TopicExchange.cpp|1 13
Modified: src/qpid/xml/XmlExchange.cpp|228 105
Modified: src/qpid/xml/XmlExchange.h|43 17
Modified: src/tests/federation.py|159 0
Modified: src/tests/run_federation_tests|17 9

Revision: 9505809ceb83a07f3b520cc945f7ed7ac10dd13a
Author: Jonathan Robie <jonathan@apache.org>
Date: 21/10/2010 22:21:23
Message:
Strings that identify federation operations. #MsgLength=46


----
Added: src/qpid/broker/FedOps.h|38 0

Revision: 7579efe2266f3970a9f8161cbdc1cb5350bf3ccf
Author: Michael Goulish <mgoulish@apache.org>
Date: 22/10/2010 02:27:18
Message:
get rid of BOOST_REGEX #MsgLength=24


----
Modified: src/tests/BrokerClusterCalls.cpp|4 2

Revision: 3802d65cf5d64111ec5c944c6898893abc1c3157
Author: Alan Conway <aconway@apache.org>
Date: 22/10/2010 03:05:01
Message:
Get rid of boost::regex in test code. #MsgLength=128


----
Modified: src/tests/BrokerClusterCalls.cpp|2 6
Modified: src/tests/CMakeLists.txt|0 1
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/cluster.mk|1 1
Modified: src/tests/logging.cpp|1 1
Modified: src/tests/test_tools.h|0 16

Revision: 189458e9eec75324fdd593ee0d4d06eb7abebf91
Author: Charles E. Rolke <chug@apache.org>
Date: 22/10/2010 06:04:07
Message:
QPID-1672, r1024541 Failed to modify the windows-private SaslFactory. This commit: * coerces CMake to include the two different SaslFactory sources into qpidcommon. * modifies the windows SaslFactory to use the new interface constructs. * adds QPID_COMMON_EXPORT to the Sasl code new to qpidcommon. #MsgLength=301


----
Modified: src/CMakeLists.txt|2 2
Modified: src/qpid/SaslFactory.h|3 3
Modified: src/qpid/client/windows/SaslFactory.cpp|39 10

Revision: f415c04257b4f04b6cfbc8aa5ce398c20a564f65
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2010 07:09:00
Message:
Add hybrid SQL-CLFS store that can be used on Windows systems Vista, Win Server 2008 and up - these have the Common Log File System facility. The CLFS store uses CLFS to store/recover messages and transactions instead of SQL. SQL still holds queues, bindings, exchanges, configs. #MsgLength=280


----
Modified: src/qpid/store/CMakeLists.txt|29 0
Modified: src/qpid/store/MessageStorePlugin.cpp|9 3
Modified: src/qpid/store/MessageStorePlugin.h|6 1
Modified: src/qpid/store/StorageProvider.h|9 0
Added: src/qpid/store/ms-clfs/Log.cpp|155 0
Added: src/qpid/store/ms-clfs/Log.h|72 0
Added: src/qpid/store/ms-clfs/Lsn.h|36 0
Added: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|1180 0
Added: src/qpid/store/ms-clfs/MessageLog.cpp|365 0
Added: src/qpid/store/ms-clfs/MessageLog.h|95 0
Added: src/qpid/store/ms-clfs/Messages.cpp|383 0
Added: src/qpid/store/ms-clfs/Messages.h|103 0
Added: src/qpid/store/ms-clfs/Transaction.cpp|83 0
Added: src/qpid/store/ms-clfs/Transaction.h|146 0
Added: src/qpid/store/ms-clfs/TransactionLog.cpp|415 0
Added: src/qpid/store/ms-clfs/TransactionLog.h|98 0
Modified: src/qpid/store/ms-sql/MessageMapRecordset.cpp|1 2

Revision: 35bb7b6d8cbacdc05b8dcfca65b002f000cfa500
Author: Michael Goulish <mgoulish@apache.org>
Date: 22/10/2010 15:13:34
Message:
Make the "SASL enabled" log message also print out the SASL version number.   This will be useful in one test that depends on some SASL functionality that was not available before 2.1.22 . #MsgLength=190


----
Modified: src/qpid/broker/Broker.cpp|5 1

Revision: d5acaa7d84aa31b64c0cffb23d0babe50efdf650
Author: Michael Goulish <mgoulish@apache.org>
Date: 22/10/2010 15:57:35
Message:
Fix this test to parse the sasl version number out of the new logging statement printed by broker #2 -- and exit if the version number is too low to support redirection of the sasl database file. #MsgLength=197


----
Modified: src/tests/sasl_fed|13 22

Revision: 8b8dd34dfd837e070247ede259bef10513f651c0
Author: Charles E. Rolke <chug@apache.org>
Date: 23/10/2010 02:06:07
Message:
QPID-2913 QPID Cpp Messaging Libraries for WinSDK Are Not Signed #MsgLength=308


----
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|4 0
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|6 1
Added: bindings/qpid/dotnet/src/sessionreceiver/qpid.snk|0 0

Revision: b6344972db873445f53ad7038952fa5618f296d7
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/10/2010 05:40:39
Message:
Test module to run recovery-oriented store tests. #MsgLength=50


----
Added: src/tests/store.py|197 0

Revision: 2e1b5b2b717acea10b4eced8f0b8ccc6c582e33c
Author: Ken Giusti <kgiusti@apache.org>
Date: 24/10/2010 08:12:47
Message:
QPID-2897: modify TopicExchange for better performance with respect to large number of bindings. #MsgLength=97


----
Modified: src/qpid/broker/TopicExchange.cpp|437 119
Modified: src/qpid/broker/TopicExchange.h|111 10
Modified: src/tests/TopicExchangeTest.cpp|319 40

Revision: e01f63ec8da22eb827a3d445905a39eb4dde8bf2
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2010 02:00:34
Message:
New cluster: core framework and initial implementation of enqueue logic. #MsgLength=73


----
Modified: src/cluster.mk|21 1
Modified: src/qpid/broker/Cluster.h|13 6
Modified: src/qpid/broker/NullCluster.h|2 2
Modified: src/qpid/broker/Queue.cpp|9 8
Added: src/qpid/cluster/BrokerHandler.cpp|96 0
Added: src/qpid/cluster/BrokerHandler.h|86 0
Added: src/qpid/cluster/Cluster2Plugin.cpp|65 0
Added: src/qpid/cluster/Core.cpp|68 0
Added: src/qpid/cluster/Core.h|95 0
Added: src/qpid/cluster/EventHandler.cpp|89 0
Added: src/qpid/cluster/EventHandler.h|85 0
Added: src/qpid/cluster/LockedMap.h|73 0
Added: src/qpid/cluster/MessageHandler.cpp|82 0
Added: src/qpid/cluster/MessageHandler.h|70 0
Added: src/qpid/cluster/MessageId.cpp|35 0
Added: src/qpid/cluster/MessageId.h|52 0
Modified: src/qpid/cluster/PollerDispatch.cpp|6 3
Modified: src/qpid/cluster/PollerDispatch.h|1 0
Modified: src/qpid/cluster/new-cluster-design.txt|0 2
Modified: src/qpid/cluster/new-cluster-plan.txt|17 20
Modified: src/tests/BrokerClusterCalls.cpp|25 23
Added: src/tests/cluster2_tests.py|66 0
Modified: src/tests/run_cluster_tests|1 1
Modified: src/tests/test_env.sh.in|1 0
Modified: xml/cluster.xml|22 0

Revision: bf1c006a7f561ddd4cd45832a77de15f76c0670d
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2010 02:00:47
Message:
Initial design document on implementing active/passive clustering. #MsgLength=67


----
Added: src/qpid/cluster/new-cluster-active-passive.txt|39 0

Revision: d5af2ce800b5c754a426be9f3a4753676121cff0
Author: Michael Goulish <mgoulish@apache.org>
Date: 26/10/2010 03:37:26
Message:
Changes to make it work in  vpath build! #MsgLength=42


----
Modified: src/tests/sasl_fed|15 19

Revision: 6a71843846788cad1991164f1ac0c8b95ef8ad46
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2010 04:59:52
Message:
Fix bug in qpid-cpp-benchmark. #MsgLength=270


----
Modified: src/tests/qpid-cpp-benchmark|4 2

Revision: 3f2c141821a2ea68c0fe0a0f81f07e18eb826f1c
Author: Michael Goulish <mgoulish@apache.org>
Date: 26/10/2010 23:25:40
Message:
This code's purpose was only to print out the sasl version into the logs so that I could grep for it in the sasl_fed test.  But it is breaking the windows build.   So I am backing it out, and temporarily disabling the sasl_fed test until I can implement something a little less grotesque. #MsgLength=292


----
Modified: src/qpid/broker/Broker.cpp|1 5
Modified: src/tests/sasl_fed|23 9

Revision: e2348098633a743ba2197fbad3e68ec8dbf374ee
Author: Charles E. Rolke <chug@apache.org>
Date: 27/10/2010 01:22:57
Message:
QPID-2897 repair missing DLL import/export controls #MsgLength=52


----
Modified: src/qpid/broker/TopicExchange.h|7 7

Revision: ef862817024b8c147b5b468424b97a409240fbeb
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2010 03:57:26
Message:
Updates to new cluster design docs regarding active-passive mode. #MsgLength=66


----
Modified: src/qpid/cluster/new-cluster-active-passive.txt|5 2
Modified: src/qpid/cluster/new-cluster-design.txt|7 0
Modified: src/qpid/cluster/new-cluster-plan.txt|2 1

Revision: 616bd8700917646519e6707602bdcf0b35ab8768
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2010 05:18:24
Message:
Add missing Apache licences to cluster files. #MsgLength=46


----
Modified: src/qpid/cluster/new-cluster-active-passive.txt|18 1
Modified: src/qpid/cluster/new-cluster-design.txt|16 0
Modified: src/qpid/cluster/new-cluster-plan.txt|19 0
Modified: src/tests/qpid-cluster-benchmark|19 0
Modified: src/tests/run_cluster_authentication_soak|18 0
Modified: src/tests/run_cluster_authentication_test|18 0

Revision: a67bfe00671c3d02142d898245510cdcb6ec98bd
Author: Gordon Sim <gsim@apache.org>
Date: 27/10/2010 17:44:57
Message:
Added some missing licenses; added FedOps.h to distribution list #MsgLength=65


----
Modified: etc/selinux/Makefile|18 0
Modified: examples/makedist.mk|18 0
Modified: examples/messaging/extra_dist/Makefile|18 0
Modified: examples/messaging/hello_world.cpp|21 0
Modified: examples/messaging/hello_xml.cpp|21 0
Deleted: rubygen/framing.0-10/MethodHolder.rb|0 0
Modified: src/Makefile.am|1 0

Revision: dd4a330cb9913e2e880458395b71cdfc0ceed8a8
Author: Gordon Sim <gsim@apache.org>
Date: 27/10/2010 17:46:31
Message:
Added another missing license #MsgLength=30


----
Modified: src/tests/sasl_test_setup.sh|19 0

Revision: d90fcb1c6a9ae2cf9e947a36de6e21b8602029ad
Author: Charles E. Rolke <chug@apache.org>
Date: 27/10/2010 23:20:23
Message:
From Robbie's recent 0.8 RAT.txt: Unapproved licenses in cpp/bindings/qpid/dotnet #MsgLength=117


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.client/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.server/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/Properties/AssemblyInfo.cs|22 1
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/Properties/AssemblyInfo.cs|22 1
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.Designer.vb|19 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.myapp|18 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/AssemblyInfo.vb|19 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.Designer.vb|19 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.resx|18 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.Designer.vb|19 0
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.settings|18 0
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sln|20 0
Modified: bindings/qpid/dotnet/src/app.rc|19 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.template.rc|19 0
Modified: bindings/qpid/dotnet/src/resource1.h|20 0
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|18 0
Modified: bindings/qpid/dotnet/test/messaging.test/Properties/AssemblyInfo.cs|21 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|21 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.sender/csharp.direct.sender.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.client/csharp.example.client.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.drain/csharp.example.drain.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.server/csharp.example.server.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.spout/csharp.example.spout.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.sender/csharp.map.sender.csproj|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/winsdk_dotnet_examples.sln|20 0

Revision: f72e087baaccfa5ea1b6ad20650bc641695d6f4a
Author: Alan Conway <aconway@apache.org>
Date: 27/10/2010 23:30:49
Message:
Updates to new cluster design. #MsgLength=31


----
Modified: src/qpid/cluster/new-cluster-active-passive.txt|3 1
Modified: src/qpid/cluster/new-cluster-design.txt|12 0
Modified: src/qpid/cluster/new-cluster-plan.txt|4 0

Revision: 519b2470a8bdd433cedf6a91fca4f9e3760bf04d
Author: Alan Conway <aconway@apache.org>
Date: 28/10/2010 02:01:27
Message:
Revert experimental cluster code, too close to 0.8 release. #MsgLength=286


----
Modified: src/Makefile.am|0 2
Modified: src/cluster.mk|1 21
Modified: src/qpid/broker/Broker.cpp|0 6
Modified: src/qpid/broker/Broker.h|0 5
Deleted: src/qpid/broker/Cluster.h|0 110
Modified: src/qpid/broker/DeliveryRecord.cpp|15 4
Modified: src/qpid/broker/Exchange.cpp|1 15
Deleted: src/qpid/broker/NullCluster.h|0 66
Modified: src/qpid/broker/Queue.cpp|32 105
Modified: src/qpid/broker/Queue.h|0 7
Modified: src/qpid/broker/QueuedMessage.h|2 1
Modified: src/qpid/broker/SemanticState.cpp|6 1
Deleted: src/qpid/cluster/BrokerHandler.cpp|0 96
Deleted: src/qpid/cluster/BrokerHandler.h|0 86
Deleted: src/qpid/cluster/Cluster2Plugin.cpp|0 65
Deleted: src/qpid/cluster/Core.cpp|0 68
Deleted: src/qpid/cluster/Core.h|0 95
Deleted: src/qpid/cluster/EventHandler.cpp|0 89
Deleted: src/qpid/cluster/EventHandler.h|0 85
Deleted: src/qpid/cluster/LockedMap.h|0 73
Deleted: src/qpid/cluster/MessageHandler.cpp|0 82
Deleted: src/qpid/cluster/MessageHandler.h|0 70
Deleted: src/qpid/cluster/MessageId.cpp|0 35
Deleted: src/qpid/cluster/MessageId.h|0 52
Modified: src/qpid/cluster/PollerDispatch.cpp|3 6
Modified: src/qpid/cluster/PollerDispatch.h|0 1
Deleted: src/tests/BrokerClusterCalls.cpp|0 435
Modified: src/tests/Makefile.am|1 2
Modified: src/tests/cluster.mk|1 1
Deleted: src/tests/cluster2_tests.py|0 66
Modified: src/tests/run_cluster_tests|1 1
Modified: src/tests/test_env.sh.in|0 1
Modified: xml/cluster.xml|0 22

Revision: 05a6b98fbb60b5876fb9da0a3e1085dacbb4a703
Author: Alan Conway <aconway@apache.org>
Date: 28/10/2010 02:01:36
Message:
Fix make distcheck error: added sasl_fed to EXTRA_DIST. #MsgLength=56


----
Modified: src/tests/Makefile.am|1 3
Modified: src/tests/sasl.mk|3 2

Revision: 0755d7b045593f9a19628a23b9aa330b8dfbedb9
Author: Ted Ross <tross@apache.org>
Date: 28/10/2010 02:46:21
Message:
1) Fix a bug where AGENT_RESTART is repeatedly reported when detected once. 2) ConsoleSession::getAgents now lists only agents in the agent-filter. If the connected broker agent does not match the filter, it is removed from the list though it is still accessible using ConsoleSession::getConnectedBrokerAgent. #MsgLength=317


----
Modified: src/qmf/AgentImpl.h|1 0
Modified: src/qmf/ConsoleSession.cpp|26 11
Modified: src/qmf/ConsoleSessionImpl.h|1 0

Revision: 458422a63edb5feed8364bbd122c9829f3b1654c
Author: Alan Conway <aconway@apache.org>
Date: 28/10/2010 04:06:56
Message:
Updates to new cluster design. #MsgLength=31


----
Modified: src/qpid/cluster/new-cluster-active-passive.txt|6 3

Revision: 85118a0f56c1abf56d2f3a78a8cf77d339230176
Author: Charles E. Rolke <chug@apache.org>
Date: 28/10/2010 05:10:46
Message:
QPID-2915 Qpid Cpp Messaging .NET Binding does not properly handle Qpid type VAR_VOID #MsgLength=324


----
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|4 0
Modified: bindings/qpid/dotnet/src/Message.cpp|10 0
Modified: bindings/qpid/dotnet/src/QpidTypeCheck.h|10 4
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|16 2

Revision: 2766cec790c6865281a45d18562d60097e0de173
Author: Michael Goulish <mgoulish@apache.org>
Date: 28/10/2010 12:39:43
Message:
Add a small executable that prints out the sasl version number in integer form. Use it in the sasl_fed test to determine whether that test can run. #MsgLength=149


----
Modified: src/tests/sasl.mk|5 0
Modified: src/tests/sasl_fed|12 3
Added: src/tests/sasl_version.cpp|48 0

Revision: d14a28518239a00b3ef953200b6d51b48eb75743
Author: Michael Goulish <mgoulish@apache.org>
Date: 28/10/2010 18:31:22
Message:
Clarify this output comment a little. #MsgLength=39


----
Modified: src/tests/sasl_fed|1 1

Revision: 7f05f20601802412649f06c5bb3cece45e09f97b
Author: Jonathan Robie <jonathan@apache.org>
Date: 28/10/2010 23:21:06
Message:
Fixes broker issues when max_count or max_size are invalid. #MsgLength=164


----
Modified: src/qpid/broker/QueuePolicy.cpp|19 6
Modified: src/qpid/broker/QueuePolicy.h|1 1

Revision: fe9e710b2144c3b7391f507b756f373dca33ea0c
Author: Charles E. Rolke <chug@apache.org>
Date: 29/10/2010 01:17:29
Message:
QPID-2906 #MsgLength=45


----
Modified: bld-winsdk.ps1|1 6
Deleted: src/windows/winsdk/LICENSE-MSVC|0 15
Deleted: src/windows/winsdk/MS-LICENSE.HTM|0 806

Revision: 17ba9cf1df90e0eb94e5643151d600c1666c36b8
Author: Charles E. Rolke <chug@apache.org>
Date: 29/10/2010 01:40:02
Message:
QPID-2866 #MsgLength=34


----

Revision: 6fcb5242fb3f4e012816f0f837468c2b7ecb15f2
Author: Charles E. Rolke <chug@apache.org>
Date: 29/10/2010 03:06:25
Message:
QPID-2918 Assembly mis-named in csharp.example.declare_queues #MsgLength=62


----
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/Properties/AssemblyInfo.cs|2 2

Revision: 9c662bab7516aa420b61c8341a185d143e56bc50
Author: Robert Gemmell <robbie@apache.org>
Date: 29/10/2010 05:00:16
Message:
Add ASF licence to the git ignore files #MsgLength=41


----
Modified: .gitignore|19 0
Modified: etc/selinux/.gitignore|19 0

Revision: fc390b0f88d92c9c03a545381949560b0bfdac8d
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/10/2010 05:33:52
Message:
QPID-2916: throw an exception when a data value cannot be encoded correctly as its type. #MsgLength=89


----
Modified: examples/qmf-agent/schema.xml|4 4
Modified: src/qpid/acl/management-schema.xml|2 2
Modified: src/qpid/amqp_0_10/Codecs.cpp|13 7
Modified: src/qpid/framing/Buffer.cpp|32 11
Modified: src/tests/FramingTest.cpp|11 0
Modified: src/tests/Variant.cpp|26 0
Modified: src/tests/testagent.xml|4 4

Revision: 06ee540158e1ee7ca95872a934ff48d39217b79e
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/10/2010 22:03:08
Message:
Add missing hello_world and hello_xml examples. Resolves QPID-2919. #MsgLength=68


----
Modified: examples/messaging/CMakeLists.txt|16 0

Revision: fec366e7a867305bfd174e8135b689f7a0400567
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/10/2010 23:51:02
Message:
QPID-2916: fix QMF test that was sending a sstr > 255 bytes long. #MsgLength=66


----
Modified: bindings/qmf/tests/ruby_console_test.rb|1 1

Revision: 287372c2fb6a99fa6fea4ff23a9c1e51ffbdef45
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/10/2010 00:58:59
Message:
Since LSNs are used as persistence IDs and ID 0 usually means "not persisted", ensure that no log record that's used gets written at LSN 0. Add stub for loadContent(). Correct transaction references in enqueue/dequeue. #MsgLength=219


----
Modified: src/qpid/store/ms-clfs/Log.cpp|6 0
Modified: src/qpid/store/ms-clfs/Log.h|5 0
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|20 19
Modified: src/qpid/store/ms-clfs/MessageLog.cpp|48 7
Modified: src/qpid/store/ms-clfs/MessageLog.h|12 0
Modified: src/qpid/store/ms-clfs/Messages.cpp|12 1
Modified: src/qpid/store/ms-clfs/Messages.h|8 2
Modified: src/qpid/store/ms-clfs/TransactionLog.cpp|14 1
Modified: src/qpid/store/ms-clfs/TransactionLog.h|6 0

Revision: b0f42e222590842ea93b375dbab3bafc2fcedca7
Author: Charles E. Rolke <chug@apache.org>
Date: 30/10/2010 01:23:49
Message:
QPID-2807 More flexible acknowledgement #MsgLength=214


----
Modified: bindings/qpid/dotnet/src/Session.cpp|10 0
Modified: bindings/qpid/dotnet/src/Session.h|2 0

Revision: dcc6cdf5db2d63a5ceaf73e769a076d0d5968eda
Author: Jonathan Robie <jonathan@apache.org>
Date: 30/10/2010 01:26:05
Message:
Corrects AddressParser to use typed simple values. #MsgLength=117


----
Modified: include/qpid/types/Variant.h|2 0
Modified: src/qpid/messaging/AddressParser.cpp|4 3
Modified: src/qpid/types/Variant.cpp|37 0
Modified: src/tests/Address.cpp|15 8

Revision: cf644504c07210c59ba05c36b31154a81bfe1fb3
Author: Michael Goulish <mgoulish@apache.org>
Date: 30/10/2010 02:51:11
Message:
Prevent sasl_fed from blowing up in a distro, or "make distcheck", by bailing out if the python tools that it needs are absent. #MsgLength=129


----
Modified: src/tests/sasl_fed|15 8

Revision: 763da7d9dd2785520c3300dc8b1a2bd904fb11ee
Author: Robert Gemmell <robbie@apache.org>
Date: 01/11/2010 07:39:39
Message:
add ASF licence to various files in the cpp tree #MsgLength=50


----
Modified: CTestConfig.cmake|19 0
Modified: boost-1.32-support/Makefile|18 0
Modified: boost-1.32-support/supressions|18 0
Modified: bootstrap|18 0
Modified: docs/api/developer.doxygen.in|20 1
Modified: docs/api/user.doxygen.in|19 0
Modified: etc/selinux/qpidd.te|19 0
Modified: etc/selinux/qpiddevel.te|19 0
Modified: examples/qmf-agent/example_gen.mak|19 0
Modified: managementgen/qmfgen/templates/CMakeLists.cmake|3 3
Modified: managementgen/qmfgen/templates/Makefile.mk|3 3
Modified: qpid-autotools-install|19 0
Modified: qpid-config.in|18 0
Modified: src/qmfc.mk|3 3
Modified: src/tests/vg_check|19 0
Modified: versions|19 0

Revision: c320b1567e9323892f6c0f6745f6eb009bd3afab
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2010 22:10:29
Message:
Updates to new cluster design docs. #MsgLength=36


----
Modified: src/qpid/cluster/new-cluster-design.txt|68 76
Modified: src/qpid/cluster/new-cluster-plan.txt|45 32

Revision: 4213c2f972b768f8ab1d1ff4df1fa37a0a29ee0a
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2010 22:10:48
Message:
Moved new cluster design docs into cpp/design. #MsgLength=47


----
Renamed: design/new-cluster-active-passive.txt [from src/qpid/cluster/new-cluster-active-passive.txt]|4 4
Renamed: design/new-cluster-design.txt [from src/qpid/cluster/new-cluster-design.txt]|13 13
Renamed: design/new-cluster-plan.txt [from src/qpid/cluster/new-cluster-plan.txt]|6 6

Revision: bdeaf9d48ceb29734fa35bd07350b28999504edc
Author: Jonathan Robie <jonathan@apache.org>
Date: 01/11/2010 22:18:07
Message:
Changed Variant::fromString() to Variant::parse(). Also changed implementation. #MsgLength=81


----
Modified: include/qpid/types/Variant.h|5 1
Modified: src/qpid/messaging/AddressParser.cpp|1 2
Modified: src/qpid/types/Variant.cpp|13 33

Revision: 49a4bec52ff23d5ab7efadb5755472e6fb4e264d
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2010 22:31:12
Message:
new cluster design: folded active-passive debate into main design doc. #MsgLength=71


----
Deleted: design/new-cluster-active-passive.txt|0 64
Modified: design/new-cluster-design.txt|41 1

Revision: deee365736b0cf0de55765322c0add4210713316
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2010 22:45:27
Message:
Rename cpp/design to cpp/design_docs to avoid conflict with DESIGN on windows. #MsgLength=79


----
Renamed: design_docs/new-cluster-design.txt [from design/new-cluster-design.txt]|0 0
Renamed: design_docs/new-cluster-plan.txt [from design/new-cluster-plan.txt]|0 0

Revision: e3fa18d56e51dc87a6350026790ba24aa84ea800
Author: Charles E. Rolke <chug@apache.org>
Date: 01/11/2010 23:44:10
Message:
Remove empty directory that conflicts with DESIGN file. #MsgLength=56


----

Revision: ede5a17ba20a0700a5bb0cea061ebcf63d26c4f3
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/11/2010 07:51:18
Message:
Squish some "could lose data" compile warnings from MSVC. #MsgLength=58


----
Modified: include/qpid/framing/Uuid.h|2 1

Revision: 38538aa82d6ee8dbf268f8392fc9cc904a865cb0
Author: Charles E. Rolke <chug@apache.org>
Date: 02/11/2010 22:29:50
Message:
QPID-2922 Qpid Cpp Messaging .NET Binding does not implement FailoverUpdate class #MsgLength=123


----
Added: bindings/qpid/dotnet/src/FailoverUpdates.cpp|94 0
Added: bindings/qpid/dotnet/src/FailoverUpdates.h|67 0
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|8 0

Revision: 6668a04a9d89dc969cbd354edf441d4d20554d72
Author: Michael Goulish <mgoulish@apache.org>
Date: 03/11/2010 03:08:01
Message:
Remove spurious comment. #MsgLength=26


----
Modified: src/tests/sasl_fed|0 3

Revision: 1710dc9204097b389017ca000ed17a937940ba1a
Author: Charles E. Rolke <chug@apache.org>
Date: 03/11/2010 04:50:54
Message:
QPID-2923 Qpid Messaging .NET Binding fails to translate exceptions from C++ to .NET #MsgLength=294


----
Modified: bindings/qpid/dotnet/src/Address.cpp|131 21
Modified: bindings/qpid/dotnet/src/Connection.cpp|124 18
Modified: bindings/qpid/dotnet/src/FailoverUpdates.cpp|1 7
Modified: bindings/qpid/dotnet/src/Message.cpp|385 128
Modified: bindings/qpid/dotnet/src/Receiver.cpp|35 5
Modified: bindings/qpid/dotnet/src/Sender.cpp|67 6
Modified: bindings/qpid/dotnet/src/Session.cpp|179 13

Revision: 8d989fe0d2dc3a395e210bf98ed394d42a08f4dc
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/11/2010 07:12:08
Message:
Catch com exceptions during db recovery and rethrow as ADOExceptions which the broker can deal with. Resolves QPID-2925. #MsgLength=121


----
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|105 65

Revision: 5d6af8cd6b8c127a63d3198912510d60a1e8abc3
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2010 03:12:59
Message:
qpid-cpp-benchmark: allow extra arguments to qpid-send/receive, fix exception error. #MsgLength=85


----
Modified: src/tests/qpid-cpp-benchmark|8 2

Revision: 70b74906e160c150d328eae9c5f0752aaa57a0a5
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/11/2010 06:49:32
Message:
1. Enable the second set of tests, now that brokertest.py is checked in and running. This allows the tests that require a broker restart to be executed. 2. Make the script accept a command line argument to say which store to run the tests against. #MsgLength=248


----
Modified: src/tests/run_store_tests.ps1|47 17

Revision: 08dc49213d41c859b604a79dfe7f8732e8225769
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/11/2010 06:50:43
Message:
When running store tests, pass the store type to the script. Also added test runs for the CLFS store. #MsgLength=102


----
Modified: src/tests/CMakeLists.txt|4 1

Revision: 3deba21f479a6b07dd823da7f647594f8376709f
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/11/2010 06:52:10
Message:
Revised Messages to keep track of queues each message is on to enable finding all messages on a deleted queue. Removed this type of tracking from MSSqlClfsProvider.cpp. #MsgLength=169


----
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|29 90
Modified: src/qpid/store/ms-clfs/Messages.cpp|188 114
Modified: src/qpid/store/ms-clfs/Messages.h|38 3

Revision: 06255bb84e19f5678ca06333c4a11187c89960da
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/11/2010 07:23:18
Message:
Fix typo in help message. #MsgLength=26


----
Modified: src/tests/qpid-perftest.cpp|1 1

Revision: 8d4009adfec40023204120c702bdc565ae8e0742
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2010 09:55:18
Message:
New cluster plan: added transaction support #MsgLength=44


----
Modified: design_docs/new-cluster-plan.txt|4 0

Revision: 4442359cedf7b87719567d002038f33c1814faef
Author: Charles E. Rolke <chug@apache.org>
Date: 06/11/2010 02:51:00
Message:
QPID-2926 Simple example code does not link under Windows #MsgLength=157


----
Modified: src/CMakeLists.txt|8 0
Added: src/qpid/messaging/HandleInstantiator.cpp|64 0

Revision: 3371d1edf6cccc5f12ffe8841c1317da22e6225c
Author: Charles E. Rolke <chug@apache.org>
Date: 06/11/2010 03:07:46
Message:
QPID-2924 Refactor WinSDK to create separate debug and release /bin directories #MsgLength=815


----
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.sender/csharp.direct.sender.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.client/csharp.example.client.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.drain/csharp.example.drain.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.server/csharp.example.server.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.spout/csharp.example.spout.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj|2 2
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.sender/csharp.map.sender.csproj|2 2

Revision: dd5071dd5a928646c6894b55925277e76869e5fc
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2010 06:02:57
Message:
Add design doc for new Windows hybrid SQL-CLFS store. #MsgLength=54


----
Added: design_docs/windows_clfs_store_design.txt|239 0

Revision: fd320738850bd6bda35f8ab1a115ef918d4e4ee4
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/11/2010 06:04:08
Message:
Manage CLFS containers using policies to both create the initial containers and to automatically grow and shrink the log as needed. #MsgLength=132


----
Modified: src/qpid/store/ms-clfs/Log.cpp|44 23
Modified: src/qpid/store/ms-clfs/Log.h|1 0
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|1 0

Revision: b1b64541536b3d1079614d2ff26724e6610894e8
Author: Robert Gemmell <robbie@apache.org>
Date: 08/11/2010 04:04:02
Message:
Increment version numbers from 0.7 to 0.8(docs) and 0.9(code) #MsgLength=63


----
Modified: src/CMakeWinVersions.cmake|8 8

Revision: 58130560d20007ad2ce35d5869b442660f9d286c
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2010 05:17:50
Message:
QPID-2933 Messaging .NET binding has several assembly properties misnamed #MsgLength=142


----
Modified: bindings/qpid/dotnet/examples/csharp.example.client/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.example.server/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/Properties/AssemblyInfo.cs|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/Properties/AssemblyInfo.cs|2 2

Revision: 87e71a74b602ea039075c95d05b4e1f316c69810
Author: Ted Ross <tross@apache.org>
Date: 10/11/2010 05:15:03
Message:
QPID-2934 Feature to pass the authenticated userId to QMF agent method handlers for authorization #MsgLength=99


----
Modified: examples/qmf-agent/example.cpp|11 1
Modified: examples/qmf-agent/schema.xml|3 0
Modified: include/qpid/management/Manageable.h|5 0
Modified: include/qpid/management/ManagementObject.h|3 2
Modified: managementgen/qmfgen/schema.py|18 8
Modified: managementgen/qmfgen/templates/Class.h|4 2
Modified: src/qpid/agent/ManagementAgentImpl.cpp|11 7
Modified: src/qpid/agent/ManagementAgentImpl.h|5 4
Modified: src/qpid/management/Manageable.cpp|5 0
Modified: src/qpid/management/ManagementAgent.cpp|4 4

Revision: 722d7e658f4be1525581f488a70ef2340198fde7
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2010 06:14:45
Message:
Added --receive-rate to qpid-recieve to allow simulation of a slow receiver. #MsgLength=78


----
Modified: src/tests/qpid-cpp-benchmark|5 2
Modified: src/tests/qpid-receive.cpp|17 1

Revision: 9242ce0251b1a9fd52e48ff776c8b9a2122dbfd3
Author: Gordon Sim <gsim@apache.org>
Date: 11/11/2010 00:51:16
Message:
Fix to r1028346: no point in throwing exception after queue has already been created, so just log error and revert to default (do this for floating point values also) #MsgLength=167


----
Modified: src/qpid/broker/QueuePolicy.cpp|11 5
Modified: src/tests/QueuePolicyTest.cpp|18 0

Revision: 760e0bd59512c9b63a74bd5a7ca0371a4a0655ac
Author: Charles E. Rolke <chug@apache.org>
Date: 11/11/2010 03:45:23
Message:
QPID-2939 Qpid .NET Messaging Binding has stray references and using statements #MsgLength=96


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|0 3
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|0 3
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.cs|0 3
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/Options.cs|0 6
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.csproj|0 14
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/Options.cs|0 4
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.csproj|0 11
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|0 11
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|0 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|0 11
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|0 18
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|0 2
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj|0 14
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.sender/csharp.direct.sender.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.client/csharp.example.client.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.drain/csharp.example.drain.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.server/csharp.example.server.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.spout/csharp.example.spout.csproj|0 11
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|0 11
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|0 11
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj|0 12
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.sender/csharp.map.sender.csproj|0 12

Revision: a574d0069ca79c1b044823bfd1341b5fbf93ca65
Author: Alan Conway <aconway@apache.org>
Date: 11/11/2010 05:50:20
Message:
qpid-recieve --receive-rate: fixed calculation for duplicate messages. #MsgLength=71


----
Modified: src/tests/qpid-receive.cpp|3 4

Revision: 7c921552fe3aa7e11fb8bb31634dfd9b5ca22f39
Author: Alan Conway <aconway@apache.org>
Date: 11/11/2010 05:50:32
Message:
test_env.sh.in: Remove un-necessary absdir for @prefix@, prefix is always absolute. #MsgLength=84


----
Modified: src/tests/test_env.sh.in|1 1

Revision: c684b60ec79cf4b91211c3ab9f3d650eee8bf5a1
Author: Ted Ross <tross@apache.org>
Date: 11/11/2010 06:30:38
Message:
Fixed segfault when setting the agent filter on a closed session. Fixed notification for the connected-broker agent. Added an example console program in c++ to monitor the set of agents. Fixed the Python agent example to more elegantly handle connection failure. #MsgLength=264


----
Modified: bindings/qmf2/examples/cpp/Makefile.am|6 1
Added: bindings/qmf2/examples/cpp/list_agents.cpp|67 0
Modified: bindings/qmf2/examples/python/agent.py|12 6
Modified: src/qmf/AgentSession.cpp|1 1
Modified: src/qmf/ConsoleSession.cpp|16 1

Revision: 876fbda72230831e802a92ce04fa1df0173225b6
Author: Alan Conway <aconway@apache.org>
Date: 12/11/2010 01:41:06
Message:
Include cluster scripts unconditionally in distribution. #MsgLength=57


----
Modified: src/tests/cluster.mk|32 27

Revision: ae7187a20e04c8f6a100f6a1026fe3a8f55d1022
Author: Ted Ross <tross@apache.org>
Date: 12/11/2010 04:41:54
Message:
Added a blank setAgentFilter (will make this a command option). Added an indication for the connected broker agent in the list. #MsgLength=129


----
Modified: bindings/qmf2/examples/cpp/list_agents.cpp|8 2

Revision: 713b9531f3fbd1273fe6247ec8de9d19675ea78a
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2010 21:22:31
Message:
QPID-2940: always request completions from broker on Session::acknowledge(), and always clean up any pending accept records at that time #MsgLength=137


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|3 1
Modified: src/qpid/messaging/Session.cpp|1 1

Revision: 5d81350fc48499bd930f999534bd0e9f83ccb573
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2010 03:08:04
Message:
QPID-2674: prevent callbacks after doDelete has been called #MsgLength=60


----
Modified: src/qpid/sys/DispatchHandle.cpp|10 0

Revision: d34da04cf04b156b95464a7d245110dcc418fea3
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/11/2010 06:28:14
Message:
Handle iterator properly when removing entries from list; resolves QPID-2941. #MsgLength=78


----
Modified: src/qpid/store/ms-clfs/Messages.cpp|7 3

Revision: 8c928e264e34ece3e5c59dbce57b00abd6719644
Author: Alan Conway <aconway@apache.org>
Date: 16/11/2010 04:51:07
Message:
Fix inconsistent line terminators. #MsgLength=35


----
Modified: examples/README.txt|308 154

Revision: 5105d3380f8804cb726578337a8f30b38eec2dae
Author: Alan Conway <aconway@apache.org>
Date: 16/11/2010 04:59:27
Message:
Fix double spacing introduced by previous commit. #MsgLength=50


----
Modified: examples/README.txt|0 155

Revision: 911f31f52bc3ebed358f1b48c1406fe43e14f54d
Author: Stephen D. Huston <shuston@apache.org>
Date: 16/11/2010 08:47:04
Message:
Add PREDEFINED items so that QPID_MESSAGING_EXTERN and QMF_EXTERN do not show up in generated class documentation. Resolves QPID-2948. #MsgLength=135


----
Modified: docs/api/developer.doxygen.in|1 1
Modified: docs/api/user.doxygen.in|1 1

Revision: 4e5a2522d3b7f9dc07ade821e0bd127e0707eee6
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/11/2010 02:42:48
Message:
Add README.txt for qmf-console examples #MsgLength=40


----
Added: examples/qmf-console/README.txt|39 0

Revision: d3d7bf1432e5e687ed4de1ec6d37c3d85e87b6f8
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/11/2010 02:44:15
Message:
Add README.txt to distribution. #MsgLength=32


----
Modified: examples/qmf-console/Makefile.am|1 0

Revision: 929f6e4a647f72db13bfe230b325d1de9400f0f6
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2010 03:12:08
Message:
Aggregate Timer warnings. #MsgLength=358


----
Modified: include/qpid/log/Statement.h|18 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/sys/Timer.cpp|11 18
Modified: src/qpid/sys/Timer.h|2 0
Added: src/qpid/sys/TimerWarnings.cpp|80 0
Added: src/qpid/sys/TimerWarnings.h|81 0

Revision: 48496f1d6cb7046ae91f5e6e93ce49b5a1a3671d
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2010 04:39:24
Message:
cluster/Numbering.h: Removed unused and incorrect function contains() #MsgLength=70


----
Modified: src/qpid/cluster/Numbering.h|0 2

Revision: 2cd9641903c4b1afcb6f03a84d2044d378968089
Author: Jonathan Robie <jonathan@apache.org>
Date: 18/11/2010 06:15:54
Message:
Added bootstrap to "Quick Start" instructions - now builds properly with either the full distribution, C++ only, or C++ client. #MsgLength=226


----
Modified: README.txt|5 4

Revision: 6c68ce7bb185e85c9432a15a486d87843cbc08d3
Author: Alan Conway <aconway@apache.org>
Date: 18/11/2010 23:13:50
Message:
Added missing TimerWarnings.cpp to CMakeLists.txt. #MsgLength=51


----
Modified: src/CMakeLists.txt|1 0

Revision: 6fcfe02a57c360ba430d69114b71f774b0a9735c
Author: Ken Giusti <kgiusti@apache.org>
Date: 19/11/2010 00:11:17
Message:
Update readme: remove qmf-agent, add qmf-console description #MsgLength=61


----
Modified: examples/README.txt|6 13

Revision: 1d0bc5dcb8c7d632ce76509a83bdc0581ca1effc
Author: Charles E. Rolke <chug@apache.org>
Date: 19/11/2010 01:53:47
Message:
QPID-2952 Qpid Cpp Messaging .NET Binding - Address constructor mishandles Name and Type fields #MsgLength=134


----
Modified: bindings/qpid/dotnet/src/Address.h|1 1

Revision: 4a9d08a2d6a6e2e7cf045dfa15b0d192b3166ac5
Author: Alan Conway <aconway@apache.org>
Date: 19/11/2010 03:40:53
Message:
QPID-2874 Clustered broker crashes in assertion in cluster/ExpiryPolicy.cpp #MsgLength=480


----
Modified: src/qpid/cluster/ExpiryPolicy.cpp|44 8
Modified: src/qpid/cluster/ExpiryPolicy.h|7 3
Modified: src/tests/cluster_tests.py|24 2

Revision: 58097cc239105950e05b5f3b14bc3b13ee1383a7
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/11/2010 05:07:18
Message:
Modified text so people using the C++ distributions are not expected to have autotools. #MsgLength=89


----
Modified: README.txt|15 5

Revision: e29e52f167c20353100748b52f6b0fa35b1c999d
Author: Jonathan Robie <jonathan@apache.org>
Date: 19/11/2010 05:10:42
Message:
Removed tabs and typos. #MsgLength=25


----
Modified: README.txt|9 9

Revision: 8c8b624e29550b3418b31ce360ea1154ab9a46d6
Author: Charles E. Rolke <chug@apache.org>
Date: 19/11/2010 05:41:34
Message:
QPID-2953 Qpid Cpp Messaging .NET Binding does not include unit tests. #MsgLength=222


----
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.address.cs|157 0
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.connection.cs|100 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.cs|45 196
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj|47 12
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.duration.cs|99 0
Added: bindings/qpid/dotnet/test/messaging.test/messaging.test.message.cs|294 0

Revision: 08b2b2bb2f9f55050c7fc27391366a3a109625b4
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/11/2010 22:26:01
Message:
Bump the store-startup timeout from 10 to 20 seconds; creating a SQL db often causes a timeout failure running a few seconds long. #MsgLength=131


----
Modified: src/tests/run_store_tests.ps1|1 1

Revision: 4aae4144565513717da5a1e938afd4efb4e447e1
Author: Jonathan Robie <jonathan@apache.org>
Date: 20/11/2010 00:36:44
Message:
Added instructions for Messaging API examples. #MsgLength=48


----
Modified: examples/README.txt|72 0

Revision: 08e635d1d4c434b2c5c497737c4f0977977ac07a
Author: Jonathan Robie <jonathan@apache.org>
Date: 20/11/2010 00:43:14
Message:
Changed the name of the declared exchange from 'xml' to 'xml-exchange'. #MsgLength=210


----
Modified: examples/messaging/hello_xml.cpp|3 3

Revision: 2abb7f0cd10b9507f4d7c8ca32037f91c613d0c0
Author: Jonathan Robie <jonathan@apache.org>
Date: 20/11/2010 06:24:08
Message:
Added pointers to current web site. Some editorial changes. #MsgLength=61


----
Modified: README.txt|9 4

Revision: 157f29d9a837543a266d9f095e2d72f333641571
Author: Jonathan Robie <jonathan@apache.org>
Date: 22/11/2010 23:00:09
Message:
Pointer to qpid/cpp/examples/README.txt. #MsgLength=42


----
Modified: README.txt|2 0

Revision: 2e1bd6ab4bdf51fc4cb8c795455af7816e6b0a43
Author: Alan Conway <aconway@apache.org>
Date: 23/11/2010 00:15:06
Message:
QPID-2956: cluster broker exits with "error deliveryRecord no update message." #MsgLength=314


----
Modified: src/qpid/cluster/ExpiryPolicy.cpp|11 6
Modified: src/qpid/cluster/UpdateClient.cpp|3 3
Modified: src/tests/cluster_tests.py|21 2

Revision: 0208a2f4495e5648450440b8334ae222cfabe41d
Author: Robert Gemmell <robbie@apache.org>
Date: 23/11/2010 04:47:49
Message:
Revised release notes for 0.6 #MsgLength=72


----
Modified: RELEASE_NOTES|3 13

Revision: 2d8f03fca7a20a9da1c66bb3d8e236bef289c6ca
Author: Robert Gemmell <robbie@apache.org>
Date: 23/11/2010 04:48:06
Message:
Update versions/names in the release note files #MsgLength=49


----
Modified: RELEASE_NOTES|2 2

Revision: 4dd6f6b7cbac215df452018628cbe9cddcc88d85
Author: Charles E. Rolke <chug@apache.org>
Date: 24/11/2010 00:17:00
Message:
QPID-2939 Qpid .NET Messaging Binding has stray references and using statements. #MsgLength=156


----
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|0 8
Modified: bindings/qpid/dotnet/src/sessionreceiver/sessionreceiver.cs|0 2

Revision: 2c7c5129781e0c9d1d7113ca3d944c5f9def6dc6
Author: Ted Ross <tross@apache.org>
Date: 24/11/2010 01:56:35
Message:
QPID-2957 - Management methods on the broker don't work on newly created objects A test and a fix are included. #MsgLength=113


----
Modified: src/qpid/management/ManagementAgent.cpp|4 0

Revision: 298219767e930893bb63f5a57b059a129efdbb4d
Author: Alan Conway <aconway@apache.org>
Date: 24/11/2010 04:55:21
Message:
Revert test change causing failures. #MsgLength=93


----
Modified: src/tests/cluster_tests.py|2 2

Revision: 6400071c6924f099cfb70d484f08c6f04d603c5c
Author: Charles E. Rolke <chug@apache.org>
Date: 24/11/2010 05:46:26
Message:
QPID-2958 Qpid Cpp Messaging .NET Binding library should use Framework v2.0 and not v3.5 #MsgLength=89


----
Modified: bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj|1 4

Revision: a3c14a6f418c33cefd4aa857d67b79c945b30d65
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/11/2010 23:39:02
Message:
Increase the broker start timeout to 90 seconds; sometimes the SQL db create takes a minute or more. #MsgLength=101


----
Modified: src/tests/run_store_tests.ps1|1 1

Revision: 33551bcf888a6b02b63715b57f7351453bd1a7f2
Author: Jonathan Robie <jonathan@apache.org>
Date: 27/11/2010 01:42:53
Message:
Binds integer, floating point, or string-typed headers using appropriate datatypes. #MsgLength=85


----
Modified: src/qpid/xml/XmlExchange.cpp|15 4
Modified: src/tests/XmlClientSessionTest.cpp|72 2

Revision: 916729ee53df919bd7520c72fd762f86e577b51e
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/12/2010 02:39:48
Message:
    This patch was posted in JIRA QPID-2949. It provides a way to tell SaslFactory that console interaction is NOT ok. i.e. if the code is running as part of a broker, or a demonized client of some kind. Just tell it to never do interaction, and any patch attempt to interact will be treated as an error. #MsgLength=1681


----
Modified: src/qpid/SaslFactory.cpp|18 5
Modified: src/qpid/SaslFactory.h|1 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/ConnectionHandler.cpp|9 6

Revision: dd993dd92be006ba766d5e2aa329a324af77c3ca
Author: Charles E. Rolke <chug@apache.org>
Date: 01/12/2010 05:24:44
Message:
Ensure spout example waits for all messages to be sent before detaching session #MsgLength=108


----
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.cs|1 0

Revision: da549f8572360c7c5f53a14cb8fce584e099c5d9
Author: Michael Goulish <mgoulish@apache.org>
Date: 02/12/2010 00:16:07
Message:
Added new arg to Saslfactory::create #MsgLength=38


----
Modified: src/qpid/client/windows/SaslFactory.cpp|1 1

Revision: 496684590c5ac5b84bab1e72046adc5b375fbaf3
Author: Charles E. Rolke <chug@apache.org>
Date: 02/12/2010 03:54:13
Message:
Bring QPID .NET Binding examples more in line with cpp examples. 1. Return 0/1 from main to indicate success/failure, where possible. 2. Call sender's session.Sync() after transmitting messages and not waiting for responses. 3. Add third arg connectionOptions as used in cpp examples. #MsgLength=285


----
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.cs|3 1
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.cs|4 1
Modified: bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.cs|7 2
Modified: bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.cs|3 1
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.cs|3 1
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.cs|8 3
Modified: bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.cs|4 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|10 5
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.cs|21 10
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs|6 1
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.cs|12 2
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vb|7 4

Revision: 79d9cdca5db75b4566fed3f60e3e1bebae4e0b9e
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/12/2010 04:28:35
Message:
Add a unit_test fixture for the Brokers internal management agent. #MsgLength=67


----
Modified: src/tests/BrokerFixture.h|2 2
Added: src/tests/BrokerMgmtAgent.cpp|319 0
Added: src/tests/BrokerMgmtAgent.xml|38 0
Modified: src/tests/Makefile.am|2 0
Modified: src/tests/MessagingFixture.h|2 2
Added: src/tests/brokermgmt.mk|45 0
Modified: src/tests/testagent.mk|0 2

Revision: ea1c7c72ee11730982cfd60a10434ddf8e7b938c
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2010 05:32:43
Message:
Enable cluster-safe assertions on transition to CATCHUP #MsgLength=279


----
Modified: src/qpid/cluster/Cluster.cpp|4 2
Modified: src/tests/cluster_tests.py|2 2

Revision: 018b201e65532dbb4b245358349f23cfb0895ba2
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2010 05:32:52
Message:
Add missing call to Message::setTimestamp in ManagementAgent::sendBufferLH. #MsgLength=250


----
Modified: src/qpid/management/ManagementAgent.cpp|3 2

Revision: ec38f357d9809c25b8e0983733bf2a162f4163b4
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2010 05:33:12
Message:
Modified cluster_tests causes broker shut down with invalid-argument error. #MsgLength=422


----
Modified: src/cluster.mk|3 1
Modified: src/qpid/cluster/Cluster.cpp|6 1
Modified: src/qpid/cluster/Connection.cpp|4 20
Modified: src/qpid/cluster/Connection.h|0 2
Modified: src/qpid/cluster/UpdateClient.cpp|34 6
Added: src/qpid/cluster/UpdateDataExchange.cpp|96 0
Added: src/qpid/cluster/UpdateDataExchange.h|81 0
Modified: src/qpid/management/ManagementAgent.cpp|306 9
Modified: src/qpid/management/ManagementAgent.h|41 0
Modified: src/tests/cluster_tests.py|5 2
Modified: xml/cluster.xml|0 10

Revision: 63f7e990fe788588d8d84461777e544f4bc56357
Author: Michael Goulish <mgoulish@apache.org>
Date: 02/12/2010 14:16:46
Message:
Added new arg to code thaat gets compiled when HAVE_SASL is false. #MsgLength=68


----
Modified: src/qpid/SaslFactory.cpp|1 1

Revision: 4124da8ef42a9bb9b17177731b07ceed14f8965d
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/12/2010 21:57:43
Message:
enable broker mgmt agent test, fix distcheck errors. #MsgLength=53


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/brokermgmt.mk|2 0

Revision: bfc2be3778af5c2e64bb59abb598ea66dc833f1d
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/12/2010 22:19:02
Message:
revert nodist makefile change to fix bootstrap error #MsgLength=53


----
Modified: src/tests/brokermgmt.mk|1 1

Revision: 526c60725c7148d73bbe624d102819078ce0eef3
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/12/2010 00:06:34
Message:
fix distcheck build problem with broker mgmt unit test #MsgLength=55


----
Modified: src/tests/brokermgmt.mk|3 6

Revision: 05e2e961e69e878e41ac0ef7e5a63e27c803fc49
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/12/2010 05:03:42
Message:
bugfix in deleted obj import/export api #MsgLength=40


----
Modified: src/qpid/management/ManagementAgent.cpp|8 2

Revision: c686187faa613060154c0e4d63087a0720a974c4
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/12/2010 21:45:55
Message:
add unit tests for cluster replication of deleted broker mgmt objects #MsgLength=70


----
Modified: src/tests/BrokerMgmtAgent.cpp|362 9

Revision: d13dae3d2ffe776bb213c79ff231354ee7d12dba
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/12/2010 22:27:37
Message:
fix signed vs unsigned compare errors #MsgLength=38


----
Modified: src/tests/BrokerMgmtAgent.cpp|4 4

Revision: 3fca7e089b08e077f4653a77bae69ec6f672e408
Author: Robert Gemmell <robbie@apache.org>
Date: 06/12/2010 06:13:02
Message:
QPID-2963: revert changes to Doxygen header from r957222, and also remove duplicated html,head,title,body tags #MsgLength=111


----
Modified: docs/api/header.html|20 9

Revision: 5e8e033713b67f4f3502c9e0c348e38be3677db6
Author: Alan Conway <aconway@apache.org>
Date: 07/12/2010 00:42:35
Message:
Add missing files qpid/cluster/UpdateDataExchange.h,.cxx to cluster.cmake. #MsgLength=75


----
Modified: src/cluster.cmake|2 0

Revision: 5dafab480d41648122001a8d2c66608ead41e2c0
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/12/2010 22:56:22
Message:
Comment explaining the nodict flag. #MsgLength=37


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|8 0

Revision: 05dc89956e344af729cf608a4469df0372c2b096
Author: Alan Conway <aconway@apache.org>
Date: 09/12/2010 03:21:05
Message:
Defer update of managaement agent to end of update process. #MsgLength=459


----
Modified: src/qpid/cluster/Cluster.cpp|10 5
Modified: src/qpid/cluster/Cluster.h|2 0
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/UpdateDataExchange.cpp|16 33
Modified: src/qpid/cluster/UpdateDataExchange.h|6 5
Modified: src/qpid/management/ManagementAgent.cpp|15 17

Revision: 58f8f0286bae55bedd2e9a8b9cc04aab197ce8b6
Author: Gordon Sim <gsim@apache.org>
Date: 10/12/2010 17:17:18
Message:
QPID-2966: Add QMF method to dynamically set the log level. #MsgLength=60


----
Modified: include/qpid/log/Logger.h|3 0
Modified: src/qpid/broker/Broker.cpp|43 2
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/log/Logger.cpp|5 0
Modified: src/qpid/sys/BlockingQueue.h|5 1
Modified: src/qpid/sys/Waitable.h|3 0
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|3 1
Added: src/tests/dynamic_log_level_test|56 0
Added: src/tests/qpid-ctrl|117 0
Modified: src/tests/ssl_test|1 1

Revision: 51b7d6f9f9e8db13382010c111283e5b998a76e5
Author: Gordon Sim <gsim@apache.org>
Date: 10/12/2010 19:44:27
Message:
QPID-2966: Disable test when python lib is not available #MsgLength=57


----
Modified: src/tests/dynamic_log_level_test|1 0

Revision: c9a3ea8bb51d5fa6f5b4bf9da12dae5145ce7ea8
Author: Jonathan Robie <jonathan@apache.org>
Date: 11/12/2010 02:23:06
Message:
Modified qpid-cluster to support the way it is called from cluster_tests.StoreTests.test_persistent_partial_failure. #MsgLength=355


----
Modified: src/tests/cluster_tests.py|1 1

Revision: eaeffbe75a455ee237f045ed5a2f15851415ec36
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2010 01:49:50
Message:
ManagementAgent.cpp: consistent logging of message lengths. #MsgLength=60


----
Modified: src/qpid/management/ManagementAgent.cpp|5 5

Revision: ff2eff4c5228011d86ab6a489dff96b937c4bc4c
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2010 05:30:55
Message:
Add end-to-end flow control to qpid-send, qpid-receive and qpid-cpp-benchmark. #MsgLength=79


----
Modified: src/tests/qpid-cpp-benchmark|11 6
Modified: src/tests/qpid-receive.cpp|13 1
Modified: src/tests/qpid-send.cpp|25 2

Revision: eb0ba01a077905083de55c6ab5354d68c6a5bbfc
Author: Ted Ross <tross@apache.org>
Date: 15/12/2010 12:53:10
Message:
Added an option to the qmf-gen tool to generate v2-style schema declarations. #MsgLength=79


----
Modified: managementgen/Makefile.am|2 0
Modified: managementgen/qmf-gen|16 8
Modified: managementgen/qmfgen/generate.py|19 0
Modified: managementgen/qmfgen/schema.py|139 0
Added: managementgen/qmfgen/templates/V2Package.cpp|37 0
Added: managementgen/qmfgen/templates/V2Package.h|44 0

Revision: 6cc794979d187e9d47b00f5bbcf093b5dfb00cc2
Author: Alan Conway <aconway@apache.org>
Date: 15/12/2010 22:40:01
Message:
Bug 662765 - Management broker ID should be the same for members of a cluster. #MsgLength=196


----
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|11 3
Modified: src/qpid/cluster/Connection.h|7 1
Modified: src/qpid/cluster/UpdateClient.cpp|5 15
Modified: src/qpid/management/ManagementAgent.cpp|2 2
Modified: src/qpid/management/ManagementAgent.h|4 3
Modified: xml/cluster.xml|4 0

Revision: 1a4930b7b072b728efa3d4b2de02025745d10ed7
Author: Alan Conway <aconway@apache.org>
Date: 16/12/2010 02:10:12
Message:
Fix flow control for qpid-cpp-benchmark with multiple senders. #MsgLength=134


----
Modified: src/tests/qpid-cpp-benchmark|10 7
Modified: src/tests/qpid-receive.cpp|6 7
Modified: src/tests/qpid-send.cpp|5 3

Revision: 497b26ea22d06314e0b5aff608fd52eb371906ec
Author: Alan Conway <aconway@apache.org>
Date: 16/12/2010 04:32:55
Message:
Temporarily raise the logging level for cluster_tests.LongTests.test_management and test_management_qmf to debug a sporadic failure. #MsgLength=133


----
Modified: src/tests/cluster_tests.py|2 0

Revision: b21d364a786a1fa01f3afc23012982c28421a146
Author: Charles E. Rolke <chug@apache.org>
Date: 16/12/2010 04:43:42
Message:
QPID-2967 Windows broker fails to destroy connections if client exits abruptly #MsgLength=238


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|4 3

Revision: b122bb755123de0f8b94074135ac30a78d2a14a1
Author: Ted Ross <tross@apache.org>
Date: 16/12/2010 08:18:26
Message:
Added missing initializer in the QueryImpl constructor. #MsgLength=57


----
Modified: src/qmf/Query.cpp|1 1

Revision: e038861913ade5da66fe431af075fce8b5bedc57
Author: Ted Ross <tross@apache.org>
Date: 16/12/2010 08:22:19
Message:
Updates to the V2-style qmf-generation templates: 1) Added include directives in the .h template for convenience 2) Moved the schema-registration out of the class constructor and into a method. #MsgLength=199


----
Modified: managementgen/qmfgen/templates/V2Package.cpp|1 1
Modified: managementgen/qmfgen/templates/V2Package.h|4 2

Revision: 0de35cf92187c2ff49846329cd5c32d0a8d0b4a2
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/12/2010 05:10:38
Message:
In broker::ConectionHandler, use the security settings, if any, provided by the transport layer when starting SASL. This allows the SASL mechanism EXTERNAL to be satisfied with SSL transport security. The test, sasl_fed_ex, uses this SASL/SSL security on a federated link between two brokers. #MsgLength=297


----
Modified: src/qpid/broker/ConnectionHandler.cpp|8 10
Modified: src/qpid/broker/ConnectionHandler.h|0 1
Modified: src/tests/sasl.mk|1 1
Added: src/tests/sasl_fed_ex|250 0

Revision: 8a5458b42731af6e9af49d61af3b8a360583afd6
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/12/2010 23:29:38
Message:
Include the new sasl_fed_ex test in EXTRA_DIST. #MsgLength=49


----
Modified: src/tests/sasl.mk|1 1

Revision: 5e03f84fe0a9e9650fee4d0d1c8c59300ec2f2c4
Author: Jonathan Robie <jonathan@apache.org>
Date: 17/12/2010 23:29:41
Message:
Made qpid-xxx management scripts callable as python functions. #MsgLength=621


----
Modified: src/tests/cli_tests.py|124 18

Revision: 204a58463c6e2fb0cc8940ba25554ad0af05e056
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/12/2010 05:09:20
Message:
Change tmp directories from /tmp/sasl_fed/RANDOM to /tmp/sasl_fed_RANDOM. Otherwise, if user A runs these tests first, user B can't come along and run them later -- if he doesn't have write permission to the /tmp/sasl_fed directory which user A already created. #MsgLength=264


----
Modified: src/tests/sasl_fed|1 1
Modified: src/tests/sasl_fed_ex|2 2

Revision: eda49fff4990e5fe96d5f5b1dedcb4c2e65ba02b
Author: Jonathan Robie <jonathan@apache.org>
Date: 18/12/2010 09:23:47
Message:
Fixed bug that led to client doxygen using broker doxygen main page. #MsgLength=70


----
Modified: docs/api/user.doxygen.in|1 1

Revision: ac65078688c14144bbe7f86844c8f2c1d617f15e
Author: Jonathan Robie <jonathan@apache.org>
Date: 22/12/2010 07:46:42
Message:
Allow command line utilities to require a given SASL mechanism. #MsgLength=220


----
Modified: src/tests/cli_tests.py|49 0

Revision: fb7dbafca271db15ada84cb8f9e36fc565565439
Author: Ted Ross <tross@apache.org>
Date: 22/12/2010 21:52:20
Message:
Two fixes in the Ruby QMF2 binding: 1) Fixed typos in the close methods for Console and Agent sessions 2) Fixed the makefile to properly distribute the qmf2.rb wrapper #MsgLength=173


----
Modified: bindings/qmf2/ruby/Makefile.am|1 0
Modified: bindings/qmf2/ruby/qmf2.rb|2 2

Revision: 55f3ce5a2a1d0daf05daed4b03d0f521ec4df0d6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:10:24
Message:
Allow RdmaClient to be interrupted #MsgLength=35


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|6 2

Revision: f23db73d45204d7e700e920d49c70f6d58fce739
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:10:31
Message:
Added test into RdmaClient to be sure the messages we receive are the same as the message we sent. Use a pseudo random non-repetetive stream as the message to be sure there is no reordering or repeating of messages. #MsgLength=216


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|40 8

Revision: ca181b7fd66d4ba0ada76aa54454ec11489451e8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:10:39
Message:
Add code to switch on/off byteswapping of RDMA ConnectionParams depending on detected protocol version. To give some backwards compatibility and fix a previous error which sent connection params in host order. #MsgLength=210


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|53 11
Modified: src/qpid/sys/rdma/RdmaIO.h|7 4

Revision: d0e40699205fc7d06dcdc0ec2a8a938e3f041f6e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:10:46
Message:
Add in some useful rdma warnings when we reject a connection #MsgLength=61


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|10 1

Revision: e998db2d2f03e38c2839dd7acced5c4bdaa79bec
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:10:54
Message:
Plumb rdma protocol version into Rdma::AsynchIO #MsgLength=48


----
Modified: src/qpid/client/RdmaConnector.cpp|1 0
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 0
Modified: src/qpid/sys/rdma/RdmaClient.cpp|1 0
Modified: src/qpid/sys/rdma/RdmaIO.cpp|2 0
Modified: src/qpid/sys/rdma/RdmaIO.h|2 0
Modified: src/qpid/sys/rdma/RdmaServer.cpp|1 0

Revision: 79119e5e60e1e151285d6b0dc13ad1ec6baf432e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:02
Message:
Reject attempts to connect with version of rdma protocol we don't understand #MsgLength=77


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|15 1
Modified: src/qpid/sys/rdma/RdmaIO.h|2 0

Revision: 8b571c5d2dc6424a68431ccf47de461e0a423542
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:09
Message:
Factored rdma sending/receiving code out to make manipulating credit isolated #MsgLength=78


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|38 23
Modified: src/qpid/sys/rdma/RdmaIO.h|4 1

Revision: 0644535a7057baf6a26c91e5456409e0bb0d338e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:17
Message:
Allow for the case where we get an rdma reject because there is no one listening on the resolved address #MsgLength=105


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|14 4

Revision: b1a6ea221ebcd2018d0cb42c6f621560f3427390
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:24
Message:
Fix error handling for ibv_post_send() & ibv_port_recv() #MsgLength=57


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|3 3

Revision: 79728cf7a68265325bb012122bca32d4060ecefa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:31
Message:
Reduce rdma scatter gathers allocated per queue pair to 1 as iWarp only supports 1 sge. #MsgLength=88


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|5 2

Revision: 1a660cc61fd6f916594dc835f1ff3bdc714952f7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:39
Message:
Implementation for v1 rdma protocol - append sent credit and flags word after sent frame (instead of sending it in immediate data). #MsgLength=227


----
Modified: src/qpid/sys/RdmaIOPlugin.cpp|3 0
Modified: src/qpid/sys/rdma/RdmaIO.cpp|70 23
Modified: src/qpid/sys/rdma/RdmaIO.h|3 3
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|1 0

Revision: 0bf606a257844d11d618d372d31ee077fed5a03e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:48
Message:
Changes due to review comments from Doug Ledford: - Removed lock unsafe operation Rdma::QueuePair::bufferAvailable() and replaced the unavailable case with failing getBuffer(). - Improved asserts in the Rdma::QueuePair::getBuffer() code. #MsgLength=240


----
Modified: src/qpid/client/RdmaConnector.cpp|8 6
Modified: src/qpid/sys/RdmaIOPlugin.cpp|11 6
Modified: src/qpid/sys/rdma/RdmaClient.cpp|2 1
Modified: src/qpid/sys/rdma/RdmaIO.h|0 5
Modified: src/qpid/sys/rdma/RdmaServer.cpp|8 4
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|5 6
Modified: src/qpid/sys/rdma/rdma_wrap.h|0 3

Revision: 542b5dbd67d5761da7ec3a7034affcd0386746e4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/12/2010 01:11:57
Message:
Rename Rdma send buffer operations. #MsgLength=36


----
Modified: src/qpid/client/RdmaConnector.cpp|2 2
Modified: src/qpid/sys/RdmaIOPlugin.cpp|2 2
Modified: src/qpid/sys/rdma/RdmaClient.cpp|2 2
Modified: src/qpid/sys/rdma/RdmaIO.cpp|5 5
Modified: src/qpid/sys/rdma/RdmaIO.h|6 6
Modified: src/qpid/sys/rdma/RdmaServer.cpp|2 2
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|2 2
Modified: src/qpid/sys/rdma/rdma_wrap.h|2 2

Revision: 53e24d38a07589cf99150fc817ec74335753345f
Author: Charles E. Rolke <chug@apache.org>
Date: 04/01/2011 00:59:39
Message:
.NET Binding for Qpid Messaging: Add the boolean variation of Get() and Fetch(). Modify drain example to use the boolean Fetch. #MsgLength=128


----
Modified: bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.cs|2 2
Modified: bindings/qpid/dotnet/src/Receiver.cpp|73 36
Modified: bindings/qpid/dotnet/src/Receiver.h|4 6

Revision: 6b5e8ddc2c89c190e6b6a895b2716366e0b22acc
Author: Charles E. Rolke <chug@apache.org>
Date: 04/01/2011 02:56:06
Message:
QPID-2989 .NET Cpp Messaging Binding - Example program file is misnamed Spell receiver correctly in the file name, and change two project references to the correct name. #MsgLength=170


----
Renamed: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.cs [from bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.recevier.cs]|0 0
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj|1 1
Modified: bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj|1 1

Revision: 1ccc65c2da94fa15c7965ee0b59c4ebaac34a612
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/01/2011 03:21:38
Message:
config.null line wasn't needed, and was messing up vpath builds. #MsgLength=66


----
Modified: src/tests/sasl_fed_ex|1 1

Revision: fb72d5d3475852fae5c46e70e910fd5c11d489a6
Author: Ted Ross <tross@apache.org>
Date: 07/01/2011 05:46:55
Message:
Suppress spurious warnings from Swig. #MsgLength=39


----
Modified: bindings/qmf2/python/Makefile.am|2 1
Modified: bindings/qmf2/ruby/Makefile.am|2 1

Revision: 208c62be8f71bbbd2c7b08f7e9f5b8b4fa735c62
Author: Ted Ross <tross@apache.org>
Date: 07/01/2011 07:04:34
Message:
Changes to QMFv2 formats to make the agents and consoles consistent: 1) Events in _data_indication messages are carried as lists of events (consistent with object data) 2) Built-in attributes for agents (in _heartbeaet_indication) all start with '_' to differentiate them from user-defined attributes. #MsgLength=312


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|8 6
Modified: src/qpid/management/ManagementAgent.cpp|10 8

Revision: 8c5c21dc2e320b168ba3a3a8279d6313c700ccde
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2011 00:32:34
Message:
QPID-2982: Improved cluster/management logging and automated test for log consistency. #MsgLength=318


----
Modified: src/qpid/cluster/Cluster.cpp|8 8
Modified: src/qpid/cluster/UpdateClient.cpp|25 21
Modified: src/qpid/cluster/UpdateClient.h|4 1
Modified: src/qpid/cluster/UpdateDataExchange.cpp|11 5
Modified: src/qpid/cluster/UpdateDataExchange.h|6 2
Modified: src/qpid/management/ManagementAgent.cpp|110 74
Modified: src/qpid/management/ManagementObject.cpp|1 0
Added: src/tests/cluster_test_logs.py|105 0
Modified: src/tests/cluster_tests.py|14 7

Revision: 0b2869185ee791042818e4a4c93d336403e6b7af
Author: Ted Ross <tross@apache.org>
Date: 08/01/2011 01:55:07
Message:
Cleaned up the makefiles for the Swig-generated bindings. 1) Suppression of some warnings 2) Proper installation of artifacts in "make install" #MsgLength=149


----
Modified: bindings/qmf/python/Makefile.am|2 1
Modified: bindings/qmf/ruby/Makefile.am|2 1
Modified: bindings/qmf2/python/Makefile.am|2 0
Modified: bindings/qpid/python/Makefile.am|4 3
Modified: bindings/qpid/ruby/Makefile.am|2 1

Revision: a10cbfdec7f17ab0fdcc2b6a2399f43df57f76ac
Author: Ted Ross <tross@apache.org>
Date: 10/01/2011 22:06:16
Message:
Updates to the C++ implementation of QMFv2: 1) Consolidated string constants for the protocol into a definition file. 2) Added hooks for subscription handling. 3) Added checks to validate properties and arguments against the schema (if there is a schema). #MsgLength=263


----
Modified: include/qmf/Agent.h|7 0
Modified: include/qmf/AgentSession.h|7 2
Modified: include/qmf/ConsoleEvent.h|4 2
Modified: include/qmf/ConsoleSession.h|11 0
Modified: include/qmf/Data.h|2 2
Added: include/qmf/Subscription.h|82 0
Modified: src/qmf.mk|9 2
Modified: src/qmf/Agent.cpp|7 6
Modified: src/qmf/AgentSession.cpp|119 71
Added: src/qmf/AgentSubscription.cpp|51 0
Added: src/qmf/AgentSubscription.h|52 0
Modified: src/qmf/ConsoleSession.cpp|45 21
Modified: src/qmf/ConsoleSessionImpl.h|2 0
Modified: src/qmf/Data.cpp|17 2
Modified: src/qmf/DataImpl.h|17 5
Modified: src/qmf/Schema.cpp|100 0
Modified: src/qmf/SchemaImpl.h|4 0
Added: src/qmf/Subscription.cpp|88 0
Added: src/qmf/SubscriptionImpl.h|57 0
Added: src/qmf/constants.cpp|77 0
Added: src/qmf/constants.h|83 0

Revision: 6b9dbe141135d83663a4341f1d312585aa7dd47d
Author: Ted Ross <tross@apache.org>
Date: 10/01/2011 22:08:50
Message:
Updated Python and Ruby wrappers to reflect API changes. Updates to the agent examples. #MsgLength=89


----
Modified: bindings/qmf2/examples/cpp/agent.cpp|3 3
Modified: bindings/qmf2/examples/python/agent.py|1 2
Modified: bindings/qmf2/python/qmf2.py|7 3
Modified: bindings/qmf2/qmf2.i|2 0
Modified: bindings/qmf2/ruby/qmf2.rb|1 3

Revision: 46d05d0237b9083fa622c82f2402e62164c7c9ce
Author: Ted Ross <tross@apache.org>
Date: 11/01/2011 02:30:39
Message:
Fixed a bug in the type-compatibility checker. #MsgLength=48


----
Modified: src/qmf/Schema.cpp|1 1

Revision: cead78d5dfecc876d417ddf7924fc53b3ecf5a60
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2011 04:13:37
Message:
Add --add-missing to automake call in bootstrap. #MsgLength=108


----
Modified: bootstrap|1 1

Revision: ea980fcb7c61311d2b7e4b56009c3824a935577f
Author: Charles E. Rolke <chug@apache.org>
Date: 11/01/2011 04:43:56
Message:
.NET Binding for Qpid Messaging, in every .NET object that keeps a reference to unmanaged memory: * Function Cleanup() is deleted and cleanup is moved to Finalizer. * Destructor calls Finalizer. * Finalizer takes a lock before deleting unmanaged memory. #MsgLength=256


----
Modified: bindings/qpid/dotnet/src/Address.cpp|2 8
Modified: bindings/qpid/dotnet/src/Address.h|0 3
Modified: bindings/qpid/dotnet/src/Connection.cpp|2 8
Modified: bindings/qpid/dotnet/src/Connection.h|0 3
Modified: bindings/qpid/dotnet/src/FailoverUpdates.cpp|2 8
Modified: bindings/qpid/dotnet/src/FailoverUpdates.h|0 3
Modified: bindings/qpid/dotnet/src/Message.cpp|8 13
Modified: bindings/qpid/dotnet/src/Message.h|0 3
Modified: bindings/qpid/dotnet/src/Receiver.cpp|8 13
Modified: bindings/qpid/dotnet/src/Receiver.h|0 3
Modified: bindings/qpid/dotnet/src/Sender.cpp|9 13
Modified: bindings/qpid/dotnet/src/Sender.h|0 3
Modified: bindings/qpid/dotnet/src/Session.cpp|9 13
Modified: bindings/qpid/dotnet/src/Session.h|0 3

Revision: 7c1ff6e2d5b6c0b106f3949fa649c7393536a011
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2011 19:02:05
Message:
QPID-2991: added message counts to connection stats; fixed xxxToClient stats #MsgLength=77


----
Modified: src/qpid/broker/Connection.cpp|43 4
Modified: src/qpid/broker/Connection.h|24 2

Revision: 8cdd7208ba11b6871be5df849c8d6a79043e6085
Author: Alan Conway <aconway@apache.org>
Date: 11/01/2011 23:14:49
Message:
Added cluster_test_logs.py to EXTRA_DIST for use by store tests. #MsgLength=65


----
Modified: src/tests/cluster.mk|1 0

Revision: 766f0bfcc4185f140c59928311c778125574ff37
Author: Ted Ross <tross@apache.org>
Date: 12/01/2011 00:02:23
Message:
QMFv2 API change: 1) Added public constructor for DataAddr(Variant::Map) 2) Fixed Python and Ruby typemaps to support Variant::Map& and Variant::List& with const 3) Added support for building Queries based on object-id maps in both Python and Ruby wrappers #MsgLength=264


----
Modified: bindings/qmf2/python/qmf2.py|9 5
Modified: bindings/qmf2/ruby/qmf2.rb|10 4
Modified: bindings/swig_python_typemaps.i|19 5
Modified: bindings/swig_ruby_typemaps.i|18 0
Modified: include/qmf/DataAddr.h|1 0
Modified: src/qmf/DataAddr.cpp|1 0
Modified: src/qmf/DataAddrImpl.h|1 1

Revision: 591909c115bffeb70829b4b8071b58a0cad3f9ba
Author: Michael Goulish <mgoulish@apache.org>
Date: 12/01/2011 01:29:22
Message:
Remove unnecessary sleeps. #MsgLength=28


----
Modified: src/tests/sasl_fed_ex|1 6

Revision: 5becfa2e07f1c7328150e8b5863c112f71fad787
Author: Ted Ross <tross@apache.org>
Date: 12/01/2011 01:58:04
Message:
Exposed asMap for DataAddr objects in Pyton and Ruby wrappers. Enhanced the examples to show the passing of a DataAddr in an argument. #MsgLength=136


----
Modified: bindings/qmf2/examples/cpp/agent.cpp|22 0
Modified: bindings/qmf2/examples/python/agent.py|20 0
Modified: bindings/qmf2/python/qmf2.py|5 0
Modified: bindings/qmf2/ruby/qmf2.rb|1 0
Modified: bindings/swig_python_typemaps.i|23 1
Modified: bindings/swig_ruby_typemaps.i|18 1

Revision: 2aa95eaaed3198a1c2c4567bf87fb895331d85a9
Author: Ted Ross <tross@apache.org>
Date: 12/01/2011 03:24:14
Message:
Added argument/type check for output arguments on methods. #MsgLength=60


----
Modified: src/qmf/AgentEvent.cpp|3 0
Modified: src/qmf/AgentEventImpl.h|3 0
Modified: src/qmf/AgentSession.cpp|7 4

Revision: 524f025c18cc0b7df684c4f00d7e3f9f43ba4f90
Author: Ted Ross <tross@apache.org>
Date: 12/01/2011 03:40:25
Message:
Small code cleanup - Replaced object declaration with a const reference for efficiency. #MsgLength=89


----
Modified: src/qmf/AgentSession.cpp|1 1

Revision: a94fc193cebd199f5c1bb35eea3ef440a834dcab
Author: Alan Conway <aconway@apache.org>
Date: 13/01/2011 03:41:39
Message:
qpid-test-cluster script: added -d option to delete data-directory. #MsgLength=119


----
Modified: src/tests/qpid-test-cluster|31 15

Revision: bcbb5eb0cd603f5021bcd43c8709c9e634a25197
Author: Alan Conway <aconway@apache.org>
Date: 14/01/2011 01:04:10
Message:
QPID-2982: Fix discrepancy in management object and deleted object counts. #MsgLength=471


----
Modified: src/qpid/cluster/UpdateClient.cpp|1 2
Modified: src/qpid/management/ManagementAgent.cpp|94 131
Modified: src/qpid/management/ManagementAgent.h|4 1
Modified: src/tests/cluster_test_logs.py|10 7
Modified: src/tests/cluster_tests.py|3 3

Revision: c7a2e61ed1788a03ba99b0aa0a55d6ab4a4bead2
Author: Ted Ross <tross@apache.org>
Date: 14/01/2011 03:10:07
Message:
In qmfengine, if a method call or method response requires a buffer larger than the static buffer used for communication, allocate a large-enough buffer temporarily from the heap. #MsgLength=234


----
Modified: bindings/qmf/tests/ruby_console_test.rb|37 0
Modified: src/qmf/engine/Agent.cpp|29 3
Modified: src/qmf/engine/BrokerProxyImpl.cpp|50 10
Modified: src/qmf/engine/BrokerProxyImpl.h|1 0
Modified: src/qmf/engine/ValueImpl.cpp|45 0
Modified: src/qmf/engine/ValueImpl.h|1 0

Revision: 64b1f5ddf54ae738c1e5144713992416946fa448
Author: Ted Ross <tross@apache.org>
Date: 14/01/2011 03:12:00
Message:
Originally, when the broker agent authorized a method call, if the message was too large to fir in the working buffer, the method was rejected.  This change rejects the method only if there is an ACL configured. #MsgLength=213


----
Modified: src/qpid/management/ManagementAgent.cpp|6 1

Revision: 5ba455fb1e07a2600e2c5b8462bf602df90e0507
Author: Jonathan Robie <jonathan@apache.org>
Date: 14/01/2011 04:54:03
Message:
Fixes QPID-2499: Stale federation routes remain after route deletion. #MsgLength=350


----
Modified: src/qpid/broker/DirectExchange.cpp|7 5
Modified: src/qpid/broker/Exchange.h|34 19
Modified: src/qpid/broker/FanOutExchange.cpp|4 4
Modified: src/qpid/broker/HeadersExchange.cpp|6 6
Modified: src/qpid/broker/HeadersExchange.h|2 1
Modified: src/qpid/broker/TopicExchange.cpp|4 4
Modified: src/tests/federation.py|33 40

Revision: 91ffcb9216f8c4f58a237bb13d31d39f99e4f821
Author: Gordon Sim <gsim@apache.org>
Date: 17/01/2011 17:46:50
Message:
QPID-2998: Remove spurious class definitions #MsgLength=45


----
Modified: include/qpid/messaging/Session.h|0 2

Revision: 28eda8f5a8baa5061fa63a70901385f985ce2876
Author: Gordon Sim <gsim@apache.org>
Date: 17/01/2011 18:24:35
Message:
QPID-3001: Add const version of Connection::isOpen() #MsgLength=53


----
Modified: include/qpid/messaging/Connection.h|1 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 1
Modified: src/qpid/messaging/Connection.cpp|1 0
Modified: src/qpid/messaging/ConnectionImpl.h|1 1

Revision: f0402813b2a25bff301299520633e1e4f0bf3b4c
Author: Gordon Sim <gsim@apache.org>
Date: 18/01/2011 06:11:35
Message:
QPID-3006: remove incorrect and unnecessary authorisation check #MsgLength=64


----
Modified: src/qpid/broker/Link.cpp|0 13
Modified: src/qpid/broker/Link.h|0 1

Revision: 9acfbbc283180cf718dcf39bdade26258a3fa2d1
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/01/2011 22:51:31
Message:
QPID-2997: remove oid disambiguation, re-order mgmt object status updates. #MsgLength=75


----
Modified: include/qpid/management/ManagementObject.h|0 1
Modified: src/qpid/management/ManagementAgent.cpp|225 178
Modified: src/qpid/management/ManagementAgent.h|7 3
Modified: src/qpid/management/ManagementObject.cpp|0 4
Modified: src/tests/BrokerMgmtAgent.cpp|133 13

Revision: 91f972b449607cb83a51022b8f5a6624d89bd2e3
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2011 04:43:41
Message:
QPID-2982 Bug 669452 - Creating a route and using management tools can crash cluster members. #MsgLength=323


----
Modified: src/qpid/broker/Bridge.cpp|1 6
Modified: src/qpid/broker/Link.cpp|9 3
Modified: src/qpid/broker/LinkRegistry.cpp|9 0
Modified: src/qpid/broker/LinkRegistry.h|7 0
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|24 3
Modified: src/qpid/cluster/Connection.h|3 1
Modified: src/qpid/cluster/UpdateClient.cpp|29 1
Modified: src/qpid/cluster/UpdateClient.h|6 0
Modified: src/tests/cluster_test_logs.py|2 1
Modified: src/tests/cluster_tests.py|40 0
Modified: xml/cluster.xml|4 0

Revision: 281a7806b2fc28bbffb6a3bb57e9716cd6d0997b
Author: Ted Ross <tross@apache.org>
Date: 19/01/2011 21:57:07
Message:
QPID-2996 - qmf/SchemaMethod.cpp fails to compile on s390 Applied patch from Dan Hork #MsgLength=88


----
Modified: src/qmf/SchemaMethod.cpp|1 1

Revision: ce2a0670aa9810c521ca23b2aa9e9d662da955fc
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2011 01:33:14
Message:
QPID-3007 Disabled cluster log verification tests, causing sporadic failures. #MsgLength=133


----
Modified: src/tests/cluster_test_logs.py|4 0
Modified: src/tests/cluster_tests.py|1 2

Revision: 619a4be4ed32305a47ac39a2acbd3e1f25f31b6e
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2011 22:13:08
Message:
Bug 654872, QPID-3007: Batch management messages by count, not size. #MsgLength=367


----
Added: include/qpid/framing/ResizableBuffer.h|60 0
Modified: src/Makefile.am|1 0
Modified: src/qpid/management/ManagementAgent.cpp|16 12
Modified: src/qpid/management/ManagementAgent.h|3 1
Modified: src/tests/cluster_test_logs.py|4 3
Modified: src/tests/cluster_tests.py|11 2

Revision: ee01cf987bd58e3ab91259cc03466e01e4b0b479
Author: Alan Conway <aconway@apache.org>
Date: 22/01/2011 01:47:43
Message:
Moved ResizableBuffer.h from include to src. Not part of the public API. #MsgLength=73


----
Renamed: src/qpid/framing/ResizableBuffer.h [from include/qpid/framing/ResizableBuffer.h]|1 1

Revision: f65b4492997fc32b0cf7b1d6d6098c95514549dd
Author: Alan Conway <aconway@apache.org>
Date: 22/01/2011 01:47:52
Message:
Move brokertest.py from qpid/python to qpid/cpp. #MsgLength=262


----
Added: src/tests/brokertest.py|699 0
Modified: src/tests/cli_tests.py|1 1
Modified: src/tests/cluster.mk|2 1
Modified: src/tests/cluster_tests.py|1 1
Modified: src/tests/store.py|1 1

Revision: fbea65a189dd7d57dd146cfaa30a89189416742e
Author: Ted Ross <tross@apache.org>
Date: 27/01/2011 04:21:00
Message:
Change order of Py<type>_check calls in typemap. It turns out that PyInt_Check returns 'True' for booleans. The order of the checks is now from most specific to least. #MsgLength=169


----
Modified: bindings/swig_python_typemaps.i|2 2

Revision: e116204c09e88e65cfe567b117a6c47927ee99aa
Author: Ted Ross <tross@apache.org>
Date: 28/01/2011 01:04:40
Message:
QPID-3009 - Perl binding to Qpid messaging Applied patch contributed by Hao Chang Yu #MsgLength=86


----
Modified: bindings/qpid/Makefile.am|4 0
Added: bindings/qpid/examples/perl/README|26 0
Added: bindings/qpid/examples/perl/client.pl|66 0
Added: bindings/qpid/examples/perl/drain.pl|98 0
Added: bindings/qpid/examples/perl/hello_world.pl|56 0
Added: bindings/qpid/examples/perl/hello_xml.pl|76 0
Added: bindings/qpid/examples/perl/map_receiver.pl|47 0
Added: bindings/qpid/examples/perl/map_sender.pl|50 0
Added: bindings/qpid/examples/perl/server.pl|62 0
Added: bindings/qpid/examples/perl/spout.pl|136 0
Added: bindings/qpid/perl/Makefile.am|42 0
Added: bindings/qpid/perl/perl.i|35 0
Added: bindings/swig_perl_typemaps.i|330 0
Modified: configure.ac|12 1

Revision: 5f46065202b9e13b265be040e2dea447ff7b6f5c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 28/01/2011 22:56:01
Message:
Fix for RHBZ656385: "Data store can become corrupt with small store file size and large wcache-page-size". The second issue from comments 13-16 in which the queue remains after the store throws the exception is solved. #MsgLength=219


----
Modified: src/qpid/broker/SessionAdapter.cpp|2 1

Revision: 65b89c805e684dba2b494727bc7f80fd5747e2e3
Author: Ted Ross <tross@apache.org>
Date: 29/01/2011 03:11:54
Message:
QPID-3009 - Fixed configuration problem found by gsim. There's certainly a better way to find the include path for the perl-devel headers but this will prevent builds from being broken. #MsgLength=187


----
Modified: bindings/qpid/perl/Makefile.am|2 2
Modified: configure.ac|2 2

Revision: 2d0ce27e6dac3da2d1a8935bbd0724010de780c6
Author: Gordon Sim <gsim@apache.org>
Date: 01/02/2011 06:17:04
Message:
QPID-3009: Improved configure support for perl bindings based on suggestion by Jose Pedro Oliveira #MsgLength=100


----
Modified: configure.ac|7 5

Revision: 5cb936d243b118b7351fcdd3d2b7ce8134a1020e
Author: Ted Ross <tross@apache.org>
Date: 01/02/2011 09:41:07
Message:
QPID-3009 - Minor cleanup The check for "h2xs" (which was there just to detect perl-devel) is no longer needed and was removed. #MsgLength=129


----
Modified: configure.ac|1 2

Revision: 77d3cfc4fcff0ce195be7f85e7d1a634d6a97620
Author: Gordon Sim <gsim@apache.org>
Date: 01/02/2011 17:41:56
Message:
QPID-3009: added perl typemap to distribution list #MsgLength=51


----
Modified: Makefile.am|1 1

Revision: 60c2a788f2762ed34fa7616c4f26c76989024042
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/02/2011 01:01:59
Message:
QPID-3030: prevent buffer overflow when writing sequences of bytes. #MsgLength=68


----
Modified: src/qpid/framing/Buffer.cpp|5 0

Revision: d81fc13e492b22e5c46e6213d6cb230a9d81bda0
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2011 05:25:35
Message:
QPID-3007: Don't record management statistics in cluster-unsafe contexts. #MsgLength=403


----
Modified: src/qpid/broker/Connection.cpp|4 2

Revision: 03adfdb29c833592d1e068f2d712cc6feb0fd13e
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2011 05:25:43
Message:
QPID-3007: Don't hold on to consumer shared-pointers in UpdateClient::consumerNumbering #MsgLength=376


----
Modified: src/qpid/cluster/UpdateClient.cpp|3 4
Modified: src/qpid/cluster/UpdateClient.h|1 1

Revision: d22abdeeebbc115b300e2cdfc19cd08ea9eaa666
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2011 05:25:49
Message:
QPID-3007: Ignore expected connection close warning in cluster_test_logs.py #MsgLength=144


----
Modified: src/tests/cluster_test_logs.py|36 40

Revision: 4f4f3440b3034b37f83db5e045b9754b3bb348e3
Author: Alan Conway <aconway@apache.org>
Date: 02/02/2011 05:26:00
Message:
QPID-3007: Unique management identifier for connections. #MsgLength=571


----
Modified: src/qpid/broker/LinkRegistry.cpp|10 1
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 1
Modified: src/qpid/sys/Socket.h|12 7
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_wrap.h|1 0
Modified: src/qpid/sys/ssl/SslSocket.h|5 0

Revision: 2bbc14957900ea2f5cae473aced005ed1a30e009
Author: Jonathan Robie <jonathan@apache.org>
Date: 03/02/2011 00:00:51
Message:
Resolves QPID-3031. Allows client connection options to specify an SSL cert-name. #MsgLength=83


----
Modified: include/qpid/client/ConnectionSettings.h|5 0
Modified: src/qpid/client/ConnectionSettings.cpp|5 4
Modified: src/qpid/client/SslConnector.cpp|13 10
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|8 6
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|2 2
Modified: src/qpid/sys/ssl/SslSocket.cpp|30 17
Modified: src/qpid/sys/ssl/SslSocket.h|17 10
Modified: src/tests/ssl_test|34 6

Revision: 985396f0b6b1d37d346ddd92367b5ae8f24da0ef
Author: Ted Ross <tross@apache.org>
Date: 03/02/2011 02:11:07
Message:
QPID-3032 - Bug-fix: The broker management agent and the remote C++ agent hard-coded the assumed value of the "exchange" component of reply-to headers to either "amq.direct" or "qmf.default.direct", depending on the circumstance. #MsgLength=348


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|37 35
Modified: src/qpid/agent/ManagementAgentImpl.h|10 9
Modified: src/qpid/management/ManagementAgent.cpp|82 55
Modified: src/qpid/management/ManagementAgent.h|17 6

Revision: 507caf1e653fe8f7b3a501bbec97813d5284b688
Author: Ted Ross <tross@apache.org>
Date: 03/02/2011 02:16:57
Message:
QPID-3032 - Modifications to the QMFv2 implementation: #MsgLength=298


----
Modified: include/qmf/AgentSession.h|4 0
Modified: include/qmf/ConsoleSession.h|4 0
Modified: src/qmf/Agent.cpp|16 8
Modified: src/qmf/AgentImpl.h|3 0
Modified: src/qmf/AgentSession.cpp|39 3
Modified: src/qmf/ConsoleSession.cpp|20 7
Modified: src/qmf/ConsoleSessionImpl.h|2 0
Modified: src/qmf/SchemaId.cpp|2 1

Revision: 7e03fbb258f8aac58be5c13c097adaa6f9829233
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2011 02:58:50
Message:
Fix missing QPID_COMMON_EXTERN in sys/Socket.h, causing windows build failure. #MsgLength=79


----
Modified: src/qpid/sys/Socket.h|2 2

Revision: 9b08ed4587d2acfe77896e8bf693590067fcf85d
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2011 03:58:38
Message:
Do one long run in cluster_tests.py test_management. #MsgLength=182


----
Modified: src/tests/cluster_tests.py|16 14

Revision: ff4f2668ea1f092184f7785ffb310dabce4f04a5
Author: Alan Conway <aconway@apache.org>
Date: 03/02/2011 06:15:01
Message:
QPID-3033 Bug 674183 - Segmentation fault while processing session.attach #MsgLength=267


----
Modified: src/qpid/broker/Connection.cpp|4 1

Revision: 24ec0fd6dcb20738d9702c4a7977825d052432d8
Author: Ted Ross <tross@apache.org>
Date: 03/02/2011 10:46:01
Message:
Added severity and timestamp fields to raised events. Enhanced the example agent to illustrate the raising of events. #MsgLength=119


----
Modified: bindings/qmf2/examples/cpp/agent.cpp|57 29
Modified: include/qmf/AgentSession.h|7 1
Modified: src/qmf/AgentSession.cpp|34 6

Revision: 03d257e6fa9413fe5339ca8bef15fbf34be15246
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/02/2011 23:56:08
Message:
QPID-3035: fix incorrect removal at end of SequenceSet #MsgLength=55


----
Modified: include/qpid/RangeSet.h|2 2
Modified: src/tests/SequenceSet.cpp|44 0

Revision: 3317ecbd5c45578ecd2323ee36cea20f2d9754ca
Author: Ted Ross <tross@apache.org>
Date: 04/02/2011 10:38:10
Message:
Prevent spurious "schema-updated" notifications when an agent restarts. #MsgLength=73


----
Modified: src/qmf/ConsoleSession.cpp|9 5

Revision: ac1a16a077e5ebc33548847e17f12fe678bbef2d
Author: Ted Ross <tross@apache.org>
Date: 04/02/2011 13:19:43
Message:
Fixed typos in the documentation text. Fixed bug in the propagation of exceptions in query-processing. Added user-id to messages sent by the console. #MsgLength=151


----
Modified: include/qmf/AgentSession.h|1 1
Modified: include/qmf/ConsoleSession.h|1 1
Modified: src/qmf/Agent.cpp|9 1
Modified: src/qmf/ConsoleSession.cpp|3 3
Modified: src/qmf/ConsoleSessionImpl.h|1 0

Revision: c02dd885053dd5902272d31736c243c5fca6cb10
Author: Ted Ross <tross@apache.org>
Date: 04/02/2011 14:38:31
Message:
Merged missing functionality from the QMFv1 Ruby and Python interfaces to the QMFv2 interfaces: #MsgLength=97


----
Added: bindings/qmf2/examples/python/find_agents.py|54 0
Added: bindings/qmf2/examples/ruby/agent_external.rb|84 0
Added: bindings/qmf2/examples/ruby/agent_internal.rb|77 0
Added: bindings/qmf2/examples/ruby/find_agents.rb|59 0
Modified: bindings/qmf2/python/qmf2.py|147 4
Modified: bindings/qmf2/ruby/qmf2.rb|323 21

Revision: 075e55481417350c92676242c18d80bfed9a9a5c
Author: Ted Ross <tross@apache.org>
Date: 04/02/2011 16:22:30
Message:
Added missing even handling in the console. #MsgLength=45


----
Modified: bindings/qmf2/examples/python/find_agents.py|3 0
Modified: bindings/qmf2/examples/ruby/find_agents.rb|4 0
Modified: bindings/qmf2/python/qmf2.py|3 0
Modified: bindings/qmf2/ruby/qmf2.rb|3 0
Modified: include/qmf/ConsoleEvent.h|2 0
Modified: src/qmf/Agent.cpp|36 2
Modified: src/qmf/ConsoleEvent.cpp|2 0
Modified: src/qmf/ConsoleEventImpl.h|6 0

Revision: 39621a6ab8834ee45f4218e63192a0e05fb56548
Author: Jonathan Robie <jonathan@apache.org>
Date: 08/02/2011 02:21:24
Message:
Ensures that messages acquired, but not acked, are released before a queue is deleted. #MsgLength=236


----
Modified: src/qpid/broker/SessionAdapter.cpp|58 50
Modified: src/tests/MessagingSessionTests.cpp|47 11

Revision: 3bfc004f096b5ae1e43d0cdcbb710ad0d8d3bbef
Author: Jonathan Robie <jonathan@apache.org>
Date: 08/02/2011 22:31:19
Message:
Reverts r1068042. #MsgLength=100


----
Modified: src/qpid/broker/SessionAdapter.cpp|50 58
Modified: src/tests/MessagingSessionTests.cpp|11 47

Revision: 182fe45db7d56f2fa87c1b3082dbdd8696be5f9a
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2011 00:14:44
Message:
QPID-3045: Disable failing test cluster_tests.ShortTests.test_route_update until issue is fixed. #MsgLength=97


----
Modified: src/tests/cluster_tests.fail|1 1

Revision: a2e356fc84100ff07efbadd151b403836b897b0f
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2011 04:28:16
Message:
QPID-3045 - sporadic failure of cluster_tests.ShortTests.test_route_update #MsgLength=454


----
Modified: src/qpid/broker/SessionHandler.cpp|9 5
Modified: src/qpid/broker/SessionState.cpp|10 3
Modified: src/qpid/broker/SessionState.h|6 2
Modified: src/tests/cluster_tests.fail|1 1

Revision: 40a9206796bbf8d338894ab3b4c8da8b180d744a
Author: Ted Ross <tross@apache.org>
Date: 09/02/2011 09:10:51
Message:
QPID-3046 - Improved detail in trace log messages. #MsgLength=52


----
Modified: src/qmf/Agent.cpp|10 10
Modified: src/qmf/AgentSession.cpp|4 4
Modified: src/qmf/ConsoleSession.cpp|3 2

Revision: e1df494d5b100c0afd491740c75782f1311971fd
Author: Charles E. Rolke <chug@apache.org>
Date: 09/02/2011 23:56:18
Message:
QPID-3041 Make dist process does not package the .NET Binding source #MsgLength=497


----
Modified: bindings/qpid/Makefile.am|2 1
Added: bindings/qpid/dotnet/Makefile.am|125 0
Modified: configure.ac|2 1
Modified: src/Makefile.am|6 1

Revision: 227dfce76faf15121193c9eecf729ad19e49a18c
Author: Alan Conway <aconway@apache.org>
Date: 10/02/2011 02:46:23
Message:
Added design note comment to qpid/cpp/src/qpid/cluster/ClusterTimer.cpp #MsgLength=72


----
Modified: src/qpid/cluster/ClusterTimer.cpp|20 1

Revision: 6b5fb12bfefc208a57e32cc4888b55b057616674
Author: Jonathan Robie <jonathan@apache.org>
Date: 10/02/2011 02:58:12
Message:
QPID-3040: The C++ messaging client library now releases pending messages when a Receiver is closed. #MsgLength=275


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|15 13
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|20 14
Modified: src/qpid/client/amqp0_10/SessionImpl.h|9 8
Modified: src/tests/MessagingSessionTests.cpp|40 11

Revision: 3540ee44cb22059353b533a3345bcf13d04fb49b
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 10/02/2011 03:35:12
Message:
comments for building ruby binding #MsgLength=35


----
Modified: INSTALL|7 0

Revision: 534901f350347ebb8f9587ef99674c6fffbf2bc1
Author: Alan Conway <aconway@apache.org>
Date: 10/02/2011 05:07:50
Message:
Remove out-dated comment. #MsgLength=26


----
Modified: src/qpid/RefCountedBuffer.h|3 3

Revision: 680b36f9a005a55072cd831f4967547043ecc400
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2011 18:12:41
Message:
QPID-529: Priority queue implementation QPID-2104: LVQ enhancement #MsgLength=541


----
Modified: src/CMakeLists.txt|5 0
Modified: src/Makefile.am|11 0
Added: src/qpid/broker/Fairshare.cpp|156 0
Added: src/qpid/broker/Fairshare.h|61 0
Added: src/qpid/broker/LegacyLVQ.cpp|116 0
Added: src/qpid/broker/LegacyLVQ.h|59 0
Modified: src/qpid/broker/Message.cpp|0 16
Modified: src/qpid/broker/Message.h|0 5
Added: src/qpid/broker/MessageDeque.cpp|140 0
Added: src/qpid/broker/MessageDeque.h|61 0
Added: src/qpid/broker/MessageMap.cpp|166 0
Added: src/qpid/broker/MessageMap.h|72 0
Added: src/qpid/broker/Messages.h|117 0
Added: src/qpid/broker/PriorityQueue.cpp|211 0
Added: src/qpid/broker/PriorityQueue.h|77 0
Modified: src/qpid/broker/Queue.cpp|99 219
Modified: src/qpid/broker/Queue.h|9 18
Modified: src/qpid/broker/QueuePolicy.cpp|5 1
Modified: src/qpid/cluster/Connection.cpp|8 0
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|5 0
Modified: src/tests/cluster_test.cpp|36 0
Modified: src/tests/qpid-receive.cpp|1 0
Modified: src/tests/qpid-send.cpp|6 0
Modified: xml/cluster.xml|7 0

Revision: 4768aa6962c2c7732a41bb4363efbcdffaa61092
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2011 20:04:05
Message:
QPID-529: Fixed errors generated by different compiler versions #MsgLength=64


----
Modified: src/qpid/broker/PriorityQueue.cpp|1 1

Revision: 3b19eb50df49a82d7b88f6068bc33beee29bda6a
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2011 22:10:06
Message:
QPID-529: Added missing include #MsgLength=32


----
Modified: src/qpid/broker/PriorityQueue.cpp|1 0

Revision: c5953cd7749aad4a3a86797a02eac6b02dc779ba
Author: Alan Conway <aconway@apache.org>
Date: 11/02/2011 04:19:24
Message:
Add some generated files to .gitignore. #MsgLength=40


----
Added: build-aux/.gitignore|1 0

Revision: bdc74383c0e335e38f0428244fb71043b3e3bf68
Author: Ted Ross <tross@apache.org>
Date: 11/02/2011 09:19:12
Message:
QPID-3046 Added missing wrapper functions for AgentSession::raiseEvent in Ruby and Python Added a raised event in the Python agent example #MsgLength=140


----
Modified: bindings/qmf2/examples/python/agent.py|47 26
Modified: bindings/qmf2/examples/ruby/find_agents.rb|1 1
Modified: bindings/qmf2/python/qmf2.py|10 0
Modified: bindings/qmf2/ruby/qmf2.rb|8 0

Revision: 27c7da723f4ff094441f0399d9cb80e1b4df1250
Author: Ted Ross <tross@apache.org>
Date: 11/02/2011 12:13:51
Message:
QPID-3046 - Added an example in C++ for receiving events #MsgLength=58


----
Modified: bindings/qmf2/examples/cpp/Makefile.am|3 1
Added: bindings/qmf2/examples/cpp/print_events.cpp|64 0

Revision: a9b1f0e9c2372ef4aca3da656261ea34c627bac0
Author: Ted Ross <tross@apache.org>
Date: 11/02/2011 12:14:59
Message:
QPID-3046 - Refactored so that Connection::getAuthenticatedUsername is consulted each time a sent message is annotated with the user-id. #MsgLength=150


----
Modified: src/qmf/Agent.cpp|9 6
Modified: src/qmf/ConsoleSession.cpp|1 1
Modified: src/qmf/ConsoleSessionImpl.h|0 1

Revision: 0ee9e2bf5fe762b6c0ec88f40ccbaae98ce9b536
Author: Alan Conway <aconway@apache.org>
Date: 12/02/2011 02:33:25
Message:
QPID-3049 - qpid-send --durable does not send durable messages. #MsgLength=193


----
Modified: src/tests/qpid-send.cpp|13 6

Revision: c26f9da22507fc9b0f75d4f20e7806f45b9bab59
Author: Ted Ross <tross@apache.org>
Date: 14/02/2011 21:03:27
Message:
QPID-3046 - Bug fixed in handling of deleted agents (ConsoleSession). Bug found by Steve Loranz. #MsgLength=98


----
Modified: bindings/qmf2/python/qmf2.py|1 1

Revision: 56d89a2a92eb5638f2a05ea6eb745a8f3f9309f1
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2011 21:09:17
Message:
QPID-3040: Prevent race between receipt and release of messages causing intermittent test failures. #MsgLength=100


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 1

Revision: 4225ecf5ca102db3238de44ca039eea7167482c7
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2011 22:07:14
Message:
QPID-3053: Enable broadcast via QMFv2 by default; add option to allow broadcast over QMFv1 to be independently controlled. #MsgLength=123


----
Modified: src/qpid/broker/Broker.cpp|5 3
Modified: src/qpid/broker/Broker.h|1 0

Revision: 3da80e15b40afe80a9f14692ef9423e927263f04
Author: Nuno Santos <nsantos@apache.org>
Date: 14/02/2011 23:39:43
Message:
compatibility with newer (1.46) boost version by explicitly defining which version of boost_filesystem to use #MsgLength=110


----
Modified: src/Makefile.am|2 0

Revision: 4ad8563d9df67caf87e224e13d95ab30a44d66f5
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2011 00:17:40
Message:
QPID-529: Include integer definitions to fix windows build. #MsgLength=60


----
Modified: src/qpid/broker/PriorityQueue.h|1 0

Revision: a255c5da63911cc7aa7ef35bd432835d6437884e
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2011 01:15:50
Message:
QPID-529: Brought forward definition of struct fir deque impl on windows #MsgLength=73


----
Modified: src/qpid/broker/MessageDeque.h|1 0

Revision: 6a1d2f9441cf985b68a0d59f95cbdbcecb392ad9
Author: Alan Conway <aconway@apache.org>
Date: 15/02/2011 04:07:59
Message:
No JIRA: Added --durable option to qpid-cp-benchmark #MsgLength=53


----
Modified: src/tests/qpid-cpp-benchmark|11 6

Revision: 91babe4d9b5fe6f30413c118dd4f96d0b86f4714
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2011 22:17:45
Message:
QPID-3002: Configurable threshold alerts for queues #MsgLength=52


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/Queue.cpp|41 26
Modified: src/qpid/broker/Queue.h|8 4
Modified: src/qpid/broker/QueueEvents.cpp|25 0
Modified: src/qpid/broker/QueueEvents.h|1 0
Added: src/qpid/broker/QueueObserver.h|82 0
Modified: src/qpid/broker/QueueRegistry.cpp|0 6
Modified: src/qpid/broker/QueueRegistry.h|0 2
Added: src/qpid/broker/ThresholdAlerts.cpp|139 0
Added: src/qpid/broker/ThresholdAlerts.h|146 0
Modified: src/qpid/cluster/Connection.cpp|1 1

Revision: 44c1040c430a96d5a59f6c303f12e020570e5cab
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2011 23:45:59
Message:
QPID-3002: Added virtual destructor for new interface; Removed some more accidentally duplicated code. #MsgLength=103


----
Modified: src/qpid/broker/QueueObserver.h|1 41
Modified: src/qpid/broker/ThresholdAlerts.h|0 73

Revision: 7bb96c4e2ef072e65044527c01314d20aaa0c33c
Author: Gordon Sim <gsim@apache.org>
Date: 16/02/2011 01:08:30
Message:
QPID-3002: Added explicit casts required by some compiler versions #MsgLength=67


----
Modified: src/qpid/broker/ThresholdAlerts.cpp|2 2

Revision: 0098a4ff3cbca0be1964b6255114ff77bf4cc24a
Author: Gordon Sim <gsim@apache.org>
Date: 16/02/2011 02:58:44
Message:
QPID-3000: Added optional delay for auto-deletion #MsgLength=50


----
Modified: src/qpid/broker/Queue.cpp|71 3
Modified: src/qpid/broker/Queue.h|3 0

Revision: c37cee63e3bfa87890dd38d565e4a0054b72306f
Author: Alan Conway <aconway@apache.org>
Date: 16/02/2011 03:28:11
Message:
NO-JIRA: add cluster_tests.py to list of installed scripts. #MsgLength=60


----
Modified: src/tests/cluster.mk|1 1

Revision: 5f23862907bbfeffc52315cabb10cc6c01d6ca87
Author: Ted Ross <tross@apache.org>
Date: 16/02/2011 21:54:50
Message:
QPID-3061 - Added missing xqilla and Boost definitions to cmake #MsgLength=65


----
Modified: src/CMakeLists.txt|11 0
Modified: src/tests/CMakeLists.txt|1 1

Revision: be182ec98844ccfaaae5d627b99ece4095fc85c0
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/02/2011 06:41:06
Message:
Add org.apache.qpid.messaging.sessionreceiver.sln to enable this C# piece to be built by itself. Added the new file to Makefile.am. Resolves QPID-3057. #MsgLength=152


----
Modified: bindings/qpid/dotnet/Makefile.am|1 0
Added: bindings/qpid/dotnet/org.apache.qpid.messaging.sessionreceiver.sln|76 0

Revision: cc775e8ad9e420581f9ec86b168f921169c3650d
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/02/2011 06:44:38
Message:
Fixed eol properties to ensure they're correct when packaged; QPID-3057 #MsgLength=72


----

Revision: db707b4a76f29a521e3c95b38d99aab3cfd9d553
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/02/2011 06:53:22
Message:
Add missing rc files needed for Windows builders. Resolves QPID-3068 #MsgLength=69


----
Modified: src/Makefile.am|4 1

Revision: f447bb3ecdf6a6c851208ec75396c3820bd63b26
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/02/2011 06:57:50
Message:
Check for presence of the cpp/bindings/qpid/dotnet directory before referring to it. Resolves QPID-3069 #MsgLength=104


----
Modified: src/CMakeLists.txt|8 8

Revision: 364b07457f44ec51dd339ea22791e1fbb66d01cb
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/02/2011 01:25:04
Message:
QPID-3061 added incorrect set for Boost_SYSTEM_LIBRARY; removing it #MsgLength=68


----
Modified: src/CMakeLists.txt|0 4

Revision: db74d8ca3bdaed97341c09da754d9edf0fc00b78
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 03:16:35
Message:
QPID-3009 - Renamed module to cqpid_perl to distinguish it from other language bindings. #MsgLength=90


----
Modified: bindings/qpid/examples/perl/client.pl|4 4
Modified: bindings/qpid/examples/perl/drain.pl|6 6
Modified: bindings/qpid/examples/perl/hello_world.pl|5 5
Modified: bindings/qpid/examples/perl/hello_xml.pl|3 3
Modified: bindings/qpid/examples/perl/map_receiver.pl|4 4
Modified: bindings/qpid/examples/perl/map_sender.pl|4 4
Modified: bindings/qpid/examples/perl/server.pl|3 3
Modified: bindings/qpid/examples/perl/spout.pl|5 5
Modified: bindings/qpid/perl/Makefile.am|10 10
Modified: bindings/qpid/perl/perl.i|1 1

Revision: 02945188fc354f58a0f90c1cd47bcb3d73eddb22
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 03:19:16
Message:
QPID-3061 - Added cmake support for the swig-generated Qpid bindings. #MsgLength=71


----
Modified: CMakeLists.txt|1 0
Added: bindings/qpid/CMakeLists.txt|39 0
Added: bindings/qpid/perl/CMakeLists.txt|39 0
Added: bindings/qpid/python/CMakeLists.txt|46 0
Added: bindings/qpid/ruby/CMakeLists.txt|39 0

Revision: 050865322ad7b443930c158ecfa7e4734567582f
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 03:24:33
Message:
QPID-3009 - Added missing binding for FailoverUpdates. #MsgLength=56


----
Modified: bindings/qpid/qpid.i|2 0

Revision: 48eda2808147020726cb434673908fbb54adfff6
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 03:25:50
Message:
QPID-3061 - Added cmake support for the qmf2 library. #MsgLength=55


----
Modified: src/CMakeLists.txt|79 1

Revision: 09169b5d5eea5103df31b499ea89157ddf2efb4b
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 03:32:13
Message:
QPID-3061 - Removed second spurious reference to Boost_SYSTEM_LIBRARY. #MsgLength=72


----
Modified: src/CMakeLists.txt|0 1

Revision: 50f523c5df8db35bd5bdb6d02ab843bec095f06c
Author: Gordon Sim <gsim@apache.org>
Date: 19/02/2011 06:38:05
Message:
QPID-3015: Added create and delete methods to management schema for broker #MsgLength=75


----
Modified: src/qpid/broker/Broker.cpp|409 1
Modified: src/qpid/broker/Broker.h|48 6
Modified: src/qpid/broker/Queue.cpp|21 6
Modified: src/qpid/broker/Queue.h|10 5
Modified: src/qpid/broker/SessionAdapter.cpp|100 178
Modified: src/qpid/broker/SessionAdapter.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|20 0
Modified: src/qpid/management/ManagementAgent.h|6 1
Modified: src/tests/MessagingFixture.h|117 0
Modified: src/tests/MessagingSessionTests.cpp|47 0
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/qpid-ctrl|4 1
Modified: src/tests/sender.cpp|1 1

Revision: 9645de082497f95ca5e13a13b9c5cc95f1468895
Author: Ted Ross <tross@apache.org>
Date: 19/02/2011 07:42:20
Message:
QPID-3061 - blocked qmf2 build for Windows until dependency issues are resolved. #MsgLength=82


----
Modified: src/CMakeLists.txt|74 72

Revision: a344d94a2eaf6c70a95da21cd723aa67c3170ec6
Author: Ken Giusti <kgiusti@apache.org>
Date: 19/02/2011 23:03:16
Message:
QPID-2935: merge producer flow control (C++ broker). #MsgLength=53


----
Modified: src/CMakeLists.txt|1 1
Modified: src/Makefile.am|3 2
Added: src/qpid/broker/AsyncCompletion.h|170 0
Modified: src/qpid/broker/Broker.cpp|24 10
Modified: src/qpid/broker/Broker.h|24 13
Modified: src/qpid/broker/Connection.cpp|1 2
Deleted: src/qpid/broker/IncompleteMessageList.cpp|0 85
Deleted: src/qpid/broker/IncompleteMessageList.h|0 58
Modified: src/qpid/broker/Link.cpp|2 2
Modified: src/qpid/broker/Message.cpp|5 22
Modified: src/qpid/broker/Message.h|0 6
Modified: src/qpid/broker/PersistableMessage.cpp|1 25
Modified: src/qpid/broker/PersistableMessage.h|16 14
Modified: src/qpid/broker/Queue.cpp|16 9
Modified: src/qpid/broker/Queue.h|2 0
Added: src/qpid/broker/QueueFlowLimit.cpp|367 0
Added: src/qpid/broker/QueueFlowLimit.h|130 0
Modified: src/qpid/broker/SessionAdapter.cpp|7 1
Modified: src/qpid/broker/SessionContext.h|1 0
Modified: src/qpid/broker/SessionState.cpp|185 23
Modified: src/qpid/broker/SessionState.h|88 4
Modified: src/qpid/cluster/Cluster.cpp|36 34
Modified: src/qpid/cluster/Event.h|8 8
Modified: src/qpid/cluster/EventFrame.h|3 3
Modified: src/qpid/sys/ClusterSafe.cpp|0 2
Modified: src/qpid/sys/ClusterSafe.h|0 3
Modified: src/tests/CMakeLists.txt|1 1
Deleted: src/tests/IncompleteMessageList.cpp|0 134
Modified: src/tests/Makefile.am|6 3
Modified: src/tests/MessageUtils.h|14 0
Added: src/tests/QueueFlowLimitTest.cpp|461 0
Modified: src/tests/QueuePolicyTest.cpp|5 1
Modified: src/tests/QueueTest.cpp|7 0
Modified: src/tests/TxPublishTest.cpp|2 2
Modified: src/tests/brokertest.py|5 0
Modified: src/tests/cluster_tests.py|108 1
Added: src/tests/queue_flow_limit_tests.py|245 0
Added: src/tests/run_queue_flow_limit_tests|55 0

Revision: a098cbd5bca8ab8ada2b5994b3d5271399ffc58e
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 17:35:26
Message:
QPID-3015: Rename string constants to avoid clashes on windows #MsgLength=63


----
Modified: src/qpid/broker/Broker.cpp|8 8

Revision: fd9300e98b2a592a9b80ce837769d0c4dfbec055
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 17:37:03
Message:
QPID-3002: Fix warning on windows regarding struct/class inconsistencies in declarations #MsgLength=89


----
Modified: src/qpid/broker/QueueObserver.h|1 1

Revision: 172a8ca369762fd77e0806d644bf0b95efa0365c
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 18:55:54
Message:
QPID-2935: Annotate uint64 literal required for some compilers #MsgLength=63


----
Modified: src/tests/QueueFlowLimitTest.cpp|2 2

Revision: 88a06cf6e61b13af1183b8d6d2dc2ee896ddcad1
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 19:19:54
Message:
QPID-2935: Handle missing assertGreater for older versions of python #MsgLength=69


----
Modified: src/tests/queue_flow_limit_tests.py|6 0

Revision: 656c4561bfde3880d354ca37f0886aa40802ee9f
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 20:04:16
Message:
QPID-3015: restore export of symbol needed for linking unit tests on windows #MsgLength=77


----
Modified: src/qpid/broker/Queue.h|1 1

Revision: fdac4a7f6c1ec960cd48b600183fb528d5cb5070
Author: Gordon Sim <gsim@apache.org>
Date: 21/02/2011 20:13:22
Message:
QPID-2935: export symbols needed for linking unit tests on windows #MsgLength=67


----
Modified: src/qpid/broker/QueueFlowLimit.h|4 4

Revision: 53bd4615e2bf6a9c74dd51151c2eb2893af6bba6
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/02/2011 23:47:06
Message:
QPID-2935: fix queue flow test to be compatible with older versions of python #MsgLength=78


----
Modified: src/tests/queue_flow_limit_tests.py|35 44

Revision: 949d186791941eafc37719f4c505948358bde94e
Author: Gordon Sim <gsim@apache.org>
Date: 22/02/2011 01:30:17
Message:
QPID-3051: Ensure credit window is moved correctly even if it contains rejected messages. #MsgLength=90


----
Modified: src/qpid/broker/DeliveryRecord.cpp|13 11
Modified: src/qpid/broker/SemanticState.cpp|5 2
Modified: src/tests/MessagingSessionTests.cpp|41 0

Revision: 61bd27ee2e8b7d7bf00b9142da2fd6074c8f210a
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/02/2011 01:33:12
Message:
Improvements per QPID-3077 #MsgLength=27


----
Modified: INSTALL-WINDOWS|8 3

Revision: 9d46d26f5d26e1d0ac6b76481d27068ef2c1b1fd
Author: Ted Ross <tross@apache.org>
Date: 22/02/2011 03:22:36
Message:
QPID-3061 - Consolidated the Swig warning-suppressions into one file. #MsgLength=71


----
Modified: bindings/qpid/CMakeLists.txt|2 0
Modified: bindings/qpid/perl/CMakeLists.txt|0 1
Modified: bindings/qpid/python/CMakeLists.txt|0 1
Modified: bindings/qpid/ruby/CMakeLists.txt|0 1

Revision: b8005a7c8893f03f1d0720dc3862d2d01c32bf71
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/02/2011 04:28:35
Message:
QPID-2935: fix the flow limit tests to run on python versions 2.4+ #MsgLength=67


----
Modified: src/tests/queue_flow_limit_tests.py|8 8

Revision: f5d5bd6fe075c3a2fc05e1bb7ed7c6e84975b983
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/02/2011 05:11:23
Message:
QPID-3078: remote ambiguous -t short option, fix typo #MsgLength=54


----
Modified: src/tests/qpid-receive.cpp|1 1
Modified: src/tests/qpid-send.cpp|1 1

Revision: c09600119633778e313054f3d8ff341a97e539bb
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2011 04:31:56
Message:
NO-JIRA: Added a couple of additional exclusions to the log filter. #MsgLength=68


----
Modified: src/tests/cluster_test_logs.py|3 1

Revision: 342ae830201c7d3c2825d227d11fc096f224a9f1
Author: Charles E. Rolke <chug@apache.org>
Date: 23/02/2011 10:31:34
Message:
QPID-3061 Discrepancies between Cmake and Automake #MsgLength=168


----
Modified: bindings/qpid/Makefile.am|1 1
Modified: bindings/qpid/perl/Makefile.am|1 1
Modified: bindings/qpid/python/Makefile.am|1 1
Modified: bindings/qpid/ruby/Makefile.am|1 1

Revision: 72bc2fa9401dc7650af59635ecba7660c6164255
Author: Gordon Sim <gsim@apache.org>
Date: 23/02/2011 20:59:50
Message:
QPID-3015: cleanup and additional test of acl enforcement #MsgLength=247


----
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|13 1
Modified: src/tests/acl.py|129 26

Revision: dba21ca6bc495ad084e4ab694ebf493fc40356a6
Author: Gordon Sim <gsim@apache.org>
Date: 24/02/2011 04:57:26
Message:
QPID-3015: assertTrue not available on older versions of python; change to assert #MsgLength=82


----
Modified: src/tests/acl.py|2 2

Revision: eaea73f7aa023ef16979960b975f944ad299df0b
Author: Ken Giusti <kgiusti@apache.org>
Date: 25/02/2011 06:35:53
Message:
QPID-3084: apply Alan's fix to allow io callbacks to run during a cluster update. #MsgLength=82


----
Modified: src/qpid/broker/Connection.cpp|15 11
Modified: src/qpid/broker/Connection.h|5 2
Modified: src/qpid/cluster/Connection.cpp|18 12
Modified: src/qpid/cluster/Connection.h|11 9
Modified: src/qpid/cluster/OutputInterceptor.cpp|10 7

Revision: df0b652d6a8886e3692fec4dfc0b9f22396fb065
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 00:14:32
Message:
QPID-2999: set redelivered on replay #MsgLength=37


----
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|2 1
Modified: src/tests/cluster_tests.py|30 0
Modified: src/tests/qpid-receive.cpp|5 0

Revision: 57b28005a3c773199875e94584f648dbda992ce2
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 01:10:05
Message:
QPID-2326: correct exception code for unknown exchange type #MsgLength=60


----
Modified: src/qpid/broker/SessionAdapter.cpp|1 1

Revision: ffde7d9d66da159841627ff00f35d6a520b57af7
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 01:30:59
Message:
QPID-2324: Raise 404 on cancellation if no such subscription exists. #MsgLength=69


----
Modified: src/qpid/broker/SemanticState.cpp|5 2
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|3 1

Revision: 2b2050b8c0e851c5360586be889942d6e5c3a59c
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 01:36:01
Message:
NO-JIRA: only two args used #MsgLength=28


----
Modified: examples/messaging/server.cpp|2 2

Revision: 548a68fcd06411a09437fcb8b56e2de7532a81e9
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 04:52:17
Message:
QPID-3087: fail rather than ignoring attempts to declare queues with bad arguments; ensure qpid-config can deal with different types of argument. #MsgLength=146


----
Modified: src/qpid/broker/Broker.cpp|1 3
Modified: src/qpid/broker/QueuePolicy.cpp|2 3
Modified: src/qpid/broker/QueueRegistry.cpp|4 1
Modified: src/qpid/broker/QueueRegistry.h|3 1

Revision: d0d1d60a1f9f29fc2fa09d8188cc21a96d390bcd
Author: Gordon Sim <gsim@apache.org>
Date: 26/02/2011 04:54:02
Message:
QPID-3087: add extra test for qpid-config and handling string values in arguments #MsgLength=82


----
Modified: src/tests/cli_tests.py|20 0
Modified: src/tests/run_cli_tests|2 1

Revision: cf0e3ea2196867811055d1d530918a980f349e36
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2011 17:50:03
Message:
QPID-3087: fix for windows compiler #MsgLength=36


----
Modified: src/qpid/broker/QueueRegistry.cpp|1 1

Revision: 1e480d1fb4b32a9c04b321d1cbf3714244073c0c
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2011 21:57:13
Message:
QPID-3087: Fixes to store interaction changes #MsgLength=156


----
Modified: src/qpid/broker/Broker.cpp|1 6
Modified: src/qpid/broker/Queue.cpp|11 8
Modified: src/qpid/broker/Queue.h|10 3
Modified: src/qpid/broker/QueueRegistry.cpp|18 3
Modified: src/qpid/broker/QueueRegistry.h|4 1
Modified: src/tests/QueueTest.cpp|4 4

Revision: 08612c44ccfa4869e1a84cd713d933977ead647e
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2011 23:35:28
Message:
QPID-3089: make getTypeName() a public method #MsgLength=46


----
Modified: include/qpid/types/Variant.h|2 0
Modified: src/qpid/types/Variant.cpp|1 2

Revision: 53ba170d4f316ba31aead07fe3dc640a530b2738
Author: Gordon Sim <gsim@apache.org>
Date: 28/02/2011 23:36:21
Message:
NO-JIRA: remove some dead code, rename internal method for clarity #MsgLength=67


----
Modified: src/qpid/broker/Queue.cpp|2 2
Modified: src/qpid/broker/Queue.h|7 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|0 6
Modified: src/qpid/cluster/Connection.h|1 2
Modified: xml/cluster.xml|0 1

Revision: e6da602792ec31343b502e7685651857effa213d
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/03/2011 02:00:10
Message:
QPID-1672 What was a single test -- sasl_fed_ex -- is now 4 tests with a common core.  They are: #MsgLength=1076


----
Modified: src/tests/cli_tests.py|2 2
Modified: src/tests/sasl.mk|2 2
Modified: src/tests/sasl_fed_ex|65 47
Added: src/tests/sasl_fed_ex_dynamic|27 0
Added: src/tests/sasl_fed_ex_link|27 0
Added: src/tests/sasl_fed_ex_queue|27 0
Added: src/tests/sasl_fed_ex_route|27 0

Revision: 453f41aeb13d9e34ad96399766f9d5e258d2621c
Author: Gordon Sim <gsim@apache.org>
Date: 01/03/2011 02:23:54
Message:
QPID-3087: Fix linking on windows (unit test now uses create() rather than configure()) #MsgLength=88


----
Modified: src/qpid/broker/Queue.h|1 1

Revision: 9292d45fe21adf74b7f86766304bc276a8c3ec1d
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/03/2011 02:31:42
Message:
QPID-1672 fixing non-executable checkin... #MsgLength=44


----
Deleted: src/tests/sasl_fed_ex_dynamic|0 27
Deleted: src/tests/sasl_fed_ex_link|0 27
Deleted: src/tests/sasl_fed_ex_queue|0 27
Deleted: src/tests/sasl_fed_ex_route|0 27

Revision: 8ca1c9abe77fcd0c725db371223d60591b7cc194
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/03/2011 02:32:44
Message:
QPID-1672 fixing non-executable script checkin... #MsgLength=51


----
Added: src/tests/sasl_fed_ex_dynamic|27 0
Added: src/tests/sasl_fed_ex_link|27 0
Added: src/tests/sasl_fed_ex_queue|27 0
Added: src/tests/sasl_fed_ex_route|27 0

Revision: cf66161b3dd4effb18fbdaf6243a3e55a413575a
Author: Gordon Sim <gsim@apache.org>
Date: 01/03/2011 19:14:10
Message:
QPID-2630: ensure that exclusive, auto-deleted queues are freed up on early deletion (remove some confusion between connection and session scope for these) #MsgLength=157


----
Modified: src/qpid/broker/Connection.cpp|0 8
Modified: src/qpid/broker/ConnectionState.h|0 1
Modified: src/qpid/broker/SessionAdapter.cpp|4 4

Revision: f05148e04a0fcbc1ea89c7102b9bff19a74c76c7
Author: Michael Goulish <mgoulish@apache.org>
Date: 02/03/2011 00:15:04
Message:
QPID-3096 removing qrsh -- was never used. #MsgLength=44


----
Modified: src/tests/Makefile.am|0 12
Deleted: src/tests/qrsh.cpp|0 169
Deleted: src/tests/qrsh_run.cpp|0 321
Deleted: src/tests/qrsh_server.cpp|0 1068
Deleted: src/tests/qrsh_utils/10_all|0 30
Deleted: src/tests/qrsh_utils/1_remote_run|0 26
Deleted: src/tests/qrsh_utils/2_forever|0 26
Deleted: src/tests/qrsh_utils/3_kill_it|0 27
Deleted: src/tests/qrsh_utils/4_wait_for_it|0 26
Deleted: src/tests/qrsh_utils/5_exited|0 64
Deleted: src/tests/qrsh_utils/6_get|0 29
Deleted: src/tests/qrsh_utils/7_get_output|0 44
Deleted: src/tests/qrsh_utils/8_any|0 43
Deleted: src/tests/qrsh_utils/9_alias|0 38
Deleted: src/tests/qrsh_utils/qrsh_example_command.cpp|0 52
Deleted: src/tests/qrsh_utils/qrsh_forever.cpp|0 50
Deleted: src/tests/qrsh_utils/qsh_doc.txt|0 309

Revision: 31f03be77c70bb25a4f814f649ea75bd202cebff
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2011 00:23:56
Message:
QPID-3067: moved old examples to old_api directory #MsgLength=51


----
Modified: configure.ac|9 8
Modified: examples/CMakeLists.txt|1 8
Modified: examples/Makefile.am|2 14
Added: examples/old_api/Makefile.am|46 0
Renamed: examples/old_api/README.verify [from examples/README.verify]|0 0
Renamed: examples/old_api/direct/CMakeLists.txt [from examples/direct/CMakeLists.txt]|0 0
Renamed: examples/old_api/direct/Makefile.am [from examples/direct/Makefile.am]|0 0
Renamed: examples/old_api/direct/declare_queues.cpp [from examples/direct/declare_queues.cpp]|0 0
Renamed: examples/old_api/direct/direct_declare_queues.vcproj [from examples/direct/direct_declare_queues.vcproj]|0 0
Renamed: examples/old_api/direct/direct_direct_producer.vcproj [from examples/direct/direct_direct_producer.vcproj]|0 0
Renamed: examples/old_api/direct/direct_listener.vcproj [from examples/direct/direct_listener.vcproj]|0 0
Renamed: examples/old_api/direct/direct_producer.cpp [from examples/direct/direct_producer.cpp]|0 0
Renamed: examples/old_api/direct/listener.cpp [from examples/direct/listener.cpp]|0 0
Renamed: examples/old_api/direct/verify [from examples/direct/verify]|0 0
Renamed: examples/old_api/direct/verify.in [from examples/direct/verify.in]|0 0
Renamed: examples/old_api/failover/CMakeLists.txt [from examples/failover/CMakeLists.txt]|0 0
Renamed: examples/old_api/failover/Makefile.am [from examples/failover/Makefile.am]|0 0
Renamed: examples/old_api/failover/declare_queues.cpp [from examples/failover/declare_queues.cpp]|0 0
Renamed: examples/old_api/failover/failover_declare_queues.vcproj [from examples/failover/failover_declare_queues.vcproj]|0 0
Renamed: examples/old_api/failover/failover_replaying_sender.vcproj [from examples/failover/failover_replaying_sender.vcproj]|0 0
Renamed: examples/old_api/failover/failover_resuming_receiver.vcproj [from examples/failover/failover_resuming_receiver.vcproj]|0 0
Renamed: examples/old_api/failover/replaying_sender.cpp [from examples/failover/replaying_sender.cpp]|0 0
Renamed: examples/old_api/failover/resuming_receiver.cpp [from examples/failover/resuming_receiver.cpp]|0 0
Renamed: examples/old_api/fanout/CMakeLists.txt [from examples/fanout/CMakeLists.txt]|0 0
Renamed: examples/old_api/fanout/Makefile.am [from examples/fanout/Makefile.am]|0 0
Renamed: examples/old_api/fanout/fanout_fanout_producer.vcproj [from examples/fanout/fanout_fanout_producer.vcproj]|0 0
Renamed: examples/old_api/fanout/fanout_listener.vcproj [from examples/fanout/fanout_listener.vcproj]|0 0
Renamed: examples/old_api/fanout/fanout_producer.cpp [from examples/fanout/fanout_producer.cpp]|0 0
Renamed: examples/old_api/fanout/listener.cpp [from examples/fanout/listener.cpp]|0 0
Renamed: examples/old_api/fanout/verify [from examples/fanout/verify]|0 0
Renamed: examples/old_api/fanout/verify.in [from examples/fanout/verify.in]|0 0
Renamed: examples/old_api/pub-sub/CMakeLists.txt [from examples/pub-sub/CMakeLists.txt]|0 0
Renamed: examples/old_api/pub-sub/Makefile.am [from examples/pub-sub/Makefile.am]|0 0
Renamed: examples/old_api/pub-sub/pub-sub_topic_listener.vcproj [from examples/pub-sub/pub-sub_topic_listener.vcproj]|0 0
Renamed: examples/old_api/pub-sub/pub-sub_topic_publisher.vcproj [from examples/pub-sub/pub-sub_topic_publisher.vcproj]|0 0
Renamed: examples/old_api/pub-sub/topic_listener.cpp [from examples/pub-sub/topic_listener.cpp]|0 0
Renamed: examples/old_api/pub-sub/topic_publisher.cpp [from examples/pub-sub/topic_publisher.cpp]|0 0
Renamed: examples/old_api/pub-sub/verify [from examples/pub-sub/verify]|0 0
Renamed: examples/old_api/pub-sub/verify.in [from examples/pub-sub/verify.in]|0 0
Renamed: examples/old_api/request-response/CMakeLists.txt [from examples/request-response/CMakeLists.txt]|0 0
Renamed: examples/old_api/request-response/Makefile.am [from examples/request-response/Makefile.am]|0 0
Renamed: examples/old_api/request-response/client.cpp [from examples/request-response/client.cpp]|0 0
Renamed: examples/old_api/request-response/request-response_client.vcproj [from examples/request-response/request-response_client.vcproj]|0 0
Renamed: examples/old_api/request-response/request-response_server.vcproj [from examples/request-response/request-response_server.vcproj]|0 0
Renamed: examples/old_api/request-response/server.cpp [from examples/request-response/server.cpp]|0 0
Renamed: examples/old_api/request-response/verify [from examples/request-response/verify]|0 0
Renamed: examples/old_api/request-response/verify.in [from examples/request-response/verify.in]|0 0
Renamed: examples/old_api/tradedemo/CMakeLists.txt [from examples/tradedemo/CMakeLists.txt]|0 0
Renamed: examples/old_api/tradedemo/Makefile.am [from examples/tradedemo/Makefile.am]|0 0
Renamed: examples/old_api/tradedemo/declare_queues.cpp [from examples/tradedemo/declare_queues.cpp]|0 0
Renamed: examples/old_api/tradedemo/topic_listener.cpp [from examples/tradedemo/topic_listener.cpp]|0 0
Renamed: examples/old_api/tradedemo/topic_publisher.cpp [from examples/tradedemo/topic_publisher.cpp]|0 0
Renamed: examples/old_api/tradedemo/tradedemo_declare_queues.vcproj [from examples/tradedemo/tradedemo_declare_queues.vcproj]|0 0
Renamed: examples/old_api/tradedemo/tradedemo_topic_listener.vcproj [from examples/tradedemo/tradedemo_topic_listener.vcproj]|0 0
Renamed: examples/old_api/tradedemo/tradedemo_topic_publisher.vcproj [from examples/tradedemo/tradedemo_topic_publisher.vcproj]|0 0
Renamed: examples/old_api/verify [from examples/verify]|0 0
Renamed: examples/old_api/verify_all [from examples/verify_all]|1 1
Renamed: examples/old_api/xml-exchange/CMakeLists.txt [from examples/xml-exchange/CMakeLists.txt]|0 0
Renamed: examples/old_api/xml-exchange/Makefile.am [from examples/xml-exchange/Makefile.am]|0 0
Renamed: examples/old_api/xml-exchange/README.txt [from examples/xml-exchange/README.txt]|0 0
Renamed: examples/old_api/xml-exchange/declare_queues.cpp [from examples/xml-exchange/declare_queues.cpp]|0 0
Renamed: examples/old_api/xml-exchange/listener.cpp [from examples/xml-exchange/listener.cpp]|0 0
Renamed: examples/old_api/xml-exchange/xml_producer.cpp [from examples/xml-exchange/xml_producer.cpp]|0 0

Revision: a460ad4b0d7a5fcb9a7e0d3400ddcc6285376c84
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2011 00:24:41
Message:
QPID-3067: adding new file missing from last commit #MsgLength=52


----
Added: examples/old_api/CMakeLists.txt|25 0

Revision: 67c51c2ddd6775ecece743e34d2d2f15a074f5d1
Author: Alan Conway <aconway@apache.org>
Date: 02/03/2011 04:53:18
Message:
NO-JIRA: Remove misleading log messages in cluster/UpdateDataExchange.cpp #MsgLength=74


----
Modified: src/qpid/cluster/UpdateDataExchange.cpp|1 9
Modified: src/qpid/cluster/UpdateDataExchange.h|0 2

Revision: 32f3b37ffe92e4e04a4750bcac52b3f086af9441
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2011 21:15:05
Message:
QPID-3100: reduce number of initial buffers created per connection #MsgLength=67


----
Modified: src/qpid/client/TCPConnector.cpp|1 1

Revision: 30c42f06b6167258bbf25946b64a767171682579
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2011 21:19:04
Message:
QPID-529: Added aliases for arguments that are more uniform with others in c++ broker #MsgLength=86


----
Modified: src/qpid/broker/Fairshare.cpp|53 23
Modified: src/qpid/broker/Fairshare.h|3 3

Revision: b574633c3ba838aa931e79fee192579c021e9996
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/03/2011 21:30:15
Message:
Realign Visual Studio projects to match new examples locations; related to QPID-3067. #MsgLength=86


----
Modified: examples/examples.sln|24 0
Renamed: examples/old_api/old-examples.sln [from examples/old-examples.sln]|0 24

Revision: 6c969235941519a484270a88a1f57942807a32a6
Author: Gordon Sim <gsim@apache.org>
Date: 03/03/2011 00:20:23
Message:
QPID-3102: Only send ttl if non-zero #MsgLength=37


----
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|3 1

Revision: da278d4d8bc0d8c929267a83c2f2fb1752a4bd99
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/03/2011 03:02:00
Message:
QPID-3081: add statistic for queue flow control transitions #MsgLength=60


----
Modified: src/qpid/broker/QueueFlowLimit.cpp|3 1
Modified: src/tests/queue_flow_limit_tests.py|2 1

Revision: efcc16f25f938a55bdb153b3e717ff3191eaf3ee
Author: Alan Conway <aconway@apache.org>
Date: 03/03/2011 05:06:51
Message:
QPID-3105: Alternate-Exchange configuration not communicated between nodes in a cluster. #MsgLength=89


----
Modified: src/qpid/cluster/Cluster.cpp|4 0
Modified: src/tests/cluster_tests.py|28 1

Revision: d6a39264bfbd3c7d7ee89c25f22b13933e98f2f8
Author: Gordon Sim <gsim@apache.org>
Date: 03/03/2011 20:45:25
Message:
QPID-3107: If queue's alternate-exchange can't route message, try that exchange's alternate-exchange #MsgLength=101


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|9 0
Modified: src/qpid/broker/Exchange.h|2 0
Modified: src/qpid/broker/Queue.cpp|1 2

Revision: d14ffe47e79e121c07258b7907af319062c082ac
Author: Ted Ross <tross@apache.org>
Date: 03/03/2011 21:55:11
Message:
QPID-3046 - Updates - Additional header comments - Added pendingEvents method to ConsoleSession and AgentSession - Ensure that nextEvent will not block if timeout is IMMEDIATE (ConsoleSession and AgentSession). #MsgLength=215


----
Modified: include/qmf/AgentSession.h|23 17
Modified: include/qmf/ConsoleSession.h|41 7
Modified: src/qmf/AgentSession.cpp|10 1
Modified: src/qmf/ConsoleSession.cpp|9 1
Modified: src/qmf/ConsoleSessionImpl.h|1 0

Revision: 5d8f204b33f2bccbb12ae3db5a4260fe3ab58e15
Author: Charles E. Rolke <chug@apache.org>
Date: 03/03/2011 23:27:11
Message:
NO-JIRA Fix a degenerate test case where the message count is small and the host system timing base yields and elapsed time of zero. The change is to throw a meaningful error message rather than throwing an obscure DIV0 error. #MsgLength=228


----
Modified: src/tests/qpid-perftest.cpp|6 1

Revision: eb2ffd546c95cf98f7abf77893e02eba6a582f4d
Author: Gordon Sim <gsim@apache.org>
Date: 04/03/2011 20:24:01
Message:
QPID-2461: Applied patch from Neil Wilson #MsgLength=42


----
Modified: src/tests/python_tests|1 1
Modified: src/tests/replication_test|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|1 1
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_test|1 1
Modified: src/tests/ssl_test|1 1

Revision: 1d706e502470f9ca50413bcdc658473530174ecf
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2011 01:57:11
Message:
QPID-3115: Recognise '_' as alternative to '-'. Throw Exception for unrecognised options. #MsgLength=90


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|54 70

Revision: 9f7d72dfd11a47207bf44dacf984b987c8eb32d0
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/03/2011 02:49:36
Message:
Remove moved file refs, related to QPID-3067. #MsgLength=46


----
Modified: examples/CMakeLists.txt|0 4

Revision: 165dca101511c48befa009bcfa56310e29501853
Author: Michael Goulish <mgoulish@apache.org>
Date: 05/03/2011 03:16:53
Message:
QPID-3117 Fix misleading --help info on --sasl-config flag. Its argument is not a file, it's a directory. #MsgLength=109


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 87f670ee36f4f7c20976048b63a74fdc8a682745
Author: Robert Gemmell <robbie@apache.org>
Date: 07/03/2011 18:21:47
Message:
NO-JIRA: increment version numbers from 0.9 to 0.11 #MsgLength=52


----
Modified: src/CMakeWinVersions.cmake|6 6

Revision: 2fdaf58a7ddb570e5f0fabb11c924ed4c7e550f1
Author: Gordon Sim <gsim@apache.org>
Date: 07/03/2011 18:34:42
Message:
QPID-3115: Recognise sasl_mechanisms (plural) and support a space separate list as does the python client (continue to recognise sasl-mechanism as well for backword compatibility) #MsgLength=180


----
Modified: src/qpid/client/ConnectionHandler.cpp|33 15
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 2

Revision: d9602c5a7d3b2849cb67e743b6ef86589bb059a3
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/03/2011 19:22:19
Message:
QPID-1672 The core script sasl_fed_ex ( used by sasl_fed_ex_* ) is modified to encapsulate broker creation, and handle clustering -- toggled by a new argument. This is an intermediate checkin.  There are not yet any scripts that actually invoke the new clustering capability. #MsgLength=282


----
Modified: src/tests/sasl_fed_ex|128 50

Revision: fb426f85ca2defaa07745d5b2537f3f907a59c6c
Author: Gordon Sim <gsim@apache.org>
Date: 07/03/2011 20:51:55
Message:
QPID-3120: Consult alternate exchange on reroute if needed #MsgLength=59


----
Modified: src/qpid/broker/Queue.cpp|1 2

Revision: deae4548b484bbfdc065a2b4129388180431d4df
Author: Gordon Sim <gsim@apache.org>
Date: 08/03/2011 02:21:00
Message:
QPID-2216: bump up log level #MsgLength=29


----
Modified: src/qpid/sys/SslPlugin.cpp|1 1

Revision: 3382f6bd8df752bcc0af4b8c20aa902ce81726fa
Author: Ted Ross <tross@apache.org>
Date: 08/03/2011 03:13:56
Message:
QPID_3122 - Added backward-compatible map keys in QMFv2 consoles for earlier development agents. #MsgLength=98


----
Modified: src/qmf/ConsoleSession.cpp|17 1

Revision: d37b2761c643cedd935bed9d0d719cb245d3fbc1
Author: Alan Conway <aconway@apache.org>
Date: 08/03/2011 05:01:49
Message:
QPID-3121: Cluster management inconsistency when using persistent store. #MsgLength=753


----
Modified: src/qpid/broker/Connection.cpp|3 0
Modified: src/qpid/broker/SemanticState.cpp|28 31
Modified: src/qpid/sys/ClusterSafe.cpp|10 0
Modified: src/qpid/sys/ClusterSafe.h|14 4
Modified: src/tests/brokertest.py|24 22
Modified: src/tests/cluster_test_logs.py|10 3
Modified: src/tests/cluster_tests.py|3 1

Revision: f23aecbab19a050bb8962024e4a7764dd7630e2b
Author: Gordon Sim <gsim@apache.org>
Date: 08/03/2011 18:00:06
Message:
QPID-3121: Fix linking on windows #MsgLength=34


----
Modified: src/qpid/sys/ClusterSafe.h|2 2

Revision: 551ee8b7b7300f91a6764aef66e6a4a4dd886536
Author: Robert Gemmell <robbie@apache.org>
Date: 08/03/2011 19:13:15
Message:
NO-JIRA: add quote mark incorrectly removed by previous update #MsgLength=63


----
Modified: src/CMakeWinVersions.cmake|1 1

Revision: d0595c22187142d6c84d4c40c97823cdebad5753
Author: Ken Giusti <kgiusti@apache.org>
Date: 08/03/2011 23:04:07
Message:
QPID-3073: refactor to eliminate locks, malloc, and map insert/remove in receive path. #MsgLength=87


----
Modified: src/qpid/broker/AsyncCompletion.h|47 16
Modified: src/qpid/broker/PersistableMessage.h|5 6
Modified: src/qpid/broker/QueueFlowLimit.cpp|3 8
Modified: src/qpid/broker/SessionState.cpp|55 91
Modified: src/qpid/broker/SessionState.h|59 53
Modified: src/tests/MessageUtils.h|0 14
Modified: src/tests/QueueTest.cpp|0 2

Revision: e23dfe2d287d9bd4a63f95e85fbd3bde2ae108d3
Author: Michael Goulish <mgoulish@apache.org>
Date: 09/03/2011 04:59:26
Message:
QPID-1672 clustered versions of the 4 federated sasl external tests. #MsgLength=70


----
Modified: src/tests/sasl.mk|1 1
Modified: src/tests/sasl_fed_ex|9 5
Added: src/tests/sasl_fed_ex_dynamic_cluster|27 0
Added: src/tests/sasl_fed_ex_link_cluster|27 0
Added: src/tests/sasl_fed_ex_queue_cluster|27 0
Added: src/tests/sasl_fed_ex_route_cluster|27 0

Revision: 1dce1e032c0304d64b242313f0bb3bb2c97c409a
Author: Ken Giusti <kgiusti@apache.org>
Date: 09/03/2011 06:43:53
Message:
QPID-3073: fix to allow older versions of boost to compile. #MsgLength=60


----
Modified: src/qpid/broker/AsyncCompletion.h|3 3
Modified: src/qpid/broker/SessionState.cpp|1 1

Revision: e366cd0c01c4c640cd21a58581a395cf9cf94ef5
Author: Michael Goulish <mgoulish@apache.org>
Date: 09/03/2011 22:10:45
Message:
QPID-1672 Add new cluster-based sasl_fed_ex tests to EXTRA-DIST #MsgLength=65


----
Modified: src/tests/sasl.mk|12 1

Revision: ee8035f3511e5cf90a9f9b62ce6558215c2bc608
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2011 23:50:02
Message:
QPID-3132: Prevent threshold events triggering directly further threshold events #MsgLength=81


----
Modified: src/qpid/broker/Message.cpp|4 1
Modified: src/qpid/broker/Message.h|3 1
Modified: src/qpid/broker/ThresholdAlerts.cpp|52 1
Modified: src/qpid/management/ManagementAgent.cpp|2 0

Revision: f5ff88f9f06b442ee0d90ef37879df78e134bc92
Author: Charles E. Rolke <chug@apache.org>
Date: 11/03/2011 03:41:07
Message:
QPID-3135 cpp/bld-winsdk.ps1 tries to install non-existent files #MsgLength=180


----
Modified: bld-winsdk.ps1|0 3

Revision: 426976b7af94e272f693ac8cd6b00e3a2357535c
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 11/03/2011 08:37:04
Message:
QPID-3138 Topic exchange perf improvement #MsgLength=42


----
Modified: src/qpid/broker/TopicExchange.cpp|16 3
Modified: src/qpid/broker/TopicExchange.h|13 1

Revision: 9be5edf5f0ade3c80047821417ee89378bdba867
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2011 22:58:31
Message:
QPID-3136: Add option to disable defaults for queue threshold alerts #MsgLength=69


----
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/ThresholdAlerts.cpp|7 7
Modified: src/qpid/broker/ThresholdAlerts.h|2 2

Revision: e371704098bc6b01b420cb427b0ac5eff755f93e
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2011 01:18:58
Message:
QPID-3137: ensure old api examples are installed into correct location #MsgLength=71


----
Modified: examples/old_api/Makefile.am|2 0
Modified: examples/old_api/direct/Makefile.am|1 1
Modified: examples/old_api/failover/Makefile.am|1 1
Modified: examples/old_api/fanout/Makefile.am|1 1
Modified: examples/old_api/pub-sub/Makefile.am|1 1
Modified: examples/old_api/request-response/Makefile.am|1 1
Modified: examples/old_api/tradedemo/Makefile.am|1 1
Modified: examples/old_api/xml-exchange/Makefile.am|1 1

Revision: fb9f12a170ba584eb5490055f61b1a011d4f7f07
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2011 06:29:14
Message:
QPID-3129: cluster_tests.LongTests.test_failover hangs #MsgLength=177


----
Modified: src/tests/brokertest.py|72 117
Modified: src/tests/cluster_tests.py|11 11

Revision: 3f5a0e189e33c11eda442f5c3c75f332790fbcf5
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2011 23:54:13
Message:
NO_JIRA: Removed faulty test, test_dr_no_message was failing sporadically. #MsgLength=220


----
Modified: src/tests/cluster_tests.py|0 19

Revision: 4b0522341d932a8d5274394dec7cec21b9648f7e
Author: Alan Conway <aconway@apache.org>
Date: 14/03/2011 22:33:44
Message:
NO-JIRA: Minor improvements to test scripts qpid-cluster-benchmark and qpid-cpp-benchmark #MsgLength=216


----
Modified: src/tests/qpid-cluster-benchmark|30 14
Modified: src/tests/qpid-cpp-benchmark|44 24
Modified: src/tests/qpid-receive.cpp|1 1
Modified: src/tests/qpid-send.cpp|1 1

Revision: be104b11145274b474ee535fa77d45c15c740ce2
Author: Carl C. Trieloff <cctrieloff@apache.org>
Date: 15/03/2011 00:30:12
Message:
QPID-3138 some cosmetic cleanup & correction for IVE #MsgLength=53


----
Modified: src/qpid/broker/TopicExchange.cpp|14 12
Modified: src/qpid/broker/TopicExchange.h|20 12

Revision: 2a983db012c2f7a7ce339b929978d9280f2999c3
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2011 04:29:02
Message:
QPID-3144: Remove "loaded module" info log message. #MsgLength=442


----
Modified: src/qpid/Modules.cpp|1 2

Revision: c90b3ea29918a9fe91f43d6b979b98f6bcc9f8cf
Author: Alan Conway <aconway@apache.org>
Date: 15/03/2011 09:49:37
Message:
NO-JIRA: Refactor RefCountedBuffer to be simpler and more flexible. #MsgLength=358


----
Modified: src/Makefile.am|5 4
Added: src/qpid/BufferRef.h|70 0
Modified: src/qpid/RefCountedBuffer.cpp|6 16
Modified: src/qpid/RefCountedBuffer.h|8 53
Modified: src/qpid/cluster/Event.cpp|3 2
Modified: src/qpid/cluster/Event.h|6 6

Revision: e9c309ec123cb411d98fa0bb33d7c766c2ed56c8
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2011 04:03:20
Message:
NO-JIRA: Put a timeout on calls to Thread.join to avoid tests hanging indefinitely. #MsgLength=84


----
Modified: src/tests/brokertest.py|7 3

Revision: 5f82e6e27a5607ad827dd7f38ced2822f7be9bc9
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2011 04:06:44
Message:
QPID-3116: rubygen with ruby 1.9 #MsgLength=108


----
Modified: rubygen/amqpgen.rb|2 1

Revision: 424c6a35b1f9fb508fc10fcfc718e48cd404bbda
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/03/2011 04:45:55
Message:
QPID-3150 This is a test-only fix. Tell the client explicitly to use DIGEST-MD5, rather than possibly defaulting to a mech that the test has not prepared for. #MsgLength=160


----
Modified: src/tests/sasl_fed|1 1

Revision: ae9b82b2096f0e1ef5fd9446b779173d9fbadc86
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/03/2011 10:44:42
Message:
QPID-3152 The non-clustered versions of the sasl_fed_ex tests should probably not attempt to load cluster.so. #MsgLength=113


----
Modified: src/tests/sasl_fed_ex|7 6

Revision: 77282b694285d5de9ff375648d83c8bcd95c1259
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/03/2011 11:12:57
Message:
QPID-3153 added check for ais_exec running -- or don't run these clustered tests #MsgLength=82


----
Modified: src/tests/sasl_fed_ex_dynamic_cluster|2 1
Modified: src/tests/sasl_fed_ex_link_cluster|2 1
Modified: src/tests/sasl_fed_ex_queue_cluster|2 1
Modified: src/tests/sasl_fed_ex_route_cluster|2 1

Revision: bfdfc8990b3c4ac9aee8e869f7f1c740b3332d62
Author: Alan Conway <aconway@apache.org>
Date: 18/03/2011 23:37:40
Message:
NO-JIRA: Fix qpidd late/overran warnings. #MsgLength=191


----
Modified: src/qpid/sys/Timer.cpp|6 4
Modified: src/qpid/sys/TimerWarnings.cpp|7 5

Revision: 3ce5312e28d9ff205fd51fa132e5062236f5c42a
Author: Alan Conway <aconway@apache.org>
Date: 19/03/2011 05:38:00
Message:
QPID-3155: Install module libraries during install-exec phase #MsgLength=239


----
Modified: src/Makefile.am|10 10
Modified: src/acl.mk|2 2
Modified: src/cluster.mk|3 3
Modified: src/replication.mk|3 3
Modified: src/ssl.mk|3 3
Modified: src/xml.mk|1 1

Revision: 330d3fcc5154a9fa5c4676b1ffdec4f76e511bf6
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2011 02:05:38
Message:
QPID-3147: Misconfigured tracing/logging can lead to hung threads in logging stack #MsgLength=305


----
Added: src/qpid/DisableExceptionLogging.h|39 0
Modified: src/qpid/Exception.cpp|14 2
Modified: src/qpid/log/Logger.cpp|9 3

Revision: c70354b5ef9ab21d2e07834b4e0c4b65a0aa01a0
Author: Alan Conway <aconway@apache.org>
Date: 22/03/2011 05:17:32
Message:
QPID-3147: Added missing qpid/DisableExceptionLogging.h to source list in Makefile.am. #MsgLength=87


----
Modified: src/Makefile.am|1 0

Revision: b03018350d9658bb335ae9519cf0c9d0ae9c4bc7
Author: Ted Ross <tross@apache.org>
Date: 22/03/2011 10:21:07
Message:
NO-JIRA - Fixed two problems in the qmf-interop tests: 1) Added a 2-second delay on console startup.  This closes the window on a race condition that occurs when the console and agent start at exactly the same time.  Note that this race has been designed out of the QMFv2 protocol. 2) Fixed a reference to an incorrect variable name in the assert(cond) message. #MsgLength=377


----
Modified: bindings/qmf/tests/test_base.rb|2 1

Revision: c5e9c2eb1c229a1212284066a6f93bb7b93da94a
Author: Alan Conway <aconway@apache.org>
Date: 23/03/2011 02:26:14
Message:
QPID-3160: Check in pre-generated man page #MsgLength=482


----
Modified: docs/man/Makefile.am|19 2
Added: docs/man/qpidd.1|292 0
Modified: docs/man/qpidd.x|2 0
Modified: src/Makefile.am|0 4

Revision: 017d9b486d8b5e6c67a89c53917deda15957ad3a
Author: Alan Conway <aconway@apache.org>
Date: 23/03/2011 04:13:47
Message:
QPID-3160: Remove file/directory defaults from pre-generated man page. #MsgLength=298


----
Modified: docs/man/Makefile.am|2 0
Modified: docs/man/qpidd.1|69 69

Revision: ecd6014c143c5a2005ed48cc15a83c1df0966f23
Author: Ted Ross <tross@apache.org>
Date: 23/03/2011 05:39:31
Message:
QPID-3159 - Applied patch from Angus Salkeld #MsgLength=46


----
Modified: managementgen/qmfgen/schema.py|2 2

Revision: e04a3cea0137a9c47ac4b207cd8a0c53c3664115
Author: Ted Ross <tross@apache.org>
Date: 24/03/2011 05:51:05
Message:
NO-JIRA - ACL Modules "reload" method now returns OK status if there was no error. #MsgLength=84


----
Modified: src/qpid/acl/Acl.cpp|4 1

Revision: 55378378a53eefa4d40abddb59c8ff455d57c722
Author: Ken Giusti <kgiusti@apache.org>
Date: 25/03/2011 02:34:13
Message:
QPID-3168: fix queue flow control --help text #MsgLength=46


----
Modified: docs/man/qpidd.1|157 202
Modified: src/qpid/broker/Broker.cpp|2 2

Revision: a5634eadb376148cd38971efd0b27222cf34d233
Author: Ted Ross <tross@apache.org>
Date: 30/03/2011 02:21:06
Message:
NO-JIRA - Fixed case error in the automake file. This caused a missing dependency in the qpidtypes library. #MsgLength=109


----
Modified: src/Makefile.am|1 1

Revision: 97cc3cfeed828aec7efe4d304d6e6ae14f3d5aa0
Author: Michael Goulish <mgoulish@apache.org>
Date: 31/03/2011 03:11:09
Message:
qpid-3171 #MsgLength=735


----
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 1

Revision: 8f8580e58da99d4dd608f11a9336cac99e6d98c2
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2011 03:30:16
Message:
QPID-3129: cluster_tests.LongTests.test_failover hangs #MsgLength=612


----
Modified: src/qpid/sys/posix/Socket.cpp|27 10
Modified: src/tests/brokertest.py|1 1

Revision: a7c3e1755843e2eb3790ec57aa6725044c487e82
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/03/2011 23:33:20
Message:
Add missing CMakeLists.txt to files to distribute. Fixes QPID-3176. #MsgLength=68


----
Modified: examples/old_api/Makefile.am|1 1

Revision: b985b1e30ce23ff627dc47468866a04eea052516
Author: Gordon Sim <gsim@apache.org>
Date: 01/04/2011 20:05:04
Message:
QPID-3180: fix ring queues for the case where max size is 0 (implying infinite size) #MsgLength=85


----
Modified: src/qpid/broker/QueuePolicy.cpp|1 1

Revision: 493e14c6a512f79c691c7ebbf561b672df895ebb
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/04/2011 03:36:26
Message:
QPID-3174: remove unnecessary enqueueComplete() calls #MsgLength=54


----
Modified: src/qpid/broker/Queue.cpp|3 3

Revision: 540338fe67c51ab8fd666e8c96a2efe3a625aada
Author: Gordon Sim <gsim@apache.org>
Date: 04/04/2011 18:23:43
Message:
QPID-3174: remove further unnecessary enqueueComplete() calls [enqueueAsync() only called when enqueing in a store, and is not required on recovery at all] #MsgLength=156


----
Modified: src/qpid/broker/RecoveredDequeue.cpp|0 1
Modified: src/qpid/broker/RecoveredEnqueue.cpp|0 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|0 1
Modified: src/qpid/broker/TxPublish.cpp|1 8

Revision: 602365a608de8653f9dea4c313256445b0128576
Author: Alan Conway <aconway@apache.org>
Date: 05/04/2011 03:15:30
Message:
NO-JIRA: minor improvements to qpid-cpp-benchmark, more flexible arguments. #MsgLength=76


----
Modified: src/tests/qpid-cluster-benchmark|9 6

Revision: 9dc819ca607a4d863817f49ea32dd70c6ab8e23a
Author: Gordon Sim <gsim@apache.org>
Date: 05/04/2011 18:05:33
Message:
QPID-3187: Added exception handling safeguard for timer tasks #MsgLength=62


----
Modified: src/qpid/sys/Timer.cpp|5 1

Revision: 39595efb98a94a2cfd0c26abf4d89288b6857ae1
Author: Michael Goulish <mgoulish@apache.org>
Date: 06/04/2011 12:39:40
Message:
gsim's patch to bring c++ logic in line with other clients. #MsgLength=223


----
Modified: src/qpid/SaslFactory.cpp|9 8

Revision: bd3544bf637cd3e25ffc450a2acf3c968d7d4fad
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2011 03:37:10
Message:
NO-JIRA: Fix bug in Cluster::timerDrop - calling wrong function. #MsgLength=65


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: a0c2a626edc5e1c06a3b4c84c268c157c8cbf199
Author: Charles E. Rolke <chug@apache.org>
Date: 08/04/2011 04:40:10
Message:
QPID-3192 .NET Binding for Messaging classes are missing intrinsic copy constructors. #MsgLength=248


----
Modified: bindings/qpid/dotnet/src/Address.cpp|23 1
Modified: bindings/qpid/dotnet/src/Address.h|1 0
Modified: bindings/qpid/dotnet/src/Connection.cpp|23 1
Modified: bindings/qpid/dotnet/src/Connection.h|1 0
Modified: bindings/qpid/dotnet/src/Message.cpp|24 2
Modified: bindings/qpid/dotnet/src/Message.h|1 0
Modified: bindings/qpid/dotnet/src/Receiver.cpp|24 1
Modified: bindings/qpid/dotnet/src/Receiver.h|1 0
Modified: bindings/qpid/dotnet/src/Sender.cpp|24 1
Modified: bindings/qpid/dotnet/src/Sender.h|1 0
Modified: bindings/qpid/dotnet/src/Session.cpp|25 1
Modified: bindings/qpid/dotnet/src/Session.h|1 0

Revision: 4b6d8e4906e81bea9b42947c8639753363a2361d
Author: Kim van der Riet <kpvdr@apache.org>
Date: 08/04/2011 21:59:42
Message:
QPID-3191: A fix for the performance problem which replaces the QueueListeners std::vector with a std::deque and adds some other improvements. #MsgLength=143


----
Modified: src/qpid/broker/Consumer.h|6 1
Modified: src/qpid/broker/QueueListeners.cpp|21 15
Modified: src/qpid/broker/QueueListeners.h|2 2

Revision: 0a23d9fe299871a5651a50e307951742c843258f
Author: Ken Giusti <kgiusti@apache.org>
Date: 08/04/2011 22:28:43
Message:
QPID-3170: correct deletion of federation routes when keys match. #MsgLength=66


----
Modified: src/qpid/broker/DirectExchange.cpp|6 5
Modified: src/qpid/broker/Exchange.h|14 10
Modified: src/qpid/broker/FanOutExchange.cpp|8 3
Modified: src/qpid/broker/HeadersExchange.cpp|4 7
Modified: src/qpid/broker/TopicExchange.cpp|41 24
Modified: src/qpid/broker/TopicExchange.h|4 1
Modified: src/tests/federation.py|299 1

Revision: bc36aa3247b3ed8e1a20b66e0a8a85d669447c67
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2011 23:11:06
Message:
QPID-3198: Clustered broker should exit on unknown connection. #MsgLength=63


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: a25835c8b1b36beef0eaac370a67f2ef061a29b9
Author: Ken Giusti <kgiusti@apache.org>
Date: 12/04/2011 03:04:02
Message:
QPID-3197: prevent async command completer from accessing session's connection when session is detached #MsgLength=104


----
Modified: src/qpid/broker/SessionState.cpp|21 1
Modified: src/qpid/broker/SessionState.h|5 2

Revision: b0e445d5becfb831ddf590d4a28ace355fdacd91
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/04/2011 05:47:07
Message:
QPID-3199: Locking error qpid::sys::StateMonitor #MsgLength=49


----
Modified: src/qpid/sys/StateMonitor.h|4 4

Revision: efb58ec80542434326cc49416a084133c934fb28
Author: Gordon Sim <gsim@apache.org>
Date: 12/04/2011 23:04:00
Message:
QPID-3201: locking in NullMessageStore to protect set of prepared xids #MsgLength=71


----
Modified: src/qpid/broker/NullMessageStore.cpp|4 0
Modified: src/qpid/broker/NullMessageStore.h|2 0

Revision: ee8a7dadec6bfd12fdad7490abbca06bd3c459a8
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2011 22:06:48
Message:
QPID-3202: Clustered brokers shut down with "unknown connection" error. #MsgLength=358


----
Modified: src/qpid/cluster/Connection.cpp|7 5
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|14 8
Modified: src/qpid/cluster/OutputInterceptor.h|5 5

Revision: 000d35b0c042fca5953ba9f54e470c1d01abf96f
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2011 21:16:03
Message:
QPID-3206: added special cases to catch negative numeric string conversions to unsigned values #MsgLength=95


----
Modified: src/qpid/types/Variant.cpp|17 4
Modified: src/tests/Variant.cpp|58 0

Revision: be73780b16c4e15d99f9283a9d9f858982049e43
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2011 22:51:28
Message:
QPID-3206: fix broken test from previous commit #MsgLength=48


----
Modified: src/tests/Variant.cpp|2 2

Revision: c47baf473b91513d215b25594ff5d5396c89fd8b
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2011 01:03:17
Message:
QPID-3208: Exchanges make best effort to route messages if there is an error. #MsgLength=377


----
Modified: src/qpid/broker/Exchange.cpp|56 3
Modified: src/tests/brokertest.py|13 7
Modified: src/tests/cluster_tests.py|30 0

Revision: 1af6fe312de05743f52dbf3e23ada8272b800ef1
Author: Gordon Sim <gsim@apache.org>
Date: 16/04/2011 01:38:26
Message:
QPID-3204: Add logging for queue threshold events #MsgLength=50


----
Modified: src/qpid/broker/ThresholdAlerts.cpp|1 0

Revision: e049bbb2af8a1c4fa35590115b25985d7704b916
Author: Alan Conway <aconway@apache.org>
Date: 16/04/2011 04:40:06
Message:
Revert "QPID-3208: Exchanges make best effort to route messages if there is an error." #MsgLength=163


----
Modified: src/qpid/broker/Exchange.cpp|3 56
Modified: src/tests/brokertest.py|7 13
Modified: src/tests/cluster_tests.py|0 30

Revision: 3679199329e7726df3c8a0150aba3c0e63270b16
Author: Alan Conway <aconway@apache.org>
Date: 19/04/2011 04:40:53
Message:
QPID-3208: Exchanges make best effort to route messages if there is an error. #MsgLength=548


----
Modified: include/qpid/sys/ExceptionHolder.h|5 8
Modified: src/qpid/broker/Exchange.cpp|53 7
Modified: src/tests/QueueTest.cpp|21 9
Modified: src/tests/brokertest.py|13 7
Modified: src/tests/cluster_tests.py|30 0

Revision: 5d568657d1cf5d7843a088f248a365b4fff59954
Author: Alan Conway <aconway@apache.org>
Date: 20/04/2011 01:46:03
Message:
QPID-3215: cached exchange reference can cause cluster inconsistencies if exchange is deleted/recreated #MsgLength=513


----
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/Exchange.h|11 7
Modified: src/qpid/broker/ExchangeRegistry.cpp|6 5
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/tests/cluster_tests.py|48 0

Revision: e5b966c2108ca0fc0dfff8b614c44bbd75259406
Author: Alan Conway <aconway@apache.org>
Date: 20/04/2011 04:38:02
Message:
QPID-3215: cached exchange reference can cause cluster inconsistencies if exchange is deleted/recreated (2) #MsgLength=207


----
Modified: src/qpid/broker/Exchange.cpp|1 1

Revision: d282eabdaa0525072a19b17881db6bb6b1161f91
Author: Alan Conway <aconway@apache.org>
Date: 20/04/2011 04:55:50
Message:
QPID-3217: Exchanges with IVE option cause cluster inconsistencies in updatees #MsgLength=220


----
Modified: src/qpid/broker/Exchange.cpp|5 1

Revision: 6c8d6c4a1b147827f37f1a5fc7ab818c3f8606b6
Author: Gordon Sim <gsim@apache.org>
Date: 26/04/2011 21:42:24
Message:
QPID-3222: Prevent ttl overflow; also adds equality operators for qpid::messaging::Duration. #MsgLength=93


----
Modified: include/qpid/messaging/Duration.h|2 0
Modified: src/qpid/broker/Message.cpp|6 3
Modified: src/qpid/messaging/Duration.cpp|10 0
Modified: src/tests/MessagingSessionTests.cpp|14 0

Revision: 567484bdc1ca41ded9ab709dcb46cd0818d0cccd
Author: Charles E. Rolke <chug@apache.org>
Date: 27/04/2011 04:38:06
Message:
QPID-3226 Define more intuitive equality operators for Duration instances #MsgLength=119


----
Modified: bindings/qpid/dotnet/src/Duration.h|11 1

Revision: 8a060ace0b9883349e42976d2089dbf7c14cce24
Author: Ken Giusti <kgiusti@apache.org>
Date: 27/04/2011 20:51:26
Message:
QPID-3227: account for extra header bytes when computing data size for send buffers. #MsgLength=85


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|8 7
Modified: src/qpid/sys/rdma/rdma_wrap.h|5 3

Revision: 177009f3cab7516859573f92a2b2dbee6542e2cc
Author: Ken Giusti <kgiusti@apache.org>
Date: 28/04/2011 20:25:59
Message:
QPID-3076: enable flow control for clustered broker configurations. #MsgLength=68


----
Modified: src/qpid/broker/Broker.cpp|1 7
Modified: src/qpid/broker/Queue.h|5 0
Modified: src/qpid/broker/QueueFlowLimit.cpp|78 57
Modified: src/qpid/broker/QueueFlowLimit.h|5 6
Added: src/qpid/broker/StatefulQueueObserver.h|63 0
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|43 0
Modified: src/qpid/cluster/Connection.h|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|23 0
Modified: src/qpid/cluster/UpdateClient.h|3 0
Modified: src/tests/QueueFlowLimitTest.cpp|2 0
Modified: src/tests/cluster_tests.py|153 14
Modified: src/tests/queue_flow_limit_tests.py|7 9
Modified: xml/cluster.xml|8 0

Revision: 932f1b330e1f513eb048d65ec71bcc668d3fd056
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/04/2011 02:39:00
Message:
QPID-3076: fix compilation for older version of boost library. #MsgLength=63


----
Modified: src/qpid/broker/QueueFlowLimit.cpp|4 3

Revision: 765b90cbc39d834fac08433d7f6ff376461596ee
Author: Ted Ross <tross@apache.org>
Date: 29/04/2011 03:59:44
Message:
NO-JIRA - Doxygen Footer change Replaced $datetime with $date to reduce the granularity of the generated timestamp. This avoids multi-lib install problems with simultaneous builds for different machine architectures. #MsgLength=218


----
Modified: docs/api/footer.html|1 1

Revision: 9b22c295759476ad31d5e6e278c6ce70550c2f56
Author: Ted Ross <tross@apache.org>
Date: 29/04/2011 04:01:43
Message:
NO-JIRA - Added -fno-strict-aliasing for swig-generated C++ sources. #MsgLength=70


----
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf2/ruby/Makefile.am|1 1
Modified: bindings/qpid/perl/CMakeLists.txt|1 1
Modified: bindings/qpid/perl/Makefile.am|1 1
Modified: bindings/qpid/ruby/CMakeLists.txt|1 1
Modified: bindings/qpid/ruby/Makefile.am|1 1

Revision: e1dd20fb236cf243fd209504da85f2d7a649527c
Author: Alan Conway <aconway@apache.org>
Date: 29/04/2011 23:21:20
Message:
QPID-3235: clustered qpidd broker fails ocassionly the cluster_tests.ShortTests.test_route_update #MsgLength=309


----
Modified: src/qpid/broker/Link.cpp|26 22
Modified: src/qpid/broker/Link.h|6 4
Modified: src/qpid/broker/LinkRegistry.cpp|3 3
Modified: src/tests/cluster_tests.py|7 1

Revision: c07046ed50724f8909b390d7b6e920fb559b9cb7
Author: Ken Giusti <kgiusti@apache.org>
Date: 30/04/2011 04:06:47
Message:
QPID-3227: assert if application or reserved header overflows send buffer. #MsgLength=75


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|7 5
Modified: src/qpid/sys/rdma/rdma_wrap.h|2 0

Revision: 43cd3d6f956e08a3af18162997432aaf489a5c10
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/05/2011 21:20:36
Message:
QPID-3236 - Add high-resolution timestamps to log files for debug situations. Windows impl has a stub only. #MsgLength=108


----
Modified: include/qpid/log/Logger.h|1 1
Modified: include/qpid/log/Options.h|1 1
Modified: include/qpid/sys/Time.h|3 0
Modified: src/qpid/log/Logger.cpp|8 3
Modified: src/qpid/log/Options.cpp|4 0
Modified: src/qpid/sys/posix/Time.cpp|7 0
Modified: src/qpid/sys/windows/Time.cpp|9 0

Revision: a5430d969a9bad81824641d242a34d2b9c28c066
Author: Michael Goulish <mgoulish@apache.org>
Date: 03/05/2011 02:13:00
Message:
QPID-3239 qpid-tool is no longer printing status of clustered broker links, so this test code (which is used by several tests) hangs. so make it look at the "transport" field instead. also -- if this test is run on a machine that is clustered with several others -- and if there is another copy of the test running on one of the other machines -- the brokers on the different machinnes will form One Big Cluster.  append the box-name to the cluster name. #MsgLength=456


----
Modified: src/tests/sasl_fed_ex|27 12

Revision: 31f45f4e67111b6ae9ec1bbbc740b8de8d759b77
Author: Ted Ross <tross@apache.org>
Date: 04/05/2011 04:15:22
Message:
QPID-3241 - Deadlock in qmf agent triggered by producer flow control #MsgLength=70


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|178 164

Revision: bb21ee5b5b83cb18c15ae9a028fdea527c02ad0b
Author: Ken Giusti <kgiusti@apache.org>
Date: 04/05/2011 06:04:51
Message:
QPID-3243: correctly use --max-queue-count value to compute flow limit. #MsgLength=72


----
Modified: src/qpid/broker/QueueFlowLimit.cpp|9 3
Modified: src/tests/QueuePolicyTest.cpp|1 0
Modified: src/tests/cluster_tests.py|1 1
Modified: src/tests/queue_flow_limit_tests.py|21 0

Revision: 64dcb6691355b950e28970ad1c2710545e0a45ea
Author: Ken Giusti <kgiusti@apache.org>
Date: 04/05/2011 06:13:52
Message:
QPID-3244: C++ broker should release flow control for a queue when it is deleted. #MsgLength=82


----
Modified: src/qpid/broker/QueueFlowLimit.cpp|15 0
Modified: src/qpid/broker/QueueFlowLimit.h|1 1

Revision: 9c67c87c9d02755ec31b4a997159c2370f2f6de1
Author: Ken Giusti <kgiusti@apache.org>
Date: 04/05/2011 20:03:27
Message:
QPID-3244: fix windows build #MsgLength=29


----
Modified: src/qpid/broker/QueueFlowLimit.h|1 1

Revision: a03e1af288efd2773317b413d9f49cb3045cebb8
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/05/2011 04:26:09
Message:
QPID-3243: unit test to verify fix. #MsgLength=36


----
Modified: src/tests/queue_flow_limit_tests.py|93 26
Modified: src/tests/run_queue_flow_limit_tests|3 1

Revision: 06bd4cc4c907ed02506c9f410d558e3698c2c711
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/05/2011 05:41:40
Message:
QPID-3244: unit test for the fix. #MsgLength=34


----
Modified: src/tests/cluster_tests.py|48 0
Modified: src/tests/queue_flow_limit_tests.py|42 0

Revision: a1149df5a9a458c238f91c9a491520ab60450137
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/05/2011 06:03:42
Message:
Added Windows high-res timer output. Resolves QPID-3236 #MsgLength=56


----
Modified: src/qpid/sys/windows/Time.cpp|29 6

Revision: 6803859eb0e75f00685d59fe7291c5e6304bf450
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:55:08
Message:
QPID-3004: Get Clang to compile qpid c++ - Fixed constness when getting message property #MsgLength=89


----
Modified: src/qpid/broker/Message.h|1 1

Revision: e3d9edad5f19c84005e7bff1b16092efa84ff456
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:55:16
Message:
QPID-3004: Get Clang to compile qpid c++ - Remove illegal mutable #MsgLength=66


----
Modified: src/qpid/framing/SendContent.h|1 1

Revision: 61f4695a4b1a30ddc2897b6b605e03fd5a469030
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:55:29
Message:
QPID-3004: Get Clang to compile qpid c++ - Change class/struct declarations to be consistent with the definition to avoid warnings #MsgLength=133


----
Modified: include/qmf/Query.h|1 1
Modified: include/qmf/Subscription.h|1 1
Modified: src/qpid/cluster/Cluster.h|3 3
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/Decoder.h|1 1
Modified: src/qpid/cluster/ErrorCheck.h|1 1
Modified: src/qpid/cluster/UpdateClient.h|3 3
Modified: src/qpid/sys/posix/Thread.cpp|2 1
Modified: src/qpid/sys/ssl/SslHandler.h|1 1

Revision: 4541a38b91b1aa65e266738388e01f8afc86b6af
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:55:41
Message:
QPID-3004: Get Clang to compile qpid c++ - Removed unused code causing warnings #MsgLength=80


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|0 3
Modified: src/qpid/broker/SessionHandler.cpp|0 5
Modified: src/qpid/cluster/ClusterMap.cpp|0 5
Modified: src/qpid/framing/FieldTable.cpp|1 1

Revision: 209920800075bcfc5d8fbd3e347d58e0c01e3490
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:55:49
Message:
QPID-3004: Get Clang to compile qpid c++ - Explicitly specify parent method as clang didn't find it [is this a clang++ 2.9 bug?] #MsgLength=131


----
Modified: src/qpid/sys/StateMonitor.h|3 3

Revision: d613b17be4dd8446c0f6cfd5ac04d1a89bee9257
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:56:00
Message:
QPID-3004: Get Clang to compile qpid c++ - Finish getting boost::intrusive_ptr working (may be compiler bug) #MsgLength=109


----
Modified: src/qmf/PrivateImplRef.h|1 1
Modified: src/qpid/RefCounted.h|4 2
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/types.h|1 0
Modified: src/qpid/framing/MethodBodyFactory.h|1 0

Revision: f93bdc1c37da0e736ecddbe5d2fc2b28ecb65632
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:56:11
Message:
QPID-3004: Get Clang to compile qpid c++ - Add new template function for FieldValue::getIntegerValue() to avoid compile error when extracting into 1 byte ints. #MsgLength=162


----
Modified: include/qpid/framing/FieldValue.h|13 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|3 3
Modified: src/qpid/management/ManagementAgent.cpp|3 3

Revision: c4ded2a560930535a6ea1c3cdbab5d5aab2e091b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:56:20
Message:
QPID-3004: Get Clang to compile qpid c++ - Avoid pointer alignment conversion error by using union instead #MsgLength=109


----
Modified: src/qmf/engine/SchemaImpl.cpp|6 3

Revision: 3d094392773eb3e64fe6179a87f216645f8af149
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/05/2011 03:56:29
Message:
QPID-3004: Get Clang to compile qpid c++ - Make clang use slow mutex protected AtomicValue This is the simplest solution to clang not supporting 64 bit atomic builtins. #MsgLength=173


----
Modified: src/qpid/sys/AtomicValue.h|6 1

Revision: ed9bb5d41275e149fc5aa2a7dd836314c33e489f
Author: Ken Giusti <kgiusti@apache.org>
Date: 11/05/2011 21:02:32
Message:
QPID-3252: flush msgs when sync requested. #MsgLength=43


----
Modified: src/qpid/broker/SessionState.cpp|51 5
Modified: src/qpid/broker/SessionState.h|17 7

Revision: c6352dd3a25ef8dc66ec52da7d5dccc562b1bf4d
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/05/2011 20:30:48
Message:
Predefine QMFE_EXTERN so it doesn't show up in generated output; resolves QPID-3258 #MsgLength=84


----
Modified: docs/api/developer.doxygen.in|1 1
Modified: docs/api/user.doxygen.in|1 1

Revision: 9c12d6852303f6c1250a44e8bd26bd6818c37538
Author: Michael Goulish <mgoulish@apache.org>
Date: 17/05/2011 22:43:53
Message:
QPID-3262 - remove support for archain Boost 103200 #MsgLength=52


----
Modified: include/qpid/Options.h|0 88
Modified: src/qpid/Options.cpp|0 269
Modified: src/tests/.valgrind.supp|0 74

Revision: c90d20888c9c3a4d72735656f89d11da0a2c04a0
Author: Ted Ross <tross@apache.org>
Date: 18/05/2011 05:02:34
Message:
QPID-3186 - Import Export generalization to support a larger set of compilers and run time environments #MsgLength=105


----
Modified: include/qmf/Agent.h|1 1
Modified: include/qmf/AgentEvent.h|1 1
Modified: include/qmf/AgentSession.h|1 1
Modified: include/qmf/ConsoleEvent.h|1 1
Modified: include/qmf/ConsoleSession.h|1 1
Modified: include/qmf/Data.h|1 1
Modified: include/qmf/DataAddr.h|1 1
Modified: include/qmf/Handle.h|5 5
Modified: include/qmf/ImportExport.h|9 7
Modified: include/qmf/Query.h|1 1
Modified: include/qmf/Schema.h|1 1
Modified: include/qmf/SchemaId.h|1 1
Modified: include/qmf/SchemaMethod.h|1 1
Modified: include/qmf/SchemaProperty.h|1 1
Modified: include/qmf/Subscription.h|1 1
Modified: include/qmf/engine/QmfEngineImportExport.h|9 0
Modified: include/qmf/exceptions.h|4 4
Modified: include/qpid/Address.h|1 1
Modified: include/qpid/CommonImportExport.h|8 6
Modified: include/qpid/Exception.h|6 6
Added: include/qpid/ImportExport.h|71 0
Modified: include/qpid/Url.h|1 1
Modified: include/qpid/agent/QmfAgentImportExport.h|9 7
Modified: include/qpid/client/ClientImportExport.h|8 6
Modified: include/qpid/client/Completion.h|1 1
Modified: include/qpid/client/Connection.h|1 1
Modified: include/qpid/client/ConnectionSettings.h|1 1
Modified: include/qpid/client/FailoverListener.h|1 1
Modified: include/qpid/client/FailoverManager.h|1 1
Modified: include/qpid/client/Future.h|1 1
Modified: include/qpid/client/FutureResult.h|1 1
Modified: include/qpid/client/Handle.h|5 5
Modified: include/qpid/client/LocalQueue.h|1 1
Modified: include/qpid/client/Message.h|1 1
Modified: include/qpid/client/MessageListener.h|1 1
Modified: include/qpid/client/MessageReplayTracker.h|1 1
Modified: include/qpid/client/QueueOptions.h|1 1
Modified: include/qpid/client/SessionBase_0_10.h|1 1
Modified: include/qpid/client/Subscription.h|4 4
Modified: include/qpid/client/SubscriptionManager.h|1 1
Modified: include/qpid/console/Agent.h|7 7
Modified: include/qpid/console/Broker.h|8 8
Modified: include/qpid/console/ConsoleImportExport.h|8 6
Modified: include/qpid/framing/Array.h|13 13
Modified: include/qpid/framing/Buffer.h|8 8
Modified: include/qpid/framing/FieldTable.h|2 2
Modified: include/qpid/framing/FieldValue.h|4 4
Modified: include/qpid/framing/List.h|12 12
Modified: include/qpid/framing/ProtocolVersion.h|6 6
Modified: include/qpid/framing/SequenceNumber.h|1 1
Modified: include/qpid/framing/SequenceSet.h|1 1
Modified: include/qpid/framing/StructHelper.h|1 1
Modified: include/qpid/framing/Uuid.h|5 5
Modified: include/qpid/log/Logger.h|2 2
Modified: include/qpid/management/ManagementObject.h|9 9
Modified: include/qpid/messaging/Address.h|1 1
Modified: include/qpid/messaging/Connection.h|1 1
Modified: include/qpid/messaging/Duration.h|3 3
Modified: include/qpid/messaging/FailoverUpdates.h|1 1
Modified: include/qpid/messaging/Handle.h|5 5
Modified: include/qpid/messaging/ImportExport.h|8 6
Modified: include/qpid/messaging/Message.h|11 11
Modified: include/qpid/messaging/Receiver.h|1 1
Modified: include/qpid/messaging/Sender.h|1 1
Modified: include/qpid/messaging/Session.h|1 1
Modified: include/qpid/messaging/exceptions.h|21 21
Modified: include/qpid/sys/IntegerTypes.h|1 1
Modified: include/qpid/sys/Runnable.h|1 1
Modified: include/qpid/sys/Time.h|1 1
Modified: include/qpid/types/Exception.h|1 1
Modified: include/qpid/types/ImportExport.h|8 6
Modified: include/qpid/types/Uuid.h|1 1
Modified: include/qpid/types/Variant.h|2 2
Modified: rubygen/0-10/specification.rb|1 1
Modified: rubygen/MethodBodyDefaultVisitor.rb|1 1
Modified: rubygen/cppgen.rb|3 0
Modified: rubygen/framing.0-10/MethodBodyDefaultVisitor.rb|1 1
Modified: rubygen/framing.0-10/OperationsInvoker.rb|1 1
Modified: rubygen/framing.0-10/Proxy.rb|2 2
Modified: rubygen/framing.0-10/Session.rb|2 2
Modified: rubygen/framing.0-10/structs.rb|1 1
Modified: src/Makefile.am|1 0
Modified: src/qpid/amqp_0_10/SessionHandler.h|2 2
Modified: src/qpid/broker/BrokerImportExport.h|16 7
Modified: src/qpid/broker/DeliverableMessage.h|1 1
Modified: src/qpid/broker/Exchange.h|2 2
Modified: src/qpid/broker/ExpiryPolicy.h|1 1
Modified: src/qpid/broker/MessageBuilder.h|1 1
Modified: src/qpid/broker/NullMessageStore.h|1 1
Modified: src/qpid/broker/PersistableMessage.h|4 4
Modified: src/qpid/broker/TopicExchange.h|1 1
Modified: src/qpid/broker/TxPublish.h|1 1
Modified: src/qpid/framing/AMQBody.h|1 1
Modified: src/qpid/framing/AMQContentBody.h|6 6
Modified: src/qpid/framing/AMQFrame.h|1 1
Modified: src/qpid/framing/AMQHeaderBody.h|1 1
Modified: src/qpid/framing/AMQHeartbeatBody.h|1 1
Modified: src/qpid/framing/TransferContent.h|1 1
Modified: src/qpid/log/windows/SinkOptions.h|1 1
Modified: src/qpid/sys/AggregateOutput.h|1 1
Modified: src/qpid/sys/AsynchIOHandler.h|1 1
Modified: src/qpid/sys/Poller.h|1 1
Modified: src/qpid/sys/Socket.h|2 2

Revision: 34df046c0ffdf8e30e1af31fa16e263520740fc7
Author: Ted Ross <tross@apache.org>
Date: 18/05/2011 05:05:49
Message:
QPID-2905 - Misc. code cleanup to allow compilation on a wider set of compilers. #MsgLength=82


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|5 2
Modified: src/qpid/client/windows/SaslFactory.cpp|2 2
Modified: src/qpid/log/windows/SinkOptions.cpp|2 2
Modified: src/qpid/sys/windows/AsynchIoResult.h|1 1
Modified: src/qpid/sys/windows/IocpPoller.cpp|3 3
Modified: src/qpid/sys/windows/Shlib.cpp|2 1
Modified: src/qpid/types/Variant.cpp|5 5
Modified: src/windows/QpiddBroker.cpp|2 2

Revision: 9a546931f424544398c5dec9694ab75207cce658
Author: Ted Ross <tross@apache.org>
Date: 18/05/2011 08:29:29
Message:
QPID-3186 - Two missing files from the previous commit #MsgLength=56


----
Modified: bindings/qmf2/qmf2.i|1 0
Modified: bindings/qpid/qpid.i|1 0

Revision: 20a1962feecbc27017ffca223805b646b6f84270
Author: Ted Ross <tross@apache.org>
Date: 18/05/2011 10:14:07
Message:
QPID-2905 - Code modifications to enable Windows builds with the mingw32 compiler. #MsgLength=84


----
Modified: include/qpid/sys/Thread.h|5 1
Modified: include/qpid/sys/windows/IntegerTypes.h|5 1
Modified: src/CMakeLists.txt|3 4
Modified: src/qpid/broker/windows/BrokerDefaults.cpp|6 0
Modified: src/qpid/sys/alloca.h|16 13
Modified: src/qpid/sys/windows/AsynchIO.cpp|6 4
Modified: src/qpid/sys/windows/Socket.cpp|5 0
Modified: src/qpid/sys/windows/SocketAddress.cpp|5 0
Modified: src/qpid/sys/windows/StrError.cpp|6 1
Modified: src/qpid/sys/windows/Time.cpp|4 0
Added: src/qpid/sys/windows/mingw32_compat.h|39 0
Modified: src/qpid/sys/windows/uuid.cpp|5 1
Modified: src/tests/TimerTest.cpp|3 1
Modified: src/tests/windows/DisableWin32ErrorWindows.cpp|4 0

Revision: 20fb08c1ae5278f45f184959a72b690a0c38040e
Author: Gordon Sim <gsim@apache.org>
Date: 20/05/2011 17:38:08
Message:
QPID-3268: correct connection option syntax in usage statement #MsgLength=63


----
Modified: examples/messaging/drain.cpp|1 1
Modified: examples/messaging/spout.cpp|1 1

Revision: 10906e93da468243a0928fe6cb30a9198fa579dd
Author: Ted Ross <tross@apache.org>
Date: 25/05/2011 22:28:41
Message:
NO-JIRA - Makefile cleanup for wrapped bindings #MsgLength=49


----
Modified: bindings/qmf/python/Makefile.am|3 1
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf2/python/Makefile.am|2 2
Modified: bindings/qmf2/ruby/Makefile.am|1 1
Modified: bindings/qpid/python/Makefile.am|2 2
Modified: bindings/qpid/ruby/Makefile.am|1 1
Modified: managementgen/Makefile.am|2 1

Revision: 80f01b7104ab47eb194183beb3d922c6f7f97c05
Author: Gordon Sim <gsim@apache.org>
Date: 26/05/2011 21:30:41
Message:
QPID-3278: pass container for expired messages by reference #MsgLength=60


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/tests/ClientSessionTest.cpp|6 1

Revision: 1882484493076559fa2119d1f6925a1a8b2ad9b7
Author: Charles E. Rolke <chug@apache.org>
Date: 26/05/2011 22:55:26
Message:
QPID-3252 #MsgLength=104


----
Modified: src/qpid/broker/SessionState.cpp|3 1

Revision: 41afeb5bf8e568f93abac738f33741cdb5dae07d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:16
Message:
Refactor socket connect calls to take a string port This is used used to implement unix domain sockets - QPID-3281 #MsgLength=115


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|3 3
Modified: src/qpid/client/ConnectionImpl.cpp|5 3
Modified: src/qpid/client/Connector.h|1 1
Modified: src/qpid/client/RdmaConnector.cpp|3 3
Modified: src/qpid/client/SslConnector.cpp|2 2
Modified: src/qpid/client/TCPConnector.cpp|1 1
Modified: src/qpid/client/TCPConnector.h|1 1
Modified: src/qpid/client/windows/SslConnector.cpp|2 2
Modified: src/qpid/sys/AsynchIO.h|2 2
Modified: src/qpid/sys/ProtocolFactory.h|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|3 4
Modified: src/qpid/sys/Socket.h|2 2
Modified: src/qpid/sys/SslPlugin.cpp|2 2
Modified: src/qpid/sys/TCPIOPlugin.cpp|13 11
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 7
Modified: src/qpid/sys/posix/Socket.cpp|4 5
Modified: src/qpid/sys/ssl/SslIo.cpp|1 1
Modified: src/qpid/sys/ssl/SslIo.h|1 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|2 2
Modified: src/qpid/sys/ssl/SslSocket.h|1 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|7 7
Modified: src/qpid/sys/windows/Socket.cpp|5 5
Modified: src/tests/SocketProxy.h|3 1

Revision: 6170de39c5012d4ee9efd9e2d6547d4b25acab97
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:27
Message:
NO-JIRA: Remove a lot of redundant stuff from the Socket code - Removal of unused code #MsgLength=87


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|0 5
Modified: src/qpid/client/TCPConnector.cpp|1 1
Modified: src/qpid/sys/ProtocolFactory.h|0 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|0 6
Modified: src/qpid/sys/Socket.h|0 16
Modified: src/qpid/sys/SslPlugin.cpp|0 5
Modified: src/qpid/sys/TCPIOPlugin.cpp|0 5
Modified: src/qpid/sys/posix/Socket.cpp|7 66
Modified: src/qpid/sys/windows/Socket.cpp|5 68

Revision: 5fe567f8948759d2cb7293af0182161e1853b601
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:35
Message:
NO-JIRA: Small improvements to Socket code - Rewrite SocketAddress::operator= in terms of copy constructor - Improve error diagnostic #MsgLength=134


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|5 9

Revision: 86e6f8bbc12602760ca0806d93bdb1bb25246363
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:43
Message:
NO-JIRA: Add cached localname as well as peername to Socket #MsgLength=60


----
Modified: src/qpid/sys/Socket.h|2 1
Modified: src/qpid/sys/posix/Socket.cpp|15 9
Modified: src/qpid/sys/windows/Socket.cpp|7 5

Revision: 96e9a6375083d3342936f03b2997f9a16fe70c80
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:52
Message:
QPID-3282: Potential bug in circular connection detection: - make sure that we compare numeric addresses of both local and remote ends of the connection (previously the remote end could be an unresolved hostname) #MsgLength=215


----
Modified: src/qpid/sys/SocketAddress.h|1 1
Modified: src/qpid/sys/posix/Socket.cpp|9 2
Modified: src/qpid/sys/posix/SocketAddress.cpp|17 3
Modified: src/qpid/sys/windows/SocketAddress.cpp|1 1

Revision: 54396968034ccf50add2fb04f2770b4bd61aa42a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:38:59
Message:
NO-JIRA: Windows: set up name to connect to before connecting (as unix code) #MsgLength=77


----
Modified: src/qpid/sys/windows/Socket.cpp|2 0

Revision: 328b7da098149515cf3d81c9ddc5921cb10ef839
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/05/2011 04:39:07
Message:
NO-JIRA: Corrected location of some tracing #MsgLength=44


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 1

Revision: 07205c94fd81e2df44d3963d20844e858b13cc92
Author: Ted Ross <tross@apache.org>
Date: 31/05/2011 20:35:21
Message:
NO-JIRA - Fixed automake problem pointed out by Angus Salkeld #MsgLength=63


----
Modified: managementgen/Makefile.am|6 2

Revision: 60819a98e32a591bd7f40a0098b535d5d263fa43
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2011 00:04:43
Message:
QPID-3291: Applied patch fron Andy Goldstein to ensure that expiration is not lost when adjusting ttl #MsgLength=102


----
Modified: src/qpid/broker/Message.cpp|1 1

Revision: ba41b9ff97e1dde923a5224b85af5b317b64b975
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/06/2011 21:02:16
Message:
QPID-3288: "[C++] Broker sets federation link tag as empty string () when no tag is present in the client/server properties" #MsgLength=125


----
Modified: src/qpid/broker/Connection.cpp|3 3
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/ConnectionHandler.cpp|6 2
Modified: src/qpid/broker/ConnectionState.h|6 2
Modified: src/qpid/broker/SemanticState.cpp|1 2
Modified: src/qpid/cluster/Connection.cpp|2 2

Revision: c24958c920146333334ef52bc2cabb9523338aa5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/06/2011 03:32:01
Message:
QPID-3295: Autoconf incorrectly detects gcc doesn't support -Werror #MsgLength=68


----
Modified: configure.ac|3 1

Revision: 9656accb25382789cbe70804187d00729a0de1f4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/06/2011 05:33:46
Message:
QPID-3284: Eliminated warnings from gcc 4.6 compiler - Removed a bunch of variables set but not further used. - Rejigged some asserts which would now have unused vars if compiler -DNDEBUG #MsgLength=190


----
Modified: src/qmf/engine/ResilientConnection.cpp|2 4
Modified: src/qpid/broker/ConnectionHandler.cpp|0 4
Modified: src/qpid/broker/Daemon.cpp|2 3
Modified: src/qpid/broker/QueueFlowLimit.cpp|4 2
Modified: src/qpid/cluster/Cluster.cpp|2 1
Modified: src/qpid/console/SessionManager.cpp|1 2
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 10
Modified: src/qpid/sys/posix/LockFile.cpp|1 2
Modified: src/tests/ForkedBroker.cpp|1 2

Revision: 03acfa1a69ca357379dad1db76aef6717f87407e
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2011 20:24:48
Message:
QPID-3292: Don't try to reconnect at all if reconnect option is false #MsgLength=70


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|10 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1

Revision: 133c8004a49f291563e8c95907762a4ed4a38f32
Author: Gordon Sim <gsim@apache.org>
Date: 09/06/2011 23:35:35
Message:
QPID-3298: don't include the internal federation related args in the biding for headers exchange #MsgLength=97


----
Modified: src/qpid/broker/HeadersExchange.cpp|7 2
Modified: src/tests/federation.py|10 3

Revision: 1a29cd411dfc6da059add6853c7f2b2811ca23f3
Author: Gordon Sim <gsim@apache.org>
Date: 10/06/2011 16:46:10
Message:
QPID-3115: Update doxygen to reflect the uniform options (both - and _ are recognised now) #MsgLength=91


----
Modified: include/qpid/messaging/Connection.h|14 14

Revision: b3de2186abb57de048d778f5e16827f54d327ce1
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2011 00:37:10
Message:
QPID-3225: Allow exclusivity (for subscription queue and subscription itself) to be controlled through address properties. #MsgLength=123


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|16 5
Modified: src/tests/MessagingSessionTests.cpp|32 0

Revision: b090b084576017c334f9857db28c08f79a2060bf
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2011 03:05:23
Message:
QPID-3140: allow larger queue policy sizes #MsgLength=43


----
Modified: src/qpid/broker/QueuePolicy.cpp|7 6
Modified: src/qpid/broker/QueuePolicy.h|1 2

Revision: 223c0bb72920a7fc8811e4f09ee269bd1b98ce59
Author: Ted Ross <tross@apache.org>
Date: 14/06/2011 04:26:57
Message:
QPID-3284 - There was a fix missing in one of the test files. #MsgLength=63


----
Modified: src/tests/BrokerMgmtAgent.cpp|1 2

Revision: ed7464b0f515b5273df23bde389e07271ca3fb2e
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2011 22:39:44
Message:
QPID-3145: Added doxygen for qpid::messaging::Message class #MsgLength=61


----
Modified: include/qpid/messaging/Message.h|76 3

Revision: c9e91ef17411a2adae4b639625cf64d120b307c4
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2011 01:57:25
Message:
NO-JIRA: Fix bugs in test_failover test and the brokertest.py framework. #MsgLength=208


----
Modified: src/tests/brokertest.py|11 2
Modified: src/tests/cluster_tests.py|19 15

Revision: 77174cb920c3a5f7ae20d22d6799c9eb51a96d07
Author: Ted Ross <tross@apache.org>
Date: 15/06/2011 02:02:25
Message:
NO-JIRA - Fixed uninitialized variables in qmf::ConsoleSession. #MsgLength=65


----
Modified: src/qmf/ConsoleSession.cpp|1 1

Revision: 45d413dfa84c566a42bb25210274a784c5a71aae
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2011 04:00:11
Message:
NO-JIRA: Removed reconnect-timeout from tests, was causing spurious failures. #MsgLength=78


----
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/cluster_tests.py|5 5

Revision: ec438f0e5272bb946b1c9a9697147d3a1f28f427
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2011 04:48:00
Message:
NO-JIRA: Increase join timeout in brokertest.py, was causing spurious failures. #MsgLength=80


----
Modified: src/tests/brokertest.py|1 1

Revision: c428e041c6013f52e88b26e0e4b5358561853c0a
Author: Gordon Sim <gsim@apache.org>
Date: 15/06/2011 19:48:43
Message:
QPID-3200: Add new method to session for cumulative acknowledgement upto (and including) a specified message #MsgLength=109


----
Modified: include/qpid/messaging/Session.h|4 0
Modified: src/qpid/client/amqp0_10/AcceptTracker.cpp|18 8
Modified: src/qpid/client/amqp0_10/AcceptTracker.h|2 2
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|2 2
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|5 4
Modified: src/qpid/client/amqp0_10/SessionImpl.h|6 5
Modified: src/qpid/messaging/Session.cpp|2 1
Modified: src/qpid/messaging/SessionImpl.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|40 0

Revision: 0a8da1da4bfd0086115c5e916df8cde15990c531
Author: Alan Conway <aconway@apache.org>
Date: 16/06/2011 02:15:56
Message:
QPID-3129: cluster_tests.LongTests.test_failover hangs. #MsgLength=216


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|13 14

Revision: d3914c5139336eb4d7a16c8d7e2b8d7b07fe5f79
Author: Alan Conway <aconway@apache.org>
Date: 16/06/2011 04:08:15
Message:
NO-JIRA: Fix sporadic failures in cluster_tests.py test_management. #MsgLength=228


----
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/cluster_tests.py|7 3

Revision: 3b955f5cd9aedfbebfef01caa262d33a9eb3e647
Author: Alan Conway <aconway@apache.org>
Date: 16/06/2011 04:15:51
Message:
QPID-3280: Performance problem with TTL messages. #MsgLength=394


----
Modified: include/qpid/framing/FieldTable.h|2 0
Modified: src/CMakeLists.txt|3 4
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/ExpiryPolicy.cpp|5 5
Modified: src/qpid/broker/ExpiryPolicy.h|8 4
Modified: src/qpid/broker/Message.cpp|28 27
Modified: src/qpid/broker/Message.h|17 11
Modified: src/qpid/broker/Queue.cpp|75 65
Modified: src/qpid/broker/Queue.h|20 17
Modified: src/qpid/broker/QueueCleaner.cpp|12 6
Modified: src/qpid/broker/QueueCleaner.h|8 6
Deleted: src/qpid/broker/RateTracker.cpp|0 51
Deleted: src/qpid/broker/RateTracker.h|0 57
Modified: src/qpid/cluster/Cluster.cpp|54 9
Modified: src/qpid/cluster/Cluster.h|13 1
Modified: src/qpid/cluster/ClusterPlugin.cpp|1 0
Modified: src/qpid/cluster/ClusterSettings.h|2 1
Modified: src/qpid/cluster/ClusterTimer.cpp|4 0
Modified: src/qpid/cluster/Connection.cpp|11 4
Modified: src/qpid/cluster/Connection.h|4 1
Modified: src/qpid/cluster/ExpiryPolicy.cpp|5 90
Modified: src/qpid/cluster/ExpiryPolicy.h|4 38
Modified: src/qpid/cluster/FailoverExchange.cpp|16 10
Modified: src/qpid/cluster/FailoverExchange.h|6 4
Modified: src/qpid/cluster/UpdateClient.cpp|63 28
Modified: src/qpid/cluster/UpdateClient.h|9 4
Modified: src/qpid/cluster/UpdateExchange.cpp|24 3
Modified: src/qpid/framing/AMQHeaderBody.h|8 4
Modified: src/qpid/sys/Timer.cpp|6 0
Modified: src/qpid/sys/Timer.h|6 2
Modified: src/tests/QueueTest.cpp|2 2
Modified: src/tests/cluster_test_logs.py|1 1
Modified: src/tests/cluster_tests.py|139 4
Modified: xml/cluster.xml|25 15

Revision: 0409a83a150bd1a01c834aa7c152bc6a7bb7a5e5
Author: Gordon Sim <gsim@apache.org>
Date: 17/06/2011 20:03:14
Message:
QPID-3280: fix compilation error on windows introduced by previous commit for this JIRA #MsgLength=88


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: fc38a324e01b89f3407ae31cf7acbc37999e5f73
Author: Gordon Sim <gsim@apache.org>
Date: 17/06/2011 20:40:22
Message:
QPID-3280: further fix compilation error on windows #MsgLength=52


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: 9ad35e0bea62eda90813f8e0c64231bbff2a67c4
Author: Alan Conway <aconway@apache.org>
Date: 18/06/2011 02:35:48
Message:
NO-JIRA: Fix compile error on windows due to assigning an AtomicValue. #MsgLength=71


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/sys/AtomicValue_gcc.h|7 4

Revision: 38d6f100d8605ad9f1eb8d7d27b50dab52ba3b39
Author: Charles E. Rolke <chug@apache.org>
Date: 18/06/2011 05:23:50
Message:
QPID-3200 Ability to acknowledge all messages up to and including a given message for a Session .NET Binding keeps up with additions to the Messaging package. #MsgLength=159


----
Modified: bindings/qpid/dotnet/src/Session.cpp|25 0
Modified: bindings/qpid/dotnet/src/Session.h|2 0

Revision: 6722dc063ed3f43d51b79385f1d2665b01862cd5
Author: Alan Conway <aconway@apache.org>
Date: 20/06/2011 23:20:21
Message:
QPID-3129: cluster_tests.LongTests.test_failover hangs #MsgLength=320


----
Modified: src/tests/brokertest.py|3 3
Modified: src/tests/cluster_tests.py|12 2

Revision: 58fa21fdb249765e4352a9ef42290010d67fe17d
Author: Ted Ross <tross@apache.org>
Date: 21/06/2011 21:25:24
Message:
QPID-3305 - Variable is created, but not initialized, in VariantToRb. Applied patch from Darryl Pierce. #MsgLength=105


----
Modified: bindings/swig_ruby_typemaps.i|1 1

Revision: 2c8ed7468ce282c48817c226f87e094c86979fee
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2011 21:36:42
Message:
QPID-3121: Cluster management inconsistency when using persistent store. #MsgLength=651


----
Modified: src/qpid/broker/SessionState.cpp|6 0

Revision: 730653c13843f44e36b8f509fa1f910cc796df5e
Author: Alan Conway <aconway@apache.org>
Date: 24/06/2011 03:05:38
Message:
NO-JIRA: remove dead code in qpid/cpp/src/qpid/cluster/UpdateClient.cpp #MsgLength=72


----
Modified: src/qpid/cluster/UpdateClient.cpp|0 9

Revision: 2de1ad533949c43ce263b09e9453623dc73511a5
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2011 22:42:23
Message:
QPID-3321: flush occasionally to keep the list of pending accepts from growing too large #MsgLength=89


----
Modified: src/qpid/client/amqp0_10/AcceptTracker.cpp|14 2
Modified: src/qpid/client/amqp0_10/AcceptTracker.h|1 0

Revision: 89658e2b99703636c8105fcdb9cc0a60e9aff1c4
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2011 00:45:38
Message:
QPID-3321: revised fix to avoid excessive flushing #MsgLength=51


----
Modified: src/qpid/client/amqp0_10/AcceptTracker.cpp|1 1

Revision: d8e86f5330fc388a0c210becf2ac63634586aadc
Author: Charles E. Rolke <chug@apache.org>
Date: 27/06/2011 22:30:38
Message:
QPID-2922 Implement FailoverUpdate class in .NET binding Suppress copy constructor through tracking reference. #MsgLength=111


----
Modified: bindings/qpid/dotnet/src/FailoverUpdates.h|1 0

Revision: 267cc2c2e1641cb57e672e2c92a56314835b7f14
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2011 22:32:30
Message:
NO-JIRA: Add reconnect-timeout to test clients to prevent client hangs. #MsgLength=72


----
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/cluster_tests.py|5 5

Revision: d1993ce754a7f03c661523c7088eeb18c9238a1f
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2011 22:57:33
Message:
NO-JIRA: minor update to doxygen comment for internal broker interface #MsgLength=71


----
Modified: src/qpid/broker/Messages.h|2 1

Revision: c7e2ec6494ae2208d5352e46ceda3fdbdcf980ce
Author: Alan Conway <aconway@apache.org>
Date: 30/06/2011 19:54:40
Message:
QPID-3329: Configure C++ client connections to replace url-addresses rather than merging new addresses with old #MsgLength=112


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 0
Modified: src/tests/brokertest.py|8 4
Modified: src/tests/cluster_tests.py|5 5

Revision: fda0c2632b6ec2b876af389f944ea35f9ebc62c0
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/07/2011 02:05:57
Message:
Code Haiku ============================ #MsgLength=124


----
Modified: src/Makefile.am|1 0

Revision: d1535de4a1352cb2c189e7cdde6615f0b35522f5
Author: Gordon Sim <gsim@apache.org>
Date: 01/07/2011 20:00:56
Message:
QPID-3330: Corrected handling of empty strings (using patch from Anthony Foglia) and added test case #MsgLength=101


----
Modified: src/qpid/messaging/AddressParser.cpp|1 1
Modified: src/tests/Address.cpp|11 0

Revision: 43376fe538f5523fa091265ce898580d38860a6c
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/07/2011 22:20:28
Message:
QPID-3335: remove stale type conversion code #MsgLength=45


----
Modified: src/qpid/management/ManagementAgent.cpp|2 188
Modified: src/qpid/management/ManagementAgent.h|0 6

Revision: 999a46dd832d24114ddc979987d9e4b722ab6684
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/07/2011 22:35:41
Message:
QPID-3309: This fix sets the value of the port number in management if the broker is started with a port value of 0. #MsgLength=117


----
Modified: src/posix/QpiddBroker.cpp|10 2

Revision: fada0f8c03a0d68bd62c5776f5a83dcb4b615c28
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/07/2011 03:28:45
Message:
JIRA 3337 no more defaulting to guest/guest username/password qpidd.sasldb is no longer created -- users who want usernames and passwords in there must create it. but a local qpidd.sasldb is (before this change) being created for 'make check' testing. The etc/sasl2/qpidd.conf file now has an explicit mech list -- so we will no longer default to the system-list. #MsgLength=367


----
Modified: etc/Makefile.am|0 23
Modified: etc/qpidd.conf|1 1
Modified: etc/sasl2/qpidd.conf|3 2
Modified: examples/qmf-console/ping.cpp|1 3
Modified: examples/qmf-console/printevents.cpp|1 3
Modified: include/qpid/agent/ManagementAgent.h|2 2
Modified: include/qpid/client/Connection.h|4 4
Modified: src/qpid/agent/ManagementAgentImpl.h|2 2
Modified: src/tests/cluster_tests.py|2 2

Revision: 8024aba1fca6339b99fc91a726daef4c91ab7737
Author: Charles E. Rolke <chug@apache.org>
Date: 08/07/2011 03:36:12
Message:
QPID-2905 Code modifications to enable Windows builds with the mingw32 compiler. See also checkin 1104662. Add newly created file to Makefile.am windows_dist list to ensure the file is included in the cpp source distribution. This patch is required for 0.12 distributions. #MsgLength=274


----
Modified: src/Makefile.am|1 0

Revision: a6945303d50521a0a29225a28250b69ad7614beb
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 12/07/2011 14:43:40
Message:
qpid-3256 Windows fix for loader lock hang #MsgLength=43


----
Modified: src/qpid/sys/windows/Thread.cpp|251 29

Revision: 865008bc2541eb232e0bd11fdeb3be83dfd4605a
Author: Ted Ross <tross@apache.org>
Date: 12/07/2011 19:49:32
Message:
QPID-3275 - QMF Console asynchronous correlation-id should be scoped to the session, not the specific agent #MsgLength=109


----
Modified: src/qmf/Agent.cpp|6 23
Modified: src/qmf/AgentImpl.h|0 1
Modified: src/qmf/ConsoleSession.cpp|1 1
Modified: src/qmf/ConsoleSessionImpl.h|3 0

Revision: 376824c851e1068355af7070eeb9e18ad7336f2d
Author: Ted Ross <tross@apache.org>
Date: 13/07/2011 00:11:34
Message:
QPID-3344 - Comparisons of const DataAddr objects are incorrect Applied patch from Zane Bitter #MsgLength=96


----
Modified: include/qmf/DataAddr.h|3 0
Modified: src/qmf/DataAddr.cpp|4 2
Modified: src/qmf/DataAddrImpl.h|2 2
Modified: src/qpid/store/StorageProvider.h|1 1

Revision: c895babb3497d9c00aef94ad7eb366d710d5d979
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2011 02:01:50
Message:
QPID-3333: Patches from Anthony Foglia to close the gap between qpid.messaging and swig based python 'binding' (this includes patches 0001 to 0008 as attached to JIRA) #MsgLength=168


----
Modified: bindings/qpid/python/python.i|272 1

Revision: 2c6b4a9ec01795d7376aa519ebe70388fc528d84
Author: Ted Ross <tross@apache.org>
Date: 13/07/2011 02:29:22
Message:
QPID-3352 - Federation bridge doesn't recover from session errors Applied patch from Jason Dillaman #MsgLength=101


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|3 2
Modified: src/qpid/broker/Bridge.cpp|6 0
Modified: src/qpid/broker/Bridge.h|2 0
Modified: src/qpid/broker/Link.cpp|14 1
Modified: src/tests/federation.py|57 0
Modified: src/tests/run_federation_tests|1 1

Revision: 0217f0ea8168284632bef4299cb9a9c3735dce01
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 13/07/2011 14:17:38
Message:
qpid-3256 additional changes to also work for mingw #MsgLength=52


----
Modified: src/qpid/sys/windows/Thread.cpp|9 4

Revision: e7e2ff00bd417579c7e4c6a73d8479e510c253ec
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 13/07/2011 14:54:49
Message:
qpid-3338 fix CMake variable to distinguish toolchains: msvc vs mingw #MsgLength=70


----
Modified: src/CMakeLists.txt|2 2

Revision: 4e0e727f55252ab1f8a7b5148f6589c38c896a2d
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2011 17:52:35
Message:
QPID-3355: Ensure session is not deleted out from under a sync() call #MsgLength=70


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|5 2

Revision: 1443fe7a3b41fa446110020fc51431c4eefe95ae
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2011 17:54:32
Message:
QPID-3355: Declare the wait while waiting for completion. Patch from Jason Dillaman. #MsgLength=85


----
Modified: src/qpid/client/SessionImpl.cpp|1 0

Revision: 55f5100814a338bec3d8c7c386e5ea2035400290
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2011 17:58:32
Message:
QPID-3352: Export method in common lib that is now used from within the broker. (Previous commit for this issue broker the windows build). #MsgLength=139


----
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 1

Revision: ca66851eaab367a20a9aceef757671b768eff9d6
Author: Gordon Sim <gsim@apache.org>
Date: 15/07/2011 17:03:17
Message:
QPID-2979: Make windows broker advertise PLAIN even when auth is turned off. #MsgLength=77


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 0

Revision: 3a7a68b8821edc7c1a2f8206a1f1ee75ebaa0293
Author: Ted Ross <tross@apache.org>
Date: 15/07/2011 21:40:21
Message:
NO-JIRA - Fixed two EXTERN declarations in FieldTable.h #MsgLength=57


----
Modified: include/qpid/framing/FieldTable.h|2 2

Revision: 935403cb4f48e2eec88013e2eda418b320ed340f
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 00:54:16
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=260


----
Added: bindings/qpid/ruby/lib/qpid.rb|21 0
Added: bindings/qpid/ruby/lib/qpid/errors.rb|30 0
Added: bindings/qpid/ruby/lib/qpid/version.rb|31 0
Added: bindings/qpid/ruby/test/ts_bindings.rb|23 0

Revision: 9690fd820628794a0663ef28696a95717c1a3bb7
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 00:55:43
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=287


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/duration.rb|63 0

Revision: 36fa3a14938d60bef25f33eb3fda760c3e65c802
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 00:57:19
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=307


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/encoding.rb|56 0
Added: bindings/qpid/ruby/test/test_encoding.rb|146 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 9e4b4d987ac79c2802d405494be300fd9ecf7027
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 00:58:20
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=164


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/address.rb|125 0
Added: bindings/qpid/ruby/test/test_address.rb|39 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 19a79682db2658aff0a65b078ddabf3a1274c613
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 00:59:26
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=316


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/message.rb|129 0
Added: bindings/qpid/ruby/test/test_message.rb|307 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: f1c4468148bc16fc418251fa3a7b07a54cfd6a5b
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 01:00:37
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=260


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/sender.rb|82 0
Added: bindings/qpid/ruby/test/test_sender.rb|183 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 160337947fe8c2bc27f03d6684e2253d7561c456
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 01:01:41
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=234


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/receiver.rb|102 0
Added: bindings/qpid/ruby/test/test_receiver.rb|238 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 2c5efc552324cd7cd3cdc9ae8c3b4f27230f7f38
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 01:02:43
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=295


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/session.rb|186 0
Added: bindings/qpid/ruby/test/test_session.rb|445 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 34548652fae06e9df2354a3ca228a29b7b675056
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 01:03:35
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=249


----
Modified: bindings/qpid/ruby/lib/qpid.rb|1 0
Added: bindings/qpid/ruby/lib/qpid/connection.rb|134 0
Added: bindings/qpid/ruby/test/test_connection.rb|257 0
Modified: bindings/qpid/ruby/test/ts_bindings.rb|1 0

Revision: 83e24f93f4d7a3b856512bcea9cb8834b746f3de
Author: Ted Ross <tross@apache.org>
Date: 16/07/2011 01:05:25
Message:
QPID-3306 - Provides a more Ruby-like set of APIs on top of the bindings created by swig. Applied patch from Darryl Pierce #MsgLength=469


----
Added: bindings/qpid/ruby/README.rdoc|27 0
Added: bindings/qpid/ruby/Rakefile|74 0

Revision: 97a5f04854efaaaf28755dd81bb6ca5e305ca8b0
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2011 03:39:38
Message:
NO-JIRA: Trivial code clean-up - LegacyLVQ to use isInBroker #MsgLength=61


----
Modified: src/qpid/broker/LegacyLVQ.cpp|1 5

Revision: d770053e5bb61d1a9e4fbd6a241930fbdaffd4ac
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/07/2011 03:57:06
Message:
QPID-3304: Patch from Gordon Sim plus tests which detect the condition being solved. Added a make check-long target to the Makefile in the cpp dir to make it easier to run the long tests. #MsgLength=189


----
Modified: Makefile.am|4 0
Modified: src/qpid/broker/Broker.cpp|4 3
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/Message.cpp|66 19
Modified: src/qpid/broker/Message.h|23 12
Modified: src/qpid/broker/Queue.cpp|1 6
Modified: src/qpid/cluster/UpdateClient.cpp|8 8
Modified: src/qpid/cluster/UpdateExchange.cpp|4 4
Modified: src/qpid/framing/AMQFrame.cpp|5 0
Modified: src/qpid/framing/AMQFrame.h|5 0
Modified: src/qpid/management/ManagementAgent.cpp|1 1
Modified: src/qpid/replication/ReplicatingEventListener.cpp|3 4
Modified: src/qpid/replication/ReplicationExchange.cpp|4 5
Modified: src/tests/ExchangeTest.cpp|1 1
Modified: src/tests/Makefile.am|4 1
Modified: src/tests/QueueTest.cpp|21 25
Modified: src/tests/TxPublishTest.cpp|1 2
Modified: src/tests/brokertest.py|12 11
Added: src/tests/federation_sys.py|2180 0
Added: src/tests/run_federation_sys_tests|97 0
Added: src/tests/run_long_federation_sys_tests|24 0

Revision: 7e8369ff4a9e9f7eed7d3a1a25f739ccea262221
Author: Gordon Sim <gsim@apache.org>
Date: 20/07/2011 21:53:32
Message:
QPID-3304: fixes to windows build, broken by r1148503 #MsgLength=54


----
Modified: src/qpid/broker/Message.h|3 3
Modified: src/qpid/framing/AMQFrame.h|1 1

Revision: 7d874f95eea21ebcfb7351674f5a6365eece6184
Author: Alan Conway <aconway@apache.org>
Date: 21/07/2011 01:58:42
Message:
NO-JIRA: Remove unused #include file, causing compile errors on rhel5. #MsgLength=71


----
Modified: src/qpid/broker/Message.cpp|0 1

Revision: a7b81fdfee5ec3c7e7e257c08f77e64d6bfe5426
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/07/2011 19:33:08
Message:
Corrected qpid-client-test's name when setting up the test script. NO-JIRA #MsgLength=75


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: e5a72629216b8fda13ca708cd0b9a5d75ee67fd2
Author: Alan Conway <aconway@apache.org>
Date: 23/07/2011 04:55:43
Message:
NO-JIRA: fix trunk break, "except Exception as e" syntax is invalid in python 2.4 #MsgLength=82


----
Modified: src/tests/federation_sys.py|2 2

Revision: e9cd56a237ba697366099bce9c3d5cdd896b4306
Author: Gordon Sim <gsim@apache.org>
Date: 27/07/2011 00:19:16
Message:
QPID-3372: fixed comparison of desired and actual properties for exchanges #MsgLength=75


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|22 0

Revision: c5f24f17f4d14b04ae0ccd54fae743d9f0781af8
Author: Gordon Sim <gsim@apache.org>
Date: 01/08/2011 23:24:59
Message:
QPID-3383: Changed to explicit credit management for control subscription in publishers to prevent incorrect allocation #MsgLength=120


----
Modified: src/tests/qpid-perftest.cpp|3 2

Revision: eff2ea7e328f6da15cd19c7bbde47d0e4a1eb227
Author: Gordon Sim <gsim@apache.org>
Date: 02/08/2011 00:06:30
Message:
QPID-3382: Corrected some exception types for connect errors #MsgLength=61


----
Modified: src/qpid/client/ConnectionHandler.cpp|3 1
Modified: src/qpid/client/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 4

Revision: cc5f3ee99ed9008d4eb71753b5fe027a4499906b
Author: Alan Conway <aconway@apache.org>
Date: 03/08/2011 03:43:09
Message:
NO-JIRA: Minor improvements to test scripts. #MsgLength=186


----
Modified: src/tests/allhosts|3 1
Modified: src/tests/qpid-cpp-benchmark|2 1

Revision: 828d4c07b6e328de502ebaeb1bbdafa5de05a1fe
Author: Gordon Sim <gsim@apache.org>
Date: 04/08/2011 21:35:56
Message:
QPID-3393: Fix CRAM-MD5, need to distinguish between null string and empty string on sasl_server_start(). #MsgLength=106


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|5 3

Revision: c5237fa7d02b10fce101380ea2346762abc1e1fd
Author: Gordon Sim <gsim@apache.org>
Date: 04/08/2011 23:18:30
Message:
QPID-3333: Older swig impls seem not to deal with #MsgLength=51


----
Modified: bindings/qpid/python/python.i|3 3

Revision: 01fb4e5e40ad1941003162f083ba6b63fa95609b
Author: Ken Giusti <kgiusti@apache.org>
Date: 05/08/2011 02:45:16
Message:
QPID-3394: move object copy after changing object state, not before. #MsgLength=69


----
Modified: src/qpid/broker/SessionState.cpp|2 3
Modified: src/qpid/broker/SessionState.h|9 1

Revision: b029830d4d961be9f7f3d38412d12ede7a507b61
Author: Charles E. Rolke <chug@apache.org>
Date: 05/08/2011 04:17:09
Message:
QPID-2643 Building QPID with Visual Studio 2010 This patch changes: List.h - add a typedef from the original post IntegerTypes.h - adds 'signed' to int_8 to avoid MSVC complaint SessionState.cpp, qpid-perftest.cpp - adds explicit boost:: to disambiguate methods recently defined by 'using std'. CMakeLists.txt - Adds a CMake option that allows user to include '#define _WIN32_WINNT=0x0502' or not. Linux users see no change. This replaces CMake code that includes a similar definition when the build system _has VS2005 installed_. Even if the Generator is VS2010 the def was added because VS2005 is installed. This in not right. Without this definition several components define _WIN32_WINNT=0x0501 to target network and system api components. Those components will still work correctly with 0x0502. Defining _WIN32_WINNT=0x0501 across the board causes a build error in cpp\qpid\store that 0x0502 avoids. This patch will move the minimum required version of Windows from WinXP to WinXP-SP3. #MsgLength=1028


----
Modified: include/qpid/framing/List.h|1 0
Modified: include/qpid/sys/windows/IntegerTypes.h|1 1
Modified: src/CMakeLists.txt|12 3
Modified: src/tests/SessionState.cpp|4 4
Modified: src/tests/qpid-perftest.cpp|1 1

Revision: 6ab103e8e296ef89bd9f37631595f7e4d27d37ec
Author: Ted Ross <tross@apache.org>
Date: 05/08/2011 23:24:16
Message:
NO-JIRA - Added missing template file in distribution. #MsgLength=56


----
Modified: managementgen/Makefile.am|1 0

Revision: 736ab8a351259ada37e3e421feb4112d347513aa
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2011 04:52:37
Message:
QPID-3399: Qpidd possible memory leaks #MsgLength=279


----
Modified: src/qpid/sys/PollableQueue.h|11 10

Revision: ecdd9d0d2503f6d5b1130a2b2c20c717b6c088c9
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2011 22:18:52
Message:
QPID-3400: remove redundant delivery records on release #MsgLength=56


----
Modified: src/qpid/broker/SemanticState.cpp|4 0

Revision: 99021e0795ab2eef679cb6a35c78191e2167095b
Author: Gordon Sim <gsim@apache.org>
Date: 10/08/2011 04:19:54
Message:
QPID-3363: prevent bind/unbind on default exchange #MsgLength=51


----
Modified: src/qpid/broker/Broker.cpp|8 3
Modified: src/qpid/cluster/UpdateClient.cpp|5 1
Modified: src/tests/federation_sys.py|1 281

Revision: a07dadd15615d1c2b87e6881d1fb8d19fc8c6e00
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/08/2011 06:02:10
Message:
NO-JIRA: Fixed obsolete federation test to carry on working - probably should be removed instead #MsgLength=97


----
Modified: src/tests/federated_topic_test|13 14

Revision: d0d0245815cf021a0b090c6ff5b8d48170c89eda
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/08/2011 21:58:27
Message:
QPID-3410: do not create priority queue if priority count zero or not provided. #MsgLength=80


----
Modified: src/qpid/broker/Fairshare.cpp|1 1

Revision: 0d9200c232b5c9ad58233c556f5ef34ebdbaedfb
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2011 01:01:55
Message:
NO-JIRA: Remove redundant code (qpid::Url now does everything required) #MsgLength=72


----
Modified: src/CMakeLists.txt|0 2
Modified: src/Makefile.am|1 3
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 9
Deleted: src/qpid/client/amqp0_10/SimpleUrlParser.cpp|0 79
Deleted: src/qpid/client/amqp0_10/SimpleUrlParser.h|0 42

Revision: 7734cad6c1cda07145a37d0a04909b20e838ce51
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2011 01:07:21
Message:
QPID-3403: Remove empty binding list from map #MsgLength=46


----
Modified: src/qpid/broker/DirectExchange.cpp|3 0
Modified: src/qpid/sys/CopyOnWriteArray.h|6 0

Revision: 1fef0acc176aeb1bab0127d7ffef1e8d70ed43d8
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2011 03:27:01
Message:
QPID-3411: Restore x-reconnect-on-limit-exceeded option #MsgLength=56


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 0

Revision: fad0f1fc9fa47496fb2bdd5967cf982b28562ee5
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2011 17:49:38
Message:
QPID-3403: Enhancement as suggested by Jason Dillaman #MsgLength=54


----
Modified: src/qpid/sys/CopyOnWriteArray.h|1 1

Revision: d539787de703eadb1b8e9deb2b202c54103cb0ec
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2011 20:09:58
Message:
QPID-3412: Do not prefix the subscription queue name with the exchange name for explicitly named links #MsgLength=103


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 1

Revision: c1c2887ac487842b672ccd2df8b3962da32c4ae8
Author: Michael Goulish <mgoulish@apache.org>
Date: 11/08/2011 20:49:39
Message:
    two new management properties for connections: the sasl mechanism, and the ssf (security strength factor).    also a change to logging level of one message, so that when we see the list of mechanisms, we will always also see which one was chosen. #MsgLength=253


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|8 1

Revision: 193460026442c81e16b564872d3f86c6981e873f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2011 06:32:05
Message:
QPID-3405: IPv6 support for Unix C++ ports: - On the Listen side we create separate listening sockets for IPv4 and IPv6 making sure to not allow the IPv6 socket to run dual stack. This makes the reported IPv4 addresses look "normal" and would allow us to turn control IPv4/IPv6 listening separately. - On the connect side we make sure to try all the addresses returned by getaddrinfo() in order until we either find one that connects or have tried all of them. #MsgLength=471


----
Modified: src/qpid/sys/SocketAddress.h|4 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|37 11
Modified: src/qpid/sys/posix/AsynchIO.cpp|21 3
Modified: src/qpid/sys/posix/Socket.cpp|22 8
Modified: src/qpid/sys/posix/SocketAddress.cpp|23 5
Modified: src/qpid/sys/windows/Socket.cpp|12 9
Modified: src/qpid/sys/windows/SocketAddress.cpp|7 0
Modified: src/tests/cluster_test_logs.py|1 0

Revision: afe7a36739dc97e31d030409b3b132c5ec83fe32
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2011 06:32:14
Message:
QPID-3405: Slightly hacky way to get reconnect to work - If we fail to reset the epoll settings of a file handle when going round the poll loop and it's because the handle is not in the epoll set then just try to add it into the epoll set. #MsgLength=382


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|6 1

Revision: e91f568251ff2759c14a567cd8099bff9d97074c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2011 06:32:25
Message:
QPID-3406: Get IPv6 working on Windows port #MsgLength=44


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|35 9
Modified: src/qpid/sys/Socket.h|5 0
Modified: src/qpid/sys/posix/Socket.cpp|14 0
Modified: src/qpid/sys/windows/AsynchIO.cpp|21 26
Modified: src/qpid/sys/windows/AsynchIoResult.h|2 2
Modified: src/qpid/sys/windows/Socket.cpp|44 26
Modified: src/qpid/sys/windows/SocketAddress.cpp|66 19
Modified: src/qpid/sys/windows/SslAsynchIO.h|0 3

Revision: b926ad5c5cd2fc13334adff302293b71ee670845
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2011 06:32:34
Message:
QPID-3405: Implemented simple IPv6 literal parsing/printing for c++ connection URLs #MsgLength=84


----
Modified: src/qpid/Address.cpp|7 1
Modified: src/qpid/Url.cpp|20 3
Modified: src/tests/Url.cpp|26 0

Revision: 28a15a8a030f4b45ff5a6791f94be131d7e20af8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2011 06:33:05
Message:
QPID-3405: Added simple C++ system tests for IPv6: - short perftest run which connects to ::1 (old client API) - qpid-send/qpid-receive sending messages between them (new messaging API) - Simple 2 broker federation over IPv6 test - Simple cluster failover via IPv6 test #MsgLength=270


----
Modified: src/tests/CMakeLists.txt|9 0
Modified: src/tests/Makefile.am|1 1
Added: src/tests/ipv6_test|149 0

Revision: 40bc6d14aac31036abdb68c50ffd76b6802ae2cb
Author: Ted Ross <tross@apache.org>
Date: 16/08/2011 00:47:56
Message:
QPID-3423 - Timing and Performance Improvements in QMF Libraries #MsgLength=66


----
Modified: include/qmf/AgentSession.h|5 0
Modified: include/qmf/ConsoleSession.h|4 0
Modified: src/qmf/AgentSession.cpp|30 11
Modified: src/qmf/ConsoleSession.cpp|30 13
Modified: src/qmf/ConsoleSessionImpl.h|1 0
Modified: src/qpid/agent/ManagementAgentImpl.cpp|16 3

Revision: 3bc669eec439648432e4e75a15e57fc53b9102fd
Author: Gordon Sim <gsim@apache.org>
Date: 17/08/2011 01:02:05
Message:
QPID-3425: Special handling of reserved exchange names in auto-create #MsgLength=70


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|27 8
Modified: src/tests/MessagingSessionTests.cpp|14 0

Revision: d620c1dced177f11707447f32b7b965c0e6252d9
Author: Charles E. Rolke <chug@apache.org>
Date: 18/08/2011 03:12:23
Message:
NO-JIRA Clean up some text and formatting in .NET binding. 1. Delete Microsoft name in some projects. 2. Get rid of ascii codes >= 0x80. The copyright symbol is the main culprit. 3. Change 2010 to 2011. 4. Minor tab and trailing whitespace removal. #MsgLength=249


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|20 20
Modified: bindings/qpid/dotnet/examples/csharp.direct.receiver/Properties/AssemblyInfo.cs|8 8
Modified: bindings/qpid/dotnet/examples/csharp.direct.sender/Properties/AssemblyInfo.cs|8 8
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/Properties/AssemblyInfo.cs|6 6
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.sender/Properties/AssemblyInfo.cs|1 1
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/Properties/AssemblyInfo.cs|8 8
Modified: bindings/qpid/dotnet/examples/csharp.map.sender/Properties/AssemblyInfo.cs|8 8
Modified: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/AssemblyInfo.vb|15 15
Modified: bindings/qpid/dotnet/org.apache.qpid.messaging.sessionreceiver.sln|3 3
Modified: bindings/qpid/dotnet/test/messaging.test/Properties/AssemblyInfo.cs|8 8

Revision: 75a3f7639cb9d5fed22d29e14f281a7d20058594
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/08/2011 06:07:36
Message:
NO-JIRA: Tidy up the Socket/SocketAddress code: - Move (almost) all knowledge of difference in address types to SocketAddress - Make the Windows and Posix sockets code more similar with the aim of eliminating differences in the future #MsgLength=237


----
Modified: src/qpid/sys/SocketAddress.h|5 0
Modified: src/qpid/sys/posix/Socket.cpp|13 26
Modified: src/qpid/sys/posix/SocketAddress.cpp|34 12
Modified: src/qpid/sys/windows/Socket.cpp|27 39
Modified: src/qpid/sys/windows/SocketAddress.cpp|35 14

Revision: 4ae6048286a0f44ea0cd7ee798ac77b8d1448ddd
Author: Alan Conway <aconway@apache.org>
Date: 18/08/2011 22:58:53
Message:
NO-JIRA: eliminate SocketProxy from tests. #MsgLength=280


----
Modified: src/tests/BrokerFixture.h|7 25
Modified: src/tests/ClientSessionTest.cpp|2 24
Modified: src/tests/MessageReplayTracker.cpp|2 2
Modified: src/tests/QueueEvents.cpp|2 2
Modified: src/tests/QueuePolicyTest.cpp|7 7
Modified: src/tests/ReplicationTest.cpp|1 1
Deleted: src/tests/SocketProxy.h|0 183
Modified: src/tests/XmlClientSessionTest.cpp|1 1
Modified: src/tests/exception_test.cpp|6 8

Revision: e46827a35ecc9363194170fbb7264e273940f2d6
Author: Gordon Sim <gsim@apache.org>
Date: 19/08/2011 00:09:03
Message:
QPID-3435: Revised strategy for closing senders/receivers to prevent possible infinite loop #MsgLength=92


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|21 17

Revision: 55352e0b9b6ea8471e77c44a0e7d22d6d91c6ef3
Author: Alan Conway <aconway@apache.org>
Date: 19/08/2011 01:43:23
Message:
NO-JIRA: Fix test failure if PORT is already set in the environment. #MsgLength=69


----
Modified: src/tests/ipv6_test|1 0

Revision: 37e45161ead4d6161b5ca7ec2d159e2eee5cd5cd
Author: Alan Conway <aconway@apache.org>
Date: 19/08/2011 02:03:22
Message:
QPID-3033: Segmentation fault while processing session.attach #MsgLength=528


----
Modified: src/qpid/broker/Connection.cpp|1 10
Modified: src/qpid/broker/ConnectionHandler.cpp|8 1

Revision: 48e9d8b3bc962b7fe553f9d4f3ccc4d4c45a41ab
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/08/2011 05:54:00
Message:
QPID-3447: Creating invalid federation link causes file descriptor leak - Previously we weren't correctly handling synchronous errors when we attempted to connect. #MsgLength=166


----
Modified: src/qpid/sys/TCPIOPlugin.cpp|7 0

Revision: d4ae5b8f06f56e56480444056607d8c7c9efa1b1
Author: Gordon Sim <gsim@apache.org>
Date: 23/08/2011 18:32:25
Message:
QPID-3363, QPID-3443: Corrected exception used for 'default access' rule violations to match that specified for 'exchange-name-required' #MsgLength=137


----
Modified: src/qpid/broker/Broker.cpp|5 2

Revision: 89c10982a0a4a6f4377b55eca1875e9dafd3220d
Author: Gordon Sim <gsim@apache.org>
Date: 23/08/2011 18:42:41
Message:
QPID-3447: Fix windows build broken by previous commit (r1160458) due to lack of exported method #MsgLength=97


----
Modified: src/qpid/sys/Socket.h|1 1

Revision: c92d597bc55a94deaf382450a3a4d6c1ab96a072
Author: Gordon Sim <gsim@apache.org>
Date: 24/08/2011 22:27:24
Message:
QPID-3445: Added some extra checks to decode logic; consolidated exception handling for message decode. Patch from Paul Colby. #MsgLength=127


----
Modified: src/qpid/framing/FieldTable.cpp|3 1
Modified: src/qpid/framing/List.cpp|6 0
Modified: src/qpid/messaging/Message.cpp|6 1

Revision: 2428a151842742dbb5cb17c49057802fabb972fe
Author: Gordon Sim <gsim@apache.org>
Date: 24/08/2011 23:25:53
Message:
QPID-3451: make count=0 the default for consistency with python equivalent #MsgLength=75


----
Modified: examples/messaging/drain.cpp|1 1

Revision: 370e8208a78c37a0f80d4d196d742d6eac8f17e3
Author: Alan Conway <aconway@apache.org>
Date: 26/08/2011 04:41:28
Message:
QPID-3384: Enable DTX transactions in a cluster. #MsgLength=216


----
Modified: include/qpid/Msg.h|1 1
Modified: rubygen/amqpgen.rb|2 1
Modified: src/Makefile.am|2 1
Added: src/qpid/Msg.cpp|55 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/DtxAck.cpp|4 0
Modified: src/qpid/broker/DtxAck.h|18 17
Modified: src/qpid/broker/DtxBuffer.cpp|15 7
Modified: src/qpid/broker/DtxBuffer.h|28 25
Modified: src/qpid/broker/DtxManager.cpp|23 17
Modified: src/qpid/broker/DtxManager.h|16 9
Modified: src/qpid/broker/DtxTimeout.cpp|1 1
Modified: src/qpid/broker/DtxTimeout.h|6 4
Modified: src/qpid/broker/DtxWorkRecord.cpp|27 13
Modified: src/qpid/broker/DtxWorkRecord.h|12 2
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SemanticState.h|13 11
Modified: src/qpid/broker/TxBuffer.cpp|1 1
Modified: src/qpid/broker/TxPublish.h|46 45
Modified: src/qpid/cluster/Cluster.cpp|5 5
Modified: src/qpid/cluster/Connection.cpp|102 38
Modified: src/qpid/cluster/Connection.h|16 1
Modified: src/qpid/cluster/UpdateClient.cpp|62 19
Modified: src/qpid/cluster/UpdateClient.h|6 3
Modified: src/qpid/cluster/UpdateReceiver.h|7 0
Modified: src/qpid/log/Statement.cpp|1 27
Modified: src/tests/brokertest.py|1 3
Modified: src/tests/cluster_python_tests_failing.txt|0 28
Modified: src/tests/cluster_tests.py|202 2
Modified: xml/cluster.xml|23 0

Revision: ca8c767976f36c2c2272133307a24f6aa3f1f2f3
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/08/2011 06:31:07
Message:
Don't try setsockopt IPV6_V6ONLY when setting up new socket. Doesn't work on XP. Addresses note I left in QPID-3406. #MsgLength=117


----
Modified: src/qpid/sys/windows/Socket.cpp|0 5

Revision: 139541bd7b798518125136f8bd25342e53e56306
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2011 18:51:26
Message:
QPID-3455: Don't treat unspecified frame size as implying the minimum value. Prevent infinite loop when unable to decode frame in SASL security layer. #MsgLength=151


----
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 0

Revision: 8a89abc5b75ab944933acc6e121e252da43269e7
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2011 20:51:37
Message:
QPID-3384: Fix compilation errors for boost 1.39 and gcc 4.4.4 #MsgLength=63


----
Modified: src/qpid/Msg.cpp|1 0
Modified: src/qpid/broker/DtxManager.h|2 1

Revision: 36b749142bcd8f2791ec416a2a42c512e878b814
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2011 21:13:16
Message:
QPID-3384: Fix cmake build (added missing file to list) #MsgLength=56


----
Modified: src/CMakeLists.txt|1 0

Revision: c4f368ac50b43ddeff786eafe08d9269637481f0
Author: Justin Ross <jross@apache.org>
Date: 27/08/2011 03:35:11
Message:
QPID-3354: Modernize install instructions for the new home of libuuid #MsgLength=70


----
Modified: INSTALL|10 10

Revision: c1cb3ea19329b8791c85b7d232cccbd826a5e1ff
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2011 04:08:41
Message:
QPID-3457: qpid::Msg::str() method not exported #MsgLength=167


----
Modified: include/qpid/Msg.h|2 1
Modified: src/qpid/types/Variant.cpp|0 1

Revision: f4caa7bea63acb16fdb3422790e88bf415240554
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2011 06:11:18
Message:
QPID-2920: A hot-standby design for a new cluster implementation. #MsgLength=232


----
Added: design_docs/hot-standby-design.txt|239 0

Revision: a3e303168cd9eec77f1fa64b5bd0916ef07710b0
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2011 06:16:01
Message:
QPID-3457: qpid::Msg::str() method not exported #MsgLength=187


----
Modified: include/qpid/Msg.h|2 2
Modified: src/Makefile.am|1 1

Revision: 8670db2040e74ffd0523cf535889463d82b7995a
Author: Alan Conway <aconway@apache.org>
Date: 31/08/2011 00:21:00
Message:
NO-JIRA: Revert change to Msg.h introduced in r1162273 #MsgLength=210


----
Modified: include/qpid/Msg.h|1 1
Modified: src/Makefile.am|0 1
Deleted: src/qpid/Msg.cpp|0 56
Modified: src/qpid/log/Statement.cpp|24 1

Revision: 51143c41e64a0a2327ee93ac5e8038ccc1c55a9e
Author: Charles E. Rolke <chug@apache.org>
Date: 31/08/2011 00:55:24
Message:
NO-JIRA Complete reversion of Msg.h from r1162273 and r1163275 #MsgLength=63


----
Modified: src/CMakeLists.txt|0 1

Revision: de366096272b07fb8d99ed3e7fe60f9a4a8109a7
Author: Alan Conway <aconway@apache.org>
Date: 31/08/2011 03:35:36
Message:
QPID-3384: DTX transactions - replicate suspended transactions. #MsgLength=64


----
Modified: src/qpid/broker/SemanticState.h|5 1
Modified: src/qpid/cluster/Connection.cpp|18 11
Modified: src/qpid/cluster/Connection.h|3 2
Modified: src/qpid/cluster/UpdateClient.cpp|20 8
Modified: src/qpid/cluster/UpdateClient.h|1 0
Modified: src/qpid/cluster/UpdateReceiver.h|11 4
Modified: src/tests/brokertest.py|4 0
Modified: src/tests/cluster_tests.py|62 33
Modified: xml/cluster.xml|2 0

Revision: d60e3aa1b27e78fa73595a8289206789eda9c5e4
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2011 16:42:23
Message:
QPID-3333: Patch from Anthony Foglia - Wrap more exceptions (0009) #MsgLength=67


----
Modified: bindings/qpid/python/python.i|40 1

Revision: 8bb1bce56d06e8cf8b094477b1a2dd9d632f4f1d
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2011 16:48:09
Message:
QPID-3333: Patch from Anthony Foglia - Add session property to senders and receivers (0010) #MsgLength=92


----
Modified: bindings/qpid/python/python.i|6 0

Revision: 55956f3b5e68f2b9f34556cf846d302901c3b0fd
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2011 16:57:40
Message:
QPID-3333: Patch from Anthony Foglia - Convert UUIDs to python equivalents (0011) #MsgLength=82


----
Modified: bindings/swig_python_typemaps.i|56 0

Revision: b5a650a5552c81e2b35cdf937c14b455dbbe1186
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2011 16:59:13
Message:
QPID-3333: Patch from Anthony Foglia - Add connection property to Session object (0012) #MsgLength=88


----
Modified: bindings/qpid/python/python.i|3 0

Revision: fabdf77eebd4e1002635bb91369700208d544430
Author: Gordon Sim <gsim@apache.org>
Date: 31/08/2011 17:01:10
Message:
QPID-3333: Patch from Anthony Foglia - Handle amqp/list and amqp/map content (0013) #MsgLength=84


----
Modified: bindings/qpid/python/python.i|21 4

Revision: 9393d64bcb82ec7e7875e530e8672f09bf21b2f9
Author: Charles E. Rolke <chug@apache.org>
Date: 01/09/2011 03:27:18
Message:
QPID-2643 VS2010 support Add a dialog to select version of Visual Studio as cmake generator. #MsgLength=93


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|66 2

Revision: 2d540a9a96d4e8688952b891703f6f8f817e71fd
Author: Alan Conway <aconway@apache.org>
Date: 01/09/2011 03:49:04
Message:
NO-JIRA: Suppress logging of clock events in cluster code. #MsgLength=163


----
Modified: src/qpid/cluster/Cluster.cpp|12 3
Modified: src/qpid/cluster/Cluster.h|19 15
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/Multicaster.cpp|2 1

Revision: 4ab903859f4d27bbd005a82eec02efd5f7d995f6
Author: Alan Conway <aconway@apache.org>
Date: 02/09/2011 04:18:56
Message:
QPID-3384: DTX transactions - additional transaction tests. #MsgLength=102


----
Modified: src/tests/cluster_tests.py|30 18

Revision: 79d0a3a56fad0d9d740c09002a4e8d1e04c327d8
Author: Alan Conway <aconway@apache.org>
Date: 02/09/2011 04:19:12
Message:
Bug 727182, QPID-3384 - Support DTX transactions - test for set-dtx-timeout #MsgLength=76


----
Modified: src/tests/cluster_tests.py|32 5

Revision: e27ca3c6f9e37979b85ab723192de2ec4e49fe1d
Author: Alan Conway <aconway@apache.org>
Date: 02/09/2011 04:19:19
Message:
NO-JIRA: Fix minor FIXME in brokertest.py #MsgLength=42


----
Modified: src/tests/brokertest.py|1 1

Revision: 6020a411704fd12cdc77e73376b4a1a0a5cf03aa
Author: Gordon Sim <gsim@apache.org>
Date: 06/09/2011 03:00:23
Message:
NO-JIRA: Additional doxygen comments for exceptions #MsgLength=52


----
Modified: docs/api/doxygen_mainpage.h|40 1
Modified: include/qpid/messaging/Session.h|43 2
Modified: include/qpid/messaging/exceptions.h|57 11

Revision: c43cbb012a5e1b37634bdeab32d72c2471b955e1
Author: Ted Ross <tross@apache.org>
Date: 07/09/2011 03:26:36
Message:
QPID-3360 - Ruby implementation of Qpid example applications Applied partial patch from Darryl Pierce #MsgLength=103


----
Added: bindings/qpid/ruby/examples/client.rb|50 0
Added: bindings/qpid/ruby/examples/hello_world.rb|49 0
Added: bindings/qpid/ruby/examples/server.rb|51 0
Added: bindings/qpid/ruby/test/lib/setup.rb|29 0

Revision: d39f378f4078e6582198f03b0466530e7fe0c482
Author: Gordon Sim <gsim@apache.org>
Date: 07/09/2011 21:38:18
Message:
NO-JIRA: Get more information from failed assertions #MsgLength=53


----
Modified: src/tests/federation.py|18 18

Revision: 98753c2e6d7d0e3e0b78dabf485065dd6a9c54c7
Author: Gordon Sim <gsim@apache.org>
Date: 07/09/2011 21:43:55
Message:
NO-JIRA: Restrict the allowed mechanisms, primarily to prevent GSSAPI being picked as it is most likely not configured correctly for these tests #MsgLength=145


----
Modified: src/tests/sasl_test_setup.sh|1 0

Revision: aa6622408ea0e01691794c5657af0a6c4ac6ff48
Author: Alan Conway <aconway@apache.org>
Date: 08/09/2011 01:28:04
Message:
Bug 730017, QPID-3475: Cluster authentication ignores cluster-* settings. #MsgLength=340


----
Modified: src/qpid/cluster/Connection.cpp|3 1
Modified: src/qpid/cluster/SecureConnectionFactory.cpp|4 4
Modified: src/qpid/cluster/UpdateClient.cpp|1 0
Modified: src/tests/cluster_tests.py|115 0

Revision: cb0c0a08fe44bac51cafcb339aced17b770e9391
Author: Gordon Sim <gsim@apache.org>
Date: 09/09/2011 01:27:35
Message:
QPID-3476: Demote timer warnings to informational statements #MsgLength=61


----
Modified: src/qpid/sys/TimerWarnings.cpp|3 3

Revision: 3ec462a7725153462a21c685e1d3ba5303da9904
Author: Ted Ross <tross@apache.org>
Date: 13/09/2011 05:04:02
Message:
QPID-3480 - Directly encodes and decodes message content in Ruby Committed patch from Darryl Pierce. #MsgLength=102


----
Modified: bindings/qpid/ruby/lib/qpid/message.rb|30 2
Modified: bindings/qpid/ruby/test/test_message.rb|49 3

Revision: 21a1005ef75c18c6130d0ee4c63a6257c97f0122
Author: Ted Ross <tross@apache.org>
Date: 13/09/2011 05:06:44
Message:
QPID-3360 - Ruby implementation of Qpid example applications Committed patch from Darryl Pierce. #MsgLength=98


----
Added: bindings/qpid/ruby/examples/drain.rb|111 0
Added: bindings/qpid/ruby/examples/map_receiver.rb|63 0
Added: bindings/qpid/ruby/examples/map_sender.rb|52 0
Added: bindings/qpid/ruby/examples/spout.rb|126 0

Revision: 82109edd1a4d85a146a291067d7c305378947b42
Author: Alan Conway <aconway@apache.org>
Date: 13/09/2011 21:00:16
Message:
QPID-3482: Unable to switch off logging to syslog when qpidd runs as daemon #MsgLength=76


----
Modified: src/qpid/log/posix/SinkOptions.cpp|1 1

Revision: e16a68cb34928b4406ecabf2e3beffc098e72f9c
Author: Ted Ross <tross@apache.org>
Date: 14/09/2011 03:34:38
Message:
QPID-3484 - QMF Main-Loop Integration Applied patch from Darryl Pierce. #MsgLength=73


----
Modified: bindings/qmf2/examples/cpp/Makefile.am|4 1
Added: bindings/qmf2/examples/cpp/event_driven_list_agents.cpp|107 0
Modified: include/qmf/AgentSession.h|1 0
Modified: include/qmf/ConsoleSession.h|1 0
Added: include/qmf/posix/EventNotifier.h|62 0
Modified: src/CMakeLists.txt|5 0
Modified: src/qmf.mk|4 0
Modified: src/qmf/AgentSession.cpp|38 129
Added: src/qmf/AgentSessionImpl.h|175 0
Modified: src/qmf/ConsoleSession.cpp|37 1
Modified: src/qmf/ConsoleSessionImpl.h|17 0
Added: src/qmf/EventNotifierImpl.cpp|56 0
Added: src/qmf/EventNotifierImpl.h|48 0
Added: src/qmf/PosixEventNotifier.cpp|63 0
Added: src/qmf/PosixEventNotifierImpl.cpp|108 0
Added: src/qmf/PosixEventNotifierImpl.h|61 0
Modified: src/tests/Qmf2.cpp|103 1

Revision: 21f1535cb6f970d8bfab9ada7d8dc740ccc0b4cc
Author: Ted Ross <tross@apache.org>
Date: 15/09/2011 05:41:11
Message:
QPID-3484 - Fixed handling of unused return values to prevent compiler warnings. #MsgLength=82


----
Modified: src/qmf/PosixEventNotifierImpl.cpp|6 2

Revision: 158d93acc78ea0524a42447dae6aa809a00a01d6
Author: Gordon Sim <gsim@apache.org>
Date: 15/09/2011 20:36:56
Message:
QPID-3487: Ensure delivery records for cancelled subscriptions are correctly cleaned up #MsgLength=88


----
Modified: src/qpid/broker/DeliveryRecord.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|4 0

Revision: d8ba454e024fc4c0a5888812cc7e3354f77b634a
Author: Gordon Sim <gsim@apache.org>
Date: 16/09/2011 01:02:50
Message:
QPID-3488: Ensure that message-stop clears any outstanding credit 'window' #MsgLength=75


----
Modified: src/qpid/broker/SemanticState.cpp|7 2
Modified: src/qpid/broker/SemanticState.h|1 0

Revision: 8b19cc9f6ecdc39d6f9cbc895a3b544e5419c2bd
Author: Charles E. Rolke <chug@apache.org>
Date: 16/09/2011 21:51:44
Message:
QPID-2643 Visual Studio 2010: c++ express In template-rexource.h, change hard inclusion of afxres.h to windows.h. Afxres.h is absent in VS2010 Express, and qpid libraries need no AFX definitions. Reported by Darryl Pierce. #MsgLength=223


----
Modified: src/windows/resources/template-resource.rc|1 1

Revision: 301f91c0aa078183750e7f94592edce06720e6bd
Author: Ted Ross <tross@apache.org>
Date: 16/09/2011 22:34:39
Message:
QPID-3484 - Added missing constructor for EventNotifier, fixed initialization bug. #MsgLength=84


----
Modified: include/qmf/posix/EventNotifier.h|1 0
Modified: src/qmf/AgentSession.cpp|14 2
Modified: src/qmf/AgentSessionImpl.h|1 0
Modified: src/qmf/ConsoleSession.cpp|16 4
Modified: src/qmf/ConsoleSessionImpl.h|1 0
Modified: src/qmf/PosixEventNotifier.cpp|2 0

Revision: df6e35f66c88672c5edc290cfbe5afdeecf0235a
Author: Gordon Sim <gsim@apache.org>
Date: 17/09/2011 02:44:59
Message:
QPID-3492: Treat string literals in addresses as utf8 encoded #MsgLength=62


----
Modified: src/qpid/messaging/AddressParser.cpp|2 1

Revision: 4e69c2f9502afe442f278d5404f662cd2d699f02
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/09/2011 07:09:54
Message:
NO_JIRA - fix PYTHONPATH to pick up qmf and enable to store recovery tests to run. #MsgLength=83


----
Modified: src/tests/run_store_tests.ps1|1 1

Revision: 5448eb4173f20726b8e57f78cbe2fba986485e0e
Author: Ted Ross <tross@apache.org>
Date: 20/09/2011 23:55:40
Message:
QPID-3496 - Removes erroneous namespace usage. Committed patch from Darryl Pierce. #MsgLength=84


----
Modified: src/qmf/AgentSessionImpl.h|0 1
Modified: src/qmf/ConsoleSessionImpl.h|0 1

Revision: 9839ba9135bb2d14fd15a1897c2f0524b03c70b9
Author: Gordon Sim <gsim@apache.org>
Date: 23/09/2011 22:23:50
Message:
QPID-3502: Ensure accepts are sent when required for asynchronously completed messages #MsgLength=87


----
Modified: src/qpid/broker/SessionState.cpp|1 3

Revision: 87475745193605fb0e05bfa76694be468d671ab3
Author: Charles E. Rolke <chug@apache.org>
Date: 27/09/2011 04:34:37
Message:
QPID-3478 VS2010 warning C4251 'needs to have dll interface' Apply proper class/function DLL member export macros. #MsgLength=115


----
Modified: include/qpid/amqp_0_10/Codecs.h|10 10
Modified: include/qpid/console/ClassKey.h|15 15

Revision: 33ff7dc1da961205ccd5fed6d60b279c574cc212
Author: Gordon Sim <gsim@apache.org>
Date: 27/09/2011 20:53:45
Message:
QPID-3508: Ensure subscription queue is deleted on closing receiver (unless it has explicitly been configured non-exclusive) #MsgLength=125


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|18 0

Revision: 0638eec67f991a39c6dce1f52bcba80230d79105
Author: Charles E. Rolke <chug@apache.org>
Date: 27/09/2011 22:53:21
Message:
QPID-2574 Mismatch uint32_t / size_t #MsgLength=171


----
Modified: src/CMakeLists.txt|1 0

Revision: d8f413e88b6b92b42d9bcbb5d0065be77fd1dc7e
Author: Michael Goulish <mgoulish@apache.org>
Date: 30/09/2011 03:54:42
Message:
QPID-3304 ( well, at least related to that jira ^^ ) Without these extra locks I got a broker SEGV during a federation test.  100% reproducible, 5 times. gsim suggested that this might be the issue.  After placing these locks, no SEGV in many tries. #MsgLength=251


----
Modified: src/qpid/broker/Message.cpp|6 0

Revision: 5ca0975a1f401bec8b4993fb2bf127932587bcae
Author: Ted Ross <tross@apache.org>
Date: 30/09/2011 20:32:26
Message:
QPID-3362 - Creates the Qpid gem file for distribution on RubyGems.org Committed patch from Darryl Pierce #MsgLength=107


----
Added: bindings/qpid/ruby/.gitignore|2 0
Modified: bindings/qpid/ruby/CMakeLists.txt|25 0
Added: bindings/qpid/ruby/LICENSE|234 0
Modified: bindings/qpid/ruby/README.rdoc|18 0
Modified: bindings/qpid/ruby/Rakefile|78 22
Added: bindings/qpid/ruby/TODO|7 0
Added: bindings/qpid/ruby/ext/cqpid/extconf.rb|73 0
Modified: bindings/qpid/ruby/lib/qpid/version.rb|1 1

Revision: 4329f3a1860e77288013b51462fa0d1baa50b30c
Author: Charles E. Rolke <chug@apache.org>
Date: 01/10/2011 04:58:23
Message:
QPID-2574 Mismatch uint32_t / size_t #MsgLength=135


----
Modified: include/qpid/console/ObjectId.h|4 4

Revision: f3412da0cf2a9cbe98ba0f3a907d15297b3666fb
Author: Ken Giusti <kgiusti@apache.org>
Date: 07/10/2011 22:21:48
Message:
QPID-3346: move message group feature into trunk. #MsgLength=50


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|5 0
Modified: src/qpid/broker/Broker.cpp|62 5
Modified: src/qpid/broker/Broker.h|9 2
Modified: src/qpid/broker/Consumer.h|11 5
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1
Modified: src/qpid/broker/DeliveryRecord.h|1 1
Added: src/qpid/broker/FifoDistributor.cpp|58 0
Added: src/qpid/broker/FifoDistributor.h|58 0
Added: src/qpid/broker/MessageDistributor.h|76 0
Added: src/qpid/broker/MessageGroupManager.cpp|443 0
Added: src/qpid/broker/MessageGroupManager.h|125 0
Modified: src/qpid/broker/Messages.h|0 1
Modified: src/qpid/broker/Queue.cpp|353 127
Modified: src/qpid/broker/Queue.h|39 15
Modified: src/qpid/broker/QueueEvents.cpp|4 0
Modified: src/qpid/broker/QueueFlowLimit.cpp|2 1
Modified: src/qpid/broker/QueueFlowLimit.h|3 0
Modified: src/qpid/broker/QueueObserver.h|37 3
Modified: src/qpid/broker/QueuePolicy.cpp|1 2
Modified: src/qpid/broker/SemanticState.cpp|42 24
Modified: src/qpid/broker/SemanticState.h|6 5
Modified: src/qpid/broker/ThresholdAlerts.h|3 0
Modified: src/qpid/cluster/Connection.cpp|7 7
Modified: src/qpid/cluster/UpdateClient.cpp|9 9
Modified: src/tests/CMakeLists.txt|5 0
Modified: src/tests/Makefile.am|15 4
Modified: src/tests/QueueTest.cpp|296 17
Modified: src/tests/cluster_tests.py|70 0
Added: src/tests/msg_group_test.cpp|618 0
Modified: src/tests/qpid-send.cpp|94 6
Added: src/tests/run_msg_group_tests|66 0
Added: src/tests/run_msg_group_tests_soak|60 0

Revision: 77ef32f7c973cd186c0fb9b0c8e434175add0ec1
Author: Ken Giusti <kgiusti@apache.org>
Date: 12/10/2011 04:54:24
Message:
QPID-3543: correctly dequeue messages that are auto-acknowledged. #MsgLength=66


----
Modified: src/qpid/broker/SemanticState.cpp|2 1

Revision: 6e243626d07045d2b6e9ecc237f4a72ab8371290
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2011 14:16:44
Message:
QPID-3522: Distinguish between null and empty string for sasl response #MsgLength=71


----
Modified: src/qpid/Sasl.h|2 2
Modified: src/qpid/SaslFactory.cpp|8 3
Modified: src/qpid/broker/ConnectionHandler.cpp|41 11
Modified: src/qpid/broker/ConnectionHandler.h|4 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|11 11
Modified: src/qpid/broker/SaslAuthenticator.h|1 1
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|12 12
Modified: src/qpid/client/ConnectionHandler.cpp|12 2
Modified: src/qpid/client/windows/SaslFactory.cpp|6 6
Modified: src/tests/ssl_test|8 4

Revision: 8f14d5fe8ced8b89a46b0a046a780dcbcf8a2311
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2011 23:53:58
Message:
NO-JIRA: Remove un-used and incorrect tests from cluster_tests.py #MsgLength=66


----
Modified: src/tests/cluster_tests.py|0 86

Revision: feb75eea4988de0240843627af0f1820dedf3f03
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2011 23:54:07
Message:
QPID-3544: ACL denials while replicating exclusive queues to a newly joined node. #MsgLength=127


----
Modified: src/qpid/acl/AclPlugin.cpp|1 1
Modified: src/qpid/cluster/Cluster.cpp|5 1
Modified: src/qpid/cluster/Cluster.h|2 0
Modified: src/tests/cluster_tests.py|8 5

Revision: ed3a5d294b52f93494d478f739d94999ef113184
Author: Ken Giusti <kgiusti@apache.org>
Date: 13/10/2011 01:42:27
Message:
QPID-3417: C++ broker - support adding arrival timestamp to received messages. #MsgLength=79


----
Modified: src/qpid/broker/Broker.cpp|50 3
Modified: src/qpid/broker/Broker.h|6 0
Modified: src/qpid/broker/Message.cpp|9 1
Modified: src/qpid/broker/Message.h|4 1
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|2 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|5 1
Modified: src/qpid/management/ManagementAgent.cpp|1 1
Added: src/tests/BrokerOptions.cpp|79 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/QueueTest.cpp|1 1
Modified: src/tests/acl.py|64 0

Revision: 66e1c42eeb14a4247d5d492de237563757baff17
Author: Alan Conway <aconway@apache.org>
Date: 13/10/2011 02:31:07
Message:
QPID-3544: ACL denials while replicating exclusive queues to a newly joined node. #MsgLength=120


----
Modified: src/qpid/broker/ConnectionHandler.cpp|3 4
Modified: src/qpid/broker/ConnectionHandler.h|0 1
Modified: src/qpid/broker/SemanticState.cpp|2 3
Modified: src/qpid/broker/SemanticState.h|0 1

Revision: c111ce545f7ae7fbf8ed20d54ffd99deddd25d16
Author: Alan Conway <aconway@apache.org>
Date: 13/10/2011 21:15:42
Message:
QPID-2920: Update new-cluster-plan.txt and new-cluster-design.txt. #MsgLength=158


----
Modified: design_docs/new-cluster-design.txt|99 186
Modified: design_docs/new-cluster-plan.txt|161 384

Revision: 61ec61bf8606886e7964b6dd33cb9b2bb2a7d8a1
Author: Ken Giusti <kgiusti@apache.org>
Date: 14/10/2011 01:33:08
Message:
QPID-3346: code cleanup - move private code out of headers, delete dead code. #MsgLength=78


----
Modified: src/qpid/broker/MessageGroupManager.cpp|22 54
Modified: src/qpid/broker/MessageGroupManager.h|8 26

Revision: ef71f9db0342e4af6fdc3d4fd4d409e9fc24c877
Author: Michael Goulish <mgoulish@apache.org>
Date: 14/10/2011 05:50:56
Message:
QPID-3528 sasl_set_path() does no check on the given directory, so when you get bad behavior later it can be hard to track down.  Especially bad is its policy of defaulting to an alternate standard location if yours fails.  That's a potential security bug. So this patch checks that your dir exists, and is readable, before calling sasl_set_path().  Either you get the sasl config dir you were expecting, #MsgLength=407


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|26 3
Modified: src/tests/sasl.mk|3 2
Added: src/tests/sasl_no_dir|218 0

Revision: 108ea3327f0a0f142a9476ba16be8f357eade121
Author: Charles E. Rolke <chug@apache.org>
Date: 14/10/2011 22:57:58
Message:
QPID-3540 Typecasting and alignment requirements for various platforms #MsgLength=379


----
Modified: src/qpid/RefCountedBuffer.cpp|14 3
Modified: src/qpid/RefCountedBuffer.h|9 1
Modified: src/tests/qpid-perftest.cpp|3 1

Revision: 56a8d43867543b11ca74d8b9bba0c19a5e5e89a8
Author: Ted Ross <tross@apache.org>
Date: 15/10/2011 02:25:59
Message:
NO-JIRA - Removed tabs from source #MsgLength=36


----
Modified: src/tests/QueueTest.cpp|24 24

Revision: f1129a234acd59c3cb846bb91c0dc7a4390f258d
Author: Ted Ross <tross@apache.org>
Date: 15/10/2011 02:29:00
Message:
QPID-3549 - Improved handling of boolean configuration options in Queue.cpp #MsgLength=77


----
Modified: src/qpid/broker/Queue.cpp|29 4

Revision: c64d2a715448e3f1a86a6bdd15e3335c9547caf9
Author: Charles E. Rolke <chug@apache.org>
Date: 15/10/2011 02:29:57
Message:
QPID-3540 Typecasting and alignment requirements for various platforms #MsgLength=328


----
Modified: src/qmf/engine/SchemaImpl.cpp|5 9
Modified: src/qmf/engine/SchemaImpl.h|5 2

Revision: ab97c23b2379d4a692cff8846981f7088768fc92
Author: Charles E. Rolke <chug@apache.org>
Date: 15/10/2011 03:36:40
Message:
QPID-3540 Include boost/cstdint.hpp to get uintptr_t #MsgLength=57


----
Modified: src/qpid/RefCountedBuffer.cpp|1 0

Revision: a46843708d3757458074342b3d8b5cf8ac39877c
Author: Ted Ross <tross@apache.org>
Date: 18/10/2011 01:21:09
Message:
NO-JIRA - Fixed a couple of problems with "make dist". #MsgLength=56


----
Modified: src/qmf.mk|6 3
Modified: src/tests/Makefile.am|5 4

Revision: b86470f0e726a35fa6a6d90ae9dbbf1bbfb638a7
Author: Charles E. Rolke <chug@apache.org>
Date: 18/10/2011 02:02:35
Message:
QPID-2905 Fixes for mingw cross-compilation (C++) #MsgLength=96


----
Modified: src/qpid/sys/alloca.h|3 3

Revision: 0941e890ef84246faecebdd198174d2547afc7a4
Author: Charles E. Rolke <chug@apache.org>
Date: 18/10/2011 04:01:44
Message:
QPID-3540 align issues in Solaris #MsgLength=211


----
Modified: src/qpid/RefCountedBuffer.cpp|7 16
Modified: src/qpid/RefCountedBuffer.h|1 9

Revision: 22ffee8dbc2694274f89ba6d0f64f354e1aafb20
Author: Charles E. Rolke <chug@apache.org>
Date: 18/10/2011 04:55:17
Message:
QPID-2323 Add Uuid to variant #MsgLength=192


----
Modified: src/qpid/framing/Uuid.cpp|3 1
Modified: src/qpid/types/Uuid.cpp|12 6

Revision: 8b30b132d7e1397158c1e9bcedd866f7cdccb628
Author: Ted Ross <tross@apache.org>
Date: 18/10/2011 22:10:06
Message:
QPID-2323 - Fixed a build error by adding a missing include. #MsgLength=62


----
Modified: src/qpid/types/Uuid.cpp|1 0

Revision: 214c8d2498b07ac7856102055f58c3ff763de3e2
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/10/2011 21:48:39
Message:
QPID-3550: qpid-perftest fails if --npubs < --nsubs and --iterations > 0. Fixed the number of next messages sent to the sub_iteration queue. #MsgLength=141


----
Modified: src/tests/qpid-perftest.cpp|5 5

Revision: 2d3f69e7e9b6087b76a3f49f0a4eaa11a0c4af51
Author: Alan Conway <aconway@apache.org>
Date: 20/10/2011 04:34:01
Message:
QPID-2920: Updates to new-cluster-plan. #MsgLength=97


----
Modified: design_docs/new-cluster-design.txt|12 11
Modified: design_docs/new-cluster-plan.txt|29 7

Revision: 23c670859781a0c08f229f85153bbfbf49f27f82
Author: Gordon Sim <gsim@apache.org>
Date: 21/10/2011 03:40:34
Message:
QPID-3514: Allow SSL and non-SSL connections on the same port. Applied patch from Zane Bitter and added simple test case. #MsgLength=122


----
Modified: src/qpid/sys/Socket.h|2 0
Modified: src/qpid/sys/SslPlugin.cpp|121 24
Modified: src/qpid/sys/TCPIOPlugin.cpp|29 4
Modified: src/qpid/sys/ssl/SslIo.cpp|14 6
Modified: src/qpid/sys/ssl/SslIo.h|10 6
Modified: src/qpid/sys/ssl/SslSocket.cpp|97 62
Modified: src/qpid/sys/ssl/SslSocket.h|10 34
Modified: src/tests/ssl_test|20 10

Revision: b990cc073c04807f29889dc990295596e0b6173e
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/10/2011 23:19:11
Message:
QPID-3346: fix tests to detect if tools are present. #MsgLength=53


----
Modified: src/tests/run_msg_group_tests|1 0
Modified: src/tests/run_msg_group_tests_soak|1 0

Revision: eeee7786e35ae2c85bfbb207cdc21217db2c77fe
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/10/2011 02:55:57
Message:
Add ability to run broker as a Windows service; resolves QPID-2519. #MsgLength=68


----
Modified: src/CMakeLists.txt|1 0
Modified: src/posix/QpiddBroker.cpp|5 0
Modified: src/qpidd.cpp|4 1
Modified: src/qpidd.h|3 0
Modified: src/windows/QpiddBroker.cpp|174 12
Added: src/windows/SCM.cpp|332 0
Added: src/windows/SCM.h|109 0

Revision: 74bf533d4995350f0f1600faadaf9f6c8f0de031
Author: Charles E. Rolke <chug@apache.org>
Date: 25/10/2011 02:19:02
Message:
QPID-2519 Add ability to run broker as a Windows service. #MsgLength=100


----
Modified: src/Makefile.am|2 0

Revision: f538074395f5985826b863bf10667fa67b705255
Author: Ken Giusti <kgiusti@apache.org>
Date: 28/10/2011 22:47:50
Message:
QPID-3346: prevent taking non-head of free group, additional performance tweaks #MsgLength=80


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/MessageGroupManager.cpp|70 53
Modified: src/qpid/broker/MessageGroupManager.h|13 4
Added: src/qpid/sys/unordered_map.h|35 0

Revision: af35dff28879536f08662fad2ef45aaf0fcc1d9d
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2011 17:59:10
Message:
QPID-3563: Protect from concurrent access to accept tracker state #MsgLength=66


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 0

Revision: af7964dcefa3bc6f5baf990e24174cb13771c218
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2011 19:28:33
Message:
QPID-2920: Updates to new-cluster-plan.txt and new-cluster-design.txt #MsgLength=70


----
Modified: design_docs/new-cluster-design.txt|3 0
Modified: design_docs/new-cluster-plan.txt|90 62

Revision: 0ab11e37980ead36fa36f72bac9081739bcef697
Author: Kim van der Riet <kpvdr@apache.org>
Date: 31/10/2011 20:44:19
Message:
NO_JIRA: Small mods to certain log trace and debug messages to improve log message consistency #MsgLength=95


----
Modified: src/qpid/amqp_0_10/Connection.cpp|2 2
Modified: src/qpid/client/RdmaConnector.cpp|3 3
Modified: src/qpid/client/SslConnector.cpp|3 3
Modified: src/qpid/client/TCPConnector.cpp|3 3
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 2
Modified: src/qpid/sys/RdmaIOPlugin.cpp|2 2
Modified: src/qpid/sys/ssl/SslHandler.cpp|2 2

Revision: 5358dc87eedb8193ee8eb7736f126ef7718e0ff4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/11/2011 06:09:27
Message:
QPID-3514: Allow SSL and non SSL connections on the same port. - Fixes to allow tcp to report the correct port so that the correct name gets used for the pidfile - Improved the ssl tests: refactoring them, and adding a new test for broker chosen ssl muxed ports #MsgLength=266


----
Modified: src/qpid/sys/TCPIOPlugin.cpp|3 0
Modified: src/tests/ssl_test|80 29

Revision: c05e88c4105f29f81e68f3e9611df364fd20800d
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2011 22:19:30
Message:
QPID-3573: handle case where /home/gordon does not exist #MsgLength=57


----
Modified: examples/old_api/verify|10 3
Modified: examples/old_api/verify_all|7 1
Modified: src/tests/test_env.sh.in|7 1

Revision: eb5d86279d1566d5a9432f27a8fee7f15169cf86
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2011 22:20:51
Message:
QPID-3572: Make dependance on bashisms explicit #MsgLength=48


----
Modified: src/tests/ais_check|1 1
Modified: src/tests/allhosts|1 1
Modified: src/tests/cluster_python_tests|1 1
Modified: src/tests/cluster_read_credit|1 1
Modified: src/tests/clustered_replication_test|1 1
Modified: src/tests/dynamic_log_level_test|1 1
Modified: src/tests/fanout_perftest|1 1
Modified: src/tests/federated_cluster_test|1 1
Modified: src/tests/federated_cluster_test_with_node_failure|1 1
Modified: src/tests/multiq_perftest|1 1
Modified: src/tests/qpid-build-rinstall|1 1
Modified: src/tests/qpid-cluster-benchmark|1 1
Modified: src/tests/qpid-src-rinstall|1 1
Modified: src/tests/qpid-test-cluster|1 1
Modified: src/tests/quick_perftest|1 1
Modified: src/tests/quick_topictest|1 1
Modified: src/tests/quick_txtest|1 1
Modified: src/tests/reliable_replication_test|1 1
Modified: src/tests/restart_cluster|3 3
Modified: src/tests/rsynchosts|1 1
Modified: src/tests/run-unit-tests|1 1
Modified: src/tests/run_failover_soak|1 1
Modified: src/tests/run_perftest|1 1
Modified: src/tests/run_queue_flow_limit_tests|1 1
Modified: src/tests/shared_perftest|1 1
Modified: src/tests/start_broker|1 1
Modified: src/tests/start_cluster|1 1
Modified: src/tests/stop_broker|1 1
Modified: src/tests/stop_cluster|1 1
Modified: src/tests/test_watchdog|1 1
Modified: src/tests/topic_perftest|1 1

Revision: 6fc9139ef9776fa9aa8cac558abdab301a998593
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/11/2011 23:37:03
Message:
QPID-3577: assign null group names to the default group #MsgLength=56


----
Modified: docs/man/qpidd.1|19 6
Modified: src/qpid/broker/MessageGroupManager.cpp|4 1

Revision: 6fbeef5055669ae1881883e22035f1a343aae7ed
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/11/2011 23:58:42
Message:
QPID-3577: undo commit - qpidd.1 changes should not have been committed #MsgLength=72


----
Modified: docs/man/qpidd.1|6 19
Modified: src/qpid/broker/MessageGroupManager.cpp|1 4

Revision: d741f0b6b18f97435546ec4bb6f9fe8ec9bb4658
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/11/2011 00:20:41
Message:
Give the broker more time to start; has been timing out lately. NO-JIRA. #MsgLength=73


----
Modified: src/tests/run_acl_tests.ps1|1 1
Modified: src/tests/start_broker.ps1|1 1

Revision: abcd42d57279c30d925ab6f8208ccebcf3825fd3
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/11/2011 00:44:02
Message:
QPID-3577: assign null group identifiers to the default group #MsgLength=62


----
Modified: src/qpid/broker/MessageGroupManager.cpp|4 1

Revision: d6e367348d0beb3f2b16c0ba8cb0c08bef10cc52
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/11/2011 22:31:33
Message:
QPID-3464: Build Improvements (CMake) [inspired by Jan-Marek Glogowski] - Fix cmake build to only require actually needed boost libraries #MsgLength=138


----
Modified: src/CMakeLists.txt|7 6

Revision: 668759f4fa3146675ff4d246829c5d535619aece
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/11/2011 22:31:39
Message:
QPID-3464: Build Improvements (CMake) [inspired by Jan-Marek Glogowski] - Detect whether uuid library and headers are installed #MsgLength=128


----
Modified: src/CMakeLists.txt|8 0

Revision: 7346541ec70ab880d13814af2b8aebcb131f9858
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/11/2011 22:32:01
Message:
QPID-3464: Build Improvements (CMake) [from Jan-Marek Glogowski] - Improved CMake build significantly bringing it closer in parity to autotools build #MsgLength=152


----
Modified: BuildInstallSettings.cmake|8 0
Modified: CMakeLists.txt|4 2
Added: bindings/qmf/CMakeLists.txt|37 0
Added: bindings/qmf/python/CMakeLists.txt|58 0
Added: bindings/qmf/ruby/CMakeLists.txt|38 0
Added: bindings/qmf2/CMakeLists.txt|37 0
Added: bindings/qmf2/python/CMakeLists.txt|58 0
Added: bindings/qmf2/ruby/CMakeLists.txt|39 0
Modified: bindings/qpid/perl/CMakeLists.txt|1 1
Modified: bindings/qpid/python/CMakeLists.txt|8 3
Modified: bindings/qpid/ruby/CMakeLists.txt|4 4
Added: docs/man/CMakeLists.txt|22 0
Modified: etc/CMakeLists.txt|13 1
Modified: src/CMakeLists.txt|75 47
Modified: src/cluster.cmake|7 4
Modified: src/rdma.cmake|1 1
Modified: src/ssl.cmake|15 10
Added: src/versions.cmake|38 0

Revision: c431b38fb2dd62c3dd91524a357fa51dd28d9c30
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/11/2011 22:32:09
Message:
QPID-3464: Build Improvements (CMake) [inspired by Jan-Marek Glogowski] - Turn off optimisations based on strict aliasing analysis for cluster code as we seem to be violating the strict aliasing rules there #MsgLength=209


----
Modified: src/cluster.cmake|3 1

Revision: cc93c62177f278e85abc99f10bf4378fd03f1ab8
Author: Michael Goulish <mgoulish@apache.org>
Date: 03/11/2011 23:15:45
Message:
I am removing DIGEST-MD5 from the mech list, because we cannot supply a username+passwd in the sasldb file without introducing a security hole to production systems. So now the only mech is ANONYMOUS -- and lots of changes to the comments to make it clear how to enable MD5 and how to add username+passwd for it. Also, one of the broker options that was mentioned in the old text was archaic -- updated that. #MsgLength=412


----
Modified: etc/sasl2/qpidd.conf|50 16

Revision: 4371f323e0fbc8ab0aec3c2140026d1e8c5fdaee
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2011 00:53:51
Message:
QPID-3553: prevent multiple connection-tune-ok controls from leaving dangling pointers in timer #MsgLength=96


----
Modified: src/qpid/broker/Connection.cpp|8 4

Revision: a4eb0888e357ee41e97028d113300bef5ae66918
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/11/2011 05:17:49
Message:
QPID-3464: Build Improvements (CMake) - Fixed windows build #MsgLength=60


----
Modified: src/CMakeLists.txt|8 6

Revision: fc6d9634baafd1afb1ace6ed5c9820e73c0b25f3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/11/2011 06:11:11
Message:
QPID-3464: Build Improvements (autotools) [inspired by  Jan-Marek Glogowski] - Simplified the python binding build QPID-3458: Install compiled _cqpid.so for SWIG python bindings in site-packages directory - Put the generated .pyc/.pyo and native .so in the correct place in the install tree #MsgLength=293


----
Modified: bindings/qmf/python/Makefile.am|4 4
Modified: bindings/qmf2/python/Makefile.am|4 4
Modified: bindings/qpid/python/Makefile.am|4 4
Modified: configure.ac|10 25
Modified: managementgen/Makefile.am|2 2

Revision: 65065cdd7d516ee46b5cef1c3d79b6f81d40582d
Author: Alan Conway <aconway@apache.org>
Date: 04/11/2011 21:23:23
Message:
QPID-2920: Minor updates to design/plan docs. #MsgLength=46


----
Modified: design_docs/new-cluster-design.txt|9 4
Modified: design_docs/new-cluster-plan.txt|48 12

Revision: 77f0f39a56d01dbe52146b5acd66e3f9d2834e68
Author: Ken Giusti <kgiusti@apache.org>
Date: 05/11/2011 01:39:49
Message:
QPID-3564: enhance message group generator to allow queue fill/drain tests #MsgLength=75


----
Modified: src/tests/msg_group_test.cpp|55 31
Modified: src/tests/run_msg_group_tests|2 0
Modified: src/tests/run_msg_group_tests_soak|2 0

Revision: 195792b446471c2d526eeb09902d37fe5e96db3e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/11/2011 04:56:53
Message:
QPID-3586: Changes for QPID-3464 break cmake build in tar.gz distribution - Added in the new CMake files to EXTRA_DIST in the Makefile.am files so that they get built into the tarballs - Added some cluster test files back into the .../tests/cluster.mk file as they seem to have been dropped by mistake (and having them missing also breaks the cmake build in a similar way) #MsgLength=379


----
Modified: bindings/qmf/Makefile.am|1 1
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf2/Makefile.am|1 1
Modified: bindings/qmf2/python/Makefile.am|1 1
Modified: bindings/qmf2/ruby/Makefile.am|1 1
Modified: docs/man/Makefile.am|1 1
Modified: src/Makefile.am|1 0
Modified: src/tests/cluster.mk|10 8

Revision: f9a17318feb27077251b5d6bc75eac1354356c44
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2011 22:41:43
Message:
NO-JIRA: Improvements to benchmark scripts. #MsgLength=44


----
Modified: src/tests/qpid-cluster-benchmark|26 30
Modified: src/tests/qpid-cpp-benchmark|87 33

Revision: 0479e9eed0a6d4f2dc39a0e46f97cfdebd2046dc
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2011 22:41:51
Message:
NO-JIRA: add --no-delete option to qpid-cpp-benchmark and qpid-cluster-benchmark. #MsgLength=176


----
Modified: src/tests/qpid-cluster-benchmark|4 3
Modified: src/tests/qpid-cpp-benchmark|10 7

Revision: 1e149303d8a6e5cf53982652b668e1a83a100a37
Author: Alan Conway <aconway@apache.org>
Date: 08/11/2011 22:41:59
Message:
NO-JIRA: Install test executables and scripts. #MsgLength=47


----
Modified: src/tests/Makefile.am|15 15
Modified: src/tests/cluster.mk|3 3
Modified: src/tests/testagent.mk|1 1

Revision: d90dc80e794cd66575c13f2c2898e8ba80ebd958
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2011 04:25:15
Message:
QPID-2643 Support Visual Studio 2010 #MsgLength=499


----
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.direct.receiver/csharp.direct.receiver.csproj [from bindings/qpid/dotnet/examples/csharp.direct.receiver/csharp.direct.receiver.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.direct.sender/csharp.direct.sender.csproj [from bindings/qpid/dotnet/examples/csharp.direct.sender/csharp.direct.sender.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.client/csharp.example.client.csproj [from bindings/qpid/dotnet/examples/csharp.example.client/csharp.example.client.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.declare_queues/csharp.example.declare_queues.csproj [from bindings/qpid/dotnet/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj]|4 4
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.drain/csharp.example.drain.csproj [from bindings/qpid/dotnet/examples/csharp.example.drain/csharp.example.drain.csproj]|4 4
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.helloworld/csharp.example.helloworld.csproj [from bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.server/csharp.example.server.csproj [from bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.spout/csharp.example.spout.csproj [from bindings/qpid/dotnet/examples/csharp.example.spout/csharp.example.spout.csproj]|4 4
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj [from bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|5 5
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.sender/csharp.map.callback.sender.csproj [from bindings/qpid/dotnet/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.receiver/csharp.map.receiver.csproj [from bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.csproj]|3 3
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.sender/csharp.map.sender.csproj [from bindings/qpid/dotnet/examples/csharp.map.sender/csharp.map.sender.csproj]|3 3
Deleted: bindings/qpid/dotnet/examples/powershell.example.helloworld/powershell.example.helloworld.ps1|0 34
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.Designer.vb|0 32
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Application.myapp|0 28
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/AssemblyInfo.vb|0 54
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.Designer.vb|0 82
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Resources.resx|0 135
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.Designer.vb|0 92
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/MyProject/Settings.settings|0 25
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vb|0 72
Deleted: bindings/qpid/dotnet/examples/visualbasic.example.client/visualbasic.example.client.vbproj|0 176
Renamed: bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sessionreceiver.sln [from bindings/qpid/dotnet/org.apache.qpid.messaging.sessionreceiver.sln]|2 2
Renamed: bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sln [from bindings/qpid/dotnet/org.apache.qpid.messaging.sln]|34 36
Renamed: bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj [from bindings/qpid/dotnet/src/org.apache.qpid.messaging.vcproj]|33 33
Renamed: bindings/qpid/dotnet/src/sessionreceiver/msvc9/org.apache.qpid.messaging.sessionreceiver.csproj [from bindings/qpid/dotnet/src/sessionreceiver/org.apache.qpid.messaging.sessionreceiver.csproj]|4 4
Renamed: bindings/qpid/dotnet/test/messaging.test/msvc9/messaging.test.csproj [from bindings/qpid/dotnet/test/messaging.test/messaging.test.csproj]|7 7

Revision: bdcef8157431ef6f6af1992950bb45451fe82801
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2011 06:46:14
Message:
QPID-2643 Visual Studio 2010 #MsgLength=175


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|76 36

Revision: 0b0e2d9651af91c6914cdfbd60fcb3b238bbab94
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2011 06:49:34
Message:
QPID-2640 Visual Studio 2010 #MsgLength=136


----
Modified: src/CMakeLists.txt|10 1

Revision: 961a75a15b90de2205b693cf375c622005a640aa
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2011 09:11:33
Message:
QPID-2643 Visual Studio 2010 #MsgLength=86


----
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.template.rc|1 1

Revision: 26ffcfea7d65f50d9d76c5571c83c53a6ca29a0b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/11/2011 23:54:12
Message:
QPID-3586: Changes for QPID-3464 break cmake build in tar.gz distribution - The previous fix for this problem broke the autotools build, so remove the StoreStatus cluster test again from the autotools build. #MsgLength=210


----
Modified: src/tests/cluster.mk|5 2

Revision: d111df1d9b180d3ee5993e8b64ea6fba7c91450e
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/11/2011 02:46:57
Message:
add timestamp of oldest msg per group to query output #MsgLength=54


----
Modified: src/qpid/broker/MessageGroupManager.cpp|10 1

Revision: cf7826d038ae48d97a26251e1051f1f49717f550
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/11/2011 03:38:16
Message:
QPID-3464: Build improvements (autotools) [from Jan-Marek Glogowski] - Improved the perl bindings build #MsgLength=104


----
Modified: bindings/qpid/Makefile.am|43 1
Added: bindings/qpid/perl/Makefile.PL.in|18 0
Deleted: bindings/qpid/perl/Makefile.am|0 42
Modified: configure.ac|3 2

Revision: d34301180c7b0b0feff591ffabd64d0e41f8edea
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2011 05:32:15
Message:
QPID-3603: Remove out-dated design proposal. #MsgLength=45


----
Deleted: design_docs/hot-standby-design.txt|0 239

Revision: 35f5a7a186d81f095eb3e08ec20be30322be3de8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/11/2011 23:50:41
Message:
QPID-3606: Qpid.pc pkgconfig file isn't sufficient to compile programs - Added in -lqpidtypes #MsgLength=94


----
Modified: src/qpid.pc.in|1 1

Revision: 7d87ccc82e805fc4788236cd9d748b8564e5f922
Author: Charles E. Rolke <chug@apache.org>
Date: 11/11/2011 04:14:45
Message:
QPID-2643 Visual Studio 2010 #MsgLength=175


----
Added: bindings/qpid/dotnet/examples/msvc10/csharp.direct.receiver/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.direct.receiver/csharp.direct.receiver.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.direct.sender/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.direct.sender/csharp.direct.sender.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.client/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.client/csharp.example.client.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.declare_queues/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.declare_queues/csharp.example.declare_queues.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.drain/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.drain/csharp.example.drain.csproj|111 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.helloworld/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.helloworld/csharp.example.helloworld.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.server/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.server/csharp.example.server.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.spout/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.example.spout/csharp.example.spout.csproj|114 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.receiver/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|117 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.sender/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.sender/csharp.map.callback.sender.csproj|115 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.receiver/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.receiver/csharp.map.receiver.csproj|110 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.sender/app.config|3 0
Added: bindings/qpid/dotnet/examples/msvc10/csharp.map.sender/csharp.map.sender.csproj|110 0
Added: bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sessionreceiver.sln|77 0
Added: bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sln|324 0
Added: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj|316 0
Added: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj.filters|98 0
Added: bindings/qpid/dotnet/src/sessionreceiver/msvc10/org.apache.qpid.messaging.sessionreceiver.csproj|138 0
Added: bindings/qpid/dotnet/test/messaging.test/msvc10/messaging.test.csproj|185 0

Revision: da418943c3993e73b5912dee185a78109c67d100
Author: Charles E. Rolke <chug@apache.org>
Date: 11/11/2011 04:31:46
Message:
QPID-2643 Visual Studio 2010 #MsgLength=73


----
Modified: bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sessionreceiver.sln|2 22

Revision: e093784d3b086489cf873a82d65ec33e38ef288d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/11/2011 06:14:40
Message:
QPID-3607: pkg config for qmf2 library - Added new qmf2.pc file and make install logic for it #MsgLength=94


----
Modified: configure.ac|1 0
Modified: src/CMakeLists.txt|7 0
Modified: src/Makefile.am|2 1
Modified: src/qmf.mk|2 0

Revision: b0043dfe8f9d0dff31cd438849a518a3aeb40f02
Author: Charles E. Rolke <chug@apache.org>
Date: 11/11/2011 22:09:11
Message:
QPID-2643 Visual Studio 2010 #MsgLength=97


----
Modified: bindings/qpid/dotnet/Makefile.am|126 104

Revision: ebb80266decbf495a5ebcafab65b2a105c8a9dac
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/11/2011 22:56:59
Message:
QPID-3607: pkg config for qmf2 library - Actually add the qmf2.pc.in file this time #MsgLength=84


----
Added: src/qmf2.pc.in|11 0

Revision: ece4999a4acf0ba8867456fa7448310b09b41c71
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/11/2011 00:06:08
Message:
QPID-3608: Improve C++ broker consume performance #MsgLength=50


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|13 18
Modified: src/qpid/sys/ssl/SslIo.cpp|13 18

Revision: d79e47d87f06c67a070cf094f84ad376979214aa
Author: Charles E. Rolke <chug@apache.org>
Date: 12/11/2011 01:41:55
Message:
QPID-2643 Visual Studio 2010 #MsgLength=234


----
Modified: bindings/qpid/dotnet/Makefile.am|26 13
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.sender/csharp.direct.sender.csproj|89 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.client/csharp.example.client.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.drain/csharp.example.drain.csproj|107 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.server/csharp.example.server.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.spout/csharp.example.spout.csproj|108 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|111 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|110 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.receiver/csharp.map.receiver.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.sender/csharp.map.sender.csproj|106 0
Added: bindings/qpid/dotnet/winsdk_sources/msvc10/winsdk_dotnet_examples.sln|161 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.receiver/csharp.direct.receiver.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.receiver/csharp.direct.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.sender/csharp.direct.sender.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.direct.sender/csharp.direct.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.client/csharp.example.client.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.client/csharp.example.client.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.drain/csharp.example.drain.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.drain/csharp.example.drain.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.helloworld/csharp.example.helloworld.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.helloworld/csharp.example.helloworld.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.server/csharp.example.server.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.server/csharp.example.server.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.spout/csharp.example.spout.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.example.spout/csharp.example.spout.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.receiver/csharp.map.receiver.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.receiver/csharp.map.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.sender/csharp.map.sender.csproj [from bindings/qpid/dotnet/winsdk_sources/examples/csharp.map.sender/csharp.map.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/winsdk_dotnet_examples.sln [from bindings/qpid/dotnet/winsdk_sources/winsdk_dotnet_examples.sln]|0 0

Revision: 9f18180556a772f39dbc0955b9c1ac2933a97b99
Author: Ken Giusti <kgiusti@apache.org>
Date: 15/11/2011 03:57:53
Message:
QPID-3615: deprecate max-session-rate feature. #MsgLength=47


----
Modified: src/qpid/broker/Broker.cpp|7 0

Revision: d4967b064efe62ad598f2286e17e9046142cf87e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2011 01:13:49
Message:
NO-JIRA: Added some error checking to ssl test #MsgLength=47


----
Modified: src/tests/ssl_test|4 4

Revision: a2385953164c77b50627c45f25df6ed185d483ac
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/11/2011 00:03:28
Message:
QPID-3623, QPID-3624: Fixed transaction accounting, also replaced argparse module with optparse module for use on earlier versions of Python than 2.7. Some minor code tidy-up was also included. #MsgLength=194


----
Modified: src/tests/qpid-perftest.cpp|9 6

Revision: cfb00ebe5fdf8e7e66db7847178659d39578d80c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/11/2011 00:10:42
Message:
NO_JIRA: Rolled back accidental checkin of experimental code in r.1202755 (checkin from wrong dir) #MsgLength=99


----
Modified: src/tests/qpid-perftest.cpp|6 9

Revision: da39c50806dbe7c62eec5ff38f0054447ba0d907
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/11/2011 05:44:59
Message:
QPID-3579: Moved qpid-analyze-trace to cpp/src/tools to address concerns about tool placement, code maturity etc. #MsgLength=114


----
Added: src/tests/qpid-analyze-trace|258 0

Revision: bcb309a5b90acd9151da937ea31731e53d0bce82
Author: Robert Gemmell <robbie@apache.org>
Date: 18/11/2011 06:04:14
Message:
NO-JIRA: add licence to .gitignore files #MsgLength=42


----
Modified: bindings/qpid/ruby/.gitignore|19 0
Modified: build-aux/.gitignore|19 0

Revision: 9c3ef71a2d45bbd72a25228594ec708ee48024c4
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2011 05:01:17
Message:
QPID-3180: Further fix to the size checking logic for ring queues #MsgLength=66


----
Modified: src/qpid/broker/QueuePolicy.cpp|1 1

Revision: b04cefe954d862aa5cca4259c2064626b3853db8
Author: Ted Ross <tross@apache.org>
Date: 22/11/2011 02:18:51
Message:
QPID-3537 - Rename the :block option to :sync in Sender.send so that it matches the C++ APIs. Applied patch from Darryl Pierce. #MsgLength=129


----
Modified: bindings/qpid/ruby/lib/qpid/sender.rb|2 2
Modified: bindings/qpid/ruby/test/test_sender.rb|2 2

Revision: 68d2b2799d297f8cf032da001a1b75f7214a0481
Author: Ted Ross <tross@apache.org>
Date: 22/11/2011 02:27:48
Message:
QPID-3551 - Refactors the Qpid::Messaging::Connection APIs. Applied patch from Darryl Pierce. #MsgLength=95


----
Modified: bindings/qpid/ruby/examples/client.rb|1 1
Modified: bindings/qpid/ruby/examples/drain.rb|1 1
Modified: bindings/qpid/ruby/examples/hello_world.rb|1 1
Modified: bindings/qpid/ruby/examples/map_receiver.rb|1 1
Modified: bindings/qpid/ruby/examples/map_sender.rb|1 1
Modified: bindings/qpid/ruby/examples/server.rb|1 1
Modified: bindings/qpid/ruby/examples/spout.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid/connection.rb|79 36
Modified: bindings/qpid/ruby/lib/qpid/errors.rb|4 1
Modified: bindings/qpid/ruby/lib/qpid/session.rb|1 1
Modified: bindings/qpid/ruby/test/test_connection.rb|30 25

Revision: f30bc5dbba2a1816958c0ad343da5c54ac4d9ca6
Author: Ted Ross <tross@apache.org>
Date: 23/11/2011 05:32:48
Message:
NO-JIRA - Fixed the handling of functions with ignored return values. #MsgLength=71


----
Modified: src/qmf/engine/ResilientConnection.cpp|2 2
Modified: src/qpid/broker/Daemon.cpp|5 5
Modified: src/qpid/sys/posix/LockFile.cpp|1 1
Modified: src/tests/BrokerMgmtAgent.cpp|1 1
Modified: src/tests/ForkedBroker.cpp|1 1

Revision: 29b733d9cf8b1991e3d328cc34a3093fcc19d2c1
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2011 00:01:25
Message:
QPID-3629: Changed management of credit window #MsgLength=47


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Added: src/qpid/broker/Credit.cpp|151 0
Added: src/qpid/broker/Credit.h|96 0
Modified: src/qpid/broker/SemanticState.cpp|18 43
Modified: src/qpid/broker/SemanticState.h|4 7
Modified: src/qpid/cluster/Cluster.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|3 1
Modified: src/qpid/cluster/Connection.h|2 1
Modified: src/qpid/cluster/UpdateClient.cpp|6 4
Modified: src/tests/ClientSessionTest.cpp|2 0
Modified: xml/cluster.xml|2 0

Revision: c7cd36a2a6ea504eac261dfa3eb261d76d15bb4c
Author: Charles E. Rolke <chug@apache.org>
Date: 24/11/2011 02:58:50
Message:
QPID-2643 Visual Studio 2010 #MsgLength=91


----
Modified: bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj|3 3
Modified: bld-winsdk.ps1|254 104

Revision: 364c5abe40d4cf6e67d9233081342be42da57a0e
Author: Charles E. Rolke <chug@apache.org>
Date: 24/11/2011 07:54:15
Message:
QPID-2643 Visual Studio 2010 #MsgLength=308


----
Added: examples/winsdk-cmake/CMakeLists.txt|115 0

Revision: a4206c1918328ad5fbc934fbf35edc98f5e4a79e
Author: Ken Giusti <kgiusti@apache.org>
Date: 29/11/2011 21:34:09
Message:
QPID-3648: fix cleanup of remote agent on broker shutdown. #MsgLength=59


----
Modified: src/qpid/management/ManagementAgent.cpp|4 0

Revision: 717a55c20fafd82eea8f9991769e39de480d3380
Author: Charles E. Rolke <chug@apache.org>
Date: 02/12/2011 05:10:17
Message:
QPID-2643 Visual Studio 2010 #MsgLength=424


----
Modified: bld-winsdk.ps1|90 139
Modified: examples/winsdk-cmake/CMakeLists.txt|31 54

Revision: ee4013c3df25c9add46c357827a6f0c25a05ec6f
Author: Charles E. Rolke <chug@apache.org>
Date: 03/12/2011 07:11:32
Message:
QPID-2643 Visual Studio 2010 #MsgLength=243


----
Modified: bld-winsdk.ps1|18 9
Modified: examples/winsdk-cmake/CMakeLists.txt|19 19

Revision: 8e7dc6b4731c566f03a7feaa99bc59f19f989213
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2011 23:56:40
Message:
QPID-3652: Fix cluster authentication. #MsgLength=747


----
Modified: rubygen/amqpgen.rb|1 0
Modified: src/Makefile.am|2 0
Modified: src/cluster.mk|2 0
Added: src/qpid/UrlArray.cpp|41 0
Added: src/qpid/UrlArray.h|37 0
Modified: src/qpid/broker/ConnectionState.h|23 5
Modified: src/qpid/broker/SemanticState.cpp|1 3
Modified: src/qpid/broker/SemanticState.h|0 2
Modified: src/qpid/client/FailoverListener.cpp|2 6
Modified: src/qpid/cluster/Cluster.cpp|49 5
Modified: src/qpid/cluster/Cluster.h|4 0
Added: src/qpid/cluster/CredentialsExchange.cpp|94 0
Added: src/qpid/cluster/CredentialsExchange.h|72 0
Modified: src/qpid/cluster/FailoverExchange.cpp|2 3
Modified: src/qpid/cluster/InitialStatusMap.cpp|12 0
Modified: src/qpid/cluster/InitialStatusMap.h|4 0
Modified: src/tests/InitialStatusMap.cpp|11 7
Modified: src/tests/brokertest.py|6 2
Modified: src/tests/cluster_authentication_soak.cpp|1 1
Modified: src/tests/cluster_tests.py|34 16
Modified: xml/cluster.xml|1 0

Revision: 5e5d6f36951bafc00b7b70c39bbef9c0f4dd91d4
Author: Charles E. Rolke <chug@apache.org>
Date: 07/12/2011 05:10:56
Message:
QPID-2643 Visual Studio 2010 #MsgLength=248


----
Modified: bld-winsdk.ps1|18 7

Revision: 2f127d619f4805f7b5622db8a1680d4e718dc2aa
Author: Charles E. Rolke <chug@apache.org>
Date: 07/12/2011 22:43:13
Message:
QPID-3652 Fix cluster authentication #MsgLength=139


----
Modified: src/CMakeLists.txt|1 0
Modified: src/cluster.cmake|2 0
Modified: src/qpid/UrlArray.h|3 3

Revision: 4b4e5c850ed53ecc2ec65239b9235375265c72ea
Author: Charles E. Rolke <chug@apache.org>
Date: 08/12/2011 05:45:50
Message:
QPID-2643 Visual Studio 2010 #MsgLength=222


----
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.sender/csharp.direct.sender.csproj|14 8
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.client/csharp.example.client.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.drain/csharp.example.drain.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|16 12
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.server/csharp.example.server.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.spout/csharp.example.spout.csproj|19 12
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|23 12
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|19 12
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.receiver/csharp.map.receiver.csproj|16 10
Modified: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.sender/csharp.map.sender.csproj|16 10
Modified: bld-winsdk.ps1|15 12

Revision: 43b48d51cfe86d1d7545875043e3b1a68099bca0
Author: Ken Giusti <kgiusti@apache.org>
Date: 08/12/2011 05:55:13
Message:
QPID-3666: replace both the index and the value when updating duplicate objects #MsgLength=80


----
Modified: src/qpid/management/ManagementAgent.cpp|5 1

Revision: f98f60eed330855d04aece6046c6c47d0648a33a
Author: Alan Conway <aconway@apache.org>
Date: 09/12/2011 04:04:46
Message:
QPID-3669: Configuration option for path to watchdog executable. #MsgLength=212


----
Modified: src/qpid/cluster/WatchDogPlugin.cpp|8 6

Revision: 0bd0e0a8e224ab6e27cf7ffdef0902228f3f0d17
Author: Charles E. Rolke <chug@apache.org>
Date: 09/12/2011 04:27:04
Message:
QPID-2634 VS2010 - Tidy up the Csharp WinSDK VS2010 project files. #MsgLength=67


----
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.receiver/csharp.direct.receiver.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.sender/csharp.direct.sender.csproj|8 8
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.client/csharp.example.client.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.drain/csharp.example.drain.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.helloworld/csharp.example.helloworld.csproj|11 28
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.server/csharp.example.server.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.spout/csharp.example.spout.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj|10 28
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj|8 26
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.receiver/csharp.map.receiver.csproj|8 25
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.sender/csharp.map.sender.csproj|8 25

Revision: c309cd17c7b1cf9a4befec10b9787089a70a2a72
Author: Charles E. Rolke <chug@apache.org>
Date: 10/12/2011 00:40:56
Message:
QPID-3671 WinSDK is incomplete. Adds .NET PDB files and fixes Readme-winsdk. #MsgLength=77


----
Modified: README-winsdk.txt|61 40
Modified: bld-winsdk.ps1|1 6

Revision: 639dfa2a559ebe10cc2b20a5037ffe59840e5923
Author: Charles E. Rolke <chug@apache.org>
Date: 10/12/2011 04:56:09
Message:
QPID-3671 WinSDK - Executables are built release; copy them to bin/release. #MsgLength=76


----
Modified: bld-winsdk.ps1|1 1

Revision: 3e845b6a77752535a1e1004ac3e5ae592cfd8fc8
Author: Stephen D. Huston <shuston@apache.org>
Date: 10/12/2011 06:44:40
Message:
Don't install C++ examples we don't want users basing their learning on any longer. Fixes QPID-3673. #MsgLength=101


----
Modified: examples/CMakeLists.txt|6 1
Modified: examples/qmf-console/CMakeLists.txt|4 4

Revision: 8ad951396ec5c6d87b4055206b4dc1e2e77c12c2
Author: Nuno Santos <nsantos@apache.org>
Date: 13/12/2011 06:55:20
Message:
added explicit cast, required by some compiler versions, namely on s390 arch #MsgLength=77


----
Modified: src/qpid/broker/MessageGroupManager.cpp|1 1

Revision: 50394daa07ed99c56b8d4a2c174e3e3fa1d3f242
Author: Michael Goulish <mgoulish@apache.org>
Date: 16/12/2011 21:40:58
Message:
QPID-3438 fix cluster causing cnx leak when bad credentials are given in login attempt. #MsgLength=89


----
Modified: src/qpid/broker/Connection.cpp|2 1
Modified: src/qpid/broker/Connection.h|7 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 0
Modified: src/qpid/cluster/Cluster.cpp|9 0
Modified: src/qpid/cluster/Cluster.h|2 0
Modified: src/qpid/cluster/Connection.cpp|6 1

Revision: e09fbfb31be9d0eee35bb8de1affad4135afe36a
Author: Ted Ross <tross@apache.org>
Date: 20/12/2011 21:23:45
Message:
NO-JIRA - Fixed a minor typo in the doc text. #MsgLength=47


----
Modified: include/qpid/messaging/Session.h|1 1

Revision: 87781bd411b0210e27868b6e6f2becda0d167d1d
Author: Ted Ross <tross@apache.org>
Date: 20/12/2011 21:29:04
Message:
QPID-3655 - Improve the Qpid::Messaging::Receiver APIs and documentation. Applied patch from Darryl Pierce. #MsgLength=109


----
Modified: bindings/qpid/ruby/lib/qpid/receiver.rb|98 23
Modified: bindings/qpid/ruby/lib/qpid/session.rb|6 5
Modified: bindings/qpid/ruby/test/test_receiver.rb|4 39

Revision: 574dffea718c08a6dcc83adda69a52c08b139a5a
Author: Ted Ross <tross@apache.org>
Date: 20/12/2011 21:33:32
Message:
QPID-3651 - Improve the Qpid::Messaging::Sender APIs and documentation. Applied patch from Darryl Pierce. #MsgLength=107


----
Modified: bindings/qpid/ruby/lib/qpid/sender.rb|81 21
Modified: bindings/qpid/ruby/lib/qpid/session.rb|1 1
Modified: bindings/qpid/ruby/test/test_sender.rb|3 38

Revision: 7d99440278c882e4680464bce717044bc8497c31
Author: Ted Ross <tross@apache.org>
Date: 20/12/2011 22:20:45
Message:
QPID-3639 - Refactored the APIs for Qpid::Messaging::Session and modified the documentation. Applied patch from Darryl Pierce. #MsgLength=128


----
Modified: bindings/qpid/ruby/lib/qpid/connection.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid/session.rb|144 60
Modified: bindings/qpid/ruby/test/test_session.rb|59 70

Revision: 63c3af1908c54088c0d616c72eab60fa0e799f08
Author: Charles E. Rolke <chug@apache.org>
Date: 22/12/2011 01:55:59
Message:
QPID-3193 Major update provides locks and checks for disposed objects. #MsgLength=606


----
Modified: bindings/qpid/dotnet/src/Address.cpp|117 96
Modified: bindings/qpid/dotnet/src/Address.h|77 25
Modified: bindings/qpid/dotnet/src/Connection.cpp|157 123
Modified: bindings/qpid/dotnet/src/Connection.h|45 12
Deleted: bindings/qpid/dotnet/src/Duration.cpp|0 107
Modified: bindings/qpid/dotnet/src/Duration.h|7 9
Modified: bindings/qpid/dotnet/src/FailoverUpdates.cpp|26 15
Modified: bindings/qpid/dotnet/src/FailoverUpdates.h|21 4
Modified: bindings/qpid/dotnet/src/Message.cpp|300 255
Modified: bindings/qpid/dotnet/src/Message.h|160 67
Modified: bindings/qpid/dotnet/src/QpidException.h|4 4
Modified: bindings/qpid/dotnet/src/QpidMarshal.h|5 5
Modified: bindings/qpid/dotnet/src/QpidTypeCheck.h|7 7
Modified: bindings/qpid/dotnet/src/ReadMe.txt|5 5
Modified: bindings/qpid/dotnet/src/Receiver.cpp|115 86
Modified: bindings/qpid/dotnet/src/Receiver.h|61 13
Modified: bindings/qpid/dotnet/src/Sender.cpp|80 60
Modified: bindings/qpid/dotnet/src/Sender.h|69 12
Modified: bindings/qpid/dotnet/src/Session.cpp|321 253
Modified: bindings/qpid/dotnet/src/Session.h|60 12
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|33 33
Modified: bindings/qpid/dotnet/src/TypeTranslator.h|6 6
Modified: bindings/qpid/dotnet/src/resource1.h|1 1

Revision: 1b35e2699bc1ab3824a784d54390def43213c36f
Author: Stephen D. Huston <shuston@apache.org>
Date: 23/12/2011 00:27:33
Message:
Adjust topictest.ps1 to use correct executable names (they changed some time ago); extend broker start timeout on brokertest.ps1 (Windows broker now takes 19 sec to start?!). NO-JIRA #MsgLength=183


----
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/topictest.ps1|3 3

Revision: b4efaacd04df4aad0d2990baafd0be95ac541502
Author: Charles E. Rolke <chug@apache.org>
Date: 23/12/2011 00:51:16
Message:
QPID-3193 Locking .NET Disposed objects - repair patch r1221824 #MsgLength=134


----
Modified: bindings/qpid/dotnet/src/Address.cpp|1 1
Modified: bindings/qpid/dotnet/src/Connection.cpp|1 1
Modified: bindings/qpid/dotnet/src/FailoverUpdates.cpp|1 1
Modified: bindings/qpid/dotnet/src/Message.cpp|1 1
Modified: bindings/qpid/dotnet/src/Receiver.cpp|1 1
Modified: bindings/qpid/dotnet/src/Sender.cpp|1 1
Modified: bindings/qpid/dotnet/src/Session.cpp|1 1

Revision: 998e5dbf4c0d45ad70c5cca9c02e4a80923dddf2
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/12/2011 07:49:26
Message:
QPID-3711: fix federation test script #MsgLength=38


----
Modified: src/tests/run_federation_tests|7 7

Revision: 04f9c5213c3ebccd2f49afa564389b7ffaecb657
Author: Gordon Sim <gsim@apache.org>
Date: 04/01/2012 03:50:37
Message:
QPID-3492: Fix quoted values as well as unquoted values; added a test case #MsgLength=75


----
Modified: src/qpid/messaging/AddressParser.cpp|8 7
Modified: src/tests/MessagingSessionTests.cpp|21 0

Revision: d0554b28a4eee8866b52648b32c73eb7bb196b88
Author: Ted Ross <tross@apache.org>
Date: 05/01/2012 00:24:33
Message:
QPID-3718 - Added Ruby typemaps for uint8_t and int8_t. Applied patch from Darryl Pierce. #MsgLength=91


----
Modified: bindings/swig_ruby_typemaps.i|20 0

Revision: d06f0cc932ea18dce3340b48a9c6766879f2f0bf
Author: Michael Goulish <mgoulish@apache.org>
Date: 05/01/2012 22:56:52
Message:
QPID-3438 Remove unnecessary changes to broker.  The cluster code does not really need to know that the cnx error was due to auth failure.  Any failure before the cnx has opened should cause the cnx to be removed from the 'local' map, or a cnx leak will occur. #MsgLength=263


----
Modified: src/qpid/broker/Connection.cpp|1 2
Modified: src/qpid/broker/Connection.h|0 5
Modified: src/qpid/broker/SaslAuthenticator.cpp|0 1
Modified: src/qpid/cluster/Connection.cpp|0 2

Revision: d81c735b71e683d97608167be87bd7d4c846f1c8
Author: Ted Ross <tross@apache.org>
Date: 06/01/2012 03:45:01
Message:
QPID-3727 - Applied patch from Darryl Pierce #MsgLength=47


----
Modified: bindings/qpid/ruby/Rakefile|13 0
Modified: bindings/qpid/ruby/lib/qpid/address.rb|95 33
Modified: bindings/qpid/ruby/lib/qpid/connection.rb|8 23
Modified: bindings/qpid/ruby/lib/qpid/duration.rb|15 2
Modified: bindings/qpid/ruby/lib/qpid/message.rb|240 29
Modified: bindings/qpid/ruby/lib/qpid/receiver.rb|1 1
Added: bindings/qpid/ruby/spec/qpid/address_spec.rb|78 0
Added: bindings/qpid/ruby/spec/qpid/connection_spec.rb|191 0
Renamed: bindings/qpid/ruby/spec/qpid/duration_spec.rb [from bindings/qpid/ruby/test/test_address.rb]|29 12
Added: bindings/qpid/ruby/spec/qpid/message_spec.rb|292 0
Added: bindings/qpid/ruby/spec/qpid/receiver_spec.rb|170 0
Added: bindings/qpid/ruby/spec/qpid/sender_spec.rb|135 0
Added: bindings/qpid/ruby/spec/qpid/session_spec.rb|353 0
Renamed: bindings/qpid/ruby/spec/spec_helper.rb [from bindings/qpid/ruby/test/lib/setup.rb]|1 9
Deleted: bindings/qpid/ruby/test/test_connection.rb|0 262
Deleted: bindings/qpid/ruby/test/test_encoding.rb|0 146
Deleted: bindings/qpid/ruby/test/test_message.rb|0 353
Deleted: bindings/qpid/ruby/test/test_receiver.rb|0 203
Deleted: bindings/qpid/ruby/test/test_sender.rb|0 148
Deleted: bindings/qpid/ruby/test/test_session.rb|0 434
Deleted: bindings/qpid/ruby/test/ts_bindings.rb|0 30

Revision: d1b56ea32f085d80a43f2505e0dce184a84fe044
Author: Gordon Sim <gsim@apache.org>
Date: 06/01/2012 23:15:11
Message:
QPID-3333: Fix reference counting for Variants, Maps, Lists; patch from Anthony Foglia #MsgLength=87


----
Modified: bindings/swig_python_typemaps.i|0 14

Revision: f6e5a8d98811e2b887ce10ef1b7a85a1e71423d0
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/01/2012 07:01:17
Message:
Run the needed python setup to get the python compiled and ready for the test runs; fixes QPID-3729 #MsgLength=100


----
Modified: src/tests/CMakeLists.txt|9 37

Revision: 60a9ab08e759f2681021790af0835eee42972584
Author: Ted Ross <tross@apache.org>
Date: 11/01/2012 22:08:25
Message:
QPID-3748 - Methods cannot be invoked when the agent is in external-storage mode #MsgLength=82


----
Modified: src/qmf/AgentSession.cpp|18 16
Modified: src/qmf/DataAddr.cpp|1 1

Revision: 276190c4cf2d57c604bf18d3942369d5ceb05c98
Author: Nuno Santos <nsantos@apache.org>
Date: 12/01/2012 06:03:03
Message:
QPID-3741: Fixed the test Rake target: it now calls the Rspec tests (applied patch from Darryl Pierce) #MsgLength=103


----
Modified: bindings/qpid/ruby/Rakefile|1 1

Revision: a97b27be5bef9aa01d200b10593b6c26070edb39
Author: Nuno Santos <nsantos@apache.org>
Date: 13/01/2012 03:48:53
Message:
QPID-3750: [RUBY] Cleaned up Rdocs for a few more classes (patches from Darryl Pierce) #MsgLength=87


----
Modified: bindings/qpid/ruby/lib/qpid/duration.rb|23 4
Modified: bindings/qpid/ruby/lib/qpid/receiver.rb|13 4
Modified: bindings/qpid/ruby/lib/qpid/sender.rb|11 1

Revision: 677cefcc167acc5a207677546edb3473aba34156
Author: Ted Ross <tross@apache.org>
Date: 14/01/2012 00:20:11
Message:
QPID-3755 - Concurrent queue bind on the same queue results in crash #MsgLength=70


----
Modified: src/qpid/broker/QueueBindings.cpp|8 2
Modified: src/qpid/broker/QueueBindings.h|10 1

Revision: 1418edd68af271493d86b687488d9dd312b8a4f2
Author: Ken Giusti <kgiusti@apache.org>
Date: 14/01/2012 02:22:40
Message:
QPID-3630: remove deprecated rate limiting feature #MsgLength=51


----
Modified: src/qpid/broker/Broker.cpp|0 8
Modified: src/qpid/broker/Broker.h|0 1
Modified: src/qpid/broker/ConnectionHandler.cpp|0 5
Modified: src/qpid/broker/ConnectionState.h|0 5
Deleted: src/qpid/broker/RateFlowcontrol.h|0 105
Modified: src/qpid/broker/SessionState.cpp|0 87
Modified: src/qpid/broker/SessionState.h|0 8
Modified: src/qpid/cluster/Connection.cpp|0 2
Modified: src/tests/CMakeLists.txt|0 1
Modified: src/tests/Makefile.am|0 1
Deleted: src/tests/RateFlowcontrolTest.cpp|0 71

Revision: 345af691f6807ce0cc7aae65e249bbb88641ba1a
Author: Ken Giusti <kgiusti@apache.org>
Date: 14/01/2012 02:22:50
Message:
QPID-3630: remove additional code in client. #MsgLength=45


----
Modified: src/qpid/broker/SessionState.cpp|0 2
Modified: src/qpid/client/SessionImpl.cpp|1 73
Modified: src/qpid/client/SessionImpl.h|1 18

Revision: 30cedf2b847c88b51846ceb762ea6d305c449526
Author: Nuno Santos <nsantos@apache.org>
Date: 18/01/2012 03:18:44
Message:
QPID-3754: Takes the Ruby bindings to 100% unit test coverage (patch from Darryl Pierce) #MsgLength=89


----
Modified: bindings/qpid/ruby/lib/qpid/encoding.rb|2 0
Modified: bindings/qpid/ruby/spec/qpid/address_spec.rb|9 0
Added: bindings/qpid/ruby/spec/qpid/encoding_spec.rb|63 0

Revision: 21d846950cb1970d185ec9f95d8b5994f2b2454a
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:07:58
Message:
QPID-3603: Replace public broker::Consumer::position variable with get/set function pair. #MsgLength=135


----
Modified: src/qpid/broker/Consumer.h|10 3
Modified: src/qpid/broker/FifoDistributor.cpp|1 1
Modified: src/qpid/broker/MessageGroupManager.cpp|2 2
Modified: src/qpid/broker/Queue.cpp|5 5
Modified: src/qpid/cluster/Connection.cpp|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|1 1
Modified: src/tests/QueueTest.cpp|1 1

Revision: cd612604b2d668a283b82e9c4aaba5487332b6a8
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:05
Message:
QPID-3603: Break infinite "detached" loop between federated brokers. #MsgLength=201


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|4 2

Revision: 9040ceb3c66b25cdb89341c6bdf32ed0e838f607
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:13
Message:
QPID-3603: Ensure listeners are notified of available messages even when a consumer also exists (note that replicating browser sees acquired messages) #MsgLength=151


----
Modified: src/qpid/broker/QueueListeners.cpp|6 7

Revision: 449e8fafca388720c016a8fd9f95258018a7ead5
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:22
Message:
QPID-3352: Fix test for failed session to avoid confusion with as yet uninitialised session #MsgLength=92


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|5 1
Modified: src/qpid/amqp_0_10/SessionHandler.h|3 1
Modified: src/qpid/broker/Bridge.cpp|2 3
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Link.cpp|1 1

Revision: 2aecd88cfb11ae8b09833449dcaa1424d1976721
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:29
Message:
QPID-3603: Consistent find/get functions for Queue and Exchange registries. #MsgLength=76


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|10 3
Modified: src/qpid/broker/ExchangeRegistry.h|11 1
Modified: src/qpid/broker/QueueRegistry.cpp|7 1
Modified: src/qpid/broker/QueueRegistry.h|5 0

Revision: 48cd8afb5b59999b9d89751da2e83b9275d9bb4a
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:38
Message:
QPID-3603: Fix spurious "exchange not found" error and debug messages. #MsgLength=71


----
Modified: src/qpid/broker/Exchange.cpp|4 6
Modified: src/qpid/broker/Queue.cpp|5 6
Modified: src/qpid/broker/QueueBindings.cpp|4 4
Modified: src/qpid/broker/SessionAdapter.cpp|45 50

Revision: 32bcbdec252ec6d0379759199cc7e7c778be5053
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:45
Message:
QPID-3603: Act on bridge cancellations before creations #MsgLength=247


----
Modified: src/qpid/broker/Link.cpp|9 7

Revision: 605a675af97373e7de818d2f9ea07e988d605b54
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:08:53
Message:
QPID-3603: Merge SemanticState unsubscribe with cancel. #MsgLength=130


----
Modified: src/qpid/broker/Consumer.h|1 0
Modified: src/qpid/broker/SemanticState.cpp|5 8
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/tests/QueueTest.cpp|1 0

Revision: 4eb31e621ca577b9265665cd8e77c7f139727552
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:09:01
Message:
QPID-3603: Added public broker::Connection::isLink function. #MsgLength=61


----
Modified: src/qpid/broker/Connection.cpp|16 16
Modified: src/qpid/broker/Connection.h|3 1

Revision: 1a4b5c420f3c01f471fc6d26f894e8a5e2ec6fea
Author: Alan Conway <aconway@apache.org>
Date: 19/01/2012 06:46:04
Message:
QPID-3603: Replace public broker::Consumer::position variable with get/set function pair. #MsgLength=107


----
Modified: src/qpid/broker/Queue.cpp|3 3

Revision: a00c72239c1a84d8be423ca8795ee8a35af6279e
Author: Alan Conway <aconway@apache.org>
Date: 20/01/2012 23:21:37
Message:
Revert "QPID-3352: Fix test for failed session to avoid confusion with as yet uninitialised session" #MsgLength=236


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 5
Modified: src/qpid/amqp_0_10/SessionHandler.h|1 3
Modified: src/qpid/broker/Bridge.cpp|3 2
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Link.cpp|1 1

Revision: 9953c10a0148d22b75308dd16b91a364ec032687
Author: Ted Ross <tross@apache.org>
Date: 28/01/2012 04:03:54
Message:
QPID-3787 - Fixed shutdown crash in SslPlugin, Fixed problem with sasl_mux test. #MsgLength=82


----
Modified: src/qpid/sys/SslPlugin.cpp|4 1
Modified: src/tests/ssl_test|3 3

Revision: c7ef0329f7aa24f594cc219fdce7bb86e7af789e
Author: Ted Ross <tross@apache.org>
Date: 01/02/2012 04:50:15
Message:
QPID-3791 - Cucumber-based integration tests for the Ruby binding. Committed patch from Darryl Pierce. #MsgLength=104


----
Modified: bindings/qpid/ruby/Rakefile|9 17
Added: bindings/qpid/ruby/features/closing_a_connection.feature|13 0
Added: bindings/qpid/ruby/features/closing_a_session.feature|13 0
Added: bindings/qpid/ruby/features/connecting_to_a_broker.feature|13 0
Added: bindings/qpid/ruby/features/creating_a_receiver.feature|29 0
Added: bindings/qpid/ruby/features/creating_a_sender.feature|25 0
Added: bindings/qpid/ruby/features/creating_a_session.feature|12 0
Added: bindings/qpid/ruby/features/getting_the_connections_authenticated_username.feature|8 0
Added: bindings/qpid/ruby/features/receiving_a_message.feature|28 0
Added: bindings/qpid/ruby/features/sending_a_message.feature|21 0
Added: bindings/qpid/ruby/features/session_returns_its_connection.feature|12 0
Added: bindings/qpid/ruby/features/sessions_have_names.feature|8 0
Added: bindings/qpid/ruby/features/step_definitions/address_steps.rb|5 0
Added: bindings/qpid/ruby/features/step_definitions/connection_steps.rb|74 0
Added: bindings/qpid/ruby/features/step_definitions/receiver_steps.rb|42 0
Added: bindings/qpid/ruby/features/step_definitions/sender_steps.rb|15 0
Added: bindings/qpid/ruby/features/step_definitions/session_steps.rb|80 0
Added: bindings/qpid/ruby/features/support/env.rb|22 0

Revision: 8161ed9ddd576be62a3ddaa653e4739c1b0500b4
Author: Ted Ross <tross@apache.org>
Date: 03/02/2012 01:14:51
Message:
QPID-3481 - After queue deletion, route re-queued messages to the alternate exchange. #MsgLength=87


----
Modified: src/qpid/broker/Queue.cpp|20 9

Revision: 7bfe6a1dfbabc73caeb024b91113e211708c94f6
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/02/2012 07:46:35
Message:
QPID-3804: do not skip released grouped messages #MsgLength=49


----
Modified: src/qpid/broker/MessageGroupManager.cpp|1 1

Revision: ff1c6078f50c7b545df0fb7517821d9fe8f3cd12
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 10/02/2012 00:31:45
Message:
QPID-3571 PosixPoller implementation #MsgLength=37


----
Added: src/qpid/sys/posix/PosixPoller.cpp|793 0

Revision: a5f61982117e4f7ab0302b5b4c5249a5143708f6
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 10/02/2012 01:23:41
Message:
QPID-3620 time conversion fix for sparc architecture #MsgLength=53


----
Modified: src/qpid/sys/posix/Time.cpp|11 4

Revision: 3f87691689de43acc34820978d61ba6784973ccb
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 10/02/2012 01:40:14
Message:
QPID-3621 cmake build changes for solaris and solaris specific code changes #MsgLength=76


----
Modified: src/CMakeLists.txt|23 12
Modified: src/cluster.cmake|1 1
Modified: src/qpid/store/CMakeLists.txt|7 1
Modified: src/qpid/sys/posix/SocketAddress.cpp|4 4
Modified: src/qpid/sys/solaris/SystemInfo.cpp|6 1
Modified: src/rdma.cmake|3 3
Modified: src/ssl.cmake|2 2

Revision: f74861330fc44fbdf5534348cfdf329919607554
Author: Ted Ross <tross@apache.org>
Date: 10/02/2012 05:11:41
Message:
QPID-3824 - Additional queue statistics, posix memory statistics, and broker-scope statistics #MsgLength=95


----
Added: include/qpid/sys/MemStat.h|38 0
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/DeliveryRecord.cpp|1 0
Modified: src/qpid/broker/Exchange.cpp|8 2
Modified: src/qpid/broker/Exchange.h|2 0
Modified: src/qpid/broker/HeadersExchange.cpp|2 0
Modified: src/qpid/broker/Message.cpp|1 0
Modified: src/qpid/broker/Queue.cpp|138 8
Modified: src/qpid/broker/Queue.h|15 1
Modified: src/qpid/broker/QueuePolicy.cpp|6 2
Modified: src/qpid/broker/QueuePolicy.h|5 1
Modified: src/qpid/management/ManagementAgent.cpp|11 1
Modified: src/qpid/management/ManagementAgent.h|7 0
Added: src/qpid/sys/posix/MemStat.cpp|38 0
Added: src/qpid/sys/windows/MemStat.cpp|29 0

Revision: a3bdf258319430fb69c47f048571b991f28d834c
Author: Ken Giusti <kgiusti@apache.org>
Date: 11/02/2012 02:56:38
Message:
QPID-3773: generate a unique queue name for the internal bridge queues. #MsgLength=72


----
Modified: src/qpid/broker/Bridge.cpp|2 2

Revision: f712c7622464124d75542a214b914b3d70b58e19
Author: Ted Ross <tross@apache.org>
Date: 11/02/2012 04:27:54
Message:
NO-JIRA - Fixed missing return type on Windows stub. #MsgLength=54


----
Modified: src/qpid/sys/windows/MemStat.cpp|1 1

Revision: 552bb15310263af0edeab8c4b38baf068bd2423a
Author: Ted Ross <tross@apache.org>
Date: 14/02/2012 04:21:05
Message:
QPID-3638 - Fixed boost usage problem. #MsgLength=40


----
Modified: src/qpid/log/Logger.cpp|2 2

Revision: 0cfd72e062b5bf53eeeb325bb0da0b8968265669
Author: Gordon Sim <gsim@apache.org>
Date: 14/02/2012 23:39:13
Message:
QPID-3839: Allow browsers to accept messages #MsgLength=45


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1

Revision: ffdd5da267fcb1851a761b3f14924f362e641767
Author: Alan Conway <aconway@apache.org>
Date: 14/02/2012 23:55:21
Message:
NO-JIRA: Fix Logger::instance to work with older versions of boost. #MsgLength=68


----
Modified: src/qpid/log/Logger.cpp|10 0

Revision: 7327d76e95cafd8f6bf7db6bbfa0006b20b387af
Author: Ken Giusti <kgiusti@apache.org>
Date: 15/02/2012 22:41:04
Message:
QPID-3841: improve batching of outbound messages #MsgLength=49


----
Modified: src/qpid/amqp_0_10/Connection.cpp|6 1

Revision: 8eb36385103b1480151ac41d0fb58f6ebe8cc23d
Author: Nuno Santos <nsantos@apache.org>
Date: 17/02/2012 05:43:35
Message:
missing casts and include to be able to compile under fedora 18 #MsgLength=64


----
Modified: src/qpid/sys/posix/Socket.cpp|1 0
Modified: src/qpid/sys/posix/SocketAddress.cpp|2 2

Revision: 6069704b4dcb8ad1c86fd57154d5b616f433fb59
Author: Alan Conway <aconway@apache.org>
Date: 17/02/2012 22:54:46
Message:
QPID-3603: Merge new HA foundations. #MsgLength=184


----
Modified: design_docs/new-cluster-design.txt|2 61
Added: design_docs/new-ha-design.txt|416 0
Added: design_docs/old-cluster-issues.txt|81 0
Modified: include/qpid/messaging/Connection.h|31 29
Modified: include/qpid/types/Variant.h|2 0
Modified: managementgen/qmfgen/schema.py|5 0
Modified: managementgen/qmfgen/templates/Class.h|2 2
Modified: managementgen/qmfgen/templates/Event.cpp|5 0
Modified: managementgen/qmfgen/templates/Event.h|2 0
Modified: src/CMakeLists.txt|34 1
Modified: src/Makefile.am|6 1
Added: src/ha.mk|42 0
Modified: src/qpid/Url.cpp|1 0
Modified: src/qpid/broker/Bridge.cpp|35 25
Modified: src/qpid/broker/Bridge.h|14 5
Modified: src/qpid/broker/Broker.cpp|8 3
Modified: src/qpid/broker/Broker.h|8 0
Modified: src/qpid/broker/Connection.cpp|20 18
Modified: src/qpid/broker/Connection.h|5 0
Modified: src/qpid/broker/ConnectionHandler.cpp|2 0
Added: src/qpid/broker/ConnectionObserver.h|59 0
Added: src/qpid/broker/ConnectionObservers.h|79 0
Modified: src/qpid/broker/Consumer.h|26 5
Added: src/qpid/broker/ConsumerFactory.h|70 0
Modified: src/qpid/broker/DeliveryRecord.cpp|28 23
Modified: src/qpid/broker/DeliveryRecord.h|10 7
Modified: src/qpid/broker/FifoDistributor.cpp|2 8
Modified: src/qpid/broker/LegacyLVQ.cpp|3 3
Modified: src/qpid/broker/LegacyLVQ.h|2 2
Modified: src/qpid/broker/Link.cpp|124 68
Modified: src/qpid/broker/Link.h|116 105
Modified: src/qpid/broker/LinkRegistry.cpp|49 78
Modified: src/qpid/broker/LinkRegistry.h|21 37
Modified: src/qpid/broker/MessageDeque.cpp|118 61
Modified: src/qpid/broker/MessageDeque.h|11 11
Modified: src/qpid/broker/MessageGroupManager.cpp|6 7
Modified: src/qpid/broker/MessageMap.cpp|11 25
Modified: src/qpid/broker/MessageMap.h|5 7
Modified: src/qpid/broker/Messages.h|28 29
Modified: src/qpid/broker/PriorityQueue.cpp|6 27
Modified: src/qpid/broker/PriorityQueue.h|5 8
Modified: src/qpid/broker/Queue.cpp|84 64
Modified: src/qpid/broker/Queue.h|4 6
Modified: src/qpid/broker/QueuedMessage.h|13 8
Modified: src/qpid/broker/RetryList.h|1 2
Modified: src/qpid/broker/SemanticState.cpp|28 10
Modified: src/qpid/broker/SemanticState.h|14 5
Modified: src/qpid/broker/SessionAdapter.cpp|2 2
Modified: src/qpid/broker/SessionHandler.h|1 0
Modified: src/qpid/client/TCPConnector.cpp|3 5
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|22 20
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|34 17
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|3 3
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|2 1
Modified: src/qpid/cluster/Connection.cpp|9 2
Modified: src/qpid/cluster/Connection.h|2 0
Modified: src/qpid/cluster/OutputInterceptor.cpp|1 1
Added: src/qpid/ha/Backup.cpp|90 0
Added: src/qpid/ha/Backup.h|67 0
Added: src/qpid/ha/BrokerReplicator.cpp|497 0
Added: src/qpid/ha/BrokerReplicator.h|85 0
Added: src/qpid/ha/ConnectionExcluder.cpp|40 0
Added: src/qpid/ha/ConnectionExcluder.h|54 0
Added: src/qpid/ha/HaBroker.cpp|137 0
Added: src/qpid/ha/HaBroker.h|74 0
Added: src/qpid/ha/HaPlugin.cpp|67 0
Added: src/qpid/ha/QueueReplicator.cpp|174 0
Added: src/qpid/ha/QueueReplicator.h|86 0
Added: src/qpid/ha/ReplicatingSubscription.cpp|293 0
Added: src/qpid/ha/ReplicatingSubscription.h|134 0
Added: src/qpid/ha/Settings.h|45 0
Added: src/qpid/ha/management-schema.xml|38 0
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Options.cpp|1 1
Modified: src/qpid/sys/posix/Time.cpp|3 1
Modified: src/qpid/types/Variant.cpp|30 12
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/QueueTest.cpp|8 1
Modified: src/tests/brokertest.py|45 32
Modified: src/tests/cluster_tests.py|16 9
Added: src/tests/ha_tests.py|355 0
Modified: src/tests/qpid-cluster-benchmark|9 5
Modified: src/tests/qpid-cpp-benchmark|11 4
Modified: src/tests/qpid-receive.cpp|24 15
Modified: src/tests/reliable_replication_test|4 13
Modified: src/tests/test_env.sh.in|2 1

Revision: 57185c6173f76d593095977043abd72fc35ed951
Author: Ted Ross <tross@apache.org>
Date: 18/02/2012 00:29:25
Message:
QPID-3603 - Added missing files to CMakeLists.txt #MsgLength=51


----
Modified: src/CMakeLists.txt|2 0

Revision: d733642c772e3c1a2f7f34909a5b3ceff361b647
Author: Alan Conway <aconway@apache.org>
Date: 18/02/2012 00:37:17
Message:
NO-JIRA: Remove out-of-date generated header in HaBroker.h #MsgLength=59


----
Modified: src/qpid/ha/HaBroker.h|0 1

Revision: 1164cc1d2857fb4cfefec408ea8ded902d9c617e
Author: Charles E. Rolke <chug@apache.org>
Date: 18/02/2012 01:16:33
Message:
NO-JIRA ACL whitespace police. No code change. #MsgLength=47


----
Modified: src/qpid/acl/Acl.cpp|110 110
Modified: src/qpid/acl/AclData.cpp|229 229
Modified: src/qpid/acl/AclData.h|46 46
Modified: src/qpid/acl/AclReader.cpp|466 466
Modified: src/qpid/acl/AclValidator.cpp|116 116
Modified: src/qpid/broker/AclModule.h|224 225

Revision: 4c1fb6d18156528ad2521c45ed4cc177b239fb27
Author: Alan Conway <aconway@apache.org>
Date: 18/02/2012 03:04:32
Message:
QPID-3603: Add HA tests to automake and cmake. #MsgLength=47


----
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|2 1

Revision: c3b2bad2b1949078baa8af249eb37cbe466b605c
Author: Nuno Santos <nsantos@apache.org>
Date: 18/02/2012 04:54:48
Message:
more fixes for compilation under fedora 18, new gcc #MsgLength=52


----
Modified: src/qmf/Hash.h|1 1
Modified: src/qpid/sys/Shlib.h|1 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 0

Revision: 0c0fa60d8b007b946ad3a2d45bb75f1be939d495
Author: Alan Conway <aconway@apache.org>
Date: 21/02/2012 04:45:22
Message:
NO-JIRA: Fix missing EXTERN declarations, broke windows build. #MsgLength=63


----
Modified: include/qpid/framing/SequenceNumber.h|3 3
Modified: include/qpid/framing/SequenceSet.h|3 3
Modified: include/qpid/types/Variant.h|2 2
Modified: managementgen/qmfgen/schema.py|1 1
Modified: managementgen/qmfgen/templates/Class.h|28 23
Modified: managementgen/qmfgen/templates/Event.h|7 6
Modified: managementgen/qmfgen/templates/Package.h|3 2
Added: src/qmf/BrokerImportExport.h|42 0
Modified: src/qpid/broker/Broker.h|48 38
Modified: src/qpid/broker/ExchangeRegistry.h|3 3
Modified: src/qpid/broker/Link.h|11 6
Modified: src/qpid/broker/LinkRegistry.cpp|8 6
Modified: src/qpid/broker/LinkRegistry.h|57 53
Modified: src/qpid/broker/Queue.h|42 40
Modified: src/qpid/broker/SemanticState.h|35 29
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1

Revision: bbd7195336d8b5a925a26d29020f6d7cb1240fbf
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/02/2012 04:16:25
Message:
QPID-3862: Static Trace points for System tap / Dtrace #MsgLength=320


----
Modified: configure.ac|18 0
Modified: src/CMakeLists.txt|10 0
Modified: src/Makefile.am|1 0
Modified: src/config.h.cmake|1 0
Added: src/qpid/sys/Probes.h|65 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|28 2

Revision: 7754ab863406b0fec51bf673d970b88c024d63de
Author: Justin Ross <jross@apache.org>
Date: 22/02/2012 05:56:06
Message:
QPID-3864: Clean up the dist lists.  Thanks to Andrew Stitcher for the patch. #MsgLength=80


----
Modified: bindings/qpid/dotnet/Makefile.am|0 2
Modified: src/Makefile.am|0 1

Revision: ef98c9e53046e8851196fc183dc8b4a4c4cf7648
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/02/2012 06:44:03
Message:
QPID-3571: A generic Posix poller implementation Wired manual selection of poll/epoll implementations into autoconf/cmake. #MsgLength=123


----
Modified: configure.ac|8 5
Modified: src/CMakeLists.txt|27 5
Modified: src/Makefile.am|6 2

Revision: d6bb2fa959810eda009932163e0b677af7194201
Author: Ted Ross <tross@apache.org>
Date: 23/02/2012 00:41:55
Message:
QPID-3851 - Unified common CLI options for qpid-config and qpid-stat. Also in this commit: qpid-config was converted to use the messaging-based qmf2 library.  It no longer has a dependency on the qmf library.  The CLI tests were also ported to the faster library. #MsgLength=751


----
Modified: bindings/qmf/tests/run_interop_tests|2 1
Modified: src/tests/cli_tests.py|53 83
Modified: src/tests/cluster_tests.py|2 2
Modified: src/tests/clustered_replication_test|5 5
Modified: src/tests/federated_cluster_test|6 6
Modified: src/tests/ipv6_test|3 3
Modified: src/tests/queue_flow_limit_tests.py|1 1
Modified: src/tests/reliable_replication_test|3 3
Modified: src/tests/replication_test|17 17
Modified: src/tests/ring_queue_test|1 1
Modified: src/tests/run_msg_group_tests|4 4
Modified: src/tests/run_msg_group_tests_soak|2 2
Modified: src/tests/sasl_fed|8 8
Modified: src/tests/sasl_fed_ex|6 6
Modified: src/tests/testlib.py|2 2

Revision: fb759db6eebced3d42637c3d3acd46d4f64cbe3c
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2012 02:49:55
Message:
QPID-3603: Test HA replication of LVQ, priority and ring queues. #MsgLength=122


----
Modified: src/qpid/ha/QueueReplicator.cpp|0 3
Modified: src/tests/ha_tests.py|122 4

Revision: d73538994e78aeafc8d527ca6f4a5a1824d8d81c
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2012 02:50:18
Message:
QPID-3603: HA logging improvements. #MsgLength=36


----
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|9 0
Modified: src/qpid/ha/HaBroker.cpp|2 1
Modified: src/qpid/ha/HaPlugin.cpp|1 0
Modified: src/qpid/ha/QueueReplicator.cpp|1 4
Modified: src/tests/ha_tests.py|6 1

Revision: d18010c844809c72553afb049f69a707f755d067
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/02/2012 05:29:07
Message:
QPID-3864: 0.16 release tasks - Some more files missed from distlists - File checked into the wrong place initially #MsgLength=116


----
Modified: bindings/qpid/Makefile.am|1 1
Modified: src/Makefile.am|1 0
Modified: src/qmf.mk|1 0
Renamed: src/qpid/sys/MemStat.h [from include/qpid/sys/MemStat.h]|0 0

Revision: 0d3dc74e3508963c1cdbefc502bb3abe6a917786
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/02/2012 05:38:36
Message:
NO-JIRA: Removed the long dead apr code #MsgLength=40


----
Deleted: src/qpid/sys/apr/APRBase.cpp|0 89
Deleted: src/qpid/sys/apr/APRBase.h|0 74
Deleted: src/qpid/sys/apr/APRPool.cpp|0 41
Deleted: src/qpid/sys/apr/APRPool.h|0 50
Deleted: src/qpid/sys/apr/Condition.h|0 84
Deleted: src/qpid/sys/apr/Mutex.h|0 124
Deleted: src/qpid/sys/apr/Shlib.cpp|0 49
Deleted: src/qpid/sys/apr/Socket.cpp|0 114
Deleted: src/qpid/sys/apr/Thread.cpp|0 34
Deleted: src/qpid/sys/apr/Thread.h|0 106
Deleted: src/qpid/sys/apr/Time.cpp|0 36

Revision: 92106e8eb9f64cb890407edac653b9a8d92aca45
Author: Alan Conway <aconway@apache.org>
Date: 23/02/2012 07:46:48
Message:
NO-JIRA: Fix error on windows "An operation was attempted on something that is not a socket." #MsgLength=94


----
Modified: src/qpid/client/TCPConnector.cpp|5 3

Revision: 0aaae03cd2f51a967f24d7ec01eac92744cc83bd
Author: Ted Ross <tross@apache.org>
Date: 24/02/2012 02:26:25
Message:
QPID-2894 - Added ACL stats to qpid-stat and a reload-file action to qpid-config. Ported the ACL tests to use the faster API. #MsgLength=139


----
Modified: src/tests/acl.py|33 29

Revision: c837463d7c708e509aa5d17b842bf1ac59517384
Author: Alan Conway <aconway@apache.org>
Date: 24/02/2012 04:17:34
Message:
NO-JIRA: Fix broken distcheck - ha_tests.py  not being skipped. #MsgLength=209


----
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/ha_tests.py|10 4
Modified: src/tests/test_env.sh.in|1 0

Revision: 4f8340b6c9ccfce79e8d0aae2eb0b659de1189f8
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/02/2012 01:08:52
Message:
Generate a correct test_env.ps1 for Windows test runs; modify the python-invoking test scripts to pick up proper settings from test_env.ps1. Also improved run_test.ps1 to not look for an exe whose proper path has been supplied already; allowed ha_test to try to execute. Fixes QPID-3870 #MsgLength=287


----
Modified: src/tests/CMakeLists.txt|8 2
Modified: src/tests/python_tests.ps1|1 4
Modified: src/tests/run_acl_tests.ps1|1 4
Modified: src/tests/run_federation_tests.ps1|1 2
Modified: src/tests/run_header_test.ps1|2 1
Modified: src/tests/run_store_tests.ps1|4 5
Modified: src/tests/run_test.ps1|2 3

Revision: 98644286156e6866b3cdb224a6d7567745772269
Author: Alan Conway <aconway@apache.org>
Date: 25/02/2012 04:05:47
Message:
QPID-3603: Improved command-based qpid-ha tool and ha config option names. #MsgLength=75


----
Modified: src/Makefile.am|5 4
Modified: src/qpid/ha/HaBroker.cpp|19 12
Modified: src/qpid/ha/HaBroker.h|2 0
Modified: src/qpid/ha/HaPlugin.cpp|14 6
Modified: src/qpid/ha/Settings.h|2 1
Modified: src/qpid/ha/management-schema.xml|20 6
Modified: src/tests/ha_tests.py|8 8
Modified: src/tests/test_env.sh.in|1 1

Revision: 6c7f909e6d3f89e6a170974edfccaeb27f75764c
Author: Stephen D. Huston <shuston@apache.org>
Date: 28/02/2012 03:16:49
Message:
Forgot to add this when checking in changes for QPID-3870. #MsgLength=59


----
Added: src/tests/test_env.ps1.in|78 0

Revision: 753b0c0fcc0e25e1bbd11c7921cfb6def16e6ef7
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2012 23:28:04
Message:
QPID-3603: Update HA design doc comments on persistence. #MsgLength=57


----
Modified: design_docs/new-ha-design.txt|5 5

Revision: b24a69a1089d6deb95ce2652f63c119dfdede020
Author: Ted Ross <tross@apache.org>
Date: 29/02/2012 20:27:58
Message:
QPID-3871 - Added --mgmt-publish switch to the C++ broker Also in this commit: - Fixed a problem with an unused argument in qpid-stat - Cleaned up the recurring timer code in ManagementAgent #MsgLength=196


----
Modified: src/qpid/broker/Broker.cpp|4 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|46 19
Modified: src/qpid/management/ManagementAgent.h|2 1
Modified: src/tests/run_cli_tests|2 2

Revision: 6544cd22e1a298c4ad2d4c4b39c52767ddaea752
Author: Gordon Sim <gsim@apache.org>
Date: 01/03/2012 00:10:06
Message:
QPID-3832: Restore transport option for connection (as default for urls that don't specify one explicitly) #MsgLength=107


----
Modified: include/qpid/Url.h|4 0
Modified: src/qpid/Url.cpp|13 4
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1
Modified: src/tests/ssl_test|6 0

Revision: a345623b314eb1db9190594d8e18348017a5c191
Author: Gordon Sim <gsim@apache.org>
Date: 01/03/2012 03:04:25
Message:
QPID-3832: Fix linking on windows #MsgLength=34


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 1

Revision: 5e00fb1ca2a752e1e9965a65e3eadd11418a37ad
Author: Alan Conway <aconway@apache.org>
Date: 01/03/2012 07:38:00
Message:
QPID-3603: HA support for stand-alone replication. #MsgLength=230


----
Modified: src/qpid/broker/Link.cpp|0 3
Modified: src/qpid/ha/HaBroker.cpp|29 4
Modified: src/qpid/ha/HaPlugin.cpp|2 6
Modified: src/qpid/ha/Settings.h|2 2
Modified: src/qpid/ha/management-schema.xml|5 0
Modified: src/tests/ha_tests.py|137 33

Revision: 6b35b6c203446511c5a4af7404a4c1f8ddc1a866
Author: Charles E. Rolke <chug@apache.org>
Date: 02/03/2012 02:45:45
Message:
QPID-3799 Acl update. Merge from branches/QPID-3799-acl #MsgLength=58


----
Modified: src/qpid/acl/Acl.cpp|54 24
Modified: src/qpid/acl/Acl.h|23 6
Modified: src/qpid/acl/AclData.cpp|408 160
Modified: src/qpid/acl/AclData.h|65 24
Modified: src/qpid/acl/AclReader.cpp|92 130
Modified: src/qpid/acl/AclReader.h|43 37
Modified: src/qpid/acl/AclValidator.cpp|34 27
Modified: src/qpid/acl/AclValidator.h|12 12
Modified: src/qpid/broker/AclModule.h|159 23
Modified: src/qpid/broker/ConnectionHandler.h|0 1
Modified: src/qpid/broker/SemanticState.h|0 1
Modified: src/tests/acl.py|392 206

Revision: 6f86577cbfcd890fb9ce5724b67230206988680a
Author: Alan Conway <aconway@apache.org>
Date: 02/03/2012 03:47:08
Message:
QPID-3603: Added "ready" command to qpid-ha, minor improvements. #MsgLength=65


----
Modified: src/qpid/ha/HaBroker.cpp|9 7

Revision: 982378bb573e4906d5abfb0fce18d7ad35fa1c0c
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/03/2012 22:49:56
Message:
QPID-3877: hold lock during message header encode. #MsgLength=51


----
Modified: src/qpid/broker/Message.cpp|8 3

Revision: 0e868e022389d035f740148fdebd9bdd1a33d035
Author: Charles E. Rolke <chug@apache.org>
Date: 03/03/2012 00:40:31
Message:
QPID-3799 delete stray debug log statement #MsgLength=43


----
Modified: src/qpid/acl/Acl.cpp|0 1

Revision: 604a8222d88c3e5bc4c2cebb4c120a98c03cfcf0
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/03/2012 04:51:19
Message:
QPID-3875: allow direct access to per-thread statistics #MsgLength=56


----
Modified: managementgen/qmfgen/templates/Class.h|8 0
Modified: src/qpid/broker/Connection.cpp|14 10
Modified: src/qpid/broker/Exchange.cpp|14 11
Modified: src/qpid/broker/Queue.cpp|52 3
Modified: src/qpid/broker/Queue.h|0 32

Revision: 6e9bf36ed0681f44d47c13c1782538966ed600ac
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/03/2012 04:51:28
Message:
QPID-3875: fix indentation #MsgLength=27


----
Modified: src/qpid/broker/Connection.cpp|14 14
Modified: src/qpid/broker/Exchange.cpp|13 13
Modified: src/qpid/broker/Queue.cpp|36 36

Revision: 09cdf9e605385f4709b6c41db10b3574a06cc773
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/03/2012 04:51:34
Message:
QPID-3875: update txn and flow-to-disk counters #MsgLength=48


----
Modified: src/qpid/broker/Queue.cpp|38 20

Revision: bccbac96655f96579a33f7c009a92064a0331f04
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 03:12:12
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Change perftest to allow it add headers to messages #MsgLength=130


----
Modified: src/tests/qpid-perftest.cpp|10 2

Revision: b592860eaf12656d7e4b6970399e85d33e27ad40
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 03:12:32
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Change Exchange route interface not to require a fieldtable - Exchanges that actually use the fieldtable for routing need to extract it directly from the message themselves. This avoids the need to extract the fieldtable from the message unnecessarily. #MsgLength=337


----
Modified: src/qpid/broker/DirectExchange.cpp|2 1
Modified: src/qpid/broker/DirectExchange.h|1 3
Modified: src/qpid/broker/Exchange.cpp|3 3
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|1 1
Modified: src/qpid/broker/FanOutExchange.h|1 3
Modified: src/qpid/broker/HeadersExchange.cpp|2 1
Modified: src/qpid/broker/HeadersExchange.h|1 3
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/TopicExchange.cpp|2 1
Modified: src/qpid/broker/TopicExchange.h|1 3
Modified: src/qpid/cluster/CredentialsExchange.cpp|2 1
Modified: src/qpid/cluster/CredentialsExchange.h|1 1
Modified: src/qpid/cluster/FailoverExchange.cpp|1 1
Modified: src/qpid/cluster/FailoverExchange.h|1 1
Modified: src/qpid/cluster/UpdateDataExchange.cpp|2 2
Modified: src/qpid/cluster/UpdateDataExchange.h|1 2
Modified: src/qpid/ha/BrokerReplicator.cpp|2 1
Modified: src/qpid/ha/BrokerReplicator.h|1 1
Modified: src/qpid/ha/QueueReplicator.cpp|2 1
Modified: src/qpid/ha/QueueReplicator.h|1 1
Modified: src/qpid/management/ManagementAgent.cpp|2 2
Modified: src/qpid/management/ManagementDirectExchange.cpp|4 4
Modified: src/qpid/management/ManagementDirectExchange.h|1 3
Modified: src/qpid/management/ManagementTopicExchange.cpp|4 4
Modified: src/qpid/management/ManagementTopicExchange.h|1 3
Modified: src/qpid/replication/ReplicatingEventListener.cpp|1 1
Modified: src/qpid/replication/ReplicationExchange.cpp|2 1
Modified: src/qpid/replication/ReplicationExchange.h|1 1
Modified: src/qpid/xml/XmlExchange.cpp|3 1
Modified: src/qpid/xml/XmlExchange.h|1 1
Modified: src/tests/ExchangeTest.cpp|24 22
Modified: src/tests/QueueTest.cpp|26 26

Revision: f828f8d66baaf3cbab1cbfb96c1034a7b96642c4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 03:12:43
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Cache the size of a field table to prevent recomputation #MsgLength=135


----
Modified: include/qpid/framing/FieldTable.h|3 2
Modified: src/qpid/framing/FieldTable.cpp|31 2

Revision: f2cd7940e2c9ec3d28dd48f5ac048d9bde4b9aaa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 03:12:52
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Lazily decode FieldTables, holding onto the actual raw bytes until we really need to decode, if we encode the FieldTable before decoding it we can just send the raw bytes we captured initially. #MsgLength=272


----
Modified: include/qpid/framing/FieldTable.h|13 14
Modified: src/qpid/framing/FieldTable.cpp|118 38

Revision: 2ba91f1b8a03e5198199d0f64ffc1b5db8983314
Author: Ted Ross <tross@apache.org>
Date: 06/03/2012 04:32:12
Message:
NO-JIRA - Fixed a failure in the acl tests that was caused by a change in log format. #MsgLength=87


----
Modified: src/tests/run_acl_tests|1 1

Revision: c23c1b01be1875983fca9bae33198f03ed8db12e
Author: Ted Ross <tross@apache.org>
Date: 06/03/2012 05:04:04
Message:
NO-JIRA - Cleaned up qpidtoollibs 1) Fixed the update() method to work on all object types 2) Shortened the path needed in import statements 3) Updated the connection-stats test to use qpidtoollibs #MsgLength=205


----
Modified: src/tests/ha_tests.py|1 1

Revision: 9e08600c8ccc3c7af664488ac5b23a533e45e8c4
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2012 05:31:58
Message:
QPID-3603: Initial documentation for the new HA plug-in. #MsgLength=57


----
Modified: design_docs/new-ha-design.txt|19 64
Modified: src/qpid/ha/BrokerReplicator.cpp|4 4
Modified: src/tests/ha_tests.py|21 21

Revision: 349e471c96638f84c526df2dda193f157362fb63
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 07:55:50
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Some more tidying up of the FieldTable implementation: - implement a more selective copy constructor - keep the encoded data in case we are used again - more careful raw bytes cache flush #MsgLength=266


----
Modified: include/qpid/framing/FieldTable.h|3 1
Modified: src/qpid/framing/FieldTable.cpp|29 7

Revision: 2a4fa5f2a8802bda32415dbf07ad9293d83cdcd1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 07:56:03
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Don't return copy of header return const reference - avoid unnecessary copying #MsgLength=157


----
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/qpid/framing/AMQFrame.h|1 2
Modified: src/qpid/framing/MethodContent.h|1 1
Modified: src/qpid/framing/TransferContent.cpp|1 1
Modified: src/qpid/framing/TransferContent.h|1 1

Revision: a5b631cab846a72667707681c6eceb72fa57cbe9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2012 23:38:03
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Fixed Windows breakage caused by previous changes to FieldTable.h #MsgLength=144


----
Modified: include/qpid/framing/FieldTable.h|9 9

Revision: d352c78c0ac653acd392d96c0f9a6cf05ce32986
Author: Alan Conway <aconway@apache.org>
Date: 09/03/2012 05:47:04
Message:
QPID-3603: rgmanager integration for new HA cluster #MsgLength=181


----
Modified: etc/Makefile.am|1 1
Added: etc/cluster.conf-example.xml|77 0
Added: etc/qpidd-primary|102 0
Added: src/tests/cluster_failover|18 0

Revision: 2f7c4a4f78775ee4c6e1cf39adb4a0a7e34fe441
Author: Charles E. Rolke <chug@apache.org>
Date: 10/03/2012 04:02:33
Message:
QPID-3891 C++ Broker --log-function is too chatty. Print only class-qualified function names and no args. #MsgLength=108


----
Modified: src/qpid/log/Statement.cpp|44 0
Modified: src/tests/logging.cpp|4 1

Revision: 455e9a983c2efe637ecfdcd645e34d32451f2d59
Author: Stephen D. Huston <shuston@apache.org>
Date: 14/03/2012 23:39:14
Message:
Ensure both SQL and CLFS tests run if they're built. NO-JIRA #MsgLength=61


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: 7694b26562c8bd0b7286d85a43880dc8e922a2a9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/03/2012 22:24:32
Message:
QPID-3893: C++ broker appears to segfault during MultipleTransactedBatchProducerTest Added in lock to preserve the previous read/write concurrency guarantees of FieldTable in the face of the new caching. #MsgLength=247


----
Modified: include/qpid/framing/FieldTable.h|13 7
Modified: src/qpid/framing/FieldTable.cpp|39 5

Revision: 9bdc9289542b146375a1cd6845c3255eb30b6dcf
Author: Michael Goulish <mgoulish@apache.org>
Date: 16/03/2012 03:06:09
Message:
NO-JIRA use new local sasl config file when starting authenticating broker, so that sasl mechs will not depend on the whimsies and vicissitudes of the system settings. #MsgLength=171


----
Modified: src/tests/ssl_test|3 1

Revision: 2e8ee8ccb40a93d17d2f704c4c856e5f5d2f9e01
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2012 03:40:08
Message:
NO-JIRA: Remove some namespace polluting "using namespace boost" declarations - Blanket "using namespace" declarations like these are BAD, they can change the symbols imported into your namespace and you have no control over this. - Needed to make QPID-3893 compile on windows #MsgLength=279


----
Modified: src/qpid/cluster/ClusterMap.cpp|2 1
Modified: src/qpid/cluster/InitialStatusMap.cpp|1 1
Modified: src/qpid/framing/BodyHandler.cpp|4 2
Modified: src/qpid/framing/FrameSet.cpp|0 1
Modified: src/tests/Frame.cpp|0 1
Modified: src/tests/SessionState.cpp|0 1
Modified: src/tests/logging.cpp|3 1

Revision: 7e93ce6dfb8f2cf2385988302538c0b9c526be3c
Author: Charles E. Rolke <chug@apache.org>
Date: 16/03/2012 04:14:21
Message:
QPID-3900 add missing include to get store\ms-clfs to compile #MsgLength=62


----
Modified: src/qpid/store/ms-clfs/Transaction.h|1 0

Revision: b110c7d59e27d64b85267f18a1cafb43d1e4861a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2012 06:10:50
Message:
NO-JIRA: Removed unused code #MsgLength=29


----
Modified: src/CMakeLists.txt|0 1
Modified: src/Makefile.am|0 2
Deleted: src/qpid/framing/BodyHandler.cpp|0 58
Deleted: src/qpid/framing/BodyHandler.h|0 56
Modified: src/qpid/framing/amqp_framing.h|0 1

Revision: 7a85eff228443d6e562bff676fc0bd4b884b4434
Author: Charles E. Rolke <chug@apache.org>
Date: 16/03/2012 21:45:29
Message:
QPID-3901 Add EXTRA-DIST file required for windows builds #MsgLength=58


----
Modified: src/tests/Makefile.am|2 1

Revision: fbd43c94e3664df92ffa84dcf991782c324e49ed
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2012 05:15:02
Message:
NO-JIRA: Removed more unused files #MsgLength=35


----
Modified: src/tests/CMakeLists.txt|0 7
Deleted: src/tests/amqp_0_10/Map.cpp|0 98
Deleted: src/tests/amqp_0_10/ProxyTemplate.cpp|0 49
Deleted: src/tests/amqp_0_10/apply.cpp|0 99
Deleted: src/tests/amqp_0_10/handlers.cpp|0 125
Deleted: src/tests/amqp_0_10/serialize.cpp|0 429

Revision: 45e508cd69c9f9ab983bc6ac4ed9d76f0ab8e834
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 20/03/2012 07:24:23
Message:
QPID-3759 hang on heartbeat connection close #MsgLength=45


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|21 4

Revision: 3d2e8346c1bfb2099552e42ad551e4a37aa83137
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/03/2012 00:39:03
Message:
QPID-2082: Put all of the C++ code in the source tree into a namespace - This change moves the remaining non-example code in a namespace #MsgLength=137


----
Modified: src/posix/QpiddBroker.cpp|8 5
Modified: src/qpid/agent/ManagementAgentImpl.cpp|7 3
Modified: src/qpid/broker/Exchange.cpp|5 1
Modified: src/qpid/broker/Queue.cpp|5 1
Modified: src/qpid/log/posix/SinkOptions.cpp|4 4
Modified: src/qpid/management/ManagementAgent.cpp|4 6
Modified: src/qpid/store/MessageStorePlugin.cpp|3 3
Modified: src/qpid/store/ms-clfs/MessageLog.cpp|4 4
Modified: src/qpid/store/ms-clfs/TransactionLog.cpp|4 4
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 5
Modified: src/qpid/sys/ssl/SslIo.cpp|5 2
Modified: src/qpid/sys/windows/Socket.cpp|3 7
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|4 4
Modified: src/qpidd.cpp|4 0
Modified: src/qpidd.h|4 0
Modified: src/tests/RefCounted.cpp|3 3
Modified: src/tests/StringUtils.cpp|5 1
Modified: src/tests/qpid-send.cpp|30 9
Modified: src/tests/testagent.cpp|8 3
Modified: src/tests/windows/DisableWin32ErrorWindows.cpp|4 2
Modified: src/windows/QpiddBroker.cpp|5 3
Modified: src/windows/SCM.cpp|332 332

Revision: 800a0444d81e079e9bb789127f66e9e146555129
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/03/2012 01:27:09
Message:
QPID-2082: Put all of the C++ code in the source tree into a namespace - Final file that slipped through #MsgLength=105


----
Modified: src/tests/qpid-ping.cpp|19 8

Revision: 29ffd10423a3a03e13958a9d38eafa91dba6f961
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 01:36:54
Message:
QPID-3896: assign each queue auto deletion task a unique name. #MsgLength=63


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/cluster/ClusterTimer.cpp|2 0

Revision: 6a0538602ed7cbcb18aa03a6ffe9802b31bea062
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/03/2012 01:41:40
Message:
NO-JIRA: Removed unnecessary header guard around a non-header file #MsgLength=67


----
Modified: src/qpid/sys/posix/PollableCondition.cpp|0 5

Revision: de4325ce60f5e39be6392c88a9c42d8e6c474c79
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/03/2012 01:45:02
Message:
NO-JIRA: Removed unnecessary header file guards from non-header file #MsgLength=69


----
Modified: src/qpid/sys/windows/PollableCondition.cpp|0 5

Revision: 7c067bdb5bf4e5ba058bcbc7a2ad839b96b2a852
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 02:28:06
Message:
QPID-3877: hold msg lock across body encode. #MsgLength=45


----
Modified: src/qpid/broker/Message.cpp|8 7

Revision: a6e79ef0f47ce2148a9275e70821a3c529dfb551
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 04:50:50
Message:
QPID-3899: prevent TTL expiration of grouped msg from crashing broker. #MsgLength=71


----
Modified: src/qpid/broker/MessageGroupManager.cpp|62 28
Modified: src/qpid/broker/MessageGroupManager.h|12 2

Revision: 59fad4dfe983de5593d9bd896b29e69be668bd6f
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 04:50:58
Message:
QPID-3899: remove dead code #MsgLength=28


----
Modified: src/qpid/broker/MessageGroupManager.cpp|1 7

Revision: b65b970dfcc8ab4495d702f18c81e617cfe98a9b
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 21:07:43
Message:
QPID-3899: fix namespace specifier #MsgLength=35


----
Modified: src/qpid/broker/MessageGroupManager.cpp|1 1
Modified: src/qpid/broker/MessageGroupManager.h|4 4

Revision: bb47349667170ccea4ff3017ce76868968c43591
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/03/2012 22:47:50
Message:
QPID-3899: fix the const-ness of the < operator. #MsgLength=49


----
Modified: src/qpid/broker/MessageGroupManager.h|1 1

Revision: 1e9a654f85c295496d0deeba45e91824699c6fdf
Author: Ted Ross <tross@apache.org>
Date: 22/03/2012 05:57:30
Message:
NO-JIRA - Fixed a reference bug in qpid-config and added a test that exposes the error. #MsgLength=89


----
Modified: src/tests/cli_tests.py|3 0

Revision: a17859055d17b66f3dc595b1778d653e2c381815
Author: Ken Giusti <kgiusti@apache.org>
Date: 22/03/2012 22:47:15
Message:
QPID-3890: merge Queue lock scope reduction performance tweaks into trunk #MsgLength=74


----
Modified: src/qpid/broker/Queue.cpp|316 198
Modified: src/qpid/broker/Queue.h|23 7
Modified: src/qpid/broker/QueueListeners.cpp|0 4
Modified: src/qpid/broker/QueueListeners.h|3 4

Revision: 09837a1f85fdaede61a50eca0f2c14f2619b3e70
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/03/2012 00:34:56
Message:
NO-JIRA: Added newlines to the end of some files - Accidentally missed from previous namespace checkin and causes compile warnings. #MsgLength=134


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|1 1

Revision: 8e06bf3c7a0b458e54cf2cc7ada9bcef6d0b7680
Author: Justin Ross <jross@apache.org>
Date: 26/03/2012 22:24:33
Message:
QPID-3915: Add missing newlines #MsgLength=34


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|1 0
Modified: src/qpid/broker/Exchange.cpp|1 0
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/management/ManagementAgent.cpp|1 0

Revision: 25efc78e5af429f70c4ab4dcedd0d3d6023cc171
Author: Alan Conway <aconway@apache.org>
Date: 27/03/2012 22:26:47
Message:
QPID-3603: Install scripts and configuration for qpid HA rgmanager integration. #MsgLength=193


----
Modified: etc/Makefile.am|3 0
Modified: etc/cluster.conf-example.xml|19 22

Revision: fc73875b13fc319f80ad183480f0c5d2f9a7079e
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2012 00:26:50
Message:
QPID-3603: Minor updates to doc and example cluster configuration. #MsgLength=67


----
Modified: etc/cluster.conf-example.xml|6 11
Modified: src/tests/cluster_failover|1 1

Revision: 89290337ffbee186390847c78679ad29b986b151
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2012 01:42:36
Message:
NO-JIRA: Fix typo in cluster.conf-example.xml #MsgLength=46


----
Modified: etc/cluster.conf-example.xml|4 3

Revision: 3b9a119a728e54e13d2b247aff8e798662b6ee7d
Author: Alan Conway <aconway@apache.org>
Date: 28/03/2012 04:32:18
Message:
QPID-3603: Substitute installation directories in qpidd init scripts. #MsgLength=70


----
Modified: etc/Makefile.am|18 2
Renamed: etc/cluster.conf-example.xml.in [from etc/cluster.conf-example.xml]|4 5
Renamed: etc/qpidd-primary.in [from etc/qpidd-primary]|4 4
Renamed: etc/qpidd.in [from etc/qpidd]|6 6
Modified: src/tests/install_env.sh.in|1 1

Revision: b871108296005cc672749deea31df85615b439fe
Author: Ken Giusti <kgiusti@apache.org>
Date: 28/03/2012 23:37:41
Message:
QPID-3920: keep cache data and length atomic with respect to each other. #MsgLength=73


----
Modified: src/qpid/framing/FieldTable.cpp|10 5

Revision: 63ae6651607b9c8ddedb6323be43fe7a3627eb37
Author: Alan Conway <aconway@apache.org>
Date: 29/03/2012 00:24:52
Message:
QPID-3603: Update HA  documentation: example of virtual IP addresses #MsgLength=69


----
Modified: etc/cluster.conf-example.xml.in|12 8

Revision: 4a13a6de1798be79f9a1ed57bfaa219209f6e1f3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/03/2012 05:00:40
Message:
QPID-3921: C++ header files need tidyup Tidied up header use of FieldValue.h - Removed all unnecessary includes of FieldValue.h from other header files especially Array.h. (This avoids the world recompiling when working on FieldValue!) - Corrected up header guards in Array.h #MsgLength=280


----
Modified: include/qpid/framing/Array.h|12 10
Modified: rubygen/framing.0-10/structs.rb|1 0
Modified: src/qpid/UrlArray.cpp|2 0
Modified: src/qpid/UrlArray.h|0 1
Modified: src/qpid/broker/ConnectionHandler.cpp|1 0
Modified: src/qpid/broker/Fairshare.cpp|1 0
Modified: src/qpid/broker/MessageGroupManager.cpp|5 3
Modified: src/qpid/broker/MessageGroupManager.h|3 0
Modified: src/qpid/broker/Queue.cpp|3 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|2 1
Modified: src/qpid/client/ConnectionHandler.cpp|7 3
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 0
Modified: src/qpid/cluster/ClusterMap.cpp|1 0
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/qpid/cluster/UpdateClient.cpp|1 0
Modified: src/qpid/management/ManagementAgent.cpp|1 0
Modified: src/qpid/management/ManagementAgent.h|0 1
Modified: src/tests/Array.cpp|2 2
Modified: src/tests/FieldTable.cpp|2 2
Modified: src/tests/FramingTest.cpp|1 0
Modified: src/tests/QueueFlowLimitTest.cpp|1 0
Modified: src/tests/qpid-txtest.cpp|3 2

Revision: 145accb4360b0aa4464f4e39f5823597ebfe0944
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 29/03/2012 08:14:12
Message:
QPID-3759: reworked fix to be compatible with XP #MsgLength=49


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|12 15

Revision: d00a206e1b4a8f008996baed33f6c17aaa6fda94
Author: Charles E. Rolke <chug@apache.org>
Date: 30/03/2012 02:17:22
Message:
QPID-3921 C++ header files need tidyup Windows build needs same treatment as rest of the files in r1306595 #MsgLength=108


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 0

Revision: 4a396d8e737eb7fa8c35b6100ac944f62fe8a672
Author: Charles E. Rolke <chug@apache.org>
Date: 30/03/2012 02:53:28
Message:
QPID-3799 C++ broker ACL improvements. In publish lookups add rule text to log output and print routing keys as expected. #MsgLength=123


----
Modified: src/qpid/acl/AclData.cpp|8 6

Revision: 43e75e217ba7a7e84029b9be22c06c3b2f192b08
Author: Alan Conway <aconway@apache.org>
Date: 31/03/2012 03:36:48
Message:
QPID-3603: Keep acquired messages on queues for all queue types. #MsgLength=266


----
Modified: src/qpid/broker/Fairshare.cpp|44 43
Modified: src/qpid/broker/Fairshare.h|8 11
Modified: src/qpid/broker/LegacyLVQ.cpp|22 7
Modified: src/qpid/broker/LegacyLVQ.h|1 0
Modified: src/qpid/broker/MessageMap.cpp|52 26
Modified: src/qpid/broker/MessageMap.h|1 1
Modified: src/qpid/broker/PriorityQueue.cpp|75 94
Modified: src/qpid/broker/PriorityQueue.h|10 16
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|3 3
Modified: src/tests/brokertest.py|7 4
Modified: src/tests/ha_tests.py|50 2
Modified: xml/cluster.xml|1 2

Revision: d433b3d443ca1ff9ef3e40acb88bd235ce8f529e
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/03/2012 04:12:17
Message:
Set BOOST_TEST_DYN_LINK only if linking dynamically with Boost. NO-JIRA #MsgLength=72


----
Modified: src/tests/CMakeLists.txt|5 1

Revision: b1c5a34042f97d58206468fb1e3b72f231ff79d2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2012 02:53:27
Message:
NO-JIRA: Allow Cmake builds to carry on working on Fedora (and probably other Unixes): The QPID_LINK_BOOST_DYNAMIC option needs to be created for non MSVC builds too now that we only conditionally link the tests dynamically as Unix bulds are always dynamic. #MsgLength=258


----
Modified: src/CMakeLists.txt|1 1

Revision: 5e44592404a688d70f8f275ce93fa83a4234ae03
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2012 06:15:31
Message:
QPID-3603: Broker option --ha-replicate-default to specify default replication. #MsgLength=243


----
Modified: src/ha.mk|9 7
Modified: src/qpid/ha/Backup.cpp|6 5
Modified: src/qpid/ha/Backup.h|3 1
Modified: src/qpid/ha/BrokerReplicator.cpp|63 36
Modified: src/qpid/ha/BrokerReplicator.h|13 1
Modified: src/qpid/ha/HaBroker.cpp|11 3
Modified: src/qpid/ha/HaBroker.h|5 0
Modified: src/qpid/ha/HaPlugin.cpp|3 0
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Added: src/qpid/ha/ReplicateLevel.cpp|62 0
Added: src/qpid/ha/ReplicateLevel.h|52 0
Modified: src/qpid/ha/Settings.h|3 1
Modified: src/qpid/ha/management-schema.xml|6 2
Modified: src/tests/ha_tests.py|79 63

Revision: 9d204db9c031df2746d9db490f73fbc73f884af1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2012 22:28:06
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Optimise copying field tables a little more, by encoding them as we copy them instead of copying the value map. #MsgLength=190


----
Modified: src/qpid/framing/FieldTable.cpp|23 8

Revision: cdca0bb6cc09ef82a04a284013af9e348e29f5cc
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2012 23:39:37
Message:
NO-JIRA: Fix cmake build broken by r1308597 #MsgLength=44


----
Modified: src/CMakeLists.txt|2 0

Revision: 954a8effda973551d503056b173b1ed274354f7e
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2012 22:49:29
Message:
QPID-3931: Remove update exchanges once update is complete. #MsgLength=60


----
Modified: src/qpid/cluster/Cluster.cpp|16 10

Revision: 1ca18f6e2912139b40e1bb9460d7157e8d0df550
Author: Charles E. Rolke <chug@apache.org>
Date: 05/04/2012 03:09:31
Message:
QPID-3918 Add management queries to ACL module. * Make queries available to self tests. * Exercise query interface during acl self tests. #MsgLength=142


----
Modified: src/qpid/acl/Acl.cpp|84 2
Modified: src/qpid/acl/Acl.h|3 2
Modified: src/qpid/acl/management-schema.xml|31 0
Modified: src/qpid/broker/AclModule.h|6 5
Modified: src/tests/acl.py|194 0

Revision: 9c795342805cc52382a9125599bc2e38e4a4aee6
Author: Charles E. Rolke <chug@apache.org>
Date: 05/04/2012 03:35:34
Message:
QPID-3918 qualify namespace better for windows build #MsgLength=53


----
Modified: src/qpid/acl/Acl.cpp|2 2

Revision: 8224c198a0b0c061f3a459415a399254a2c4889d
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/04/2012 05:19:54
Message:
Avoid POSIX-only broker shutdown handler. Fixes QPID-3932. #MsgLength=59


----
Modified: src/qpid/ha/HaBroker.cpp|1 1

Revision: aeccba326f61159dafb9fb394f33145cac8a29d4
Author: Alan Conway <aconway@apache.org>
Date: 05/04/2012 23:54:00
Message:
NO-JIRA: Fix a static-initialization bug in the HaPlugin. #MsgLength=58


----
Modified: src/qpid/ha/ReplicateLevel.cpp|18 7

Revision: 020335e36c3f85993746df0769a6ee3e36382893
Author: Ted Ross <tross@apache.org>
Date: 06/04/2012 02:23:23
Message:
QPID-3937 - Wrapped Python uses syntax that is incompatible with older Python interpreters #MsgLength=92


----
Modified: bindings/qpid/python/python.i|4 1

Revision: cef4fad5099bf52af66fadd0c7d28bb1eb520cdd
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2012 03:31:21
Message:
QPID-3603: Update HA documentatiion #MsgLength=91


----
Modified: src/qpid/ha/HaPlugin.cpp|1 1
Modified: src/tests/ha_tests.py|7 7

Revision: 1edff63e4e1b6f199a202026d76a67565cd8d232
Author: Gordon Sim <gsim@apache.org>
Date: 11/04/2012 01:28:48
Message:
QPID-3942: embed xid struct in more readable form into error messages or log statements #MsgLength=88


----
Modified: src/qpid/broker/DtxManager.cpp|23 6
Modified: src/qpid/broker/DtxManager.h|3 0
Modified: src/qpid/broker/DtxWorkRecord.cpp|6 5
Modified: src/qpid/broker/SessionAdapter.cpp|10 17
Modified: src/qpid/broker/SessionAdapter.h|1 3

Revision: 06f6127c4c2033014b82d10d767d7d49f559e78d
Author: Ted Ross <tross@apache.org>
Date: 11/04/2012 03:09:40
Message:
QPID-3940 - Includes the spec and features subdirectories in the gemfile for Ruby. Applied patch from Darryl Pierce. #MsgLength=118


----
Modified: bindings/qpid/ruby/Rakefile|3 1

Revision: 1e25d2eaed2d99a874e9b44778d2002b677c0f44
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2012 04:55:00
Message:
QPID-3603: Set HA state to standalone for broker configured with --ha-cluter=no #MsgLength=80


----
Modified: src/qpid/ha/HaBroker.cpp|1 1

Revision: c5f93a43c5d16c58b249ded0a282cca0a10176c8
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2012 04:55:10
Message:
QPID-3603: Fixed broken make rules for cluster.conf-example.xml #MsgLength=64


----
Modified: etc/Makefile.am|3 3

Revision: 08700a5b0690ba5cc7b1f42a268bf3aa268813c0
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2012 04:55:18
Message:
QPID-3603: Fix initialization order of QueueReplicator to be thread safe. #MsgLength=74


----
Modified: src/qpid/ha/HaBroker.cpp|1 1

Revision: 3ad68fef2e5a3e8712e092e84d49288386621d12
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2012 04:55:26
Message:
QPID-3603: Fix race condition - destroying a lock while in use. #MsgLength=64


----
Modified: src/qpid/broker/Link.cpp|25 22

Revision: d60fb81887216d8609ba7d1b784b06c8327822d7
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 11/04/2012 08:42:42
Message:
QPID-3759: new update for spurious disconnect on close and serializing events #MsgLength=78


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|32 12

Revision: 1ec3bb9afd6c70915314a6b3e4f25ae0038bf028
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/04/2012 06:23:16
Message:
QPID-3944: Autotools build system doesn't correctly detect python developer libraries #MsgLength=86


----
Modified: configure.ac|14 3

Revision: e88b12eca292f7aa9e11e45485b4af9b254d354a
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2012 03:52:24
Message:
NO-JIRA: remove use of nobase_doc_DATA, doesn't work on rhel5. #MsgLength=63


----
Modified: etc/Makefile.am|1 1

Revision: f1151632fb1982a55dfa80d9aed7f83df51f6a1a
Author: Alan Conway <aconway@apache.org>
Date: 13/04/2012 03:52:36
Message:
QPID-3603: Fix minor log message bugs. #MsgLength=39


----
Modified: src/qpid/ha/BrokerReplicator.cpp|3 2

Revision: 4b83533a2adef69c65631d9acc843549efbb4f74
Author: Ted Ross <tross@apache.org>
Date: 14/04/2012 05:59:21
Message:
QPID-3946 - Make swig python wrappers compatible with older versions of Python and Swig. #MsgLength=90


----
Modified: bindings/qpid/python/python.i|17 20
Modified: bindings/swig_python_typemaps.i|5 1

Revision: c9ea2b680bbd857f784f65c9961eaa662fc749dc
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2012 07:36:26
Message:
QPID-3947: Bounds checking for str8/str16 on creating AMQP 0-10 structs #MsgLength=72


----
Modified: rubygen/framing.0-10/structs.rb|22 3
Modified: src/tests/MessagingSessionTests.cpp|7 0

Revision: ed85ff4b30c284082f07beac51b09e8d42937f45
Author: Ted Ross <tross@apache.org>
Date: 16/04/2012 23:10:08
Message:
QPID-3939 - Bumped Ruby versions to 0.17 for 0.18 development. #MsgLength=64


----
Modified: bindings/qpid/ruby/README.rdoc|1 1
Modified: bindings/qpid/ruby/lib/qpid/version.rb|1 1

Revision: 484ce4997a5ef731731ce2c80bfcf29eb3d3abff
Author: Ted Ross <tross@apache.org>
Date: 16/04/2012 23:14:03
Message:
QPID-3928 - Removed trailing colons in conditionals. Applied patch from Darryl Pierce #MsgLength=87


----
Modified: bindings/qpid/ruby/lib/qpid/encoding.rb|4 2

Revision: 8fe10a1b45ff19915a3b8d02d840ad3d8385e41c
Author: Ted Ross <tross@apache.org>
Date: 16/04/2012 23:40:36
Message:
QPID-3926 - Fixes how unsigned 16 bit ints are assigned in the UUID test. Applied patch from Darryl Pierce. #MsgLength=109


----
Modified: src/tests/Uuid.cpp|1 1

Revision: 6b07679b9d1fe6fd1524eb25d6df5043f7524b0a
Author: Ted Ross <tross@apache.org>
Date: 16/04/2012 23:49:48
Message:
QPID-3924 - Remove colons from conditionals that cause problems in Ruby 1.9 Applied patch from Darryl Pierce. #MsgLength=111


----
Modified: bindings/qmf/ruby/qmf.rb|3 2

Revision: 72f919fdf833d7d4e2e1cdf44156d94c4e1a8645
Author: Ted Ross <tross@apache.org>
Date: 16/04/2012 23:57:03
Message:
QPID-3925 - Fix string encoding support for Ruby 1.9 Applied patch from Will Benton/Darryl Pierce #MsgLength=99


----
Modified: bindings/qmf/ruby/qmf.rb|17 4

Revision: 66c1fda603913c6423e49aad1bc3d6c1c122bf73
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 03:19:55
Message:
QPID-3603: ha_tests.py: Suppress python WARNING messages during failover #MsgLength=73


----
Modified: src/tests/ha_tests.py|2 8

Revision: 8d46d509fefd6622031b79cdec2d101758333b00
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 03:20:03
Message:
QPID-3603: Add heartbeat and reconnect options to qpid-cluster-benchmark #MsgLength=73


----
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/qpid-cluster-benchmark|16 8

Revision: ccfad3de0e32f50962549649395b16d226f279e3
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 03:20:15
Message:
QPID-3603: Minor improvements to HA tests, documentation and examples. #MsgLength=71


----
Modified: etc/cluster.conf-example.xml.in|12 15
Modified: etc/qpidd.in|4 3
Modified: src/tests/cluster.mk|1 2
Modified: src/tests/cluster_failover|4 3
Modified: src/tests/qpid-cluster-benchmark|3 2
Modified: src/tests/qpid-cpp-benchmark|0 18

Revision: cca574f20e9941882b2b669746dc4f50573dac51
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 03:20:30
Message:
NO-JIRA: Control running of cluster tests. #MsgLength=351


----
Modified: configure.ac|15 12
Modified: src/tests/Makefile.am|12 5
Modified: src/tests/cluster.cmake|1 1
Modified: src/tests/cluster.mk|3 5
Modified: src/tests/cluster_python_tests|2 1
Modified: src/tests/cluster_read_credit|3 1
Modified: src/tests/clustered_replication_test|9 8
Renamed: src/tests/cpg_check.sh.in [from src/tests/ais_check]|11 7
Modified: src/tests/federated_cluster_test|12 11
Modified: src/tests/ipv6_test|2 1
Added: src/tests/qpidd-empty.conf|3 0
Modified: src/tests/run_cluster_authentication_soak|2 1
Modified: src/tests/run_cluster_authentication_test|2 1
Modified: src/tests/run_cluster_test|2 1
Modified: src/tests/run_cluster_tests|3 1
Modified: src/tests/run_failover_soak|2 1
Modified: src/tests/run_federation_sys_tests|2 6
Modified: src/tests/sasl.mk|20 1
Modified: src/tests/sasl_fed_ex_dynamic_cluster|3 1
Modified: src/tests/sasl_fed_ex_link_cluster|2 1
Modified: src/tests/sasl_fed_ex_queue_cluster|2 1
Modified: src/tests/sasl_fed_ex_route_cluster|2 1
Modified: src/tests/ssl_test|2 1
Modified: src/tests/start_cluster|2 1
Modified: src/tests/test_env.sh.in|1 0

Revision: deaa99f8aa0e3a47b6037a25a117bb384034d936
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 03:20:40
Message:
NO-JIRA: Removed useless flow control code from qpid-send. #MsgLength=164


----
Modified: src/tests/qpid-cluster-benchmark|0 2
Modified: src/tests/qpid-cpp-benchmark|0 3
Modified: src/tests/qpid-send.cpp|0 28

Revision: 44962ad4931e19218ec59f054751b2308d5075c8
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 23:12:15
Message:
QPID-3950: Allow browsing of queues with exclusive subscriptions #MsgLength=65


----
Modified: src/qpid/broker/Queue.cpp|20 8
Modified: src/qpid/broker/Queue.h|2 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 0
Modified: src/tests/ha_tests.py|15 1

Revision: f346a554bf74a43e7b78af257e875cbe11d42934
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2012 23:16:41
Message:
NO-JIRA: Minor code clean-up in brokertest.py and ha_tests.py. #MsgLength=63


----
Modified: src/tests/brokertest.py|32 27
Modified: src/tests/ha_tests.py|65 70

Revision: 366020c6273833fca684c2628f6a93b09be1f761
Author: Gordon Sim <gsim@apache.org>
Date: 18/04/2012 22:10:26
Message:
QPID-3958: Prevent malformed frameset being set when replicating a message with an empty content frame #MsgLength=103


----
Modified: src/qpid/framing/FrameSet.cpp|4 0
Modified: src/qpid/framing/FrameSet.h|1 0
Modified: src/qpid/replication/ReplicatingEventListener.cpp|1 1

Revision: 70b38f738756b59ea80268f67cb122daddfb0619
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2012 22:16:55
Message:
NO-JIRA: Fix assertion messages in brokertest.py #MsgLength=49


----
Modified: src/tests/brokertest.py|2 2

Revision: 87efb53c95354e107e84ccc3415dd6f906688780
Author: Alan Conway <aconway@apache.org>
Date: 18/04/2012 22:59:31
Message:
QPID-3352: Fix test for failed session to avoid confusion with as yet uninitialised session #MsgLength=556


----
Modified: src/qpid/broker/Bridge.cpp|8 7
Modified: src/qpid/broker/Bridge.h|10 3
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/SessionHandler.cpp|5 0
Modified: src/qpid/broker/SessionHandler.h|7 3
Modified: src/tests/run_federation_tests|6 9

Revision: 607fdf2912822d695d5c1fb6adcd6298cfa83d8e
Author: Gordon Sim <gsim@apache.org>
Date: 19/04/2012 01:46:57
Message:
QPID-3958: Export added function definition to fix linking error on windows #MsgLength=76


----
Modified: src/qpid/framing/FrameSet.h|1 1

Revision: 028b3cca0c109df27403b6ffeaf2d2b30341dc31
Author: Justin Ross <jross@apache.org>
Date: 19/04/2012 22:04:32
Message:
QPID-3962: Added licensing to the Cucumber feature test step definitions #MsgLength=75


----
Modified: bindings/qpid/ruby/features/step_definitions/address_steps.rb|19 0
Modified: bindings/qpid/ruby/features/step_definitions/connection_steps.rb|19 0
Modified: bindings/qpid/ruby/features/step_definitions/receiver_steps.rb|19 0
Modified: bindings/qpid/ruby/features/step_definitions/sender_steps.rb|19 0
Modified: bindings/qpid/ruby/features/step_definitions/session_steps.rb|19 0

Revision: f40870b4038817f688fede36b85321aaef3ea9be
Author: Alan Conway <aconway@apache.org>
Date: 20/04/2012 05:44:59
Message:
QPID-3606: More consistent logging and error handling for HA code. #MsgLength=67


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|1 0
Added: src/qpid/broker/QueuedMessage.cpp|34 0
Modified: src/qpid/broker/QueuedMessage.h|2 0
Modified: src/qpid/ha/Backup.cpp|3 4
Modified: src/qpid/ha/BrokerReplicator.cpp|6 6
Modified: src/qpid/ha/HaBroker.cpp|3 3
Modified: src/qpid/ha/HaBroker.h|1 0
Modified: src/qpid/ha/QueueReplicator.cpp|32 23
Modified: src/qpid/ha/QueueReplicator.h|1 2
Modified: src/qpid/ha/ReplicateLevel.cpp|5 6
Modified: src/qpid/ha/ReplicatingSubscription.cpp|44 27
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1
Modified: src/tests/ha_tests.py|1 1

Revision: 35cbefd035c54aa6a3a0d2377fce6119cab46d57
Author: Alan Conway <aconway@apache.org>
Date: 20/04/2012 05:47:38
Message:
NO-JIRA: Improvements to qpid-cpp-benchmark test. #MsgLength=212


----
Modified: src/tests/qpid-cpp-benchmark|28 20

Revision: d841580bb56df09b1d9aabb8fb1725e622c7f1cc
Author: Stephen D. Huston <shuston@apache.org>
Date: 20/04/2012 21:35:17
Message:
Add missing QPID_COMMON_EXTERN on Invalid needed by recent ha Backup.cpp reference to it. NO-JIRA #MsgLength=98


----
Modified: include/qpid/Url.h|1 1

Revision: 9802c7769a469fe391cd8162f47d760527716296
Author: Gordon Sim <gsim@apache.org>
Date: 20/04/2012 22:27:31
Message:
QPID-3964: Enforce 'access' premission rather than 'create' for passive declares; remove the now redundant 'passive' property from ACL model #MsgLength=141


----
Modified: src/qpid/broker/AclModule.h|0 8
Modified: src/qpid/broker/Broker.cpp|0 2
Modified: src/qpid/broker/SessionAdapter.cpp|4 16
Modified: src/tests/acl.py|32 9

Revision: c9df9c3ad41c56492837facc92e53bd47b88e82e
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 21/04/2012 00:29:09
Message:
QPID-3759: added lock to prevent two threads deleting same structure #MsgLength=69


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|36 24

Revision: 7ce862b1e15a913ddebad912b142c1c56f6a7f6d
Author: Ted Ross <tross@apache.org>
Date: 21/04/2012 04:43:14
Message:
QPID-3510 - Allow client configuration-file to be overridden via QPID_CONFIG env variable. #MsgLength=92


----
Modified: src/qpid/client/ConnectionImpl.cpp|3 1
Modified: src/qpid/client/LoadPlugins.cpp|4 2
Modified: src/qpid/client/SslConnector.cpp|3 1

Revision: 87b9edb468b8249573db3dc008cd831f4c278ffd
Author: Ted Ross <tross@apache.org>
Date: 23/04/2012 21:44:11
Message:
QPID-3510 - Created a separate option in CommonOptions for the client configuration file. #MsgLength=91


----
Modified: include/qpid/Options.h|3 1
Modified: src/Makefile.am|1 1
Modified: src/posix/QpiddBroker.cpp|2 2
Modified: src/qpid/Options.cpp|4 3
Modified: src/qpid/client/ConnectionImpl.cpp|3 3
Modified: src/qpid/client/LoadPlugins.cpp|3 3
Modified: src/qpid/client/SslConnector.cpp|3 3
Modified: src/windows/QpiddBroker.cpp|2 2

Revision: 97db9a27474bdbd4467da9b0d6ac698ca0c2f471
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2012 23:51:33
Message:
QPID-3603: Install HA connection excluder at the beginning of initialization. #MsgLength=201


----
Modified: src/qpid/ha/Backup.cpp|10 8
Modified: src/qpid/ha/BrokerReplicator.cpp|41 43
Modified: src/tests/ha_tests.py|2 2

Revision: 16ee469bf453cd57f1ccf7246c722439c36d5b3c
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2012 23:51:46
Message:
QPID-3960: Fix  performance regression in priority queue implementation. #MsgLength=426


----
Modified: src/qpid/broker/Fairshare.cpp|43 44
Modified: src/qpid/broker/Fairshare.h|11 8
Modified: src/qpid/broker/MessageDeque.cpp|15 5
Modified: src/qpid/broker/MessageDeque.h|6 1
Modified: src/qpid/broker/PriorityQueue.cpp|96 81
Modified: src/qpid/broker/PriorityQueue.h|31 14
Modified: src/qpid/cluster/Connection.cpp|2 2
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|3 3
Modified: src/tests/ha_tests.py|1 0
Modified: xml/cluster.xml|2 1

Revision: 7745711c905104c350e76edef4a11df6708f0aca
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/04/2012 03:54:21
Message:
Added missing externs for Windows builds. NO-JIRA #MsgLength=50


----
Modified: include/qpid/Url.h|1 1
Modified: src/qpid/broker/QueuedMessage.h|2 1

Revision: 4fb1424099b6a556cc6910e2c7048a8e688d68bd
Author: Gordon Sim <gsim@apache.org>
Date: 24/04/2012 04:58:00
Message:
QPID-3970: Check alternate exchange actually exists before proceeding with reroute request #MsgLength=91


----
Modified: src/qpid/broker/Queue.cpp|7 2

Revision: 3048924d6e91b2abac8ed9fa51dfe6c6bca39e1e
Author: Ted Ross <tross@apache.org>
Date: 25/04/2012 00:08:13
Message:
QPID-3969 - Improved handling of unspecified arguments in QMFv2 method calls. #MsgLength=79


----
Modified: managementgen/qmfgen/management-types.xml|1 1
Modified: managementgen/qmfgen/schema.py|9 3

Revision: 17236ae91b4ff87bb5cf75ab8df8f033f50ede84
Author: Charles E. Rolke <chug@apache.org>
Date: 26/04/2012 00:33:20
Message:
QPID-3606 get windows builds going again #MsgLength=41


----
Modified: src/CMakeLists.txt|1 1

Revision: db4e57c05f667e33cddb7f5c2e3fd5e18a02b695
Author: Gordon Sim <gsim@apache.org>
Date: 27/04/2012 03:16:44
Message:
QPID-3974: update statistics for dropped duplicate messages in replication exchange (patch from Pavel Moravec) #MsgLength=111


----
Modified: src/qpid/replication/ReplicationExchange.cpp|7 1

Revision: 850c171c6331a63d895137cad9560daff3267333
Author: Charles E. Rolke <chug@apache.org>
Date: 28/04/2012 03:26:18
Message:
QPID-2616 Count and limit client connections Limit client connections by name and by host address. #MsgLength=101


----
Modified: src/CMakeLists.txt|2 0
Modified: src/acl.mk|2 0
Modified: src/qpid/acl/Acl.cpp|7 2
Modified: src/qpid/acl/Acl.h|49 44
Added: src/qpid/acl/AclConnectionCounter.cpp|211 0
Added: src/qpid/acl/AclConnectionCounter.h|79 0
Modified: src/qpid/acl/AclPlugin.cpp|3 1

Revision: 2ef64a704d66b0e66e680926d50750bf5371237b
Author: Charles E. Rolke <chug@apache.org>
Date: 01/05/2012 03:07:03
Message:
QPID-2616 Count and limit client connections. Add self tests for connection counting feature. #MsgLength=96


----
Modified: src/tests/acl.py|50 0
Modified: src/tests/run_acl_tests|19 3

Revision: 6817ab24969d83f378d04cb67f06001c59c78b0b
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:13
Message:
QPID-3963: subscribe link to remote broker's to amq.failover exchange. #MsgLength=71


----
Modified: src/qpid/broker/Link.cpp|123 6
Modified: src/qpid/broker/Link.h|4 2

Revision: 72cf7e023b8fd045878ff2054f4415452edb0849
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:21
Message:
QPID-3963: fix naming of link exchange, and exchange creation/replication handling #MsgLength=83


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|3 0
Modified: src/qpid/broker/Link.cpp|51 21
Modified: src/qpid/broker/Link.h|23 6
Modified: src/qpid/broker/LinkRegistry.cpp|12 5

Revision: cc6a43ea5e4b682ffa43f5259910809d11c75f0d
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:31
Message:
QPID-3963: cleanups from reviewboard input #MsgLength=43


----
Modified: src/qpid/broker/Link.cpp|24 20
Modified: src/qpid/broker/Link.h|2 1

Revision: 787c5202b5a4e26f9f23e64b4c3adda01388c52d
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:39
Message:
QPID-3963: use unique name for created session and queue #MsgLength=57


----
Modified: src/qpid/broker/Link.cpp|4 8
Modified: src/qpid/broker/Link.h|1 0

Revision: d5e36b64e17133556ebb2adc0d865670dbde7760
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:50
Message:
QPID-3963: replicate learned failover addresses to new cluster members #MsgLength=71


----
Modified: src/qpid/broker/Link.cpp|31 1
Modified: src/qpid/broker/Link.h|5 1
Modified: src/qpid/cluster/Connection.cpp|48 0
Modified: src/qpid/cluster/Connection.h|2 0
Modified: src/qpid/cluster/UpdateClient.cpp|9 1
Modified: xml/cluster.xml|6 0

Revision: 829742d29f9500c14e7c6fe905937b8df281cfcb
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:57:58
Message:
QPID-3963: add testcase for federation and cluster failover #MsgLength=60


----
Modified: src/tests/cluster_tests.py|115 0

Revision: 75b456fdd20b11bd01154d8e6ae6d06ef9cb97ba
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:58:06
Message:
QPID-3963: fix test, add cluster log filters for link and broker state #MsgLength=71


----
Modified: src/tests/cluster_test_logs.py|4 2
Modified: src/tests/cluster_tests.py|18 15

Revision: 26c5e193fd7a3e354321e143bb3ae7b64fd4c017
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2012 21:58:14
Message:
QPID-3963: update cluster version. #MsgLength=35


----
Modified: src/qpid/cluster/Cluster.cpp|1 1

Revision: 2213e89edea0f895c805df6e6ebc4a1f4f39dbd3
Author: Charles E. Rolke <chug@apache.org>
Date: 02/05/2012 03:18:09
Message:
QPID-2616 Count and limit client connections. Add management statistic and event to record denied connections. #MsgLength=113


----
Modified: src/qpid/acl/Acl.cpp|12 1
Modified: src/qpid/acl/Acl.h|1 1
Modified: src/qpid/acl/AclConnectionCounter.cpp|7 4
Modified: src/qpid/acl/AclConnectionCounter.h|3 1
Modified: src/qpid/acl/management-schema.xml|3 0

Revision: e6c9de7eacbba4ea1758e00ca0246a2494913fee
Author: Charles E. Rolke <chug@apache.org>
Date: 03/05/2012 01:00:54
Message:
QPID-2616 Count and limit client connections. Bug fix: use Connection.getUserId() and not getUsername() to identify user and upgrade selftest to match. Add comment to Connection.h to suggest the particular pitfall. #MsgLength=217


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|5 5
Modified: src/qpid/broker/Connection.h|5 0
Modified: src/tests/acl.py|22 10

Revision: dae6ee722f00a8bd4ee529513b7bcd903deebd2d
Author: Ken Giusti <kgiusti@apache.org>
Date: 05/05/2012 03:45:32
Message:
QPID-3767: re-index bridge and link by constant name, not address #MsgLength=66


----
Modified: src/qpid/broker/Bridge.cpp|82 28
Modified: src/qpid/broker/Bridge.h|24 7
Modified: src/qpid/broker/Broker.cpp|179 6
Modified: src/qpid/broker/Link.cpp|102 48
Modified: src/qpid/broker/Link.h|24 9
Modified: src/qpid/broker/LinkRegistry.cpp|162 86
Modified: src/qpid/broker/LinkRegistry.h|32 22
Modified: src/qpid/broker/NameGenerator.h|1 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|5 3
Modified: src/qpid/cluster/Connection.cpp|6 4
Modified: src/qpid/ha/Backup.cpp|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|4 1
Modified: src/qpid/ha/HaBroker.cpp|2 0
Modified: src/qpid/ha/QueueReplicator.cpp|11 6
Modified: src/qpid/ha/QueueReplicator.h|1 0
Modified: src/tests/cluster_tests.py|138 39
Modified: src/tests/federation.py|181 8

Revision: aae3af0096ce7b9abda4a8465445b5fdd4c126b4
Author: Ken Giusti <kgiusti@apache.org>
Date: 05/05/2012 03:45:41
Message:
QPID-3767: fix queue replicator name #MsgLength=37


----
Modified: src/qpid/ha/QueueReplicator.cpp|2 0

Revision: 589fc12579f62b41d1b176635bb40c8cef10c341
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/05/2012 04:28:27
Message:
Don't go through the IOCP wait if the poller is shut down. Fixes QPID-3982. #MsgLength=76


----
Modified: src/qpid/sys/windows/IocpPoller.cpp|3 2

Revision: ebf7a802a0ffa730333282883b37e5866ee89d7b
Author: Charles E. Rolke <chug@apache.org>
Date: 07/05/2012 21:44:11
Message:
NO-JIRA Fix calculation of buffer size. Buffers that have hex chars may have hundreds of them. #MsgLength=97


----
Modified: src/qpid/log/Statement.cpp|1 1

Revision: 5eedadc731e94f3e5b64cd33f4f2a2e64bf67d00
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2012 03:54:44
Message:
NO-JIRA: Skip HA tests if required python tools are not available. #MsgLength=67


----
Modified: etc/Makefile.am|2 2
Modified: src/tests/Makefile.am|4 3
Added: src/tests/run_ha_tests|29 0

Revision: e44ff8ae5a234da09d56ecc595f2a3b2bd94408a
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2012 23:04:38
Message:
QPID-3603: Added SystemInfo::isLocalHost to check if a host name refers to the local  host. #MsgLength=92


----
Modified: include/qpid/sys/SystemInfo.h|49 39
Modified: src/qpid/sys/posix/SystemInfo.cpp|57 25
Modified: src/qpid/sys/windows/SystemInfo.cpp|6 0
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/SystemInfo.cpp|50 0

Revision: da10c58d5babc8ce9f9b85d60632a92788b0d256
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2012 23:04:51
Message:
QPID-3603: Add ErrorListener to Bridge to handle session errors. #MsgLength=91


----
Modified: src/qpid/broker/Bridge.cpp|23 3
Modified: src/qpid/broker/Bridge.h|11 5
Modified: src/qpid/broker/Link.cpp|13 5
Modified: src/qpid/broker/SessionHandler.cpp|24 12
Modified: src/qpid/broker/SessionHandler.h|18 3
Added: src/qpid/ha/Primary.cpp|86 0

Revision: d7fc2ee163dd8715e2d2fce2cd96fe7004794d42
Author: Charles E. Rolke <chug@apache.org>
Date: 09/05/2012 03:28:43
Message:
QPID-3603 Added SystemInfo::isLocalHost Repair r1335562 by including proper header files. #MsgLength=91


----
Modified: src/qpid/sys/windows/SystemInfo.cpp|3 1

Revision: d33f4dfa46a8facef74432abe352cdb4f024edeb
Author: Alan Conway <aconway@apache.org>
Date: 09/05/2012 23:38:32
Message:
QPID-3603: Make failover subscrption optional for Links. #MsgLength=141


----
Modified: src/qpid/broker/Link.cpp|59 52
Modified: src/qpid/broker/Link.h|5 2
Modified: src/qpid/broker/LinkRegistry.cpp|7 5
Modified: src/qpid/broker/LinkRegistry.h|3 1
Modified: src/qpid/ha/Backup.cpp|3 2

Revision: 2c2a9f7f6282509f12c9626a654ee4d8791b41c0
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2012 23:55:03
Message:
QPID-3603: Add finalizer for HaPlugin, fix hang on exit not responding to kill -TERM. #MsgLength=86


----
Modified: src/qpid/ha/HaPlugin.cpp|9 2

Revision: 64b94469e76114fc21b2df51068e38920335843f
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2012 03:44:53
Message:
NO-JIRA: Fix bug in RangeSet when insterting a range that covers multiple ranges. #MsgLength=146


----
Modified: include/qpid/RangeSet.h|4 6
Modified: src/tests/RangeSet.cpp|71 63

Revision: bca548dcc35573c4823eb371185cbfeb3c4bcc5f
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2012 03:45:04
Message:
NO-JIRA: Reduce message for missing lock file from critical to notice. #MsgLength=271


----
Modified: src/posix/QpiddBroker.cpp|8 2
Modified: src/qpid/sys/posix/LockFile.cpp|1 1

Revision: 44e02bab6873b8a96176dceda4081e9d6e9bf6dc
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:05:34
Message:
QPID-3603: HA broker backup/primary ready checks. #MsgLength=616


----
Modified: src/CMakeLists.txt|14 9
Modified: src/ha.mk|8 3
Modified: src/qpid/broker/Broker.cpp|14 0
Modified: src/qpid/broker/Broker.h|28 20
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: src/qpid/ha/Backup.cpp|3 7
Modified: src/qpid/ha/Backup.h|2 2
Modified: src/qpid/ha/BrokerReplicator.cpp|129 98
Modified: src/qpid/ha/BrokerReplicator.h|12 6
Modified: src/qpid/ha/ConnectionExcluder.cpp|21 4
Modified: src/qpid/ha/ConnectionExcluder.h|10 2
Added: src/qpid/ha/Counter.h|57 0
Renamed: src/qpid/ha/Enum.cpp [from src/qpid/ha/ReplicateLevel.cpp]|32 32
Added: src/qpid/ha/Enum.h|97 0
Modified: src/qpid/ha/HaBroker.cpp|156 40
Modified: src/qpid/ha/HaBroker.h|46 3
Modified: src/qpid/ha/HaPlugin.cpp|2 1
Added: src/qpid/ha/LogPrefix.cpp|40 0
Renamed: src/qpid/ha/LogPrefix.h [from src/qpid/ha/ReplicateLevel.h]|22 17
Modified: src/qpid/ha/Primary.cpp|0 1
Added: src/qpid/ha/Primary.h|71 0
Modified: src/qpid/ha/QueueReplicator.cpp|32 10
Modified: src/qpid/ha/QueueReplicator.h|17 2
Modified: src/qpid/ha/ReplicatingSubscription.cpp|58 25
Modified: src/qpid/ha/ReplicatingSubscription.h|16 3
Modified: src/qpid/ha/Settings.h|5 3
Modified: src/tests/brokertest.py|10 8
Modified: src/tests/ha_tests.py|115 49

Revision: 16be8721f358a279ca7773218a7d80499821e463
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:05:46
Message:
QPID-3603: HA primary marks ReplicatingSubscription ready immediately if queue is empty. #MsgLength=89


----
Modified: src/qpid/ha/HaBroker.cpp|0 1
Modified: src/qpid/ha/LogPrefix.cpp|6 0
Modified: src/qpid/ha/LogPrefix.h|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|97 84
Modified: src/qpid/ha/ReplicatingSubscription.h|19 20
Modified: src/tests/ha_tests.py|0 1

Revision: a2befa2d2310a05edd530d8bfbbc0e3ef0f0b72f
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:05:58
Message:
QPID-3603: HA backup brokers don't connect to self when searching for primary. #MsgLength=134


----
Modified: src/qpid/ha/Backup.cpp|26 10
Modified: src/qpid/ha/Backup.h|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|3 3
Modified: src/qpid/ha/HaBroker.cpp|0 1
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 0

Revision: 63288434119ac75aefd342568b2e3e08a6ccd0cf
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:06:07
Message:
QPID-3603: Fix inconsistent use of bridge-name and queue-name for bridge sessions. #MsgLength=83


----
Modified: src/qpid/broker/Bridge.cpp|1 1

Revision: ee2a98f6f883927d0ec1cd0a3e04ca82fbd6bda1
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:06:15
Message:
QPID-3603: Test fixes to ha_tests.py #MsgLength=37


----
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Modified: src/tests/ha_tests.py|45 43

Revision: ac2fb77a99678474d4e7289ed9f20e1393020020
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:06:27
Message:
QPID-3603: HA remove backup Replicator code to track unready queues. #MsgLength=150


----
Modified: src/qpid/ha/BrokerReplicator.cpp|7 26
Modified: src/qpid/ha/BrokerReplicator.h|1 3
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/Primary.h|2 2
Modified: src/qpid/ha/QueueReplicator.cpp|2 11
Modified: src/qpid/ha/QueueReplicator.h|1 7
Modified: src/qpid/ha/ReplicatingSubscription.cpp|7 10
Modified: src/qpid/ha/ReplicatingSubscription.h|2 3

Revision: 68f3fed45a5bb64a26cc7d96cbdb5bf99ed22429
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2012 05:13:13
Message:
QPID-3603: HA rename "promoting" to "recovering" #MsgLength=134


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/Enum.cpp|1 1
Modified: src/qpid/ha/Enum.h|2 2
Modified: src/qpid/ha/HaBroker.cpp|8 8
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/tests/ha_tests.py|2 2

Revision: ebc01d8494d2753e39085712b2682e4988a20afd
Author: Charles E. Rolke <chug@apache.org>
Date: 16/05/2012 22:49:59
Message:
QPID-3603 HA broker backup/primary ready checks. Repair r1338889 for Windows. #MsgLength=78


----
Modified: src/qpid/broker/Broker.h|2 2
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1

Revision: 734c8a8086deccfc82abb907edb9880520f3ae7e
Author: Alan Conway <aconway@apache.org>
Date: 17/05/2012 01:19:48
Message:
QPID-3603: HA don't replicate excluseive, auto-delete, non-timeout queues. #MsgLength=277


----
Modified: src/qpid/ha/BrokerReplicator.cpp|24 5
Modified: src/qpid/ha/BrokerReplicator.h|2 1
Modified: src/tests/ha_tests.py|27 9

Revision: 81bd41d7cf405e2350f313ccdbd23a965c8eeaa3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/05/2012 04:58:25
Message:
QPID-4004: Cruft in qpid::framing::Buffer class should be removed #MsgLength=66


----
Modified: include/qpid/framing/Buffer.h|14 36
Modified: include/qpid/management/Buffer.h|1 2
Modified: src/qpid/framing/AMQFrame.cpp|2 2
Modified: src/qpid/framing/Buffer.cpp|3 13
Modified: src/qpid/framing/ProtocolInitiation.cpp|2 0
Modified: src/qpid/management/Buffer.cpp|1 2
Modified: src/qpid/management/ManagementAgent.cpp|8 9

Revision: 5593e928fdf57d6538621c2fdde82b9227f195bc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/05/2012 04:58:33
Message:
NO-JIRA: Removed unused File #MsgLength=29


----
Modified: src/Makefile.am|0 1
Deleted: src/qpid/framing/AMQCommandControlBody.h|0 70

Revision: de9bb5fa999ec35158a540fe9674c9b22a74bf04
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/05/2012 06:28:22
Message:
QPID-4005: Eliminate "using" especially "using namespace" from header file #MsgLength=75


----
Modified: include/qpid/framing/ProtocolVersion.h|2 0
Modified: include/qpid/framing/amqp_types.h|0 2
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/ConnectionHandler.cpp|3 0
Modified: src/qpid/broker/DirectExchange.cpp|3 0
Modified: src/qpid/broker/Exchange.cpp|2 0
Modified: src/qpid/broker/FanOutExchange.cpp|3 0
Modified: src/qpid/broker/HeadersExchange.cpp|3 0
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/QueueFlowLimit.cpp|2 2
Modified: src/qpid/broker/QueuePolicy.cpp|2 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|2 0
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/client/ConnectionHandler.cpp|3 3
Modified: src/qpid/client/SessionImpl.cpp|1 1
Modified: src/qpid/cluster/Connection.cpp|2 0
Modified: src/qpid/cluster/UpdateClient.cpp|2 0
Modified: src/qpid/framing/AMQContentBody.cpp|1 1
Modified: src/qpid/framing/AMQContentBody.h|4 4
Modified: src/qpid/management/ManagementDirectExchange.cpp|2 2
Modified: src/qpid/management/ManagementTopicExchange.cpp|3 3
Modified: src/qpid/replication/ReplicationExchange.cpp|1 1
Modified: src/tests/ExchangeTest.cpp|2 0
Modified: src/tests/FieldTable.cpp|2 0
Modified: src/tests/MessageBuilderTest.cpp|3 3
Modified: src/tests/MessageTest.cpp|2 0
Modified: src/tests/MessageUtils.h|2 2
Modified: src/tests/QueueTest.cpp|2 0
Modified: src/tests/TestMessageStore.h|1 1
Modified: src/tests/TxPublishTest.cpp|2 2

Revision: cc50a37bb333fbf915d3f03d5cc389e539b9a0e0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/05/2012 00:34:22
Message:
QPID-4005: Eliminate "using" especially "using namespace" from header file - Fix windows breakage #MsgLength=98


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|2 0

Revision: fa9128aead43f1dad01b6d5e30341780af7faec4
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2012 02:05:51
Message:
QPID-3603: HA failover test, increase timeout to avoid false failures. #MsgLength=71


----
Modified: src/tests/ha_tests.py|3 4

Revision: 67461979cd464e532663c8e8a68820b7c71b0e8e
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 18/05/2012 07:56:34
Message:
QPID-4008: added check for INVALID_SOCKET similar to Linux implementation #MsgLength=74


----
Modified: src/qpid/sys/windows/Socket.cpp|10 7

Revision: 72f9b72e286487c208889dd46dddc4d7c8c4e5ef
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2012 06:05:11
Message:
QPID-4005: Eliminate "using" especially "using namespace" from header file #MsgLength=75


----
Modified: include/qpid/Options.h|4 5
Modified: include/qpid/client/SessionBase_0_10.h|6 7
Modified: include/qpid/client/SubscriptionSettings.h|13 1
Modified: src/tests/ReplicationTest.cpp|2 2
Modified: src/tests/txjob.cpp|3 3
Modified: src/tests/txshift.cpp|1 1

Revision: e14757988454fa7bb801cbd10d2b267a4923efd6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2012 06:05:20
Message:
QPID-4005: Eliminate "using" especially "using namespace" from header file #MsgLength=75


----
Modified: src/qmf/AgentSession.cpp|21 4
Modified: src/qmf/AgentSessionImpl.h|33 40
Modified: src/qmf/ConsoleSessionImpl.h|0 2
Modified: src/qmf/EventNotifierImpl.cpp|4 0

Revision: 5a638f0c5b2a409a0288ece37c7aff77bba9fcd4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2012 06:05:28
Message:
QPID-4005: Eliminate "using" especially "using namespace" from header file #MsgLength=75


----
Modified: src/qpid/xml/XmlExchange.cpp|17 17
Modified: src/qpid/xml/XmlExchange.h|1 3

Revision: 6b7347f76496cdf0e1bcbdb3b8cacbd0d1ed0d1c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/05/2012 06:05:37
Message:
QPID-4011: TestIsLocalHost unit_test fails with if machine name resolves to loopback address QPID-3404 - This change also adds support for IPv6 interface addresses to getLocalIpAddresses #MsgLength=187


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|28 11
Modified: src/tests/SystemInfo.cpp|2 0

Revision: e3f2c2d2dcf7f8acfea16d23c0d56433c2da6f12
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2012 06:13:31
Message:
QPID-4013: Windows Broker SSL is more difficult to use than necessary and possibly less secure than possible #MsgLength=109


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|23 4

Revision: 3a26396d0392977ad69f7f3a0e3051b87d97b62c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2012 06:51:16
Message:
QPID-4011: TestIsLocalHost unit_test fails with if machine name resolves to loopback address Oops - ntohl() can be a macro so specifying ::ntohl() can fail in optimised builds. #MsgLength=177


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 1

Revision: 00dd35eb5be34ad78a23b52801c498b40a9c2cd0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2012 07:18:37
Message:
NO-JIRA: Implement abort for ssl connections #MsgLength=45


----
Modified: src/qpid/sys/ssl/SslHandler.cpp|4 2
Modified: src/qpid/sys/ssl/SslIo.cpp|12 0
Modified: src/qpid/sys/ssl/SslIo.h|3 0

Revision: 31eafbf7eec42a97353dce2940de34abd817255f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2012 07:18:50
Message:
QPID-2518: Qpid C++ broker can easily be blocked by client trying to connect over SSL port Implement timed disconnect for TCP and for SSL/TCP mux #MsgLength=146


----
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|32 2
Modified: src/qpid/sys/AsynchIOHandler.h|7 2
Modified: src/qpid/sys/SslPlugin.cpp|14 6
Modified: src/qpid/sys/TCPIOPlugin.cpp|17 4

Revision: 86e119c46504457eac5cc12f6f2e45beb9c5f005
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/05/2012 07:19:02
Message:
QPID-2518: Qpid C++ broker can easily be blocked by client trying to connect over SSL port Implement timed disconnect for SSL #MsgLength=126


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|18 8
Modified: src/qpid/sys/SslPlugin.cpp|4 4
Modified: src/qpid/sys/ssl/SslHandler.cpp|31 2
Modified: src/qpid/sys/ssl/SslHandler.h|8 1

Revision: 0af2d1b9a8c13aac8decdc2d11a9fe3de068a367
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2012 02:11:07
Message:
QPID-3603: HA backups pass identifying info to primary. #MsgLength=129


----
Modified: include/qpid/framing/Uuid.h|3 0
Modified: src/CMakeLists.txt|2 0
Modified: src/ha.mk|2 0
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/System.cpp|4 6
Modified: src/qpid/broker/System.h|17 0
Modified: src/qpid/framing/Uuid.cpp|7 0
Modified: src/qpid/ha/Backup.cpp|3 3
Added: src/qpid/ha/BrokerInfo.cpp|59 0
Added: src/qpid/ha/BrokerInfo.h|62 0
Modified: src/qpid/ha/ConnectionExcluder.cpp|10 10
Modified: src/qpid/ha/HaBroker.cpp|28 9
Modified: src/qpid/ha/HaBroker.h|5 0
Modified: src/tests/Uuid.cpp|5 0

Revision: 02562c1e74ef74a8cce812071cd7883869d8cb7a
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2012 02:11:20
Message:
QPID-3603: Renamed brokers and public-brokers to brokers-url and public-url for clarity. #MsgLength=89


----
Modified: src/qpid/ha/HaBroker.cpp|8 8
Modified: src/qpid/ha/HaPlugin.cpp|4 4
Modified: src/qpid/ha/management-schema.xml|6 6
Modified: src/tests/ha_tests.py|19 19

Revision: 9bdee63bf2215515089daa43d01b3af192e59674
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/05/2012 04:16:18
Message:
QPID-3004: Keep the code compatible with clang C++ compiler (and probably gcc 4.7 too) Fix up intrusive_ptr_add_ref(RefCounted*)/intrusive_ptr_release(RefCounted*) so they are now found by argument dependent lookup. #MsgLength=263


----
Modified: src/qmf/AgentSession.cpp|1 1
Modified: src/qmf/PrivateImplRef.h|4 4
Modified: src/qpid/RefCounted.h|4 8
Modified: src/qpid/client/PrivateImplRef.h|4 4
Modified: src/qpid/messaging/PrivateImplRef.h|4 4

Revision: bc97350bb9b51dac775033671347e4d13e089dd0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/05/2012 12:14:37
Message:
NO-JIRA: Remove final vestiges of non-portable alloca(). #MsgLength=123


----
Modified: src/tests/FieldTable.cpp|3 3
Modified: src/tests/MessageTest.cpp|3 4
Modified: src/tests/Uuid.cpp|3 4

Revision: 43ada6ca8083942ddb81115a8047ece2a3af8aa6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/05/2012 12:14:43
Message:
NO-JIRA: Rearrange CMake a bit to improve the chances of compiling on non-Linux Unix #MsgLength=85


----
Modified: src/CMakeLists.txt|12 9

Revision: 95393a490e34fd4b5925ddd65b51d50c2c83acff
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/05/2012 12:14:53
Message:
NO-JIRA: Rearrange memory status code Currently only Linux has a useful implementation and everyone else uses a null implementation. #MsgLength=133


----
Modified: src/CMakeLists.txt|11 3
Renamed: src/qpid/sys/MemStat.cpp [from src/qpid/sys/windows/MemStat.cpp]|3 1
Modified: src/qpid/sys/posix/MemStat.cpp|1 1

Revision: a546246661a36c0848be167e53d0db31cf310137
Author: Ken Giusti <kgiusti@apache.org>
Date: 25/05/2012 05:37:29
Message:
QPID-3767: add additional test case for link sharing. #MsgLength=54


----
Modified: src/tests/federation.py|113 0

Revision: cb5ac348ae7e933a6ee00f22c4b12dec77937c39
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/05/2012 01:24:52
Message:
NO-JIRA: fix some defects found by Coverity static analysis scan of C++ code #MsgLength=77


----
Modified: include/qpid/framing/StructHelper.h|1 1
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/broker/Bridge.cpp|1 1
Modified: src/qpid/broker/Daemon.h|0 1
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|2 1
Modified: src/qpid/client/SslConnector.cpp|1 2
Modified: src/qpid/client/TCPConnector.cpp|1 0
Modified: src/qpid/client/TCPConnector.h|0 2
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|0 1
Modified: src/qpid/sys/posix/SocketAddress.cpp|4 2

Revision: 59ca500e176fe6db5935208c28118ecb76b9993b
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/05/2012 02:30:48
Message:
NO-JIRA: eliminate dead code and potential null pointer dereference as found by Coverity #MsgLength=89


----
Modified: src/qpid/broker/Link.cpp|19 23

Revision: d072faccdf75fc4d4e49feba3951c7fd70a81af6
Author: Ted Ross <tross@apache.org>
Date: 26/05/2012 03:24:21
Message:
QPID-3995 - Cleans up queues created during Cucumber feature tests Applied patch from Darryl Pierce #MsgLength=102


----
Modified: bindings/qpid/ruby/features/creating_a_receiver.feature|2 2
Modified: bindings/qpid/ruby/features/creating_a_sender.feature|3 3
Modified: bindings/qpid/ruby/features/receiving_a_message.feature|6 4
Modified: bindings/qpid/ruby/features/sending_a_message.feature|3 3
Modified: bindings/qpid/ruby/features/step_definitions/address_steps.rb|7 0
Modified: bindings/qpid/ruby/features/step_definitions/receiver_steps.rb|8 0

Revision: 625b3ad23add5056bf44faf347bc31cc376011b3
Author: Ted Ross <tross@apache.org>
Date: 26/05/2012 03:28:11
Message:
QPID-3992 - Removed the Boost license text from the Ruby LICENSE file. Applied patch from Darryl Pierce. #MsgLength=106


----
Modified: bindings/qpid/ruby/LICENSE|0 29

Revision: 1cb1c110c91f30a32d17f5d5c13f51fe2b880cfb
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 02:24:06
Message:
QPID-3603: Allow Queue::setPosition() to truncate the queue. #MsgLength=464


----
Modified: src/qpid/broker/MessageDeque.cpp|20 0
Modified: src/qpid/broker/MessageDeque.h|1 1
Modified: src/qpid/broker/MessageMap.cpp|9 2
Modified: src/qpid/broker/MessageMap.h|2 1
Modified: src/qpid/broker/Messages.h|9 0
Modified: src/qpid/broker/PriorityQueue.cpp|4 0
Modified: src/qpid/broker/PriorityQueue.h|1 0
Modified: src/qpid/broker/Queue.cpp|55 30
Modified: src/qpid/broker/Queue.h|14 4
Modified: src/qpid/cluster/Connection.cpp|1 0
Modified: src/tests/Makefile.am|1 1
Modified: src/tests/QueueTest.cpp|193 53

Revision: f67c3c46a97b411ad3a2de0b21ec34b3f4b88398
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 02:24:14
Message:
QPID-3603: Close replication link when a backup broker is promoted to primary. #MsgLength=79


----
Modified: src/qpid/ha/HaBroker.cpp|1 0
Modified: src/tests/brokertest.py|1 1

Revision: da19f299e3798408b0e0aa1694dfde9070b2e9e2
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 02:24:21
Message:
QPID-3603: HA brokers avoid self-connection. #MsgLength=275


----
Modified: src/qpid/ha/ConnectionExcluder.cpp|10 5
Modified: src/qpid/ha/ConnectionExcluder.h|3 1
Modified: src/qpid/ha/HaBroker.cpp|1 1

Revision: 56db196e87e7f1d98705620b3765de15944e2923
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 02:24:31
Message:
QPID-3603: Failover optimization restored. #MsgLength=339


----
Modified: include/qpid/framing/SequenceNumber.h|9 3
Modified: src/qpid/ha/QueueReplicator.cpp|14 21
Modified: src/qpid/ha/ReplicatingSubscription.cpp|166 51
Modified: src/qpid/ha/ReplicatingSubscription.h|18 19

Revision: 76c3f465a49f3c6c033bed7dfc533aa60d7ba0a0
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 02:24:43
Message:
QPID-3603: Better log messages for HA code. #MsgLength=107


----
Modified: src/qpid/ha/BrokerInfo.cpp|4 1
Modified: src/qpid/ha/BrokerInfo.h|6 2
Modified: src/qpid/ha/BrokerReplicator.cpp|19 19
Modified: src/qpid/ha/HaBroker.cpp|3 2
Modified: src/qpid/ha/LogPrefix.cpp|9 5
Modified: src/qpid/ha/LogPrefix.h|2 1
Modified: src/qpid/ha/QueueReplicator.cpp|11 6
Modified: src/qpid/ha/QueueReplicator.h|3 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|36 28
Modified: src/qpid/ha/ReplicatingSubscription.h|4 3

Revision: 674d97721b11afffdfacbac69e42f0c85c95e82a
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 05:24:39
Message:
NO-JIRA: Add timerTask->cancel to ~AsynchIOHandler. #MsgLength=156


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 0

Revision: 448ac21d27b4503c36f1afec553499cab3fea96d
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 21:15:04
Message:
QPID-3603: Removed isSelf check in Backup, was returning false positives. #MsgLength=117


----
Modified: src/qpid/ha/Backup.cpp|3 0

Revision: 10c1442f2748a3a3b03c8287060895dd2f98768c
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2012 22:55:37
Message:
QPID-3603: Fix deadlock in ReplicatingSubscription causing primary to hang sporadically #MsgLength=88


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|27 9

Revision: 83c8607c812025fe02a6ecd15fd8cbc499d732c3
Author: Stephen D. Huston <shuston@apache.org>
Date: 31/05/2012 04:58:40
Message:
NO-JIRA Fix signed/unsigned warnings on RHEL 5 w/ Boost 1.33.1 #MsgLength=63


----
Modified: src/tests/QueueTest.cpp|22 22

Revision: 1a4682a41ac14871e5cc4ae531b48e65aaaf8d3a
Author: Ken Giusti <kgiusti@apache.org>
Date: 31/05/2012 22:11:14
Message:
QPID-4031: fix deadlock by moving timer cancel outside of scoped lock. #MsgLength=71


----
Modified: src/qpid/broker/Link.cpp|3 2

Revision: f9bf1868d3eab83de5aaa2ac75d30e7a48c3bc15
Author: Charles E. Rolke <chug@apache.org>
Date: 01/06/2012 22:19:34
Message:
QPID-4032 Broker ACL does not accept sub-groups in group declaration Patch from Paul Colby and new self test demonstrating the fix. #MsgLength=370


----
Modified: src/qpid/acl/AclReader.cpp|23 3
Modified: src/tests/acl.py|29 1

Revision: 21104e235562a56e5fb4044ef1d64895c32f05ec
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/06/2012 00:52:14
Message:
QPID-4041: move check for transport after setting value. #MsgLength=57


----
Modified: src/qpid/broker/Broker.cpp|5 5

Revision: 51ec18f4b22b2d84e9b2323c869adca6a15f28eb
Author: Ted Ross <tross@apache.org>
Date: 06/06/2012 23:35:17
Message:
QPID-4043 - Remove usage of deprecated definitions from Corosync. #MsgLength=67


----
Modified: src/qpid/cluster/Cpg.cpp|27 27
Modified: src/qpid/cluster/Cpg.h|5 5
Modified: src/qpid/cluster/types.h|23 0

Revision: 4f89707a7f78257586bfafa8796d409f45d23557
Author: Ted Ross <tross@apache.org>
Date: 07/06/2012 02:33:39
Message:
QPID-4040 - Close federation links after lost heartbeats. Applied patch from Andy Goldstein. #MsgLength=94


----
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Connection.cpp|48 0
Modified: src/qpid/broker/Connection.h|2 1
Modified: src/qpid/broker/ConnectionHandler.cpp|8 2

Revision: 8b6baf07b863a3c17b1eb59742ffe5c7d4ef45d6
Author: Ken Giusti <kgiusti@apache.org>
Date: 08/06/2012 22:32:15
Message:
QPID-4046: rate limit the release of dequeued messages. #MsgLength=56


----
Modified: src/qpid/broker/MessageDeque.cpp|17 8

Revision: 2114e5cfa65506b41177185b463f2320046f1d30
Author: Alan Conway <aconway@apache.org>
Date: 08/06/2012 23:24:18
Message:
QPID-3603: HA primary sends membership updates to backup brokers. #MsgLength=66


----
Modified: src/ha.mk|2 0
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/BrokerInfo.cpp|35 9
Modified: src/qpid/ha/BrokerInfo.h|13 7
Modified: src/qpid/ha/BrokerReplicator.cpp|22 12
Modified: src/qpid/ha/BrokerReplicator.h|1 0
Modified: src/qpid/ha/ConnectionExcluder.cpp|36 10
Modified: src/qpid/ha/ConnectionExcluder.h|8 5
Modified: src/qpid/ha/HaBroker.cpp|22 6
Modified: src/qpid/ha/HaBroker.h|5 0
Added: src/qpid/ha/Membership.cpp|89 0
Added: src/qpid/ha/Membership.h|65 0
Modified: src/qpid/ha/Primary.cpp|0 2
Modified: src/qpid/ha/management-schema.xml|12 3
Modified: src/tests/ha_tests.py|42 7

Revision: e88736f3cecdb73133b8f1f292ab521a56ed43b8
Author: Alan Conway <aconway@apache.org>
Date: 08/06/2012 23:24:30
Message:
QPID-3603: Add ConfigurationObserver. #MsgLength=149


----
Modified: src/Makefile.am|3 0
Modified: src/qpid/broker/Broker.cpp|3 0
Modified: src/qpid/broker/Broker.h|3 1
Added: src/qpid/broker/ConfigurationObserver.h|61 0
Added: src/qpid/broker/ConfigurationObservers.h|72 0
Modified: src/qpid/broker/ConnectionObservers.h|4 24
Modified: src/qpid/broker/ExchangeRegistry.cpp|4 0
Added: src/qpid/broker/Observers.h|69 0
Modified: src/qpid/broker/QueueRegistry.cpp|9 3
Modified: src/qpid/ha/HaBroker.cpp|2 1

Revision: bba414e3ab7b32ecc823fa40b645cfa7c2af6b19
Author: Alan Conway <aconway@apache.org>
Date: 08/06/2012 23:24:39
Message:
QPID-3603: Fix race condition causing sporadic crash in BrokerReplicator::initializeBridge #MsgLength=214


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/ha/Backup.cpp|3 0
Modified: src/qpid/ha/BrokerReplicator.cpp|7 2
Modified: src/qpid/ha/BrokerReplicator.h|6 2

Revision: 78f8d2f445eab11c16e4aa1420514bd0ad88f3ae
Author: Ted Ross <tross@apache.org>
Date: 09/06/2012 04:39:30
Message:
QPID-4048 - Rafactor of TopicExchange to isolate the binding-key data structure. #MsgLength=82


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/TopicExchange.cpp|8 361
Modified: src/qpid/broker/TopicExchange.h|20 106
Added: src/qpid/broker/TopicKeyNode.h|371 0
Modified: src/tests/TopicExchangeTest.cpp|8 6

Revision: 8118bafab1e3f45e7a41cafab6c67ad67abe7dbe
Author: Charles E. Rolke <chug@apache.org>
Date: 11/06/2012 10:09:38
Message:
QPID-4022 C++ Broker connection limits by host ip and by user name. Rework the strategy to deny connections based on configured limits. All limits checked in one function from points in broker when the user's authenticated name is known. Denied connections receive the AMQP exception instead of getting the socket closed. #MsgLength=324


----
Modified: src/qpid/acl/Acl.cpp|9 1
Modified: src/qpid/acl/Acl.h|9 2
Modified: src/qpid/acl/AclConnectionCounter.cpp|136 57
Modified: src/qpid/acl/AclConnectionCounter.h|28 8
Modified: src/qpid/acl/AclPlugin.cpp|5 3
Modified: src/qpid/acl/management-schema.xml|10 7
Modified: src/qpid/broker/AclModule.h|6 0
Modified: src/qpid/broker/Broker.cpp|0 4
Modified: src/qpid/broker/Broker.h|0 24
Modified: src/qpid/broker/Connection.cpp|0 3
Modified: src/qpid/broker/ConnectionFactory.cpp|3 8
Modified: src/qpid/broker/SaslAuthenticator.cpp|39 26
Modified: src/qpid/broker/SecureConnectionFactory.cpp|3 8
Modified: src/qpid/cluster/ConnectionCodec.cpp|4 10
Modified: src/tests/run_acl_tests|2 2

Revision: a1f8ef661d43c2f32665aea980185dfc34de4a2b
Author: Charles E. Rolke <chug@apache.org>
Date: 11/06/2012 10:57:24
Message:
QPID-3603 add new file to CMakeLists #MsgLength=37


----
Modified: src/CMakeLists.txt|2 0

Revision: 31407b0d6bb29e0346cd16698b61026a4c610cd3
Author: Ted Ross <tross@apache.org>
Date: 12/06/2012 00:11:19
Message:
NO-JIRA - Fixed some Windows Visual Studio build errors #MsgLength=57


----
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/broker/TopicKeyNode.h|3 3

Revision: bb3e7ceeb5778d5b73dd0756a646a946e7ae85b8
Author: Charles E. Rolke <chug@apache.org>
Date: 12/06/2012 04:53:47
Message:
QPID-3902 C++ Broker add log categories svn merge --reintegrate from branch qpid/branches/qpid-3902/qpid #MsgLength=107


----
Modified: include/qpid/log/Logger.h|1 1
Modified: include/qpid/log/Options.h|1 1
Modified: include/qpid/log/Selector.h|25 2
Modified: include/qpid/log/Statement.h|162 4
Modified: src/qpid/log/Logger.cpp|5 2
Modified: src/qpid/log/Options.cpp|15 3
Modified: src/qpid/log/Selector.cpp|24 7
Modified: src/qpid/log/Statement.cpp|58 1
Modified: src/tests/logging.cpp|1 1

Revision: fc983fed7206b1efb75880e7a2884fdb57a2fd23
Author: Stephen D. Huston <shuston@apache.org>
Date: 12/06/2012 08:08:30
Message:
Add missing typename. NO-JIRA #MsgLength=30


----
Modified: src/qpid/broker/TopicKeyNode.h|1 1

Revision: 2150b941aa137f5d6e516a93b692eaa07d74840f
Author: Ken Giusti <kgiusti@apache.org>
Date: 12/06/2012 21:41:41
Message:
QPID-4046: set intrusive ptr to zero instead of calling reset() - compatible with older releases of boost #MsgLength=106


----
Modified: src/qpid/broker/MessageDeque.cpp|1 1

Revision: 9e52726899a25db9b386f5b253fc4258ea0796e3
Author: Alan Conway <aconway@apache.org>
Date: 12/06/2012 23:22:46
Message:
NO-JIRA: Fix failing unit_test, updated for changes in log format. #MsgLength=176


----
Modified: src/tests/logging.cpp|2 2

Revision: d688edfacc6bce87e6fe4eccd8d9d6f7a5de70ac
Author: Charles E. Rolke <chug@apache.org>
Date: 13/06/2012 01:54:16
Message:
QPID-3902 Log categories Change "IO" to "Network", "AMQP" to "Protocol", and add "Client" category. #MsgLength=102


----
Modified: include/qpid/log/Statement.h|15 12
Modified: src/qpid/log/Statement.cpp|2 2

Revision: 57fa92d6243e88943a18e24db19bbc3a78df266f
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:19:48
Message:
QPID-3603: Separate QueueGuard from ReplicatingSubscription. #MsgLength=564


----
Modified: src/CMakeLists.txt|15 8
Modified: src/ha.mk|15 8
Modified: src/qpid/ha/Backup.cpp|3 3
Modified: src/qpid/ha/Backup.h|2 2
Renamed: src/qpid/ha/BackupConnectionExcluder.h [from src/qpid/ha/LogPrefix.h]|11 24
Modified: src/qpid/ha/BrokerInfo.cpp|3 0
Modified: src/qpid/ha/BrokerInfo.h|5 4
Modified: src/qpid/ha/BrokerReplicator.cpp|18 29
Modified: src/qpid/ha/BrokerReplicator.h|4 3
Modified: src/qpid/ha/ConnectionExcluder.cpp|3 4
Modified: src/qpid/ha/ConnectionExcluder.h|4 3
Added: src/qpid/ha/ConnectionObserver.cpp|75 0
Added: src/qpid/ha/ConnectionObserver.h|72 0
Modified: src/qpid/ha/HaBroker.cpp|42 62
Modified: src/qpid/ha/HaBroker.h|19 18
Modified: src/qpid/ha/HaPlugin.cpp|0 3
Modified: src/qpid/ha/Membership.cpp|40 30
Modified: src/qpid/ha/Membership.h|13 6
Modified: src/qpid/ha/Primary.cpp|17 38
Modified: src/qpid/ha/Primary.h|13 11
Added: src/qpid/ha/PrimaryConnectionMonitor.h|76 0
Added: src/qpid/ha/QueueGuard.cpp|99 0
Added: src/qpid/ha/QueueGuard.h|101 0
Modified: src/qpid/ha/QueueReplicator.cpp|5 6
Modified: src/qpid/ha/QueueReplicator.h|5 6
Modified: src/qpid/ha/ReplicatingSubscription.cpp|31 88
Modified: src/qpid/ha/ReplicatingSubscription.h|26 30
Added: src/qpid/ha/ReplicationTest.cpp|70 0
Renamed: src/qpid/ha/ReplicationTest.h [from src/qpid/ha/LogPrefix.cpp]|32 20
Modified: src/qpid/ha/Settings.h|2 3
Added: src/qpid/ha/UnreadyQueueSet.cpp|90 0
Added: src/qpid/ha/UnreadyQueueSet.h|88 0
Modified: src/qpid/ha/management-schema.xml|0 7
Renamed: src/qpid/ha/types.cpp [from src/qpid/ha/Enum.cpp]|18 9
Renamed: src/qpid/ha/types.h [from src/qpid/ha/Enum.h]|12 0
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_tests.py|70 32

Revision: 179422477e30163faa41440a406519c02c601f5d
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:07
Message:
QPID-3603: Introduced RemoteBackup to track backup status. #MsgLength=338


----
Modified: src/CMakeLists.txt|2 2
Modified: src/ha.mk|2 2
Modified: src/qpid/ha/Backup.cpp|2 1
Modified: src/qpid/ha/BackupConnectionExcluder.h|1 0
Modified: src/qpid/ha/BrokerInfo.cpp|32 4
Modified: src/qpid/ha/BrokerInfo.h|11 0
Modified: src/qpid/ha/BrokerReplicator.cpp|10 5
Modified: src/qpid/ha/BrokerReplicator.h|0 1
Deleted: src/qpid/ha/ConnectionExcluder.cpp|0 87
Deleted: src/qpid/ha/ConnectionExcluder.h|0 68
Modified: src/qpid/ha/ConnectionObserver.cpp|9 4
Modified: src/qpid/ha/ConnectionObserver.h|3 1
Modified: src/qpid/ha/HaBroker.cpp|24 29
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/ha/Membership.cpp|12 6
Modified: src/qpid/ha/Membership.h|6 5
Modified: src/qpid/ha/Primary.cpp|125 13
Modified: src/qpid/ha/Primary.h|35 10
Modified: src/qpid/ha/PrimaryConnectionMonitor.h|7 22
Modified: src/qpid/ha/QueueGuard.cpp|30 6
Modified: src/qpid/ha/QueueGuard.h|8 13
Modified: src/qpid/ha/QueueReplicator.cpp|2 2
Renamed: src/qpid/ha/RemoteBackup.cpp [from src/qpid/ha/UnreadyQueueSet.cpp]|35 44
Renamed: src/qpid/ha/RemoteBackup.h [from src/qpid/ha/UnreadyQueueSet.h]|31 35
Modified: src/qpid/ha/ReplicatingSubscription.cpp|54 55
Modified: src/qpid/ha/ReplicatingSubscription.h|3 3
Modified: src/qpid/ha/ReplicationTest.cpp|11 6
Modified: src/qpid/ha/ReplicationTest.h|8 3
Modified: src/tests/brokertest.py|3 5
Modified: src/tests/ha_tests.py|31 19

Revision: 86c3e5859105a270414946fa03e2eb8c6d0ea967
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:17
Message:
QPID-3603: Move calls to ConfigurationObserver outside of locks. #MsgLength=65


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|43 37
Modified: src/qpid/broker/QueueRegistry.cpp|26 21

Revision: 146fcfd7fc945f9e8d96c828a180ba107f102337
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:27
Message:
QPID-3603: Guard should not complete messages from the internal event queue. #MsgLength=280


----
Modified: src/qpid/ha/Primary.cpp|2 2
Modified: src/qpid/ha/QueueGuard.cpp|5 1
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|14 7

Revision: a044edbdf40fbb9f66204181ac76958f1784b081
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:36
Message:
QPID-3603: Improvements to HA log messages, clarify primary/backp role. #MsgLength=72


----
Modified: src/qpid/ha/ConnectionObserver.cpp|1 1
Modified: src/qpid/ha/QueueGuard.cpp|2 2
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/qpid/ha/RemoteBackup.cpp|1 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|1 1

Revision: c6b127055029b9ec229c3224dd17367ad47218ed
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:49
Message:
QPID-3603: HA bug fixes around ha::QueueGuard #MsgLength=383


----
Modified: src/qpid/ha/ConnectionObserver.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|3 5
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/Primary.h|3 4
Modified: src/qpid/ha/QueueGuard.cpp|42 28
Modified: src/qpid/ha/QueueGuard.h|16 11
Modified: src/qpid/ha/QueueReplicator.cpp|3 5
Modified: src/qpid/ha/RemoteBackup.cpp|9 4
Modified: src/qpid/ha/RemoteBackup.h|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|91 86
Modified: src/qpid/ha/ReplicatingSubscription.h|11 8
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_tests.py|6 5

Revision: 31e924700832ba5d31b82d98545d9ef93e21d821
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:20:58
Message:
QPID-3603: Lock in Queue::getPosition. #MsgLength=124


----
Modified: src/qpid/broker/Queue.cpp|1 0

Revision: fe850712ab06bdca57edea4c0ba88913722734b2
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 05:21:09
Message:
QPID-3603: HA bug fixes around transition to ready status #MsgLength=354


----
Modified: src/qpid/ha/BrokerInfo.cpp|0 1
Modified: src/qpid/ha/BrokerReplicator.cpp|2 0
Modified: src/qpid/ha/HaBroker.cpp|5 0
Modified: src/qpid/ha/Membership.cpp|10 5
Modified: src/qpid/ha/Membership.h|3 3
Modified: src/qpid/ha/Primary.cpp|8 3
Modified: src/qpid/ha/QueueGuard.cpp|6 17
Modified: src/qpid/ha/QueueGuard.h|0 2
Modified: src/qpid/ha/RemoteBackup.cpp|22 6
Modified: src/qpid/ha/RemoteBackup.h|3 1
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_tests.py|8 4

Revision: 0e30233461665202670c3d8bc5709527ef407e13
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 22:01:29
Message:
NO-JIRA: Fix errors in CMakeLists.txt for ha code. #MsgLength=51


----
Modified: src/CMakeLists.txt|2 3

Revision: b2f5f7ccbb73043101fab7bd9716af33c9e90756
Author: Ted Ross <tross@apache.org>
Date: 13/06/2012 22:13:27
Message:
QPID-4061 - Added statistic: Number of unacknowledged messages in a session #MsgLength=77


----
Modified: src/qpid/broker/SemanticState.cpp|7 0
Modified: src/qpid/broker/SessionContext.h|1 0
Modified: src/qpid/broker/SessionState.h|5 0

Revision: ac08e423e540a208c8e54eba2f8769a7e5bbf055
Author: Alan Conway <aconway@apache.org>
Date: 13/06/2012 22:30:54
Message:
NO-JIRA: Fix error in CMakeLists.txt to link ha library. #MsgLength=57


----
Modified: src/CMakeLists.txt|1 1

Revision: c0e9142162a87607b458ab91711778b86d4d290e
Author: Ted Ross <tross@apache.org>
Date: 14/06/2012 04:32:36
Message:
QPID-4065 - Remove the message's trace list during Queue::reRoute #MsgLength=67


----
Modified: src/qpid/broker/Message.cpp|12 0
Modified: src/qpid/broker/Message.h|1 0
Modified: src/qpid/broker/Queue.cpp|1 0

Revision: 3ae87fbb0e033ea9755e481270ea67f0e5545448
Author: Alan Conway <aconway@apache.org>
Date: 14/06/2012 08:47:39
Message:
QPID-3603: Bug fixes to HA code, passing test_failover_send_receive #MsgLength=374


----
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/BackupConnectionExcluder.h|4 1
Modified: src/qpid/ha/BrokerReplicator.cpp|19 18
Modified: src/qpid/ha/ConnectionObserver.cpp|7 3
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|8 4
Modified: src/qpid/ha/Primary.h|5 0
Modified: src/qpid/ha/QueueGuard.cpp|2 2
Modified: src/qpid/ha/QueueReplicator.cpp|6 3
Modified: src/qpid/ha/RemoteBackup.cpp|3 1
Modified: src/qpid/ha/RemoteBackup.h|8 3
Modified: src/qpid/ha/ReplicatingSubscription.cpp|2 2

Revision: 03b105ca86dfc579eee4bc79354994e0289d29e2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/06/2012 03:08:45
Message:
NO-JIRA: Correct template to be strictly standards comformant (work with clang 3.1 & probably gcc 4.7) #MsgLength=103


----
Modified: include/qpid/framing/Array.h|1 1

Revision: 891e22048e305aae3d6249c476947091ccb34bf5
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2012 04:02:39
Message:
NO-JIRA: CMakeLists.txt: moved reference to pthread from HA link list to linux specific section. #MsgLength=97


----
Modified: src/CMakeLists.txt|2 1

Revision: ac587d9167edcac8efcf8121ef6798c55cc0192a
Author: Alan Conway <aconway@apache.org>
Date: 15/06/2012 04:10:13
Message:
NO-JIRA: Fix build errors and warnings on windows in HA code. #MsgLength=62


----
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/QueueGuard.h|1 1

Revision: 24cf72f0d0b997d9464a1211f42f98ccc0375dfb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/06/2012 05:43:25
Message:
QPID-4049: Linux C++ broker crashes when client connects SSL with expired certificate #MsgLength=86


----
Modified: src/qpid/sys/ssl/SslHandler.cpp|2 0

Revision: 89fec8cd01163c633d98fc7985eaa67f453c88c5
Author: Ted Ross <tross@apache.org>
Date: 16/06/2012 02:35:34
Message:
QPID-4066 - Allow configuration to override the broker's federation tag #MsgLength=73


----
Modified: src/qpid/broker/Broker.cpp|11 4
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/tests/federation.py|3 0
Modified: src/tests/run_federation_tests|4 4

Revision: 1b87fd652745b8348ccddb08b49284a3cfb9c131
Author: Ted Ross <tross@apache.org>
Date: 16/06/2012 03:25:59
Message:
QPID-4070 - Minor internal-api changes for LinkRegistry and Bridge (in qpid::broker) #MsgLength=86


----
Modified: src/qpid/broker/Bridge.cpp|5 4
Modified: src/qpid/broker/Bridge.h|3 1
Modified: src/qpid/broker/LinkRegistry.cpp|4 2
Modified: src/qpid/broker/LinkRegistry.h|3 1

Revision: b671df4a09cd812f370fb5cae4e0a40c46cc323e
Author: Charles E. Rolke <chug@apache.org>
Date: 16/06/2012 03:32:42
Message:
QPID-4022 C++ Broker connection limits corrections for cluster. Never throw in event of shadow connection going over any limit and issue error messages describing cluster decisions. #MsgLength=183


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|63 32
Modified: src/qpid/broker/Connection.h|1 1

Revision: b5f1747a8b89cb03fb7981befa1ae611d22566d3
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 18/06/2012 07:57:36
Message:
QPID-4071: basic porting changes for solaris native compiler #MsgLength=61


----
Modified: managementgen/qmfgen/templates/Class.cpp|1 0
Modified: src/CMakeLists.txt|7 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1
Modified: src/qpid/console/ClassKey.cpp|1 0
Modified: src/qpid/framing/FieldTable.cpp|1 1
Modified: src/qpid/framing/Uuid.cpp|1 1
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|1 0
Modified: src/qpid/sys/unordered_map.h|2 0
Modified: src/tests/FieldTable.cpp|1 0
Modified: src/tests/TimerTest.cpp|2 0

Revision: 9a1d2cc85fcce695ca98d83d3124edd43ba0df5b
Author: Alan Conway <aconway@apache.org>
Date: 18/06/2012 21:31:09
Message:
NO-JIRA: Added missing EXTERN declaration on broker::Link::getRemoteAddress #MsgLength=76


----
Modified: src/qpid/broker/Link.h|1 1

Revision: f2fcc74946d0ef6ca3a1b172c4a0f85d39268ec2
Author: Gordon Sim <gsim@apache.org>
Date: 18/06/2012 23:19:27
Message:
QPID-4030: Check send rate actually achieved and report if it fails to match the desired rate #MsgLength=94


----
Modified: src/tests/qpid-latency-test.cpp|14 4

Revision: 2ef92a4379f2592a297241190f5d33d98880e769
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2012 02:02:04
Message:
NO-JIRA: Remove non-existing file HeldQueue from ha.mk. #MsgLength=56


----
Modified: src/ha.mk|1 2

Revision: f6ee101b17cd9a4f82ed3b44936fff8318b36398
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2012 02:08:09
Message:
QPID-3603: Minor cleanup and test improvements in HA code. #MsgLength=238


----
Modified: src/qpid/ha/HaBroker.cpp|1 0
Modified: src/qpid/ha/Primary.cpp|7 1
Modified: src/qpid/ha/QueueGuard.cpp|5 2
Modified: src/qpid/ha/RemoteBackup.cpp|7 4
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 2
Modified: src/qpid/ha/ReplicatingSubscription.h|0 1
Modified: src/qpid/ha/ReplicationTest.cpp|3 3
Modified: src/qpid/ha/ReplicationTest.h|2 2
Modified: src/qpid/ha/types.cpp|6 7
Modified: src/qpid/ha/types.h|11 11
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/ha_tests.py|8 6

Revision: 872e7513b29be307dec50c1e328627985773ac9c
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2012 02:08:19
Message:
QPID-3603: Fix & clean up in HA code. #MsgLength=369


----
Modified: src/qpid/ha/QueueGuard.cpp|18 6
Modified: src/qpid/ha/QueueGuard.h|7 7
Modified: src/qpid/ha/ReplicatingSubscription.cpp|5 6
Modified: src/qpid/ha/ReplicatingSubscription.h|10 5
Modified: src/tests/brokertest.py|7 7
Modified: src/tests/ha_tests.py|11 4

Revision: 6395efe4df004b1575ab7edb367088ee67421dab
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2012 02:28:25
Message:
NO-JIRA: Remove non-existing file windows/MemStat.cpp from ha.mk. #MsgLength=66


----
Modified: src/Makefile.am|0 1

Revision: 9a96c6214f22070c5915ef0c0dff8954d04210c9
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2012 04:43:19
Message:
QPID-4072: HA use backup messages in failover. #MsgLength=171


----
Modified: src/CMakeLists.txt|1 0
Modified: src/ha.mk|1 0
Modified: src/qpid/ha/QueueGuard.cpp|13 18
Modified: src/qpid/ha/QueueGuard.h|14 4
Added: src/qpid/ha/QueueRange.h|71 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|47 87
Modified: src/tests/brokertest.py|3 2
Modified: src/tests/ha_tests.py|2 3

Revision: 2b6ead9f544169b318932ce19d504e5ac1349b96
Author: Ken Giusti <kgiusti@apache.org>
Date: 19/06/2012 06:36:51
Message:
QPID-4063: allow configuration of source queue for exchange or dynamic routes #MsgLength=78


----
Modified: src/qpid/broker/Bridge.cpp|14 10
Modified: src/qpid/broker/Bridge.h|4 0
Modified: src/qpid/broker/Broker.cpp|5 1
Modified: src/tests/federation.py|164 1

Revision: 7e871e6d1d9065539f9471bf0d2cb339300a6e5e
Author: Ken Giusti <kgiusti@apache.org>
Date: 19/06/2012 06:37:12
Message:
QPID-4063: remove spurious whitespace introduced in last commit. #MsgLength=65


----
Modified: src/qpid/broker/Bridge.h|0 1
Modified: src/tests/federation.py|0 1

Revision: fe0772e951d29731ad998ba5bbc61395ff32096c
Author: Charles E. Rolke <chug@apache.org>
Date: 20/06/2012 04:07:26
Message:
QPID-3902 log category - force log statement to be in test category and to display [Test] with no external processing. #MsgLength=121


----
Modified: src/tests/logging.cpp|1 1

Revision: 05119c0b3cc7734b93fe783460bac6ddf9622053
Author: Gordon Sim <gsim@apache.org>
Date: 20/06/2012 19:10:36
Message:
QPID-4076: Patch from Andy Goldstein, don't use infinite credit on bridges with explicit acknolwedgements #MsgLength=106


----
Modified: src/qpid/broker/Bridge.cpp|3 3

Revision: d4584df0d0470fa67b7b1123cd29d1471d36e812
Author: Gordon Sim <gsim@apache.org>
Date: 20/06/2012 19:36:38
Message:
QPID-3333: Patch 0015 from Anthony Foglia; better exception translation #MsgLength=72


----
Modified: bindings/qpid/python/python.i|80 44

Revision: 6e584f115292546d91523468589e1c6cd7c2bfa2
Author: Alan Conway <aconway@apache.org>
Date: 22/06/2012 00:05:09
Message:
QPID-4082: cluster de-sync after broker restart & queue replication #MsgLength=1108


----
Modified: src/qpid/broker/SemanticState.h|2 0
Modified: src/qpid/cluster/Connection.cpp|2 1
Modified: src/qpid/cluster/Connection.h|1 1
Modified: src/qpid/cluster/UpdateClient.cpp|2 1
Modified: xml/cluster.xml|1 0

Revision: fbd1f424d7864e2a6a3307119ff38e9667cdb97e
Author: Charles E. Rolke <chug@apache.org>
Date: 22/06/2012 02:34:02
Message:
NO-JIRA 0.18 release - add an EXTRA_DIST file required for windows builds #MsgLength=74


----
Modified: src/Makefile.am|1 0

Revision: 964953e14f15569067e853e1c71fb0104bb5bd98
Author: Gordon Sim <gsim@apache.org>
Date: 22/06/2012 21:18:05
Message:
QPID-4075: Raise delete event for autodeleted queues also #MsgLength=58


----
Modified: src/qpid/broker/Queue.cpp|13 7
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SemanticState.cpp|3 2
Modified: src/qpid/broker/SemanticState.h|2 0
Modified: src/qpid/broker/SessionAdapter.cpp|5 2
Modified: src/qpid/broker/SessionAdapter.h|3 0
Modified: src/tests/qpid-receive.cpp|5 0

Revision: aa751b08c844d3ba6629cf5315d644b036f15b6b
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2012 02:39:56
Message:
QPID-3849: Client connection breaks broker-to-broker cluster SASL authentication #MsgLength=425


----
Modified: src/qpid/broker/Connection.cpp|6 3
Modified: src/qpid/broker/Connection.h|7 2
Modified: src/qpid/broker/ConnectionHandler.cpp|4 4
Modified: src/qpid/broker/ConnectionHandler.h|2 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|8 4
Modified: src/qpid/broker/SaslAuthenticator.h|1 1
Modified: src/qpid/cluster/Connection.cpp|7 4
Modified: src/qpid/cluster/Connection.h|5 3
Modified: src/tests/cluster_tests.py|12 0
Modified: src/tests/sasl_test_setup.sh|1 1

Revision: 2285ab22e0e3ad5d93dd63e94c30e53fb0198259
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2012 03:28:20
Message:
QPID-4078: Fix primary self-connections in long running test. #MsgLength=438


----
Modified: src/qpid/broker/Link.cpp|3 3
Modified: src/qpid/ha/Backup.cpp|17 17
Modified: src/qpid/ha/Backup.h|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|16 16
Modified: src/qpid/ha/BrokerReplicator.h|1 1
Modified: src/qpid/ha/HaBroker.cpp|4 1
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/ha/Primary.cpp|2 2
Modified: src/tests/ha_tests.py|1 1

Revision: 1fa99f538a71ee2c063463beadf9ae48e5afe4ce
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2012 03:28:30
Message:
NO-JIRA: Cleanup in HA code. #MsgLength=206


----
Modified: src/qpid/ha/BrokerReplicator.cpp|33 39
Modified: src/qpid/ha/HaBroker.cpp|0 16
Modified: src/qpid/ha/HaBroker.h|0 8
Modified: src/qpid/ha/Primary.h|7 3
Modified: src/qpid/ha/QueueRange.h|1 1

Revision: 110fd191b8cbae94a6d276c11cec47d2325ee64a
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2012 03:28:42
Message:
NO-JIRA: Simplify locking and remove member-update callback in HA code. #MsgLength=268


----
Modified: src/qpid/ha/Backup.cpp|2 1
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|44 8
Modified: src/qpid/ha/HaBroker.h|7 2
Modified: src/qpid/ha/Membership.cpp|1 30
Modified: src/qpid/ha/Membership.h|2 10
Modified: src/qpid/ha/Primary.cpp|3 3

Revision: cccde68a2299db620d267c6f235a4a3e955b385f
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2012 04:07:19
Message:
NO-JIRA: Trivial code cleanup, removing outdated FIXME comments. #MsgLength=65


----
Modified: src/CMakeLists.txt|0 1
Modified: src/ha.mk|0 1
Modified: src/qpid/ha/BackupConnectionExcluder.h|0 1
Modified: src/qpid/ha/BrokerReplicator.cpp|1 2
Modified: src/qpid/ha/ConnectionObserver.cpp|0 1
Deleted: src/qpid/ha/PrimaryConnectionMonitor.h|0 61
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Modified: src/qpid/ha/RemoteBackup.cpp|0 1

Revision: 1225f9201f3dffe911917301204b8b3a032bbbf3
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2012 21:38:07
Message:
NO-JIRA: Fix build error on windows, introduced in r1352992 #MsgLength=60


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 1

Revision: db99c7e598ae6a3245a5979d86e3129b076666b5
Author: Charles E. Rolke <chug@apache.org>
Date: 26/06/2012 22:50:44
Message:
QPID-3902 force [Test] log category into test instance #MsgLength=55


----
Modified: src/tests/logging.cpp|1 1

Revision: fef72f9b3387e245e264ceb46ffba0bd39a8b44e
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2012 04:34:57
Message:
NO-JIRA: Make qmf/BrokerImportExport.h header public #MsgLength=222


----
Renamed: include/qmf/BrokerImportExport.h [from src/qmf/BrokerImportExport.h]|0 0
Modified: src/CMakeLists.txt|1 0
Modified: src/qmf.mk|2 2

Revision: bd664a24d7b6948f731720e99bc230c47f94cd0c
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2012 04:42:18
Message:
NO-JIRA: ha_tests.py raise exception for errors in qpid-ha #MsgLength=197


----
Modified: src/tests/ha_tests.py|5 2

Revision: c9805c4419e413f891654859766be9fb270b7379
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2012 22:20:25
Message:
NO-JIRA: Get rid of noisy errors from rejected connections. #MsgLength=351


----
Modified: src/qpid/ha/BackupConnectionExcluder.h|2 3
Modified: src/qpid/ha/ConnectionObserver.cpp|2 3

Revision: 4e49ba25c7c3b82d61291cf0e0a23f9776dbda1c
Author: Alan Conway <aconway@apache.org>
Date: 29/06/2012 03:55:40
Message:
NO-JIRA: Add missing EXTERN declarations needed by HA module. #MsgLength=62


----
Modified: src/qpid/broker/Connection.h|10 6

Revision: a496ae3e323de54d20a00b8bcfa9afe24af3cd3c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/06/2012 04:08:04
Message:
QPID-4021: Badly behaved clients can still clog up the broker Ameliorate the problem by only turning timeout off after receiving 3 frames from the sender. This avoids an unauthenticed client causing a DoS by just hanging before completing authentication in most cases. This is far from a good fix, but should mostly avoid the issue until it can be fixed in a neat way. #MsgLength=369


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|11 2
Modified: src/qpid/sys/AsynchIOHandler.h|1 0

Revision: ef51fd72dbe5d16f52198b85019be3b57cd02fdc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/07/2012 11:48:05
Message:
NO-JIRA: Fixed erroneous use of operator+ operator+(const char*, int) was used where operator+(std::string&, std::string&) was meant #MsgLength=133


----
Modified: src/qpid/log/posix/SinkOptions.cpp|4 1

Revision: bac9d2f38ef6864b711b055489baa4b8b35f2c1a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/07/2012 11:48:13
Message:
NO-JIRA: Fixed struct/class warning #MsgLength=36


----
Modified: include/qmf/posix/EventNotifier.h|1 1

Revision: f1e3c0b45475c914279ddac0fd819ed2fbff0e41
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2012 23:01:56
Message:
NO-JIRA: Typo in previous fix (r1352646) #MsgLength=41


----
Modified: src/Makefile.am|1 1

Revision: 78664aa660421f25f1c0a886a13fcf3ed53e0089
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2012 04:54:25
Message:
NO-JIRA: Removed dead code. #MsgLength=28


----
Modified: src/qpid/cluster/UpdateClient.cpp|0 8

Revision: c4528f430258cee6e4ac3ba4f4631a463c77803e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/07/2012 05:10:28
Message:
NO-JIRA: Don't run the IPv6 test unless the machine has global IPv6 addresses - The qpid code deliberately won't use IPv6 unless it has IPv6 configured on the machine, if it's not fully there don't try to test it. #MsgLength=216


----
Modified: src/tests/ipv6_test|13 0

Revision: c9244a77d0d2fe4eb1562f73ed63c091b19c0bd9
Author: Alan Conway <aconway@apache.org>
Date: 05/07/2012 03:04:38
Message:
NO-JIRA: Trivial fix for crash-on-exit bug. #MsgLength=296


----
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/ha/Primary.cpp|0 1

Revision: 781304e93cb92e2ab867e7ac0b7ac717521967f8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 03:38:26
Message:
NO-JIRA: Fix for potential Timer deadlock issue: - Previously we used a mutex to prevent cancelling a TimerTask whilst it was still executing from within its callback in another thread. #MsgLength=637


----
Modified: src/qpid/sys/Timer.cpp|46 9
Modified: src/qpid/sys/Timer.h|5 2

Revision: 259431a31ec92d2c2f0facb57232f0734fdf3431
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:57:25
Message:
QPID-4085: HA message-loss race condition, handling replication event after response. #MsgLength=406


----
Modified: src/qpid/ha/BrokerReplicator.cpp|12 7
Modified: src/qpid/ha/BrokerReplicator.h|1 0
Modified: src/qpid/ha/Primary.cpp|4 0
Modified: src/qpid/ha/QueueReplicator.cpp|1 1

Revision: d7323a932137896d559290f1510ef596e223e1a5
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:57:37
Message:
QPID-4085: HA failover test: client failure: "connection not yet open" #MsgLength=266


----
Modified: src/qpid/client/Connection.cpp|1 1

Revision: d6763857661ce9e71d32cd4a8fbd4e5f34e93dbb
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:57:46
Message:
QPID-4085: HA add missing lock in HaBroker::getKnownBrokers() #MsgLength=62


----
Modified: src/qpid/ha/HaBroker.cpp|1 0

Revision: 065fed49b3a2fe890be5ba62f91f7f027ac7696d
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:57:56
Message:
QPID-4085: HA failover test: wait for all receivers to be connected. #MsgLength=69


----
Modified: src/tests/ha_tests.py|13 12

Revision: 24318a9258c7b89a715d4715caa2e05e222452dc
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:58:07
Message:
NO-JIRA: Remove dead code. #MsgLength=27


----
Modified: src/CMakeLists.txt|0 1
Modified: src/ha.mk|0 1
Modified: src/qpid/ha/BrokerReplicator.h|0 1
Deleted: src/qpid/ha/Counter.h|0 57
Modified: src/qpid/ha/QueueReplicator.cpp|0 1
Modified: src/qpid/ha/QueueReplicator.h|0 2

Revision: 65b1cc65e17a268ea489934076323dfbc2d506c8
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2012 03:58:17
Message:
QPID-4085: HA review and fix lock scopes. #MsgLength=42


----
Modified: src/qpid/ha/Backup.cpp|17 14
Modified: src/qpid/ha/HaBroker.cpp|33 27
Modified: src/qpid/ha/HaBroker.h|3 4

Revision: 65ee0e591f9f22fbdb4099c1d80c35572d61e176
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 05:41:52
Message:
QPID-4101: Fixes building the Ruby language bindings for Ruby 1.9 #MsgLength=117


----
Modified: bindings/qmf/ruby/CMakeLists.txt|2 3
Modified: bindings/qmf2/ruby/CMakeLists.txt|2 3
Modified: bindings/qpid/ruby/CMakeLists.txt|3 2

Revision: e13350208e3c81ef86b85bbed5f66709e9477814
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 23:29:47
Message:
NO-JIRA: Fix previous TimerTask fix to workaround stupid windows.h symbol corruption #MsgLength=85


----
Modified: src/qpid/sys/Timer.cpp|2 2
Modified: src/qpid/sys/Timer.h|1 1

Revision: 5b65ecd25bd348913c768d6e0f2aee39e852be3f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 23:41:17
Message:
NO-JIRA: Changed VariantImpl to use a union more sensibly and avoid ugly and potentially buggy reinterpret_casts. #MsgLength=114


----
Modified: src/qpid/types/Variant.cpp|33 39

Revision: 4c4d36dda86c3c541c852834e44d2d8d4bb4dbe5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 23:41:24
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Encode Variants directly without translating to FieldTables #MsgLength=138


----
Modified: src/qpid/amqp_0_10/Codecs.cpp|224 81

Revision: be0a9f5dc3a0201fb45fba4187040c673ee3392e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2012 23:41:33
Message:
QPID-3883: Using application headers in messages causes a very large slowdown Add subject to outgoing messsage before encoding it to save a round trip decode-encode. #MsgLength=166


----
Modified: include/qpid/amqp_0_10/Codecs.h|2 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|44 1
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|9 6
Modified: src/qpid/client/amqp0_10/OutgoingMessage.h|1 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|4 4
Modified: src/qpid/client/amqp0_10/SenderImpl.h|6 6

Revision: 3c3ec4dd3e5b86090642eb6f9098059ac09b0669
Author: Gordon Sim <gsim@apache.org>
Date: 07/07/2012 02:01:07
Message:
QPID-4117: honour alternate-exchange option specified within x-declare for a link #MsgLength=82


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|6 2
Modified: src/tests/MessagingSessionTests.cpp|18 0

Revision: ebd3ebf385408281e79c16b83a8c86a878ec56f3
Author: Gordon Sim <gsim@apache.org>
Date: 09/07/2012 20:13:52
Message:
QPID-3757: clean up demux when subscription manager is destroyed #MsgLength=65


----
Modified: src/qpid/client/SubscriptionManagerImpl.cpp|10 0
Modified: src/qpid/client/SubscriptionManagerImpl.h|2 1

Revision: 6f7b0008b52811e4db109149e45e0cf8d961d61b
Author: Justin Ross <jross@apache.org>
Date: 10/07/2012 00:00:46
Message:
QPID-4111: Move trunk version numbers to 0.19 #MsgLength=46


----
Modified: bindings/qpid/ruby/README.rdoc|1 1

Revision: c9cdd227af6edad24de4807740802811a331f3b2
Author: Alan Conway <aconway@apache.org>
Date: 10/07/2012 05:35:38
Message:
QPID-4118: HA does not work with authentication and authorization. #MsgLength=277


----
Modified: src/qpid/broker/ConnectionHandler.cpp|3 1
Modified: src/qpid/broker/Link.h|5 0
Modified: src/qpid/ha/Backup.cpp|2 2
Modified: src/qpid/ha/BrokerReplicator.cpp|24 16
Modified: src/qpid/ha/BrokerReplicator.h|2 1
Modified: src/tests/ha_tests.py|86 11

Revision: 507f855f5ee03ef2011d86f21e1498a3767b7695
Author: Gordon Sim <gsim@apache.org>
Date: 11/07/2012 03:22:54
Message:
QPID-4127: Ensure SystemInfo::isLocalHost() returns true for ::1 #MsgLength=65


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|5 1

Revision: 9be4ddeb0792ee787150f044356846fed1eada03
Author: Alan Conway <aconway@apache.org>
Date: 11/07/2012 04:03:38
Message:
QPID-4126: HA primary times out expected backups. #MsgLength=435


----
Modified: src/qpid/ha/HaPlugin.cpp|2 0
Modified: src/qpid/ha/Primary.cpp|54 15
Modified: src/qpid/ha/Primary.h|10 1
Modified: src/qpid/ha/RemoteBackup.cpp|8 8
Modified: src/qpid/ha/RemoteBackup.h|10 1
Modified: src/qpid/ha/Settings.h|2 1
Modified: src/tests/ha_tests.py|26 7

Revision: f9ba8a8f29fcd1a0405d0dd6b392f68cf8f504c6
Author: Alan Conway <aconway@apache.org>
Date: 11/07/2012 04:07:16
Message:
QPID-4128: HA should not use amq.failover for replication links #MsgLength=409


----
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|2 1

Revision: d61ae6e3371a3f7380ac9eaa1d8be28d666e1e79
Author: Charles E. Rolke <chug@apache.org>
Date: 11/07/2012 22:55:00
Message:
QPID-4129 Cluster connection leak when auth failure. This patch closes local connection, releases broker::Connection, and fixes ConnectionCounter resource accounting. #MsgLength=168


----
Modified: src/qpid/cluster/Connection.cpp|2 0

Revision: 7b3448bdd39181afffcbcc32aa52a5e032bd4d32
Author: Alan Conway <aconway@apache.org>
Date: 11/07/2012 23:02:36
Message:
QPID-4128: Remove use of intrusive_ptr::reset, not available in older boost versions. #MsgLength=86


----
Modified: src/qpid/ha/Primary.cpp|1 1

Revision: 3e505b30b57d96e12573c35863f12987c6fca4da
Author: Alan Conway <aconway@apache.org>
Date: 12/07/2012 00:33:57
Message:
NO-JIRA: Fixed compile error on RHEL5: double doesn't convert to int64_t #MsgLength=73


----
Modified: src/qpid/ha/Primary.cpp|1 1

Revision: f4952cecf3134bc7ad4a891aef3e16164dc799d0
Author: Charles E. Rolke <chug@apache.org>
Date: 13/07/2012 23:08:56
Message:
QPID-4079 log entries track managed object life cycles #MsgLength=57


----
Modified: include/qpid/log/Statement.h|3 2
Modified: managementgen/qmf-gen|7 0
Modified: managementgen/qmfgen/generate.py|3 0
Modified: managementgen/qmfgen/templates/Class.cpp|21 3
Modified: src/CMakeLists.txt|1 1
Modified: src/Makefile.am|1 1
Modified: src/qpid/broker/Broker.cpp|30 1
Modified: src/qpid/broker/Connection.cpp|6 0
Modified: src/qpid/broker/ConnectionHandler.cpp|21 5
Modified: src/qpid/broker/Queue.cpp|3 0
Modified: src/qpid/broker/SessionAdapter.cpp|23 0
Modified: src/qpid/log/Statement.cpp|1 1

Revision: 1c3070ec4bbc9aaef2d638cc2559783798e8f6f2
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2012 02:33:23
Message:
QPID-4133: (Jason Dillaman) Non-responsive peer in federated link can result in entire cluster shutdown #MsgLength=171


----
Modified: src/qpid/broker/Link.cpp|3 1

Revision: c5cc165e941d1d11a5f039894533aaeee4395560
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2012 02:33:32
Message:
QPID-4136: HA sporadic failures in ha_tests #MsgLength=166


----
Modified: src/qpid/ha/Settings.h|1 1
Modified: src/tests/ha_tests.py|5 1

Revision: e0136bf3e3035cadc7877b6ed63b715aacb006a0
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2012 02:45:23
Message:
QPID-4107 HA does not replicate alternate-exchange #MsgLength=256


----
Modified: src/CMakeLists.txt|1 0
Modified: src/ha.mk|1 0
Added: src/qpid/ha/AlternateExchangeSetter.h|73 0
Modified: src/qpid/ha/BrokerReplicator.cpp|103 53
Modified: src/qpid/ha/BrokerReplicator.h|17 0
Modified: src/tests/ha_tests.py|49 2

Revision: 7de85d1795e466e62c12f1ab495f577c8fb0314f
Author: Charles E. Rolke <chug@apache.org>
Date: 14/07/2012 03:45:59
Message:
QPID-4079 log categories for correlation. Design description. #MsgLength=64


----
Added: design_docs/log-model-category-for-correlation.txt|112 0

Revision: 43b0a52b8276c01fa9436bb36082693716f6c1db
Author: Alan Conway <aconway@apache.org>
Date: 14/07/2012 04:48:05
Message:
QPID-4138: HA sporadic failure in ha_tests #MsgLength=274


----
Modified: src/qpid/ha/BrokerReplicator.cpp|0 1
Modified: src/qpid/ha/HaBroker.cpp|1 0
Modified: src/qpid/ha/Membership.cpp|4 0
Modified: src/qpid/ha/Membership.h|3 0
Modified: src/tests/ha_tests.py|0 1

Revision: df3e6ce269a7ffd5b8039f96c933887c23b7af3a
Author: Charles E. Rolke <chug@apache.org>
Date: 15/07/2012 18:17:26
Message:
QPID-3892 C++ broker add routing key wildcard support to Acl 'publish exchange' lookups. Although this patch does not address the original issue's regex request it provides the desired functionality in a more comprehensive manner. #MsgLength=586


----
Modified: src/qpid/acl/AclData.cpp|37 44
Modified: src/qpid/acl/AclData.h|32 6
Modified: src/qpid/acl/AclReader.cpp|24 5
Modified: src/qpid/acl/AclReader.h|1 0
Modified: src/qpid/acl/AclValidator.cpp|1 1
Modified: src/qpid/acl/AclValidator.h|1 1
Modified: src/tests/acl.py|119 1

Revision: f77c93cff0376a0693faa75aeb51dc963f4c6440
Author: Charles E. Rolke <chug@apache.org>
Date: 15/07/2012 18:43:23
Message:
QPID-4107 r1361334 typo in file name #MsgLength=37


----
Modified: src/CMakeLists.txt|1 1

Revision: cd967157d1b22cbbeaed5441f8518bd44d2c7f45
Author: Charles E. Rolke <chug@apache.org>
Date: 16/07/2012 00:52:47
Message:
QPID-4107 r1361334 type in file name #MsgLength=37


----
Modified: src/ha.mk|1 1

Revision: b39f334c121b2b33eaca39ab487e991d20a10424
Author: Charles E. Rolke <chug@apache.org>
Date: 16/07/2012 20:58:29
Message:
QPID-3892 add missing file #MsgLength=27


----
Added: src/qpid/acl/AclTopicMatch.h|89 0

Revision: cf28b810896a549661703698976990d75baf092b
Author: Alan Conway <aconway@apache.org>
Date: 16/07/2012 23:46:30
Message:
NO-JIRA: Fix typo in make files. #MsgLength=33


----
Modified: src/ha.mk|1 1

Revision: ab73b5234e82a98f6147936b4347707d20d0ece7
Author: Alan Conway <aconway@apache.org>
Date: 18/07/2012 01:39:54
Message:
QPID-4144 HA broker deadlocks on broker::QueueRegistry lock and ha::Primary lock #MsgLength=587


----
Modified: src/qpid/broker/QueueRegistry.cpp|10 11
Modified: src/qpid/broker/QueueRegistry.h|7 11
Modified: src/qpid/ha/Primary.cpp|5 11
Modified: src/qpid/ha/RemoteBackup.cpp|11 12
Modified: src/qpid/ha/RemoteBackup.h|11 7

Revision: 48292b9892d00fe2e04ba05b60d6fff6e44e4cf0
Author: Alan Conway <aconway@apache.org>
Date: 18/07/2012 04:29:57
Message:
NO-JIRA: Added missing EXTERN statements causing build breakage. #MsgLength=65


----
Modified: src/qpid/broker/Exchange.h|3 2

Revision: b29ff845fdf56301a446491bb264e318cf1d13cb
Author: Alan Conway <aconway@apache.org>
Date: 18/07/2012 05:23:12
Message:
QPID-4145: HA Minor fixes to recovery #MsgLength=235


----
Modified: src/qpid/ha/BrokerReplicator.cpp|3 2
Modified: src/qpid/ha/HaBroker.cpp|10 13
Modified: src/qpid/ha/Primary.cpp|17 4
Modified: src/qpid/ha/QueueGuard.cpp|0 2
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Modified: src/qpid/ha/RemoteBackup.cpp|10 3
Modified: src/tests/ha_tests.py|3 2

Revision: 744ed254c8af27b0b135a12cc4cfa56002e05093
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2012 00:53:52
Message:
QPID-4148: HA Not setting initial queues for new RemoteBackups #MsgLength=253


----
Modified: src/qpid/ha/Primary.cpp|10 5
Modified: src/qpid/ha/RemoteBackup.cpp|6 6
Modified: src/qpid/ha/RemoteBackup.h|5 3

Revision: f4299ca6d9350d956e92831acb51b822b8c0803b
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2012 03:06:02
Message:
NO-JIRA: HA Minor logging improvements. #MsgLength=40


----
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|2 3

Revision: 3e76dbf4a98a7cfe98ea7ec6a0e4f3b1826bf02b
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2012 04:10:49
Message:
NO-JIRA: Removed use of boost::bind which was causing build failure on windows. #MsgLength=80


----
Modified: src/qpid/ha/RemoteBackup.cpp|2 2

Revision: ad0006002e67ede84bd35feee4d443b200909d90
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2012 03:32:59
Message:
QPID-4156: HA close window for clients to connect before HA broker is initialized #MsgLength=534


----
Modified: src/qpid/ha/HaBroker.cpp|19 7
Modified: src/qpid/ha/HaBroker.h|4 0
Modified: src/qpid/ha/HaPlugin.cpp|8 3

Revision: 208d159127f00136b7eeb8626324f8b7771a0bcc
Author: Alan Conway <aconway@apache.org>
Date: 20/07/2012 04:18:39
Message:
QPID-4158: HA transition to CATCHUP status too early. #MsgLength=367


----
Modified: src/qpid/ha/BrokerReplicator.cpp|4 16

Revision: db7a63da467db6bf8ffbbdbdf6fa20b199e7aa1a
Author: Michael Goulish <mgoulish@apache.org>
Date: 23/07/2012 22:29:19
Message:
NO-JIRA: fix spurious diff when comparing cluster log files. #MsgLength=62


----
Modified: src/tests/cluster_test_logs.py|2 1

Revision: 6d6826233373eb8fce1fe4cb87011142f8865c54
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2012 05:29:01
Message:
QPID-4159: HA Missing messages in failover test. #MsgLength=465


----
Modified: src/qpid/ha/QueueGuard.cpp|4 3
Modified: src/qpid/ha/QueueGuard.h|5 3
Modified: src/qpid/ha/QueueRange.h|18 4

Revision: 6bc5b3b24c53530a02daa8b69900788977907b1e
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2012 05:29:08
Message:
QPID-4163: Deadlock between LinkRegistry and TimerTask locks #MsgLength=208


----
Modified: src/qpid/broker/Link.cpp|11 9
Modified: src/qpid/broker/LinkRegistry.cpp|1 1

Revision: 5161116a79a5f09dc0488577460b0c2c0253ffe8
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2012 05:29:17
Message:
NO-JIRA: Fix typos, update comments, update log messages. #MsgLength=58


----
Modified: src/qpid/broker/Consumer.h|2 0
Modified: src/qpid/ha/HaBroker.cpp|1 0
Modified: src/qpid/ha/HaPlugin.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|7 3
Modified: src/qpid/ha/QueueGuard.cpp|1 1
Modified: src/qpid/ha/QueueGuard.h|13 6
Modified: src/qpid/ha/ReplicatingSubscription.cpp|6 3
Modified: src/tests/ha_tests.py|1 1

Revision: 9fd26271b5725e67c506e0abf18f1b6181fdd7e8
Author: Alan Conway <aconway@apache.org>
Date: 25/07/2012 03:18:14
Message:
QPID-4165: Fix unsused variable warnings when compiling with -DNDEBUG #MsgLength=70


----
Modified: src/qpid/amqp_0_10/Codecs.cpp|3 3
Modified: src/qpid/broker/LinkRegistry.cpp|1 1
Modified: src/qpid/broker/MessageMap.cpp|1 1

Revision: d945d8f78427e10d247ce39c17051300179a2af9
Author: Ted Ross <tross@apache.org>
Date: 26/07/2012 22:38:53
Message:
QPID-3175 - Added SSL/x.509-auth capability to Python clients and Python tools #MsgLength=80


----
Added: src/tests/ping_broker|127 0
Modified: src/tests/ssl_test|5 0

Revision: c2e0fc795790016e7b977786a93b0f4bb3101b7d
Author: Alan Conway <aconway@apache.org>
Date: 27/07/2012 04:08:29
Message:
QPID-4159: HA missing messages in failover test. #MsgLength=453


----
Modified: src/qpid/ha/HaBroker.cpp|15 24
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/RemoteBackup.cpp|9 1
Modified: src/qpid/ha/RemoteBackup.h|4 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|6 5
Modified: src/tests/ha_tests.py|4 2

Revision: d234959daee91d9c61060feae914aa208e29c758
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2012 03:20:41
Message:
QPID-4175: HA code rationalize logging #MsgLength=393


----
Modified: src/qpid/ha/Backup.cpp|12 0
Modified: src/qpid/ha/Backup.h|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|5 6
Modified: src/qpid/ha/BrokerReplicator.h|2 0
Modified: src/qpid/ha/HaBroker.cpp|11 7
Modified: src/qpid/ha/Primary.cpp|3 3

Revision: 00c7b77ece8eee4ace578ea8d511998eca1639b1
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2012 21:58:36
Message:
QPID-4176: HA Error handling #MsgLength=273


----
Modified: src/qpid/ha/BrokerReplicator.cpp|3 1
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/QueueReplicator.cpp|5 2
Modified: src/qpid/ha/QueueReplicator.h|3 1

Revision: 47a9f446b28f8a644608e352c568e6234d4046d1
Author: Alan Conway <aconway@apache.org>
Date: 01/08/2012 00:11:44
Message:
QPID-4176: HA Error handling #MsgLength=129


----
Modified: src/qpid/ha/ConnectionObserver.cpp|28 16
Modified: src/qpid/ha/Primary.cpp|24 18
Modified: src/qpid/ha/ReplicatingSubscription.cpp|14 8
Modified: src/qpid/ha/ReplicatingSubscription.h|0 1

Revision: cef124fbc875a75e1546fcdba0235725bcb08ce3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/08/2012 01:36:47
Message:
NO-JIRA: Remove some extra code left in by merge #MsgLength=49


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|0 2

Revision: 2e8b777baa89ee6714a6fa58f0e09e905c35489e
Author: Alan Conway <aconway@apache.org>
Date: 01/08/2012 04:57:30
Message:
QPID-4179: Cluster does not replicate exclusive status of queues. #MsgLength=66


----
Modified: src/qpid/broker/Queue.cpp|2 1
Modified: src/qpid/cluster/UpdateClient.cpp|4 1

Revision: 3c9a735b0d67c36762899689c366be99472adca3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/08/2012 05:39:27
Message:
NO-JIRA: Removed unused return parameter #MsgLength=41


----
Modified: src/qpid/client/TCPConnector.cpp|2 3
Modified: src/qpid/client/TCPConnector.h|1 1

Revision: 4a4aaab786efa48794410ce37c85d73b44923252
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2012 02:06:36
Message:
QPID-4176: HA Error handling #MsgLength=92


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|2 0

Revision: 0b5e0e3e158aa7c5dfd327523bec936af93ed556
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/08/2012 06:24:15
Message:
NO-JIRA: Remove unused return parameter part II - Windows #MsgLength=58


----
Modified: src/qpid/client/windows/SslConnector.cpp|3 3

Revision: 2c5ae4a3af174e525cc024d40e84dfad483ec97d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/08/2012 04:17:03
Message:
Remove static initialisation from EpollPoller - It's better practice in a library not to rely on any globals or static initialisation. - This should also fix QPID-2367 #MsgLength=170


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|3 5

Revision: dbbbdee044dd5e6b17a1edefd666e28d5229e287
Author: Michael Goulish <mgoulish@apache.org>
Date: 07/08/2012 04:04:58
Message:
QPID-4194 : re-enable queue events in CATCHUP state pavel moravec's fix -- without this, newbie broker with a replication queue will not replicate messages received during CATCHUP. #MsgLength=185


----
Modified: src/qpid/cluster/Cluster.cpp|7 1

Revision: e483b480bc43ef0aa020d35965b96752adae792b
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2012 04:44:58
Message:
QPID-4191: HA removing self address breaks if a VIP is used. #MsgLength=765


----
Modified: src/qpid/ha/Backup.cpp|5 27
Modified: src/qpid/ha/Backup.h|0 2
Modified: src/qpid/ha/BackupConnectionExcluder.h|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|2 1
Modified: src/qpid/ha/ConnectionObserver.cpp|12 10
Modified: src/qpid/ha/ConnectionObserver.h|3 1
Modified: src/qpid/ha/HaBroker.cpp|9 5
Modified: src/qpid/ha/HaBroker.h|2 0
Modified: src/qpid/ha/Primary.cpp|6 6
Modified: src/qpid/ha/RemoteBackup.cpp|1 1

Revision: 5b601a63952ed0aadd4285db6ca239a22e79b862
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2012 23:50:58
Message:
NO-JIRA: HA only expect READY backups in recovery. #MsgLength=314


----
Modified: src/qpid/ha/Membership.cpp|1 1
Modified: src/qpid/ha/Membership.h|1 1
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/tests/ha_tests.py|5 3

Revision: ea9784b633c5177a8ed71d9c8cc15a41a0b01c31
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2012 01:50:36
Message:
NO-JIRA: Trivial correction to log message. #MsgLength=107


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1

Revision: c3575b24a1e2437b2b32525ee046f1a561ed8729
Author: Ken Giusti <kgiusti@apache.org>
Date: 08/08/2012 22:46:04
Message:
QPID-4193: prevent race when connecting a multi-homed federated cluster. #MsgLength=73


----
Modified: src/qpid/broker/LinkRegistry.cpp|13 1
Modified: src/qpid/broker/LinkRegistry.h|1 0
Modified: src/qpid/cluster/Connection.cpp|4 33
Modified: src/qpid/cluster/UpdateClient.cpp|1 3

Revision: e83198e1bd06fe1aec7a40eed313b4f4b2b8efb8
Author: Gordon Sim <gsim@apache.org>
Date: 10/08/2012 01:15:15
Message:
QPID-4200: Add exception handling to qpid::client::AutoCancel destructor #MsgLength=73


----
Modified: include/qpid/client/SubscriptionManager.h|2 2
Modified: src/qpid/client/SubscriptionManagerImpl.cpp|10 0

Revision: c63f152dbd3bc3f0d1ea6c4ec130ceb8a366bb61
Author: Gordon Sim <gsim@apache.org>
Date: 10/08/2012 18:49:46
Message:
Remove cluster (prerequisite for QPID-4178) #MsgLength=44


----
Modified: CMakeLists.txt|0 1
Modified: configure.ac|0 48
Modified: src/CMakeLists.txt|2 6
Modified: src/Makefile.am|1 4
Deleted: src/cluster.cmake|0 175
Deleted: src/cluster.mk|0 115
Deleted: src/qpid/cluster/Cluster.cpp|0 1300
Deleted: src/qpid/cluster/Cluster.h|0 332
Deleted: src/qpid/cluster/ClusterMap.cpp|0 178
Deleted: src/qpid/cluster/ClusterMap.h|0 106
Deleted: src/qpid/cluster/ClusterPlugin.cpp|0 124
Deleted: src/qpid/cluster/ClusterSettings.h|0 51
Deleted: src/qpid/cluster/ClusterTimer.cpp|0 144
Deleted: src/qpid/cluster/ClusterTimer.h|0 64
Deleted: src/qpid/cluster/Connection.cpp|0 849
Deleted: src/qpid/cluster/Connection.h|0 302
Deleted: src/qpid/cluster/ConnectionCodec.cpp|0 86
Deleted: src/qpid/cluster/ConnectionCodec.h|0 82
Deleted: src/qpid/cluster/Cpg.cpp|0 280
Deleted: src/qpid/cluster/Cpg.h|0 236
Deleted: src/qpid/cluster/CredentialsExchange.cpp|0 95
Deleted: src/qpid/cluster/CredentialsExchange.h|0 72
Deleted: src/qpid/cluster/Decoder.cpp|0 65
Deleted: src/qpid/cluster/Decoder.h|0 59
Deleted: src/qpid/cluster/Dispatchable.h|0 52
Deleted: src/qpid/cluster/ErrorCheck.cpp|0 155
Deleted: src/qpid/cluster/ErrorCheck.h|0 90
Deleted: src/qpid/cluster/Event.cpp|0 134
Deleted: src/qpid/cluster/Event.h|0 116
Deleted: src/qpid/cluster/EventFrame.cpp|0 41
Deleted: src/qpid/cluster/EventFrame.h|0 60
Deleted: src/qpid/cluster/ExpiryPolicy.cpp|0 41
Deleted: src/qpid/cluster/ExpiryPolicy.h|0 59
Deleted: src/qpid/cluster/FailoverExchange.cpp|0 109
Deleted: src/qpid/cluster/FailoverExchange.h|0 73
Deleted: src/qpid/cluster/InitialStatusMap.cpp|0 238
Deleted: src/qpid/cluster/InitialStatusMap.h|0 95
Deleted: src/qpid/cluster/LockedConnectionMap.h|0 65
Deleted: src/qpid/cluster/McastFrameHandler.h|0 46
Deleted: src/qpid/cluster/MemberSet.cpp|0 60
Deleted: src/qpid/cluster/MemberSet.h|0 45
Deleted: src/qpid/cluster/Multicaster.cpp|0 105
Deleted: src/qpid/cluster/Multicaster.h|0 92
Deleted: src/qpid/cluster/NoOpConnectionOutputHandler.h|0 47
Deleted: src/qpid/cluster/Numbering.h|0 68
Deleted: src/qpid/cluster/OutputInterceptor.cpp|0 125
Deleted: src/qpid/cluster/OutputInterceptor.h|0 79
Deleted: src/qpid/cluster/PollableQueue.h|0 89
Deleted: src/qpid/cluster/PollerDispatch.cpp|0 69
Deleted: src/qpid/cluster/PollerDispatch.h|0 60
Deleted: src/qpid/cluster/ProxyInputHandler.h|0 56
Deleted: src/qpid/cluster/Quorum.h|0 32
Deleted: src/qpid/cluster/Quorum_cman.cpp|0 105
Deleted: src/qpid/cluster/Quorum_cman.h|0 65
Deleted: src/qpid/cluster/Quorum_null.h|0 42
Deleted: src/qpid/cluster/RetractClient.cpp|0 62
Deleted: src/qpid/cluster/RetractClient.h|0 50
Deleted: src/qpid/cluster/SecureConnectionFactory.cpp|0 73
Deleted: src/qpid/cluster/SecureConnectionFactory.h|0 58
Deleted: src/qpid/cluster/StoreStatus.cpp|0 170
Deleted: src/qpid/cluster/StoreStatus.h|0 68
Deleted: src/qpid/cluster/UpdateClient.cpp|0 734
Deleted: src/qpid/cluster/UpdateClient.h|0 142
Deleted: src/qpid/cluster/UpdateDataExchange.cpp|0 77
Deleted: src/qpid/cluster/UpdateDataExchange.h|0 83
Deleted: src/qpid/cluster/UpdateExchange.cpp|0 68
Deleted: src/qpid/cluster/UpdateExchange.h|0 45
Deleted: src/qpid/cluster/UpdateReceiver.h|0 59
Deleted: src/qpid/cluster/WatchDogPlugin.cpp|0 139
Deleted: src/qpid/cluster/management-schema.xml|0 61
Deleted: src/qpid/cluster/qpidd_watchdog.cpp|0 63
Deleted: src/qpid/cluster/types.h|0 107
Modified: src/tests/CMakeLists.txt|0 4
Modified: src/tests/Makefile.am|0 10
Deleted: src/tests/cluster.cmake|0 90
Deleted: src/tests/cluster.mk|0 102
Modified: src/tests/sasl.mk|1 26

Revision: 17bab6f801dea7e7f8907b669e8c4c1a94c5c4fd
Author: Gordon Sim <gsim@apache.org>
Date: 10/08/2012 20:04:27
Message:
QPID-4178: broker refactoring #MsgLength=30


----
Modified: src/CMakeLists.txt|7 43
Modified: src/Makefile.am|17 11
Modified: src/qpid/broker/AsyncCompletion.h|2 1
Modified: src/qpid/broker/Broker.cpp|20 24
Modified: src/qpid/broker/Broker.h|5 10
Modified: src/qpid/broker/Consumer.h|13 16
Modified: src/qpid/broker/Deliverable.h|8 3
Modified: src/qpid/broker/DeliverableMessage.cpp|5 7
Modified: src/qpid/broker/DeliverableMessage.h|6 5
Modified: src/qpid/broker/DeliveryAdapter.h|0 53
Modified: src/qpid/broker/DeliveryRecord.cpp|26 64
Modified: src/qpid/broker/DeliveryRecord.h|9 7
Modified: src/qpid/broker/DtxAck.h|0 1
Modified: src/qpid/broker/Exchange.cpp|8 13
Modified: src/qpid/broker/Exchange.h|3 2
Modified: src/qpid/broker/ExpiryPolicy.cpp|1 1
Modified: src/qpid/broker/ExpiryPolicy.h|1 1
Modified: src/qpid/broker/Fairshare.cpp|16 78
Modified: src/qpid/broker/Fairshare.h|5 6
Modified: src/qpid/broker/FifoDistributor.cpp|7 14
Modified: src/qpid/broker/FifoDistributor.h|1 9
Modified: src/qpid/broker/HeadersExchange.cpp|99 31
Modified: src/qpid/broker/HeadersExchange.h|0 3
Added: src/qpid/broker/IndexedDeque.h|226 0
Modified: src/qpid/broker/LegacyLVQ.cpp|0 127
Modified: src/qpid/broker/LegacyLVQ.h|0 60
Modified: src/qpid/broker/Link.cpp|2 2
Added: src/qpid/broker/LossyQueue.cpp|86 0
Renamed: src/qpid/broker/LossyQueue.h [from src/qpid/replication/constants.h]|20 13
Added: src/qpid/broker/Lvq.cpp|64 0
Added: src/qpid/broker/Lvq.h|45 0
Added: src/qpid/broker/MapHandler.h|57 0
Modified: src/qpid/broker/Message.cpp|152 390
Modified: src/qpid/broker/Message.h|83 146
Modified: src/qpid/broker/MessageBuilder.cpp|12 7
Modified: src/qpid/broker/MessageBuilder.h|7 6
Modified: src/qpid/broker/MessageDeque.cpp|30 177
Modified: src/qpid/broker/MessageDeque.h|10 22
Modified: src/qpid/broker/MessageDistributor.h|6 29
Modified: src/qpid/broker/MessageGroupManager.cpp|65 111
Modified: src/qpid/broker/MessageGroupManager.h|14 14
Modified: src/qpid/broker/MessageMap.cpp|61 85
Modified: src/qpid/broker/MessageMap.h|15 15
Modified: src/qpid/broker/Messages.h|31 48
Modified: src/qpid/broker/Persistable.h|1 1
Modified: src/qpid/broker/PersistableMessage.cpp|7 116
Modified: src/qpid/broker/PersistableMessage.h|22 62
Modified: src/qpid/broker/PriorityQueue.cpp|147 109
Modified: src/qpid/broker/PriorityQueue.h|47 25
Modified: src/qpid/broker/Queue.cpp|492 801
Modified: src/qpid/broker/Queue.h|80 90
Added: src/qpid/broker/QueueCursor.cpp|44 0
Added: src/qpid/broker/QueueCursor.h|71 0
Added: src/qpid/broker/QueueDepth.cpp|127 0
Added: src/qpid/broker/QueueDepth.h|74 0
Deleted: src/qpid/broker/QueueEvents.cpp|0 151
Deleted: src/qpid/broker/QueueEvents.h|0 85
Added: src/qpid/broker/QueueFactory.cpp|114 0
Added: src/qpid/broker/QueueFactory.h|73 0
Modified: src/qpid/broker/QueueFlowLimit.cpp|38 65
Modified: src/qpid/broker/QueueFlowLimit.h|12 10
Modified: src/qpid/broker/QueueObserver.h|5 5
Deleted: src/qpid/broker/QueuePolicy.cpp|0 364
Deleted: src/qpid/broker/QueuePolicy.h|0 126
Modified: src/qpid/broker/QueueRegistry.cpp|18 45
Modified: src/qpid/broker/QueueRegistry.h|4 27
Added: src/qpid/broker/QueueSettings.cpp|228 0
Added: src/qpid/broker/QueueSettings.h|92 0
Modified: src/qpid/broker/QueuedMessage.h|10 11
Modified: src/qpid/broker/RecoveredDequeue.cpp|3 4
Modified: src/qpid/broker/RecoveredDequeue.h|3 6
Modified: src/qpid/broker/RecoveredEnqueue.cpp|2 3
Modified: src/qpid/broker/RecoveredEnqueue.h|3 7
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|13 15
Modified: src/qpid/broker/SemanticState.cpp|49 81
Modified: src/qpid/broker/SemanticState.h|26 24
Modified: src/qpid/broker/SessionAdapter.cpp|10 5
Modified: src/qpid/broker/SessionHandler.cpp|3 3
Modified: src/qpid/broker/SessionHandler.h|1 1
Modified: src/qpid/broker/SessionState.cpp|27 14
Modified: src/qpid/broker/SessionState.h|22 21
Modified: src/qpid/broker/ThresholdAlerts.cpp|18 69
Modified: src/qpid/broker/ThresholdAlerts.h|6 10
Modified: src/qpid/broker/TxAccept.h|0 1
Modified: src/qpid/broker/TxBuffer.cpp|1 5
Modified: src/qpid/broker/TxBuffer.h|0 3
Modified: src/qpid/broker/TxOp.h|0 3
Modified: src/qpid/broker/TxOpVisitor.h|0 97
Modified: src/qpid/broker/TxPublish.cpp|0 111
Modified: src/qpid/broker/TxPublish.h|0 92
Added: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|366 0
Added: src/qpid/broker/amqp_0_10/MessageTransfer.h|132 0
Modified: src/qpid/ha/Backup.cpp|1 0
Modified: src/qpid/ha/BrokerReplicator.cpp|39 40
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/QueueGuard.cpp|48 37
Modified: src/qpid/ha/QueueGuard.h|7 4
Modified: src/qpid/ha/QueueReplicator.cpp|5 6
Modified: src/qpid/ha/RemoteBackup.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|53 71
Modified: src/qpid/ha/ReplicatingSubscription.h|4 4
Modified: src/qpid/ha/ReplicationTest.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|37 30
Modified: src/qpid/management/ManagementDirectExchange.cpp|1 3
Modified: src/qpid/management/ManagementTopicExchange.cpp|1 3
Deleted: src/qpid/replication/ReplicatingEventListener.cpp|0 200
Deleted: src/qpid/replication/ReplicatingEventListener.h|0 78
Deleted: src/qpid/replication/ReplicationExchange.cpp|0 240
Deleted: src/qpid/replication/ReplicationExchange.h|0 72
Modified: src/qpid/store/MessageStorePlugin.cpp|1 1
Modified: src/qpid/xml/XmlExchange.cpp|51 26
Modified: src/qpid/xml/XmlExchange.h|1 1
Deleted: src/replication.mk|0 52
Modified: src/tests/CMakeLists.txt|1 4
Modified: src/tests/ClientSessionTest.cpp|1 1
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/ExchangeTest.cpp|27 53
Modified: src/tests/Makefile.am|1 4
Deleted: src/tests/MessageBuilderTest.cpp|0 190
Modified: src/tests/MessageTest.cpp|20 39
Modified: src/tests/MessageUtils.h|49 12
Added: src/tests/QueueDepth.cpp|105 0
Deleted: src/tests/QueueEvents.cpp|0 238
Modified: src/tests/QueueFlowLimitTest.cpp|17 21
Modified: src/tests/QueuePolicyTest.cpp|11 124
Modified: src/tests/QueueRegistryTest.cpp|7 16
Modified: src/tests/QueueTest.cpp|171 1096
Deleted: src/tests/ReplicationTest.cpp|0 144
Modified: src/tests/TxMocks.h|0 2
Deleted: src/tests/TxPublishTest.cpp|0 98
Modified: src/tests/ha_tests.py|1 9
Modified: src/tests/test_store.cpp|2 1

Revision: 4e5e1e74c9926ffb96631a66ac968188b89ef581
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/08/2012 21:30:44
Message:
NO-JIRA: Work around compiler warning from clang 3.1 about casting between type alignments #MsgLength=91


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 1

Revision: b112237193dd1f5aed339244e35700be4a604b2e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/08/2012 23:14:44
Message:
NO-JIRA: Avoid uninitialised variable warning #MsgLength=46


----
Modified: src/qpid/broker/IndexedDeque.h|2 2

Revision: 5d57dd3656e560956c6aa2a5e5c4a548536f0bc0
Author: Charles E. Rolke <chug@apache.org>
Date: 11/08/2012 01:19:51
Message:
QPID-4142 C++ Broker connection counting gets usernames confused when various auth mechanism are used. The issue is that the connection's userId is changed as the auth progresses. Also, the shadowed connections change differently from the non-shadowed connections. #MsgLength=268


----
Modified: src/qpid/acl/Acl.cpp|7 0
Modified: src/qpid/acl/Acl.h|2 0
Modified: src/qpid/acl/AclConnectionCounter.cpp|41 0
Modified: src/qpid/acl/AclConnectionCounter.h|1 0
Modified: src/qpid/broker/AclModule.h|4 0
Modified: src/qpid/broker/Connection.cpp|8 0

Revision: 02fb2f7e073b7faf6462efb042df5ee7da18bb14
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2012 01:27:28
Message:
Rearrange buffer memory ownership to avoid leaking buffer memory #MsgLength=65


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1
Modified: src/qpid/client/TCPConnector.cpp|11 12
Modified: src/qpid/client/TCPConnector.h|0 1
Modified: src/qpid/sys/AsynchIO.h|14 2
Modified: src/qpid/sys/AsynchIOHandler.cpp|16 28
Modified: src/qpid/sys/AsynchIOHandler.h|1 1
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|17 8
Modified: src/qpid/sys/windows/AsynchIO.cpp|17 8
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|7 7
Modified: src/qpid/sys/windows/SslAsynchIO.h|1 0

Revision: cc139e6901bf2508232dbe55b511514cda0da277
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2012 01:27:38
Message:
SSL changes for new buffer management - Needed to rework SslConnector to mirror TCPConnector in order to make changes to the client side, but now Unix SSL and TCP client implementations are much more alike. #MsgLength=213


----
Modified: src/qpid/client/SslConnector.cpp|106 118
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/ssl/SslHandler.cpp|8 19
Modified: src/qpid/sys/ssl/SslHandler.h|1 1
Modified: src/qpid/sys/ssl/SslIo.cpp|13 8
Modified: src/qpid/sys/ssl/SslIo.h|20 6

Revision: 35bd379b8a9c09ec9f1220c17e8d072b37a0f7a6
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2012 22:55:30
Message:
QPID-4178: Fix valgrind errors: prevent circular reference in messages, prevent uninitialised required credit value. #MsgLength=117


----
Modified: src/qpid/broker/PersistableMessage.cpp|27 1
Modified: src/qpid/broker/PersistableMessage.h|3 2
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|10 3
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|2 1

Revision: 63bb87eace2f8e22b3480a2a6c794366ac0303fd
Author: Stephen D. Huston <shuston@apache.org>
Date: 15/08/2012 06:26:28
Message:
Resolves QPID-4084, changing the format of high-res logged time from seconds-since-start to date/time, consistent with the POSIX version of the broker. #MsgLength=152


----
Modified: src/qpid/sys/windows/Time.cpp|60 14

Revision: 8972578be1cf9be3b2afcf7300f6e8f04428325f
Author: Gordon Sim <gsim@apache.org>
Date: 15/08/2012 21:50:11
Message:
QPID-4178: Mark literals as unsigned ints #MsgLength=42


----
Modified: src/tests/QueueDepth.cpp|8 8

Revision: 008d1961a3c338db1f9050a5ce61a8cd1d28596f
Author: Charles E. Rolke <chug@apache.org>
Date: 15/08/2012 22:14:57
Message:
NO-JIRA Initialize variable before its use. #MsgLength=46


----
Modified: src/tests/acl.py|1 0

Revision: 8c89610bc995b41243fe9dab34344702f6f29b58
Author: Gordon Sim <gsim@apache.org>
Date: 15/08/2012 22:27:16
Message:
QPID-4178: Test value specified for no-local, rather than assuming its true #MsgLength=76


----
Modified: src/qpid/broker/QueueSettings.cpp|1 1

Revision: 372def661c1d76d8e327064219f0325175c899e6
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2012 21:41:39
Message:
QPID-4234: ensure configuration observers see queue deletion #MsgLength=61


----
Modified: src/qpid/broker/QueueRegistry.cpp|1 1

Revision: 0dde16957b1a92823ba57ba94684d706d34b6b75
Author: Charles E. Rolke <chug@apache.org>
Date: 21/08/2012 04:09:43
Message:
QPID-4230 (review 6645) Username substition keywords in Acl file. #MsgLength=68


----
Modified: src/qpid/acl/AclData.cpp|172 11
Modified: src/qpid/acl/AclData.h|14 1
Modified: src/qpid/acl/AclReader.cpp|9 0
Modified: src/qpid/broker/AclModule.h|3 1
Modified: src/tests/acl.py|540 0

Revision: 4896f96de2fbbcb73873de54087b4c191a9cf1d6
Author: Charles E. Rolke <chug@apache.org>
Date: 21/08/2012 22:42:51
Message:
QPID-4230 Username substitution keywords in Acl file. Repair function definitions that fail Windows compile. #MsgLength=109


----
Modified: src/qpid/acl/AclData.cpp|4 4

Revision: ab7607c2a0f2af2d8a6b710e603070cefc511231
Author: Michael Goulish <mgoulish@apache.org>
Date: 24/08/2012 23:22:04
Message:
QPID-4244 : expand broker mech list in sasl config file. #MsgLength=180


----
Modified: etc/sasl2/qpidd.conf|16 14

Revision: 3270db49c1133586c3a120f0f81369e98d4cafc8
Author: Charles E. Rolke <chug@apache.org>
Date: 24/08/2012 23:24:07
Message:
QPID-2393 Limit number of queues per user. Merge work from branches/qpid-2393 This scheme works for old HA as long as cluster members run with the same --max-queues-per-user setting. #MsgLength=185


----
Modified: src/CMakeLists.txt|2 0
Modified: src/acl.mk|2 0
Modified: src/qpid/acl/Acl.cpp|26 2
Modified: src/qpid/acl/Acl.h|7 1
Modified: src/qpid/acl/AclPlugin.cpp|1 0
Added: src/qpid/acl/AclResourceCounter.cpp|165 0
Added: src/qpid/acl/AclResourceCounter.h|78 0
Modified: src/qpid/acl/management-schema.xml|4 0
Modified: src/qpid/broker/AclModule.h|5 0
Modified: src/qpid/broker/Broker.cpp|5 0
Modified: src/tests/acl.py|59 0
Modified: src/tests/run_acl_tests|12 4

Revision: 36621954e38729e31b673471dad9048c9797fc18
Author: Charles E. Rolke <chug@apache.org>
Date: 25/08/2012 05:50:59
Message:
QPID-4249 TopicExchange binding lookup for all routing keys #MsgLength=62


----
Modified: src/qpid/acl/AclData.cpp|19 2
Modified: src/qpid/acl/AclReader.cpp|10 7
Modified: src/tests/acl.py|123 2

Revision: e75c987871cf0b4782484da25d86aac092a1eee5
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2012 21:16:59
Message:
NO-JIRA: Remove const qualifier from encode buffer (can't encode into if it is const, and impls const cast it anyway) #MsgLength=118


----
Modified: src/qpid/amqp_0_10/Connection.cpp|2 2
Modified: src/qpid/amqp_0_10/Connection.h|1 1
Modified: src/qpid/broker/SecureConnection.cpp|1 1
Modified: src/qpid/broker/SecureConnection.h|1 1
Modified: src/qpid/client/TCPConnector.cpp|2 2
Modified: src/qpid/client/TCPConnector.h|1 1
Modified: src/qpid/sys/Codec.h|1 1
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|3 3
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.h|1 1

Revision: 3ff3b1414095b2c02dc1c7eeebcb7042e75da1c0
Author: Gordon Sim <gsim@apache.org>
Date: 29/08/2012 02:39:25
Message:
NO-JIRA: Remove const qualifier from encode buffer; additional change required for rdma support #MsgLength=96


----
Modified: src/qpid/client/RdmaConnector.cpp|3 3

Revision: 3227408d2cf46548b7e9210df026a8eb52364002
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/08/2012 03:48:57
Message:
NO-JIRA: keep ssl in line with removing const qualifier from encode buffer #MsgLength=75


----
Modified: src/qpid/client/SslConnector.cpp|3 3

Revision: 30696c0858d73506fd10c7a6ebe16235d51cb181
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/08/2012 01:51:29
Message:
NO-JIRA: Remove redundant stuff from SslSocket #MsgLength=47


----
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|0 33
Modified: src/qpid/sys/ssl/SslSocket.h|0 3

Revision: 734f905fdd6738c7eac42dc250bb83a3acddfc97
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/08/2012 01:51:40
Message:
NO-JIRA: Remove obsolete and now unused code #MsgLength=45


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|0 13
Modified: src/qpid/client/windows/SslConnector.cpp|0 6
Modified: src/qpid/sys/ProtocolFactory.h|0 1
Modified: src/qpid/sys/SslPlugin.cpp|0 22

Revision: 506f949c591f4be869b02461ccdb055993a73a97
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/08/2012 01:51:49
Message:
NO-JIRA: Make ssl setTcpNoDelay interface same as TCP #MsgLength=54


----
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|5 7
Modified: src/qpid/sys/ssl/SslSocket.h|1 1

Revision: 84646fa7274c9bdb22d7c003760d194b8709e1d3
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/09/2012 05:15:47
Message:
Use command-line and service-start parameters in broker started as a service. Resolves QPID-4269. #MsgLength=98


----
Modified: src/windows/QpiddBroker.cpp|34 1

Revision: 4f52193c8885555aa980093036281c7b399b6c7a
Author: Stephen D. Huston <shuston@apache.org>
Date: 06/09/2012 22:26:23
Message:
Fix signed/unsigned compiler warning. NO-JIRA #MsgLength=46


----
Modified: src/windows/QpiddBroker.cpp|1 1

Revision: 36bd078536c1d7222e8a6b1bf899870fecf24c94
Author: Justin Ross <jross@apache.org>
Date: 07/09/2012 01:39:41
Message:
QPID-2518: Increase default negotiation timeout to 10 seconds #MsgLength=62


----
Modified: src/qpid/broker/Broker.cpp|2 2

Revision: b3090085237889025e24d61143fafb542f5268dc
Author: Alan Conway <aconway@apache.org>
Date: 07/09/2012 03:36:21
Message:
QPID-4248: HA does not replicate topic binding keys to backups (Author: Andy Goldstein) #MsgLength=238


----
Modified: src/qpid/ha/BrokerReplicator.cpp|2 1
Modified: src/tests/ha_tests.py|14 9

Revision: 136eb0572378f86af72563b011857675c3c3f096
Author: Charles E. Rolke <chug@apache.org>
Date: 07/09/2012 21:49:09
Message:
QPID-4257 Windwos + SSL: broker/client memory leaks and client hang. Patch from Kerry Bonin #MsgLength=93


----
Modified: src/qpid/client/windows/SslConnector.cpp|12 2

Revision: ae3435743f7bf10b185ee73da1d84222c3a423a4
Author: Charles E. Rolke <chug@apache.org>
Date: 08/09/2012 01:22:44
Message:
QPID-4268 C++ Broker Acl support for limiting on-disk store file size and count Reviewed at https://reviews.apache.org/r/6838/ #MsgLength=129


----
Modified: src/qpid/acl/AclData.cpp|14 0
Modified: src/qpid/acl/AclValidator.cpp|16 0
Modified: src/qpid/broker/AclModule.h|19 1
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/QueueSettings.cpp|8 0
Modified: src/qpid/broker/QueueSettings.h|4 0
Modified: src/tests/acl.py|282 0

Revision: 3520ae245754c158dc62b54ccde0056c80a3cda2
Author: Charles E. Rolke <chug@apache.org>
Date: 08/09/2012 01:49:20
Message:
QPID-2393 Acl counts queues. Fix unit name in management stat. (from r1376961) #MsgLength=80


----
Modified: src/qpid/acl/management-schema.xml|1 1

Revision: e0b85bb8c485d47461e66016617fe1dc77570e39
Author: Charles E. Rolke <chug@apache.org>
Date: 08/09/2012 04:24:43
Message:
QPID-4142 C++ Broker connection counting. Revert r1371772 which applied only to 0.18 and is obsolete on trunk. #MsgLength=112


----
Modified: src/qpid/acl/Acl.cpp|0 7
Modified: src/qpid/acl/Acl.h|0 1
Modified: src/qpid/acl/AclConnectionCounter.cpp|0 41
Modified: src/qpid/acl/AclConnectionCounter.h|0 1
Modified: src/qpid/broker/AclModule.h|0 4
Modified: src/qpid/broker/Connection.cpp|0 8

Revision: 31a93260238b70ea9354f26bc25269344720a77d
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/09/2012 21:32:07
Message:
QPID-4174: add client properties to client-related events.  Original patch from Pavel Moravec #MsgLength=94


----
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/ConnectionHandler.cpp|26 19

Revision: 4f2c62bd74f56287d22ed4b0fd5cb6ed7ee28c70
Author: Michael Goulish <mgoulish@apache.org>
Date: 11/09/2012 01:23:34
Message:
Jira  QPID-4142 browse-only queues #MsgLength=37


----
Modified: src/qpid/broker/Queue.cpp|9 0
Modified: src/qpid/broker/QueueSettings.cpp|5 0
Modified: src/qpid/broker/QueueSettings.h|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|5 0

Revision: 419152c4041beca24eea53346175a7184c01c242
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2012 04:01:12
Message:
QPID-4259, QPID-4262: HA broker can crash due to priority queue corruption #MsgLength=136


----
Modified: src/tests/ha_tests.py|16 2

Revision: b301b67f29525a394e38aec812df1af3d8c181a0
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2012 04:40:59
Message:
QPID-4293: HA broker crashes on startup #MsgLength=96


----
Modified: src/qpid/ha/BrokerInfo.cpp|1 1

Revision: 3bb14d75290c88301ce55ae23ec35022d95839cc
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2012 23:34:53
Message:
NO-JIRA: Fix race in Connection, management object deleted while in use. #MsgLength=73


----
Modified: src/qpid/broker/Connection.cpp|1 1

Revision: 9830fc0262688c43f1acd1e99a5b4fa87f63c64d
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2012 23:35:01
Message:
NO-JIRA: Correct bug in ReplicatingSubscription::getNext - find next message *after* position. #MsgLength=95


----
Modified: src/qpid/ha/QueueReplicator.cpp|5 4
Modified: src/qpid/ha/ReplicatingSubscription.cpp|2 2
Modified: src/qpid/ha/ReplicatingSubscription.h|2 2

Revision: 82c42f2e6bedada58bb12ea30c2f68d2ed8cf396
Author: Alan Conway <aconway@apache.org>
Date: 12/09/2012 02:52:32
Message:
NO-JIRA: Removed replication_test, unused test for defunct feature. #MsgLength=68


----
Modified: src/tests/Makefile.am|1 3
Deleted: src/tests/clustered_replication_test|0 111
Deleted: src/tests/reliable_replication_test|0 84
Deleted: src/tests/replication_test|0 182
Modified: src/tests/test_env.ps1.in|0 2
Modified: src/tests/test_env.sh.in|0 2

Revision: aced261463aeeb223410dbdd38f0c8b0438a7971
Author: Alan Conway <aconway@apache.org>
Date: 13/09/2012 03:18:43
Message:
NO-JIRA: HA fix deadlock between Link and HaBroker #MsgLength=318


----
Modified: src/qpid/ha/HaBroker.cpp|29 19
Modified: src/qpid/ha/HaBroker.h|2 3

Revision: 44324f2d6cd19c6b97554d0af9146615d6b5bc40
Author: Charles E. Rolke <chug@apache.org>
Date: 13/09/2012 05:36:40
Message:
NO-JIRA Add design doc describing C++ Broker Acl additions. #MsgLength=62


----
Added: design_docs/broker-acl-work.txt|152 0

Revision: f7505b2f98a347efc8dc08c3c3d7157d7709feba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/09/2012 05:36:27
Message:
NO-JIRA: Removed now unused cluster specific ClusterSafe code. #MsgLength=63


----
Modified: src/CMakeLists.txt|0 1
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/Connection.cpp|3 5
Modified: src/qpid/broker/Lvq.cpp|0 2
Modified: src/qpid/broker/Queue.cpp|0 6
Modified: src/qpid/broker/QueueFlowLimit.cpp|0 1
Modified: src/qpid/broker/SemanticState.cpp|0 13
Modified: src/qpid/broker/SessionState.cpp|0 6
Deleted: src/qpid/sys/ClusterSafe.cpp|0 66
Deleted: src/qpid/sys/ClusterSafe.h|0 87

Revision: 97db27beb3b35e5f3ab800d5a433e969b1820a72
Author: Michael Goulish <mgoulish@apache.org>
Date: 15/09/2012 01:11:09
Message:
Jira  QPID-4142 auto test for browse-only queues - using messaging interface #MsgLength=78


----
Modified: src/tests/MessagingSessionTests.cpp|32 0

Revision: 7397f05902939f8e977a863d55dd5495cecb3eaa
Author: Alan Conway <aconway@apache.org>
Date: 15/09/2012 02:47:58
Message:
NO-JIRA: HA improved logging messages. #MsgLength=39


----
Modified: src/qpid/ha/ConnectionObserver.cpp|4 2
Modified: src/qpid/ha/ConnectionObserver.h|1 1
Modified: src/qpid/ha/HaBroker.cpp|3 2
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/QueueGuard.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|2 3

Revision: c015580c2b8c26299008131eb0db1a941b479d76
Author: Alan Conway <aconway@apache.org>
Date: 15/09/2012 02:48:09
Message:
QPID-4223: HA Completion isn't sent when queue that has acquired but unacknowledged messages is deleted #MsgLength=391


----
Modified: src/qpid/ha/HaBroker.cpp|6 3
Modified: src/qpid/ha/Primary.cpp|11 10
Modified: src/qpid/ha/Primary.h|3 4
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/ha_tests.py|39 13

Revision: cb61602b1a9dd0b2d7e63af986f5e2714f27deb3
Author: Alan Conway <aconway@apache.org>
Date: 15/09/2012 03:01:32
Message:
NO-JIRA: HA minor log message improvement. #MsgLength=43


----
Modified: src/qpid/ha/Primary.cpp|2 2

Revision: be98e563587084bcfc4d3a997cc2947e584f641e
Author: Alan Conway <aconway@apache.org>
Date: 17/09/2012 23:52:07
Message:
QPID-4290: HA auto-delete queues are not deleted (Author: Andy Goldstein) #MsgLength=185


----
Modified: src/qpid/broker/Consumer.h|7 0
Modified: src/qpid/broker/Queue.cpp|18 10
Modified: src/qpid/ha/ReplicatingSubscription.h|2 0
Modified: src/tests/ha_tests.py|18 12

Revision: 1e6834e04b3409910f9e1003d317c35b26b31d5d
Author: Michael Goulish <mgoulish@apache.org>
Date: 18/09/2012 21:10:04
Message:
qpid-4317     make browse-only x-arg string similar to others #MsgLength=63


----
Modified: src/qpid/broker/QueueSettings.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|1 1

Revision: de1beb82c62217cbc91eb915c99809125d8e577a
Author: Alan Conway <aconway@apache.org>
Date: 20/09/2012 05:42:21
Message:
QPID-4322: HA sporadic failure in ha_tests #MsgLength=181


----
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|10 0
Modified: src/qpid/broker/Queue.h|16 1
Modified: src/qpid/ha/QueueRange.h|2 9
Modified: src/qpid/ha/QueueReplicator.cpp|15 4
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 21
Modified: src/qpid/ha/ReplicatingSubscription.h|0 11
Modified: src/tests/ha_tests.py|1 1

Revision: cb7b1b776881cd0a1e8c1944c114ff3c5f349861
Author: Charles E. Rolke <chug@apache.org>
Date: 20/09/2012 21:48:40
Message:
QPID-3500 C++ qpidd broker --help should work despite parse errors #MsgLength=267


----
Modified: include/qpid/Options.h|5 0
Modified: src/posix/QpiddBroker.cpp|10 6
Modified: src/qpid/Options.cpp|35 7
Modified: src/qpidd.cpp|29 9
Modified: src/qpidd.h|2 1
Modified: src/windows/QpiddBroker.cpp|8 4

Revision: a69bdf84d545f28fe4feb0532c8fad7ef582dad1
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2012 03:55:22
Message:
NO-JIRA: Add missing initializers on ha::BrokerInfo contstructor. #MsgLength=66


----
Modified: src/qpid/ha/BrokerInfo.cpp|2 0
Modified: src/qpid/ha/BrokerInfo.h|1 1
Modified: src/tests/ha_tests.py|1 0

Revision: 781830b943a922939117adde475db2fa23a9ce49
Author: Alan Conway <aconway@apache.org>
Date: 25/09/2012 08:19:52
Message:
NO-JIRA: Mark built-in exchanges as non-replicated. #MsgLength=52


----
Modified: src/qpid/broker/Broker.cpp|22 5

Revision: 859e82c6f392a431ec8b77aa17c148bfa9b23374
Author: Alan Conway <aconway@apache.org>
Date: 26/09/2012 04:49:33
Message:
QPID-4325: HA Starting from persistent store #MsgLength=445


----
Modified: src/qpid/broker/Exchange.h|1 0
Modified: src/qpid/broker/RecoverableExchange.h|3 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 0
Modified: src/qpid/ha/AlternateExchangeSetter.h|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|50 34
Modified: src/qpid/ha/BrokerReplicator.h|6 2
Modified: src/qpid/ha/QueueGuard.cpp|4 2
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/qpid/ha/ReplicationTest.cpp|6 0
Modified: src/qpid/ha/ReplicationTest.h|2 0
Modified: src/tests/Makefile.am|2 0
Modified: src/tests/brokertest.py|2 2
Added: src/tests/ha_store_tests.py|130 0
Added: src/tests/ha_test.py|258 0
Modified: src/tests/ha_tests.py|3 221

Revision: 263f018f6c853ec52c66411270ed5011ca0b0677
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2012 02:09:18
Message:
NO-JIRA: HA shortened prefix for ha headers to qpid.ha-. #MsgLength=57


----
Modified: src/qpid/ha/QueueReplicator.cpp|1 1

Revision: a6f19bb2a9c6a97bb45e02f65d128f543a0cd64e
Author: Alan Conway <aconway@apache.org>
Date: 28/09/2012 05:51:30
Message:
NO-JIRA: Fix logging in ha_tests.py #MsgLength=279


----
Modified: src/tests/ha_test.py|12 1
Modified: src/tests/ha_tests.py|188 170

Revision: c8439828823390cbe1ca5ed70c67ad7f313a27e9
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 01/10/2012 03:23:37
Message:
QPID-4330: Windows static destructors: threadSafeShutdown() test #MsgLength=65


----
Modified: include/qpid/sys/SystemInfo.h|6 0
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/client/ConnectionImpl.cpp|11 9
Added: src/qpid/client/windows/ClientDllMain.cpp|22 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|7 0
Modified: src/qpid/sys/solaris/SystemInfo.cpp|6 0
Added: src/qpid/sys/windows/QpidDllMain.h|72 0
Modified: src/qpid/sys/windows/Socket.cpp|3 1
Modified: src/qpid/sys/windows/SystemInfo.cpp|27 1
Modified: src/qpid/sys/windows/Thread.cpp|18 5

Revision: cf701b21ee6fd0e9763be98ee3566dc7b840c246
Author: Alan Conway <aconway@apache.org>
Date: 02/10/2012 02:07:47
Message:
NO-JIRA: HA Updated design document. #MsgLength=37


----
Modified: design_docs/new-ha-design.txt|26 93

Revision: fa8506dfff06ee0561f54f5619e8a96025829372
Author: Alan Conway <aconway@apache.org>
Date: 03/10/2012 02:41:41
Message:
QPID-4285: HA backups continuously disconnect / re-sync after attempting to replicate a deleted queue. (Based on patch by Jason Dillama) #MsgLength=674


----
Modified: src/qpid/broker/Queue.cpp|4 4
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|92 16
Modified: src/qpid/ha/BrokerReplicator.h|32 1
Modified: src/qpid/ha/QueueReplicator.cpp|1 2
Modified: src/tests/ha_test.py|2 0
Modified: src/tests/ha_tests.py|24 0

Revision: ac194e6f56dc533af89c88156b55e03d4ec0e64f
Author: Alan Conway <aconway@apache.org>
Date: 03/10/2012 05:46:50
Message:
QPID-4285: HA backups continuously disconnect / re-sync after attempting to replicate a deleted queue #MsgLength=482


----
Modified: src/qpid/ha/AlternateExchangeSetter.h|1 1
Modified: src/qpid/ha/Backup.cpp|6 1
Modified: src/qpid/ha/BrokerReplicator.cpp|16 4
Modified: src/qpid/ha/BrokerReplicator.h|3 0
Modified: src/qpid/ha/QueueReplicator.cpp|13 7
Modified: src/tests/ha_tests.py|19 1

Revision: 76f9f845f6f7fcfd19dcadad5dddb33b09023127
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/10/2012 21:36:37
Message:
QPID-4347: do not store Links/Bridges if they are created via recovery. #MsgLength=72


----
Modified: src/qpid/broker/Broker.cpp|3 0
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/LinkRegistry.cpp|3 2

Revision: ab9be43af1b1d694a51e7fd17777442b934def29
Author: Alan Conway <aconway@apache.org>
Date: 04/10/2012 00:34:35
Message:
NO-JIRA: Add log messages to identify QueueReplicator associated with a session error. #MsgLength=87


----
Modified: src/qpid/ha/QueueReplicator.cpp|22 0
Modified: src/qpid/ha/QueueReplicator.h|1 0

Revision: 77404454a322eac69c39b9b6526ee2b8d18eef86
Author: Alan Conway <aconway@apache.org>
Date: 06/10/2012 02:21:45
Message:
QPID-4360: Non-ready HA broker can be incorrectly promoted to primary #MsgLength=464


----
Modified: include/qpid/client/ConnectionSettings.h|6 0
Modified: src/CMakeLists.txt|2 0
Modified: src/ha.mk|3 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/client/ConnectionHandler.cpp|5 3
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|3 0
Modified: src/qpid/ha/BrokerInfo.cpp|4 4
Modified: src/qpid/ha/HaBroker.cpp|12 5
Modified: src/qpid/ha/HaBroker.h|2 0
Added: src/qpid/ha/StatusCheck.cpp|132 0
Added: src/qpid/ha/StatusCheck.h|64 0
Modified: src/tests/ha_tests.py|14 0

Revision: f03a42face4ab1b1231923cc2b168880c8c52643
Author: Charles E. Rolke <chug@apache.org>
Date: 08/10/2012 23:49:24
Message:
QPID-4360 Fix unix/windows builds after commit 1394706 #MsgLength=57


----
Modified: src/CMakeLists.txt|1 1

Revision: 6068c9db2b8008759e9c6f0a0b27fbd2ed42daae
Author: Alan Conway <aconway@apache.org>
Date: 10/10/2012 03:52:24
Message:
QPID-4360: Fix test bug: Non-ready HA broker can be incorrectly promoted to primary. #MsgLength=358


----
Modified: src/qpid/ha/BrokerReplicator.cpp|15 18
Modified: src/qpid/ha/Primary.cpp|2 2
Modified: src/qpid/ha/RemoteBackup.cpp|12 10
Modified: src/qpid/ha/RemoteBackup.h|6 7
Modified: src/tests/ha_test.py|1 1
Modified: src/tests/ha_tests.py|16 12

Revision: 381b9a86b00e3b8f81cdce450a4ae38d2e138a8e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/10/2012 22:53:52
Message:
NO-JIRA: Suppress swig warning - ruby doesn't have != operator anyway #MsgLength=70


----
Modified: bindings/qmf2/ruby/ruby.i|2 0
Modified: bindings/qpid/ruby/ruby.i|2 0

Revision: 7e02cd10d8610adc6405e8d2e7f05af07af02b3a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/10/2012 03:05:51
Message:
JIRA 4351 : Provides systemd support to qpidd. #MsgLength=136


----
Modified: etc/Makefile.am|5 3
Added: etc/qpidd.service.in|13 0

Revision: d0803e2437ebce758fba7f86ab397ad093d476f7
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2012 03:23:30
Message:
Bug 860701 - QPID-4350: HA handle auto-delete queues #MsgLength=167


----
Modified: managementgen/qmfgen/templates/Event.cpp|6 6
Modified: managementgen/qmfgen/templates/Event.h|5 4
Modified: src/qpid/broker/Queue.cpp|2 0
Modified: src/qpid/broker/QueueObserver.h|1 0
Modified: src/qpid/ha/BrokerReplicator.cpp|164 62
Modified: src/qpid/ha/BrokerReplicator.h|22 6
Modified: src/qpid/ha/QueueReplicator.cpp|30 8
Modified: src/qpid/ha/QueueReplicator.h|11 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|8 1
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/ha_test.py|17 4
Modified: src/tests/ha_tests.py|69 3

Revision: 4ce191362e77b1d8deee4af2840c602915feb448
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2012 03:35:41
Message:
NO-JIRA: Fix spelling if --link-maintenace-interval option and add descriptive text. #MsgLength=139


----
Modified: src/qpid/broker/Broker.cpp|4 2
Modified: src/tests/ha_test.py|1 1

Revision: e86d626143ae52db7aefdb919320a537d6470cb3
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/10/2012 03:43:14
Message:
JIRA 4291 : Some cleanup on the rdoc generation and markups. #MsgLength=61


----
Modified: bindings/qpid/ruby/README.rdoc|4 3
Modified: bindings/qpid/ruby/Rakefile|2 1
Modified: bindings/qpid/ruby/lib/qpid/version.rb|1 1

Revision: 866241ff9b54f8e21feb747c6f272ea7d516edb6
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/10/2012 03:43:23
Message:
JIRA 4291 : Renamed the gemfile to qpid_messaging. #MsgLength=111


----
Modified: bindings/qpid/ruby/Rakefile|9 10
Modified: bindings/qpid/ruby/examples/client.rb|1 1
Modified: bindings/qpid/ruby/examples/drain.rb|1 1
Modified: bindings/qpid/ruby/examples/hello_world.rb|1 1
Modified: bindings/qpid/ruby/examples/map_receiver.rb|1 1
Modified: bindings/qpid/ruby/examples/map_sender.rb|1 1
Modified: bindings/qpid/ruby/examples/server.rb|1 1
Modified: bindings/qpid/ruby/examples/spout.rb|1 1
Modified: bindings/qpid/ruby/features/support/env.rb|1 1
Renamed: bindings/qpid/ruby/lib/qpid_messaging.rb [from bindings/qpid/ruby/lib/qpid.rb]|9 9
Renamed: bindings/qpid/ruby/lib/qpid_messaging/address.rb [from bindings/qpid/ruby/lib/qpid/address.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/connection.rb [from bindings/qpid/ruby/lib/qpid/connection.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/duration.rb [from bindings/qpid/ruby/lib/qpid/duration.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb [from bindings/qpid/ruby/lib/qpid/encoding.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/errors.rb [from bindings/qpid/ruby/lib/qpid/errors.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/message.rb [from bindings/qpid/ruby/lib/qpid/message.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/receiver.rb [from bindings/qpid/ruby/lib/qpid/receiver.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/sender.rb [from bindings/qpid/ruby/lib/qpid/sender.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/session.rb [from bindings/qpid/ruby/lib/qpid/session.rb]|0 0
Renamed: bindings/qpid/ruby/lib/qpid_messaging/version.rb [from bindings/qpid/ruby/lib/qpid/version.rb]|0 0
Modified: bindings/qpid/ruby/spec/spec_helper.rb|1 2

Revision: 7b1ff41a131a36f3d9c2ed7041af3fd2cad292f4
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/10/2012 03:43:29
Message:
JIRA 4291 : Consolidated all requires in Ruby library. #MsgLength=156


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|0 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/connection.rb|0 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/duration.rb|0 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|0 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|0 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/receiver.rb|0 4
Modified: bindings/qpid/ruby/lib/qpid_messaging/session.rb|0 4
Renamed: bindings/qpid/ruby/spec/qpid_messaging/address_spec.rb [from bindings/qpid/ruby/spec/qpid/address_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/connection_spec.rb [from bindings/qpid/ruby/spec/qpid/connection_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/duration_spec.rb [from bindings/qpid/ruby/spec/qpid/duration_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/encoding_spec.rb [from bindings/qpid/ruby/spec/qpid/encoding_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/message_spec.rb [from bindings/qpid/ruby/spec/qpid/message_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/receiver_spec.rb [from bindings/qpid/ruby/spec/qpid/receiver_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/sender_spec.rb [from bindings/qpid/ruby/spec/qpid/sender_spec.rb]|0 0
Renamed: bindings/qpid/ruby/spec/qpid_messaging/session_spec.rb [from bindings/qpid/ruby/spec/qpid/session_spec.rb]|0 0

Revision: dce435ce3a656b171d63083c1cdd76ec18acaa24
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/10/2012 03:48:02
Message:
JIRA 3968 : Removed all puts entries from qmf.rb. #MsgLength=50


----
Modified: bindings/qmf/ruby/qmf.rb|3 11

Revision: f68831637f36c40a1aef905e175a47c2831bd760
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2012 04:18:05
Message:
NO-JIRA: Fix compilation error #MsgLength=31


----
Modified: src/qpid/ha/BrokerReplicator.cpp|2 2

Revision: 47f15e458f258f91e9ff3480bafd0a406d28c34e
Author: Alan Conway <aconway@apache.org>
Date: 12/10/2012 04:38:34
Message:
QPID-4349: Duplicate messages with alternate exchange. #MsgLength=149


----
Modified: src/tests/ha_tests.py|27 0

Revision: bbb1a521d99cd7878aae381356b93959dbccbea5
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2012 17:54:10
Message:
NO-JIRA: remove unused method #MsgLength=30


----
Modified: src/qpid/broker/DeliverableMessage.cpp|0 5
Modified: src/qpid/broker/DeliverableMessage.h|0 1

Revision: 0a784af5825f35cb9c7a8406ce545511c76282f0
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2012 18:32:42
Message:
NO-JIRA: remove unused class #MsgLength=29


----
Modified: src/CMakeLists.txt|0 1
Modified: src/Makefile.am|0 2
Modified: src/qpid/broker/Broker.h|1 1
Deleted: src/qpid/broker/ConnectionFactory.cpp|0 61
Deleted: src/qpid/broker/ConnectionFactory.h|0 51

Revision: 2111c8dea3ed783ed8f284db98f423b8e937a151
Author: Gordon Sim <gsim@apache.org>
Date: 12/10/2012 18:34:08
Message:
NO-JIRA: fix tests output of priority #MsgLength=38


----
Modified: src/tests/qpid-receive.cpp|1 1

Revision: 32efc2a4f2e08c73411a92168b9c50f0cf912640
Author: Alan Conway <aconway@apache.org>
Date: 13/10/2012 02:38:53
Message:
QPID-4369: HA backup brokers core dump in benchmark test. #MsgLength=267


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 10
Modified: src/qpid/ha/QueueReplicator.cpp|23 10
Modified: src/qpid/ha/QueueReplicator.h|1 1
Modified: src/qpid/ha/StatusCheck.cpp|1 1
Modified: src/tests/qpid-cluster-benchmark|0 2

Revision: 5e2da64f49db40f333540ed6820ccc30d9359e11
Author: Alan Conway <aconway@apache.org>
Date: 13/10/2012 05:09:15
Message:
NO-JIRA: Fix compile error on windows. #MsgLength=90


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1

Revision: be4a88ea0c86268a3e92f04bc35ec1e7a905ab35
Author: Charles E. Rolke <chug@apache.org>
Date: 13/10/2012 06:53:09
Message:
QPID-4350 BZ860701 HA handle autodelete queues - repair windows build #MsgLength=70


----
Modified: managementgen/qmfgen/templates/Event.h|2 2
Modified: src/qpid/broker/Queue.h|1 1

Revision: c69f58d29b8a937701d967bbf671ca6ceb5c1709
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 14/10/2012 03:01:03
Message:
QPID-4345: plug Windows memory leak on close (async write error) #MsgLength=65


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|2 1

Revision: e64a1a7b66194bcdf468a5f8231d87a22cc6b2a4
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2012 05:35:38
Message:
MQPID-4286: QMF queries for HA replication take too long to process (Jason Dillaman) #MsgLength=218


----
Modified: include/qpid/management/Manageable.h|1 1
Modified: include/qpid/management/ManagementObject.h|5 3
Modified: managementgen/qmfgen/templates/Class.h|2 0
Modified: src/posix/QpiddBroker.cpp|2 2
Modified: src/qpid/acl/Acl.cpp|4 4
Modified: src/qpid/acl/Acl.h|2 2
Modified: src/qpid/broker/Bridge.cpp|5 5
Modified: src/qpid/broker/Bridge.h|2 2
Modified: src/qpid/broker/Broker.cpp|3 4
Modified: src/qpid/broker/Broker.h|2 2
Modified: src/qpid/broker/Connection.cpp|3 4
Modified: src/qpid/broker/Connection.h|3 3
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|17 17
Modified: src/qpid/broker/Exchange.h|5 5
Modified: src/qpid/broker/Link.cpp|4 4
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/Queue.cpp|18 19
Modified: src/qpid/broker/Queue.h|3 3
Modified: src/qpid/broker/QueueFlowLimit.cpp|2 2
Modified: src/qpid/broker/QueueFlowLimit.h|2 8
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 2
Modified: src/qpid/broker/SemanticState.cpp|5 6
Modified: src/qpid/broker/SemanticState.h|2 2
Modified: src/qpid/broker/SessionState.cpp|4 5
Modified: src/qpid/broker/SessionState.h|2 2
Modified: src/qpid/broker/System.cpp|2 2
Modified: src/qpid/broker/System.h|2 2
Modified: src/qpid/broker/Vhost.cpp|2 2
Modified: src/qpid/broker/Vhost.h|2 2
Modified: src/qpid/ha/HaBroker.cpp|1 2
Modified: src/qpid/ha/HaBroker.h|2 2
Modified: src/qpid/ha/RemoteBackup.cpp|2 3
Modified: src/qpid/ha/StatusCheck.cpp|2 2
Modified: src/qpid/management/ManagementAgent.cpp|387 418
Modified: src/qpid/management/ManagementAgent.h|58 65
Modified: src/tests/BrokerMgmtAgent.cpp|555 606
Modified: src/tests/testagent.cpp|8 8

Revision: a02c6a4399ca41831bdb9aa2549e4abd2bcb2120
Author: Alan Conway <aconway@apache.org>
Date: 16/10/2012 21:17:12
Message:
NO-JIRA: Added missing #include <limits> to management codegen template. #MsgLength=73


----
Modified: managementgen/qmfgen/templates/Class.h|1 0

Revision: 37181f28e40e47ef631b858d06f7c0bbbaa925f1
Author: Charles E. Rolke <chug@apache.org>
Date: 17/10/2012 22:42:11
Message:
QPID-3892 checkin r1362014 - add AclTopicMatch.h to the automake scheme #MsgLength=74


----
Modified: src/acl.mk|1 0

Revision: f60d054ebc9535c6783314b99c81a06e1244207d
Author: Charles E. Rolke <chug@apache.org>
Date: 17/10/2012 23:36:05
Message:
QPID-4373 fix ambiguous CLI args; restore C++ broker schema property #MsgLength=71


----
Modified: src/qpid/acl/Acl.h|4 0
Modified: src/qpid/acl/AclPlugin.cpp|2 2
Modified: src/qpid/broker/AclModule.h|2 0
Modified: src/qpid/broker/Broker.cpp|6 0
Modified: src/tests/run_acl_tests|2 2

Revision: 9511fa7ca7f5440198e87a75d19be21a7ac38b65
Author: Charles E. Rolke <chug@apache.org>
Date: 18/10/2012 02:15:26
Message:
QPID-4373 Repair r1399311 with more fluent CLI switch name #MsgLength=61


----
Modified: src/qpid/acl/AclPlugin.cpp|2 2

Revision: a58531cb4d76a84da2dac5226bc5ce1ad7535880
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2012 03:42:06
Message:
Bug 867030 - QPID-4374: Reduce contention on Queue::messageLock (Jason Dillaman) #MsgLength=133


----
Modified: src/qpid/broker/Queue.cpp|5 5
Modified: src/qpid/broker/Queue.h|2 1

Revision: 8bfd37a00740880b483302c904574e571bf8049a
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2012 03:42:14
Message:
Bug 867030 - QPID-4374: Use configurable credit window for HA backup subscriptions (Jason Dillaman) #MsgLength=100


----
Modified: src/qpid/ha/BrokerReplicator.cpp|8 3
Modified: src/qpid/ha/HaPlugin.cpp|4 0
Modified: src/qpid/ha/QueueReplicator.cpp|15 15
Modified: src/qpid/ha/QueueReplicator.h|4 0
Modified: src/qpid/ha/Settings.h|10 2

Revision: 3f058f42a4a260a77fb4230c36fc296663475866
Author: Alan Conway <aconway@apache.org>
Date: 19/10/2012 03:42:21
Message:
Bug 867030 - QPID-4374: Make QueueGuard::cancel idempotent (Jason Dillaman) #MsgLength=157


----
Modified: src/qpid/ha/QueueGuard.cpp|11 13
Modified: src/qpid/ha/QueueGuard.h|1 0

Revision: 69bc2ab22c5d5879002eee24b5b42f5e5312adcf
Author: Charles E. Rolke <chug@apache.org>
Date: 19/10/2012 04:14:38
Message:
QPID-4373 r139931 Fix self test to use proper switch name. #MsgLength=61


----
Modified: src/tests/run_acl_tests|2 2

Revision: 029cc455e8d0f8853399154aaaa9d729e5b8959c
Author: Charles E. Rolke <chug@apache.org>
Date: 19/10/2012 04:35:37
Message:
QPID-4378 C++ Broker deletes dynamin bridges too aggressively. Link state should not control bridge life cycle. Reviewed by Ted Ross. #MsgLength=136


----
Modified: src/qpid/broker/Bridge.cpp|2 2

Revision: f1f405bc215763a5200335800ec8efe0a0801653
Author: Stephen D. Huston <shuston@apache.org>
Date: 19/10/2012 04:39:51
Message:
Fix recovering a zero-length message. Fixes QPID-3491. #MsgLength=55


----
Modified: src/qpid/store/ms-sql/MessageRecordset.cpp|1 1

Revision: 69ed7221f675ed4933ff8b87dae16aaf4ee79c3d
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:17
Message:
QPID-4368: Read any extra data available after protocol header #MsgLength=63


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|3 0
Modified: src/qpid/sys/ssl/SslHandler.cpp|3 0

Revision: 61a0e53ba004a0f87d50f493035abd4d88ca84e5
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:22
Message:
QPID-4368: Make security strength factor a property of the security layer #MsgLength=74


----
Modified: src/qpid/SaslFactory.cpp|1 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1
Modified: src/qpid/sys/SecurityLayer.h|4 0
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.cpp|2 2
Modified: src/qpid/sys/cyrus/CyrusSecurityLayer.h|1 1

Revision: 0498ace0f9451c8dd34dc01602d07e30c4548617
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:27
Message:
QPID-4368: Add protocol description to connection schema #MsgLength=110


----
Modified: src/qpid/broker/Connection.cpp|1 1

Revision: 3bf3172d65708c0cdd74292e5668e6867d04d9bd
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:32
Message:
QPID-4368: Updated protocol version header handling to recognise 1.0 headers #MsgLength=77


----
Modified: include/qpid/framing/ProtocolVersion.h|9 2
Modified: src/qpid/framing/ProtocolInitiation.cpp|23 8
Modified: src/qpid/framing/ProtocolVersion.cpp|8 0

Revision: 207719b1eef0c02754ff1c9111a52d4e1215fafa
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:38
Message:
QPID-4368: Define SASL server role that is free from the AMQP 0-10 handshake #MsgLength=77


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|3 0
Added: src/qpid/NullSaslServer.cpp|82 0
Added: src/qpid/NullSaslServer.h|49 0
Modified: src/qpid/Sasl.h|1 1
Modified: src/qpid/SaslFactory.cpp|207 4
Modified: src/qpid/SaslFactory.h|2 1
Added: src/qpid/SaslServer.h|48 0

Revision: 692251babdd408138e3d303ad74e46ece63ad6ce
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:15:46
Message:
QPID-4368: Allow pluggable protocol implementations #MsgLength=52


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|5 0
Modified: src/qpid/broker/Broker.cpp|3 3
Modified: src/qpid/broker/Broker.h|4 0
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Added: src/qpid/broker/Protocol.cpp|69 0
Added: src/qpid/broker/Protocol.h|82 0
Added: src/qpid/broker/RecoverableMessageImpl.h|48 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|13 21
Modified: src/qpid/broker/RecoveryManagerImpl.h|3 1
Modified: src/qpid/broker/SecureConnectionFactory.cpp|5 3
Modified: src/qpid/broker/SemanticState.cpp|4 3
Modified: src/qpid/broker/SemanticState.h|2 0
Modified: src/qpid/messaging/Connection.cpp|19 8
Added: src/qpid/messaging/ProtocolRegistry.cpp|71 0
Added: src/qpid/messaging/ProtocolRegistry.h|42 0

Revision: d44027ffbf7dbb30df905a4f64cea04ca447b826
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 01:16:07
Message:
QPID-4368: Pluggable AMQP 1.0 implementation for broker and client #MsgLength=67


----
Modified: configure.ac|9 0
Modified: src/CMakeLists.txt|31 0
Modified: src/Makefile.am|96 1
Added: src/qpid/amqp/CharSequence.cpp|47 0
Added: src/qpid/amqp/CharSequence.h|48 0
Added: src/qpid/amqp/Codec.h|83 0
Added: src/qpid/amqp/Constructor.h|42 0
Added: src/qpid/amqp/Decoder.cpp|544 0
Added: src/qpid/amqp/Decoder.h|97 0
Added: src/qpid/amqp/Descriptor.cpp|52 0
Added: src/qpid/amqp/Descriptor.h|54 0
Added: src/qpid/amqp/Encoder.cpp|402 0
Added: src/qpid/amqp/Encoder.h|149 0
Added: src/qpid/amqp/ListReader.h|103 0
Added: src/qpid/amqp/LoggingReader.h|64 0
Added: src/qpid/amqp/MessageEncoder.cpp|313 0
Added: src/qpid/amqp/MessageEncoder.h|100 0
Added: src/qpid/amqp/MessageId.cpp|68 0
Added: src/qpid/amqp/MessageId.h|53 0
Added: src/qpid/amqp/MessageReader.cpp|759 0
Added: src/qpid/amqp/MessageReader.h|300 0
Added: src/qpid/amqp/Reader.h|80 0
Added: src/qpid/amqp/Sasl.cpp|130 0
Added: src/qpid/amqp/Sasl.h|54 0
Added: src/qpid/amqp/SaslClient.cpp|154 0
Added: src/qpid/amqp/SaslClient.h|54 0
Added: src/qpid/amqp/SaslServer.cpp|183 0
Added: src/qpid/amqp/SaslServer.h|50 0
Added: src/qpid/amqp/descriptors.h|81 0
Added: src/qpid/amqp/typecodes.h|115 0
Modified: src/qpid/broker/Message.cpp|12 0
Modified: src/qpid/broker/Message.h|2 2
Added: src/qpid/broker/amqp/Connection.cpp|246 0
Added: src/qpid/broker/amqp/Connection.h|73 0
Added: src/qpid/broker/amqp/Header.cpp|65 0
Added: src/qpid/broker/amqp/Header.h|50 0
Added: src/qpid/broker/amqp/ManagedConnection.cpp|98 0
Added: src/qpid/broker/amqp/ManagedConnection.h|59 0
Added: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|70 0
Added: src/qpid/broker/amqp/ManagedOutgoingLink.h|53 0
Added: src/qpid/broker/amqp/ManagedSession.cpp|88 0
Added: src/qpid/broker/amqp/ManagedSession.h|59 0
Added: src/qpid/broker/amqp/Message.cpp|259 0
Added: src/qpid/broker/amqp/Message.h|147 0
Added: src/qpid/broker/amqp/Outgoing.cpp|191 0
Added: src/qpid/broker/amqp/Outgoing.h|105 0
Added: src/qpid/broker/amqp/ProtocolPlugin.cpp|117 0
Added: src/qpid/broker/amqp/Sasl.cpp|167 0
Added: src/qpid/broker/amqp/Sasl.h|72 0
Added: src/qpid/broker/amqp/Session.cpp|293 0
Added: src/qpid/broker/amqp/Session.h|77 0
Added: src/qpid/broker/amqp/Translation.cpp|238 0
Added: src/qpid/broker/amqp/Translation.h|58 0
Added: src/qpid/messaging/ConnectionOptions.cpp|121 0
Added: src/qpid/messaging/ConnectionOptions.h|51 0
Modified: src/qpid/messaging/Message.cpp|14 14
Modified: src/qpid/messaging/MessageImpl.cpp|148 13
Modified: src/qpid/messaging/MessageImpl.h|39 14
Modified: src/qpid/messaging/ReceiverImpl.h|2 0
Modified: src/qpid/messaging/SenderImpl.h|1 0
Added: src/qpid/messaging/amqp/ConnectionContext.cpp|557 0
Added: src/qpid/messaging/amqp/ConnectionContext.h|139 0
Added: src/qpid/messaging/amqp/ConnectionHandle.cpp|84 0
Added: src/qpid/messaging/amqp/ConnectionHandle.h|58 0
Added: src/qpid/messaging/amqp/DriverImpl.cpp|74 0
Added: src/qpid/messaging/amqp/DriverImpl.h|60 0
Added: src/qpid/messaging/amqp/EncodedMessage.cpp|263 0
Added: src/qpid/messaging/amqp/EncodedMessage.h|177 0
Added: src/qpid/messaging/amqp/ReceiverContext.cpp|97 0
Added: src/qpid/messaging/amqp/ReceiverContext.h|63 0
Added: src/qpid/messaging/amqp/ReceiverHandle.cpp|106 0
Added: src/qpid/messaging/amqp/ReceiverHandle.h|63 0
Added: src/qpid/messaging/amqp/Sasl.cpp|162 0
Added: src/qpid/messaging/amqp/Sasl.h|72 0
Added: src/qpid/messaging/amqp/SenderContext.cpp|332 0
Added: src/qpid/messaging/amqp/SenderContext.h|84 0
Added: src/qpid/messaging/amqp/SenderHandle.cpp|75 0
Added: src/qpid/messaging/amqp/SenderHandle.h|58 0
Added: src/qpid/messaging/amqp/SessionContext.cpp|147 0
Added: src/qpid/messaging/amqp/SessionContext.h|80 0
Added: src/qpid/messaging/amqp/SessionHandle.cpp|148 0
Added: src/qpid/messaging/amqp/SessionHandle.h|64 0
Added: src/qpid/messaging/amqp/SslTransport.cpp|158 0
Added: src/qpid/messaging/amqp/SslTransport.h|74 0
Added: src/qpid/messaging/amqp/TcpTransport.cpp|162 0
Added: src/qpid/messaging/amqp/TcpTransport.h|71 0
Added: src/qpid/messaging/amqp/Transport.cpp|49 0
Added: src/qpid/messaging/amqp/Transport.h|48 0
Added: src/qpid/messaging/amqp/TransportContext.h|47 0

Revision: 931dcf6bb14ff36d8f7b7a0d930f1fcdf50d5e74
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 02:01:49
Message:
QPID-4368: Added cmake fragment missed in last commit #MsgLength=54


----
Added: src/amqp.cmake|118 0

Revision: 5c3ea3414c0b04ca3e54b397503b0d0fc75f433e
Author: Alan Conway <aconway@apache.org>
Date: 20/10/2012 04:00:55
Message:
Bug 868360 - QPID-4379: HA does not properly handle expired messages. #MsgLength=176


----
Modified: src/tests/ha_tests.py|15 0

Revision: ad016fbcfaa1a85f3e00fb6b76b7d31d2633b099
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 05:13:30
Message:
QPID-4368: Fixes to autoconf build for AMQP 1.0 plugins #MsgLength=56


----
Modified: configure.ac|1 1
Modified: src/Makefile.am|4 2

Revision: 9117c692b04730b94ccc7aa684425525251013fb
Author: Gordon Sim <gsim@apache.org>
Date: 20/10/2012 05:13:35
Message:
QPID-4368: Compilation fixes for some platforms #MsgLength=48


----
Modified: src/qpid/NullSaslServer.cpp|1 0
Modified: src/qpid/amqp/MessageId.cpp|1 0
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1
Modified: src/qpid/messaging/amqp/Transport.cpp|1 0

Revision: 66531060de0f1f99a7a618c3fa0b746ad1a711b0
Author: Charles E. Rolke <chug@apache.org>
Date: 22/10/2012 06:47:59
Message:
QPID-4378 Deleting dynamic bridge. Delete warning message. that is present when links are fine and bridge is unbound. #MsgLength=120


----
Modified: src/qpid/broker/Bridge.cpp|0 1

Revision: b0fef642cb3311bea187afcd35dd7a6febec0844
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2012 12:10:01
Message:
NO-JIRA: fix fluffed merge in r1400258 #MsgLength=39


----
Modified: src/tests/ha_tests.py|0 4

Revision: 49c605f7c285e9a7efce09a8d649e7eeded3c838
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2012 14:56:41
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree - Make the installed pkgconfig files have the correct paths embedded. - Use install variables that should be compatible with the variables set by rpmbuild's %cmake macro #MsgLength=234


----
Modified: BuildInstallSettings.cmake|152 140
Modified: CMakeLists.txt|5 3
Modified: docs/api/CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|14 15
Modified: src/Makefile.am|0 1
Modified: src/config.h.cmake|0 2

Revision: 586e4eded577c5e312fceca10678af925837f67a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2012 14:56:56
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree Get Swigged bindings to install in the correct place #MsgLength=115


----
Modified: CMakeLists.txt|1 3
Renamed: bindings/CMakeLists.txt [from bindings/qpid/CMakeLists.txt]|23 3
Deleted: bindings/qmf/CMakeLists.txt|0 37
Modified: bindings/qmf/python/CMakeLists.txt|2 2
Modified: bindings/qmf/ruby/CMakeLists.txt|1 1
Deleted: bindings/qmf2/CMakeLists.txt|0 37
Modified: bindings/qmf2/python/CMakeLists.txt|2 2
Modified: bindings/qmf2/ruby/CMakeLists.txt|1 1
Modified: bindings/qpid/perl/CMakeLists.txt|1 1
Modified: bindings/qpid/python/CMakeLists.txt|2 3
Modified: bindings/qpid/ruby/CMakeLists.txt|1 1

Revision: e6f2982cfa9533131844b968b53867a35487fe74
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2012 14:57:03
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree Always build doxygen docs if we have doxygen, this ensures it's available at install time. - This is not ideal as it builds even if unecessary and can take some time. However cmake presently has no way make this an install dependency. If not required set the cmake GEN_DOXYGEN variable to false to turn tese docs off. #MsgLength=386


----
Modified: docs/api/CMakeLists.txt|2 2

Revision: cd6a1261e704b82b1620b341b885ea3ec0dd8d9f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/10/2012 14:57:10
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree Now install most of the test executables #MsgLength=103


----
Modified: src/tests/CMakeLists.txt|6 2

Revision: d9d87f793bd71a3fb3bf232edadcc0f35777a71f
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2012 21:47:47
Message:
QPID-4368: Add missing export declarations #MsgLength=43


----
Modified: src/qpid/amqp/CharSequence.h|5 4
Modified: src/qpid/amqp/Decoder.h|25 24
Modified: src/qpid/amqp/MessageReader.h|26 25

Revision: ff0fe4e1962615ba8c4c6b8fc52a90df36b16dfe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2012 00:49:14
Message:
NO-JIRA: Add files missed from EXTRA_DISTS from both the recent amqp 1.0 work and the recent cmake work #MsgLength=104


----
Modified: Makefile.am|2 2
Modified: bindings/qmf/Makefile.am|1 1
Modified: bindings/qmf2/Makefile.am|1 1
Modified: bindings/qpid/Makefile.am|1 1
Modified: src/Makefile.am|8 1

Revision: 6470402710ad7468293a2b9150b41851c24aed44
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 23/10/2012 01:29:40
Message:
QPID-4386: Fixes a few Cmake errors WRT set_target_properties #MsgLength=238


----
Modified: src/amqp.cmake|4 4

Revision: 87879e9ac03793f8944b4610cfeb13ced7753d0b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2012 03:27:24
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree - Add some cmake things missed from the windows port #MsgLength=115


----
Modified: BuildInstallSettings.cmake|12 0

Revision: 8eeba3f5673093a01bbd219c5c19f05195add0b0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2012 04:15:42
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree - Avoid using cmake file() command as it is not present in earlier versions of cmake #MsgLength=149


----
Modified: bindings/qmf/python/CMakeLists.txt|9 14
Modified: bindings/qmf2/python/CMakeLists.txt|10 15

Revision: f23da7c03a72cc47b0c2546948763a2385abeb83
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2012 04:45:46
Message:
QPID-4368: Add some more missing export declarations - Also squash a struct/class warning #MsgLength=90


----
Modified: include/qpid/messaging/Message.h|1 1
Modified: src/qpid/amqp/MessageId.h|5 4
Modified: src/qpid/amqp/MessageReader.h|1 1
Modified: src/qpid/messaging/amqp/EncodedMessage.h|1 1

Revision: 39d4f8adf3dee9472734ced2d67ea1b60d344157
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2012 02:15:55
Message:
QPID-3633: Make cmake the primary build tool for the cpp tree - Fix qpid version number so it doesn't contain newline, this causes a very odd path for documentation #MsgLength=167


----
Modified: BuildInstallSettings.cmake|2 1

Revision: c6998390ca9050a52df83de88f61adec0b532b2e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2012 13:51:19
Message:
QPID-4272: Large amounts of code are duplicated between the SSL and TCP transports Refactor to unify the various SSL and TCP interfaces: - Make ssl listen have the same signature as regular sockets - Give ssl connect same interface as tcp - Unify the SSL and TCP IO interfaces some more #MsgLength=287


----
Modified: src/qpid/client/SslConnector.cpp|11 11
Modified: src/qpid/sys/Socket.h|9 8
Modified: src/qpid/sys/SocketAddress.h|2 1
Modified: src/qpid/sys/SslPlugin.cpp|22 13
Modified: src/qpid/sys/posix/Socket.cpp|0 12
Modified: src/qpid/sys/posix/SocketAddress.cpp|5 0
Modified: src/qpid/sys/ssl/SslHandler.cpp|8 8
Modified: src/qpid/sys/ssl/SslHandler.h|10 8
Modified: src/qpid/sys/ssl/SslIo.cpp|8 15
Modified: src/qpid/sys/ssl/SslIo.h|10 44
Modified: src/qpid/sys/ssl/SslSocket.cpp|57 66
Modified: src/qpid/sys/ssl/SslSocket.h|9 7
Modified: src/qpid/sys/windows/AsynchIO.cpp|2 1
Modified: src/qpid/sys/windows/Socket.cpp|0 12

Revision: 7e555f7e34b20913ce9774ebb9c26ca4f7894d69
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2012 13:51:31
Message:
QPID-4272: Large amounts of code are duplicated between the SSL and TCP transports Lift Socket into an interface with concrete implementations - BSDSocket, WinSocket and SslSocket - As a side effect completely change the approach we use for platform specific handles: IOHandle now directly carries the platform handle but its real type is only exposed to platform specific code. - Modified RDMA code for the new IOHandle approach #MsgLength=434


----
Modified: include/qpid/sys/IOHandle.h|1 14
Modified: include/qpid/sys/posix/PrivatePosix.h|5 17
Modified: src/CMakeLists.txt|2 2
Modified: src/Makefile.am|4 2
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|4 4
Modified: src/qpid/client/TCPConnector.cpp|7 6
Modified: src/qpid/client/TCPConnector.h|2 2
Modified: src/qpid/sys/Socket.h|19 35
Modified: src/qpid/sys/TCPIOPlugin.cpp|3 3
Modified: src/qpid/sys/epoll/EpollPoller.cpp|4 5
Renamed: src/qpid/sys/posix/BSDSocket.cpp [from src/qpid/sys/posix/Socket.cpp]|50 46
Added: src/qpid/sys/posix/BSDSocket.h|109 0
Modified: src/qpid/sys/posix/IOHandle.cpp|0 15
Modified: src/qpid/sys/posix/PollableCondition.cpp|3 4
Modified: src/qpid/sys/posix/PosixPoller.cpp|4 4
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|16 6
Modified: src/qpid/sys/rdma/rdma_wrap.h|9 2
Modified: src/qpid/sys/ssl/SslSocket.cpp|16 16
Modified: src/qpid/sys/ssl/SslSocket.h|5 5
Modified: src/qpid/sys/windows/AsynchIO.cpp|28 11
Modified: src/qpid/sys/windows/IOHandle.cpp|0 13
Modified: src/qpid/sys/windows/IoHandlePrivate.h|7 10
Modified: src/qpid/sys/windows/IocpPoller.cpp|2 2
Modified: src/qpid/sys/windows/PollableCondition.cpp|1 2
Renamed: src/qpid/sys/windows/WinSocket.cpp [from src/qpid/sys/windows/Socket.cpp]|42 63
Added: src/qpid/sys/windows/WinSocket.h|114 0
Modified: src/tests/DispatcherTest.cpp|2 3
Modified: src/tests/PollerTest.cpp|4 5

Revision: 22a639ea73dad3e21543dc2b3986c31160a5a691
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2012 13:51:38
Message:
QPID-4272: Large amounts of code are duplicated between the SSL and TCP transports Add the security related functions to the Socket/Asynch interfaces #MsgLength=150


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1
Modified: src/qpid/sys/AsynchIO.h|5 1
Modified: src/qpid/sys/AsynchIOHandler.cpp|13 3
Modified: src/qpid/sys/AsynchIOHandler.h|2 1
Modified: src/qpid/sys/SecuritySettings.h|2 0
Modified: src/qpid/sys/Socket.h|4 0
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|8 0
Modified: src/qpid/sys/posix/BSDSocket.cpp|10 0
Modified: src/qpid/sys/posix/BSDSocket.h|3 0
Modified: src/qpid/sys/ssl/SslHandler.cpp|2 2
Modified: src/qpid/sys/ssl/SslHandler.h|3 5
Modified: src/qpid/sys/windows/AsynchIO.cpp|9 0
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|6 2
Modified: src/qpid/sys/windows/SslAsynchIO.h|1 2
Modified: src/qpid/sys/windows/WinSocket.cpp|10 0
Modified: src/qpid/sys/windows/WinSocket.h|3 0

Revision: 4b220f57b30ab5ced7522405102af1af6025c5db
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2012 13:51:45
Message:
QPID-4272: Large amounts of code are duplicated between the SSL and TCP transports #MsgLength=413


----
Modified: src/qpid/client/SslConnector.cpp|37 19
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/SslPlugin.cpp|92 100
Modified: src/qpid/sys/TCPIOPlugin.cpp|4 4
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 0
Modified: src/qpid/sys/posix/BSDSocket.cpp|4 0
Modified: src/qpid/sys/posix/BSDSocket.h|1 0
Deleted: src/qpid/sys/ssl/SslHandler.cpp|0 220
Deleted: src/qpid/sys/ssl/SslHandler.h|0 85
Deleted: src/qpid/sys/ssl/SslIo.cpp|0 463
Deleted: src/qpid/sys/ssl/SslIo.h|0 159
Modified: src/qpid/sys/ssl/SslSocket.cpp|7 3
Modified: src/qpid/sys/ssl/SslSocket.h|1 0
Modified: src/qpid/sys/windows/WinSocket.cpp|5 0
Modified: src/qpid/sys/windows/WinSocket.h|1 0
Modified: src/ssl.cmake|0 4
Modified: src/ssl.mk|2 6

Revision: 14f5618efb54c37e1e00679011f83f1dae4c8898
Author: Alan Conway <aconway@apache.org>
Date: 24/10/2012 22:33:09
Message:
Bug 868364 - QPID-4391: HA replicating subscriptions should not auto-delete queues #MsgLength=777


----
Modified: src/qpid/broker/SemanticState.cpp|2 2

Revision: a17a1286f13bc11251be44fee99605de70bddfa1
Author: Alan Conway <aconway@apache.org>
Date: 24/10/2012 22:33:16
Message:
Bug-869420 - QPID-4393: BrokerReplicator should call queue->bind, not exchange->bind #MsgLength=544


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1

Revision: 3945047bbaeb35ad1daec5abaaafb89e0710d02c
Author: Alan Conway <aconway@apache.org>
Date: 24/10/2012 22:33:25
Message:
Bug:868364 - QPID-4391: HA ignore stale responses. #MsgLength=433


----
Modified: src/qpid/ha/BrokerReplicator.cpp|98 71
Modified: src/qpid/ha/BrokerReplicator.h|7 29
Modified: src/tests/ha_tests.py|30 3

Revision: 450297bda2e5bcabcbbfce796d9499c74d22e77c
Author: Ted Ross <tross@apache.org>
Date: 24/10/2012 23:03:52
Message:
NO-JIRA - Fixed a make-dist bug by adding a missing file. #MsgLength=59


----
Modified: src/tests/Makefile.am|1 0

Revision: 8561c6511e25f0dc88d2015b30320d19db7baa3f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/10/2012 03:18:24
Message:
NO-JIRA: removed all remaining traces of unused alloca.h #MsgLength=57


----
Modified: src/Makefile.am|0 1
Deleted: src/qpid/sys/alloca.h|0 42
Modified: src/tests/FieldTable.cpp|0 1

Revision: 95be23a5ae35f6f57ca8bec6221b48684824955a
Author: Charles E. Rolke <chug@apache.org>
Date: 25/10/2012 22:13:51
Message:
QPID-4392 C++ Broker link channel number wrap. Maintain a pool of available channel numbers. #MsgLength=95


----
Modified: src/qpid/broker/Bridge.h|1 0
Modified: src/qpid/broker/Link.cpp|20 5
Modified: src/qpid/broker/Link.h|3 2
Modified: src/qpid/broker/LinkRegistry.cpp|1 0

Revision: e3af5d86233f3023c3509b68cba0b3da5ab11914
Author: Alan Conway <aconway@apache.org>
Date: 25/10/2012 23:39:03
Message:
NO-JIRA: Fix compile error on windows. #MsgLength=90


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1

Revision: f37333217de13347483b5695047b00b17ce5ffb5
Author: Charles E. Rolke <chug@apache.org>
Date: 31/10/2012 01:40:21
Message:
QPID-4404 C++ Broker qpidd hang with --config <directory> Peeking at the conf sets the error flag and prevents the hang. #MsgLength=123


----
Modified: src/qpid/Options.cpp|1 0

Revision: e7cc204c1ab7ee73acdbdcc5d90df40d4a3ae020
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/10/2012 02:51:41
Message:
NO-JIRA: shamelessly stole some cmake improvements from proton: - Don't generate the docs all the time (unless we have to) - Take a guess as to whether to use lib or lib64 to install libraries (This can be overridden in distribution package builds) #MsgLength=251


----
Modified: BuildInstallSettings.cmake|11 1
Modified: CMakeLists.txt|15 0
Modified: docs/api/CMakeLists.txt|5 3

Revision: eca98653731679f2c0a53a87f00331135b9b8892
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2012 09:08:41
Message:
QPID-4401: HA bindings for QMF exchanges not replicated. #MsgLength=57


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/ha/BrokerReplicator.cpp|3 24
Modified: src/tests/ha_tests.py|23 1

Revision: 8e2398007a860bd124412934c26a57373b02780f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 01/11/2012 05:08:26
Message:
NO-JIRA: Bumped all soversions to match the official Fedora release. #MsgLength=69


----
Modified: src/versions.cmake|11 11

Revision: c3c23006e893135a54a45af5e01487c639072fb5
Author: Stephen D. Huston <shuston@apache.org>
Date: 01/11/2012 06:51:58
Message:
Refer to sessionreceiver project in correct place. Fixes QPID-4406. #MsgLength=68


----
Modified: bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sessionreceiver.sln|1 1

Revision: 9ac357a964e9244e11fbe2ae69b42a6010a60340
Author: Alan Conway <aconway@apache.org>
Date: 01/11/2012 21:42:36
Message:
QPID-4394: HA QMF events out of order #MsgLength=601


----
Modified: src/qpid/broker/Broker.cpp|6 20
Modified: src/qpid/broker/QueueRegistry.cpp|30 2
Modified: src/qpid/broker/QueueRegistry.h|8 2
Modified: src/qpid/broker/SessionAdapter.cpp|0 5
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|43 32
Modified: src/qpid/management/ManagementAgent.h|8 0
Modified: src/tests/ha_tests.py|57 0

Revision: 536a174ff20ece28b6d71eaca077032eaa230872
Author: Alan Conway <aconway@apache.org>
Date: 02/11/2012 00:35:00
Message:
NO-JIRA: Rename generated event PACKAGE_NAME, clashes with #defines. #MsgLength=238


----
Modified: managementgen/qmfgen/templates/Event.cpp|6 6
Modified: managementgen/qmfgen/templates/Event.h|7 5
Modified: src/qpid/ha/BrokerReplicator.cpp|14 21

Revision: 3498a4a9a8ac9d6efca6c1277fee936de56fa988
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/11/2012 23:39:59
Message:
Revert "NO-JIRA: Bumped all soversions to match the official Fedora release." #MsgLength=141


----
Modified: src/versions.cmake|11 11

Revision: a14039095d96c480c3cb9f70b454b94ab52d27ba
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/11/2012 03:09:21
Message:
Put pkgconfig files in right place. Fixes QPID-4413. #MsgLength=53


----
Modified: src/CMakeLists.txt|2 2

Revision: 1c26c9e1f22930a1b7774b8b2ddfb48e900ec141
Author: Charles E. Rolke <chug@apache.org>
Date: 03/11/2012 04:33:16
Message:
NO-JIRA repair r1404665 under windows #MsgLength=38


----
Modified: managementgen/qmfgen/templates/Event.h|3 2

Revision: 09ea698a5c1c4445da7269270f9d801e78eab2b7
Author: Charles E. Rolke <chug@apache.org>
Date: 03/11/2012 05:00:45
Message:
NO-JIRA Repair r1405147 for correctness. #MsgLength=41


----
Modified: managementgen/qmfgen/templates/Event.h|2 3

Revision: 30cd81f115a88d6fa544bdaa15165bc56d1f1950
Author: Charles E. Rolke <chug@apache.org>
Date: 03/11/2012 18:21:59
Message:
QPID-4403 review 7810 Too many 'task late and overran' messages Demote TimerWarning messages to debug level. Print them only once per minute. To enable only these messages when broker is otherwise at INFO log level: --log-enable debug+:Timer #MsgLength=244


----
Modified: src/qpid/sys/Timer.cpp|3 3
Modified: src/qpid/sys/TimerWarnings.cpp|3 3

Revision: e3bac927db3e7db8ef8f208bc3d6d5b9c06774d3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/11/2012 04:31:53
Message:
NO-JIRA: Stop linking libpython with everything when doing autoconf builds for versions of python that do not have a pkg-config file. #MsgLength=134


----
Modified: configure.ac|3 2

Revision: 8df11a38b6199a99dfeaaa227c6895f6a35d50d8
Author: Charles E. Rolke <chug@apache.org>
Date: 06/11/2012 04:43:48
Message:
QPID-4421 Issue with reusing link channel Id number too soon. Cycle through the entire pool of (32K) channel Id numbers to defer problem of references which are held for a little too long. This problem was exposed by QPID-4392 where a channel number wrap problem was repaired. #MsgLength=280


----
Modified: src/qpid/broker/Link.cpp|22 6
Modified: src/qpid/broker/Link.h|1 0

Revision: 7a17a6adf073ae729d6fb1123b652f3e5ad0fb63
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 06/11/2012 23:51:07
Message:
QPID-4417: Add minimum Swig version check to autotools and Cmake #MsgLength=268


----
Modified: bindings/CMakeLists.txt|7 0
Modified: configure.ac|1 1

Revision: 069653ce231b0de7f80dfebfacc8e1ed33576b4e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2012 05:39:11
Message:
NO-JIRA: Don't export non API symbols from libqpidmessaging when using gcc #MsgLength=75


----
Modified: src/CMakeLists.txt|23 13

Revision: 932d3a26f8fd265d608134f44e90d09c18de28b3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2012 05:39:14
Message:
NO-JIRA: Remove unnecessary gcc conditionals #MsgLength=45


----
Modified: src/CMakeLists.txt|11 18
Modified: src/rdma.cmake|8 7

Revision: 643c753145e64a5ac18cfdeec2b7587d51511591
Author: Charles E. Rolke <chug@apache.org>
Date: 08/11/2012 00:41:20
Message:
QPID-4426 Add exception callback to sessionreceiver callback server. This patch fixes the server and the csharp.map.callback.receiver.cs client example. #MsgLength=153


----
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|14 0
Modified: bindings/qpid/dotnet/src/sessionreceiver/sessionreceiver.cs|21 13

Revision: b6868195ea68e663e27565e4b68c9e4ab7956874
Author: Charles E. Rolke <chug@apache.org>
Date: 08/11/2012 01:23:58
Message:
QPID-4427 C++ Messaging Client .NET Binding failed to wrap receiver.close(). Also add exception handler to closing section of map callback receiver example. #MsgLength=157


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|2 2
Modified: bindings/qpid/dotnet/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.cs|12 2
Modified: bindings/qpid/dotnet/src/Receiver.cpp|28 3

Revision: b46f7d0a1cbdc7493b3de95cdbf2447d8a5f05ed
Author: Charles E. Rolke <chug@apache.org>
Date: 08/11/2012 05:10:11
Message:
QPID-4423 C++ Broker federated bridge creation should not declare named queues. #MsgLength=168


----
Modified: src/qpid/broker/Bridge.cpp|23 21

Revision: e74918a032a63fe6a2db6d3d9dbf5594ee1f82dd
Author: Charles E. Rolke <chug@apache.org>
Date: 09/11/2012 05:50:11
Message:
QPID-3067 moved old examples - repair winsdk script not to reference directories deleted by r1075883 #MsgLength=103


----
Modified: bld-winsdk.ps1|0 6

Revision: 5fd48a6c7c275a95c4315f3d57c911f9de0fa9fa
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2012 00:56:44
Message:
QPID-4430: HA QMF queue events do not propagate to backups under load (Jason Dillaman) #MsgLength=439


----
Modified: src/qpid/sys/AggregateOutput.cpp|9 2
Modified: src/qpid/sys/AggregateOutput.h|3 0

Revision: 299495f6ce58724c511b0a65b10ac58dd6c61f6d
Author: Alan Conway <aconway@apache.org>
Date: 10/11/2012 05:45:06
Message:
Bug 874118 - HA Deadlock in backup broker after disconnecting from primary. #MsgLength=415


----
Modified: src/qpid/ha/BrokerReplicator.cpp|11 12
Modified: src/qpid/ha/BrokerReplicator.h|1 1
Modified: src/tests/ha_tests.py|16 8

Revision: b50e4e527a5e5678325d02d9b69ff12429f1a3a7
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/11/2012 00:38:14
Message:
Changed systemd support to requiring Networking start first. #MsgLength=172


----
Modified: etc/qpidd.service.in|1 1

Revision: 01c2145936f74fbe94019305682d4354e5d0073f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/11/2012 23:31:57
Message:
QPID-4418 - Autotools will fail if no C++ compiler is found. #MsgLength=88


----
Modified: configure.ac|4 0

Revision: ac6ac18526169de4aeeade38b2c03f9bd7746ec7
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/11/2012 02:20:25
Message:
QPID-4434 - Skip language bindings if Swig is too old. #MsgLength=217


----
Modified: bindings/CMakeLists.txt|8 5

Revision: 4855befe55f7f9a78bbe4f2c72d21e91cc9237d1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/11/2012 06:11:44
Message:
QPID-4435: Reconnect on connect failure hangs at third address to try - In the case of retrying a connection failure the epoll code mistakenly thinks the connection has just been disconnected and therefore should never be seen again. #MsgLength=238


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|1 0

Revision: 1fd9dbdc820873c1bc349afcec118c7fde11ba0c
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2012 06:42:58
Message:
NO-JIRA: Fix ambiguity probems in windows build #MsgLength=48


----
Modified: src/qpid/ha/BrokerReplicator.cpp|0 1

Revision: 18ca072063e1833255cfead2aa39ede793c2d10a
Author: Gordon Sim <gsim@apache.org>
Date: 14/11/2012 19:21:18
Message:
NO-JIRA: Fail on invalid PLAIN request #MsgLength=39


----
Modified: examples/messaging/client.cpp|4 3
Modified: src/qpid/NullSaslServer.cpp|4 1

Revision: d9e623fad6ad7c9bcfa144360b0b235ba62945f0
Author: Gordon Sim <gsim@apache.org>
Date: 14/11/2012 19:23:10
Message:
NO-JIRA: Reverted inadvertent change to example from previous commit #MsgLength=69


----
Modified: examples/messaging/client.cpp|3 4

Revision: 4666ad88b769b68673d031f1f39ca82fe50a38a4
Author: Alan Conway <aconway@apache.org>
Date: 14/11/2012 23:23:20
Message:
NO-JIRA: Suppress warning errors  in ha_tests.py test_qmf_replication. #MsgLength=71


----
Modified: src/tests/ha_tests.py|1 1

Revision: 7be80a373fd55527fe03547323e45fde82337634
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2012 00:04:04
Message:
QPID-4428: HA add UUID tag to avoid using an out of date queue/exchange. #MsgLength=760


----
Modified: include/qpid/framing/FieldValue.h|11 2
Modified: include/qpid/types/Variant.h|1 0
Modified: src/qpid/broker/Broker.cpp|3 23
Modified: src/qpid/broker/ConfigurationObserver.h|4 0
Modified: src/qpid/broker/Exchange.cpp|5 0
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|40 7
Modified: src/qpid/broker/ExchangeRegistry.h|17 8
Modified: src/qpid/broker/Queue.cpp|7 6
Modified: src/qpid/broker/Queue.h|5 1
Modified: src/qpid/broker/QueueRegistry.cpp|15 13
Modified: src/qpid/broker/SessionAdapter.cpp|0 11
Modified: src/qpid/framing/FieldValue.cpp|10 4
Modified: src/qpid/ha/BrokerReplicator.cpp|33 3
Modified: src/qpid/ha/Primary.cpp|27 2
Modified: src/qpid/ha/Primary.h|3 0
Modified: src/qpid/ha/QueueReplicator.cpp|6 5
Modified: src/qpid/ha/types.cpp|2 0
Modified: src/qpid/ha/types.h|2 0
Modified: src/qpid/types/Variant.cpp|3 1
Modified: src/tests/ha_test.py|7 3
Modified: src/tests/ha_tests.py|36 0

Revision: b929414ed051204aa61c0f44b9f4295582b2368f
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2012 00:04:14
Message:
NO-JIRA: avoid un-necessary warnings in ha_tests.py test_qmf_replication. #MsgLength=74


----
Modified: src/tests/ha_tests.py|1 0

Revision: 36646d9f502efc57477f8ff2885f4a3817e29251
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2012 00:04:28
Message:
QPID-4401: Revert: HA bindings for QMF exchanges not replicated. #MsgLength=402


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/tests/ha_tests.py|0 25

Revision: af336c8476804bd51e8ed6758f65b37b21ccde63
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/11/2012 00:06:00
Message:
Fix QPID-4434 - Skip language bindings if Swig is too old. So that it works if swig isn't found at all. #MsgLength=106


----
Modified: bindings/CMakeLists.txt|6 10

Revision: ca025d11af604f5fe5eb5ed4904832cc75594a90
Author: Alan Conway <aconway@apache.org>
Date: 15/11/2012 03:51:37
Message:
QPID-4436: HA fix qpidd crash when mgmt-enable=no #MsgLength=179


----
Modified: src/qpid/ha/HaPlugin.cpp|10 4
Modified: src/qpid/ha/QueueReplicator.cpp|4 3
Modified: src/qpid/ha/types.cpp|1 2
Modified: src/qpid/ha/types.h|0 1

Revision: e44b268af6dc21845ae122fc7e27146495007986
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2012 22:42:13
Message:
QPID-4368: Fix 1.0 related client IO inline with changes for QPID-4272 #MsgLength=71


----
Modified: src/qpid/messaging/amqp/DriverImpl.cpp|1 1
Modified: src/qpid/messaging/amqp/SslTransport.cpp|24 22
Modified: src/qpid/messaging/amqp/SslTransport.h|11 11
Modified: src/qpid/messaging/amqp/TcpTransport.cpp|6 6
Modified: src/qpid/messaging/amqp/TcpTransport.h|2 1
Modified: src/ssl.cmake|1 1
Modified: src/ssl.mk|6 0

Revision: e95bb27373933fdd2add7071afb3bb8fa7bd183e
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2012 22:42:22
Message:
QPID-4368: Add support for subject, translated to a filter (i.e. at present a binding key) by receivers and used as default value for senders #MsgLength=142


----
Modified: src/qpid/broker/amqp/Session.cpp|72 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|3 4
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|33 4
Modified: src/qpid/messaging/amqp/ReceiverContext.h|7 2
Modified: src/qpid/messaging/amqp/SenderContext.cpp|18 11
Modified: src/qpid/messaging/amqp/SenderContext.h|4 3
Modified: src/qpid/messaging/amqp/SessionContext.cpp|2 2

Revision: fe5619ec7a266e8509fc356996b5be66061bd4a7
Author: Alan Conway <aconway@apache.org>
Date: 16/11/2012 00:30:18
Message:
NO-JIRA: Fix windows builds: missing EXTERNs #MsgLength=45


----
Modified: src/qpid/broker/Exchange.h|2 2
Modified: src/qpid/broker/Queue.h|1 1

Revision: 61346a9173df2b73deff6c489df98c39e8b7060f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:08
Message:
NO-JIRA: Removed unused isLocalHost() code #MsgLength=43


----
Modified: include/qpid/sys/SystemInfo.h|0 6
Modified: src/qpid/sys/posix/SystemInfo.cpp|0 36
Modified: src/tests/SystemInfo.cpp|0 16

Revision: 49b7bc9fb2e5e3f3dd2ae7d4069532f9a865bc7a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:14
Message:
QPID-3351: Provide ability to specify the network interfaces Added functions to find machines network interface names and addresses #MsgLength=132


----
Modified: include/qpid/sys/SystemInfo.h|19 0
Modified: src/qpid/sys/posix/SystemInfo.cpp|67 0

Revision: 865c105fa384bf63d2c50ef545794b8b387f77dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:19
Message:
QPID-3351: Provide ability to specify the network interfaces Added broker interface option to specify network interfaces for listening #MsgLength=135


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|1 0

Revision: b240d64fbfbaeaf0f95500b041ead86270d0ffd9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:24
Message:
QPID-3351: Provide ability to specify the network interfaces Added to TCP (without specific port capability) #MsgLength=109


----
Modified: src/qpid/sys/TCPIOPlugin.cpp|59 34

Revision: 5993542f494419fbe61174e6270f313fd1a64d5d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:29
Message:
QPID-3351: Provide ability to specify the network interfaces Add listening to specific ports to SSL #MsgLength=100


----
Modified: src/qpid/sys/SslPlugin.cpp|70 38

Revision: 675d7f0efde4d7b9361aa3d8188fde42188114b4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/11/2012 22:27:34
Message:
QPID-3351: Provide ability to specify the network interfaces Made this work on windows too: - Caveat is that you can't specify interface name currently only interface address #MsgLength=177


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|51 23
Modified: src/qpid/sys/windows/SystemInfo.cpp|4 4

Revision: 1d9f58c184f6501a4415bcd32161be14a7fd8a64
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2012 05:32:11
Message:
QPID-4368: Small improvements to setting and checking filter descriptors #MsgLength=73


----
Modified: src/qpid/amqp/descriptors.h|7 0
Modified: src/qpid/broker/amqp/Session.cpp|27 4
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|11 1

Revision: c7503a30c7ee1473b4d4728977e516743b36af03
Author: Gordon Sim <gsim@apache.org>
Date: 17/11/2012 05:32:28
Message:
QPID-4368: Cleaned up filtering, added ability to process dynamic-node-properties #MsgLength=82


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|10 0
Modified: src/amqp.cmake|8 0
Added: src/qpid/amqp/MapReader.cpp|289 0
Added: src/qpid/amqp/MapReader.h|104 0
Added: src/qpid/broker/amqp/DataReader.cpp|187 0
Added: src/qpid/broker/amqp/DataReader.h|53 0
Added: src/qpid/broker/amqp/Filter.cpp|145 0
Added: src/qpid/broker/amqp/Filter.h|62 0
Added: src/qpid/broker/amqp/NodeProperties.cpp|154 0
Added: src/qpid/broker/amqp/NodeProperties.h|64 0
Modified: src/qpid/broker/amqp/Session.cpp|49 114
Modified: src/qpid/broker/amqp/Session.h|10 0
Added: src/qpid/messaging/amqp/AddressHelper.cpp|182 0
Added: src/qpid/messaging/amqp/AddressHelper.h|57 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 2
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|13 5
Modified: src/qpid/messaging/amqp/SenderContext.cpp|14 0
Modified: src/qpid/messaging/amqp/SenderContext.h|3 0

Revision: 44e0839ded2871fd183dffce21cc7229bd4c4271
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2012 01:06:55
Message:
QPID-4368: Added support for some specific AMQP 0-10 derived node options #MsgLength=74


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|28 3
Modified: src/qpid/broker/amqp/NodeProperties.h|7 0
Modified: src/qpid/broker/amqp/Session.cpp|3 5

Revision: 79b708192f5fb402e004bbeb0f47178f083adc3f
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2012 01:08:14
Message:
QPID-4368: Added support for subject filtering on queues #MsgLength=57


----
Modified: src/qpid/broker/amqp/Filter.cpp|5 0
Modified: src/qpid/broker/amqp/Filter.h|1 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|52 0
Modified: src/qpid/broker/amqp/Outgoing.h|3 0
Modified: src/qpid/broker/amqp/Session.cpp|5 2

Revision: 4eb85a4090348cb4ec62209f7890feb38d308e01
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2012 20:43:16
Message:
QPID-4442: make spout example send properties as utf8 strings #MsgLength=62


----
Modified: examples/messaging/spout.cpp|1 0

Revision: 85776ecd63224befcbacd34b4515973f3affefa3
Author: Justin Ross <jross@apache.org>
Date: 20/11/2012 04:04:46
Message:
QPID-4377: Update trunk versions to 0.21 #MsgLength=41


----
Modified: bindings/qpid/ruby/README.rdoc|1 1

Revision: 4612cd2acfe8d7bdad800d2030f9e20bfa09aefa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/11/2012 01:16:11
Message:
QPID-4447: C++ Client can hang during connect if heartbeat disconnect fires #MsgLength=76


----
Modified: src/qpid/client/TCPConnector.cpp|6 2
Modified: src/qpid/client/TCPConnector.h|1 0
Modified: src/qpid/sys/AsynchIO.h|2 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|14 0
Modified: src/qpid/sys/windows/AsynchIO.cpp|8 0

Revision: cc0de9ede52ba5586f99547d580c7db509ece317
Author: Ted Ross <tross@apache.org>
Date: 21/11/2012 01:46:05
Message:
QPID-4449 - Fixed the API in qpid::management::Manageable to remain backward compatible. #MsgLength=90


----
Modified: include/qpid/management/Manageable.h|2 1
Modified: managementgen/qmf-gen|2 0
Modified: managementgen/qmfgen/schema.py|6 2
Modified: src/posix/QpiddBroker.cpp|2 2
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/acl/Acl.h|1 1
Modified: src/qpid/broker/Bridge.cpp|1 1
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/Exchange.cpp|7 7
Modified: src/qpid/broker/Exchange.h|2 2
Modified: src/qpid/broker/Link.cpp|3 3
Modified: src/qpid/broker/Link.h|1 1
Modified: src/qpid/broker/Queue.cpp|5 5
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/QueueFlowLimit.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionState.cpp|3 3
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/System.h|1 1
Modified: src/qpid/broker/Vhost.h|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.h|1 1
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.h|1 1
Modified: src/qpid/broker/amqp/ManagedSession.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedSession.h|1 1
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/management/Manageable.cpp|10 0
Modified: src/qpid/management/ManagementAgent.cpp|5 5
Modified: src/qpid/management/ManagementAgent.h|1 1
Modified: src/tests/BrokerMgmtAgent.cpp|25 25
Modified: src/tests/testagent.cpp|8 8

Revision: fe5c0472015ea863ce4bf6aac81dfa18db8a504a
Author: Ted Ross <tross@apache.org>
Date: 21/11/2012 02:35:36
Message:
QPID-4450 - Don't generate QPID_BROKER_[CLASS_]EXTERN when the generated code is for a standalone (not in-broker) agent. #MsgLength=122


----
Modified: managementgen/qmfgen/generate.py|11 0
Modified: managementgen/qmfgen/schema.py|4 1
Modified: managementgen/qmfgen/templates/Class.h|16 14
Modified: managementgen/qmfgen/templates/Event.h|10 8
Modified: managementgen/qmfgen/templates/Package.h|4 2

Revision: 105d610ee5157e9b599d888cd6975af7f98b2d17
Author: Gordon Sim <gsim@apache.org>
Date: 22/11/2012 03:31:08
Message:
QPID-4448: fix credit checking on 0-10 path when message is of 1.0 format #MsgLength=74


----
Modified: src/qpid/broker/Protocol.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|5 3
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|0 5
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|0 1

Revision: 843b8440910b27f33a14afcab8cde653a8d183e5
Author: Gordon Sim <gsim@apache.org>
Date: 22/11/2012 03:31:20
Message:
QPID-4451: wait for outgoing messages to settle when closing #MsgLength=61


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|8 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|6 0
Modified: src/qpid/messaging/amqp/SenderContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|9 0
Modified: src/qpid/messaging/amqp/SessionContext.h|1 0

Revision: 0508ff0836eb48ef1482086752f4ae6a47ec02f5
Author: Gordon Sim <gsim@apache.org>
Date: 22/11/2012 03:31:28
Message:
QPID-4452: fix credit for producers #MsgLength=36


----
Modified: src/qpid/broker/amqp/Session.cpp|30 20
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 1

Revision: 5dd1a9c69f7cac05b7ce0b0e296a0eb63a615ade
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2012 00:56:43
Message:
QPID-4459: settle sent messages once they have been accepted by peer #MsgLength=69


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|5 1
Modified: src/qpid/messaging/amqp/SenderContext.h|1 0

Revision: 49c479dcc2c73d32e513687e246069f9e9843528
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2012 00:56:50
Message:
QPID-4460: Replenish credit to cover specified prefetch if it is drained #MsgLength=73


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|2 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|16 3

Revision: 0f65e425108df90069d52e167c5012665472a739
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2012 00:56:57
Message:
QPID-4464: set container name when sending open #MsgLength=48


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 0

Revision: 60c43f1e8b59497777179e829eb1bbaad0fe6957
Author: Gordon Sim <gsim@apache.org>
Date: 24/11/2012 00:57:03
Message:
QPID-4465: check subject before setting filter #MsgLength=47


----
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|14 12

Revision: 8ff3144c8e16c48292ad5ae5505239296bf560a2
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/11/2012 23:58:44
Message:
QPID-4415: Fixes Perl bindings install location #MsgLength=264


----
Modified: bindings/qpid/Makefile.am|2 2

Revision: 2abfb7a0908db51a246f69001fb60ee47e81d989
Author: Stephen D. Huston <shuston@apache.org>
Date: 27/11/2012 06:02:07
Message:
Prevent multiple threads from dispatching the condition handling at once. Fixes QPID-4424. #MsgLength=91


----
Modified: src/qpid/sys/windows/PollableCondition.cpp|7 1

Revision: 5cf4a498dbf6bad2baa4799e982010eab0168927
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 27/11/2012 23:08:54
Message:
BZ878940 - Fixes and improvements to spout.pl and drain.pl #MsgLength=157


----
Modified: bindings/qpid/examples/perl/drain.pl|32 8
Modified: bindings/qpid/examples/perl/spout.pl|32 11

Revision: ab0713bed29378a48471c0953a9fb68b686ac983
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2012 23:21:09
Message:
QPID-4477: make sasl logic a bit smarter, to handle case where we transition input to tunnelled layer while output still has work for sasl #MsgLength=139


----
Modified: src/qpid/amqp/Decoder.cpp|1 0
Modified: src/qpid/amqp/Decoder.h|1 0
Modified: src/qpid/amqp/Sasl.cpp|27 21
Modified: src/qpid/broker/amqp/Message.cpp|5 0
Modified: src/qpid/broker/amqp/Message.h|1 0
Modified: src/qpid/broker/amqp/Translation.cpp|3 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|43 7
Modified: src/qpid/messaging/amqp/ConnectionContext.h|11 0
Modified: src/qpid/messaging/amqp/Sasl.cpp|3 8
Modified: src/qpid/messaging/amqp/Sasl.h|1 1

Revision: e2cc71969798765c2f631fee5158448ab97fcf01
Author: Gordon Sim <gsim@apache.org>
Date: 28/11/2012 02:02:06
Message:
QPID-4478: wakeup driver after setting credit #MsgLength=46


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 0

Revision: 1b4e9a71aebcef8ef148041ee8a36d8d0aa2275a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 02:07:49
Message:
QPID-4207 : Relocated all swig .i files to the include directory. #MsgLength=195


----
Modified: CMakeLists.txt|9 0
Modified: Makefile.am|2 1
Modified: bindings/qmf/python/CMakeLists.txt|1 1
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qmf/python/python.i|1 1
Modified: bindings/qmf/ruby/CMakeLists.txt|3 1
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: bindings/qmf/ruby/ruby.i|1 1
Modified: bindings/qmf2/python/CMakeLists.txt|1 1
Modified: bindings/qmf2/python/Makefile.am|1 1
Modified: bindings/qmf2/python/python.i|2 2
Modified: bindings/qmf2/ruby/Makefile.am|1 1
Modified: bindings/qmf2/ruby/ruby.i|2 2
Modified: bindings/qpid/Makefile.am|2 2
Modified: bindings/qpid/perl/CMakeLists.txt|7 2
Modified: bindings/qpid/perl/perl.i|2 2
Modified: bindings/qpid/python/CMakeLists.txt|6 2
Modified: bindings/qpid/python/Makefile.am|1 1
Modified: bindings/qpid/python/python.i|2 2
Modified: bindings/qpid/ruby/CMakeLists.txt|3 1
Modified: bindings/qpid/ruby/Makefile.am|1 1
Modified: bindings/qpid/ruby/ruby.i|2 2
Renamed: include/qmf/qmf2.i [from bindings/qmf2/qmf2.i]|0 0
Renamed: include/qmf/qmfengine.i [from bindings/qmf/qmfengine.i]|0 0
Renamed: include/qpid/qpid.i [from bindings/qpid/qpid.i]|0 0

Revision: 4cedca105c77b644cb11fde84f06921a9a20260a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 02:07:58
Message:
QPID-4124 : New Perl language bindings for Qpid. #MsgLength=179


----
Added: bindings/qpid/perl/qpid.pm|840 0

Revision: 2dd0af8e18c6c7b1dfc185690e4602305c90999b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 02:08:05
Message:
QPID-4214 : Updated all Perl examples to work with the new Perl APIs. #MsgLength=70


----
Deleted: bindings/qpid/examples/perl/README|0 26
Modified: bindings/qpid/examples/perl/client.pl|12 12
Modified: bindings/qpid/examples/perl/drain.pl|27 19
Modified: bindings/qpid/examples/perl/hello_world.pl|9 15
Modified: bindings/qpid/examples/perl/hello_xml.pl|13 13
Modified: bindings/qpid/examples/perl/map_receiver.pl|7 8
Modified: bindings/qpid/examples/perl/map_sender.pl|11 11
Modified: bindings/qpid/examples/perl/server.pl|13 12
Modified: bindings/qpid/examples/perl/spout.pl|8 8

Revision: e2a262429608de980a57fc48e42d404d47c37c07
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 02:08:10
Message:
QPID-4214 : Adds a LICENSE and Makefile.PL to the Qpid Perl bindings. #MsgLength=70


----
Modified: bindings/qpid/perl/CMakeLists.txt|2 0
Added: bindings/qpid/perl/LICENSE|206 0
Added: bindings/qpid/perl/Makefile.PL|13 0

Revision: 2aa0ee51b44d592ccf8ce9e1342fd59a95696567
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 03:48:40
Message:
NO-JIRA: Fixed a small typo in Makefile.am #MsgLength=108


----
Modified: Makefile.am|1 1

Revision: 316b55ac9fc8f33e1021f0dc702c96a7811bcd30
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 04:38:41
Message:
QPID-4388: Systemd support not being installed with Cmake #MsgLength=353


----
Modified: BuildInstallSettings.cmake|1 0
Modified: etc/CMakeLists.txt|3 0
Modified: etc/Makefile.am|4 4
Renamed: etc/qpidd.service [from etc/qpidd.service.in]|0 0

Revision: 9212732768c3b17816b781c82ff21216b204ca46
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/11/2012 21:23:59
Message:
NO-JIRA: Made the Systemd install directory macro consistent with others. #MsgLength=74


----
Modified: BuildInstallSettings.cmake|1 1
Modified: etc/CMakeLists.txt|1 1

Revision: 253cd7f2cc40cae6ced97e5851cc745d7e15de82
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/11/2012 23:03:54
Message:
NO-JIRA: Fix bindings breakage from previous checkins #MsgLength=54


----
Modified: bindings/qmf2/python/Makefile.am|1 1
Modified: bindings/qmf2/ruby/CMakeLists.txt|3 1
Modified: bindings/qmf2/ruby/Makefile.am|1 1
Modified: bindings/qmf2/ruby/ruby.i|1 1
Modified: bindings/qpid/Makefile.am|1 1
Modified: bindings/qpid/python/Makefile.am|1 1
Modified: bindings/qpid/ruby/Makefile.am|1 1

Revision: 9285ad08685324e9473aa305997eb0ef8b8a4c92
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 29/11/2012 01:07:45
Message:
QPID-4388: Fixed accidental deletion of qpidd.service file by autotools. #MsgLength=213


----
Modified: etc/Makefile.am|1 1

Revision: e527ab7dd70987c1658563a64e421d1cede95625
Author: Stephen D. Huston <shuston@apache.org>
Date: 29/11/2012 05:10:14
Message:
NO-JIRA only try to install qpidd.service on UNIX. #MsgLength=51


----
Modified: etc/CMakeLists.txt|5 3

Revision: 02f5859377cd8692adee2e780977e5d0e3072b45
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2012 20:15:36
Message:
QPID-3723: Applied patch from Fraser Adams for explicit linking #MsgLength=64


----
Modified: bindings/qmf2/examples/cpp/Makefile.am|4 4
Modified: examples/messaging/Makefile.am|4 4
Modified: examples/old_api/direct/Makefile.am|3 3
Modified: examples/old_api/failover/Makefile.am|3 3
Modified: examples/old_api/fanout/Makefile.am|1 1
Modified: examples/old_api/pub-sub/Makefile.am|2 2
Modified: examples/old_api/request-response/Makefile.am|2 2
Modified: examples/old_api/tradedemo/Makefile.am|3 3
Modified: examples/old_api/xml-exchange/Makefile.am|3 3
Modified: examples/qmf-console/Makefile.am|5 5
Modified: src/Makefile.am|2 1
Modified: src/tests/Makefile.am|11 11
Modified: src/tests/testagent.mk|1 1

Revision: d090ef5de09f1cdff7f7ad2661c67aacf6aa52dd
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/11/2012 02:37:54
Message:
QPID-4480: Fix handling in Perl of strings with embedded nulls. #MsgLength=116


----
Added: bindings/qpid/perl/test/test-null-inside-map.pl|59 0
Modified: bindings/swig_perl_typemaps.i|3 1

Revision: f2085525e8dde86e7aab627b73a99caf581f80a3
Author: Stephen D. Huston <shuston@apache.org>
Date: 30/11/2012 09:03:32
Message:
QPID-4484 Add -Wno-attributes to gcc 4.1.2 command line #MsgLength=56


----
Modified: src/CMakeLists.txt|9 1

Revision: af53ad26844c5bb5e9cccfddf6c9eb45d9babb65
Author: Charles E. Rolke <chug@apache.org>
Date: 30/11/2012 23:55:16
Message:
NO-JIRA: Repair build for Windows VS2010 vector::push_back now has two signatures that confuse boost. Use an explicit callback and do the push_back there. #MsgLength=155


----
Modified: src/qpid/ha/BrokerReplicator.cpp|8 1

Revision: 680cf6f685fd3b8d547d4aebf83dabf26e5b9888
Author: Ted Ross <tross@apache.org>
Date: 01/12/2012 03:17:28
Message:
QPID-4449 - Reverted much of the original change and re-implemented the fix in a simpler way. The build-define _IN_QPID_BROKER is now used for modules built in the broker.  The shared-pointer changes are conditionally compiled only for in-broker cases. #MsgLength=254


----
Modified: include/qpid/management/Manageable.h|5 2
Modified: include/qpid/management/ManagementObject.h|8 1
Modified: managementgen/qmfgen/schema.py|2 6
Modified: managementgen/qmfgen/templates/Class.h|3 0
Modified: src/CMakeLists.txt|5 2
Modified: src/Makefile.am|4 2
Modified: src/acl.mk|1 0
Modified: src/amqp.cmake|1 0
Modified: src/ha.mk|1 0
Modified: src/posix/QpiddBroker.cpp|2 2
Modified: src/qpid/acl/Acl.cpp|1 1
Modified: src/qpid/acl/Acl.h|1 1
Modified: src/qpid/broker/Bridge.cpp|1 1
Modified: src/qpid/broker/Bridge.h|1 1
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/Connection.cpp|1 1
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/broker/Exchange.cpp|7 7
Modified: src/qpid/broker/Exchange.h|2 2
Modified: src/qpid/broker/Link.cpp|3 3
Modified: src/qpid/broker/Link.h|1 1
Modified: src/qpid/broker/Queue.cpp|5 5
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/QueueFlowLimit.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SemanticState.h|1 1
Modified: src/qpid/broker/SessionState.cpp|3 3
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/System.h|1 1
Modified: src/qpid/broker/Vhost.h|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.h|1 1
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.h|1 1
Modified: src/qpid/broker/amqp/ManagedSession.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedSession.h|1 1
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/management/Manageable.cpp|0 10
Modified: src/qpid/management/ManagementAgent.cpp|5 5
Modified: src/qpid/management/ManagementAgent.h|1 1
Modified: src/qpid/store/CMakeLists.txt|4 1
Modified: src/ssl.cmake|1 1
Modified: src/ssl.mk|1 1
Modified: src/tests/BrokerMgmtAgent.cpp|25 25
Modified: src/tests/CMakeLists.txt|4 1
Modified: src/tests/Makefile.am|1 1

Revision: 4c7902efd709221418e5537dbf61794df49d76ed
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/12/2012 02:24:48
Message:
QPID-4485: hold agentLock and check for dups when adding new mgmt objects #MsgLength=74


----
Modified: src/qpid/agent/ManagementAgentImpl.cpp|34 8
Modified: src/qpid/agent/ManagementAgentImpl.h|1 1

Revision: 5be4b50617c76e5dc0e6594b45b5aa2e7e88bce0
Author: Ted Ross <tross@apache.org>
Date: 04/12/2012 01:10:40
Message:
QPID_4449 - Further fixes to the build files for both automake and cmake. Fixed some build issues affecting Windows. #MsgLength=118


----
Modified: managementgen/qmfgen/templates/Event.h|2 2
Modified: src/CMakeLists.txt|5 5
Modified: src/Makefile.am|1 1
Modified: src/amqp.cmake|1 1
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/QueueFlowLimit.h|4 4
Modified: src/qpid/store/CMakeLists.txt|4 2
Modified: src/rdma.cmake|1 0
Modified: src/ssl.cmake|2 1
Modified: src/tests/CMakeLists.txt|2 2

Revision: 26b9abd2fae83bde221cc83ccd76d1c0d2aaf7bf
Author: Ted Ross <tross@apache.org>
Date: 04/12/2012 02:07:40
Message:
QPID-4449 - Added missing update to xml.mk #MsgLength=44


----
Modified: src/xml.mk|1 1

Revision: 9240d48b9d15dd3aa3a2160aab6bda67fddc439b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/12/2012 02:12:54
Message:
QPID-4487: Remove systemd support and qpidd.service. #MsgLength=142


----
Modified: etc/CMakeLists.txt|0 5
Modified: etc/Makefile.am|1 3
Deleted: etc/qpidd.service|0 13

Revision: 92e2ba7f256107cbf9384f1a1525dfcd3b621c3a
Author: Charles E. Rolke <chug@apache.org>
Date: 04/12/2012 06:00:24
Message:
QPID-4449 Repair some windows settings damaged during this jira. #MsgLength=65


----
Modified: managementgen/qmfgen/templates/Event.h|2 2
Modified: src/qpid/broker/Broker.h|1 1
Modified: src/qpid/broker/QueueFlowLimit.h|4 4

Revision: 3fb08da24a98b17fd91f39828144d24dcd92b0eb
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/12/2012 00:29:59
Message:
QPID-4490: Durable mesages with TTL do not expire after broker recovery (c++ store) - fix #MsgLength=90


----
Modified: src/qpid/broker/RecoverableMessage.h|2 0
Modified: src/qpid/broker/RecoverableMessageImpl.h|1 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|5 0

Revision: 7820798072cf251761a636f863f2bcef6de67919
Author: Charles E. Rolke <chug@apache.org>
Date: 06/12/2012 23:54:33
Message:
QPID-4490 clean up after commit r1417511 for windows builds #MsgLength=60


----
Modified: src/qpid/broker/RecoverableMessage.h|1 0

Revision: 4efb61d7f791765228f684cfb869ba1a5d36c240
Author: Gordon Sim <gsim@apache.org>
Date: 07/12/2012 00:53:25
Message:
QPID-3723: further refinement to the change to link against the .la files, rather than use the unqualified lib names #MsgLength=117


----
Modified: bindings/qmf2/examples/cpp/Makefile.am|7 4
Modified: examples/makedist.mk|1 0
Modified: examples/messaging/Makefile.am|5 4
Modified: examples/old_api/direct/Makefile.am|3 3
Modified: examples/old_api/failover/Makefile.am|3 3
Modified: examples/old_api/fanout/Makefile.am|1 1
Modified: examples/old_api/pub-sub/Makefile.am|2 2
Modified: examples/old_api/request-response/Makefile.am|2 2
Modified: examples/old_api/tradedemo/Makefile.am|3 3
Modified: examples/old_api/xml-exchange/Makefile.am|3 3
Modified: src/tests/Makefile.am|12 11
Modified: src/tests/testagent.mk|1 1

Revision: 39a10c9976a3d881e1be7134d033026d50c16f1b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/12/2012 23:09:21
Message:
NO-JIRA: Small typo fix in the drain..pl example. #MsgLength=50


----
Modified: bindings/qpid/examples/perl/drain.pl|1 1

Revision: 1a79f48702a93d121727e90acb01d95514bcd21e
Author: Alan Conway <aconway@apache.org>
Date: 08/12/2012 02:09:26
Message:
NO-JIRA: Fix race condition in brokertest.py test harness. #MsgLength=149


----
Modified: src/tests/brokertest.py|3 1

Revision: ed299560b5cd29a4a9e6c58eeb5b1ee78ae51434
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 08/12/2012 05:31:24
Message:
QPID-4495: RVM fails to use C++ compiler for the Ruby gem. #MsgLength=327


----
Modified: bindings/qpid/ruby/ext/cqpid/extconf.rb|2 1

Revision: 296b6242e2a8d049bc35bd9f8a38e441edbc531b
Author: Alan Conway <aconway@apache.org>
Date: 11/12/2012 06:43:16
Message:
QPID-4498: HA module should only initialize if requested #MsgLength=388


----
Modified: src/qpid/ha/HaPlugin.cpp|3 1
Modified: src/qpid/ha/Settings.h|3 1
Modified: src/tests/ha_tests.py|8 4

Revision: 91ff07ff80b03c29d254fe40dde708e9d32c1546
Author: Gordon Sim <gsim@apache.org>
Date: 12/12/2012 00:29:54
Message:
NO-JIRA: remove empty files from tree #MsgLength=38


----
Deleted: src/qpid/broker/DeliveryAdapter.h|0 0
Deleted: src/qpid/broker/LegacyLVQ.cpp|0 0
Deleted: src/qpid/broker/LegacyLVQ.h|0 0
Deleted: src/qpid/broker/TxOpVisitor.h|0 0
Deleted: src/qpid/broker/TxPublish.cpp|0 0
Deleted: src/qpid/broker/TxPublish.h|0 0

Revision: 55fa1e6cfc8f69f6031c3882937c29d987eb0cb9
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/12/2012 02:21:27
Message:
QPID-4499: Installs qpid.i, qmfengine.i and qmf2.i into include directory. #MsgLength=194


----
Modified: src/Makefile.am|5 1

Revision: fcccd517733c2f126c8d5b2973c3550504734724
Author: Alan Conway <aconway@apache.org>
Date: 12/12/2012 05:50:03
Message:
QPID-4481: HA replication of propagated bindings can lead to incorrect configuration #MsgLength=1666


----
Modified: src/qpid/broker/Bridge.cpp|6 0
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/DirectExchange.cpp|1 1
Modified: src/qpid/broker/FanOutExchange.cpp|1 1
Modified: src/qpid/broker/HeadersExchange.cpp|6 8
Modified: src/qpid/broker/HeadersExchange.h|2 1
Modified: src/qpid/broker/SemanticState.cpp|67 0
Modified: src/qpid/broker/SemanticState.h|12 0
Modified: src/qpid/broker/SessionAdapter.cpp|2 0
Modified: src/qpid/broker/TopicExchange.cpp|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|14 11
Modified: src/tests/MessagingSessionTests.cpp|21 0
Modified: src/tests/federation.py|106 0
Modified: src/tests/ha_tests.py|17 0

Revision: 1d476cd0f5406295027782e0a46d1df04b9367e2
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2012 23:30:40
Message:
QPID-4506: Qpid HA's '--ha-public-url' option duplicates the '--known-hosts-url' option but cannot be disabled #MsgLength=546


----
Modified: src/qpid/ha/HaBroker.cpp|12 16
Modified: src/qpid/ha/HaBroker.h|2 2
Modified: src/qpid/ha/HaPlugin.cpp|1 1
Modified: src/qpid/ha/Settings.h|1 1
Modified: src/tests/ha_test.py|8 4
Modified: src/tests/ha_tests.py|35 3

Revision: 89bfa2cf596117b91cd635d82a95ada6079d8b25
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/12/2012 03:56:49
Message:
QPID-4507: Perl bindings were not properly handling int8 and uint8 types. #MsgLength=154


----
Modified: bindings/swig_perl_typemaps.i|4 4

Revision: c41228131cd647b910d38117229d4e591c9f7f43
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/12/2012 00:50:38
Message:
NO-JIRA: Removed old cluster only file #MsgLength=39


----
Deleted: src/tests/StoreStatus.cpp|0 117

Revision: ae2be0f7bbbed43500c47f53ebffdfa89a3e8c93
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 02:21:01
Message:
QPID-4466: Cannot multiply Durations in Perl bindings. #MsgLength=184


----
Modified: include/qpid/qpid.i|6 0

Revision: 842c7e51c735a8b438742c46becd605bc115308c
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 02:21:06
Message:
QPID-4466: Add support for Duration multiplication to Ruby bindings. #MsgLength=186


----
Modified: bindings/qpid/ruby/lib/qpid_messaging/duration.rb|16 0
Modified: bindings/qpid/ruby/spec/qpid_messaging/duration_spec.rb|27 0

Revision: c352947760c6ebd19db015212e87ee701a1e72dc
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 03:08:59
Message:
QPID-4416: Perl bindings fail on getContentPtr with null in the content #MsgLength=124


----
Modified: include/qpid/qpid.i|25 0

Revision: 9a449f05d2b8644cc67e6d16c58c4f75d540d590
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 03:28:33
Message:
NO-JIRA: Added ChangeLog entries for Perl bindings. #MsgLength=52


----
Added: bindings/qpid/perl/ChangeLog|3 0

Revision: 3bb3b3d70b7e452b228f1f572d8d7d2c9173367e
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 05:57:38
Message:
QPID-4505: Provide Perl unit tests. #MsgLength=238


----
Modified: bindings/qpid/perl/ChangeLog|2 0
Added: bindings/qpid/perl/t/Address.t|102 0
Added: bindings/qpid/perl/t/Duration.t|124 0
Added: bindings/qpid/perl/t/Message.t|268 0
Added: bindings/qpid/perl/t/utils.pm|38 0
Deleted: bindings/qpid/perl/test/test-null-inside-map.pl|0 59

Revision: daafb24a4adaf0d379c5cf16b086f981fba0f7e4
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/12/2012 05:57:45
Message:
QPID-4505: Fixes to the Perl language bindings revealed by the tests. #MsgLength=175


----
Modified: bindings/qpid/perl/qpid.pm|118 16

Revision: 3ce3fb41061667d834b375856f7fed0765271acb
Author: Robert Gemmell <robbie@apache.org>
Date: 19/12/2012 06:58:09
Message:
QPID-4458: remove unused subdirs and files from gentools then move the remainder src to java/common/gentools. #MsgLength=294


----
Deleted: src/generate.sh|0 67

Revision: d11e95f34f246f56ee32c59e2817ba536affe3ac
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 04:06:05
Message:
NO-JIRA: Fix core dump if ha plugin is loaded but ha-cluster=no #MsgLength=64


----
Modified: src/qpid/ha/HaPlugin.cpp|1 1

Revision: 3f88476c1a14337c84820ebb5f7b48fed6db37c7
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/12/2012 04:08:01
Message:
NO-JIRA: add explicit type for large constants #MsgLength=47


----
Modified: src/qpid/amqp/descriptors.h|2 2

Revision: 57094484d4c2333339f6167849de44ff2ce7961c
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 04:34:56
Message:
QPID-1726 ASF licensed, QPID hosted store This checkin lands the store mission code. Tests to follow. #MsgLength=149


----
Modified: src/CMakeLists.txt|6 0
Added: src/legacystore.cmake|114 0
Added: src/qpid/legacystore/BindingDbt.cpp|54 0
Added: src/qpid/legacystore/BindingDbt.h|60 0
Added: src/qpid/legacystore/BufferValue.cpp|60 0
Added: src/qpid/legacystore/BufferValue.h|50 0
Added: src/qpid/legacystore/Cursor.h|54 0
Added: src/qpid/legacystore/DataTokenImpl.cpp|32 0
Added: src/qpid/legacystore/DataTokenImpl.h|51 0
Added: src/qpid/legacystore/IdDbt.cpp|46 0
Added: src/qpid/legacystore/IdDbt.h|46 0
Added: src/qpid/legacystore/IdSequence.cpp|44 0
Added: src/qpid/legacystore/IdSequence.h|48 0
Added: src/qpid/legacystore/JournalImpl.cpp|636 0
Added: src/qpid/legacystore/JournalImpl.h|269 0
Added: src/qpid/legacystore/MessageStoreImpl.cpp|1732 0
Added: src/qpid/legacystore/MessageStoreImpl.h|386 0
Added: src/qpid/legacystore/PreparedTransaction.cpp|85 0
Added: src/qpid/legacystore/PreparedTransaction.h|78 0
Added: src/qpid/legacystore/StoreException.h|60 0
Added: src/qpid/legacystore/StorePlugin.cpp|90 0
Added: src/qpid/legacystore/TxnCtxt.cpp|184 0
Added: src/qpid/legacystore/TxnCtxt.h|119 0
Added: src/qpid/legacystore/jrnl/aio.cpp|44 0
Added: src/qpid/legacystore/jrnl/aio.hpp|156 0
Added: src/qpid/legacystore/jrnl/aio_callback.hpp|60 0
Added: src/qpid/legacystore/jrnl/cvar.cpp|36 0
Added: src/qpid/legacystore/jrnl/cvar.hpp|90 0
Added: src/qpid/legacystore/jrnl/data_tok.cpp|197 0
Added: src/qpid/legacystore/jrnl/data_tok.hpp|175 0
Added: src/qpid/legacystore/jrnl/deq_hdr.hpp|144 0
Added: src/qpid/legacystore/jrnl/deq_rec.cpp|462 0
Added: src/qpid/legacystore/jrnl/deq_rec.hpp|106 0
Added: src/qpid/legacystore/jrnl/enq_hdr.hpp|168 0
Added: src/qpid/legacystore/jrnl/enq_map.cpp|186 0
Added: src/qpid/legacystore/jrnl/enq_map.hpp|130 0
Added: src/qpid/legacystore/jrnl/enq_rec.cpp|641 0
Added: src/qpid/legacystore/jrnl/enq_rec.hpp|119 0
Added: src/qpid/legacystore/jrnl/enums.hpp|111 0
Added: src/qpid/legacystore/jrnl/fcntl.cpp|378 0
Added: src/qpid/legacystore/jrnl/fcntl.hpp|159 0
Added: src/qpid/legacystore/jrnl/file_hdr.hpp|214 0
Added: src/qpid/legacystore/jrnl/jcfg.hpp|94 0
Added: src/qpid/legacystore/jrnl/jcntl.cpp|987 0
Added: src/qpid/legacystore/jrnl/jcntl.hpp|725 0
Added: src/qpid/legacystore/jrnl/jdir.cpp|466 0
Added: src/qpid/legacystore/jrnl/jdir.hpp|382 0
Added: src/qpid/legacystore/jrnl/jerrno.cpp|256 0
Added: src/qpid/legacystore/jrnl/jerrno.hpp|176 0
Added: src/qpid/legacystore/jrnl/jexception.cpp|186 0
Added: src/qpid/legacystore/jrnl/jexception.hpp|145 0
Added: src/qpid/legacystore/jrnl/jinf.cpp|543 0
Added: src/qpid/legacystore/jrnl/jinf.hpp|136 0
Added: src/qpid/legacystore/jrnl/jrec.cpp|122 0
Added: src/qpid/legacystore/jrnl/jrec.hpp|186 0
Added: src/qpid/legacystore/jrnl/lp_map.cpp|85 0
Added: src/qpid/legacystore/jrnl/lp_map.hpp|86 0
Added: src/qpid/legacystore/jrnl/lpmgr.cpp|229 0
Added: src/qpid/legacystore/jrnl/lpmgr.hpp|306 0
Added: src/qpid/legacystore/jrnl/pmgr.cpp|218 0
Added: src/qpid/legacystore/jrnl/pmgr.hpp|145 0
Added: src/qpid/legacystore/jrnl/rcvdat.hpp|184 0
Added: src/qpid/legacystore/jrnl/rec_hdr.hpp|146 0
Added: src/qpid/legacystore/jrnl/rec_tail.hpp|101 0
Added: src/qpid/legacystore/jrnl/rfc.cpp|85 0
Added: src/qpid/legacystore/jrnl/rfc.hpp|196 0
Added: src/qpid/legacystore/jrnl/rmgr.cpp|701 0
Added: src/qpid/legacystore/jrnl/rmgr.hpp|117 0
Added: src/qpid/legacystore/jrnl/rrfc.cpp|130 0
Added: src/qpid/legacystore/jrnl/rrfc.hpp|182 0
Added: src/qpid/legacystore/jrnl/slock.cpp|36 0
Added: src/qpid/legacystore/jrnl/slock.hpp|88 0
Added: src/qpid/legacystore/jrnl/smutex.cpp|36 0
Added: src/qpid/legacystore/jrnl/smutex.hpp|67 0
Added: src/qpid/legacystore/jrnl/time_ns.cpp|58 0
Added: src/qpid/legacystore/jrnl/time_ns.hpp|108 0
Added: src/qpid/legacystore/jrnl/txn_hdr.hpp|128 0
Added: src/qpid/legacystore/jrnl/txn_map.cpp|259 0
Added: src/qpid/legacystore/jrnl/txn_map.hpp|162 0
Added: src/qpid/legacystore/jrnl/txn_rec.cpp|450 0
Added: src/qpid/legacystore/jrnl/txn_rec.hpp|104 0
Added: src/qpid/legacystore/jrnl/wmgr.cpp|1054 0
Added: src/qpid/legacystore/jrnl/wmgr.hpp|150 0
Added: src/qpid/legacystore/jrnl/wrfc.cpp|165 0
Added: src/qpid/legacystore/jrnl/wrfc.hpp|157 0
Added: src/qpid/legacystore/management-schema.xml|103 0
Modified: src/versions.cmake|1 1

Revision: b9d4557239b1c2aa877631c1a05eb664e5717a0a
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:21:53
Message:
QPID-4207: Fix distcheck errors for swig .i files. #MsgLength=323


----
Modified: bindings/qmf/Makefile.am|0 1
Modified: bindings/qmf2/Makefile.am|0 1
Modified: bindings/qpid/Makefile.am|1 3

Revision: d718fc8b102e039a6bb4c92450f35e885c2e4473
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:13
Message:
QPID-4514: Remove obsolete cluster code: ManagementAgent, Timer, doc WIP: rip out old cluster code, misc. #MsgLength=106


----
Modified: Makefile.am|1 1
Modified: src/qpid/agent/ManagementAgentImpl.h|0 4
Modified: src/qpid/amqp_0_10/Connection.cpp|0 4
Modified: src/qpid/amqp_0_10/Connection.h|0 4
Modified: src/qpid/broker/Broker.cpp|0 2
Modified: src/qpid/management/ManagementAgent.cpp|2 7
Modified: src/qpid/management/ManagementAgent.h|0 9
Modified: src/qpid/sys/Timer.cpp|0 6
Modified: src/qpid/sys/Timer.h|0 4
Deleted: xml/cluster.xml|0 339

Revision: 49bbd473884ba5ade4425990d1c2c120e0beafe8
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:20
Message:
QPID-4514: Remove obsolete cluster code: updated INSTALL instructions. #MsgLength=71


----
Modified: INSTALL|11 69

Revision: 424b9ee519e2419c51fd52c2541419ca84be7726
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:27
Message:
QPID-4514: Remove obsolete cluster code: getClusterTimer. #MsgLength=58


----
Modified: src/qpid/broker/Broker.cpp|0 6
Modified: src/qpid/broker/Broker.h|0 4
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: 0a46339879348deba54ccdb84cae52ffce07b195
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:34
Message:
QPID-4514: Remove obsolete cluster code, clusterOrderProxy #MsgLength=59


----
Modified: src/qpid/broker/ConnectionState.h|0 11
Modified: src/qpid/broker/SessionHandler.cpp|1 3
Modified: src/qpid/broker/SessionHandler.h|0 12
Modified: src/qpid/broker/SessionState.cpp|0 5
Modified: src/qpid/broker/SessionState.h|0 9

Revision: f63c4cb37d0f6f2e164ed4086a5d2f78c4e6fe6f
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:41
Message:
QPID-4514: Remove obsolete cluster code: AclConnectionCounter #MsgLength=62


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|31 61

Revision: b134d9f62ab59576df3e0045dfa6e04c59943245
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:22:50
Message:
QPID-4514: Remove obsolete cluster code: Broker, Connection, Link. #MsgLength=67


----
Modified: src/qpid/broker/Broker.cpp|5 15
Modified: src/qpid/broker/Broker.h|0 16
Modified: src/qpid/broker/Connection.cpp|1 24
Modified: src/qpid/broker/Connection.h|1 16
Modified: src/qpid/broker/Exchange.cpp|0 2
Modified: src/qpid/broker/Link.cpp|16 31
Modified: src/qpid/broker/Link.h|0 1
Modified: src/qpid/broker/QueueFlowLimit.cpp|0 5
Modified: src/qpid/broker/SessionHandler.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|2 2
Modified: src/qpid/broker/SessionState.h|1 1

Revision: 89c9dfc458ceaae94d7ad187ed1dd0c49ce057c9
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:01
Message:
QPID-4514: Remove obsolete cluster code: DtxManager, more Broker, Connection, Link. #MsgLength=84


----
Modified: src/qpid/broker/Broker.cpp|1 2
Modified: src/qpid/broker/Broker.h|0 10
Modified: src/qpid/broker/Connection.cpp|0 19
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/ConnectionState.h|1 1
Modified: src/qpid/broker/DtxManager.h|0 5
Modified: src/qpid/broker/Link.cpp|0 22
Modified: src/qpid/broker/Link.h|0 4
Modified: src/qpid/broker/Queue.cpp|0 3

Revision: 29cb4633aacd58f744f01aab4b554cef060eaf8d
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:07
Message:
QPID-4514: Remove obsolete cluster code: DtxWorkRecord #MsgLength=55


----
Modified: src/qpid/broker/DtxWorkRecord.cpp|0 14
Modified: src/qpid/broker/DtxWorkRecord.h|0 6

Revision: 3321c524fdc288b5ed249e0168cdc400db96ba2f
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:16
Message:
QPID-4514: Remove obsolete cluster code: LinkRegistry #MsgLength=54


----
Modified: src/qpid/broker/LinkRegistry.cpp|0 10
Modified: src/qpid/broker/LinkRegistry.h|0 5

Revision: 8efb24c517de8d2f3afe6a865ab00cec0ea36c78
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:24
Message:
QPID-4514: Remove obsolete cluster code: MessageGroupManager, Messages #MsgLength=71


----
Modified: src/qpid/broker/MessageGroupManager.cpp|1 14
Modified: src/qpid/broker/Messages.h|0 7

Revision: 784681995e3c7f5810aee278137d55d5e391a442
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:31
Message:
QPID-4514: Remove obsolete cluster code: QueueFlowLimit #MsgLength=56


----
Modified: src/qpid/broker/QueueFlowLimit.cpp|2 73
Modified: src/qpid/broker/QueueFlowLimit.h|0 4

Revision: 5e3ba9163d4193a9e4756e0e1cf5077c0c4e0525
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:41
Message:
QPID-4514: Remove obsolete cluster code: get rid of StatefulQueueObserver. #MsgLength=75


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/MessageGroupManager.cpp|0 97
Modified: src/qpid/broker/MessageGroupManager.h|8 8
Modified: src/qpid/broker/QueueFlowLimit.cpp|1 1
Modified: src/qpid/broker/QueueFlowLimit.h|3 2
Deleted: src/qpid/broker/StatefulQueueObserver.h|0 63

Revision: b955da2925b786f9423eaa09b8b1dd4941998d65
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:49
Message:
QPID-4514: Remove obsolete cluster code: Queue, Semanticstate, SessionHandler #MsgLength=78


----
Modified: src/qpid/broker/Queue.cpp|0 9
Modified: src/qpid/broker/Queue.h|0 5
Modified: src/qpid/broker/SemanticState.h|0 5
Modified: src/qpid/broker/SessionHandler.cpp|0 3
Modified: src/qpid/broker/SessionState.cpp|1 2
Modified: src/qpid/broker/SessionState.h|0 5
Modified: src/qpid/broker/TxAccept.h|0 3

Revision: 490ac80c00a3ace0ffc78fa118a7ef762c0b6bed
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:23:57
Message:
QPID-4514: Remove obsolete cluster code: MessageStore #MsgLength=54


----
Modified: src/qpid/broker/MessageStore.h|0 14
Modified: src/qpid/broker/MessageStoreModule.cpp|0 5
Modified: src/qpid/broker/MessageStoreModule.h|0 1
Modified: src/qpid/broker/NullMessageStore.cpp|0 2
Modified: src/qpid/broker/NullMessageStore.h|0 1

Revision: 1b560ea8922757aaafc0c65f6b2fd64222c40062
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:04
Message:
QPID-4514: Remove obsolete cluster code: Connection::isAuthenticated #MsgLength=69


----
Modified: src/qpid/broker/Connection.cpp|1 3
Modified: src/qpid/broker/Connection.h|2 7
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 8

Revision: 7a062f467303ecea925798a20d31cd62d16e9b11
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:13
Message:
QPID-4514: Remove obsolete cluster code: MessageStorePlugin #MsgLength=60


----
Modified: src/qpid/store/MessageStorePlugin.cpp|0 6
Modified: src/qpid/store/MessageStorePlugin.h|0 12
Modified: src/qpid/store/StorageProvider.h|0 14
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|0 19
Modified: src/qpid/store/ms-sql/MSSqlProvider.cpp|0 19

Revision: dcfd65f2973859176022d1aa4f4aaadd1460350f
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:20
Message:
QPID-4514: Remove obsolete cluster code: ManagementAgent #MsgLength=57


----
Modified: src/qpid/management/ManagementAgent.cpp|0 30
Modified: src/qpid/management/ManagementAgent.h|0 5

Revision: 3c84f4a03f6a5120cadbd81351a1925a7bfce730
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:27
Message:
QPID-4514: Remove obsolete cluster code: obsolete valgrind suppressions. #MsgLength=73


----
Modified: src/tests/.valgrind.supp|0 23

Revision: ccd180bd5865a90eda0ad9c7e4e4789c36c9d3c9
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:38
Message:
QPID-4514: Remove obsolete cluster code: cleanup tests #MsgLength=55


----
Modified: src/qpid/UrlArray.h|3 3
Deleted: src/tests/ClusterFailover.cpp|0 115
Deleted: src/tests/ClusterFixture.cpp|0 160
Deleted: src/tests/ClusterFixture.h|0 115
Modified: src/tests/Makefile.am|0 1
Deleted: src/tests/cluster_authentication_soak.cpp|0 310
Deleted: src/tests/cluster_failover|0 19
Deleted: src/tests/cluster_python_tests|0 28
Deleted: src/tests/cluster_python_tests_failing.txt|0 4
Deleted: src/tests/cluster_read_credit|0 29
Deleted: src/tests/cluster_test.cpp|0 1231
Deleted: src/tests/cluster_test_logs.py|0 123
Deleted: src/tests/cluster_test_scripts/README.txt|0 20
Deleted: src/tests/cluster_test_scripts/cluster_check|0 37
Deleted: src/tests/cluster_test_scripts/cluster_start|0 56
Deleted: src/tests/cluster_test_scripts/cluster_stop|0 38
Deleted: src/tests/cluster_test_scripts/config_example.sh|0 44
Deleted: src/tests/cluster_test_scripts/perftest|0 54
Deleted: src/tests/cluster_tests.fail|0 3
Deleted: src/tests/cluster_tests.py|0 1834
Deleted: src/tests/federated_cluster_test|0 153
Deleted: src/tests/federated_cluster_test_with_node_failure|0 23
Deleted: src/tests/run_cluster_authentication_soak|0 27
Deleted: src/tests/run_cluster_authentication_test|0 27
Deleted: src/tests/run_cluster_test|0 27
Deleted: src/tests/run_cluster_tests|0 39

Revision: 8748e3f955e9738767183a524e11b7af44b68469
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:47
Message:
QPID-4514: Remove obsolete cluster code: more tests #MsgLength=52


----
Modified: configure.ac|0 1
Modified: src/tests/Makefile.am|0 5
Deleted: src/tests/failover_soak.cpp|0 827
Deleted: src/tests/long_cluster_tests.py|0 38
Deleted: src/tests/qpid-test-cluster|0 109
Deleted: src/tests/restart_cluster|0 38
Deleted: src/tests/run_long_cluster_tests|0 24
Deleted: src/tests/sasl_fed_ex_dynamic_cluster|0 30
Deleted: src/tests/sasl_fed_ex_link_cluster|0 29
Deleted: src/tests/sasl_fed_ex_queue_cluster|0 29
Deleted: src/tests/sasl_fed_ex_route_cluster|0 29
Deleted: src/tests/start_cluster|0 43
Deleted: src/tests/start_cluster_hosts|0 70
Deleted: src/tests/stop_cluster|0 33
Deleted: src/tests/verify_cluster_objects|0 107

Revision: 5f7b140c2ff14b33b7a633c83444a8adc1ece888
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 05:24:56
Message:
QPID-4514: Remove obsolete cluster code: still more tests #MsgLength=58


----
Modified: src/tests/CMakeLists.txt|1 1
Deleted: src/tests/ForkedBroker.cpp|0 157
Deleted: src/tests/ForkedBroker.h|0 82
Deleted: src/tests/InitialStatusMap.cpp|0 239
Modified: src/tests/Makefile.am|0 4
Deleted: src/tests/PartialFailure.cpp|0 291
Deleted: src/tests/benchmark|0 95
Deleted: src/tests/cpg_check.sh.in|0 38
Modified: src/tests/federation_sys.py|164 1087
Modified: src/tests/ipv6_test|0 40
Deleted: src/tests/run_failover_soak|0 39
Modified: src/tests/run_federation_sys_tests|3 25
Modified: src/tests/ssl_test|0 26
Modified: src/tests/test_env.sh.in|0 2

Revision: c378707e486dde972de1ed73dd541d5131e9e7e3
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 05:37:50
Message:
QPID-1726 ASF licensed store Add new file #MsgLength=44


----
Added: src/finddb.cmake|68 0

Revision: c827d90c7843ed68db49c4260cc94c9d81a847c4
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 06:00:14
Message:
QPID-1726 ASF licensed, Qpid hosted store module Disable building the legacystore component until it has further hardening. #MsgLength=127


----
Modified: src/CMakeLists.txt|1 1

Revision: 68f92617da16681f3ed5ddd3d743782f1104e6fa
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2012 06:19:52
Message:
QPID-4516: Sporadic failure in ha_tests test_failover_send_receive #MsgLength=677


----
Modified: src/qpid/ha/Backup.cpp|3 1
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|7 13
Modified: src/qpid/ha/HaBroker.h|0 1
Modified: src/qpid/ha/Primary.cpp|3 6
Modified: src/qpid/ha/Primary.h|2 2
Modified: src/qpid/ha/RemoteBackup.cpp|10 4
Modified: src/qpid/ha/RemoteBackup.h|5 4

Revision: 20d168a7284793f895d0ab12d6a41c2368df2d79
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 06:38:02
Message:
QPID-1726 ASF licensed, Qpid hosted store module Remove corporate copyright notices. #MsgLength=88


----
Modified: src/qpid/legacystore/BindingDbt.cpp|0 4
Modified: src/qpid/legacystore/BindingDbt.h|0 4
Modified: src/qpid/legacystore/BufferValue.cpp|1 5
Modified: src/qpid/legacystore/BufferValue.h|0 4
Modified: src/qpid/legacystore/Cursor.h|0 4
Modified: src/qpid/legacystore/DataTokenImpl.cpp|0 4
Modified: src/qpid/legacystore/DataTokenImpl.h|0 4
Modified: src/qpid/legacystore/IdDbt.cpp|0 4
Modified: src/qpid/legacystore/IdDbt.h|0 4
Modified: src/qpid/legacystore/IdSequence.cpp|0 4
Modified: src/qpid/legacystore/IdSequence.h|0 4
Modified: src/qpid/legacystore/JournalImpl.cpp|0 4
Modified: src/qpid/legacystore/JournalImpl.h|0 4
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|0 4
Modified: src/qpid/legacystore/MessageStoreImpl.h|0 4
Modified: src/qpid/legacystore/PreparedTransaction.cpp|0 4
Modified: src/qpid/legacystore/PreparedTransaction.h|0 4
Modified: src/qpid/legacystore/StoreException.h|0 4
Modified: src/qpid/legacystore/StorePlugin.cpp|0 4
Modified: src/qpid/legacystore/TxnCtxt.h|0 4
Modified: src/qpid/legacystore/jrnl/aio.cpp|0 3
Modified: src/qpid/legacystore/jrnl/aio.hpp|0 3
Modified: src/qpid/legacystore/jrnl/aio_callback.hpp|0 3
Modified: src/qpid/legacystore/jrnl/cvar.cpp|0 3
Modified: src/qpid/legacystore/jrnl/cvar.hpp|0 3
Modified: src/qpid/legacystore/jrnl/data_tok.cpp|0 3
Modified: src/qpid/legacystore/jrnl/data_tok.hpp|0 3
Modified: src/qpid/legacystore/jrnl/deq_hdr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/deq_rec.cpp|0 3
Modified: src/qpid/legacystore/jrnl/deq_rec.hpp|0 3
Modified: src/qpid/legacystore/jrnl/enq_hdr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/enq_map.cpp|0 3
Modified: src/qpid/legacystore/jrnl/enq_map.hpp|0 3
Modified: src/qpid/legacystore/jrnl/enq_rec.cpp|0 3
Modified: src/qpid/legacystore/jrnl/enq_rec.hpp|0 3
Modified: src/qpid/legacystore/jrnl/enums.hpp|0 3
Modified: src/qpid/legacystore/jrnl/fcntl.cpp|0 3
Modified: src/qpid/legacystore/jrnl/fcntl.hpp|0 3
Modified: src/qpid/legacystore/jrnl/file_hdr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jcfg.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jcntl.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jcntl.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jdir.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jdir.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jerrno.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jerrno.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jexception.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jexception.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jinf.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jinf.hpp|0 3
Modified: src/qpid/legacystore/jrnl/jrec.cpp|0 3
Modified: src/qpid/legacystore/jrnl/jrec.hpp|0 3
Modified: src/qpid/legacystore/jrnl/lp_map.cpp|0 3
Modified: src/qpid/legacystore/jrnl/lp_map.hpp|0 3
Modified: src/qpid/legacystore/jrnl/lpmgr.cpp|0 3
Modified: src/qpid/legacystore/jrnl/lpmgr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/pmgr.cpp|0 3
Modified: src/qpid/legacystore/jrnl/pmgr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rcvdat.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rec_hdr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rec_tail.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rfc.cpp|0 3
Modified: src/qpid/legacystore/jrnl/rfc.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rmgr.cpp|0 3
Modified: src/qpid/legacystore/jrnl/rmgr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/rrfc.cpp|0 5
Modified: src/qpid/legacystore/jrnl/rrfc.hpp|0 3
Modified: src/qpid/legacystore/jrnl/slock.cpp|0 3
Modified: src/qpid/legacystore/jrnl/slock.hpp|0 3
Modified: src/qpid/legacystore/jrnl/smutex.cpp|0 3
Modified: src/qpid/legacystore/jrnl/smutex.hpp|0 3
Modified: src/qpid/legacystore/jrnl/time_ns.cpp|0 3
Modified: src/qpid/legacystore/jrnl/time_ns.hpp|0 3
Modified: src/qpid/legacystore/jrnl/txn_hdr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/txn_map.cpp|0 3
Modified: src/qpid/legacystore/jrnl/txn_map.hpp|0 3
Modified: src/qpid/legacystore/jrnl/txn_rec.cpp|0 3
Modified: src/qpid/legacystore/jrnl/txn_rec.hpp|0 3
Modified: src/qpid/legacystore/jrnl/wmgr.cpp|0 3
Modified: src/qpid/legacystore/jrnl/wmgr.hpp|0 3
Modified: src/qpid/legacystore/jrnl/wrfc.cpp|0 3
Modified: src/qpid/legacystore/jrnl/wrfc.hpp|0 3
Modified: src/qpid/legacystore/management-schema.xml|5 9

Revision: f5e7b8bd9fe4ab967127fc04cb2f0908c919ea0f
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 06:44:01
Message:
QPID-1726 ASF licensed, Qpid hosted store module Repair typo. #MsgLength=65


----
Modified: src/qpid/legacystore/BufferValue.cpp|1 1

Revision: 896587fcdb3f0884e732a52c0df496150a362855
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/12/2012 08:35:13
Message:
QPID-4514: Remove obsolete cluster code: Remove cluster.xml from CMakeLists.txt #MsgLength=80


----
Modified: CMakeLists.txt|1 2

Revision: 139fba3ffae3df23b00c3fd63f0c264d1a442c5c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/12/2012 08:35:54
Message:
QPID-4095: Move the directory iteration into FileSysDir: - For Posix implement with direct calls - For windows implement with v2/v3 boost::filesystem to be replaced later #MsgLength=171


----
Modified: src/CMakeLists.txt|0 2
Modified: src/Makefile.am|0 1
Modified: src/qpid/Modules.cpp|23 26
Modified: src/qpid/Modules.h|1 1
Modified: src/qpid/client/LoadPlugins.cpp|1 1
Modified: src/qpid/sys/FileSysDir.h|9 0
Modified: src/qpid/sys/posix/FileSysDir.cpp|26 0
Modified: src/qpid/sys/windows/FileSysDir.cpp|14 0
Modified: src/qpidd.cpp|1 1

Revision: e8a8731bebda1bc3af541575eacca5d53473bf8c
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 22:50:15
Message:
NO-JIRA: Repair include guards that are absent or fail to encompass everything. #MsgLength=81


----
Modified: src/qpid/framing/FrameSet.h|4 4
Modified: src/qpid/sys/OutputControl.h|4 4
Modified: src/tests/MessageUtils.h|5 0

Revision: 5ebf3f52beae7fd5f04c9c174501ff64ce13d173
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 23:20:35
Message:
QPID-4514: Remove obsolete cluster code: still more in plugin #MsgLength=64


----
Modified: src/qpid/legacystore/StorePlugin.cpp|2 7

Revision: da285fc6bf149d320d84e6c9497aff04995bc565
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2012 23:33:18
Message:
QPID-1726 ASF licensed, Qpid hosted store module Project standard:  rename files from .hpp to .h #MsgLength=98


----
Renamed: src/qpid/legacystore/jrnl/aio.h [from src/qpid/legacystore/jrnl/aio.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/aio_callback.h [from src/qpid/legacystore/jrnl/aio_callback.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/cvar.h [from src/qpid/legacystore/jrnl/cvar.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/data_tok.h [from src/qpid/legacystore/jrnl/data_tok.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/deq_hdr.h [from src/qpid/legacystore/jrnl/deq_hdr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/deq_rec.h [from src/qpid/legacystore/jrnl/deq_rec.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/enq_hdr.h [from src/qpid/legacystore/jrnl/enq_hdr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/enq_map.h [from src/qpid/legacystore/jrnl/enq_map.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/enq_rec.h [from src/qpid/legacystore/jrnl/enq_rec.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/enums.h [from src/qpid/legacystore/jrnl/enums.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/fcntl.h [from src/qpid/legacystore/jrnl/fcntl.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/file_hdr.h [from src/qpid/legacystore/jrnl/file_hdr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jcfg.h [from src/qpid/legacystore/jrnl/jcfg.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jcntl.h [from src/qpid/legacystore/jrnl/jcntl.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jdir.h [from src/qpid/legacystore/jrnl/jdir.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jerrno.h [from src/qpid/legacystore/jrnl/jerrno.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jexception.h [from src/qpid/legacystore/jrnl/jexception.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jinf.h [from src/qpid/legacystore/jrnl/jinf.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/jrec.h [from src/qpid/legacystore/jrnl/jrec.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/lp_map.h [from src/qpid/legacystore/jrnl/lp_map.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/lpmgr.h [from src/qpid/legacystore/jrnl/lpmgr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/pmgr.h [from src/qpid/legacystore/jrnl/pmgr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rcvdat.h [from src/qpid/legacystore/jrnl/rcvdat.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rec_hdr.h [from src/qpid/legacystore/jrnl/rec_hdr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rec_tail.h [from src/qpid/legacystore/jrnl/rec_tail.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rfc.h [from src/qpid/legacystore/jrnl/rfc.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rmgr.h [from src/qpid/legacystore/jrnl/rmgr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/rrfc.h [from src/qpid/legacystore/jrnl/rrfc.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/slock.h [from src/qpid/legacystore/jrnl/slock.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/smutex.h [from src/qpid/legacystore/jrnl/smutex.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/time_ns.h [from src/qpid/legacystore/jrnl/time_ns.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/txn_hdr.h [from src/qpid/legacystore/jrnl/txn_hdr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/txn_map.h [from src/qpid/legacystore/jrnl/txn_map.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/txn_rec.h [from src/qpid/legacystore/jrnl/txn_rec.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/wmgr.h [from src/qpid/legacystore/jrnl/wmgr.hpp]|0 0
Renamed: src/qpid/legacystore/jrnl/wrfc.h [from src/qpid/legacystore/jrnl/wrfc.hpp]|0 0

Revision: 5aa9fc72893a11ded3d86eb72f2dd701951c4e9a
Author: Charles E. Rolke <chug@apache.org>
Date: 21/12/2012 00:56:38
Message:
QPID-1726: ASF licensed, Qpid hosted store module #MsgLength=324


----
Modified: src/qpid/legacystore/BindingDbt.h|7 7
Modified: src/qpid/legacystore/BufferValue.h|5 5
Modified: src/qpid/legacystore/Cursor.h|3 3
Modified: src/qpid/legacystore/DataTokenImpl.h|5 5
Modified: src/qpid/legacystore/IdDbt.h|3 3
Modified: src/qpid/legacystore/IdSequence.h|5 5
Modified: src/qpid/legacystore/JournalImpl.cpp|2 2
Modified: src/qpid/legacystore/JournalImpl.h|8 8
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|1 1
Modified: src/qpid/legacystore/MessageStoreImpl.h|4 4
Modified: src/qpid/legacystore/PreparedTransaction.h|3 3
Modified: src/qpid/legacystore/StoreException.h|3 3
Modified: src/qpid/legacystore/TxnCtxt.cpp|1 1
Modified: src/qpid/legacystore/TxnCtxt.h|5 3
Modified: src/qpid/legacystore/jrnl/aio.cpp|2 2
Modified: src/qpid/legacystore/jrnl/aio.h|4 4
Modified: src/qpid/legacystore/jrnl/aio_callback.h|4 4
Modified: src/qpid/legacystore/jrnl/cvar.cpp|2 2
Modified: src/qpid/legacystore/jrnl/cvar.h|8 8
Modified: src/qpid/legacystore/jrnl/data_tok.cpp|5 5
Modified: src/qpid/legacystore/jrnl/data_tok.h|5 5
Modified: src/qpid/legacystore/jrnl/deq_hdr.h|5 5
Modified: src/qpid/legacystore/jrnl/deq_rec.cpp|4 4
Modified: src/qpid/legacystore/jrnl/deq_rec.h|6 6
Modified: src/qpid/legacystore/jrnl/enq_hdr.h|5 5
Modified: src/qpid/legacystore/jrnl/enq_map.cpp|4 4
Modified: src/qpid/legacystore/jrnl/enq_map.h|6 6
Modified: src/qpid/legacystore/jrnl/enq_rec.cpp|4 4
Modified: src/qpid/legacystore/jrnl/enq_rec.h|6 6
Modified: src/qpid/legacystore/jrnl/enums.h|4 4
Modified: src/qpid/legacystore/jrnl/fcntl.cpp|4 4
Modified: src/qpid/legacystore/jrnl/fcntl.h|5 5
Modified: src/qpid/legacystore/jrnl/file_hdr.h|7 7
Modified: src/qpid/legacystore/jrnl/jcfg.h|4 4
Modified: src/qpid/legacystore/jrnl/jcntl.cpp|5 5
Modified: src/qpid/legacystore/jrnl/jcntl.h|13 13
Modified: src/qpid/legacystore/jrnl/jdir.cpp|5 5
Modified: src/qpid/legacystore/jrnl/jdir.h|5 5
Modified: src/qpid/legacystore/jrnl/jerrno.cpp|3 3
Modified: src/qpid/legacystore/jrnl/jerrno.h|4 4
Modified: src/qpid/legacystore/jrnl/jexception.cpp|3 3
Modified: src/qpid/legacystore/jrnl/jexception.h|5 5
Modified: src/qpid/legacystore/jrnl/jinf.cpp|6 6
Modified: src/qpid/legacystore/jrnl/jinf.h|4 4
Modified: src/qpid/legacystore/jrnl/jrec.cpp|4 4
Modified: src/qpid/legacystore/jrnl/jrec.h|6 6
Modified: src/qpid/legacystore/jrnl/lp_map.cpp|4 4
Modified: src/qpid/legacystore/jrnl/lp_map.h|4 4
Modified: src/qpid/legacystore/jrnl/lpmgr.cpp|4 4
Modified: src/qpid/legacystore/jrnl/lpmgr.h|5 5
Modified: src/qpid/legacystore/jrnl/pmgr.cpp|5 5
Modified: src/qpid/legacystore/jrnl/pmgr.h|13 13
Modified: src/qpid/legacystore/jrnl/rcvdat.h|5 5
Modified: src/qpid/legacystore/jrnl/rec_hdr.h|5 5
Modified: src/qpid/legacystore/jrnl/rec_tail.h|5 5
Modified: src/qpid/legacystore/jrnl/rfc.cpp|2 2
Modified: src/qpid/legacystore/jrnl/rfc.h|6 6
Modified: src/qpid/legacystore/jrnl/rmgr.cpp|4 4
Modified: src/qpid/legacystore/jrnl/rmgr.h|9 9
Modified: src/qpid/legacystore/jrnl/rrfc.cpp|4 4
Modified: src/qpid/legacystore/jrnl/rrfc.h|6 6
Modified: src/qpid/legacystore/jrnl/slock.cpp|2 2
Modified: src/qpid/legacystore/jrnl/slock.h|6 6
Modified: src/qpid/legacystore/jrnl/smutex.cpp|2 2
Modified: src/qpid/legacystore/jrnl/smutex.h|5 5
Modified: src/qpid/legacystore/jrnl/time_ns.cpp|1 1
Modified: src/qpid/legacystore/jrnl/time_ns.h|4 4
Modified: src/qpid/legacystore/jrnl/txn_hdr.h|5 5
Modified: src/qpid/legacystore/jrnl/txn_map.cpp|5 5
Modified: src/qpid/legacystore/jrnl/txn_map.h|5 5
Modified: src/qpid/legacystore/jrnl/txn_rec.cpp|4 4
Modified: src/qpid/legacystore/jrnl/txn_rec.h|6 6
Modified: src/qpid/legacystore/jrnl/wmgr.cpp|5 5
Modified: src/qpid/legacystore/jrnl/wmgr.h|7 7
Modified: src/qpid/legacystore/jrnl/wrfc.cpp|4 4
Modified: src/qpid/legacystore/jrnl/wrfc.h|6 6

Revision: 49d9df1146a2d03e528e862a59ac7c83a4effe14
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/12/2012 01:48:39
Message:
NO-JIRA: Stop using boost::filesystem for something that std::fstream can do well enough #MsgLength=89


----
Modified: src/qpid/sys/ssl/util.cpp|8 11

Revision: e7a93dd3a9a453831b1b5ed591b20663b1e43a62
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/12/2012 01:48:45
Message:
NO-JIRA: Stop linking boost filesystem library in Posix port as it isn't used anymore (yay!) #MsgLength=93


----
Modified: src/CMakeLists.txt|2 4
Modified: src/Makefile.am|0 1

Revision: a492df8048f7e6db1337bec410f4fd38e325a4a5
Author: Alan Conway <aconway@apache.org>
Date: 21/12/2012 02:28:58
Message:
Bug 886656 - HA backup broker does not properly increment the alternate exchange user count #MsgLength=161


----
Modified: src/qpid/broker/Broker.cpp|8 9
Modified: src/qpid/broker/Exchange.cpp|1 0
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 4
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/QueueRegistry.cpp|1 3
Modified: src/tests/ha_tests.py|28 7

Revision: be3812535f5da41a2f03eede0b721b2949af1375
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/12/2012 07:42:57
Message:
NO-JIRA: Removed some unused Broker code #MsgLength=41


----
Modified: src/qpid/broker/Broker.cpp|2 13
Modified: src/qpid/broker/Broker.h|1 9

Revision: d6fa58706d7b892853de27a50071e735d8b18012
Author: Andrew Stitcher <astitcher@apache.org>
Date: 21/12/2012 07:55:17
Message:
NO-JIRA: Removed unnecessary header includes #MsgLength=45


----
Modified: src/qpid/store/MessageStorePlugin.h|9 5

Revision: 7c6549e890737d6fb4c2e8090ee2f5dc52c012dd
Author: Charles E. Rolke <chug@apache.org>
Date: 22/12/2012 00:33:56
Message:
QPID-1726 ASF licensed, Qpid hosted store module #MsgLength=151


----
Modified: src/qpid/legacystore/BindingDbt.cpp|1 1
Modified: src/qpid/legacystore/BufferValue.cpp|1 1
Modified: src/qpid/legacystore/DataTokenImpl.cpp|1 1
Modified: src/qpid/legacystore/DataTokenImpl.h|1 1
Modified: src/qpid/legacystore/IdDbt.cpp|1 1
Modified: src/qpid/legacystore/IdSequence.cpp|1 1
Modified: src/qpid/legacystore/JournalImpl.cpp|4 4
Modified: src/qpid/legacystore/JournalImpl.h|4 4
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|6 6
Modified: src/qpid/legacystore/MessageStoreImpl.h|7 7
Modified: src/qpid/legacystore/PreparedTransaction.cpp|1 1
Modified: src/qpid/legacystore/StoreException.h|1 1
Modified: src/qpid/legacystore/StorePlugin.cpp|1 1
Modified: src/qpid/legacystore/TxnCtxt.cpp|3 3
Modified: src/qpid/legacystore/TxnCtxt.h|4 4
Modified: src/qpid/legacystore/jrnl/aio.cpp|1 1
Modified: src/qpid/legacystore/jrnl/cvar.cpp|1 1
Modified: src/qpid/legacystore/jrnl/cvar.h|4 4
Modified: src/qpid/legacystore/jrnl/data_tok.cpp|4 4
Modified: src/qpid/legacystore/jrnl/data_tok.h|1 1
Modified: src/qpid/legacystore/jrnl/deq_hdr.h|1 1
Modified: src/qpid/legacystore/jrnl/deq_rec.cpp|2 2
Modified: src/qpid/legacystore/jrnl/deq_rec.h|2 2
Modified: src/qpid/legacystore/jrnl/enq_hdr.h|1 1
Modified: src/qpid/legacystore/jrnl/enq_map.cpp|3 3
Modified: src/qpid/legacystore/jrnl/enq_map.h|2 2
Modified: src/qpid/legacystore/jrnl/enq_rec.cpp|3 3
Modified: src/qpid/legacystore/jrnl/enq_rec.h|2 2
Modified: src/qpid/legacystore/jrnl/fcntl.cpp|3 3
Modified: src/qpid/legacystore/jrnl/fcntl.h|1 1
Modified: src/qpid/legacystore/jrnl/file_hdr.h|3 3
Modified: src/qpid/legacystore/jrnl/jcntl.cpp|4 4
Modified: src/qpid/legacystore/jrnl/jcntl.h|9 9
Modified: src/qpid/legacystore/jrnl/jdir.cpp|4 4
Modified: src/qpid/legacystore/jrnl/jdir.h|1 1
Modified: src/qpid/legacystore/jrnl/jerrno.cpp|1 1
Modified: src/qpid/legacystore/jrnl/jexception.cpp|2 2
Modified: src/qpid/legacystore/jrnl/jexception.h|1 1
Modified: src/qpid/legacystore/jrnl/jinf.cpp|4 4
Modified: src/qpid/legacystore/jrnl/jrec.cpp|3 3
Modified: src/qpid/legacystore/jrnl/jrec.h|2 2
Modified: src/qpid/legacystore/jrnl/lp_map.cpp|3 3
Modified: src/qpid/legacystore/jrnl/lpmgr.cpp|3 3
Modified: src/qpid/legacystore/jrnl/lpmgr.h|1 1
Modified: src/qpid/legacystore/jrnl/pmgr.cpp|4 4
Modified: src/qpid/legacystore/jrnl/pmgr.h|9 9
Modified: src/qpid/legacystore/jrnl/rcvdat.h|1 1
Modified: src/qpid/legacystore/jrnl/rec_hdr.h|1 1
Modified: src/qpid/legacystore/jrnl/rec_tail.h|1 1
Modified: src/qpid/legacystore/jrnl/rfc.cpp|1 1
Modified: src/qpid/legacystore/jrnl/rfc.h|2 2
Modified: src/qpid/legacystore/jrnl/rmgr.cpp|3 3
Modified: src/qpid/legacystore/jrnl/rrfc.cpp|3 3
Modified: src/qpid/legacystore/jrnl/rrfc.h|2 2
Modified: src/qpid/legacystore/jrnl/slock.cpp|1 1
Modified: src/qpid/legacystore/jrnl/slock.h|2 2
Modified: src/qpid/legacystore/jrnl/smutex.cpp|1 1
Modified: src/qpid/legacystore/jrnl/smutex.h|1 1
Modified: src/qpid/legacystore/jrnl/time_ns.cpp|1 1
Modified: src/qpid/legacystore/jrnl/txn_hdr.h|1 1
Modified: src/qpid/legacystore/jrnl/txn_map.cpp|4 4
Modified: src/qpid/legacystore/jrnl/txn_map.h|1 1
Modified: src/qpid/legacystore/jrnl/txn_rec.cpp|3 3
Modified: src/qpid/legacystore/jrnl/txn_rec.h|2 2
Modified: src/qpid/legacystore/jrnl/wmgr.cpp|5 5
Modified: src/qpid/legacystore/jrnl/wmgr.h|4 4
Modified: src/qpid/legacystore/jrnl/wrfc.cpp|5 5
Modified: src/qpid/legacystore/jrnl/wrfc.h|2 2

Revision: 4df7b75feaece22c7b87afa788e37e56133dca9e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/12/2012 01:04:22
Message:
NO-JIRA: Removed some unused Timer features (old cluster used to use them) #MsgLength=75


----
Modified: src/qpid/sys/Timer.cpp|1 8
Modified: src/qpid/sys/Timer.h|1 1

Revision: b8ec8992c1f220c1014d397672a4fd8c9c2eba15
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/12/2012 01:04:33
Message:
NO-JIRA: Removed Timer.h out of the chain of header files included by Broker.h (since that is widely included) to avoid unnecessary recompilation #MsgLength=146


----
Modified: src/qpid/broker/Broker.cpp|5 3
Modified: src/qpid/broker/Broker.h|3 3
Modified: src/qpid/broker/Connection.cpp|1 0
Modified: src/qpid/broker/DtxManager.cpp|28 13
Modified: src/qpid/broker/DtxManager.h|4 9
Modified: src/qpid/broker/DtxWorkRecord.cpp|9 0
Modified: src/qpid/broker/DtxWorkRecord.h|4 3
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/QueueCleaner.cpp|23 10
Modified: src/qpid/broker/QueueCleaner.h|10 10
Modified: src/qpid/broker/SessionAdapter.cpp|1 0
Modified: src/qpid/broker/SessionState.h|1 0
Modified: src/qpid/management/ManagementAgent.cpp|31 15
Modified: src/qpid/management/ManagementAgent.h|3 10
Modified: src/tests/QueueTest.cpp|1 0

Revision: b5cdf3ee3c27f76c3516524466979d40403bebcd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/12/2012 01:04:44
Message:
NO-JIRA: Removed Broker.h from all unnecessary header files #MsgLength=60


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/Bridge.cpp|2 0
Modified: src/qpid/broker/Connection.h|3 0
Modified: src/qpid/broker/ConnectionHandler.cpp|3 1
Added: src/qpid/broker/ConnectionState.cpp|38 0
Modified: src/qpid/broker/ConnectionState.h|8 11
Modified: src/qpid/broker/LinkRegistry.cpp|3 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 0
Modified: src/qpid/broker/SecureConnectionFactory.cpp|4 2
Modified: src/qpid/broker/SemanticState.cpp|2 0
Modified: src/qpid/broker/SessionAdapter.cpp|2 0
Modified: src/qpid/broker/SessionHandler.cpp|2 1
Modified: src/qpid/management/ManagementAgent.cpp|2 1

Revision: d81c7962bbe241b1c07fc072ad4cc830f8d00262
Author: Charles E. Rolke <chug@apache.org>
Date: 22/12/2012 04:52:34
Message:
NO-JIRA: Added Broker.h to recover from r1425038 in windows builds #MsgLength=67


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 0
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|1 0

Revision: 61ec0e7f1e4f8e08b76fd431d3fd9eaeaca273fa
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/01/2013 06:51:39
Message:
NO-JIRA - add newline at end of file #MsgLength=37


----
Modified: src/qpid/broker/ConnectionState.cpp|1 1

Revision: f5480646706fa07a51ad216551abc8c85da056eb
Author: Stephen D. Huston <shuston@apache.org>
Date: 03/01/2013 07:12:40
Message:
NO-JIRA - refer to DtxTimeout as the struct it is, not a class. Avoids a VC diagnostic. #MsgLength=88


----
Modified: src/qpid/broker/DtxWorkRecord.h|1 1

Revision: d49b55a2b7faae4554eeae19612e4fd3f1b3c05e
Author: Alan Conway <aconway@apache.org>
Date: 04/01/2013 06:06:56
Message:
QPID-4514: Remove obsolete cluster code: brokertest.py #MsgLength=105


----
Modified: src/tests/brokertest.py|7 85

Revision: a6a0d545dc34519938e0f30500cfb30179edb7b3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/01/2013 13:14:33
Message:
NO-JIRA: slim down some header file inclusions #MsgLength=47


----
Modified: src/qpid/broker/Broker.cpp|4 0
Modified: src/qpid/broker/Broker.h|6 18
Modified: src/qpid/broker/ConsumerFactory.h|5 2
Modified: src/qpid/broker/Link.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|29 29
Modified: src/qpid/broker/SemanticState.h|102 98
Modified: src/qpid/ha/ReplicatingSubscription.h|2 0
Modified: src/tests/BrokerMgmtAgent.cpp|1 0
Modified: src/tests/test_store.cpp|1 0

Revision: c4c69c71647fa0e84d4ec663bfd562a50f8523aa
Author: Charles E. Rolke <chug@apache.org>
Date: 04/01/2013 23:03:27
Message:
NO-JIRA: restore inclusion for Windows builds broken by r1428722 #MsgLength=65


----
Modified: src/windows/QpiddBroker.cpp|1 0

Revision: d08387ee1862118f251f14b7e10e2a347ad99390
Author: Charles E. Rolke <chug@apache.org>
Date: 08/01/2013 03:43:36
Message:
QPID-1726 ASF licensed Qpid store. Enable legacystore build in normal processing. Rewrite CMake to have look and feel of cpp/src CMake code. #MsgLength=144


----
Modified: src/CMakeLists.txt|5 5
Modified: src/legacystore.cmake|44 34

Revision: 8d77e8ef4f2a0ff30d250e3b8e67347236dfdf7d
Author: Charles E. Rolke <chug@apache.org>
Date: 08/01/2013 04:17:19
Message:
QPID-1726 ASF licensed Qpid store Update legacystore from changes in source svn revisions 4514 to 4528. #MsgLength=106


----
Modified: src/qpid/legacystore/JournalImpl.cpp|18 17
Modified: src/qpid/legacystore/JournalImpl.h|3 3
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|16 12
Modified: src/qpid/legacystore/MessageStoreImpl.h|4 6
Modified: src/qpid/legacystore/StorePlugin.cpp|2 2

Revision: b2ff2214b6b339fcd2c19066c499920033160c2b
Author: Charles E. Rolke <chug@apache.org>
Date: 08/01/2013 05:24:48
Message:
QPID-1726 ASF licensed Qpid Store Add unit tests. #MsgLength=853


----
Modified: src/tests/CMakeLists.txt|5 0
Added: src/tests/legacystore/.valgrind.supp|35 0
Added: src/tests/legacystore/.valgrindrc|7 0
Added: src/tests/legacystore/CMakeLists.txt|111 0
Added: src/tests/legacystore/MessageUtils.h|105 0
Added: src/tests/legacystore/OrderingTest.cpp|168 0
Added: src/tests/legacystore/SimpleTest.cpp|497 0
Added: src/tests/legacystore/TestFramework.cpp|30 0
Added: src/tests/legacystore/TestFramework.h|37 0
Added: src/tests/legacystore/TransactionalTest.cpp|351 0
Added: src/tests/legacystore/TwoPhaseCommitTest.cpp|675 0
Added: src/tests/legacystore/clean.sh|32 0
Added: src/tests/legacystore/persistence.py|574 0
Added: src/tests/legacystore/run_long_python_tests|21 0
Added: src/tests/legacystore/run_python_tests|64 0
Added: src/tests/legacystore/run_short_python_tests|21 0
Added: src/tests/legacystore/run_test|69 0
Added: src/tests/legacystore/start_broker|25 0
Added: src/tests/legacystore/stop_broker|46 0
Added: src/tests/legacystore/system_test.sh|51 0
Added: src/tests/legacystore/tests_env.sh|260 0
Added: src/tests/legacystore/unit_test.cpp|28 0
Added: src/tests/legacystore/unit_test.h|69 0

Revision: e5b6b04967eeb2eafe77be967241217187466c01
Author: Justin Ross <jross@apache.org>
Date: 08/01/2013 23:42:06
Message:
QPID-4368: Add missing dist file #MsgLength=33


----
Modified: src/ssl.mk|2 1

Revision: 538ea55afffbe41092b801c8c3f50ee9fdc303a9
Author: Charles E. Rolke <chug@apache.org>
Date: 08/01/2013 23:48:00
Message:
QPID-1726 ASF licensed Qpid store - disable building this component #MsgLength=70


----
Modified: src/CMakeLists.txt|1 1
Modified: src/tests/CMakeLists.txt|1 1

Revision: cab3389502f043f1028a5b3d1e77f0f4cb166e0a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 09/01/2013 03:46:14
Message:
NO-JIRA: Removed Makefile.PL from DISTCLEANFILES in Autotools. #MsgLength=174


----
Modified: bindings/qpid/Makefile.am|0 1

Revision: f0d2459a46d3510a70fda76735b6e13a7b2d4ef4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/01/2013 06:17:55
Message:
QPID-4315: Changed Connection management name to be supplied by Link code on outgoing connections so that the Link code can correlate the connection with the Link using the name. #MsgLength=179


----
Modified: src/qpid/broker/Broker.cpp|2 1
Modified: src/qpid/broker/Broker.h|2 1
Modified: src/qpid/broker/Link.cpp|1 9
Modified: src/qpid/broker/Link.h|0 1
Modified: src/qpid/broker/LinkRegistry.cpp|6 42
Modified: src/qpid/sys/AsynchIOHandler.cpp|2 2
Modified: src/qpid/sys/AsynchIOHandler.h|1 3
Modified: src/qpid/sys/ProtocolFactory.h|1 0
Modified: src/qpid/sys/RdmaIOPlugin.cpp|4 2
Modified: src/qpid/sys/SslPlugin.cpp|20 14
Modified: src/qpid/sys/TCPIOPlugin.cpp|22 11

Revision: 4c2ea6932cee3b2a279090acc3d9ffc91a0b7312
Author: Michael Goulish <mgoulish@apache.org>
Date: 10/01/2013 03:23:36
Message:
QPID-4518 : disallow unknown args in config file Change EnvOptMapper::configFileLine to take ar arg telling it if it's OK to have unknown args or not.  If not, throw upon encountering. From the higher level of run_broker(), there are two passes of arg parsing.  In the first pass it's normal to have unknown args, because the loadable modules are not loaded yet.  But I change the second parsing to pass down the arg that says "unknowns are not okay." #MsgLength=454


----
Modified: src/qpid/Options.cpp|41 12
Modified: src/qpidd.cpp|4 2

Revision: a8b71cd5b22510ba0dd7f41f6b2bb18049b25558
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/01/2013 06:29:34
Message:
QPID-4315: Make Windows work #MsgLength=70


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|379 367

Revision: 9deb6f18cd74d2916087691e54e436b457b39553
Author: Michael Goulish <mgoulish@apache.org>
Date: 10/01/2013 23:36:02
Message:
JIRA-4531 : Variant.cpp cast of -0 failing with older GCC #MsgLength=59


----
Modified: src/qpid/types/Variant.cpp|10 0

Revision: ac896dfde01771e3a12082fbd92386a0425f4995
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/01/2013 00:49:20
Message:
NO-JIRA: Expand Variant tests to test previous Variant conversion checkin #MsgLength=74


----
Modified: src/tests/Variant.cpp|10 0

Revision: f815648304f2124bae38e9fe369adf36025a4f31
Author: Michael Goulish <mgoulish@apache.org>
Date: 11/01/2013 01:26:13
Message:
NO-JIRA : undoing r1431435.  It's wrong, wrong, wrong! #MsgLength=56


----
Modified: src/qpid/types/Variant.cpp|0 9

Revision: 168a97525178a828973ac31a3dbfc4bf5e89890b
Author: Michael Goulish <mgoulish@apache.org>
Date: 11/01/2013 02:35:15
Message:
QPID-4531 : older GCC libs have error on negative-zero cast. This is a real fix, a replacement for r1431435, which was written by a crazy person. #MsgLength=147


----
Modified: src/qpid/types/Variant.cpp|13 7

Revision: e99a69200ba9a9c06dab4261f4d54da5a0a7368e
Author: Charles E. Rolke <chug@apache.org>
Date: 11/01/2013 04:57:50
Message:
QPID-1726 ASF licensed QPID store - reenable in build Add new legacystore.cmake to EXTRA_DIST in makefile suite. Fix cmake scripts for core library and tests. Note: Tests are not truly integrated. Four standalone unit tests are starters for proving functionality. #MsgLength=264


----
Modified: src/CMakeLists.txt|2 2
Modified: src/Makefile.am|1 0
Modified: src/finddb.cmake|7 1
Modified: src/legacystore.cmake|97 92
Modified: src/tests/CMakeLists.txt|1 1
Modified: src/tests/legacystore/CMakeLists.txt|6 0

Revision: 0903d86a3127b02c5165d235be0fd92215e38626
Author: Alan Conway <aconway@apache.org>
Date: 12/01/2013 04:22:14
Message:
NO-JIRA: HA log message missing sequence number. #MsgLength=49


----
Modified: src/qpid/ha/QueueGuard.cpp|1 1

Revision: 1c335143df38c31b8283dc927e7bba218a45c3b6
Author: Alan Conway <aconway@apache.org>
Date: 12/01/2013 04:34:19
Message:
QPID-4516: Sporadic failure in ha_tests test_failover_send_receive #MsgLength=547


----
Modified: src/qpid/ha/HaBroker.cpp|48 31
Modified: src/qpid/ha/HaBroker.h|3 4
Modified: src/qpid/ha/Primary.cpp|4 0
Modified: src/qpid/ha/RemoteBackup.cpp|2 0
Modified: src/qpid/ha/StatusCheck.h|8 1
Modified: src/tests/ha_tests.py|8 5

Revision: 172f1e4c613a6244b8efbdffa0728f5b174e3414
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 03:08:37
Message:
QPID-4514: Clean up cluster code: Obsolete comment in BSDSocket.cpp. #MsgLength=69


----
Modified: src/qpid/sys/posix/BSDSocket.cpp|0 5

Revision: b80c2831c9f47f88ee03f0cd9d06506ede4c7e23
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 03:08:45
Message:
QPID-4514: Clean up cluster code: Obsolete management import/export functions. #MsgLength=160


----
Modified: src/qpid/management/ManagementAgent.cpp|0 178
Modified: src/qpid/management/ManagementAgent.h|0 27
Modified: src/tests/BrokerMgmtAgent.cpp|0 355

Revision: 4f358c80e4517f5a07ca25093990dfe3db0d6fd2
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 03:08:53
Message:
QPID-4514: Clean up cluster code: SessionImpl #MsgLength=269


----
Modified: src/qpid/client/SessionImpl.cpp|34 74
Modified: src/qpid/client/SessionImpl.h|1 18

Revision: 5631c95044927ecd28d8cf2f12fc0b3b983b3249
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 03:08:59
Message:
QPID-4514: Clean up cluster code: sasl_fed_ex test #MsgLength=123


----
Modified: src/tests/sasl_fed_ex|11 81

Revision: 8051deb2dc85b9783a9cf39f57f57e7cdc289809
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/01/2013 03:17:00
Message:
QPID-4536: Remove functionality which automatically makes a broker advertise all its network interfaces as potential failover endpoints. #MsgLength=137


----
Modified: include/qpid/Url.h|0 7
Modified: include/qpid/sys/SystemInfo.h|0 6
Modified: src/qpid/Url.cpp|0 13
Modified: src/qpid/broker/Broker.cpp|10 15
Modified: src/qpid/sys/posix/SystemInfo.cpp|0 45
Modified: src/qpid/sys/solaris/SystemInfo.cpp|0 25
Modified: src/qpid/sys/windows/SystemInfo.cpp|0 29

Revision: 3126871c6ea6e3236808c2faea809724fbf1faa6
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 03:35:07
Message:
QPID-4514: Clean up cluster code: remove unused testlib.py #MsgLength=59


----
Deleted: src/tests/testlib.py|0 766

Revision: 0aa7ee6ffba36f3a239172f5a5b1c4245faf87c9
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 04:07:15
Message:
QPID-4514: Clean up cluster code: remove passive links. #MsgLength=140


----
Modified: src/qpid/broker/Link.cpp|3 25
Modified: src/qpid/broker/Link.h|0 2
Modified: src/qpid/broker/LinkRegistry.cpp|2 14
Modified: src/qpid/broker/LinkRegistry.h|0 10

Revision: 5c94b678195a2583719eae3eafbe793a86029714
Author: Charles E. Rolke <chug@apache.org>
Date: 15/01/2013 04:58:43
Message:
QPID-4535 Cmake build broken by legacy store Check for libaio and uuid. Fix logic error that allowed build to proceed when DB_FOUND was false. Remove unnecessary 'rt' from link. #MsgLength=180


----
Modified: src/legacystore.cmake|31 3

Revision: a90a555dc8f929538c074b21dcfd2e4940a056af
Author: Alan Conway <aconway@apache.org>
Date: 15/01/2013 05:33:52
Message:
NO-JIRA: Add brokertest.py to EXTRA_DIST, required by ha_tests.py. #MsgLength=67


----
Modified: src/tests/Makefile.am|1 0

Revision: c894d3378091d7145bc27defaebf521ad744dc04
Author: Alan Conway <aconway@apache.org>
Date: 16/01/2013 05:19:03
Message:
QPID-4516: Undo use of atomic status in HaBroker.cpp #MsgLength=125


----
Modified: src/qpid/ha/HaBroker.cpp|27 36
Modified: src/qpid/ha/HaBroker.h|2 3

Revision: 9544b911389382b2d4271659b46a2085e449b6bd
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 18/01/2013 21:36:51
Message:
JIRA-4372: Added a CMakeLists.txt file for messaging examples. #MsgLength=218


----
Modified: examples/messaging/CMakeLists.txt|12 41
Modified: examples/messaging/Makefile.am|1 1
Added: examples/messaging/extra_dist/CMakeLists.txt|62 0
Deleted: examples/messaging/extra_dist/Makefile|0 30

Revision: 331bd8801dd7f2e5eb72e06dfb7bf7367daa72d2
Author: Charles E. Rolke <chug@apache.org>
Date: 19/01/2013 04:07:41
Message:
QPID-4095: New boost filesystem support. This commit removes the requirement for Boost filesystem in Windows. The code in FileSysDir that used Boost is rewritten to use simple windows native calls instead. #MsgLength=295


----
Modified: src/CMakeLists.txt|6 14
Modified: src/qpid/sys/windows/FileSysDir.cpp|30 9

Revision: b34b2d4f7a114fd257b61d1ae3b4871270b35430
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2013 01:31:24
Message:
QPID-4545: expose certain 'internal' symbols necessary for AMQP 1.0 support #MsgLength=76


----
Modified: src/CMakeLists.txt|8 7

Revision: 7d49c8b8d10920b17569d1d48886e10f2ed409e5
Author: Ted Ross <tross@apache.org>
Date: 22/01/2013 02:02:51
Message:
QPID-4543 - The Move-Messages method no longer returns an error if no messages were moved. #MsgLength=92


----
Modified: src/qpid/broker/Broker.cpp|10 10
Modified: src/qpid/broker/Broker.h|3 1

Revision: 71b2a6f4a4f424bda97a6ac14ee82d5052df262c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/01/2013 03:02:22
Message:
NO-JIRA: Add abort() implementation for SSL client code - this make heartbeats work for SSL client connections too. #MsgLength=116


----
Modified: src/qpid/client/SslConnector.cpp|21 1

Revision: cf959fb4f72222ebe1acde7080f59b512db17226
Author: Ken Giusti <kgiusti@apache.org>
Date: 23/01/2013 05:35:09
Message:
QPID-4546: delete links regardless of connection state. #MsgLength=56


----
Modified: src/qpid/broker/Link.cpp|76 44
Modified: src/qpid/broker/Link.h|1 1

Revision: 963076605c1f3c06edc71d3fdd788a45cf43e668
Author: Ken Giusti <kgiusti@apache.org>
Date: 23/01/2013 05:35:20
Message:
QPID-4546: review feedback and re-enable federation system tests #MsgLength=65


----
Modified: src/qpid/broker/Link.cpp|10 4
Modified: src/tests/CMakeLists.txt|1 0

Revision: 9e621d335dcd84426a5ee7ec37904be6cfe64f8e
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2013 05:23:21
Message:
NO-JIRA: HA refactor, centralize critical error shutdown logic. #MsgLength=64


----
Modified: src/qpid/ha/BrokerReplicator.cpp|8 6
Modified: src/qpid/ha/HaBroker.cpp|6 6
Modified: src/qpid/ha/HaBroker.h|2 2
Modified: src/qpid/ha/QueueReplicator.cpp|1 3

Revision: 317950f882d69eb745966ec5e927da251cce283c
Author: Alan Conway <aconway@apache.org>
Date: 24/01/2013 05:58:03
Message:
NO-JIRA: HA refactor, re-organise code for clarity and thread safety. #MsgLength=562


----
Modified: src/qpid/ha/Backup.cpp|63 37
Modified: src/qpid/ha/Backup.h|16 4
Modified: src/qpid/ha/BrokerInfo.cpp|3 2
Modified: src/qpid/ha/BrokerInfo.h|2 1
Modified: src/qpid/ha/BrokerReplicator.cpp|37 6
Modified: src/qpid/ha/BrokerReplicator.h|2 0
Modified: src/qpid/ha/HaBroker.cpp|33 194
Modified: src/qpid/ha/HaBroker.h|18 31
Modified: src/qpid/ha/Membership.cpp|103 7
Modified: src/qpid/ha/Membership.h|36 9
Modified: src/qpid/ha/Primary.cpp|20 6
Modified: src/qpid/ha/Primary.h|9 1
Added: src/qpid/ha/Role.h|55 0
Added: src/qpid/ha/StandAlone.h|45 0

Revision: 10aca38e150f82895643c54c0e5f2bbf726ef655
Author: Stephen D. Huston <shuston@apache.org>
Date: 26/01/2013 07:53:30
Message:
Refer to Url consistently as a struct, not a class. Removes warning on MSVC. NO-JIRA #MsgLength=85


----
Modified: src/qpid/ha/Role.h|1 1
Modified: src/qpid/ha/StandAlone.h|1 1

Revision: 0c0a826197e767e1a2bc140bf8f4ac95dcf10c4f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 28/01/2013 22:25:50
Message:
QPID-4493: Fixes a memory leak in the Perl language bindings. #MsgLength=240


----
Modified: bindings/swig_perl_typemaps.i|4 8

Revision: c0146c3f1660e8c7186bb05bb31846268d2e9009
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2013 22:50:07
Message:
NO-JIRA: Fix build error in windows build #MsgLength=42


----
Modified: src/qpid/ha/Backup.cpp|1 0

Revision: aa5d958c8b00a9e25a447940ed9bb0f04df74954
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/01/2013 22:09:25
Message:
QPID-4552: Messaging examples now build. #MsgLength=206


----
Modified: examples/messaging/CMakeLists.txt|45 0

Revision: 642aa5755dad6e4621b18f73ad49acd5dbba1eab
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/01/2013 03:47:54
Message:
QPID-4514: Remove IO readCredit throttling only used by removed cluster code #MsgLength=77


----
Modified: src/qpid/amqp_0_10/Connection.cpp|0 1
Modified: src/qpid/amqp_0_10/Connection.h|0 1
Modified: src/qpid/broker/Connection.cpp|0 1
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/SessionState.cpp|0 5
Modified: src/qpid/broker/SessionState.h|0 1
Modified: src/qpid/messaging/amqp/SslTransport.h|1 1
Modified: src/qpid/messaging/amqp/TcpTransport.h|0 1
Modified: src/qpid/sys/AggregateOutput.cpp|0 2
Modified: src/qpid/sys/AggregateOutput.h|0 1
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 37
Modified: src/qpid/sys/AsynchIOHandler.h|0 4
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|0 1
Modified: src/qpid/sys/OutputControl.h|0 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|0 5

Revision: cb68fcb35c48944fe3006175a1847f5f3d6cf465
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/01/2013 03:48:00
Message:
QPID-4514: Remove IO start/stop reading primitives used by removed cluster #MsgLength=75


----
Modified: src/qpid/sys/AsynchIO.h|0 2
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 35
Modified: src/qpid/sys/windows/AsynchIO.cpp|6 11
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|0 12
Modified: src/qpid/sys/windows/SslAsynchIO.h|0 2

Revision: a2cfbe8bdf9a1cdd74532cf44a6c54cee5ef4623
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/01/2013 09:19:34
Message:
NO-JIRA: QPID-3921: More Header file tidy up - Removed all unnecessary includes from qpid/broker/Connection.h #MsgLength=110


----
Modified: src/qpid/broker/Connection.cpp|1 0
Modified: src/qpid/broker/Connection.h|7 15
Modified: src/qpid/broker/ConnectionHandler.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|1 0

Revision: 582f01802a0df2c3b3b61149614ea53e4afd1fab
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:37:12
Message:
QPID-4555: HA Test bugs causing sporadic faiulres in ha_tests.ReplicationTests.test_auto_delete_timeout #MsgLength=347


----
Modified: src/tests/ha_test.py|16 4
Modified: src/tests/ha_tests.py|3 8

Revision: 61fb421ea6409c2bcee16b1fc1ac1b2cbbc709d9
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:43:09
Message:
QPID-4555: HA Fix race condition in QueueGuard #MsgLength=184


----
Modified: src/qpid/ha/QueueGuard.cpp|34 51
Modified: src/qpid/ha/QueueGuard.h|8 3
Modified: src/qpid/ha/ReplicatingSubscription.h|2 0

Revision: f5713fd7f3506a0b8ffe1111fcda3a2cd561548b
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:43:17
Message:
QPID-4555: HA fix sporadic core dump in BrokerReplicator::disconnected #MsgLength=133


----
Modified: src/qpid/ha/Backup.cpp|0 1
Modified: src/qpid/ha/BrokerReplicator.cpp|18 6
Modified: src/qpid/ha/BrokerReplicator.h|6 2

Revision: 63198ed95f25c192d461fc52893b6608baa64d72
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:43:26
Message:
QPID-4555: HA Fix race condition in rejecting connections. #MsgLength=242


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|9 8
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 0

Revision: 83115454518e9bcb25a0d3d17fd1689c14165da5
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:43:33
Message:
QPID-4555: HA fix deletion of self from membership. #MsgLength=217


----
Modified: src/qpid/ha/Membership.cpp|2 1

Revision: 85dfabb7b7dc34ee1bfd96340c3b1f4f1b46ecac
Author: Alan Conway <aconway@apache.org>
Date: 01/02/2013 03:43:40
Message:
QPID-4555: Fix handling of no-credit consumers in Queue::getNextMessage. #MsgLength=175


----
Modified: src/qpid/broker/Consumer.h|2 0
Modified: src/qpid/broker/Queue.cpp|3 1

Revision: 0d8067e54dab43afaf7a53f5dc9a9ebf1f2a2673
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 01/02/2013 21:52:17
Message:
QPID-4504: Break up the Perl sources into individual source modules. #MsgLength=245


----
Modified: bindings/qpid/perl/ChangeLog|1 0
Added: bindings/qpid/perl/lib/qpid/messaging/Address.pm|142 0
Added: bindings/qpid/perl/lib/qpid/messaging/Connection.pm|111 0
Added: bindings/qpid/perl/lib/qpid/messaging/Duration.pm|97 0
Added: bindings/qpid/perl/lib/qpid/messaging/Message.pm|264 0
Added: bindings/qpid/perl/lib/qpid/messaging/Receiver.pm|124 0
Added: bindings/qpid/perl/lib/qpid/messaging/Sender.pm|96 0
Added: bindings/qpid/perl/lib/qpid/messaging/Session.pm|195 0
Added: bindings/qpid/perl/lib/qpid/messaging/codec.pm|36 0
Added: bindings/qpid/perl/lib/qpid_messaging.pm|33 0
Modified: bindings/qpid/perl/qpid.pm|1 921

Revision: fbf2aae30ea465e7a03979070a6e69e0fa35a1af
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/02/2013 22:48:10
Message:
NO-JIRA: Fixed Rspec tests to remove deprecated methods. #MsgLength=57


----
Modified: bindings/qpid/ruby/spec/qpid_messaging/connection_spec.rb|1 1

Revision: cf8ea0d17635f318679015582176333a453ac5c5
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/02/2013 22:48:15
Message:
QPID-4563: Changed the Address constructor to take a URI. #MsgLength=254


----
Added: bindings/qpid/ruby/ChangeLog|2 0
Modified: bindings/qpid/ruby/examples/client.rb|1 3
Modified: bindings/qpid/ruby/features/creating_a_receiver.feature|1 1
Modified: bindings/qpid/ruby/features/creating_a_sender.feature|1 1
Modified: bindings/qpid/ruby/features/step_definitions/address_steps.rb|2 11
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|5 13
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|1 1
Modified: bindings/qpid/ruby/spec/qpid_messaging/address_spec.rb|2 2
Modified: bindings/qpid/ruby/spec/qpid_messaging/message_spec.rb|1 1
Modified: bindings/qpid/ruby/spec/qpid_messaging/session_spec.rb|1 1

Revision: 3c1652a9b7035bddb60e194e7f90b7f4c030fa95
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/02/2013 23:25:16
Message:
QPID-4562: Changed Message.reply_to to accept a address string. #MsgLength=198


----
Modified: bindings/qpid/ruby/ChangeLog|1 0
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|4 4
Modified: bindings/qpid/ruby/spec/qpid_messaging/message_spec.rb|13 0

Revision: a7f8c914506b1ed478ab7934ec56f17c18464b34
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/02/2013 23:25:20
Message:
NO-JIRA: Changed references to "URI" to be "address string". #MsgLength=61


----
Modified: bindings/qpid/ruby/ChangeLog|2 2
Modified: bindings/qpid/ruby/features/creating_a_receiver.feature|1 1
Modified: bindings/qpid/ruby/features/creating_a_sender.feature|1 1
Modified: bindings/qpid/ruby/features/step_definitions/address_steps.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|4 4
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|1 1

Revision: 119a3edda06b74c456b3739b14979a938eb4f880
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/02/2013 02:22:02
Message:
QPID-4564: Fixes decoding in Ruby. #MsgLength=116


----
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|3 3

Revision: 64b3407a84ff1ddc50837cb9bc69920c3cb15219
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/02/2013 04:17:49
Message:
QPID-4565: Setting message content turned maps and lists into strings. #MsgLength=476


----
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|29 0
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|5 11

Revision: c85cce55e12d6c0eaea1c8a5073601a0ed653138
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/02/2013 04:32:06
Message:
QPID-4565: Fixed the encode method for messages. #MsgLength=49


----
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|1 13

Revision: 930ddd89831b29feac1afe3bed81a14b61540471
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/02/2013 06:21:35
Message:
NO-JIRA: Moved to a Gemspec file for packaging up the Ruby bindings. #MsgLength=69


----
Added: bindings/qpid/ruby/qpid_messaging.gemspec|31 0

Revision: 0751d0659434b58bc2373a1f73de773285f28556
Author: Gordon Sim <gsim@apache.org>
Date: 06/02/2013 06:37:12
Message:
QPID-4569: ensure modules are loaded before processing protocol option #MsgLength=71


----
Modified: src/qpid/messaging/ProtocolRegistry.cpp|2 0

Revision: 23ddef65d3b35e0f8b8a6aecb56ff269f8fb475a
Author: Gordon Sim <gsim@apache.org>
Date: 06/02/2013 16:58:34
Message:
QPID-4569: export symbol for module loading #MsgLength=44


----
Modified: src/qpid/client/LoadPlugins.h|3 1

Revision: 08734bf4f35a75e03585e821457ddad88d4fabe0
Author: Gordon Sim <gsim@apache.org>
Date: 06/02/2013 18:47:16
Message:
QPID-4556: pass max depth options correctly. Patch from Brad Hoekstra. #MsgLength=71


----
Modified: src/qpid/client/QueueOptions.cpp|2 2

Revision: c09ef3689abe85e91545a1ea32ff1a789bfdaa07
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:49:42
Message:
QPID-4567: Moved the gem packaging to using a gemspec file. #MsgLength=265


----
Deleted: bindings/qpid/ruby/Rakefile|0 137
Deleted: bindings/qpid/ruby/lib/qpid_messaging/version.rb|0 31
Modified: bindings/qpid/ruby/qpid_messaging.gemspec|2 5

Revision: 3fcfa5b461387dbfbfd8a1024609acec3b925dda
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:49:46
Message:
QPID-4568: Fixed up the README.rdoc file #MsgLength=268


----
Modified: bindings/qpid/ruby/README.rdoc|15 20

Revision: 8eb8999fe21cfec1371efb227a5e2479a27cbf68
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:49:49
Message:
QPID-4568: Fixed the TODO list for Ruby. #MsgLength=41


----
Modified: bindings/qpid/ruby/TODO|10 5

Revision: b512c76519d2952d28d218df897fb60bf598ec96
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:49:53
Message:
QPID-4568: Removed the extraneous block at the top of LICENSE #MsgLength=220


----
Modified: bindings/qpid/ruby/LICENSE|0 4

Revision: 9db375ddfa9ad3d94b5420a5c5063f94b483bc76
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:49:58
Message:
QPID-4568: Marked all license prologs as not rdoc material in Ruby. #MsgLength=161


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|3 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/connection.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/duration.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/errors.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/receiver.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/sender.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/session.rb|2 2

Revision: a077ec3b6257b4ea67636a9a34ab313432dc9906
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:50:02
Message:
QPID-4568: Fixed the wording in the ChangeLog. #MsgLength=47


----
Modified: bindings/qpid/ruby/ChangeLog|2 2

Revision: ab53d7cbee474606b8e4b27cace7c6bdf7e04513
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:50:06
Message:
QPID-4567: Dropped the errors.rb file and special exceptions. #MsgLength=251


----
Modified: bindings/qpid/ruby/ChangeLog|1 0
Modified: bindings/qpid/ruby/lib/qpid_messaging/connection.rb|14 11
Deleted: bindings/qpid/ruby/lib/qpid_messaging/errors.rb|0 33
Modified: bindings/qpid/ruby/lib/qpid_messaging/session.rb|7 22

Revision: fceb0f7a73a8bfbba565f5a63dc02ce1b257dd15
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2013 23:50:11
Message:
QPID-4568: Improved the Ruby rdocs. #MsgLength=204


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|53 0
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|47 24
Modified: bindings/qpid/ruby/lib/qpid_messaging/connection.rb|61 35
Modified: bindings/qpid/ruby/lib/qpid_messaging/duration.rb|33 14
Modified: bindings/qpid/ruby/lib/qpid_messaging/encoding.rb|3 3
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|53 63
Modified: bindings/qpid/ruby/lib/qpid_messaging/receiver.rb|60 65
Modified: bindings/qpid/ruby/lib/qpid_messaging/sender.rb|37 54
Modified: bindings/qpid/ruby/lib/qpid_messaging/session.rb|69 57

Revision: f5f233dac97e644a6633d2af208f9cf47eb8cf2e
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2013 03:25:53
Message:
QPID-4555: HA Don't shut down on deleting an exchange that is in use as an alternate. #MsgLength=206


----
Modified: src/qpid/ha/BrokerReplicator.cpp|9 0

Revision: d0e2f8374ca6726cab0f70b6c454bfe03e9df99e
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2013 03:26:02
Message:
QPID-4555: HA Check for backup ready when new backup joins. #MsgLength=335


----
Modified: src/qpid/ha/Backup.cpp|1 0
Modified: src/qpid/ha/Primary.cpp|6 3
Modified: src/tests/ha_tests.py|2 0

Revision: 249406be396e6ddfaaa5dde441211738a5e9861c
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2013 03:26:12
Message:
QPID-4555: HA Primary sets explicit qpid.replicate in Queue and Exchange arguments. #MsgLength=518


----
Modified: src/qpid/ha/BrokerReplicator.cpp|27 32
Modified: src/qpid/ha/BrokerReplicator.h|1 1
Modified: src/qpid/ha/HaBroker.cpp|0 1
Modified: src/qpid/ha/HaBroker.h|0 3
Modified: src/qpid/ha/Primary.cpp|25 15
Modified: src/qpid/ha/Primary.h|3 0
Modified: src/qpid/ha/RemoteBackup.cpp|6 5
Modified: src/qpid/ha/RemoteBackup.h|1 1
Modified: src/qpid/ha/ReplicationTest.cpp|21 24
Modified: src/qpid/ha/ReplicationTest.h|14 12
Modified: src/tests/ha_tests.py|11 7

Revision: 85b70901a9c080cfa56ca0485f1b3a5adc3fd30a
Author: Alan Conway <aconway@apache.org>
Date: 08/02/2013 03:26:20
Message:
QPID-4555: HA Add QueueSettings::declaredExclusive for exclusive queues. #MsgLength=337


----
Modified: src/qpid/broker/QueueSettings.cpp|1 0
Modified: src/qpid/broker/QueueSettings.h|1 0
Modified: src/qpid/broker/SessionAdapter.cpp|1 0
Modified: src/qpid/ha/BrokerReplicator.cpp|4 2
Modified: src/qpid/ha/ReplicationTest.cpp|1 1

Revision: 2f61e2eba64e8adc3f91053e5da8e3b2e387d558
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 09/02/2013 00:34:05
Message:
QPID-4567: Removed errors from qpid_messaging.rb. #MsgLength=50


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|0 1

Revision: 901371774e630e629054bc57ea99d84e0bdd1a7a
Author: Alan Conway <aconway@apache.org>
Date: 09/02/2013 03:35:01
Message:
QPID-4555: HA Replace QueueSettings::declaredExclusive with isTemporary. #MsgLength=258


----
Modified: src/qpid/broker/QueueSettings.cpp|1 1
Modified: src/qpid/broker/QueueSettings.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|2 1
Modified: src/qpid/ha/ReplicationTest.cpp|1 3

Revision: 42253b79a3e697c22d8b36442adc4e4e037139fe
Author: Charles E. Rolke <chug@apache.org>
Date: 09/02/2013 07:14:11
Message:
QPID-4575 Visual Studio 2012 requires exported destructor #MsgLength=58


----
Modified: include/qpid/client/FailoverManager.h|1 0
Modified: src/qpid/client/FailoverManager.cpp|3 0

Revision: b299df5b8c7301ffcbc99ca7b426a9416a074865
Author: Charles E. Rolke <chug@apache.org>
Date: 09/02/2013 08:56:42
Message:
QPID-4054 C++ Broker connection limits per user 1. Constrain maximum limits to be a few ticks below Uint16_t max to avoid inadvertent wrapping and to allow room for some named constants such as UNLIMITED. 2. Add syntax to Acl rule file quota connections N user|group [user|group] 3. Pseudo user 'all' receives value from command line switch or from Acl rule file. 4. Named constant strings used in comparisons instead of local strings. 5. Connection counts maintained all the time to support reolad of Acl rule file that may change limits. 6. Self tests exercise all the features. #MsgLength=586


----
Modified: src/qpid/acl/Acl.cpp|27 2
Modified: src/qpid/acl/AclConnectionCounter.cpp|43 42
Modified: src/qpid/acl/AclConnectionCounter.h|6 4
Modified: src/qpid/acl/AclData.cpp|86 17
Modified: src/qpid/acl/AclData.h|43 3
Modified: src/qpid/acl/AclPlugin.cpp|1 1
Modified: src/qpid/acl/AclReader.cpp|133 18
Modified: src/qpid/acl/AclReader.h|11 1
Modified: src/qpid/acl/AclTopicMatch.h|1 1
Modified: src/tests/acl.py|215 7

Revision: 78714a2c29c97735ab9b75d455d32cb39015f26e
Author: Charles E. Rolke <chug@apache.org>
Date: 12/02/2013 03:32:22
Message:
QPID-4575: Visual Studio 2012 - Update boost version list to latest release. #MsgLength=77


----
Modified: src/CMakeLists.txt|1 1

Revision: 2c0befc33419c288eb13d16c8db08d039f20641d
Author: Charles E. Rolke <chug@apache.org>
Date: 12/02/2013 03:40:19
Message:
QPID-4575 Visual Studio 2012 - Add VS2012 to cmake shell script. Tested with CMake 2.8.6. * This patch trivially adds VS2012 to the version pulldown and passes the right args to CMake. * CMake now gets a Boost_COMPILER value to allow older (2.8.6) versions of CMake to find boost. This is probably not necessary with newer CMake. #MsgLength=330


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|25 16

Revision: 761035dc48212340c6ecf39cced12d088f7d94ef
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/02/2013 03:26:13
Message:
QPID-4579: Fixes building Qpid under the latest GCC (4.8.0). #MsgLength=244


----
Modified: src/qpid/framing/Handler.h|24 19

Revision: 5959e585e25c0be26db0c731fd29fcf065cd56c1
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/02/2013 04:36:19
Message:
QPID-4544: Perl bindings now support UTF8 encoding #MsgLength=176


----
Modified: bindings/qpid/perl/t/Message.t|7 0
Modified: bindings/swig_perl_typemaps.i|8 1

Revision: 4ec1b279f6de3f8bea892bc8e20fae2cdb7c2255
Author: Charles E. Rolke <chug@apache.org>
Date: 13/02/2013 04:58:45
Message:
QPID-4577: Enable/disable high resolution log timestamps #MsgLength=386


----
Modified: include/qpid/log/Logger.h|5 0
Modified: src/qpid/broker/Broker.cpp|30 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/log/Logger.cpp|16 0
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|2 1
Added: src/tests/dynamic_log_hires_timestamp|75 0

Revision: cc81b0185849e66d5e2f70d130b9c1458e5c1dbe
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/02/2013 05:49:26
Message:
NO-JIRA: Fixes a few typos in the Ruby documentation. #MsgLength=54


----
Modified: bindings/qpid/ruby/lib/qpid_messaging/address.rb|2 2
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|7 4
Modified: bindings/qpid/ruby/lib/qpid_messaging/receiver.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid_messaging/sender.rb|1 1
Modified: bindings/qpid/ruby/lib/qpid_messaging/session.rb|4 4

Revision: a8dad984416cf1452c9d67786da14cce9d854481
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/02/2013 05:49:31
Message:
QPID-4580: Provides perldoc documentation to the Perl bindings. #MsgLength=271


----
Modified: bindings/qpid/perl/ChangeLog|1 1
Modified: bindings/qpid/perl/lib/qpid/messaging/Address.pm|196 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Connection.pm|180 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Duration.pm|107 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Message.pm|312 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Receiver.pm|203 10
Modified: bindings/qpid/perl/lib/qpid/messaging/Sender.pm|162 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Session.pm|307 29
Modified: bindings/qpid/perl/lib/qpid_messaging.pm|62 0

Revision: 1b52f601768bd3dd9ef1cbe3ffffefcd6eceed79
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/02/2013 05:52:27
Message:
QPID-4580: Added a README file for Perl. #MsgLength=41


----
Added: bindings/qpid/perl/README|15 0

Revision: 9085acd3ca1963f5826804cecae603ede51b2548
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/02/2013 23:28:57
Message:
NO-JIRA: Removed unnecessary extra message filter check #MsgLength=56


----
Modified: src/qpid/broker/SemanticState.cpp|1 1

Revision: aa9f1698f572d7b1a282b8c001f4d54908f8a23c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/02/2013 23:30:34
Message:
NO-JIRA: Rationalised unit test build - Made an empty list of unit tests to build actually build all tests and made the default list empty, this gives much better behaviour in the usual case when adding and removing tests - Also sorted list of unit tests #MsgLength=259


----
Modified: src/tests/CMakeLists.txt|48 37

Revision: 0de8bde70886760357fc8a448b86820ab616c6f3
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2013 21:34:19
Message:
QPID-4116: Allow the path to qpid-send and qpid-receive programs to be specified; patch from Pavel Moravec. #MsgLength=108


----
Modified: src/tests/qpid-cpp-benchmark|7 3

Revision: a73bbae5a469d72f25ed3bec4079a6c033c3a0ea
Author: Gordon Sim <gsim@apache.org>
Date: 15/02/2013 22:05:52
Message:
QPID-3833: convert int properties to strings if requested #MsgLength=58


----
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|7 1

Revision: 8e8b836eef25bb77917b6afb6659c2d66cf5a530
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 16/02/2013 02:22:55
Message:
QPID-4581: Perl message content are automatically encoded. #MsgLength=119


----
Modified: bindings/qpid/examples/perl/drain.pl|1 1
Modified: bindings/qpid/examples/perl/map_receiver.pl|2 2
Modified: bindings/qpid/examples/perl/map_sender.pl|1 1
Modified: bindings/qpid/examples/perl/spout.pl|5 5
Modified: bindings/qpid/perl/lib/qpid/messaging/Message.pm|10 2
Modified: bindings/qpid/perl/lib/qpid/messaging/codec.pm|21 4
Modified: bindings/qpid/perl/t/Message.t|12 1

Revision: f73052f4c1d308efcdfe47d65e379cac08681d55
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/02/2013 05:08:41
Message:
QPID-4588: Fix all Swig descriptors to look in qpid and qmf subdirs. #MsgLength=156


----
Modified: CMakeLists.txt|5 5

Revision: 12c88ce9b0238341558295f0b3aaf6dd6e692d78
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/02/2013 05:08:45
Message:
QPID-4588: Updated the Python bindings. #MsgLength=149


----
Modified: bindings/qmf2/python/python.i|1 1
Modified: bindings/qpid/python/python.i|1 1

Revision: 49ba8604170353ced7e2535bd0e2924a6a57eaf1
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/02/2013 05:08:49
Message:
QPID-4588: Updated the Ruby language bindings. #MsgLength=129


----
Modified: bindings/qmf2/ruby/ruby.i|1 1
Modified: bindings/qpid/ruby/ruby.i|1 1

Revision: 811056e7c48df21858f6119a9a26e3d0a2528bfc
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/02/2013 05:08:54
Message:
QPID-4588: Updated the Perl language bindings. #MsgLength=132


----
Modified: bindings/qpid/perl/perl.i|1 1

Revision: 6c7a3b1f464d9fcf3f659e249d60bfad1b90a0f2
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/02/2013 06:08:31
Message:
QPID-4587: Improve the quality of the Perl examples. #MsgLength=116


----
Modified: bindings/qpid/examples/perl/client.pl|40 28
Modified: bindings/qpid/examples/perl/drain.pl|60 36
Modified: bindings/qpid/examples/perl/hello_world.pl|8 2
Modified: bindings/qpid/examples/perl/hello_xml.pl|10 3
Modified: bindings/qpid/examples/perl/map_receiver.pl|13 4
Modified: bindings/qpid/examples/perl/map_sender.pl|20 10
Modified: bindings/qpid/examples/perl/server.pl|30 10
Modified: bindings/qpid/examples/perl/spout.pl|48 41

Revision: 9ab72b5f67d3c11fd0eca576fca4479184409013
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 20/02/2013 03:19:02
Message:
QPID-4588: Moved the swig descriptors to the include/qpid directory. #MsgLength=69


----
Modified: CMakeLists.txt|3 3
Modified: Makefile.am|1 1
Renamed: include/qpid/swig_perl_typemaps.i [from bindings/swig_perl_typemaps.i]|0 0
Renamed: include/qpid/swig_python_typemaps.i [from bindings/swig_python_typemaps.i]|0 0
Renamed: include/qpid/swig_ruby_typemaps.i [from bindings/swig_ruby_typemaps.i]|0 0

Revision: c79154d9849d5a85c63a2640578660c5b1c6bb57
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2013 03:43:20
Message:
NO-JIRA: HA loggging: include status in log messages that refer to a BrokerInfo #MsgLength=80


----
Modified: src/qpid/ha/BrokerInfo.cpp|1 10
Modified: src/qpid/ha/BrokerInfo.h|0 3
Modified: src/qpid/ha/HaBroker.cpp|2 2
Modified: src/qpid/ha/QueueGuard.cpp|1 1
Modified: src/qpid/ha/RemoteBackup.cpp|12 5
Modified: src/qpid/ha/ReplicatingSubscription.cpp|1 1

Revision: fbee0c4cd4ed9b59854fa9298ed843cb51bd9bbd
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2013 03:43:29
Message:
Bug 891689 - New HA regularly shutting down active node #MsgLength=169


----
Modified: etc/qpidd-primary.in|1 1
Modified: src/qpid/ha/types.cpp|5 0

Revision: 5c8c1d39bdc1df6c90fa927afc3aa2b7459a56f0
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2013 04:08:05
Message:
Revert "Bug 891689 - New HA regularly shutting down active node" #MsgLength=196


----
Modified: etc/qpidd-primary.in|1 1
Modified: src/qpid/ha/types.cpp|0 5

Revision: 710689fef188f628327acd2e304915af3611eb8b
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2013 04:08:15
Message:
QPID-4600: New HA regularly shutting down active node #MsgLength=167


----
Modified: etc/qpidd-primary.in|1 1
Modified: src/qpid/ha/types.cpp|5 0

Revision: d384fb2e985a379ecd0808807d16e46d31c45f33
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/02/2013 01:21:31
Message:
QPID-4603: Teach qpid-send to send bool/int/float properties as well as strings #MsgLength=80


----
Modified: src/tests/qpid-send.cpp|1 1

Revision: 18c1df017c6c5ee690c9b05e940aa96ba05d4e71
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2013 04:04:07
Message:
QPID-4601: HA backup broker shuts down after redeclaring exchange #MsgLength=181


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 1
Modified: src/tests/ha_tests.py|15 0

Revision: 1662a908aaf14bba93038f406fd17ab22978c483
Author: Charles E. Rolke <chug@apache.org>
Date: 28/02/2013 00:58:33
Message:
QPID-4607: C++ Broker connection limit counting fails #MsgLength=500


----
Modified: src/qpid/acl/Acl.cpp|2 2
Modified: src/qpid/acl/AclReader.cpp|6 1
Modified: src/tests/acl.py|78 68

Revision: 5ee564e1ab555951dbf6f7009914d7084a5c653e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/03/2013 08:21:12
Message:
QPID-4610: Remove duplicated transport code from C++ broker #MsgLength=60


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|4 1
Modified: src/qpid/broker/Broker.cpp|18 18
Modified: src/qpid/broker/Broker.h|25 7
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|314 379
Modified: src/qpid/sys/RdmaIOPlugin.cpp|6 5
Added: src/qpid/sys/SocketTransport.cpp|209 0
Added: src/qpid/sys/SocketTransport.h|91 0
Modified: src/qpid/sys/SslPlugin.cpp|28 194
Modified: src/qpid/sys/TCPIOPlugin.cpp|13 195
Renamed: src/qpid/sys/TransportFactory.h [from src/qpid/sys/ProtocolFactory.h]|21 13
Modified: src/qpid/sys/windows/WinSocket.cpp|2 2

Revision: e43f5dcfcbaeadc5923ddab4983837ed376568c7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/03/2013 08:48:43
Message:
QPID-4615: Allow unix qpidd to pass in existing socket fds on cmdline. #MsgLength=71


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|3 1
Modified: src/qpid/broker/Broker.h|1 1
Added: src/qpid/broker/posix/SocketFDPlugin.cpp|97 0
Modified: src/qpid/sys/posix/BSDSocket.h|4 4
Modified: src/qpid/sys/posix/SocketAddress.cpp|1 0

Revision: efc065af8d4cd05b412cdd1ab7ce2a0ac65b20d2
Author: Charles E. Rolke <chug@apache.org>
Date: 02/03/2013 00:37:31
Message:
QPID-4582: Legacystore self test fail. Remove them from the test build until the tests are rewritten to account for porting issues. #MsgLength=134


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: 53beabdd53b0deb97f1a73343c0f673ca8c6a02c
Author: Charles E. Rolke <chug@apache.org>
Date: 02/03/2013 06:20:33
Message:
QPID-4604: C++ Broker queue limits controlled by ACL file. Patch from Ernie Allen. See https://reviews.apache.org/r/9703/ #MsgLength=124


----
Modified: src/qpid/acl/Acl.cpp|18 3
Modified: src/qpid/acl/AclData.cpp|62 1
Modified: src/qpid/acl/AclData.h|17 0
Modified: src/qpid/acl/AclReader.cpp|48 28
Modified: src/qpid/acl/AclReader.h|18 13
Modified: src/qpid/acl/AclResourceCounter.cpp|48 39
Modified: src/qpid/acl/AclResourceCounter.h|9 8
Modified: src/tests/acl.py|123 39

Revision: eabb4a1c67825e121f6160eef0ded658d9e234f9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/03/2013 05:07:18
Message:
NO-JIRA: Changed subject filter to use described value now proton bug should be fixed. #MsgLength=87


----
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|4 5

Revision: 7a79b52aa17952d3b86d181e25bd85c50c621765
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/03/2013 05:08:17
Message:
QPID-4558: Selectors for C++ broker - Add support to 0-10 protocol codepaths in client messaging library and the broker to transmit a selector when subscribing to a queue - This is specified by using a link property qpid.selector in the queue address. - The selector is actually transmitted under 0-10 as an user vlaue named qpid.selector in the arguments table of the subscription. - Added simple selector framework to broker. - Added in infrastructure for selector evaluation -- Put in place a trivial (but real) selector: The expression specifies a message property and returns true if it is present. #MsgLength=616


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|2 0
Added: src/qpid/broker/Selector.cpp|82 0
Added: src/qpid/broker/Selector.h|88 0
Modified: src/qpid/broker/SemanticState.cpp|5 2
Modified: src/qpid/broker/SemanticState.h|3 0
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|10 0

Revision: 9912efe4277528e56f1ca8fe563b68423101ef1a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/03/2013 05:08:28
Message:
QPID-4558: Selectors for C++ broker - Initial Selectors implemented: * Only string values supported (no numerics or bools) - Parses and executes the forms: *  A=B *  A<>B *  I IS NULL *  I IS NOT NULL - where A, B are strings or identifiers -       I is an identifier * Conditional expressions can include the AND, OR and NOT operators and use parentheses. - Only limited special identifiers return useful values (although they are all recognised) - Unit tests for selector language #MsgLength=487


----
Modified: src/CMakeLists.txt|4 0
Modified: src/Makefile.am|4 0
Modified: src/qpid/broker/Selector.cpp|68 5
Modified: src/qpid/broker/Selector.h|2 0
Added: src/qpid/broker/SelectorExpression.cpp|419 0
Added: src/qpid/broker/SelectorExpression.h|58 0
Added: src/qpid/broker/SelectorToken.cpp|273 0
Added: src/qpid/broker/SelectorToken.h|116 0
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|1 0
Added: src/tests/Selector.cpp|220 0

Revision: 299b28e32f80a3b0242cc28414a18961c8a49d75
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/03/2013 05:08:36
Message:
QPID-4558: Selectors for C++ broker - Added in amqp 1.0 support that uses a filter for the selector - This change requires at least qpid-proton 0.4 (or a lot of warning messages are produced by the broker) #MsgLength=208


----
Modified: src/qpid/amqp/descriptors.h|2 1
Modified: src/qpid/broker/amqp/Filter.cpp|22 0
Modified: src/qpid/broker/amqp/Filter.h|4 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|8 1
Modified: src/qpid/broker/amqp/Outgoing.h|5 0
Modified: src/qpid/broker/amqp/Session.cpp|4 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|14 0

Revision: c2aa5086b6d9f645a8abeaa604652c9365e30120
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/03/2013 05:08:45
Message:
QPID-4558: Selectors for C++ broker - Added numeric and boolean values * To literals and identifier values * To the code that extracts values from message properties - Added the full set of comparison operators - Implemented full "unknown" semantics for all operators. - Implemented extended "is null" and "is not null" operators that allow expressions as well as just identifiers. #MsgLength=386


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/Selector.cpp|104 61
Modified: src/qpid/broker/Selector.h|4 14
Modified: src/qpid/broker/SelectorExpression.cpp|227 83
Modified: src/qpid/broker/SelectorExpression.h|4 18
Modified: src/qpid/broker/SelectorToken.cpp|70 3
Modified: src/qpid/broker/SelectorToken.h|0 7
Added: src/qpid/broker/SelectorValue.cpp|196 0
Added: src/qpid/broker/SelectorValue.h|115 0
Modified: src/tests/Selector.cpp|143 45

Revision: e2237247617e89aac220a03184e724ecf340624c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2013 03:48:32
Message:
QPID-4558: Selectors for C++ broker - Small fixes: * Missing include file (accidentally included under gcc) * Workaround some strange VS 2008 issue. #MsgLength=149


----
Modified: src/qpid/broker/SelectorToken.cpp|7 8

Revision: 104875f3786991490d5aa7a7ab1414b1e1b37573
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/03/2013 05:57:48
Message:
QPID-4629 Improve validation of received frames. - Added checks to Buffer to ensure no buffer overruns occur; - Fixed an unsigned comparison error in the checking function. - Improved FieldValue decoding to check we've actually got data before allocating the space for it. - Disallowed large arrays (greater than 256 elements) of zero length elements - avoids potential memory exhaustion problems. [Fixes from Florian Weimer, Red Hat Product Security Team, lightly modified] This change fixes these vulnerabilities CVE-2012-4458 CVE-2012-4459 CVE-2012-4460 #MsgLength=561


----
Modified: include/qpid/framing/Buffer.h|1 1
Modified: include/qpid/framing/FieldValue.h|1 0
Modified: src/qpid/framing/Array.cpp|11 5
Modified: src/qpid/framing/Buffer.cpp|26 19

Revision: 2cc4736781e800757bfd268ae2cde3dc71331d6d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/03/2013 04:24:23
Message:
QPID-4558: Selectors for C++ broker - Changed unit test code that relied on non C++03 feature Windows compiler spotted this problem. #MsgLength=135


----
Modified: src/tests/Selector.cpp|2 6

Revision: ca274a077ae3dea27741425e6cdb3967e146d40f
Author: Charles E. Rolke <chug@apache.org>
Date: 07/03/2013 22:42:10
Message:
QPID-4558: Selectors for C++ broker - fixes windows builds and 32-bit builds #MsgLength=77


----
Modified: src/qpid/broker/Selector.h|5 3
Modified: src/qpid/broker/SelectorToken.h|14 12
Modified: src/qpid/broker/SelectorValue.h|5 0
Modified: src/tests/Selector.cpp|1 1

Revision: d5ce643c120b50c065564231a6d22ae7ba8fae96
Author: Alan Conway <aconway@apache.org>
Date: 08/03/2013 01:25:35
Message:
QPID-4630: HA enable store tests if legacystore is built. #MsgLength=58


----
Modified: INSTALL|3 0
Modified: src/tests/CMakeLists.txt|3 0
Modified: src/tests/ha_store_tests.py|1 3
Modified: src/tests/test_env.sh.in|1 0

Revision: 60b3bfddfe4d0196590c478e9cd8c2c8eef14f65
Author: Alan Conway <aconway@apache.org>
Date: 08/03/2013 01:25:47
Message:
QPID-4630: HA Fix starting from persistent store. #MsgLength=303


----
Modified: include/qpid/amqp_0_10/Codecs.h|4 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|9 0
Modified: src/qpid/broker/Queue.cpp|3 1
Modified: src/qpid/broker/QueueRegistry.cpp|3 6
Modified: src/qpid/ha/BrokerReplicator.cpp|12 11
Modified: src/qpid/ha/BrokerReplicator.h|0 1
Modified: src/tests/ha_store_tests.py|11 13

Revision: d8d6890d613cd3b1d2337a120929a5a56daeaeaa
Author: Alan Conway <aconway@apache.org>
Date: 08/03/2013 01:25:55
Message:
QPID-4630: HA fix inconsistent header file paths in legacystore. #MsgLength=65


----
Modified: src/qpid/legacystore/jrnl/deq_rec.cpp|1 1
Modified: src/qpid/legacystore/jrnl/jinf.cpp|1 1
Modified: src/qpid/legacystore/jrnl/rmgr.h|5 5

Revision: aa51c66a87978962235665def1e5a3744bc894d4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/03/2013 05:16:37
Message:
QPID-4558: Selectors for C++ broker - don't use boost::make_shared<>() (It's not available in boost 1.33 - which is what RHEL5 has available - sigh) #MsgLength=149


----
Modified: src/qpid/broker/Selector.cpp|1 2

Revision: b0f4bdf81e2ca925e4649cbce21718535fe65ee4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/03/2013 23:55:27
Message:
QPID-4630: HA Fix starting from persistent store. Reengineered code for converting a Variant to a FieldValue by reinstating code previously removed. #MsgLength=149


----
Modified: include/qpid/amqp_0_10/Codecs.h|2 1
Modified: src/qpid/amqp_0_10/Codecs.cpp|83 43
Modified: src/qpid/broker/Queue.cpp|3 1

Revision: 9d85d23ba683bed9a27b53eab36a810be5eab121
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/03/2013 23:55:36
Message:
QPID-4626: Amqp 0-10 Message getProperty() does not correctly return booleans - Add codec function to convert FieldValue to Variant to support this change #MsgLength=155


----
Modified: include/qpid/amqp_0_10/Codecs.h|2 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|5 0

Revision: a3bdc746771acd74bf8602c9f817b3f2412b0e72
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/03/2013 23:55:45
Message:
QPID-4626: Amqp 0-10 Message getProperty() does not correctly return booleans - Improve amqp 0-10 message property handling to correct deal with floats/double and bools. #MsgLength=172


----
Modified: src/qpid/broker/HeadersExchange.cpp|1 0
Modified: src/qpid/broker/MapHandler.h|1 0
Modified: src/qpid/broker/Message.cpp|1 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|40 19
Modified: src/qpid/xml/XmlExchange.cpp|1 0

Revision: 7bf6a03f0c6251bf04d05d92307f3f53dd8dd845
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/03/2013 05:48:39
Message:
QPID-4633, QPID-4634: RHEL 5 related compilation problems - Some things that the gcc 4.1/boost 1.33 environment in RHEL5 cares about. #MsgLength=136


----
Modified: src/qpid/broker/Selector.cpp|2 1
Modified: src/qpid/broker/SelectorExpression.cpp|2 0
Modified: src/qpid/broker/SelectorToken.h|2 2
Modified: src/qpid/broker/SelectorValue.cpp|2 1
Modified: src/qpid/broker/posix/SocketFDPlugin.cpp|0 4

Revision: 54fdc67b48a7e7ef23babc3034dd6c28197351cc
Author: Ted Ross <tross@apache.org>
Date: 09/03/2013 06:06:30
Message:
QPID-4632 - Improvement to queue threshold alerting #MsgLength=53


----
Modified: src/qpid/broker/QueueSettings.cpp|12 2
Modified: src/qpid/broker/QueueSettings.h|1 0
Modified: src/qpid/broker/ThresholdAlerts.cpp|44 71
Modified: src/qpid/broker/ThresholdAlerts.h|10 5

Revision: 0f513c5f07e005fb1766423168e9121916d1a186
Author: Justin Ross <jross@apache.org>
Date: 11/03/2013 23:57:30
Message:
QPID-4637: Remove ProtocolFactory.h from the sources list; it no longer exists #MsgLength=79


----
Modified: src/Makefile.am|0 1

Revision: 39421a0e82efb99ff4089a533971500d0f9c82a2
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2013 01:03:29
Message:
NO-JIRA: Fix distcheck problems, missing files in installation. #MsgLength=64


----
Modified: bindings/qmf/ruby/Makefile.am|1 1
Modified: src/CMakeLists.txt|2 0
Modified: src/ha.mk|2 0

Revision: b979a23e19c3ac0a3cb33f1424ed2cc296df2f51
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2013 19:03:45
Message:
QPID-4590: check management object exists before using it #MsgLength=58


----
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|6 2

Revision: 89701f5240bc23895866f462cc82ce282de7fa40
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/03/2013 21:21:25
Message:
QPID-4646: Remove Perl Makefile.PL from configure.ac #MsgLength=144


----
Modified: configure.ac|0 1

Revision: c63f6691e298afe11c23ff29aa74a33da27bce4a
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2013 21:50:50
Message:
QPID-4641: C++ build errors re virtual functions but non-virtual destructor #MsgLength=76


----
Modified: src/qpid/ha/Role.h|2 0

Revision: a0ec40b9cea0d232d426a48333a91148b47a3836
Author: Alan Conway <aconway@apache.org>
Date: 12/03/2013 22:23:08
Message:
NO-JIRA: Separate catch/finally blocks in ha_tests.py to work on older python. #MsgLength=79


----
Modified: src/tests/ha_tests.py|36 35

Revision: 83b2928a7317474df340d1c1feda32b390fb15ce
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2013 22:35:11
Message:
QPID-4576: commit "ready" message if session is transactional; patch from Pavel Moravec #MsgLength=88


----
Modified: src/tests/qpid-receive.cpp|4 1

Revision: aed8e85cf49f36f5256035be62ed15fdb80cd856
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/03/2013 23:16:43
Message:
QPID-4625: Extract amqp 1.0 application-properties from messages - A working implementaion to qpid::amqp::Message::processProperties() so that qpid::broker::Message::getProperty() will work. * This is used by the selector implementation. #MsgLength=240


----
Modified: src/qpid/broker/HeadersExchange.cpp|2 0
Modified: src/qpid/broker/MapHandler.h|6 4
Modified: src/qpid/broker/Message.cpp|2 0
Modified: src/qpid/broker/amqp/Message.cpp|68 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|2 0
Modified: src/qpid/xml/XmlExchange.cpp|1 0

Revision: 8f070b3255d2826a85987427a146dc297cf93a24
Author: Gordon Sim <gsim@apache.org>
Date: 13/03/2013 01:15:17
Message:
QPID-4595: ensure completions for previously received messages are sent when credit is flushed #MsgLength=95


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 0

Revision: 937aae0ffe877bb28958c70cc2b6f11cb9414e58
Author: Ted Ross <tross@apache.org>
Date: 14/03/2013 02:34:58
Message:
QPID-4559 - Added handling of the queue-delete preconditions in the qmf broker method. Patch contributed by Ernie Allen. #MsgLength=122


----
Modified: src/qpid/broker/Broker.cpp|22 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/tests/cli_tests.py|38 1

Revision: 4d571e06ab9ef4c9e861f3d34d02d23b7d768215
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/03/2013 22:59:38
Message:
QPID-4558: Fix string iterator being dereferenced 1 beyond end(). #MsgLength=66


----
Modified: src/qpid/broker/SelectorToken.cpp|2 2

Revision: 38a81f81d911555354595347cc114e204c14f185
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/03/2013 01:24:28
Message:
QPID-4622: Implement 'LIKE' string matching operations in selector - This implements <expression> [NOT] LIKE <string> [ESCAPE <character>] - The implementation uses the posix regex library (in BRE mode) on Unix systems - It uses std::tr1::regex on Visual Studio (in std::tr1::regex::basic mode) #MsgLength=297


----
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/SelectorExpression.cpp|134 18
Added: src/qpid/sys/regex.h|81 0
Modified: src/tests/Selector.cpp|11 0

Revision: ebf088a6766d733fb529b66be251736dbf5546e1
Author: Gordon Sim <gsim@apache.org>
Date: 15/03/2013 03:36:26
Message:
QPID-4586: add ability to have qpidd establish outgoing connections #MsgLength=68


----
Modified: src/CMakeLists.txt|2 0
Modified: src/Makefile.am|16 0
Modified: src/amqp.cmake|14 0
Modified: src/qpid/broker/Broker.cpp|12 2
Modified: src/qpid/broker/Broker.h|9 0
Modified: src/qpid/broker/LossyQueue.cpp|1 1
Added: src/qpid/broker/ObjectFactory.cpp|60 0
Added: src/qpid/broker/ObjectFactory.h|65 0
Modified: src/qpid/broker/SecureConnectionFactory.cpp|10 9
Modified: src/qpid/broker/SecureConnectionFactory.h|4 1
Modified: src/qpid/broker/amqp/Connection.cpp|34 13
Modified: src/qpid/broker/amqp/Connection.h|9 5
Added: src/qpid/broker/amqp/Domain.cpp|279 0
Added: src/qpid/broker/amqp/Domain.h|78 0
Added: src/qpid/broker/amqp/Incoming.cpp|99 0
Added: src/qpid/broker/amqp/Incoming.h|68 0
Added: src/qpid/broker/amqp/Interconnect.cpp|118 0
Added: src/qpid/broker/amqp/Interconnect.h|63 0
Added: src/qpid/broker/amqp/Interconnects.cpp|151 0
Added: src/qpid/broker/amqp/Interconnects.h|62 0
Added: src/qpid/broker/amqp/ManagedIncomingLink.cpp|56 0
Added: src/qpid/broker/amqp/ManagedIncomingLink.h|50 0
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|7 11
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.h|4 5
Modified: src/qpid/broker/amqp/Outgoing.cpp|29 21
Modified: src/qpid/broker/amqp/Outgoing.h|31 5
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|11 5
Added: src/qpid/broker/amqp/Relay.cpp|278 0
Added: src/qpid/broker/amqp/Relay.h|128 0
Modified: src/qpid/broker/amqp/Sasl.cpp|2 2
Modified: src/qpid/broker/amqp/Sasl.h|1 2
Added: src/qpid/broker/amqp/SaslClient.cpp|178 0
Added: src/qpid/broker/amqp/SaslClient.h|80 0
Modified: src/qpid/broker/amqp/Session.cpp|166 146
Modified: src/qpid/broker/amqp/Session.h|25 11
Modified: src/qpid/broker/amqp/Translation.cpp|1 1
Modified: src/qpid/broker/amqp/Translation.h|2 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|16 4
Modified: src/tests/CMakeLists.txt|3 0
Modified: src/tests/Makefile.am|3 1
Modified: src/tests/brokertest.py|2 0
Added: src/tests/interlink_tests.py|157 0
Added: src/tests/run_interlink_tests|26 0
Modified: src/tests/test_env.sh.in|2 0

Revision: 2b28d37150c75199cf430ea9d4dc3ddcbbcd9e98
Author: Ken Giusti <kgiusti@apache.org>
Date: 15/03/2013 21:36:09
Message:
QPID-4649: use qpid uuid library instead of python #MsgLength=51


----
Modified: src/tests/ha_store_tests.py|1 2
Modified: src/tests/ha_test.py|1 2
Modified: src/tests/ha_tests.py|1 2

Revision: 50c240d5b9be215b2fa820f590adeea7a09823bd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2013 01:29:33
Message:
QPID-4623: Implemented parser and evaluator for BETWEEN comparisons - The implementation uses a custom between operator rather than desugaring the syntax, because we can avoid repeated evaluation of the expression bing compared that way (this will also be true for the IN comparison operator). #MsgLength=300


----
Modified: src/qpid/broker/SelectorExpression.cpp|50 19
Modified: src/tests/Selector.cpp|7 0

Revision: 821cb43b6615ea2b7c1a5e1186b38585cb506ccc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2013 02:44:29
Message:
QPID-4623: Fixed unknown semantics of "between" comparison #MsgLength=59


----
Modified: src/qpid/broker/SelectorExpression.cpp|14 26
Modified: src/tests/Selector.cpp|5 0

Revision: 971fd107366d9adad08dfb1ddbdc94b40929ab8c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2013 02:50:56
Message:
QPID-4623: Fixed the unit test for unknown values #MsgLength=50


----
Modified: src/tests/Selector.cpp|2 2

Revision: b5a39e78e6c246e667f12b4b2c26dc7bf37152bc
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2013 04:27:27
Message:
QPID-4640: Add files required for legacystore build to distro. #MsgLength=338


----
Modified: src/Makefile.am|5 1
Added: src/legacystore.mk|110 0

Revision: 047b019d6b9a3623c28c4539ee9863d1999a5d50
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2013 04:27:32
Message:
QPID-4640: brokertest.py prints a message and skips tests if qmf.console not available. #MsgLength=257


----
Modified: src/tests/brokertest.py|4 1

Revision: 0af7f1c66e3b78a1cf498c015ddc06a085d557d1
Author: Alan Conway <aconway@apache.org>
Date: 16/03/2013 04:27:37
Message:
QPID-4640: Deprecate autotools build system. #MsgLength=296


----
Modified: INSTALL|12 115
Added: INSTALL-AUTOTOOLS|224 0
Modified: README.txt|3 12
Modified: configure.ac|17 0
Modified: src/tests/README.txt|17 34

Revision: 6e77ad7015c2cbae378c039a053bddbbfca2a9cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2013 12:32:22
Message:
QPID-4640: Fixed up some of the documentation from the autotools deprecation - The new INSTALL-AUTOMAKE was incorrectly based on the new INSTALL not the old one - The cmake build instructions didn't use a separate build directory which is the recommended configuration (both by cmake and qpid) #MsgLength=296


----
Modified: INSTALL|22 18
Modified: INSTALL-AUTOTOOLS|80 23
Modified: README.txt|3 1

Revision: 5dbfe04a40e574a6ce733af6b9690860af2f52c9
Author: Gordon Sim <gsim@apache.org>
Date: 19/03/2013 02:01:45
Message:
QPID-4586: some management related tweaks and fixes #MsgLength=52


----
Modified: src/qpid/broker/Broker.cpp|3 1
Modified: src/qpid/broker/amqp/Domain.cpp|5 0
Modified: src/qpid/broker/amqp/Domain.h|1 0
Modified: src/qpid/broker/amqp/Incoming.cpp|4 4
Modified: src/qpid/broker/amqp/Incoming.h|2 2
Modified: src/qpid/broker/amqp/Interconnects.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedIncomingLink.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedIncomingLink.h|1 1
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|2 2
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.h|1 1
Modified: src/qpid/broker/amqp/Outgoing.cpp|4 3
Modified: src/qpid/broker/amqp/Outgoing.h|2 2
Modified: src/qpid/broker/amqp/Relay.cpp|5 5
Modified: src/qpid/broker/amqp/Relay.h|3 3
Modified: src/qpid/broker/amqp/Session.cpp|27 11

Revision: 4b3e7d56ba5cc3dc9d1f3bd43454bdaf40419106
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/03/2013 02:43:07
Message:
QPID-4621: Arithmetic operations for C++ broker selectors - Rearranged Syntax and parser to support arithmetic - Implemented arithmetic syntax - Implemented arithmetic operators - Added some tests for arithmetic operations - Added explicit lexical tokens for all the comparison and arithmetic operations - Added the missing ',' token for us in the 'IN' comparison - Rearranged the lexer so that everything is not uniformly inside the hand crafted state machine. - Moved a bunch of testing code from the tokeniser to the unit test (much of this code might actually not be very useful anymore) #MsgLength=596


----
Modified: src/qpid/broker/SelectorExpression.cpp|314 98
Modified: src/qpid/broker/SelectorToken.cpp|66 107
Modified: src/qpid/broker/SelectorToken.h|14 11
Modified: src/qpid/broker/SelectorValue.cpp|13 0
Modified: src/qpid/broker/SelectorValue.h|1 0
Modified: src/tests/Selector.cpp|153 68

Revision: 93bfbb312faaa96e1dac461d29ba3b1c1b904d5c
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/03/2013 03:15:17
Message:
QPID-4493: Fixes memory leak in Perl bindings. #MsgLength=100


----
Modified: bindings/qpid/perl/t/Message.t|7 0
Modified: include/qpid/swig_perl_typemaps.i|18 15

Revision: 2ebf03b88be4724ac90113f3665454c3b9bff991
Author: Justin Ross <jross@apache.org>
Date: 19/03/2013 03:18:39
Message:
QPID-4658: Update statistics even when no binding key matches routing key #MsgLength=182


----
Modified: src/qpid/xml/XmlExchange.cpp|7 5

Revision: 12f7700e79f142121f3fc074c51b0e3327609407
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/03/2013 05:08:34
Message:
QPID-4624: Implement IN operator for C++ broker selectors - Implemented parser for IN operator - Implement In operator evaluator and unit tests - Syntax is a bit wider than the spec allowing full expressions in the contents of the IN expression not just strings. #MsgLength=265


----
Modified: src/qpid/broker/SelectorExpression.cpp|50 2
Modified: src/tests/Selector.cpp|7 0

Revision: 8bee4f6c4d66bc1a13e39a13be7fd40f4657ddd1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/03/2013 02:39:50
Message:
QPID-4558: Change C++ Selector implementation to use registered values - Selectors should now implement every language feature of the registered apache selector filter extension to the amqp 1.0 spec. - In the addressing syntax use a link property called just "selector" - For amqp 1.0 on the wire use the registered filter descriptor code for the selector. - For amqp 0-10 on the wire use a subscription property of "x-apache-selector" for the selector. #MsgLength=460


----
Modified: src/qpid/amqp/descriptors.h|2 1
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/amqp/Filter.cpp|1 1
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|5 4
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|3 3

Revision: aeec81bb67a8f97b9ea8472f74cdc7333f5ecf14
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/03/2013 10:03:19
Message:
QPID-4558: C++ broker selectors: Improved error reporting #MsgLength=58


----
Modified: src/qpid/broker/Selector.cpp|6 1
Modified: src/qpid/broker/SelectorExpression.cpp|91 51
Modified: src/qpid/broker/SelectorToken.cpp|9 2
Modified: src/qpid/broker/SelectorToken.h|14 2
Modified: src/tests/Selector.cpp|6 0

Revision: ba45cce4117fe9df90effbd1722d86051197c0c4
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/03/2013 11:18:21
Message:
NO-JIRA: silence irrelevant warning in release mode #MsgLength=52


----
Modified: src/qpid/broker/SelectorValue.cpp|2 0

Revision: 6531238a2200763893fff74b8ee725371606a883
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/03/2013 13:47:43
Message:
QPID-4558: C++ broker selectors: trivial - remove unnecessary templates #MsgLength=72


----
Modified: src/qpid/broker/SelectorExpression.cpp|12 15

Revision: 2d1280bde4f52a905ed1b165de8b26652b238c11
Author: Gordon Sim <gsim@apache.org>
Date: 22/03/2013 02:13:34
Message:
QPID-4586: Add generic (and somewhat experimental) tool for creating, deleting and listing qpidd entities e.g. domains and incoming- or outgoing- links #MsgLength=152


----
Modified: src/tests/CMakeLists.txt|2 0
Modified: src/tests/Makefile.am|2 2
Added: src/tests/qpidt|141 0

Revision: 997b0993588e92fe6f127f483b9407acb5faa74e
Author: Ken Giusti <kgiusti@apache.org>
Date: 23/03/2013 05:45:42
Message:
NO-JIRA: add SSL test that verifies hostname in certificate #MsgLength=60


----
Modified: src/tests/ping_broker|7 0
Modified: src/tests/ssl.mk|1 1
Modified: src/tests/ssl_test|132 12

Revision: f34eaff58430eb40e3e65d9933f9f942faf343d9
Author: Gordon Sim <gsim@apache.org>
Date: 24/03/2013 01:59:50
Message:
QPID-4586: fixes for dynamic sources/targets and on demand creation of nodes #MsgLength=77


----
Modified: examples/messaging/client.cpp|2 2
Modified: include/qpid/messaging/Address.h|1 0
Modified: include/qpid/messaging/Receiver.h|6 0
Modified: include/qpid/messaging/Sender.h|6 0
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|6 2
Modified: src/qpid/broker/amqp/Connection.h|3 1
Modified: src/qpid/broker/amqp/Interconnect.cpp|1 1
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|20 5
Modified: src/qpid/broker/amqp/Sasl.cpp|2 2
Modified: src/qpid/broker/amqp/Sasl.h|1 1
Modified: src/qpid/broker/amqp/Session.cpp|35 3
Modified: src/qpid/broker/amqp/Session.h|1 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|5 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|5 0
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 0
Modified: src/qpid/messaging/Address.cpp|4 44
Added: src/qpid/messaging/AddressImpl.h|44 0
Modified: src/qpid/messaging/AddressParser.cpp|5 1
Modified: src/qpid/messaging/Receiver.cpp|2 0
Modified: src/qpid/messaging/ReceiverImpl.h|2 0
Modified: src/qpid/messaging/Sender.cpp|2 1
Modified: src/qpid/messaging/SenderImpl.h|2 0
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|23 13
Modified: src/qpid/messaging/amqp/AddressHelper.h|2 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|17 5
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|19 5
Modified: src/qpid/messaging/amqp/ReceiverContext.h|2 1
Modified: src/qpid/messaging/amqp/ReceiverHandle.cpp|5 0
Modified: src/qpid/messaging/amqp/ReceiverHandle.h|1 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|17 6
Modified: src/qpid/messaging/amqp/SenderContext.h|2 1
Modified: src/qpid/messaging/amqp/SenderHandle.cpp|5 0
Modified: src/qpid/messaging/amqp/SenderHandle.h|1 0

Revision: 8e4a4118de1a8fcc91d3a6c9411af089a5578e90
Author: Gordon Sim <gsim@apache.org>
Date: 25/03/2013 17:08:58
Message:
QPID-4586: Compilation fix for windows #MsgLength=39


----
Modified: src/qpid/messaging/AddressImpl.h|1 0

Revision: 64581c3165ad3f355ca86c7857306bb88b1279a0
Author: Gordon Sim <gsim@apache.org>
Date: 27/03/2013 02:09:27
Message:
QPID-4667: Fix for selective message acknowledgement over AMQP 1.0 #MsgLength=67


----
Modified: src/qpid/messaging/amqp/SessionContext.cpp|5 1

Revision: d6000a2f9bb2e43f948dec280dd9c210ad59e21d
Author: Gordon Sim <gsim@apache.org>
Date: 27/03/2013 02:09:42
Message:
QPID-4668: Message is only redelivered if delivery count is greater than 1 #MsgLength=75


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1

Revision: 65bc01abbc1a82622dfff7952c0acc4e72c22ae7
Author: Charles E. Rolke <chug@apache.org>
Date: 27/03/2013 23:15:26
Message:
QPID-4672: C++ Broker deadlock in XmlExchange unbind Unbind functions get the Wlock directly and do not get Rlock first. #MsgLength=123


----
Modified: src/qpid/xml/XmlExchange.cpp|10 3
Modified: src/qpid/xml/XmlExchange.h|2 0

Revision: ad0b6e6186ff6317af2ce545dcca29056c6a2bd4
Author: Ken Giusti <kgiusti@apache.org>
Date: 28/03/2013 03:04:45
Message:
NO-JIRA: fix ssl_test to run in older python and nss environments. #MsgLength=67


----
Modified: src/tests/ssl_test|72 69

Revision: 95fa83c410aaef08d995c2930103b0f5c307cce3
Author: Gordon Sim <gsim@apache.org>
Date: 28/03/2013 23:01:08
Message:
QPID-4674: Detect asynchronous connection close, session end and link detach #MsgLength=77


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|60 6
Modified: src/qpid/messaging/amqp/ConnectionContext.h|8 1
Modified: src/qpid/messaging/amqp/SenderHandle.cpp|1 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|0 1

Revision: 6f153965f49c46e81cf3ff33cff708d8ff4566c4
Author: Gordon Sim <gsim@apache.org>
Date: 28/03/2013 23:01:21
Message:
QPID-4675: Allow receivers from direct exchanges without a subject filter #MsgLength=74


----
Modified: src/qpid/broker/amqp/Session.cpp|1 3

Revision: 4923767053bab6c37780d44a26429d084abf63f6
Author: Gordon Sim <gsim@apache.org>
Date: 29/03/2013 01:02:23
Message:
QPID-4669: have cmake build require proton 0.3 or greater #MsgLength=58


----
Modified: src/amqp.cmake|7 2

Revision: 836edcb6d0d92b3b94820ae3683e862e106278f6
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2013 05:13:33
Message:
QPID-4679: Cleaned up processing of addresses, including errors and warnings where elements can not be supported #MsgLength=113


----
Modified: src/qpid/broker/amqp/Session.cpp|44 1
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|157 22
Modified: src/qpid/messaging/amqp/AddressHelper.h|11 4
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|9 18
Modified: src/qpid/messaging/amqp/ReceiverContext.h|5 2
Modified: src/qpid/messaging/amqp/SenderContext.cpp|8 14
Modified: src/qpid/messaging/amqp/SenderContext.h|5 2

Revision: 899bab520d6ad98515d1f1ff731e1f2b793a9bf7
Author: Alan Conway <aconway@apache.org>
Date: 01/04/2013 22:27:31
Message:
QPID-4684: Remove obsolete options from example qpidd.conf file. #MsgLength=65


----
Modified: etc/qpidd.conf|3 3

Revision: fc561ee465497058a63433f0cb8d9d630bc0e9a1
Author: Alan Conway <aconway@apache.org>
Date: 01/04/2013 22:27:37
Message:
QPID-4686: Mention ldconfig in cpp/INSTALL instructions #MsgLength=56


----
Modified: INSTALL|16 8

Revision: 5ee462bf5750a37b9627923b9981405c34b3dbc9
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2013 00:47:10
Message:
QPID-4687: Add uninstall make target to cmake build #MsgLength=52


----
Modified: CMakeLists.txt|11 0
Modified: bindings/qmf/python/CMakeLists.txt|28 14
Modified: bindings/qmf2/python/CMakeLists.txt|24 14
Added: cmake_uninstall.cmake.in|22 0

Revision: 7154035574788bfd1e3437a828bf29bc56a71ce9
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2013 02:58:32
Message:
QPID-4640: cmake: set RPATH so installed execuatables run. #MsgLength=59


----
Modified: BuildInstallSettings.cmake|64 48

Revision: df8493156333cf1e1553dfec271afa44bd333bcd
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2013 03:06:35
Message:
NO-JIRA: Remove unnecessary mention of ldconfig in INSTALL instructions. #MsgLength=73


----
Modified: INSTALL|2 2

Revision: 769ac7d645a8347e8e2cba9f6eb929fb805c0502
Author: Alan Conway <aconway@apache.org>
Date: 02/04/2013 22:56:29
Message:
NO-JIRA: cmake: Fix use of file(copy) command, which is not available in cmake 2.6 #MsgLength=122


----
Modified: bindings/qmf/python/CMakeLists.txt|2 3
Modified: bindings/qmf2/python/CMakeLists.txt|2 2

Revision: b3a211bb4a6abc791ba68407a7a981a0790a30f3
Author: Charles E. Rolke <chug@apache.org>
Date: 03/04/2013 01:57:00
Message:
QPID-4692 ACL queue quotas did not count autodelete - patch by Ernie Allen #MsgLength=77


----
Modified: src/qpid/broker/Queue.cpp|4 0

Revision: fd5fc1e4726ee1746554af10c7fe72944f6ec921
Author: Alan Conway <aconway@apache.org>
Date: 03/04/2013 21:55:41
Message:
QPID-4697: Minor fixes to make distcheck #MsgLength=207


----
Modified: bindings/qmf/python/Makefile.am|1 1
Modified: bindings/qpid/Makefile.am|2 0
Modified: src/tests/ssl_test|52 47

Revision: 4a89ee3456ee60430708843a4008d16b6fae4761
Author: Charles E. Rolke <chug@apache.org>
Date: 04/04/2013 00:56:36
Message:
QPID-4575 Visual Studio 2012 - remove template arguments #MsgLength=57


----
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|3 3

Revision: fc624d1a5a4ad29adaea9a4e30b101088a1315b9
Author: Fraser Adams <fadams@apache.org>
Date: 04/04/2013 03:37:10
Message:
QPID-4699: Modification to C++ INSTALL guide #MsgLength=45


----
Modified: INSTALL|98 84

Revision: 6f01c5afacc9e79b97f669a94950951dfcc39b24
Author: Gordon Sim <gsim@apache.org>
Date: 04/04/2013 05:25:38
Message:
QPID-4700: fix typo in mapping for 'to' field #MsgLength=46


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1

Revision: 617729d0fe2c0e5bc4b25cee00e50f66b44625a1
Author: Fraser Adams <fadams@apache.org>
Date: 04/04/2013 20:17:15
Message:
QPID-4699: Modification to C++ INSTALL guide - updated following comments from Robbie & Steve #MsgLength=94


----
Modified: INSTALL|38 26

Revision: 47e3ebbcf58b48177134375d6b85e2a1069c9bb3
Author: Alan Conway <aconway@apache.org>
Date: 05/04/2013 01:52:09
Message:
NO-JIRA: HA documentation: minor updates to HA chapter. #MsgLength=56


----
Added: README-HA.txt|118 0

Revision: fc1e40f4450fe02135e4a9ca4e91765508bb7812
Author: Gordon Sim <gsim@apache.org>
Date: 05/04/2013 19:39:14
Message:
QPID-4701: Turn off visibility=hidden for gcc 4.2.1 due to problems with messaging exceptions #MsgLength=94


----
Modified: src/CMakeLists.txt|1 1

Revision: a697a6de0a7fef1802aa093f99faf171a5ca4da9
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/04/2013 23:41:58
Message:
QPID-4704: Build legacystore.so as a module, not a shared library. #MsgLength=204


----
Modified: src/legacystore.cmake|7 3

Revision: 647376f4e70a98efe33918dc513895465da235c0
Author: Gordon Sim <gsim@apache.org>
Date: 06/04/2013 01:07:57
Message:
QPID-4716: set durability on terminus #MsgLength=38


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|25 1
Modified: src/qpid/messaging/amqp/AddressHelper.h|2 0

Revision: af6d056952e33f5e5c94f88b8720bb256993aa52
Author: Gordon Sim <gsim@apache.org>
Date: 06/04/2013 01:08:03
Message:
QPID-4718: set exclusive owner on subscription queue #MsgLength=53


----
Modified: src/qpid/broker/amqp/Session.cpp|1 0

Revision: 1eff552ee83687f571d41cf30e21ab342fba3593
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/04/2013 01:17:06
Message:
QPID-4689: fix dropped heartbeat indications and object update callbacks #MsgLength=73


----
Modified: src/tests/CMakeLists.txt|1 0
Added: src/tests/qpidd_qmfv2_tests.py|203 0

Revision: 885362dae6aa9265f6b768fbb64e0d4f56915768
Author: Ted Ross <tross@apache.org>
Date: 06/04/2013 01:47:50
Message:
QPID-4717 - Added missing call to statisticsUpdated for Exchanges. Related to QPID-3875. #MsgLength=102


----
Modified: src/qpid/broker/Exchange.cpp|2 0

Revision: 6e933dfe124d7de6d5815e0523bcacbad6424428
Author: Charles E. Rolke <chug@apache.org>
Date: 06/04/2013 04:14:04
Message:
QPID-4721: .NET Binding WinSdk does not build hello_world and hello_xml Add the files to the CMakeLists.txt file. #MsgLength=114


----
Modified: examples/winsdk-cmake/CMakeLists.txt|2 0

Revision: 61c824351ee7ac38d6a7f6b14f214fb12aecef97
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 08/04/2013 22:02:18
Message:
QPID-4698: Fixed the install location for files under CMake. #MsgLength=295


----
Modified: BuildInstallSettings.cmake|3 3
Modified: etc/CMakeLists.txt|11 1
Modified: etc/qpidd-primary.in|2 2
Modified: managementgen/CMakeLists.txt|9 2
Modified: src/CMakeLists.txt|2 2

Revision: 1ab53a69762604a529186bd40e8ceba7d1b732c4
Author: Charles E. Rolke <chug@apache.org>
Date: 09/04/2013 02:40:34
Message:
QPID-4727:C++ Broker ACL keyword to reference default exchange. #MsgLength=66


----
Modified: src/qpid/acl/AclData.cpp|8 2
Modified: src/qpid/acl/AclData.h|5 1
Modified: src/qpid/acl/AclReader.cpp|2 0
Modified: src/tests/acl.py|11 0

Revision: dd71e78858fd39686027630d4d56eff3940fca93
Author: Charles E. Rolke <chug@apache.org>
Date: 09/04/2013 22:16:31
Message:
QPID-4729: Missing file in 0.22 cpp package breaks cmake build in dist kit #MsgLength=77


----
Modified: Makefile.am|1 0

Revision: e1a09db971201e61556082753cf5a1361b7617eb
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 10/04/2013 02:21:12
Message:
QPID-4698: Missed two macros in qpidd-primary.in #MsgLength=88


----
Modified: etc/CMakeLists.txt|1 0
Modified: etc/qpidd-primary.in|4 4

Revision: 742914d5b5f0c99d5c92ac2ea77d90113583f470
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/04/2013 02:46:12
Message:
QPID-4734: Release builds fail on GCC 4.4.7 / Boost 1.41 Use pragma to turn off unavoidable unitialised variable warning under gcc on RHEL6 #MsgLength=140


----
Modified: src/qpid/sys/SocketTransport.cpp|5 0

Revision: da5e8c506ec84eca98e7060c0270138a5c9c250f
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2013 03:37:32
Message:
QPID-4733: Fix cmake installation of init scripts #MsgLength=248


----
Modified: etc/CMakeLists.txt|12 3
Modified: etc/Makefile.am|1 1
Modified: etc/qpidd-primary.in|3 3
Modified: etc/qpidd.in|6 6

Revision: 9863d98d0e3630de83c23bbc010ba2c154c215e1
Author: Charles E. Rolke <chug@apache.org>
Date: 11/04/2013 03:56:21
Message:
QPID-4735: ACL file size/count upper limit checks incorrect #MsgLength=273


----
Modified: src/qpid/acl/AclData.cpp|30 67
Modified: src/qpid/acl/AclData.h|4 6
Modified: src/tests/acl.py|94 1
Modified: src/tests/run_acl_tests|1 1

Revision: cd6e6d213a90f9c4ce2c2119f32864c9adcf2ebe
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2013 22:08:46
Message:
QPID-4737: Fix cmake "make package" #MsgLength=221


----
Modified: CMakeLists.txt|1 1

Revision: 00c10e7920376a92ecb932d7bcdb90674ad3a6b1
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2013 23:59:58
Message:
NO-JIRA: HA updates to migration guide. #MsgLength=40


----
Modified: README-HA.txt|16 12

Revision: 093c5fa0527ccf40583973c005dce4ff5f4c99b4
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/04/2013 01:27:19
Message:
QPID-4698: Removed the requirement for Python 2.7. #MsgLength=51


----
Modified: managementgen/CMakeLists.txt|1 1

Revision: 753a92fd4c0a0374604f97be6f7575ec812102e3
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2013 01:52:47
Message:
NO-JIRA: HA doc updates to migration guide and broker book. #MsgLength=60


----
Modified: README-HA.txt|8 5

Revision: 6324a9a6914c54161986b355e08f4ec0bd448389
Author: Alan Conway <aconway@apache.org>
Date: 12/04/2013 03:03:20
Message:
QPID-4733: Fix windows problem introduced by installation of init scripts #MsgLength=172


----
Modified: etc/CMakeLists.txt|17 12

Revision: 85afb4b2b1147a1ae38099af547da8098fa0592f
Author: Ken Giusti <kgiusti@apache.org>
Date: 12/04/2013 05:47:40
Message:
QPID-4728: add 'credit' parameter to Federation Bridge configuration. #MsgLength=70


----
Modified: src/qpid/broker/Bridge.cpp|81 46
Modified: src/qpid/broker/Broker.cpp|4 1
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|2 0
Modified: src/qpid/broker/LinkRegistry.h|3 0
Modified: src/qpid/ha/BrokerReplicator.cpp|1 0
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/tests/federation.py|107 28
Modified: src/tests/federation_sys.py|1 1

Revision: 22244fe6b3748dd4f619bfbb24eec32e2a7f0b10
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/04/2013 03:31:57
Message:
QPID-3921: Move code from Statement.h to Statement.cpp So it won't slow down the build anymore. #MsgLength=96


----
Modified: include/qpid/log/Statement.h|0 59
Modified: src/qpid/log/Statement.cpp|58 1

Revision: 9b75a9778a0dd20228fed9f4064e7488605ccd13
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/04/2013 03:46:25
Message:
NO-JIRA: fix sporadic federation test_pull_from_queue_recovery test failures #MsgLength=77


----
Modified: src/tests/federation.py|6 4

Revision: 9fe3746a4f33867a7991dd1e0f11929dbd18ee00
Author: Charles E. Rolke <chug@apache.org>
Date: 18/04/2013 04:09:04
Message:
QPID-4736: Demote journal log messages from warn to info when message arises from journal configuration choice. #MsgLength=114


----
Modified: src/qpid/legacystore/jrnl/jcntl.cpp|2 2

Revision: 93ea6bf5782af690afb5911264b8a999713fc3c6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/04/2013 06:48:02
Message:
QPID-3689: Change tcp nodelay to be the default This change also alters the implementation of simple switch like options when using boost version 1.35 and later. We now allow these switches to also take an optional "=yes" or "=no" (and similar) argument. #MsgLength=255


----
Modified: include/qpid/Options.h|7 1
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/client/ConnectionSettings.cpp|1 1

Revision: 6f53152ff9a575bacfd4c60ef08093a16c83bd45
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/04/2013 01:18:11
Message:
QPID-3689: Fix previous change of command line option handling Now introduced new command line option type that is a pure command line switch which can take no boolean argument. #MsgLength=178


----
Modified: include/qpid/Options.h|4 0
Modified: src/posix/QpiddBroker.cpp|3 3

Revision: 255b5c9a0afb59a8655d4484e26128c5378936d7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/04/2013 04:48:16
Message:
QPID-4734: Expand ignoring warnings to all patchlevels of gcc 4.4 #MsgLength=66


----
Modified: src/qpid/sys/SocketTransport.cpp|1 1

Revision: 55387ad151930553d8b75b68a0d0c215e64d9967
Author: Alan Conway <aconway@apache.org>
Date: 19/04/2013 10:00:16
Message:
QPID-4748: Consistent handling of durations in broker configuration, allowing sub-second intervals. #MsgLength=627


----
Modified: include/qpid/sys/Time.h|1 0
Modified: src/qpid/broker/Broker.cpp|7 9
Modified: src/qpid/broker/Broker.h|4 5
Modified: src/qpid/broker/ConnectionHandler.cpp|4 1
Modified: src/qpid/broker/Link.cpp|1 2
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|1 2
Modified: src/qpid/ha/Settings.h|3 2
Modified: src/qpid/ha/StatusCheck.cpp|10 10
Modified: src/qpid/ha/StatusCheck.h|3 2
Modified: src/qpid/sys/posix/Time.cpp|27 8
Modified: src/tests/TimerTest.cpp|44 0

Revision: cccacefe8776db5564ab8b14608516e5c04fbaa6
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/04/2013 01:59:28
Message:
QPID-4756: enable updateStats callback for QMFv2 object notifications #MsgLength=70


----
Modified: src/tests/qpidd_qmfv2_tests.py|31 15

Revision: 29dd528259820182fe0f28e4c342f0ea3637c03a
Author: Charles E. Rolke <chug@apache.org>
Date: 20/04/2013 03:31:29
Message:
QPID-4748: Consistent handling of durations - apply changes to Windows platform #MsgLength=80


----
Modified: include/qpid/sys/Time.h|2 2
Modified: src/qpid/sys/windows/Time.cpp|25 1

Revision: 0c7498e0efbfd37bc975e69d80d780eb69f286b5
Author: Charles E. Rolke <chug@apache.org>
Date: 20/04/2013 06:13:11
Message:
QPID-4757: C++ Broker report sasldb failures more clearly when problem may be a permission issue. #MsgLength=100


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|7 0

Revision: 131bc1191cf9f75013db8b0c8540df36841794b9
Author: Michael Goulish <mgoulish@apache.org>
Date: 20/04/2013 12:15:59
Message:
QPID-4759 : make --help output show default value for --sasl-config #MsgLength=69


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: 3c85468205efbbc012772de38318dfba35b29960
Author: Michael Goulish <mgoulish@apache.org>
Date: 20/04/2013 12:27:50
Message:
QPID-4759 : backed out change -- can't hard-code Cyrus SASL default.  bad for Windows. #MsgLength=88


----
Modified: src/qpid/broker/Broker.cpp|0 1

Revision: 7c0f4411d72a82b0153aec490e9034a307aee4a4
Author: Gordon Sim <gsim@apache.org>
Date: 23/04/2013 00:17:13
Message:
Fix warning about uninitialised variable when running test under valgrind; caused by r1469088, QPID-3689 #MsgLength=105


----
Modified: src/tests/qpid-client-test.cpp|1 1

Revision: d705c6f4822163c32f6f239f6f0a9c76def2797a
Author: Gordon Sim <gsim@apache.org>
Date: 23/04/2013 00:35:49
Message:
QPID-4748: Fix to test broken (trivially) by r1469661 #MsgLength=54


----
Modified: src/tests/ClientSessionTest.cpp|1 1

Revision: 846077f24d6da3d11130c4442b96e070efddbf64
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/04/2013 03:19:27
Message:
QPID-4765: "Incorrect parameter validation for legacystore wcache-page-size and jfile-size-pgs" #MsgLength=96


----
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|18 30

Revision: 2712c41ecf5133c519f2d4081b6178913c8462f1
Author: Gordon Sim <gsim@apache.org>
Date: 23/04/2013 04:01:46
Message:
QPID-4702: ensure correct ordering of link arguments (libs must follow object files that use them) #MsgLength=99


----
Modified: src/ssl.cmake|4 1

Revision: f04604c4b36ae873d861ad5c0a2114bd27a760cc
Author: Alan Conway <aconway@apache.org>
Date: 24/04/2013 03:55:50
Message:
NO-JIRA: Fix compilation warnings introduced by r1469661. #MsgLength=109


----
Modified: src/qpid/sys/posix/Time.cpp|5 5

Revision: 164cbab5eb090610d06915833bdd5743408b2088
Author: Charles E. Rolke <chug@apache.org>
Date: 24/04/2013 22:40:17
Message:
QPID-4758: Extend the qpidd --wait option to work at shutdown Patch from Ernie Allen and Pavel Moravec. Note: This patch is for the posix platform broker; The windows broker does not use a --wait option and is unaffected by this patch. #MsgLength=238


----
Modified: src/posix/QpiddBroker.cpp|2 2

Revision: 58501c84a331735b6372283b1b511fb84c44039b
Author: Gordon Sim <gsim@apache.org>
Date: 25/04/2013 20:28:23
Message:
QPID-4764: tweaks to locking in receiver and session to avoid deadlock #MsgLength=71


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|8 3
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|0 2

Revision: 71960badf146b6898fbe8b017fe8f6c4287ee112
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/04/2013 22:45:00
Message:
QPID-3828: When sending large messages loss of connection is not detected even with heartbeats enabled [Patch from gordon Sim] #MsgLength=127


----
Modified: src/qpid/client/TCPConnector.cpp|1 1

Revision: 6756691c9f788fc0fd51c6d09a0025b5b4c3c538
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/04/2013 01:40:17
Message:
NO-JIRA: Removed references to deleted Exceptions in Ruby tests. #MsgLength=65


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|1 0
Modified: bindings/qpid/ruby/spec/qpid_messaging/connection_spec.rb|1 1
Modified: bindings/qpid/ruby/spec/qpid_messaging/session_spec.rb|2 2

Revision: f7ca694d13f783e0c41b18fcef48c1cbe52ea484
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/04/2013 01:40:22
Message:
QPID-4776: Fixes building Ruby bindings on Cmake < 2.8 #MsgLength=202


----
Modified: bindings/CMakeLists.txt|13 2
Modified: bindings/qmf/ruby/CMakeLists.txt|13 1
Modified: bindings/qmf2/ruby/CMakeLists.txt|13 1
Modified: bindings/qpid/ruby/CMakeLists.txt|13 1

Revision: 66959c87e9f9d210ef0f98d1690a2842899d3d01
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/04/2013 01:52:42
Message:
NO-JIRA: Removing the reference to errors.rb that crept back in. #MsgLength=65


----
Modified: bindings/qpid/ruby/lib/qpid_messaging.rb|0 1

Revision: 55a15bc7c3d05f6488a6d9a62908e55856e4d7c1
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/04/2013 04:26:41
Message:
QPID-4724: Fixes Perl bindings for Cmake < 2.8. #MsgLength=165


----
Modified: bindings/CMakeLists.txt|39 2

Revision: 7194d4a903359899fd19b9df23e9808d988bdf9f
Author: Alan Conway <aconway@apache.org>
Date: 27/04/2013 01:02:58
Message:
QPID-4748: Fix compilation warnings introduced by r1469661. #MsgLength=111


----
Modified: src/tests/TimerTest.cpp|12 12

Revision: 00eaae8627239106df08b58be66f2b3e91e7a83c
Author: Alan Conway <aconway@apache.org>
Date: 27/04/2013 01:28:26
Message:
QPID-4780: Bug 889552 - HA broker deadlock after loss of primary broker. #MsgLength=440


----
Modified: src/qpid/ha/BrokerReplicator.cpp|3 5
Modified: src/qpid/ha/QueueReplicator.cpp|32 23
Modified: src/qpid/ha/QueueReplicator.h|2 1

Revision: 92ec93ca8db542902ddafc3ab2e687ef61dbb500
Author: Ken Giusti <kgiusti@apache.org>
Date: 27/04/2013 04:06:03
Message:
QPID-4756: only invoke property update callback if properties are present #MsgLength=74


----
Modified: src/tests/qpidd_qmfv2_tests.py|2 0

Revision: f1d3e56f87a8f107f1e5bdbb0801bda7ab3974df
Author: Charles E. Rolke <chug@apache.org>
Date: 27/04/2013 05:38:07
Message:
QPID-4651: C++ Broker add --log-disable option Reviewed at https://reviews.apache.org/r/10799/ #MsgLength=97


----
Modified: include/qpid/log/Options.h|1 0
Modified: include/qpid/log/Selector.h|40 35
Modified: src/qpid/broker/Broker.cpp|8 2
Modified: src/qpid/log/Logger.cpp|1 0
Modified: src/qpid/log/Options.cpp|26 7
Modified: src/qpid/log/Selector.cpp|183 33
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/dynamic_log_level_test|41 8
Modified: src/tests/logging.cpp|122 0

Revision: d1eca12aa487054c5673f63a4ec24cdc3b59351f
Author: Alan Conway <aconway@apache.org>
Date: 29/04/2013 21:37:30
Message:
NO-JIRA: Remove spurious header file from qpid/cpp/src/qpid/broker/Bridge.cpp. #MsgLength=79


----
Modified: src/qpid/broker/Bridge.cpp|0 1

Revision: 27d64d73c3f2857fb9a406de07f52adf6dc22dfa
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 29/04/2013 22:19:58
Message:
QPID-4719: Include Perl language files missing from source files. #MsgLength=68


----
Modified: bindings/qpid/Makefile.am|1 1

Revision: f93fdf0b01a07a099d30d1badd8d0359ffed6499
Author: Charles E. Rolke <chug@apache.org>
Date: 29/04/2013 22:49:31
Message:
QPID-4631: C++ Broker federated links are protected by ACL policy. This issue evolved a bit between the original discussion and the final commit. See https://reviews.apache.org/r/10658/ for the details. #MsgLength=205


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|0 1
Modified: src/qpid/broker/ConnectionHandler.cpp|16 6
Modified: src/tests/ha_test.py|10 0
Modified: src/tests/run_acl_tests|96 16
Modified: src/tests/sasl_fed|7 0

Revision: 11c233d29d561694ae37bd2889959e1125f3ee5a
Author: Alan Conway <aconway@apache.org>
Date: 29/04/2013 23:27:45
Message:
NO-JIRA: Fix install error in perl binding CMakeLists.txt #MsgLength=146


----
Modified: bindings/qpid/perl/CMakeLists.txt|1 1

Revision: 3ab7795b850b072d891ef3040784032160552933
Author: Alan Conway <aconway@apache.org>
Date: 29/04/2013 23:57:59
Message:
QPID-4787: HA brokers find self-address in brokers_url. #MsgLength=362


----
Modified: src/qpid/ha/BrokerInfo.cpp|6 2
Modified: src/qpid/ha/ConnectionObserver.cpp|21 5
Modified: src/qpid/ha/ConnectionObserver.h|5 1
Modified: src/qpid/ha/HaBroker.cpp|8 9
Modified: src/qpid/ha/HaBroker.h|2 0
Modified: src/qpid/ha/StatusCheck.cpp|4 1
Modified: src/tests/ha_tests.py|15 16

Revision: 32a2d83ff1fdf37d6baf0a8e484694fb25e1cf96
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2013 02:04:17
Message:
QPID-4339: simple paged queue implementation #MsgLength=45


----
Modified: src/CMakeLists.txt|3 0
Modified: src/Makefile.am|5 0
Modified: src/qpid/broker/Message.h|0 3
Added: src/qpid/broker/PagedQueue.cpp|425 0
Added: src/qpid/broker/PagedQueue.h|98 0
Modified: src/qpid/broker/Protocol.cpp|16 3
Modified: src/qpid/broker/Protocol.h|1 0
Modified: src/qpid/broker/QueueCursor.h|1 0
Modified: src/qpid/broker/QueueFactory.cpp|13 1
Modified: src/qpid/broker/QueueSettings.cpp|34 0
Modified: src/qpid/broker/QueueSettings.h|5 0
Modified: src/qpid/broker/RecoverableMessage.h|2 1
Modified: src/qpid/broker/RecoverableMessageImpl.h|2 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|7 9
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|8 24
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 0
Added: src/qpid/sys/MemoryMappedFile.h|74 0
Added: src/qpid/sys/posix/MemoryMappedFile.cpp|105 0
Added: src/qpid/sys/windows/MemoryMappedFile.cpp|55 0
Modified: src/tests/CMakeLists.txt|4 0
Modified: src/tests/Makefile.am|2 1
Modified: src/tests/MessageTest.cpp|7 4
Added: src/tests/run_paged_queue_tests|32 0

Revision: 77f1a371934101c8ba1fc874f5b1892eda8572fc
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/04/2013 02:53:06
Message:
QPID-4698: Fixed the location of the SASL2 configuration file. #MsgLength=135


----
Modified: BuildInstallSettings.cmake|1 1

Revision: 0488bf18434bf13a4000349bb45a937cb94d668c
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/04/2013 03:42:56
Message:
NO-JIRA: Reverting the commit from r1477150 #MsgLength=91


----
Modified: bindings/qpid/perl/CMakeLists.txt|1 1

Revision: 24e715fe5a5f82dc17a0bf5103e630d8d15d261f
Author: Charles E. Rolke <chug@apache.org>
Date: 30/04/2013 04:20:23
Message:
QPID-4720: C++ Broker headers exchange tests not using run-time comaprisons. Main code modified only slighty so that tests can hook into actual logic. #MsgLength=153


----
Modified: src/qpid/broker/HeadersExchange.cpp|5 37
Modified: src/qpid/broker/HeadersExchange.h|1 1
Modified: src/tests/HeadersExchangeTest.cpp|102 28
Modified: src/tests/MessageUtils.h|27 16

Revision: 0e0880812d400b78815791f482b00684d3d84a7d
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2013 06:00:38
Message:
QPID-4339: fix for windows build #MsgLength=33


----
Modified: src/qpid/broker/PagedQueue.h|1 0

Revision: 0cf0706adc28313472fa74d78a816c30a7ddaf22
Author: Michael Goulish <mgoulish@apache.org>
Date: 30/04/2013 09:07:02
Message:
QPID-4759 : make both builds put sasl config file in sysconfdir/sasl2 and display default location in qpidd --help output #MsgLength=135


----
Modified: BuildInstallSettings.cmake|1 0
Modified: src/Makefile.am|1 1
Modified: src/config.h.cmake|1 0
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: 3e0e77394f46b191585a5269330262761a9dfc63
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2013 23:46:53
Message:
QPID-4339: fix for older compilers/c++ libraries #MsgLength=49


----
Modified: src/qpid/sys/MemoryMappedFile.h|2 2
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|5 4
Modified: src/qpid/sys/windows/MemoryMappedFile.cpp|2 1

Revision: bd8b1193026704fd09819fb159ce6aaea7b14fc2
Author: Michael Goulish <mgoulish@apache.org>
Date: 01/05/2013 01:04:46
Message:
QPID-4759 : make qpidd --help display sasl config dir default location Backing out my previous changes and just changing the help comment for the --sasl-config flag. #MsgLength=167


----
Modified: BuildInstallSettings.cmake|0 1
Modified: src/Makefile.am|1 1
Modified: src/config.h.cmake|0 1
Modified: src/qpid/broker/Broker.cpp|1 2

Revision: d27123d7df55ba6bdbbc4f4abdd836f48b8e9382
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2013 02:44:20
Message:
QPID-4339: add export symbol directives #MsgLength=40


----
Modified: src/qpid/sys/MemoryMappedFile.h|10 9

Revision: 69dd5b69078813487893dbba9491e7220c09db92
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2013 03:23:56
Message:
QPID-4339: some more export symbol directives needed for unit_test compilation on windows #MsgLength=90


----
Modified: src/qpid/broker/Protocol.h|6 5

Revision: 6b974939a16d746fd1e64a3e46c2eb4186c5d499
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2013 03:57:47
Message:
QPID-4651: export symbol directives #MsgLength=36


----
Modified: include/qpid/log/Selector.h|6 6

Revision: ca36c1b3fcf0b5b77303baa7d5ccdd9914148084
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/05/2013 04:53:58
Message:
QPID-4793: Change test so that regex.h works on other unixes #MsgLength=61


----
Modified: src/qpid/sys/regex.h|2 2

Revision: 01d3bd23524c166aa9bf24a08e1f1547e9d3047f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/05/2013 05:15:05
Message:
QPID-4339: Add include necessary under some versions of unix #MsgLength=61


----
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|1 0

Revision: d86f98607af56ffa4d40aa79e145eca8cdc89ed1
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/05/2013 12:06:00
Message:
QPID-4767 [legacystore] QMF commands to create a persistent queue with an illegal number of journal files or journal file size should be rejected, QPID-4794 Resizing qpid legacystore journal does not update queue arguments provided by QMF #MsgLength=239


----
Modified: src/qpid/broker/RecoverableQueue.h|4 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|13 0
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|29 21

Revision: 8c644df751335ce7f14fb18fb4b85b9565b14e7e
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2013 20:36:05
Message:
QPID-4786: Only have one thread processing session queue at a time #MsgLength=67


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|54 12
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|5 3
Modified: src/tests/MessagingSessionTests.cpp|37 0

Revision: 271322a57add9633f50bed4f55a7c7390e5756ab
Author: Ken Giusti <kgiusti@apache.org>
Date: 01/05/2013 21:07:22
Message:
QPID-4790: replace old client queue.delete api with QMF call #MsgLength=61


----
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/queue_flow_limit_tests.py|12 9
Modified: src/tests/run_queue_flow_limit_tests|10 16

Revision: 202df7edcb6c82b97d2c7262f9e25c8dde87553b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/05/2013 01:07:33
Message:
QPID-4799: Move qpid.pm to the lib directory. #MsgLength=46


----
Renamed: bindings/qpid/perl/lib/qpid.pm [from bindings/qpid/perl/qpid.pm]|0 0

Revision: 9f02e2ca49cdbcd855f03a670741d9d90c19e06a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/05/2013 01:07:38
Message:
QPID-4799: Updated the release.sh and Cmake files for qpid.pm #MsgLength=120


----
Modified: bindings/qpid/perl/CMakeLists.txt|0 1

Revision: 63ddf46034e2e2ce9081270a835f7ebe5bdd82f0
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/05/2013 01:07:43
Message:
QPID-4800: Fixed packaging for codec.pm. #MsgLength=97


----
Renamed: bindings/qpid/perl/lib/qpid/messaging.pm [from bindings/qpid/perl/lib/qpid/messaging/codec.pm]|0 0
Modified: bindings/qpid/perl/lib/qpid_messaging.pm|1 1

Revision: 76287e0e3fd19602198466b534eac2b43730a222
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2013 01:44:58
Message:
NO-JIRA: Remove "FIXME" string inadvertently left in code. #MsgLength=59


----
Modified: src/qpid/ha/BrokerInfo.cpp|0 1

Revision: fcae46b6c48fb60c6a17af1427797c852bd1d524
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/05/2013 02:14:36
Message:
QPID-4801: Show error when config file cannot be read. #MsgLength=154


----
Modified: src/qpid/Options.cpp|3 0

Revision: 3bd10ae6dc25dad7004f3b491572adc4a0435a37
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/05/2013 03:52:44
Message:
QPID-4801: Changed the log message to be of type DEBUG. #MsgLength=56


----
Modified: src/qpid/Options.cpp|1 1

Revision: 12cc4866f7d56ab6cac4a0e245ae68d2a66b616f
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/05/2013 10:05:50
Message:
Resolve Windows compile error and warnings. NO-JIRA #MsgLength=52


----
Modified: src/qpid/broker/RecoverableQueue.h|2 2

Revision: 78774bbc6b3090d3a49f15ae5229bd2c2cd9444c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/05/2013 22:59:32
Message:
QPID-4807: Add new broker option to disable listening on specific transport type #MsgLength=81


----
Modified: src/qpid/broker/Broker.cpp|18 1
Modified: src/qpid/broker/Broker.h|8 0
Modified: src/qpid/sys/SslPlugin.cpp|23 25
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 18

Revision: 1c6a07965ed7cf378048b729212c537de8e166e2
Author: Charles E. Rolke <chug@apache.org>
Date: 02/05/2013 23:42:39
Message:
QPID-4775: C++ Broker add ACL property checks for delete queue and exchange. 0-18-based patch from Pavel Moravec was adjusted for trunk. Removed size properties from list of queue deletion check parameters. #MsgLength=210


----
Modified: src/qpid/broker/Broker.cpp|25 9
Modified: src/tests/acl.py|239 7

Revision: 5b0d11241814eef305f720a92fadca2ab912249d
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 03/05/2013 02:18:00
Message:
QPID-4792: convert between UUIDs and GUIDs as needed for Microsoft APIs #MsgLength=72


----
Modified: src/qpid/sys/windows/uuid.cpp|83 13

Revision: 4a7cb3235ca804b3df42b3c57be87100a62538cd
Author: Charles E. Rolke <chug@apache.org>
Date: 03/05/2013 02:34:03
Message:
NO-JIRA: Fix Windows build more #MsgLength=32


----
Modified: src/qpid/broker/RecoverableQueue.h|1 0

Revision: 3b3e40d9b1c180f1974d55948ccf9a3484491a6c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/05/2013 04:10:13
Message:
QPID-4810: No TCP if SSL initialisation fails and TCP/SSL mux enabled #MsgLength=70


----
Modified: src/qpid/sys/SslPlugin.cpp|37 34

Revision: 8b5c5bfa5774213de9b6178fbd240e692157d356
Author: Alan Conway <aconway@apache.org>
Date: 03/05/2013 05:47:13
Message:
QPID-4798: Fix up c++ code generation to use stripped spec files. #MsgLength=263


----
Modified: configure.ac|1 1
Modified: rubygen/0-10/exceptions.rb|1 1
Modified: rubygen/framing.0-10/Session.rb|3 1
Modified: rubygen/framing.0-10/constants.rb|1 1
Modified: src/CMakeLists.txt|1 1
Modified: src/tests/legacystore/system_test.sh|1 1

Revision: 899a9d83d25aeaa6bd498d65e8dd36c33935e2c1
Author: Alan Conway <aconway@apache.org>
Date: 03/05/2013 11:25:42
Message:
QPID-4775: Fix core dumps in HA tests introduced in r1478418 #MsgLength=379


----
Modified: src/qpid/broker/Broker.cpp|1 2

Revision: ea244c71948dbb7c7cf4403a3ea44ba0ddbc7c26
Author: Gordon Sim <gsim@apache.org>
Date: 07/05/2013 18:57:17
Message:
QPID-4808: Augmented documentation of connection options and added description of the 'protocol' option #MsgLength=104


----
Modified: include/qpid/messaging/Connection.h|14 9

Revision: 3442b5b22fa83b9db96bfe75236eddc2b07b5553
Author: Justin Ross <jross@apache.org>
Date: 08/05/2013 04:57:05
Message:
QPID-3262: Remove support for a very old version of boost #MsgLength=58


----
Deleted: boost-1.32-support/Makefile|0 29
Deleted: boost-1.32-support/README.txt|0 8
Deleted: boost-1.32-support/boost.tar.gz|0 0
Deleted: boost-1.32-support/main.patch|0 37
Deleted: boost-1.32-support/supressions|0 885

Revision: 7a80d6eebabbd35f03db2cb8943d00b8d4734c86
Author: Gordon Sim <gsim@apache.org>
Date: 08/05/2013 19:55:37
Message:
QPID-4668: Correct use of delivery count (should be 0 on first delivery) #MsgLength=73


----
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1
Modified: src/tests/qpid-receive.cpp|1 1

Revision: e13d79bf427783973c2a6cad412f059243eca822
Author: Gordon Sim <gsim@apache.org>
Date: 08/05/2013 19:55:43
Message:
QPID-4819: ensure exclusive lock is released when link is detached (allowing queue to be deleted #MsgLength=97


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|1 0

Revision: a5e4e41d2ee40469287dc59517f0fc9c0fb2123c
Author: Gordon Sim <gsim@apache.org>
Date: 08/05/2013 19:55:56
Message:
QPID-4706: allow selectors to be used on links from an exchange #MsgLength=64


----
Modified: src/qpid/broker/Queue.cpp|23 2
Modified: src/qpid/broker/Queue.h|4 0
Modified: src/qpid/broker/QueueSettings.cpp|4 0
Modified: src/qpid/broker/QueueSettings.h|2 0
Modified: src/qpid/broker/amqp/Session.cpp|4 0
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|3 0

Revision: 702d397d95acc4016c3ccf7c687626ce68fb219f
Author: Gordon Sim <gsim@apache.org>
Date: 08/05/2013 23:39:24
Message:
QPID-4820: fix incorrect AMQP 0-10 typecodes #MsgLength=45


----
Modified: src/qpid/amqp_0_10/Codecs.cpp|3 3
Modified: src/tests/MessagingSessionTests.cpp|12 0

Revision: b6364638294da3bfdc2e09137a032dec3b7b5907
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/05/2013 01:37:34
Message:
QPID-4822: Allow Variant::parse() to produce VAR_UINT64 types. - Extend qpid::messaging::Variant string parser to output unsigned 64 bit type where relevant (positive integer larger than signed 64 bits) - Added some unit tests for the qpid::messageing::Variant string parser #MsgLength=277


----
Modified: src/qpid/types/Variant.cpp|4 1
Modified: src/tests/Variant.cpp|27 0

Revision: 636ce8f3eda36b400404a5769cfe6fd89ea3ccfd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/05/2013 01:37:40
Message:
QPID-4821: speed up selector identifier lookups #MsgLength=48


----
Modified: src/qpid/broker/Selector.cpp|59 41
Modified: src/qpid/broker/Selector.h|1 3

Revision: 2e44e7669bf633d8ae4e4390173d088264ab4c23
Author: Gordon Sim <gsim@apache.org>
Date: 09/05/2013 02:22:19
Message:
QPID-3189: correct calculated queue depth if enqueue fails #MsgLength=59


----
Modified: src/qpid/broker/Queue.cpp|6 1

Revision: 69663089fbc26dbb438b1525f0b9c5b39f5d8c2a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/05/2013 04:15:33
Message:
QPID-3772: Fix Windows socket options #MsgLength=38


----
Modified: src/qpid/sys/windows/WinSocket.cpp|1 1

Revision: d7b4026da4fb9f8af77cbae4c3c40d712453f2a3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/05/2013 04:15:37
Message:
NO-JIRA: Fix harmless but annoying Visual Studio warning #MsgLength=57


----
Modified: src/qpid/ha/ConnectionObserver.h|1 1

Revision: 6e1b4d8e99c8938523043282e757fe1c4157ad88
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 10/05/2013 16:21:47
Message:
QPID-4825: Add SOVERSION link to shared libraries #MsgLength=103


----
Modified: src/CMakeLists.txt|22 9
Modified: src/rdma.cmake|2 1
Modified: src/ssl.cmake|1 0
Modified: src/versions.cmake|13 0

Revision: 8db750bb2966e4432d0698b1f3912f2e74290fd9
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 10/05/2013 22:20:35
Message:
QPID-4826: Patch Perl bindings memory leak #MsgLength=325


----
Modified: bindings/CMakeLists.txt|31 37
Modified: include/qpid/swig_perl_typemaps.i|1 0

Revision: bac91acca5b6571e204b4c554241785726f5f6c0
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/05/2013 05:43:27
Message:
NO_JIRA: Minor fix for error on some compilers "no newline at end of file" #MsgLength=75


----
Modified: src/legacystore.cmake|1 1

Revision: c0b1a7bd182d4182f135d54f07074dc20f10a94c
Author: Alan Conway <aconway@apache.org>
Date: 14/05/2013 02:46:23
Message:
NO-JIRA: HA moved ha_store_tests.py into ha_tests.py test suite. #MsgLength=129


----
Modified: src/tests/CMakeLists.txt|0 3
Modified: src/tests/Makefile.am|0 1
Deleted: src/tests/ha_store_tests.py|0 125
Modified: src/tests/ha_tests.py|88 0

Revision: e7fb3efcb2db7f29666bba921b156b252f433596
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/05/2013 03:22:49
Message:
QPID-4781: Fix the Perl bindings for CMake < 2.8 #MsgLength=49


----
Modified: bindings/qpid/perl/CMakeLists.txt|16 2

Revision: 661a6cb2be1b362c761df6146d32f1132893100d
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2013 01:44:01
Message:
QPID-4839: HA Sporadic failure of ha_tests.test_join_ready_cluster #MsgLength=199


----
Modified: src/qpid/ha/Settings.h|1 1
Modified: src/qpid/ha/StatusCheck.cpp|9 4

Revision: 8ced061e56d2beacadeffc341089f53a4aef0f4f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/05/2013 05:26:34
Message:
QPID-4842: Ruby spout.rb calls wrong API to set message properties. #MsgLength=251


----
Modified: bindings/qpid/ruby/examples/spout.rb|1 1

Revision: ad067ca98dd19e1ef44d023a1e68863d54da0810
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/05/2013 05:26:37
Message:
QPID-4843: Fixed the Perl spout.pl example. #MsgLength=125


----
Modified: bindings/qpid/examples/perl/spout.pl|1 1

Revision: d78a961570e261b87616d22de9f0bf2f340a42a2
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2013 20:48:34
Message:
QPID-4846: prevent assertion when translating empty 0-10 message content into 1.0 #MsgLength=82


----
Modified: src/qpid/broker/amqp/Translation.cpp|1 1
Modified: src/tests/interlink_tests.py|31 0

Revision: 22731f6a4133bd40b8f5dab54cc7465de58ed788
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2013 23:03:44
Message:
QPID-4745: HA safe port allocation for brokers in HA tests. #MsgLength=747


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/StatusCheck.cpp|4 0
Modified: src/tests/brokertest.py|3 8
Modified: src/tests/ha_test.py|79 25
Modified: src/tests/ha_tests.py|41 53

Revision: b597d1d2901403108a57d05a30f6cf6e5744ae9e
Author: Alan Conway <aconway@apache.org>
Date: 15/05/2013 23:05:05
Message:
QPID-4745: Clean up test_backup_acquired to use HaCluster. #MsgLength=59


----
Modified: src/tests/ha_tests.py|10 15

Revision: 2f553f3a7c50e869ff325b4c9cc9f0aac18b9722
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2013 05:53:55
Message:
QPID-4850: HA Sporadic stall in ha_tests.test_failover_send_receive #MsgLength=277


----
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.h|2 2
Modified: src/tests/ha_tests.py|1 7

Revision: 9671044228c16a5061efb1868515e6bd87447aed
Author: Alan Conway <aconway@apache.org>
Date: 16/05/2013 09:02:37
Message:
NO-JIRA: HA Use qpid::Address in ha::BrokerInfo rather than host/port. #MsgLength=71


----
Modified: include/qpid/Address.h|3 2
Modified: src/qpid/Address.cpp|1 1
Modified: src/qpid/ha/BrokerInfo.cpp|12 10
Modified: src/qpid/ha/BrokerInfo.h|3 6
Modified: src/qpid/ha/HaBroker.cpp|1 1

Revision: 95a1ac2429e33bc4115c6e7ecb6e968f0070fab7
Author: Gordon Sim <gsim@apache.org>
Date: 17/05/2013 00:41:08
Message:
QPID-4855: fix compilation error with some compilers #MsgLength=53


----
Modified: src/qpid/messaging/amqp/Sasl.cpp|1 0
Modified: src/qpid/messaging/amqp/Sasl.h|1 0

Revision: 142f5140484e377b267cfd2ed4a1cc54aaa80dff
Author: Alan Conway <aconway@apache.org>
Date: 17/05/2013 01:15:40
Message:
NO-JIRA: HA clean up ha_tests.py to use HaCluster more consistently. #MsgLength=69


----
Modified: src/tests/ha_tests.py|27 29

Revision: fef0e60954a991ca10d3eb5ac2a3236b2df8b078
Author: Alan Conway <aconway@apache.org>
Date: 17/05/2013 03:15:43
Message:
NO-JIRA: Add motivation for change to README-HA.txt. #MsgLength=53


----
Modified: README-HA.txt|13 7

Revision: 0cec9888e03dc69ddd9c366f6249c20a5c980689
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 17/05/2013 04:12:58
Message:
QPID-4856: Fix reference to qpid.pm in Makefile.am #MsgLength=51


----
Modified: bindings/qpid/Makefile.am|1 1

Revision: a39eb447f3b2756c0cb82023c38ed309f4b1628f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 17/05/2013 20:36:10
Message:
QPID-4857: Fixed passing Perl Message to C++ code #MsgLength=186


----
Modified: bindings/qpid/perl/lib/qpid/messaging/Session.pm|3 3

Revision: a8cd560a86cace45e9ae942520f549879d9b5e3f
Author: Alan Conway <aconway@apache.org>
Date: 18/05/2013 03:26:34
Message:
NO-JIRA: HA updated  queue replication section of qpid C++ book. #MsgLength=266


----
Modified: README-HA.txt|14 6

Revision: a995f9385a10041bfb2b2096560aa32351704fbd
Author: Gordon Sim <gsim@apache.org>
Date: 20/05/2013 15:58:02
Message:
NO-JIRA: remove unnecessary includes from test script #MsgLength=54


----
Modified: src/tests/interlink_tests.py|0 2

Revision: bfe62d1a26789ebe586c0eee501bb0bad4a7d273
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/05/2013 22:41:16
Message:
NO-JIRA: cleanup temp files to fix the distcheck build #MsgLength=55


----
Modified: src/tests/ssl_test|6 7

Revision: e3cccbec9a6e23c28ce6617710d473b1908704e2
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 20/05/2013 23:46:30
Message:
NO-JIRA: Fixed requiring Perl to do a build #MsgLength=44


----
Modified: bindings/CMakeLists.txt|2 2

Revision: 441f8f4de4bf63df98c6235362925de9a0c5f91b
Author: Gordon Sim <gsim@apache.org>
Date: 22/05/2013 06:35:57
Message:
QPID-4591: patch from Ernie Allen to add queue sequence number to messages #MsgLength=75


----
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/broker/QueueSettings.cpp|7 1
Modified: src/qpid/broker/QueueSettings.h|4 0

Revision: 43360988939415ca1b324177dc8be2685abf0637
Author: Gordon Sim <gsim@apache.org>
Date: 23/05/2013 06:23:48
Message:
QPID-4878: fix SASL for connections established by the broker #MsgLength=62


----
Modified: src/qpid/broker/amqp/Domain.cpp|1 1
Modified: src/qpid/broker/amqp/Interconnect.cpp|2 2
Modified: src/qpid/broker/amqp/SaslClient.cpp|4 3
Modified: src/tests/qpidt|0 0

Revision: 161c28542283b839ba7afca8a1515ba664cbd482
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2013 07:52:05
Message:
NO-JIRA: Added missing const qualifiers to Buffer get functions. #MsgLength=65


----
Modified: include/qpid/framing/Buffer.h|4 3

Revision: d7ddd8a8ab185d4ff08b37396e6ac869b8f43216
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2013 07:52:17
Message:
QPID-4866: HA support for failover exchange #MsgLength=180


----
Modified: src/CMakeLists.txt|4 0
Modified: src/ha.mk|2 0
Added: src/qpid/ha/FailoverExchange.cpp|129 0
Added: src/qpid/ha/FailoverExchange.h|71 0
Modified: src/qpid/ha/HaBroker.cpp|6 2
Modified: src/qpid/ha/HaBroker.h|2 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|16 28
Modified: src/qpid/ha/ReplicatingSubscription.h|2 1
Added: src/qpid/ha/makeMessage.cpp|57 0
Added: src/qpid/ha/makeMessage.h|43 0
Modified: src/tests/ha_test.py|6 8
Modified: src/tests/ha_tests.py|20 3

Revision: cd65542156cf31cbce7a8f734838f7d9b6da19fc
Author: Gordon Sim <gsim@apache.org>
Date: 23/05/2013 18:43:29
Message:
QPID-4866: Add export directives for broker method now used by HA plugin #MsgLength=73


----
Modified: src/qpid/broker/Message.h|2 2

Revision: 8ada6eddb4073a1fe99f65de27c96cb9033fba3f
Author: Gordon Sim <gsim@apache.org>
Date: 23/05/2013 20:19:12
Message:
QPID-4880: Qualify the name passed back to the client for dynamically created nodes with the brokers domain #MsgLength=108


----
Modified: src/qpid/broker/amqp/Session.cpp|19 7
Modified: src/qpid/broker/amqp/Session.h|1 0

Revision: dcbda673c0a50984eba427f4da257d87d2c81ec7
Author: Alan Conway <aconway@apache.org>
Date: 23/05/2013 23:49:10
Message:
NO-JIRA: HA Add missing FailoverExchange.h/cpp to distribution rules. #MsgLength=70


----
Modified: src/ha.mk|2 0

Revision: f365dd5fc6e4dff021d7b45e6ce96a27bcca26ef
Author: Charles E. Rolke <chug@apache.org>
Date: 24/05/2013 03:38:09
Message:
QPID-4650: C++ Broker method to redirect messages between two queues. #MsgLength=72


----
Modified: src/qpid/broker/Broker.cpp|130 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/Queue.cpp|27 1
Modified: src/qpid/broker/Queue.h|22 3
Modified: src/tests/CMakeLists.txt|1 0

Revision: 7935c16a0c4363cd15b517c20f52e7c1e0f200ed
Author: Ken Giusti <kgiusti@apache.org>
Date: 24/05/2013 05:34:08
Message:
QPID-4883: check for null pointer when parsing certificate CommonName #MsgLength=70


----
Modified: src/qpid/sys/ssl/SslSocket.cpp|13 10

Revision: 1ea1844e0a6bbf0bd96b143911948dfa493ada92
Author: Gordon Sim <gsim@apache.org>
Date: 24/05/2013 08:50:47
Message:
QPID-4859: ensure flush is called on journals #MsgLength=46


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Added: src/qpid/broker/IngressCompletion.cpp|45 0
Added: src/qpid/broker/IngressCompletion.h|51 0
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/PersistableMessage.cpp|5 12
Modified: src/qpid/broker/PersistableMessage.h|7 16
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: 6e7b011a35d913ef8b92ddc0fd2413c626e3f929
Author: Gordon Sim <gsim@apache.org>
Date: 24/05/2013 18:24:38
Message:
QPID-4859: prevent circular reference on queues still holding durable messages #MsgLength=79


----
Modified: src/qpid/broker/IngressCompletion.cpp|4 1
Modified: src/qpid/broker/IngressCompletion.h|2 1

Revision: a52b204cc94895b0f42083e6513178d535b48150
Author: Charles E. Rolke <chug@apache.org>
Date: 24/05/2013 22:50:18
Message:
QPID-4650: C++ Broker method to redirect messages between two queues. Commit new files. #MsgLength=90


----
Added: src/tests/queue_redirect.py|634 0
Added: src/tests/run_queue_redirect|116 0

Revision: 158ff6087a6505e10415ff8f7952fef70e0c9e8a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 24/05/2013 22:58:37
Message:
QPID-4885: C++ examples install to qpid/examples #MsgLength=167


----
Modified: BuildInstallSettings.cmake|2 2

Revision: 6fea3531d0a978738635a4c9881d5dc2d879b24c
Author: Charles E. Rolke <chug@apache.org>
Date: 24/05/2013 23:23:39
Message:
QPID-4650: C++ Broker method to redirect messages between two queues. Previous commit had file content for these two files twice. #MsgLength=132


----
Modified: src/tests/queue_redirect.py|0 317
Modified: src/tests/run_queue_redirect|0 59

Revision: a5b8eeba95481f8beda7c509ca3391286164a331
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2013 00:48:53
Message:
QPID-4884: prevent segfault when translating x-declare into 1.0 node properties #MsgLength=80


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 1

Revision: dbf1f647d84b63fc1ae8d5f581c3c2843d3f1677
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2013 00:49:28
Message:
QPID-4888: correct handling of link naming #MsgLength=43


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 0
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|15 0
Modified: src/qpid/broker/amqp/ManagedConnection.h|3 0
Modified: src/qpid/broker/amqp/ManagedIncomingLink.cpp|2 1
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|2 1
Modified: src/qpid/broker/amqp/ManagedSession.cpp|4 0
Modified: src/qpid/broker/amqp/ManagedSession.h|1 0
Modified: src/qpid/broker/amqp/NodeProperties.cpp|8 1
Modified: src/qpid/broker/amqp/NodeProperties.h|2 0
Modified: src/qpid/broker/amqp/Session.cpp|18 8
Modified: src/qpid/broker/amqp/Session.h|4 0
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/ConnectionOptions.h|1 0
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|72 0
Modified: src/qpid/messaging/amqp/AddressHelper.h|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|4 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|4 12

Revision: cac55588bda4f3703e017568c1e11ff6eaf8e57d
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 25/05/2013 02:19:54
Message:
QPID-4889: Only installs the Swig descriptors in /usr/include #MsgLength=194


----
Modified: CMakeLists.txt|0 5

Revision: 5cc3f1ef7ebccc04901f99a35336a6df3998baf9
Author: Charles E. Rolke <chug@apache.org>
Date: 25/05/2013 22:03:07
Message:
QPID-4650: C++ Broker method to redirect messages between two queues. Self test on RHEL 6 hangs frequently. Fall out of test and leave a dangling session. This appears to avoid the hang. #MsgLength=189


----
Modified: src/tests/queue_redirect.py|2 2

Revision: 08f5d2c774ec6161538f965fddcddda64136e934
Author: Gordon Sim <gsim@apache.org>
Date: 27/05/2013 21:51:07
Message:
QPID-4890: added workaround to test to handle issues with closing stdin of subprocesses under older python interpreters #MsgLength=120


----
Modified: src/tests/interlink_tests.py|1 0

Revision: 3667a16c0905d63011e5a7131356b2281b928500
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2013 00:31:33
Message:
QPID-4887: retrieve username and password from url if specified #MsgLength=64


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|3 2

Revision: b4f179d4948b424a675b9ddfa55ef76a31f82fbb
Author: Gordon Sim <gsim@apache.org>
Date: 28/05/2013 01:06:13
Message:
NO-JIRA: match the frequency of rate failure warnings to stats report frequency #MsgLength=80


----
Modified: src/tests/qpid-latency-test.cpp|7 5

Revision: 1156fa256b2fb2f7b6c6f438512e1d43d528fe3f
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2013 00:26:54
Message:
QPID-4713: fix handling of reply to when converting from 1.0 to 0-10 format #MsgLength=76


----
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|1 1
Modified: src/qpid/broker/amqp/Translation.cpp|25 7
Modified: src/qpid/broker/amqp/Translation.h|3 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|7 1
Modified: src/tests/interlink_tests.py|78 4
Modified: src/tests/qpid-receive.cpp|2 3

Revision: a3a88ca10d9fadb951e6f4bbfc8a4980e4d5429c
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 29/05/2013 03:23:35
Message:
QPID-4892: Re-add the examples to the gemfile. #MsgLength=47


----
Modified: bindings/qpid/ruby/qpid_messaging.gemspec|1 0

Revision: 33d7655b16468d3270ae0539255ce7f707cd85fd
Author: Alan Conway <aconway@apache.org>
Date: 29/05/2013 22:33:05
Message:
NO-JIRA: CMake: Added missing test_wrap around stop_broker test. #MsgLength=307


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: 22fb40bd50eae804f687f3688442f8ab583f5637
Author: Alan Conway <aconway@apache.org>
Date: 30/05/2013 02:03:50
Message:
NO-JIRA: Added connection timeout to python client, used in brokertests. #MsgLength=205


----
Modified: src/tests/brokertest.py|2 2

Revision: 7135b4221530d434054de155b0e200876fe3d725
Author: Alan Conway <aconway@apache.org>
Date: 30/05/2013 02:03:59
Message:
QPID-4886: Pass non-const reference to Message in QueueObserver functions. #MsgLength=192


----
Added: src/qpid/broker/MessageInterceptor.h|53 0
Modified: src/qpid/broker/Queue.cpp|3 1
Modified: src/qpid/broker/Queue.h|4 0

Revision: 598e03603abb1895d684b13e389da22e731ae775
Author: Gordon Sim <gsim@apache.org>
Date: 30/05/2013 19:11:01
Message:
QPID-4886: fix autoconf distcheck #MsgLength=34


----
Modified: src/Makefile.am|1 0

Revision: b592987151ebbe9927f98954430da1d366459785
Author: Gordon Sim <gsim@apache.org>
Date: 31/05/2013 02:41:21
Message:
QPID-4893: prevent uninitialised buffered messages being transfered #MsgLength=68


----
Modified: src/qpid/broker/amqp/Relay.cpp|13 6
Modified: src/qpid/broker/amqp/Relay.h|3 2

Revision: 83851b18f500f0e21cba8d2deb4d969f4a72d941
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/06/2013 22:27:40
Message:
QPID-4905: Tidy up - Remove unused function getBuffered() of ConnectionOutputHandler - Stop SessionContext and AggregateOutput from needlessly implementing the OutputControl interface #MsgLength=186


----
Modified: src/qpid/amqp_0_10/Connection.cpp|0 5
Modified: src/qpid/amqp_0_10/Connection.h|0 1
Modified: src/qpid/broker/Connection.cpp|0 1
Modified: src/qpid/broker/Connection.h|0 1
Modified: src/qpid/broker/ConnectionState.h|0 1
Modified: src/qpid/broker/SemanticState.cpp|3 3
Modified: src/qpid/broker/SessionContext.h|10 7
Modified: src/qpid/broker/SessionState.cpp|0 10
Modified: src/qpid/broker/SessionState.h|0 4
Modified: src/qpid/sys/AggregateOutput.cpp|1 5
Modified: src/qpid/sys/AggregateOutput.h|3 6
Modified: src/qpid/sys/ConnectionOutputHandler.h|0 1
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|0 1

Revision: 9efbc6fcf5a00b8b26f79e869c2ff22e05f28cfe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/06/2013 22:27:55
Message:
QPID-4854: Make the protocol negotiation timeout actually relate to the protocol negotiation! #MsgLength=94


----
Modified: src/qpid/amqp_0_10/Connection.cpp|1 0
Modified: src/qpid/amqp_0_10/Connection.h|1 0
Modified: src/qpid/broker/Connection.cpp|3 0
Modified: src/qpid/broker/Connection.h|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|1 0
Modified: src/qpid/messaging/amqp/SslTransport.h|1 0
Modified: src/qpid/messaging/amqp/TcpTransport.h|1 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|7 11
Modified: src/qpid/sys/AsynchIOHandler.h|1 0
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|1 0
Modified: src/qpid/sys/OutputControl.h|1 0
Modified: src/qpid/sys/RdmaIOPlugin.cpp|5 0

Revision: 64ee93a5d6cdfef9d123fc58af7fc93c61c52df4
Author: Gordon Sim <gsim@apache.org>
Date: 05/06/2013 01:05:38
Message:
QPID-4707: Set AMQP 1.0 fields on outgoing messages based on special property keys #MsgLength=83


----
Modified: src/CMakeLists.txt|5 0
Modified: src/Makefile.am|5 1
Modified: src/qpid/amqp/Descriptor.cpp|15 0
Modified: src/qpid/amqp/Descriptor.h|1 0
Modified: src/qpid/amqp/Encoder.cpp|2 1
Modified: src/qpid/amqp/Encoder.h|3 0
Added: src/qpid/amqp/MapEncoder.cpp|142 0
Added: src/qpid/amqp/MapEncoder.h|58 0
Renamed: src/qpid/amqp/MapHandler.h [from src/qpid/broker/MapHandler.h]|4 11
Added: src/qpid/amqp/MapSizeCalculator.cpp|151 0
Added: src/qpid/amqp/MapSizeCalculator.h|73 0
Modified: src/qpid/amqp/MessageEncoder.cpp|52 17
Modified: src/qpid/amqp/MessageEncoder.h|17 4
Modified: src/qpid/broker/HeadersExchange.cpp|15 14
Modified: src/qpid/broker/Message.cpp|3 1
Modified: src/qpid/broker/Message.h|5 3
Modified: src/qpid/broker/Selector.cpp|3 1
Modified: src/qpid/broker/amqp/Message.cpp|2 1
Modified: src/qpid/broker/amqp/Message.h|1 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|5 5
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|133 20
Modified: src/qpid/xml/XmlExchange.cpp|15 15

Revision: c78fc4f611156c8454d435838170e7aec66b06f7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/06/2013 02:21:31
Message:
QPID-4854: Removed code now unused since this change #MsgLength=53


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|0 2
Modified: src/qpid/sys/AsynchIOHandler.h|0 1

Revision: af33a74341fa444d1e1edf78a6d07ee8e6576d4a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/06/2013 01:56:16
Message:
QPID-4854: Removed use of intrusive_ptr::reset to work with older boost versions #MsgLength=81


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 1

Revision: b4b21fbb544d210c1f003cdcf022d1829569b03e
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/06/2013 01:17:05
Message:
Allows QMF to build on Windows; resolves QPID-4909. #MsgLength=52


----
Modified: src/CMakeLists.txt|12 5
Modified: src/qmf/Agent.cpp|3 3
Modified: src/qmf/AgentSession.cpp|2 2
Modified: src/qpid/messaging/AddressParser.h|4 3

Revision: 6345a20a23f64564c127b7050208c7a91aa6d4d5
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/06/2013 01:22:33
Message:
Add a test for recovering a message with 0-length body. NO-JIRA. #MsgLength=65


----
Modified: src/tests/store.py|17 0

Revision: d210763e1b0da9624bdee98ffae096198788cbdb
Author: Stephen D. Huston <shuston@apache.org>
Date: 08/06/2013 06:38:17
Message:
Fix compile warning on Visual Studio. NO-JIRA. #MsgLength=47


----
Modified: src/qpid/ha/StatusCheck.cpp|2 2

Revision: c0d81ba26e0a0b89f0fbba4479063a6498ae3822
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:37
Message:
QPID-4905: Remove unused members in Connector interface #MsgLength=56


----
Modified: src/qpid/client/Connector.h|0 2
Modified: src/qpid/client/RdmaConnector.cpp|0 10
Modified: src/qpid/client/SslConnector.cpp|0 10
Modified: src/qpid/client/TCPConnector.cpp|0 8
Modified: src/qpid/client/TCPConnector.h|0 2

Revision: 98c0b496819842c84386d210cd756660fcd1b0c9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:43
Message:
QPID-4905: Tidy-up remove OutputHandler and directly use FrameHandler #MsgLength=70


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/amqp_0_10/Connection.h|1 1
Modified: src/qpid/broker/Connection.cpp|2 2
Modified: src/qpid/broker/Connection.h|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|2 2
Modified: src/qpid/client/Connector.h|3 3
Modified: src/qpid/client/RdmaConnector.cpp|3 3
Modified: src/qpid/client/SslConnector.cpp|2 2
Modified: src/qpid/client/TCPConnector.cpp|1 1
Modified: src/qpid/client/TCPConnector.h|1 1
Deleted: src/qpid/framing/OutputHandler.h|0 42
Modified: src/qpid/framing/amqp_framing.h|0 1
Modified: src/qpid/sys/ConnectionOutputHandler.h|2 2
Modified: src/qpid/sys/ConnectionOutputHandlerPtr.h|1 1

Revision: d0a1cab02c89678fe5b025bc5f2c9ebb336f083c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:48
Message:
QPID-4905: Remove deprecated and unused federation property #MsgLength=60


----
Modified: src/qpid/broker/ConnectionHandler.cpp|0 1
Modified: src/qpid/broker/ConnectionState.h|0 3

Revision: d5ed68730d109c2cc4a60e4c552b0b2983409d64
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:51
Message:
QPID-4905: Remove unused function #MsgLength=34


----
Modified: src/qpid/broker/ConnectionState.h|0 1

Revision: 90791d4140d6bfb127195f375da080c077d6131b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:55
Message:
QPID-4905: Remove unused method #MsgLength=32


----
Modified: src/qpid/broker/Connection.h|0 5

Revision: 4a5c00b27df6c3e7d92eb521d9c3cb5319f4f3b2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:46:59
Message:
QPID-4905: Remove unused Connection ErrorListener interface - was only used by removed cluster support #MsgLength=103


----
Modified: src/qpid/broker/Connection.cpp|0 1
Modified: src/qpid/broker/Connection.h|0 15
Modified: src/qpid/broker/ConnectionHandler.cpp|0 3
Modified: src/qpid/broker/SessionHandler.cpp|0 6

Revision: 6677fd0dc4dadfe82e7a20a887592fe0263fd09d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2013 03:47:10
Message:
QPID-4905: Removed TimeoutHandler interface as it was really unused #MsgLength=68


----
Modified: src/Makefile.am|0 1
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/Connection.cpp|0 4
Modified: src/qpid/broker/Connection.h|0 2
Modified: src/qpid/client/ConnectionImpl.cpp|4 10
Modified: src/qpid/client/ConnectionImpl.h|1 4
Modified: src/qpid/sys/ConnectionInputHandler.h|1 2
Deleted: src/qpid/sys/TimeoutHandler.h|0 39

Revision: 1105070b8f4f726337031f332086ad2ac34e40f0
Author: Gordon Sim <gsim@apache.org>
Date: 13/06/2013 01:56:12
Message:
QPID-4766: Added generic filter support to address handling in qpid::messaging. Added support for legacy-headers-binding and newly defined xquery filters. #MsgLength=155


----
Modified: src/qpid/amqp/MapReader.cpp|46 26
Modified: src/qpid/amqp/MapReader.h|6 0
Modified: src/qpid/amqp/descriptors.h|4 0
Modified: src/qpid/broker/amqp/Filter.cpp|258 47
Modified: src/qpid/broker/amqp/Filter.h|64 11
Modified: src/qpid/broker/amqp/Session.cpp|5 18
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|147 0
Modified: src/qpid/messaging/amqp/AddressHelper.h|18 1
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|0 47

Revision: 0d68e60d30058531f2f27b4a19a42140ead3c59e
Author: Gordon Sim <gsim@apache.org>
Date: 13/06/2013 01:56:20
Message:
QPID-4917: allow shared topic subscriptions #MsgLength=44


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|2 2
Modified: src/qpid/broker/amqp/Outgoing.h|1 1
Modified: src/qpid/broker/amqp/Session.cpp|19 4

Revision: 8eb69e7b6cc1183ebb305f33f89cc966f9815fce
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2013 00:59:42
Message:
QPID-4921: check pointer before using it #MsgLength=41


----
Modified: src/qpid/sys/posix/SystemInfo.cpp|1 1

Revision: acfddd78bed5229efb0c459973a8fc55c62de07f
Author: Gordon Sim <gsim@apache.org>
Date: 14/06/2013 01:45:56
Message:
NO-JIRA: restrict broker to listen only on loopback interface (which is all that gets used by clients) in order to avoid port collisions #MsgLength=137


----
Modified: src/tests/BrokerFixture.h|1 0
Modified: src/tests/dynamic_log_hires_timestamp|1 1
Modified: src/tests/dynamic_log_level_test|1 1
Modified: src/tests/federated_topic_test|1 1
Modified: src/tests/interlink_tests.py|1 0
Modified: src/tests/run_acl_tests|8 8
Modified: src/tests/run_federation_sys_tests|1 1
Modified: src/tests/run_headers_federation_tests|2 2
Modified: src/tests/run_queue_redirect|1 1
Modified: src/tests/sasl_fed|2 2
Modified: src/tests/sasl_no_dir|1 1
Modified: src/tests/ssl_test|1 1
Modified: src/tests/start_broker|1 1

Revision: a7c45331ada9db57dc2fa0cfb832b0b1d4e22ace
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2013 04:19:21
Message:
QPID-4923: Windows C++ broker should use --ssl-port option to select ssl port #MsgLength=78


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1

Revision: 5cf66d549967d2f846054db052b5c504e30c5f4d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2013 04:19:25
Message:
NO-JIRA: Remove unnecessary code #MsgLength=218


----
Modified: src/qpid/client/windows/SslConnector.cpp|9 45

Revision: dd6ba115fdc35501c98f657f8c8b934305bce91c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2013 04:19:29
Message:
NO-JIRA: Remove unnecessary includes for AsynchIO #MsgLength=50


----
Modified: src/qpid/sys/AsynchIO.h|2 2
Modified: src/qpid/sys/posix/AsynchIO.cpp|6 6

Revision: 7b65020ef2a7a5c8420892e1bd31404091998950
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2013 04:46:16
Message:
NO-JIRA: Windows fixes for previous  "simple" change #MsgLength=53


----
Modified: src/qpid/sys/AsynchIO.h|1 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 0
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|1 0

Revision: 190bf0e30d417de525f28790a9740e0fb144ea1a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/06/2013 06:17:05
Message:
QPID-4926: Add in tests missing from the cmake build #MsgLength=53


----
Modified: src/tests/CMakeLists.txt|15 5

Revision: eaf5c23034af6a50b211994cf33065d0abbefe33
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/06/2013 06:27:28
Message:
QPID-4926: Add in overlooked cli_tests #MsgLength=39


----
Modified: src/tests/CMakeLists.txt|1 0

Revision: e670efe32afb7bf48d12f563aa62c8d3c3f78366
Author: Alan Conway <aconway@apache.org>
Date: 17/06/2013 22:19:10
Message:
QPID-4348: HA Use independent sequence numbers for identifying messages #MsgLength=632


----
Modified: include/qpid/types/Uuid.h|10 1
Modified: src/CMakeLists.txt|20 16
Modified: src/ha.mk|11 7
Modified: src/qpid/broker/DeliveryRecord.cpp|3 1
Modified: src/qpid/broker/DeliveryRecord.h|5 1
Modified: src/qpid/broker/Lvq.cpp|1 0
Modified: src/qpid/broker/Message.cpp|13 2
Modified: src/qpid/broker/Message.h|4 0
Modified: src/qpid/broker/MessageInterceptor.h|6 1
Modified: src/qpid/broker/Observers.h|6 6
Modified: src/qpid/broker/Queue.cpp|5 3
Modified: src/qpid/broker/QueueObserver.h|0 1
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/ha/Backup.cpp|1 7
Modified: src/qpid/ha/BrokerInfo.cpp|1 1
Modified: src/qpid/ha/BrokerInfo.h|4 3
Modified: src/qpid/ha/BrokerReplicator.cpp|22 10
Modified: src/qpid/ha/BrokerReplicator.h|3 4
Modified: src/qpid/ha/ConnectionObserver.cpp|5 0
Modified: src/qpid/ha/ConnectionObserver.h|2 0
Modified: src/qpid/ha/HaBroker.cpp|17 6
Modified: src/qpid/ha/HaBroker.h|9 1
Added: src/qpid/ha/IdSetter.h|62 0
Modified: src/qpid/ha/Membership.cpp|26 5
Modified: src/qpid/ha/Membership.h|1 0
Modified: src/qpid/ha/Primary.cpp|133 70
Modified: src/qpid/ha/Primary.h|13 6
Modified: src/qpid/ha/QueueGuard.cpp|24 39
Modified: src/qpid/ha/QueueGuard.h|17 37
Deleted: src/qpid/ha/QueueRange.h|0 78
Modified: src/qpid/ha/QueueReplicator.cpp|36 45
Modified: src/qpid/ha/QueueReplicator.h|12 3
Added: src/qpid/ha/QueueSnapshot.h|68 0
Added: src/qpid/ha/QueueSnapshots.h|81 0
Added: src/qpid/ha/README.md|80 0
Modified: src/qpid/ha/RemoteBackup.cpp|7 10
Modified: src/qpid/ha/RemoteBackup.h|14 10
Modified: src/qpid/ha/ReplicatingSubscription.cpp|127 162
Modified: src/qpid/ha/ReplicatingSubscription.h|28 19
Added: src/qpid/ha/hash.h|42 0
Modified: src/qpid/ha/makeMessage.cpp|5 0
Modified: src/qpid/ha/makeMessage.h|23 0
Modified: src/qpid/ha/types.cpp|17 0
Modified: src/qpid/ha/types.h|26 0
Modified: src/qpid/types/Uuid.cpp|8 0
Modified: src/tests/DeliveryRecordTest.cpp|1 1
Modified: src/tests/ha_test.py|2 2
Modified: src/tests/ha_tests.py|31 32
Modified: src/tests/qpid-cluster-benchmark|3 3

Revision: 50efdd3ca871ab365d02bc779ffbe5a8fec2cb98
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/06/2013 03:45:48
Message:
QPID-4926: Get Unix sasl/ssl test working #MsgLength=42


----
Modified: src/tests/CMakeLists.txt|24 13

Revision: 2290351e8dce3a86dd36ea13dae9d59291c629ca
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2013 04:38:08
Message:
NO-JIRA: Fix compile errors in Windows build. #MsgLength=91


----
Modified: include/qpid/types/Uuid.h|2 2
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1

Revision: 15289f8e946a76c72ef6aa9a48015137939ed79c
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2013 05:09:11
Message:
QPID-4926: Add path when invoking sasl_test_setup.sh #MsgLength=132


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: 9440443c9acc63035991c4504d07fdb44caa3886
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2013 05:09:19
Message:
QPID-4745: Alternative port allocation for tests, instead of 'qpidd --port=0' #MsgLength=518


----
Modified: src/posix/QpiddBroker.cpp|3 3
Modified: src/tests/CMakeLists.txt|2 0
Modified: src/tests/Makefile.am|8 2
Added: src/tests/qpidd-p0|46 0

Revision: 431a0027b25fdc304dac85b1d4b6dfd6885e2376
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2013 05:29:16
Message:
NO-JIRA: Remove useless HAVE_CONFIG_H definition #MsgLength=49


----
Modified: src/CMakeLists.txt|0 5
Modified: src/qpid/SaslFactory.cpp|1 3
Modified: src/qpid/Version.h|1 5
Modified: src/qpid/broker/SaslAuthenticator.cpp|3 4
Modified: src/qpid/client/ConnectionImpl.cpp|1 3
Modified: src/qpid/client/LoadPlugins.cpp|3 3

Revision: e920d32ca9ed880f1e394b5b01e00c3e8a047e94
Author: Alan Conway <aconway@apache.org>
Date: 19/06/2013 21:19:19
Message:
QPID-4745: Remove spurious --port option in qpidd-p0 #MsgLength=53


----
Modified: src/tests/qpidd-p0|1 1

Revision: 4f9bf5c226e6fa50d8ac32f33b40686751864862
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/06/2013 22:08:42
Message:
QPID-4933: Fix Ruby gem installs on Ruby > 1.8.7 #MsgLength=180


----
Modified: bindings/qpid/ruby/ext/cqpid/extconf.rb|10 2

Revision: e5d2e889eed4e75076e985a990c83f5d45dca960
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2013 22:26:03
Message:
QPID-4905: Tidy up broker::Connection - Clean up code for accounting for sent frames - merged Connection and ConnectionState into Connection #MsgLength=141


----
Modified: src/CMakeLists.txt|0 1
Modified: src/Makefile.am|0 3
Modified: src/qpid/broker/Bridge.cpp|2 4
Modified: src/qpid/broker/Bridge.h|0 2
Modified: src/qpid/broker/Broker.cpp|6 7
Modified: src/qpid/broker/Broker.h|6 6
Modified: src/qpid/broker/Connection.cpp|85 33
Modified: src/qpid/broker/Connection.h|68 26
Modified: src/qpid/broker/ConnectionHandler.cpp|2 1
Deleted: src/qpid/broker/ConnectionState.cpp|0 38
Deleted: src/qpid/broker/ConnectionState.h|0 115
Modified: src/qpid/broker/HandlerImpl.h|2 2
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 1
Modified: src/qpid/broker/SemanticState.cpp|9 8
Modified: src/qpid/broker/SessionContext.h|2 2
Modified: src/qpid/broker/SessionHandler.cpp|6 5
Modified: src/qpid/broker/SessionHandler.h|2 3
Modified: src/qpid/broker/SessionState.cpp|1 2
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 1
Modified: src/qpid/management/ManagementAgent.cpp|10 10
Modified: src/qpid/management/ManagementAgent.h|3 3
Deleted: src/qpid/sys/ConnectionOutputHandlerPtr.h|0 55

Revision: fb2cbcf994a942858d95a53701384839a6613f2a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2013 22:26:11
Message:
QPID-4905: Stopped broker::Broker needing to refer to broker::Connection - Also removed ConnectionToken which didn't add anything over OwnershipToken #MsgLength=150


----
Modified: src/Makefile.am|1 1
Modified: src/qpid/broker/Broker.cpp|12 12
Modified: src/qpid/broker/Broker.h|6 8
Modified: src/qpid/broker/Connection.h|8 5
Renamed: src/qpid/broker/ConnectionIdentity.h [from src/qpid/broker/ConnectionToken.h]|25 17
Modified: src/qpid/broker/Message.cpp|9 0
Modified: src/qpid/broker/Message.h|15 5
Modified: src/qpid/broker/OwnershipToken.h|1 3
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.h|2 4
Modified: src/qpid/broker/SessionContext.h|0 1
Modified: src/qpid/broker/SessionState.cpp|2 2
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.h|3 3
Modified: src/qpid/broker/amqp/ManagedSession.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedSession.h|1 2
Modified: src/qpid/management/ManagementAgent.cpp|22 19
Modified: src/qpid/management/ManagementAgent.h|7 6

Revision: c4fa8cbf0507b7aea086e256ac37cec728b03173
Author: Gordon Sim <gsim@apache.org>
Date: 19/06/2013 22:51:55
Message:
QPID-4935: handle case where peer to sender settles without setting a delivery state #MsgLength=85


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|20 2
Modified: src/qpid/messaging/amqp/SenderContext.h|2 0

Revision: 86b76718218b0f8ae4b409011db7805db76a527b
Author: Gordon Sim <gsim@apache.org>
Date: 19/06/2013 22:52:05
Message:
QPID-4854: signal connection establishment for broker initiated connections also #MsgLength=81


----
Modified: src/qpid/broker/amqp/Interconnect.cpp|1 0

Revision: e38cfed891c519cc422c1656e27b7551517d3906
Author: Gordon Sim <gsim@apache.org>
Date: 19/06/2013 22:52:11
Message:
NO-JIRA: remove unused code #MsgLength=28


----
Modified: src/qpid/broker/Queue.cpp|0 31
Modified: src/qpid/broker/Queue.h|0 9

Revision: 8891f9124fea03ed9f623bbf5774246e2268c8eb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2013 23:30:50
Message:
QPID-4931: Only allow broker to listen to a single address if "--port 0" specified - If more than one address is specified or implied by the defaults the broker will log a warning - This is intended to avoid testing problems where the broker fails to connect to the port of subsequent listening addresses #MsgLength=309


----
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 1
Modified: src/qpid/sys/SocketAddress.h|0 1
Modified: src/qpid/sys/SocketTransport.cpp|15 4
Modified: src/qpid/sys/SocketTransport.h|1 1
Modified: src/qpid/sys/SslPlugin.cpp|1 1
Modified: src/qpid/sys/TCPIOPlugin.cpp|1 1
Modified: src/qpid/sys/posix/SocketAddress.cpp|0 11
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/interlink_tests.py|0 1
Modified: src/tests/ipv6_test|1 1

Revision: 6f964d7772ffc5ef9f08819de5e72778bd9e16c6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/06/2013 01:11:52
Message:
QPID-4938: No longer build acl or ssl support as plugins (also remove final references to dead watchdog plugin) #MsgLength=112


----
Modified: src/CMakeLists.txt|123 59
Modified: src/Makefile.am|20 6
Deleted: src/acl.mk|0 47
Deleted: src/ssl.cmake|0 123
Modified: src/ssl.mk|9 29
Modified: src/tests/ha_test.py|1 1
Modified: src/tests/ha_tests.py|1 1
Modified: src/tests/run_acl_tests|5 5
Modified: src/tests/run_queue_redirect|0 1
Modified: src/tests/sasl_fed|0 2
Modified: src/tests/sasl_fed_ex|0 4
Modified: src/tests/ssl_test|2 3
Modified: src/tests/test_env.sh.in|0 5
Deleted: src/tests/test_watchdog|0 36

Revision: cd6183d6a6da70d69abb1a28da590b235920e219
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/06/2013 01:26:55
Message:
QPID-4905: Add needed virtual destructor missed earlier #MsgLength=56


----
Modified: src/qpid/broker/ConnectionIdentity.h|3 0

Revision: dd7e73dfa1849b33e804a1095ab45a6c13ab80f9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/06/2013 01:59:52
Message:
QPID-4931: Remove removed member function from windows SocketAddress code too. While there bring this code up to date with other recent changes to the POSIX equivalent code. #MsgLength=174


----
Modified: src/qpid/sys/windows/SocketAddress.cpp|9 13

Revision: d739ba67910cd9bc9d39c55190e9f33bb202f839
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 20/06/2013 03:43:45
Message:
NO-JIRA: Removed date from ChangeLog for Perl. #MsgLength=47


----
Modified: bindings/qpid/perl/ChangeLog|1 1

Revision: 5471d29adf6b9fa4e7d6997311f6dc688eb8ed00
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 20/06/2013 03:44:00
Message:
QPID-4930: Create a Python swigged bindings source tarball. #MsgLength=232


----
Added: bindings/qpid/python/ChangeLog|1 0
Added: bindings/qpid/python/LICENSE|206 0
Added: bindings/qpid/python/README|28 0
Added: bindings/qpid/python/extra_dist/CMakeLists.txt|86 0

Revision: 5b50c446c4ea19a15f7299570cda200171b8b359
Author: Stephen D. Huston <shuston@apache.org>
Date: 21/06/2013 09:55:19
Message:
Fix broken Windows configure; QPID-4938 change 19-June-2013 broke it. #MsgLength=70


----
Modified: src/CMakeLists.txt|5 1

Revision: 712b06c10e5a96482433dea942a1b2521b59fcae
Author: Alan Conway <aconway@apache.org>
Date: 21/06/2013 23:02:08
Message:
QPID-4944: HA Sporadic failure in ha_tests: tes_failover_send_receive and test_expected_backup_timeout #MsgLength=401


----
Modified: src/qpid/ha/BrokerInfo.cpp|7 4
Modified: src/qpid/ha/BrokerInfo.h|3 0
Modified: src/qpid/ha/BrokerReplicator.cpp|1 18
Modified: src/qpid/ha/Membership.cpp|46 35
Modified: src/qpid/ha/Membership.h|2 0
Modified: src/qpid/ha/QueueGuard.cpp|2 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|2 1
Modified: src/tests/ha_test.py|1 1
Modified: src/tests/ha_tests.py|3 6

Revision: 21bdff90783076a94f262c870d3aa0ce1c7263d6
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2013 21:28:15
Message:
QPID-4712: authorisation for AMQP 1.0 connections #MsgLength=50


----
Modified: src/CMakeLists.txt|3 1
Modified: src/Makefile.am|9 3
Modified: src/amqp.cmake|4 0
Added: src/qpid/amqp/MapBuilder.cpp|130 0
Added: src/qpid/amqp/MapBuilder.h|63 0
Modified: src/qpid/amqp/descriptors.h|9 0
Modified: src/qpid/broker/Bridge.cpp|3 3
Modified: src/qpid/broker/Bridge.h|7 6
Modified: src/qpid/broker/Broker.cpp|9 9
Modified: src/qpid/broker/Broker.h|5 5
Modified: src/qpid/broker/Connection.h|23 203
Modified: src/qpid/broker/ConnectionHandler.cpp|6 6
Modified: src/qpid/broker/ConnectionHandler.h|5 3
Modified: src/qpid/broker/HandlerImpl.h|2 2
Modified: src/qpid/broker/Link.cpp|2 2
Modified: src/qpid/broker/Link.h|6 4
Modified: src/qpid/broker/LinkRegistry.cpp|22 6
Modified: src/qpid/broker/LinkRegistry.h|4 3
Modified: src/qpid/broker/Message.cpp|6 5
Modified: src/qpid/broker/Message.h|5 8
Modified: src/qpid/broker/Queue.cpp|1 6
Modified: src/qpid/broker/SaslAuthenticator.cpp|8 8
Modified: src/qpid/broker/SaslAuthenticator.h|3 1
Modified: src/qpid/broker/SecureConnectionFactory.cpp|3 3
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/SessionAdapter.cpp|14 14
Modified: src/qpid/broker/SessionContext.h|3 1
Modified: src/qpid/broker/SessionHandler.cpp|4 4
Modified: src/qpid/broker/SessionHandler.h|6 5
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/SessionState.h|1 1
Added: src/qpid/broker/amqp/Authorise.cpp|131 0
Added: src/qpid/broker/amqp/Authorise.h|57 0
Modified: src/qpid/broker/amqp/Connection.cpp|83 12
Modified: src/qpid/broker/amqp/Connection.h|5 0
Modified: src/qpid/broker/amqp/DataReader.cpp|9 5
Modified: src/qpid/broker/amqp/DataReader.h|6 0
Renamed: src/qpid/broker/amqp/Exception.cpp [from src/qpid/broker/ConnectionIdentity.h]|7 28
Added: src/qpid/broker/amqp/Exception.h|45 0
Modified: src/qpid/broker/amqp/Filter.cpp|17 0
Modified: src/qpid/broker/amqp/Filter.h|6 0
Modified: src/qpid/broker/amqp/Incoming.cpp|27 1
Modified: src/qpid/broker/amqp/Incoming.h|16 0
Modified: src/qpid/broker/amqp/Interconnect.cpp|6 3
Modified: src/qpid/broker/amqp/Interconnect.h|1 0
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|43 6
Modified: src/qpid/broker/amqp/ManagedConnection.h|15 3
Modified: src/qpid/broker/amqp/Sasl.cpp|1 1
Modified: src/qpid/broker/amqp/Session.cpp|25 9
Modified: src/qpid/broker/amqp/Session.h|5 0
Renamed: src/qpid/broker/amqp_0_10/Connection.cpp [from src/qpid/broker/Connection.cpp]|3 3
Added: src/qpid/broker/amqp_0_10/Connection.h|235 0
Modified: src/qpid/ha/BrokerReplicator.cpp|2 2
Modified: src/qpid/ha/ConnectionObserver.cpp|13 11
Modified: src/qpid/management/ManagementAgent.cpp|25 8
Modified: src/qpid/management/ManagementAgent.h|2 3
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|48 3
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|16 0
Modified: src/qpid/messaging/amqp/SenderContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|6 1

Revision: c914a58fae5febe9a736a513ff445b22a0e50a5b
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2013 21:30:18
Message:
NO-JIRA: fixed two minor typos in doxygen #MsgLength=42


----
Modified: include/qpid/messaging/Connection.h|2 2

Revision: d51e3ce5f75bb0f53ce2c6806f9cf35319c4b752
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2013 01:18:38
Message:
QPID-4712: fixes for windows, rhel5 #MsgLength=36


----
Modified: src/qpid/broker/ConnectionHandler.cpp|2 2
Modified: src/qpid/broker/amqp/Authorise.h|1 0
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|8 8

Revision: 9f50c597989a879066c2fd8d1cd275cc1e7b829f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/06/2013 01:52:43
Message:
QPID-4939: Have Perl's Makefile.PL generate the Swig bindings. #MsgLength=182


----
Modified: bindings/qpid/perl/Makefile.PL|3 0

Revision: ef43670518b2f44a7b29b5c5ff224f27e044fd68
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/06/2013 04:24:03
Message:
QPID-4949: explicitly delete the management agent during the Broker destructor #MsgLength=79


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: 5a859c70456016ee3b5b29fc71521544b235c8ba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/06/2013 05:52:38
Message:
QPID-4487: Removed definition missed from the original commit #MsgLength=62


----
Modified: BuildInstallSettings.cmake|0 1

Revision: 5c4714c7217ff683d4c7030f7648604f501650ef
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2013 00:12:21
Message:
QPID-4953: recognise temp queue shorthand in 0-10 codepath #MsgLength=59


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|8 2
Modified: src/tests/MessagingSessionTests.cpp|24 1

Revision: 257c209e2dd82b3e09013473ea6a7bb09515d631
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2013 01:52:25
Message:
QPID-4950: ensure exchange stats are updated with correct content size for messages #MsgLength=84


----
Modified: src/qpid/broker/Deliverable.h|0 1
Modified: src/qpid/broker/Exchange.cpp|1 1

Revision: 81ed4b02763634eb2c280e784fe01b12d6b148da
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2013 02:32:47
Message:
QPID-4919: Allow definition of topics in AMQP 1.0, composed of an exchange and subscription queue configuration #MsgLength=112


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|7 0
Modified: src/amqp.cmake|4 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|1 7
Added: src/qpid/amqp_0_10/CodecsInternal.h|41 0
Modified: src/qpid/broker/Broker.cpp|5 1
Modified: src/qpid/broker/ObjectFactory.cpp|10 0
Modified: src/qpid/broker/ObjectFactory.h|2 0
Added: src/qpid/broker/PersistableObject.cpp|88 0
Added: src/qpid/broker/PersistableObject.h|71 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|4 3
Modified: src/qpid/broker/RecoveryManagerImpl.h|7 2
Added: src/qpid/broker/amqp/BrokerContext.cpp|32 0
Added: src/qpid/broker/amqp/BrokerContext.h|52 0
Modified: src/qpid/broker/amqp/Connection.cpp|10 18
Modified: src/qpid/broker/amqp/Connection.h|3 8
Modified: src/qpid/broker/amqp/Domain.cpp|30 18
Modified: src/qpid/broker/amqp/Domain.h|6 4
Modified: src/qpid/broker/amqp/Interconnect.cpp|5 6
Modified: src/qpid/broker/amqp/Interconnect.h|2 3
Modified: src/qpid/broker/amqp/Interconnects.cpp|28 3
Modified: src/qpid/broker/amqp/Interconnects.h|6 2
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|15 15
Modified: src/qpid/broker/amqp/Sasl.cpp|2 2
Modified: src/qpid/broker/amqp/Sasl.h|1 1
Modified: src/qpid/broker/amqp/Session.cpp|31 18
Modified: src/qpid/broker/amqp/Session.h|3 2
Added: src/qpid/broker/amqp/Topic.cpp|174 0
Added: src/qpid/broker/amqp/Topic.h|88 0

Revision: 9e4a45b3f39a0f54637e60271ad5d21c7c80dbd8
Author: Charles E. Rolke <chug@apache.org>
Date: 27/06/2013 04:21:39
Message:
QPID-4919: repair r1497036 for windows builds #MsgLength=46


----
Modified: src/qpid/amqp_0_10/CodecsInternal.h|8 7

Revision: a2c75959e54a800f3fe31318ce542144bf2ba435
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/06/2013 06:41:36
Message:
QPID-4955: CMake install puts config files in the wrong place - Also removed ability to specify daemon and client config file locations individually as that isn't straightforwardly possible with the CMake install capability. #MsgLength=229


----
Modified: BuildInstallSettings.cmake|2 1
Modified: CMakeLists.txt|0 4
Modified: etc/CMakeLists.txt|2 2

Revision: 3d57a7c69b503e16b2edc4301ca99f8d753a7d28
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/06/2013 11:41:13
Message:
QPID-4955: Fix to previous commit #MsgLength=34


----
Modified: CMakeLists.txt|2 2

Revision: bfae0c7a56222788a64397e365a666d845c21969
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/06/2013 11:50:41
Message:
QPID-4955: Don't install SYSV style service control files on Windows (fixes Windows breakage from previous commit) #MsgLength=115


----
Modified: etc/CMakeLists.txt|1 2

Revision: 9448c59ab7a81d0c1485fa707bc15437257a8ffb
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2013 18:05:01
Message:
QPID-4957: ensure bindings created on attaching link are deleted alog with the subscription queue #MsgLength=98


----
Modified: src/qpid/broker/amqp/Filter.cpp|1 1

Revision: c7a04ae82190de1b72670507a86e1437ae770721
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2013 21:11:11
Message:
NO-JIRA: restrict broker to listen only on loopback interface (ensures they are listening on the right interface when port is 0) #MsgLength=129


----
Modified: src/tests/dynamic_log_level_test|1 1
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_federation_tests|1 1

Revision: ae861ac83fe226cba225fcd2ba9ff96a1136022c
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2013 01:53:10
Message:
QPID-4944: HA skip test test_failover_send_receive till fixed. #MsgLength=210


----
Modified: src/tests/ha_tests.py|3 1

Revision: e30adce8eb489d8d382230bfc3e37236112fc1d2
Author: Justin Ross <jross@apache.org>
Date: 28/06/2013 02:41:56
Message:
QPID-4961: Remove obsolete ssl.cmake from EXTRA_DIST #MsgLength=53


----
Modified: src/Makefile.am|0 1

Revision: e15f309847d96a4da3e8f563ca20665d9648abd1
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2013 04:05:32
Message:
QPID-4961: Fix make distcheck problems with qpidd-p0 script. #MsgLength=61


----
Modified: src/tests/Makefile.am|4 9

Revision: 16fac834a5ec36edbabd1719ea7f7bf9e9c8b3e6
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2013 20:23:09
Message:
QPID-4965: check filters on assert #MsgLength=35


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|61 4
Modified: src/qpid/messaging/amqp/AddressHelper.h|3 0

Revision: dc5b8982828a48f0e184ab72b79d8c11776caac3
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2013 20:23:15
Message:
QPID-4966: ensure timeout is honoured while waiting of rmessages #MsgLength=65


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|28 3
Modified: src/qpid/messaging/amqp/ConnectionContext.h|5 0

Revision: 0ef05bc210983db708d51a0412957aea3288f5bb
Author: Charles E. Rolke <chug@apache.org>
Date: 29/06/2013 00:11:55
Message:
NO-JIRA: Refactor AclData to extract two deeply nested functions. Fix parens. #MsgLength=80


----
Modified: src/qpid/acl/AclData.cpp|685 716
Modified: src/qpid/acl/AclData.h|14 0

Revision: 52a57ab11a485a6d9497f9c7d3ba479ce2b3e1f4
Author: Alan Conway <aconway@apache.org>
Date: 29/06/2013 02:59:05
Message:
QPID-4328: HA support for transactions initial design doc. #MsgLength=59


----
Added: design_docs/ha-transactions.md|175 0

Revision: f786763bc6dea5da8fbbd5431eda9c3767f0bc08
Author: Charles E. Rolke <chug@apache.org>
Date: 29/06/2013 05:15:35
Message:
QPID-4969: Headers exchange allows bindings with duplicate managementId. #MsgLength=75


----
Modified: src/qpid/broker/HeadersExchange.cpp|11 0

Revision: e8d11418a165d0a1fd34965f24f50e5189264a5b
Author: Charles E. Rolke <chug@apache.org>
Date: 02/07/2013 03:13:12
Message:
QPID-4971: Uninitialized variables in QueueSettings #MsgLength=54


----
Modified: src/qpid/broker/QueueSettings.cpp|2 0

Revision: 2eacda228d8969b24a656e592c08b1bd11f9cfc0
Author: Charles E. Rolke <chug@apache.org>
Date: 02/07/2013 04:30:05
Message:
QPID-4969: C++ Broker headers exchange allows creation of bindings with duplicate keys Patch from Gordon Sim to correct issues in initial fix. Now successive bind requests are accepted when the key, queue, and exchange are identical if and only if all of the binding args are also identical. #MsgLength=296


----
Modified: src/qpid/broker/HeadersExchange.cpp|5 3
Modified: src/qpid/broker/HeadersExchange.h|2 2
Modified: src/tests/ExchangeTest.cpp|1 1

Revision: 077cb6d8754a5ce0c9b6489ca91a1412c9288e64
Author: Ken Giusti <kgiusti@apache.org>
Date: 02/07/2013 21:26:12
Message:
NO-JIRA: tweak code to allow better lock analysis by Coverity #MsgLength=62


----
Modified: include/qpid/sys/Mutex.h|5 5

Revision: 6e834479bec36f29623a1a20e340967b366bd53f
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/07/2013 21:31:51
Message:
NO-JIRA: Moved autotools back to using Swig 1.3.26 or higher. #MsgLength=62


----
Modified: configure.ac|1 1

Revision: 95b9346acc0c56c13759702856c8345d306597c6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/07/2013 04:00:17
Message:
QPID-4975: Only send correlation id if it isn't empty. #MsgLength=55


----
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|2 1

Revision: feabda97c4a3e214f3da98d49b93e61dfb856140
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2013 23:30:11
Message:
QPID-4944: HA Sporadic failure - logging improvements used to investigate. #MsgLength=75


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 2
Modified: src/qpid/ha/IdSetter.h|2 5
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/QueueGuard.cpp|3 2
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 2
Modified: src/tests/brokertest.py|1 0
Modified: src/tests/ha_tests.py|2 1

Revision: 1f6fca3d59b808d6aaef5213a92ed2225968c95c
Author: Alan Conway <aconway@apache.org>
Date: 04/07/2013 23:30:19
Message:
QPID-4944: HA Sporadic failure: test_failover_send_receive #MsgLength=634


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|5 5
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1
Modified: src/qpid/ha/Settings.h|1 1
Modified: src/qpid/ha/StatusCheck.h|1 1
Modified: src/tests/brokertest.py|2 1
Modified: src/tests/ha_tests.py|4 6

Revision: 03e4045e90e0f1ef1eed8c7ec170b19b26f1b091
Author: Andrew Stitcher <astitcher@apache.org>
Date: 06/07/2013 00:06:14
Message:
QPID-4627: Implement most  of the remaining selector special identifiers Implemented: message_id, correlation_id, jms_type, creation_time, absolute_expiry_time #MsgLength=714


----
Modified: src/qpid/amqp/CharSequence.cpp|18 0
Modified: src/qpid/amqp/CharSequence.h|3 0
Modified: src/qpid/amqp/Decoder.cpp|1 1
Modified: src/qpid/amqp/MessageId.cpp|15 3
Modified: src/qpid/amqp/MessageId.h|3 0
Modified: src/qpid/broker/Message.h|11 7
Modified: src/qpid/broker/Selector.cpp|54 28
Modified: src/qpid/broker/amqp/Message.h|2 2
Modified: src/qpid/broker/amqp/Translation.cpp|4 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|23 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|2 0

Revision: 71fb7fe7e80c22bcb75482ecf7279e9adf45ddb1
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2013 01:57:20
Message:
NO-JIRA: HA Changed output directory for ha_tests.py to avoid other testsc overwriting. #MsgLength=88


----
Modified: src/tests/ha_tests.py|5 2

Revision: e040eae1f685f43aa8faddfa37012eb8de972e3e
Author: Alan Conway <aconway@apache.org>
Date: 06/07/2013 03:22:45
Message:
QPID-4327: Minor edits to ha-transactions.md #MsgLength=45


----
Modified: design_docs/ha-transactions.md|11 8

Revision: 5d0c52f243793eb61d4d3a9176d36f8b12d8ba6a
Author: Ken Giusti <kgiusti@apache.org>
Date: 06/07/2013 04:34:42
Message:
NO-JIRA: add the QMFv2 C++ examples build to cmake #MsgLength=51


----
Modified: bindings/CMakeLists.txt|2 0
Added: bindings/qmf2/examples/cpp/CMakeLists.txt|97 0

Revision: 0bef980a4abc83bc47e7a3fc5a821c28a68baca5
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2013 16:57:24
Message:
QPID-4627: fix faulty switch statement #MsgLength=39


----
Modified: src/qpid/amqp/MessageId.cpp|1 0

Revision: 2dfaf5deb972a48e9249c3b1735f02261efdc2a5
Author: Ken Giusti <kgiusti@apache.org>
Date: 09/07/2013 00:40:15
Message:
NO-JIRA: add README for qmf2 C++ examples #MsgLength=42


----
Added: bindings/qmf2/examples/cpp/README.txt|41 0

Revision: c5e0994729f9f8a11421b1d4c0484fb3b40e05ef
Author: Alan Conway <aconway@apache.org>
Date: 09/07/2013 21:42:53
Message:
QPID-4944: HA skip test test_failover_send_receive till fixed. #MsgLength=225


----
Modified: src/tests/ha_tests.py|3 1

Revision: d56182fa49bb4a56fa3cfe6f7ad728a9caa48d4b
Author: Ken Giusti <kgiusti@apache.org>
Date: 10/07/2013 02:46:47
Message:
NO-JIRA: skip build of posix qmfv2 example on windows #MsgLength=54


----
Modified: bindings/qmf2/examples/cpp/CMakeLists.txt|4 1

Revision: 3ad0f2de9bf078fe9c1905565f0193a5fc98295a
Author: Gordon Sim <gsim@apache.org>
Date: 10/07/2013 21:47:05
Message:
QPID-4976: support standard lifetime policies #MsgLength=46


----
Modified: src/qpid/amqp/descriptors.h|14 0
Modified: src/qpid/broker/LossyQueue.cpp|3 3
Modified: src/qpid/broker/Lvq.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|165 77
Modified: src/qpid/broker/Queue.h|66 7
Modified: src/qpid/broker/QueueSettings.cpp|13 0
Modified: src/qpid/broker/QueueSettings.h|12 0
Modified: src/qpid/broker/SemanticState.cpp|0 3
Modified: src/qpid/broker/SessionAdapter.cpp|0 3
Modified: src/qpid/broker/amqp/Connection.cpp|49 43
Modified: src/qpid/broker/amqp/Connection.h|1 0
Modified: src/qpid/broker/amqp/DataReader.cpp|8 6
Modified: src/qpid/broker/amqp/NodeProperties.cpp|129 35
Modified: src/qpid/broker/amqp/NodeProperties.h|6 1
Modified: src/qpid/broker/amqp/Outgoing.cpp|17 8
Modified: src/qpid/broker/amqp/Outgoing.h|2 1
Modified: src/qpid/broker/amqp/Session.cpp|61 14
Modified: src/qpid/broker/amqp/Session.h|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|2 1
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|35 3
Modified: src/tests/QueueTest.cpp|1 0

Revision: c2a8e667602cae00cd8b19929cb189423da8aef3
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/07/2013 10:49:42
Message:
Fix MSVC compile warning struct vs. class. NO-JIRA. #MsgLength=52


----
Modified: src/qpid/broker/Message.h|1 1

Revision: bc174a6598a37bda9c38f187593c022b85426d72
Author: Gordon Sim <gsim@apache.org>
Date: 11/07/2013 19:49:20
Message:
QPID-4985: ensure calculated buffer size is accurate #MsgLength=53


----
Modified: src/qpid/amqp/MessageEncoder.h|1 1

Revision: bd9ffe320aaba7147c83df6e9decd441ca441569
Author: Gordon Sim <gsim@apache.org>
Date: 11/07/2013 19:49:27
Message:
QPID-4986: ensure correct handler is called for message-id typed properties #MsgLength=76


----
Modified: src/qpid/amqp/MessageReader.cpp|4 121
Modified: src/tests/qpid-receive.cpp|1 0
Modified: src/tests/qpid-send.cpp|1 0

Revision: b3c82bfa58c92c1bafc608b5315efa6a5e5da3f7
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/07/2013 21:47:58
Message:
NO-JIRA: Fixed typo in the Ruby ChangeLog file. #MsgLength=48


----
Modified: bindings/qpid/ruby/ChangeLog|1 1

Revision: f1f65f0f5be976d9fd4639d7a43c03692ff7f286
Author: Ken Giusti <kgiusti@apache.org>
Date: 13/07/2013 02:07:47
Message:
QPID-4907: change qpidd default mode for QMF event and update publishing to use QMFv2 format only #MsgLength=98


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/tests/qpidd_qmfv2_tests.py|70 24

Revision: 9b519dcaa4e736571739cc86a48c82193a57fde6
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/07/2013 03:13:54
Message:
NO-JIRA: Marked 0.24 as have no Ruby language specific changes. #MsgLength=64


----
Modified: bindings/qpid/ruby/ChangeLog|3 0

Revision: 97fc03251e1acb086381f663ec660640f505607e
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/07/2013 03:13:58
Message:
QPID-4834: Fixed how Ruby spout example processes connection options #MsgLength=246


----
Modified: bindings/qpid/ruby/ChangeLog|3 0
Modified: bindings/qpid/ruby/examples/spout.rb|23 2

Revision: feae6aa827770938e5e3057642e578b743e7696c
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2013 03:27:43
Message:
QPID-4407: verify mechanism used when no external SASL library is available #MsgLength=76


----
Modified: src/qpid/client/ConnectionHandler.cpp|21 3

Revision: cf70921df133e05a6030f170d0306d7b1b438e9f
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/07/2013 04:23:43
Message:
Warn that python 3.x and ruby 2.x do not work. Related to QPID-4982. #MsgLength=69


----
Modified: INSTALL|4 1
Modified: INSTALL-WINDOWS|4 3

Revision: 82a457679fcf279bcbea54e73603dc6d61671fff
Author: Stephen D. Huston <shuston@apache.org>
Date: 13/07/2013 06:25:21
Message:
Add Windows Powershell version of this test. NO-JIRA. #MsgLength=54


----
Added: src/tests/run_msg_group_tests.ps1|71 0

Revision: 7ae809d16052ca35a519be4f6f0915a6979a1cae
Author: Gordon Sim <gsim@apache.org>
Date: 13/07/2013 17:15:49
Message:
QPID-3247: add policy for self-struct subscription queue #MsgLength=57


----
Modified: src/CMakeLists.txt|1 0
Modified: src/Makefile.am|2 0
Modified: src/qpid/broker/QueueFactory.cpp|3 0
Modified: src/qpid/broker/QueueSettings.cpp|5 0
Modified: src/qpid/broker/QueueSettings.h|1 0
Added: src/qpid/broker/SelfDestructQueue.cpp|45 0
Added: src/qpid/broker/SelfDestructQueue.h|45 0
Modified: src/tests/MessagingSessionTests.cpp|26 0

Revision: 777dd2d0448a0a2f646876ddf7dee8651cec4272
Author: Alan Conway <aconway@apache.org>
Date: 15/07/2013 22:00:00
Message:
QPID-4987: Fix URL link to Qpid docs. #MsgLength=38


----
Modified: README-HA.txt|1 1

Revision: 00efdc2c4265d2fbdb36a6e0b51570e37840b6f2
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2013 18:50:43
Message:
QPID-4988: Add test runs using swigged python client #MsgLength=53


----
Modified: bindings/qpid/python/CMakeLists.txt|3 4
Modified: bindings/qpid/python/python.i|54 16
Modified: src/Makefile.am|1 1
Modified: src/amqp.cmake|1 1
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/Makefile.am|1 1
Added: src/tests/failing-amqp0-10-python-tests|7 0
Added: src/tests/failing-amqp1.0-python-tests|0 0
Added: src/tests/swig_python_tests|65 0
Modified: src/tests/test_env.sh.in|4 1

Revision: ba49cd4021901ffdd037fc98a0d701a3aeb8b286
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2013 18:50:49
Message:
QPID-4907: fix unit test #MsgLength=25


----
Modified: src/tests/BrokerMgmtAgent.cpp|1 0

Revision: 149592e2382913bd56ce9ec9465c0d5fb087353b
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2013 15:48:42
Message:
QPID-4988: add test script introduced in last commit to EXTRA_DIST #MsgLength=67


----
Modified: src/tests/Makefile.am|1 0

Revision: e56504499efdb9fb31e0f3ebebfc642d5d8e7d50
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2013 16:58:57
Message:
QPID-4993: reroute dropped messages in ring queue if alternate exchange is specified #MsgLength=85


----
Modified: src/qpid/broker/LossyQueue.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|13 11
Modified: src/qpid/broker/Queue.h|3 0
Modified: src/tests/MessagingSessionTests.cpp|18 1

Revision: 700f162a73ed17f568795d8942a5762da5a02b30
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2013 18:03:59
Message:
QPID-4988: fix test script for case where AMQP 1.0 support is not built #MsgLength=72


----
Modified: src/tests/swig_python_tests|4 3

Revision: d3a7ba3dbafe5c42f3f618cdd5210a6fc017a905
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2013 18:37:58
Message:
NO-JIRA: Enhance proton version compatibility check to restrict latest as well as earliest compatible version #MsgLength=110


----
Modified: src/amqp.cmake|12 7

Revision: d40a707039ada6cc78ee26b525dea67c70153221
Author: Gordon Sim <gsim@apache.org>
Date: 18/07/2013 21:31:27
Message:
NO-JIRA: ensure interface is specified for verification of old examples #MsgLength=72


----
Modified: examples/old_api/verify|1 1

Revision: 175e68c0886e1a3bd18c6ba8b2e604449c203d18
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2013 01:00:39
Message:
NO-JIRA: ensure interface is specified for verification of old examples (there is another script!) #MsgLength=99


----
Modified: examples/old_api/verify_all|1 1

Revision: 0e8f4000f59cb5b2ef4afd201464c9027c9cd7dd
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2013 03:50:01
Message:
QPID-5002: durable links are reliable by default; autodelete subscription queue specified only if neither durable nor reliable #MsgLength=127


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|5 3

Revision: b53099f342d085c9c0170f6efa26e7e8aba83e0f
Author: Gordon Sim <gsim@apache.org>
Date: 19/07/2013 03:50:09
Message:
QPID-5003: set finite lifetime by default for durable subscription queues that are not currently in use #MsgLength=104


----
Modified: src/qpid/broker/QueueSettings.cpp|1 0
Modified: src/qpid/broker/amqp/Session.cpp|5 1
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|14 2
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|36 17
Modified: src/qpid/messaging/amqp/AddressHelper.h|1 0

Revision: fa2b8a1a957487959a47498afb101e0a2f636b0d
Author: Charles E. Rolke <chug@apache.org>
Date: 23/07/2013 05:34:14
Message:
QPID-5011: C++ Broker ACL allows one connection when user quota is zero Compute limit-check result even for first connection. #MsgLength=128


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|3 1

Revision: b3fc14a241c164e7b42e1606c8dda1d5b7e7db80
Author: Ken Giusti <kgiusti@apache.org>
Date: 25/07/2013 00:18:39
Message:
QPID-5015: increase timeouts for queue flow tests #MsgLength=50


----
Modified: src/tests/queue_flow_limit_tests.py|6 4

Revision: ff9290c989cd25488de88a280e1cdb49bfaf74f1
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/07/2013 04:23:27
Message:
QPID-5014: Require "--enable-deprecated-autotools" to use autotools #MsgLength=68


----
Modified: configure.ac|19 3

Revision: 3da017ddba8b97ee548bcd708f12c17efb5bd8b9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/07/2013 02:39:52
Message:
QPID-5016: Zero rmgr struct element with correct size. #MsgLength=55


----
Modified: src/qpid/legacystore/jrnl/rmgr.cpp|1 1

Revision: 4e606d8bceb8b98895a3091522d9c0eb3427bc51
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/07/2013 04:25:14
Message:
QPID-4640: QPID-3633: Remove autotools build from qpid C++ source tree #MsgLength=71


----
Deleted: INSTALL-AUTOTOOLS|0 281
Deleted: Makefile.am|0 41
Modified: SSL|5 10
Deleted: bindings/qmf/Makefile.am|0 32
Deleted: bindings/qmf/python/Makefile.am|0 51
Deleted: bindings/qmf/ruby/Makefile.am|0 45
Deleted: bindings/qmf/tests/Makefile.am|0 27
Deleted: bindings/qmf2/Makefile.am|0 32
Deleted: bindings/qmf2/examples/cpp/Makefile.am|0 39
Deleted: bindings/qmf2/python/Makefile.am|0 49
Deleted: bindings/qmf2/ruby/Makefile.am|0 44
Deleted: bindings/qpid/Makefile.am|0 79
Deleted: bindings/qpid/dotnet/Makefile.am|0 159
Deleted: bindings/qpid/python/Makefile.am|0 49
Deleted: bindings/qpid/ruby/Makefile.am|0 44
Deleted: bootstrap|0 48
Deleted: build-aux/.gitignore|0 20
Deleted: build-aux/compile|0 142
Deleted: build-aux/config.guess|0 1501
Deleted: build-aux/config.rpath|0 614
Deleted: build-aux/config.sub|0 1619
Deleted: build-aux/depcomp|0 584
Deleted: build-aux/install-sh|0 507
Deleted: build-aux/mdate-sh|0 201
Deleted: build-aux/missing|0 367
Deleted: configure.ac|0 585
Deleted: docs/api/Makefile.am|0 40
Deleted: docs/man/Makefile.am|0 66
Deleted: etc/Makefile.am|0 55
Deleted: etc/selinux/Makefile|0 34
Deleted: examples/Makefile.am|0 37
Deleted: examples/makedist.mk|0 42
Deleted: examples/messaging/Makefile.am|0 75
Deleted: examples/old_api/Makefile.am|0 48
Deleted: examples/old_api/direct/Makefile.am|0 47
Deleted: examples/old_api/failover/Makefile.am|0 47
Deleted: examples/old_api/fanout/Makefile.am|0 42
Deleted: examples/old_api/pub-sub/Makefile.am|0 43
Deleted: examples/old_api/request-response/Makefile.am|0 43
Deleted: examples/old_api/tradedemo/Makefile.am|0 46
Deleted: examples/old_api/xml-exchange/Makefile.am|0 49
Deleted: examples/qmf-agent/Makefile|0 85
Deleted: examples/qmf-console/Makefile.am|0 56
Deleted: m4/ac_pkg_swig.m4|0 120
Deleted: m4/clock_time.m4|0 30
Deleted: m4/compiler-flags.m4|0 23
Deleted: m4/cppunit.m4|0 89
Deleted: m4/extensions.m4|0 59
Deleted: m4/python.m4|0 168
Deleted: make-dist|0 105
Deleted: managementgen/Makefile.am|0 44
Deleted: managementgen/qmfgen/templates/Makefile.mk|0 40
Deleted: packaging/NSIS/Makefile.am|0 21
Deleted: qpid-autotools-install|0 224
Deleted: src/Makefile.am|0 1121
Deleted: src/ha.mk|0 72
Deleted: src/legacystore.mk|0 110
Modified: src/prof|2 2
Deleted: src/qmf.mk|0 177
Deleted: src/qmfc.mk|0 57
Deleted: src/ssl.mk|0 47
Deleted: src/tests/Makefile.am|0 411
Modified: src/tests/Shlib.cpp|0 10
Deleted: src/tests/brokermgmt.mk|0 44
Deleted: src/tests/run-unit-tests|0 48
Modified: src/tests/run_cli_tests|2 2
Modified: src/tests/run_federation_tests|1 1
Deleted: src/tests/sasl.mk|0 44
Deleted: src/tests/ssl.mk|0 22
Deleted: src/tests/testagent.mk|0 51
Deleted: src/xml.mk|0 29

Revision: 6a3ed626fa8529529eaedc43a3a938093c1e45b1
Author: Ken Giusti <kgiusti@apache.org>
Date: 27/07/2013 01:13:19
Message:
QPID-5019: add flag to distinguish QMFv2 events #MsgLength=48


----
Modified: src/tests/qpidd_qmfv2_tests.py|9 0

Revision: 970b380741a1e205d6388940fc57ff3edd84f6f3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/07/2013 05:30:48
Message:
QPID-4941: Remove long deprecated example code for old qpid::client API #MsgLength=72


----
Modified: examples/CMakeLists.txt|0 1
Deleted: examples/old_api/CMakeLists.txt|0 25
Deleted: examples/old_api/README.verify|0 42
Deleted: examples/old_api/direct/CMakeLists.txt|0 22
Deleted: examples/old_api/direct/declare_queues.cpp|0 85
Deleted: examples/old_api/direct/direct_declare_queues.vcproj|0 394
Deleted: examples/old_api/direct/direct_direct_producer.vcproj|0 394
Deleted: examples/old_api/direct/direct_listener.vcproj|0 394
Deleted: examples/old_api/direct/direct_producer.cpp|0 109
Deleted: examples/old_api/direct/listener.cpp|0 109
Deleted: examples/old_api/direct/verify|0 23
Deleted: examples/old_api/direct/verify.in|0 15
Deleted: examples/old_api/failover/CMakeLists.txt|0 22
Deleted: examples/old_api/failover/declare_queues.cpp|0 61
Deleted: examples/old_api/failover/failover_declare_queues.vcproj|0 394
Deleted: examples/old_api/failover/failover_replaying_sender.vcproj|0 394
Deleted: examples/old_api/failover/failover_resuming_receiver.vcproj|0 394
Deleted: examples/old_api/failover/replaying_sender.cpp|0 97
Deleted: examples/old_api/failover/resuming_receiver.cpp|0 127
Deleted: examples/old_api/fanout/CMakeLists.txt|0 21
Deleted: examples/old_api/fanout/fanout_fanout_producer.vcproj|0 394
Deleted: examples/old_api/fanout/fanout_listener.vcproj|0 394
Deleted: examples/old_api/fanout/fanout_producer.cpp|0 105
Deleted: examples/old_api/fanout/listener.cpp|0 125
Deleted: examples/old_api/fanout/verify|0 25
Deleted: examples/old_api/fanout/verify.in|0 43
Deleted: examples/old_api/old-examples.sln|0 123
Deleted: examples/old_api/pub-sub/CMakeLists.txt|0 21
Deleted: examples/old_api/pub-sub/pub-sub_topic_listener.vcproj|0 394
Deleted: examples/old_api/pub-sub/pub-sub_topic_publisher.vcproj|0 394
Deleted: examples/old_api/pub-sub/topic_listener.cpp|0 173
Deleted: examples/old_api/pub-sub/topic_publisher.cpp|0 129
Deleted: examples/old_api/pub-sub/verify|0 23
Deleted: examples/old_api/pub-sub/verify.in|0 59
Deleted: examples/old_api/request-response/CMakeLists.txt|0 21
Deleted: examples/old_api/request-response/client.cpp|0 163
Deleted: examples/old_api/request-response/request-response_client.vcproj|0 394
Deleted: examples/old_api/request-response/request-response_server.vcproj|0 394
Deleted: examples/old_api/request-response/server.cpp|0 161
Deleted: examples/old_api/request-response/verify|0 24
Deleted: examples/old_api/request-response/verify.in|0 19
Deleted: examples/old_api/tradedemo/CMakeLists.txt|0 22
Deleted: examples/old_api/tradedemo/declare_queues.cpp|0 98
Deleted: examples/old_api/tradedemo/topic_listener.cpp|0 183
Deleted: examples/old_api/tradedemo/topic_publisher.cpp|0 271
Deleted: examples/old_api/tradedemo/tradedemo_declare_queues.vcproj|0 394
Deleted: examples/old_api/tradedemo/tradedemo_topic_listener.vcproj|0 394
Deleted: examples/old_api/tradedemo/tradedemo_topic_publisher.vcproj|0 394
Deleted: examples/old_api/verify|0 128
Deleted: examples/old_api/verify_all|0 52
Deleted: examples/old_api/xml-exchange/CMakeLists.txt|0 24
Deleted: examples/old_api/xml-exchange/README.txt|0 53
Deleted: examples/old_api/xml-exchange/declare_queues.cpp|0 98
Deleted: examples/old_api/xml-exchange/listener.cpp|0 107
Deleted: examples/old_api/xml-exchange/xml_producer.cpp|0 113

Revision: 1b4c519064cfe59d9841226d7381efd84dd5e54c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/07/2013 05:31:09
Message:
QPID-4940: Remove obsolete qmf code - Remove qmf1 engine code - Remove qmf1 language bindings - Remove qmf1 agent code (it depends on engine) - Fix up cmake to build #MsgLength=166


----
Modified: CMakeLists.txt|1 2
Modified: bindings/CMakeLists.txt|0 2
Deleted: bindings/qmf/python/CMakeLists.txt|0 66
Deleted: bindings/qmf/python/python.i|0 143
Deleted: bindings/qmf/python/qmf.py|0 1680
Deleted: bindings/qmf/ruby/CMakeLists.txt|0 51
Deleted: bindings/qmf/ruby/qmf.rb|0 1528
Deleted: bindings/qmf/ruby/ruby.i|0 106
Deleted: bindings/qmf/tests/agent_ruby.rb|0 279
Deleted: bindings/qmf/tests/python_agent.py|0 326
Deleted: bindings/qmf/tests/python_console.py|0 311
Deleted: bindings/qmf/tests/ruby_console.rb|0 174
Deleted: bindings/qmf/tests/ruby_console_test.rb|0 397
Deleted: bindings/qmf/tests/run_interop_tests|0 136
Deleted: bindings/qmf/tests/test_base.rb|0 82
Deleted: include/qmf/engine/Agent.h|0 209
Deleted: include/qmf/engine/ConnectionSettings.h|0 150
Deleted: include/qmf/engine/Console.h|0 239
Deleted: include/qmf/engine/Event.h|0 49
Deleted: include/qmf/engine/Message.h|0 41
Deleted: include/qmf/engine/Object.h|0 56
Deleted: include/qmf/engine/ObjectId.h|0 68
Deleted: include/qmf/engine/QmfEngineImportExport.h|0 42
Deleted: include/qmf/engine/Query.h|0 112
Deleted: include/qmf/engine/ResilientConnection.h|0 173
Deleted: include/qmf/engine/Schema.h|0 212
Deleted: include/qmf/engine/Typecode.h|0 53
Deleted: include/qmf/engine/Value.h|0 122
Deleted: include/qmf/qmfengine.i|0 59
Deleted: include/qpid/agent/ManagementAgent.h|0 205
Deleted: include/qpid/agent/QmfAgentImportExport.h|0 35
Modified: src/CMakeLists.txt|0 86
Deleted: src/qmf/engine/Agent.cpp|0 915
Deleted: src/qmf/engine/BrokerProxyImpl.cpp|0 827
Deleted: src/qmf/engine/BrokerProxyImpl.h|0 241
Deleted: src/qmf/engine/ConnectionSettingsImpl.cpp|0 278
Deleted: src/qmf/engine/ConnectionSettingsImpl.h|0 63
Deleted: src/qmf/engine/ConsoleImpl.cpp|0 458
Deleted: src/qmf/engine/ConsoleImpl.h|0 148
Deleted: src/qmf/engine/EventImpl.cpp|0 120
Deleted: src/qmf/engine/EventImpl.h|0 57
Deleted: src/qmf/engine/MessageImpl.cpp|0 43
Deleted: src/qmf/engine/MessageImpl.h|0 44
Deleted: src/qmf/engine/ObjectIdImpl.cpp|0 210
Deleted: src/qmf/engine/ObjectIdImpl.h|0 72
Deleted: src/qmf/engine/ObjectImpl.cpp|0 232
Deleted: src/qmf/engine/ObjectImpl.h|0 76
Deleted: src/qmf/engine/Protocol.cpp|0 52
Deleted: src/qmf/engine/Protocol.h|0 69
Deleted: src/qmf/engine/QueryImpl.cpp|0 103
Deleted: src/qmf/engine/QueryImpl.h|0 102
Deleted: src/qmf/engine/ResilientConnection.cpp|0 512
Deleted: src/qmf/engine/SchemaImpl.cpp|0 610
Deleted: src/qmf/engine/SchemaImpl.h|0 230
Deleted: src/qmf/engine/SequenceManager.cpp|0 96
Deleted: src/qmf/engine/SequenceManager.h|0 68
Deleted: src/qmf/engine/ValueImpl.cpp|0 571
Deleted: src/qmf/engine/ValueImpl.h|0 166
Deleted: src/qpid/agent/ManagementAgentImpl.cpp|0 1434
Deleted: src/qpid/agent/ManagementAgentImpl.h|0 294
Deleted: src/tests/testagent.cpp|0 208
Deleted: src/tests/testagent.xml|0 64

Revision: 955da656e82baa66e4c9adb55e5cd60c3f8ad558
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/07/2013 05:31:25
Message:
QPID-4940: Remove qmf1 console code QPID-4941: Remove qmf1 console examples #MsgLength=76


----
Modified: examples/CMakeLists.txt|1 1
Deleted: examples/qmf-console/CMakeLists.txt|0 23
Deleted: examples/qmf-console/README.txt|0 39
Deleted: examples/qmf-console/cluster-qmon.cpp|0 179
Deleted: examples/qmf-console/console.cpp|0 151
Deleted: examples/qmf-console/ping.cpp|0 133
Deleted: examples/qmf-console/printevents.cpp|0 123
Deleted: examples/qmf-console/qmf-console_console.vcproj|0 394
Deleted: examples/qmf-console/qmf-console_ping.vcproj|0 419
Deleted: examples/qmf-console/qmf-console_printevents.vcproj|0 394
Deleted: examples/qmf-console/qmf-console_queuestats.vcproj|0 394
Deleted: examples/qmf-console/queuestats.cpp|0 142
Deleted: include/qpid/console/Agent.h|0 58
Deleted: include/qpid/console/Broker.h|0 133
Deleted: include/qpid/console/ClassKey.h|0 66
Deleted: include/qpid/console/ConsoleImportExport.h|0 35
Deleted: include/qpid/console/ConsoleListener.h|0 97
Deleted: include/qpid/console/Event.h|0 86
Deleted: include/qpid/console/Object.h|0 123
Deleted: include/qpid/console/ObjectId.h|0 69
Deleted: include/qpid/console/Package.h|0 78
Deleted: include/qpid/console/Schema.h|0 105
Deleted: include/qpid/console/SequenceManager.h|0 54
Deleted: include/qpid/console/SessionManager.h|0 219
Deleted: include/qpid/console/Value.h|0 213
Modified: src/CMakeLists.txt|0 43
Deleted: src/qpid/console/Agent.cpp|0 30
Deleted: src/qpid/console/Broker.cpp|0 333
Deleted: src/qpid/console/ClassKey.cpp|0 106
Deleted: src/qpid/console/Event.cpp|0 205
Deleted: src/qpid/console/Object.cpp|0 384
Deleted: src/qpid/console/ObjectId.cpp|0 91
Deleted: src/qpid/console/Package.cpp|0 41
Deleted: src/qpid/console/Schema.cpp|0 165
Deleted: src/qpid/console/SequenceManager.cpp|0 48
Deleted: src/qpid/console/SessionManager.cpp|0 516
Deleted: src/qpid/console/Value.cpp|0 171
Modified: src/tests/CMakeLists.txt|1 2
Deleted: src/tests/ConsoleTest.cpp|0 46
Modified: src/tests/ManagementTest.cpp|0 27

Revision: b64eaef322f4d586152a9620079c33ee93688095
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/07/2013 05:32:44
Message:
QPID-4942: Only install include files that are used by the supported API - Since we removed a whole lot of old API code we can drastically cut down on the header files that we export. #MsgLength=186


----
Modified: src/CMakeLists.txt|2 11
Renamed: src/qpid/Address.h [from include/qpid/Address.h]|0 0
Renamed: src/qpid/CommonImportExport.h [from include/qpid/CommonImportExport.h]|0 0
Renamed: src/qpid/InlineAllocator.h [from include/qpid/InlineAllocator.h]|0 0
Renamed: src/qpid/InlineVector.h [from include/qpid/InlineVector.h]|0 0
Renamed: src/qpid/Msg.h [from include/qpid/Msg.h]|0 0
Renamed: src/qpid/Options.h [from include/qpid/Options.h]|0 0
Renamed: src/qpid/RangeSet.h [from include/qpid/RangeSet.h]|0 0
Renamed: src/qpid/SessionId.h [from include/qpid/SessionId.h]|0 0
Renamed: src/qpid/Url.h [from include/qpid/Url.h]|0 0
Renamed: src/qpid/amqp_0_10/Codecs.h [from include/qpid/amqp_0_10/Codecs.h]|0 0
Renamed: src/qpid/client/AsyncSession.h [from include/qpid/client/AsyncSession.h]|0 0
Renamed: src/qpid/client/ClientImportExport.h [from include/qpid/client/ClientImportExport.h]|0 0
Renamed: src/qpid/client/Completion.h [from include/qpid/client/Completion.h]|0 0
Renamed: src/qpid/client/Connection.h [from include/qpid/client/Connection.h]|0 0
Renamed: src/qpid/client/ConnectionSettings.h [from include/qpid/client/ConnectionSettings.h]|0 0
Renamed: src/qpid/client/FailoverListener.h [from include/qpid/client/FailoverListener.h]|0 0
Renamed: src/qpid/client/FailoverManager.h [from include/qpid/client/FailoverManager.h]|0 0
Renamed: src/qpid/client/FlowControl.h [from include/qpid/client/FlowControl.h]|0 0
Renamed: src/qpid/client/Future.h [from include/qpid/client/Future.h]|0 0
Renamed: src/qpid/client/FutureCompletion.h [from include/qpid/client/FutureCompletion.h]|0 0
Renamed: src/qpid/client/FutureResult.h [from include/qpid/client/FutureResult.h]|0 0
Renamed: src/qpid/client/Handle.h [from include/qpid/client/Handle.h]|0 0
Renamed: src/qpid/client/LocalQueue.h [from include/qpid/client/LocalQueue.h]|0 0
Renamed: src/qpid/client/Message.h [from include/qpid/client/Message.h]|0 0
Renamed: src/qpid/client/MessageListener.h [from include/qpid/client/MessageListener.h]|0 0
Renamed: src/qpid/client/MessageReplayTracker.h [from include/qpid/client/MessageReplayTracker.h]|0 0
Renamed: src/qpid/client/QueueOptions.h [from include/qpid/client/QueueOptions.h]|0 0
Renamed: src/qpid/client/Session.h [from include/qpid/client/Session.h]|0 0
Renamed: src/qpid/client/SessionBase_0_10.h [from include/qpid/client/SessionBase_0_10.h]|0 0
Renamed: src/qpid/client/Subscription.h [from include/qpid/client/Subscription.h]|0 0
Renamed: src/qpid/client/SubscriptionManager.h [from include/qpid/client/SubscriptionManager.h]|0 0
Renamed: src/qpid/client/SubscriptionSettings.h [from include/qpid/client/SubscriptionSettings.h]|0 0
Renamed: src/qpid/client/TypedResult.h [from include/qpid/client/TypedResult.h]|0 0
Renamed: src/qpid/framing/Array.h [from include/qpid/framing/Array.h]|0 0
Renamed: src/qpid/framing/Buffer.h [from include/qpid/framing/Buffer.h]|0 0
Renamed: src/qpid/framing/FieldTable.h [from include/qpid/framing/FieldTable.h]|0 0
Renamed: src/qpid/framing/FieldValue.h [from include/qpid/framing/FieldValue.h]|0 0
Renamed: src/qpid/framing/List.h [from include/qpid/framing/List.h]|0 0
Renamed: src/qpid/framing/ProtocolVersion.h [from include/qpid/framing/ProtocolVersion.h]|0 0
Renamed: src/qpid/framing/SequenceNumber.h [from include/qpid/framing/SequenceNumber.h]|0 0
Renamed: src/qpid/framing/SequenceSet.h [from include/qpid/framing/SequenceSet.h]|0 0
Renamed: src/qpid/framing/StructHelper.h [from include/qpid/framing/StructHelper.h]|0 0
Renamed: src/qpid/framing/Uuid.h [from include/qpid/framing/Uuid.h]|0 0
Renamed: src/qpid/framing/amqp_types.h [from include/qpid/framing/amqp_types.h]|0 0
Renamed: src/qpid/framing/amqp_types_full.h [from include/qpid/framing/amqp_types_full.h]|0 0
Renamed: src/qpid/log/Logger.h [from include/qpid/log/Logger.h]|0 0
Renamed: src/qpid/log/Options.h [from include/qpid/log/Options.h]|0 0
Renamed: src/qpid/log/Selector.h [from include/qpid/log/Selector.h]|0 0
Renamed: src/qpid/log/SinkOptions.h [from include/qpid/log/SinkOptions.h]|0 0
Renamed: src/qpid/log/Statement.h [from include/qpid/log/Statement.h]|0 0
Renamed: src/qpid/management/Args.h [from include/qpid/management/Args.h]|0 0
Renamed: src/qpid/management/Buffer.h [from include/qpid/management/Buffer.h]|0 0
Renamed: src/qpid/management/ConnectionSettings.h [from include/qpid/management/ConnectionSettings.h]|0 0
Renamed: src/qpid/management/Manageable.h [from include/qpid/management/Manageable.h]|0 0
Renamed: src/qpid/management/ManagementEvent.h [from include/qpid/management/ManagementEvent.h]|0 0
Renamed: src/qpid/management/ManagementObject.h [from include/qpid/management/ManagementObject.h]|0 0
Renamed: src/qpid/management/Mutex.h [from include/qpid/management/Mutex.h]|0 0
Renamed: src/qpid/sys/Condition.h [from include/qpid/sys/Condition.h]|0 0
Renamed: src/qpid/sys/ExceptionHolder.h [from include/qpid/sys/ExceptionHolder.h]|0 0
Renamed: src/qpid/sys/IOHandle.h [from include/qpid/sys/IOHandle.h]|0 0
Renamed: src/qpid/sys/Monitor.h [from include/qpid/sys/Monitor.h]|0 0
Renamed: src/qpid/sys/Mutex.h [from include/qpid/sys/Mutex.h]|0 0
Renamed: src/qpid/sys/Runnable.h [from include/qpid/sys/Runnable.h]|0 0
Renamed: src/qpid/sys/StrError.h [from include/qpid/sys/StrError.h]|0 0
Renamed: src/qpid/sys/SystemInfo.h [from include/qpid/sys/SystemInfo.h]|0 0
Renamed: src/qpid/sys/Thread.h [from include/qpid/sys/Thread.h]|0 0
Renamed: src/qpid/sys/Time.h [from include/qpid/sys/Time.h]|0 0
Renamed: src/qpid/sys/posix/Condition.h [from include/qpid/sys/posix/Condition.h]|0 0
Renamed: src/qpid/sys/posix/Mutex.h [from include/qpid/sys/posix/Mutex.h]|0 0
Renamed: src/qpid/sys/posix/PrivatePosix.h [from include/qpid/sys/posix/PrivatePosix.h]|0 0
Renamed: src/qpid/sys/posix/Time.h [from include/qpid/sys/posix/Time.h]|0 0
Renamed: src/qpid/sys/posix/check.h [from include/qpid/sys/posix/check.h]|0 0
Renamed: src/qpid/sys/windows/Condition.h [from include/qpid/sys/windows/Condition.h]|0 0
Renamed: src/qpid/sys/windows/Mutex.h [from include/qpid/sys/windows/Mutex.h]|0 0
Renamed: src/qpid/sys/windows/Time.h [from include/qpid/sys/windows/Time.h]|0 0
Renamed: src/qpid/sys/windows/check.h [from include/qpid/sys/windows/check.h]|0 0

Revision: 3f28410699c4a58929713277a598801c5e06700b
Author: Gordon Sim <gsim@apache.org>
Date: 31/07/2013 00:51:11
Message:
QPID-5025: check that delivery has not already been ended before signalling commit of dequeue #MsgLength=94


----
Modified: src/qpid/broker/DeliveryRecord.cpp|3 1

Revision: ca0f1c11bb923ee69f8ac58db8c1e05831a056b1
Author: Gordon Sim <gsim@apache.org>
Date: 31/07/2013 00:58:14
Message:
QPID-5026: match source with target and vice-versa #MsgLength=51


----
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|1 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 0

Revision: 7644473ee6e653dd804c63e2fdcda2576e5892ec
Author: Gordon Sim <gsim@apache.org>
Date: 31/07/2013 20:35:12
Message:
QPID-5026: make receivers target and senders source configurable, defaulting to the named node if not specified #MsgLength=112


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|26 0
Modified: src/qpid/messaging/amqp/AddressHelper.h|3 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|6 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|6 1

Revision: 844565062b453e6429cc844910bcebe9848dd3bb
Author: Charles E. Rolke <chug@apache.org>
Date: 31/07/2013 22:06:16
Message:
QPID-5029: WinSDK tries to handle components that have been removed #MsgLength=70


----
Modified: bld-winsdk.ps1|0 4

Revision: 1fa9ad98a3b0a5f6efe30b2f5203005bf33bed39
Author: Charles E. Rolke <chug@apache.org>
Date: 31/07/2013 22:11:12
Message:
QPID-5027: Windows examples installed to wrong directory #MsgLength=59


----
Modified: BuildInstallSettings.cmake|1 1

Revision: 4ad3c07c6246a1e270615ec952efb320583a377e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/07/2013 23:20:49
Message:
QPID-4942: Include file not part of supported API (missed out from earlier commit) #MsgLength=83


----
Renamed: src/qpid/Exception.h [from include/qpid/Exception.h]|0 0

Revision: a813812bb551bfec4ea65a4c4804cad3f46a9bc3
Author: Charles E. Rolke <chug@apache.org>
Date: 01/08/2013 01:52:42
Message:
QPID-5028: Qmf2 examples install script error Don't try to install files that don't exist. This patch may be superseded by new CMake files or by the addition of the .sln and .vcproj that are currently missing. #MsgLength=210


----
Modified: bindings/qmf2/examples/cpp/CMakeLists.txt|0 11

Revision: 8a0e4110677bec99c77542cb810f40f76b4b582b
Author: Charles E. Rolke <chug@apache.org>
Date: 01/08/2013 03:33:39
Message:
QPID-5029: WinSDK tries to handle components that have been removed #MsgLength=68


----
Modified: bld-winsdk.ps1|0 1

Revision: c96202da787450803bd92891fa22baa081b685ca
Author: Charles E. Rolke <chug@apache.org>
Date: 01/08/2013 03:49:41
Message:
QPID-5032: Windows install LICENSE and NOTICE files have moved #MsgLength=63


----
Modified: bld-winsdk.ps1|2 2

Revision: 4aa49fed7efd35d2a0ef45077b0da21ac055d9ce
Author: Charles E. Rolke <chug@apache.org>
Date: 01/08/2013 04:17:45
Message:
QPID-5017: WinSDK build leaves release executables stranded in \bin directory Delete them during install post-processing #MsgLength=121


----
Modified: bld-winsdk.ps1|3 0

Revision: 9de4085287c106ed543f8c8d574d9bae160976fc
Author: Charles E. Rolke <chug@apache.org>
Date: 01/08/2013 23:52:29
Message:
QPID-5034: WinSDK README contains stale web site URL #MsgLength=53


----
Modified: README-winsdk.txt|1 1

Revision: f0286a4ff5f503ea740d485c96136ad5c97c10ad
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:26:27
Message:
QPID-4327: Optimize brokertest.ready() to improve test runtimes. #MsgLength=65


----
Modified: src/tests/brokertest.py|13 22

Revision: 627cc7e4b0e5fdd8a9d85d771977c5055aba0421
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:26:34
Message:
QPID-4327: Refactor to simplify TxAccept. #MsgLength=81


----
Modified: src/qpid/broker/TxAccept.cpp|21 43
Modified: src/qpid/broker/TxAccept.h|33 49

Revision: 126b7c585cd09b80defb834fa99dd28e8d6fe6d9
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:26:45
Message:
QPID-4327: Renamed ConfigurationObserver as BrokerObserver. #MsgLength=238


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Broker.h|3 3
Renamed: src/qpid/broker/BrokerObserver.h [from src/qpid/broker/ConfigurationObserver.h]|5 5
Renamed: src/qpid/broker/BrokerObservers.h [from src/qpid/broker/ConfigurationObservers.h]|13 14
Modified: src/qpid/broker/ExchangeRegistry.cpp|2 2
Modified: src/qpid/broker/QueueRegistry.cpp|3 3
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|7 7
Modified: src/qpid/ha/Primary.h|3 3
Modified: src/qpid/ha/QueueSnapshots.h|4 4
Modified: src/qpid/ha/RemoteBackup.cpp|2 2
Modified: src/qpid/ha/RemoteBackup.h|2 2

Revision: 7b451de07617cdae9a5bb96016bff7d0061cafaa
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:26:58
Message:
QPID-4327: Added TransactionObserver interface. #MsgLength=327


----
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/BrokerObserver.h|4 1
Modified: src/qpid/broker/BrokerObservers.h|6 0
Modified: src/qpid/broker/DtxAck.h|3 0
Modified: src/qpid/broker/Queue.cpp|7 0
Modified: src/qpid/broker/Queue.h|1 0
Modified: src/qpid/broker/RecoveredDequeue.h|2 0
Modified: src/qpid/broker/RecoveredEnqueue.h|2 0
Modified: src/qpid/broker/SemanticState.cpp|4 3
Added: src/qpid/broker/TransactionObserver.h|82 0
Modified: src/qpid/broker/TxAccept.cpp|12 0
Modified: src/qpid/broker/TxAccept.h|2 0
Modified: src/qpid/broker/TxBuffer.cpp|7 0
Modified: src/qpid/broker/TxBuffer.h|73 58
Modified: src/qpid/broker/TxOp.h|11 9
Modified: src/tests/CMakeLists.txt|1 0
Added: src/tests/TransactionObserverTest.cpp|143 0
Modified: src/tests/TxMocks.h|3 0
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/ha_tests.py|45 0
Modified: src/tests/test_tools.h|0 1

Revision: 12fc19f0352c26925e36c7e3ddbed0e2106af556
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:27:05
Message:
QPID-4327: HA get rid of Primary::get() singleton. #MsgLength=51


----
Modified: src/qpid/ha/Primary.cpp|0 4
Modified: src/qpid/ha/Primary.h|0 3
Modified: src/qpid/ha/ReplicatingSubscription.cpp|11 7

Revision: 7dd9462f97562a99e3e1d6048e7c90ab6a997cb4
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:27:26
Message:
QPID-4327: HA TX transactions: basic replication. #MsgLength=544


----
Added: include/qpid/framing/BufferTypes.h|106 0
Modified: src/CMakeLists.txt|14 10
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/Broker.h|2 1
Modified: src/qpid/broker/MessageStoreModule.cpp|1 1
Modified: src/qpid/broker/MessageStoreModule.h|1 1
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/qpid/broker/TxAccept.cpp|1 1
Modified: src/qpid/ha/Backup.h|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|14 2
Modified: src/qpid/ha/BrokerReplicator.h|4 2
Renamed: src/qpid/ha/Event.cpp [from src/qpid/ha/makeMessage.cpp]|29 14
Added: src/qpid/ha/Event.h|146 0
Modified: src/qpid/ha/FailoverExchange.cpp|2 2
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/HaBroker.h|1 0
Modified: src/qpid/ha/Membership.cpp|8 0
Modified: src/qpid/ha/Membership.h|3 0
Modified: src/qpid/ha/Primary.cpp|39 2
Modified: src/qpid/ha/Primary.h|20 3
Added: src/qpid/ha/PrimaryTxObserver.cpp|104 0
Added: src/qpid/ha/PrimaryTxObserver.h|77 0
Modified: src/qpid/ha/QueueReplicator.cpp|49 32
Modified: src/qpid/ha/QueueReplicator.h|21 12
Modified: src/qpid/ha/RemoteBackup.cpp|3 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|17 25
Modified: src/qpid/ha/ReplicatingSubscription.h|8 2
Modified: src/qpid/ha/StatusCheck.cpp|3 9
Added: src/qpid/ha/TxReplicator.cpp|192 0
Added: src/qpid/ha/TxReplicator.h|123 0
Deleted: src/qpid/ha/makeMessage.h|0 66
Modified: src/qpid/ha/types.cpp|8 0
Modified: src/qpid/ha/types.h|8 1
Modified: src/tests/BrokerFixture.h|47 23
Modified: src/tests/CMakeLists.txt|1 18
Modified: src/tests/MessagingFixture.h|10 5
Modified: src/tests/TransactionObserverTest.cpp|1 0
Modified: src/tests/brokertest.py|9 6
Added: src/tests/cluster_test.cpp|1231 0
Modified: src/tests/ha_test.py|7 1
Modified: src/tests/ha_tests.py|73 22
Modified: src/tests/test_env.sh.in|2 2
Modified: src/tests/test_store.cpp|93 8

Revision: 1b312a38bb1c8c6ef5f25e95328c15c78cb9f3c5
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:27:39
Message:
QPID-4327: HA TX transactions, blocking wait for prepare #MsgLength=399


----
Modified: include/qpid/types/Uuid.h|1 0
Modified: src/qpid/framing/FrameSet.h|8 6
Modified: src/qpid/ha/BrokerReplicator.cpp|0 4
Modified: src/qpid/ha/Event.cpp|16 8
Modified: src/qpid/ha/Event.h|37 2
Modified: src/qpid/ha/FailoverExchange.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|6 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|96 21
Modified: src/qpid/ha/PrimaryTxObserver.h|31 5
Modified: src/qpid/ha/QueueReplicator.cpp|10 5
Modified: src/qpid/ha/QueueReplicator.h|11 8
Modified: src/qpid/ha/RemoteBackup.cpp|0 2
Modified: src/qpid/ha/ReplicatingSubscription.h|0 1
Modified: src/qpid/ha/TxReplicator.cpp|65 20
Modified: src/qpid/ha/TxReplicator.h|7 4
Modified: src/qpid/ha/types.cpp|3 1
Modified: src/qpid/ha/types.h|5 2
Modified: src/qpid/types/Uuid.cpp|5 0
Modified: src/tests/ha_test.py|11 5
Modified: src/tests/ha_tests.py|12 1
Modified: src/tests/test_store.cpp|18 6

Revision: 2ae1ed74a1401ac649beac7e91bccf3b449e7d22
Author: Alan Conway <aconway@apache.org>
Date: 02/08/2013 04:56:29
Message:
QPID-4327: HA logging fixes. #MsgLength=158


----
Modified: src/qpid/ha/Primary.cpp|2 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|7 9
Modified: src/qpid/ha/TxReplicator.cpp|4 8

Revision: 7ada2ab57ac163695af5a7d8f5320df5330734aa
Author: Alan Conway <aconway@apache.org>
Date: 03/08/2013 05:08:22
Message:
QPID-4327: HA Fix windows compile errors introduced by recent commits. #MsgLength=71


----
Modified: src/qpid/broker/Link.h|2 2
Modified: src/qpid/broker/TxAccept.h|2 1
Modified: src/qpid/broker/TxBuffer.h|1 1
Modified: src/qpid/ha/Membership.cpp|1 1
Modified: src/qpid/ha/PrimaryTxObserver.cpp|6 7
Modified: src/qpid/ha/QueueReplicator.cpp|0 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 1
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1
Modified: src/qpid/ha/TxReplicator.cpp|3 3
Modified: src/tests/TransactionObserverTest.cpp|3 1

Revision: f1d54634f2463dc65b5b925ba9e5684f4728c9d1
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2013 00:35:03
Message:
NO-JIRA: Remove use of boost::make_shared, not availble on some older versions. #MsgLength=80


----
Modified: src/qpid/ha/Primary.cpp|0 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|2 2
Modified: src/qpid/ha/TxReplicator.cpp|2 3
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|1 2
Modified: src/tests/TransactionObserverTest.cpp|1 3

Revision: 4b5bc9bc92680d921e41a2aa0d57eefde991b9e5
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2013 00:35:13
Message:
NO-JIRA: Corrected use of boost_hash, failing to build on some compilers. #MsgLength=74


----
Modified: include/qpid/types/Uuid.h|3 0
Modified: src/qpid/ha/BrokerInfo.h|3 1
Modified: src/qpid/ha/Primary.h|2 2
Modified: src/qpid/ha/QueueGuard.h|2 2
Modified: src/qpid/ha/QueueReplicator.h|2 2
Modified: src/qpid/ha/QueueSnapshots.h|5 5
Modified: src/qpid/ha/RemoteBackup.h|2 2
Deleted: src/qpid/ha/hash.h|0 42

Revision: 680817594ca2d2d76e3a6d75d9a71e5663ea7768
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2013 02:27:06
Message:
NO-JIRA: Remove deleted file ha/hash.h from CMakeLists.txt. #MsgLength=60


----
Modified: src/CMakeLists.txt|0 1

Revision: e95bbabc8e03fcdb1b81cfa5207ec752f7c2b8f1
Author: Justin Ross <jross@apache.org>
Date: 06/08/2013 02:49:30
Message:
QPID-5035: Respect data-dir setting from config file #MsgLength=53


----
Modified: etc/qpidd.in|1 2

Revision: 592013f657cbd36f197a43f527c8c2c27f840451
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2013 03:33:35
Message:
QPID-4327: HA Handle brokers joining and leaving during a transaction. #MsgLength=315


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/Event.cpp|5 4
Modified: src/qpid/ha/Event.h|14 2
Modified: src/qpid/ha/HaBroker.cpp|4 0
Modified: src/qpid/ha/HaBroker.h|4 0
Modified: src/qpid/ha/Membership.cpp|10 0
Modified: src/qpid/ha/Membership.h|6 0
Modified: src/qpid/ha/Primary.cpp|1 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|33 7
Modified: src/qpid/ha/PrimaryTxObserver.h|4 1
Modified: src/qpid/ha/QueueReplicator.cpp|0 1
Modified: src/qpid/ha/ReplicatingSubscription.h|1 1
Modified: src/qpid/ha/TxReplicator.cpp|16 22
Modified: src/qpid/ha/TxReplicator.h|1 3
Modified: src/qpid/ha/types.cpp|18 0
Modified: src/qpid/ha/types.h|7 2
Modified: src/tests/ha_test.py|6 3
Modified: src/tests/ha_tests.py|34 4

Revision: 1311129eaaebb31e7af79f66492de80401a378ea
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2013 04:12:27
Message:
QPID-5041: ensure persistence id is not lost when annotation is added #MsgLength=70


----
Modified: src/qpid/broker/Message.cpp|2 0

Revision: 160def56ff5f895230aad49a76bb501d5cb1b1d0
Author: Alan Conway <aconway@apache.org>
Date: 06/08/2013 23:00:47
Message:
NO-JIRA: HA remove use of boost_hash, failes to build on some compilers. #MsgLength=136


----
Modified: src/qpid/ha/AlternateExchangeSetter.h|0 1
Modified: src/qpid/ha/BrokerInfo.h|2 3
Modified: src/qpid/ha/Primary.h|3 3
Modified: src/qpid/ha/PrimaryTxObserver.h|1 2
Modified: src/qpid/ha/QueueGuard.h|2 2
Modified: src/qpid/ha/QueueReplicator.h|2 3
Modified: src/qpid/ha/QueueSnapshots.h|5 5
Modified: src/qpid/ha/RemoteBackup.h|5 3
Added: src/qpid/ha/hash.h|71 0

Revision: 3ea05138eda30215caf4f82333c3ab8f83ddfcb7
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2013 23:58:06
Message:
QPID-5042: use more protable encode and decode #MsgLength=47


----
Modified: src/qpid/broker/PagedQueue.cpp|4 2

Revision: f45435ebe26a6414b25f201f93d55430e0010c38
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2013 00:43:37
Message:
NO-JIRA: Remove un-necessary #include <boost/pointer_cast.hpp> #MsgLength=100


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 1

Revision: a72e53eb1eefbe1fa3942030588f72d5bb91681f
Author: Alan Conway <aconway@apache.org>
Date: 07/08/2013 01:50:04
Message:
NO-JIRA: Remove use of "with" statement to support older versions of Python #MsgLength=76


----
Modified: src/tests/ha_tests.py|4 1

Revision: 5286d3105825324780f23f91486c9896bab5dab7
Author: Gordon Sim <gsim@apache.org>
Date: 08/08/2013 04:55:26
Message:
QPID-5051: fixes for swig test failures on RHEL5 (and the failure to detect them) #MsgLength=82


----
Modified: include/qpid/types/Variant.h|2 1
Modified: src/qpid/types/Variant.cpp|1 0
Modified: src/tests/swig_python_tests|3 7

Revision: dfec0d30701bd03be65f5576ea3ba7e00f78336b
Author: Gordon Sim <gsim@apache.org>
Date: 08/08/2013 20:26:56
Message:
QPID-5055: initialise some paged queue variables #MsgLength=49


----
Modified: src/qpid/broker/PagedQueue.cpp|1 1

Revision: 029adc12e4b9d168eab34bfcfd1ca245bfb7d997
Author: Gordon Sim <gsim@apache.org>
Date: 08/08/2013 20:58:23
Message:
QPID-5054: check whether topic actually exists in delete request #MsgLength=65


----
Modified: src/qpid/broker/amqp/Topic.cpp|6 2

Revision: 470eb9ccf8c29bb8a541ee853af18b91192a477d
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2013 17:32:28
Message:
QPID-5061: do exclusivity checks before registering link to avoid cancelling a subscription that did not succeed #MsgLength=113


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: b97c189ae956d795fcf56a07ba35a87b08bbfe2f
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2013 18:50:29
Message:
QPID-5060: remove exchange and durable for properties map, as they apply to topic itself rather than queue and are tracked by explicit properties #MsgLength=146


----
Modified: src/qpid/broker/amqp/Topic.cpp|8 1
Modified: src/tests/qpidt|1 1

Revision: c234fe21d78a65c3d21ba02291c7e39418de91b3
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2013 20:33:23
Message:
QPID-5053: release exclusive queue ownership when session ends (clear the set _after_ iterating over it!) #MsgLength=106


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: 2dba30345199bb7133058ab84fe0188aec8cc339
Author: Gordon Sim <gsim@apache.org>
Date: 09/08/2013 23:36:32
Message:
QPID-5062: pass through security details from SSL transport to enable EXTERNAL authentication #MsgLength=94


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|4 0
Modified: src/qpid/messaging/amqp/Sasl.cpp|1 1
Modified: src/qpid/messaging/amqp/SslTransport.cpp|7 0
Modified: src/qpid/messaging/amqp/SslTransport.h|3 0
Modified: src/qpid/messaging/amqp/TcpTransport.cpp|4 0
Modified: src/qpid/messaging/amqp/TcpTransport.h|1 0
Modified: src/qpid/messaging/amqp/Transport.h|2 0

Revision: 41d4c64de603de8e2f80a329c526dcfde2657c70
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 10/08/2013 04:28:59
Message:
QPID-5067: Changed language bindings to use UTF-8 encoding on strings. #MsgLength=168


----
Modified: include/qpid/swig_perl_typemaps.i|6 6
Modified: include/qpid/swig_python_typemaps.i|5 1
Modified: include/qpid/swig_ruby_typemaps.i|8 1

Revision: 2d80feb9d6a3ac429a362ab33e79bdb94bd92478
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 13/08/2013 05:01:42
Message:
QPID-5067: Fixed an unmatched closing parenthesis. #MsgLength=51


----
Modified: include/qpid/swig_ruby_typemaps.i|1 1

Revision: 74a389b163a2ab7950777ccbae7325337c6781aa
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2013 23:06:42
Message:
QPID-5040: support for sending and receiving messages with AmqpValue sections #MsgLength=78


----
Modified: examples/messaging/drain.cpp|4 6
Modified: examples/messaging/map_receiver.cpp|3 5
Modified: examples/messaging/map_sender.cpp|3 3
Modified: examples/messaging/spout.cpp|1 1
Modified: include/qpid/messaging/Message.h|22 0
Modified: src/CMakeLists.txt|4 0
Added: src/qpid/amqp/DataBuilder.cpp|194 0
Added: src/qpid/amqp/DataBuilder.h|78 0
Modified: src/qpid/amqp/Encoder.cpp|85 0
Modified: src/qpid/amqp/Encoder.h|7 0
Added: src/qpid/amqp/ListBuilder.cpp|33 0
Added: src/qpid/amqp/ListBuilder.h|40 0
Modified: src/qpid/amqp/MapBuilder.cpp|2 102
Modified: src/qpid/amqp/MapBuilder.h|4 27
Modified: src/qpid/amqp/MessageEncoder.cpp|66 102
Modified: src/qpid/amqp/MessageEncoder.h|10 6
Modified: src/qpid/amqp/MessageReader.cpp|29 56
Modified: src/qpid/amqp/MessageReader.h|8 161
Modified: src/qpid/amqp/descriptors.h|1 0
Modified: src/qpid/amqp/typecodes.h|1 1
Modified: src/qpid/broker/amqp/Message.cpp|50 4
Modified: src/qpid/broker/amqp/Message.h|10 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|9 2
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|2 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|14 2
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|17 3
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/qpid/messaging/Message.cpp|11 0
Modified: src/qpid/messaging/MessageImpl.cpp|33 15
Modified: src/qpid/messaging/MessageImpl.h|6 3
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|62 6
Modified: src/qpid/messaging/amqp/EncodedMessage.h|13 4
Modified: src/qpid/messaging/amqp/SenderContext.cpp|15 2
Added: src/qpid/types/encodings.h|33 0
Modified: src/tests/qpid-receive.cpp|4 2
Modified: src/tests/qpid-send.cpp|2 3

Revision: f038450fbfedfd48fdd35bc333a407e0fc24caa9
Author: Gordon Sim <gsim@apache.org>
Date: 13/08/2013 23:06:54
Message:
QPID-4711: translate between structured content in AMQP 0-10 and 1.0 #MsgLength=69


----
Modified: bindings/qpid/python/python.i|4 3
Modified: src/qpid/broker/amqp/Translation.cpp|91 18

Revision: 4511a6bf3a110f0b7d3366b9f84d36ce27381f92
Author: Gordon Sim <gsim@apache.org>
Date: 14/08/2013 02:58:44
Message:
QPID-5040: export symbols from common lib (required for windows build) #MsgLength=71


----
Modified: src/qpid/amqp/DataBuilder.h|28 27
Modified: src/qpid/amqp/ListBuilder.h|3 2
Modified: src/qpid/amqp/MapBuilder.h|3 2

Revision: c4980924ca616b775d4e435700d840651d78a84f
Author: Gordon Sim <gsim@apache.org>
Date: 14/08/2013 03:48:56
Message:
QPID-5040: further fix for windows build #MsgLength=41


----
Modified: include/qpid/types/Uuid.h|1 1

Revision: 4510ee17fa25c6702744e0edeea9007ca24b353c
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/08/2013 19:31:54
Message:
Revert "QPID-5067: Fixed an unmatched closing parenthesis." #MsgLength=123


----
Modified: include/qpid/swig_ruby_typemaps.i|1 1

Revision: 7312f31cafd3b8106923b8a9446a6c6de4026099
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 14/08/2013 19:31:56
Message:
Revert "QPID-5067: Changed language bindings to use UTF-8 encoding on strings." #MsgLength=143


----
Modified: include/qpid/swig_perl_typemaps.i|6 6
Modified: include/qpid/swig_python_typemaps.i|1 5
Modified: include/qpid/swig_ruby_typemaps.i|1 8

Revision: 06e7198dec9b45f237805d51ef2bda658aefb506
Author: Gordon Sim <gsim@apache.org>
Date: 15/08/2013 15:57:09
Message:
QPID-5072: ensure session manager is informed when sessions end due to connection exception #MsgLength=92


----
Modified: src/qpid/broker/SessionHandler.cpp|5 1

Revision: d80cbe3624fe890d198d4cd18396c002e13c62da
Author: Gordon Sim <gsim@apache.org>
Date: 16/08/2013 04:10:48
Message:
QPID-5077: improvement to SASL logic to handle entirely asynchronous dialogue #MsgLength=78


----
Modified: src/qpid/broker/amqp/SaslClient.cpp|5 3
Modified: src/qpid/broker/amqp/SaslClient.h|1 0
Modified: src/tests/interlink_tests.py|8 2

Revision: eb324f1d827d558594ac3d157ad7a3f48df6ed82
Author: Gordon Sim <gsim@apache.org>
Date: 17/08/2013 06:15:06
Message:
QPID-5078: ensure listeners are always notified if a message was left on the queue #MsgLength=83


----
Modified: src/qpid/broker/Queue.cpp|6 3

Revision: 428e67fef9cc50fbebfca793429ed4f7ae831a3d
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2013 05:01:18
Message:
QPID-5083: provide simple default where sasl functionality is not available #MsgLength=76


----
Modified: src/CMakeLists.txt|4 0
Added: src/qpid/NullSaslClient.cpp|53 0
Added: src/qpid/NullSaslClient.h|41 0
Modified: src/qpid/SaslFactory.cpp|3 1

Revision: 726b678c62c6eae6f5ee64a96c241373dded8119
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2013 19:51:46
Message:
QPID-5083: added include needed for some older compilers #MsgLength=57


----
Modified: src/qpid/NullSaslClient.cpp|1 0

Revision: f14fe0f60124fd41172c1525d77fa51910167a65
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2013 20:17:06
Message:
QPID-5085: ensure messages released 'behind' a cursor on a priority queue don't get missed #MsgLength=91


----
Modified: src/qpid/broker/PriorityQueue.cpp|6 1
Modified: src/tests/MessagingSessionTests.cpp|20 0

Revision: 5d896d7cc0f03e45c5d2d81d83a629fa78a19cdd
Author: Gordon Sim <gsim@apache.org>
Date: 21/08/2013 01:54:31
Message:
QPID-5086: send completions when restarting after stop, in order to move window forward #MsgLength=88


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 0
Modified: src/tests/MessagingSessionTests.cpp|26 0

Revision: 7968ba901c675447014cd884e8b3af8a9d6edebe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/08/2013 03:31:15
Message:
QPID-5079: Get library import/export declarations working for linux - Only qpidmessaging and qpidtypes libraries are affected #MsgLength=126


----
Modified: include/qpid/ImportExport.h|8 4
Modified: src/CMakeLists.txt|13 0
Modified: src/qpid/messaging/ConnectionOptions.h|4 2
Modified: src/qpid/messaging/MessageImpl.h|20 17
Modified: src/qpid/messaging/ProtocolRegistry.h|4 1
Modified: src/qpid/messaging/amqp/EncodedMessage.h|15 13

Revision: e7d2e13dd9a7dc19ec98c6099adabbe9ca08ad3a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/08/2013 03:31:18
Message:
QPID-5079: Added link map file to cut the number of symbols exported even further - It seems that the library import/export mechanism isn't sufficient under the gnu tool chain to really limit the exported symbols #MsgLength=215


----
Modified: src/CMakeLists.txt|10 5
Added: src/qpid.linkmap|10 0

Revision: a69007cd00960f644a5310f219df504b8afc98ce
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/08/2013 03:31:22
Message:
QPID-5079: Remove unused and unecessary member of MessagingException class - Potentially an ABI change but noone can really have used this for anything. #MsgLength=153


----
Modified: include/qpid/messaging/exceptions.h|0 3

Revision: dad1d747ec0a55c35886398b831a2345b2bf75ee
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/08/2013 03:31:26
Message:
QPID-5079: Add script to compare symbols exported by library with expected list #MsgLength=80


----
Modified: src/CMakeLists.txt|10 0
Added: src/check-abi|48 0
Added: src/libqpidmessaging-api-symbols.txt|214 0
Added: src/libqpidtypes-api-symbols.txt|122 0

Revision: 04d3ac4855571dc2fa226b40cc939aa58a99c85b
Author: Gordon Sim <gsim@apache.org>
Date: 24/08/2013 00:06:41
Message:
QPID-5090: Infer text/plain as content type over 0-10 for utf8 content #MsgLength=71


----
Modified: examples/messaging/spout.cpp|4 3
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|6 0

Revision: 55d30951fb9e6f5aa6d03d6ace6fed7732cd9ddb
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2013 19:30:20
Message:
QPID-5098: better handling of link failures and close #MsgLength=54


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|38 7
Modified: src/qpid/messaging/amqp/ConnectionContext.h|2 0
Modified: src/qpid/messaging/amqp/ReceiverHandle.cpp|1 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|8 6
Modified: src/qpid/messaging/amqp/SenderContext.h|1 1
Modified: src/qpid/messaging/amqp/SenderHandle.cpp|1 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|14 4
Modified: src/qpid/messaging/amqp/SessionContext.h|5 2
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|14 4

Revision: 85e63e2055ecf943fc5c288156d1aaf978881775
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2013 20:41:14
Message:
QPID-4670: Move to proton 0.5, remove dummy string in address for dynamic nodes #MsgLength=80


----
Modified: src/amqp.cmake|2 2
Modified: src/qpid/broker/amqp/Connection.cpp|0 3
Modified: src/qpid/broker/amqp/Outgoing.cpp|4 5
Modified: src/qpid/broker/amqp/Relay.cpp|7 6
Modified: src/qpid/broker/amqp/Relay.h|3 2
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|0 3
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|0 5

Revision: 208dcef0f79d41b355648bcfd2bdafa5a62ed0e9
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2013 20:41:23
Message:
QPID-4948: enable browsing #MsgLength=27


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|3 2
Modified: src/qpid/broker/amqp/Outgoing.h|2 1
Modified: src/qpid/broker/amqp/Session.cpp|4 2
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 2

Revision: cbc29d29ee09541ea5eea8db8445fd5e7c3ccf3d
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2013 20:41:31
Message:
QPID-4978: add support for reliability option #MsgLength=46


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|7 2
Modified: src/qpid/broker/amqp/Outgoing.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|0 1
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|16 2
Modified: src/qpid/messaging/amqp/AddressHelper.h|4 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|1 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|20 10
Modified: src/qpid/messaging/amqp/SenderContext.h|3 2

Revision: 4c5805bf2ad2a39698207e74a5d2e8d1d09fc737
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2013 22:56:46
Message:
QPID-4708: support for reconnect over AMQP 1.0 #MsgLength=47


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|240 118
Modified: src/qpid/messaging/amqp/ConnectionContext.h|13 13
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|16 2
Modified: src/qpid/messaging/amqp/ReceiverContext.h|2 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|46 4
Modified: src/qpid/messaging/amqp/SenderContext.h|6 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|11 0
Modified: src/qpid/messaging/amqp/SessionContext.h|1 0
Modified: src/tests/interlink_tests.py|64 3

Revision: df47286f86c36bb7ebf91632f6f57b513096d7e5
Author: Charles E. Rolke <chug@apache.org>
Date: 29/08/2013 01:03:16
Message:
QPID-5101: C++ Broker Windows missing SaslFactory::createServer for AMQP 1.0 #MsgLength=77


----
Modified: src/qpid/client/windows/SaslFactory.cpp|7 0

Revision: 04c57352aef42b4263c710cfe79b5880e14da958
Author: Charles E. Rolke <chug@apache.org>
Date: 29/08/2013 03:34:59
Message:
QPID-5102: C++ Broker Windows build with PROTON needs new _EXTERN statements. #MsgLength=240


----
Modified: src/qpid/Address.h|2 2
Modified: src/qpid/NullSaslServer.h|2 1
Modified: src/qpid/Sasl.h|2 1
Modified: src/qpid/SaslFactory.h|1 0
Modified: src/qpid/SaslServer.h|1 1
Modified: src/qpid/amqp/Descriptor.h|5 5
Modified: src/qpid/amqp/Encoder.h|5 5
Modified: src/qpid/amqp/MapReader.h|27 27
Modified: src/qpid/amqp/MessageEncoder.h|15 15
Modified: src/qpid/amqp/Sasl.h|6 6
Modified: src/qpid/amqp/SaslClient.h|11 10
Modified: src/qpid/amqp/SaslServer.h|6 6
Modified: src/qpid/broker/DirectExchange.h|1 1
Modified: src/qpid/broker/HeadersExchange.h|1 1
Modified: src/qpid/broker/IngressCompletion.h|1 1
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/broker/ObjectFactory.h|2 1
Modified: src/qpid/broker/PersistableMessage.h|2 2
Modified: src/qpid/broker/PersistableObject.h|8 7
Modified: src/qpid/broker/Protocol.h|1 1
Modified: src/qpid/broker/RecoverableMessageImpl.h|1 1
Modified: src/qpid/broker/Selector.h|1 1
Modified: src/qpid/broker/TopicExchange.h|1 1
Modified: src/qpid/messaging/amqp/Transport.h|3 2

Revision: d5c6a643974af079a14eaf1f43590f0622854cc0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/08/2013 06:37:39
Message:
QPID-5079: Deal better with compiling on 32 bit architectures - The API check now varies the expansion it uses for uint64_t/int64_t/size_t by getting the compiler to tell it the actual type. #MsgLength=193


----
Modified: src/CMakeLists.txt|11 1
Modified: src/check-abi|41 8

Revision: d6b4c46f285e24962d14c9f0a10bdf9f69b3e685
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/08/2013 00:34:34
Message:
QPID-5079: Avoid unexported destructor symbols on some earlier versions of gcc #MsgLength=79


----
Modified: src/CMakeLists.txt|1 1

Revision: f1c23cc4000dd0d3e61a392ec059903d9435ea48
Author: Gordon Sim <gsim@apache.org>
Date: 30/08/2013 20:31:45
Message:
QPID-5040: fix for string and symbol types on AmqpValue section (also clear message on fetch()) #MsgLength=96


----
Modified: examples/messaging/drain.cpp|6 2
Modified: src/qpid/messaging/MessageImpl.cpp|21 0
Modified: src/qpid/messaging/MessageImpl.h|1 0
Modified: src/qpid/messaging/Receiver.cpp|6 1
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|2 3
Modified: src/tests/qpid-receive.cpp|5 4

Revision: 32ac2d3919af9f6e5791388d8beee8a1f79290fd
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2013 22:11:53
Message:
NO-JIRA: Remove obsolete (never implemented) cluster design docs. #MsgLength=66


----
Deleted: design_docs/new-cluster-design.txt|0 298
Deleted: design_docs/new-cluster-plan.txt|0 340

Revision: ca5e9454efe74fc1ef4d64ac5890c7834a9d5daf
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2013 22:43:06
Message:
QPID-4327: HA clean up transaction artifacts at end of TX. #MsgLength=335


----
Modified: src/qpid/ha/BrokerReplicator.cpp|49 31
Modified: src/qpid/ha/BrokerReplicator.h|3 0
Modified: src/qpid/ha/Primary.cpp|16 5
Modified: src/qpid/ha/Primary.h|7 0
Modified: src/qpid/ha/PrimaryTxObserver.cpp|24 22
Modified: src/qpid/ha/PrimaryTxObserver.h|11 5
Modified: src/qpid/ha/QueueReplicator.cpp|13 0
Modified: src/qpid/ha/QueueReplicator.h|3 1
Modified: src/qpid/ha/TxReplicator.cpp|16 2
Modified: src/qpid/ha/TxReplicator.h|5 0
Modified: src/tests/brokertest.py|4 0
Modified: src/tests/ha_test.py|16 1
Modified: src/tests/ha_tests.py|51 28

Revision: 665bcb3a8585277b52eec2cc7f044f97a699dcfd
Author: Gordon Sim <gsim@apache.org>
Date: 03/09/2013 00:22:24
Message:
QPID-5106: handle annotations properly and add option to control whether annotations are nested or not on fetch() #MsgLength=114


----
Modified: src/qpid/amqp/DataBuilder.cpp|3 3
Modified: src/qpid/amqp/DataBuilder.h|2 2
Modified: src/qpid/amqp/Decoder.cpp|15 115
Modified: src/qpid/amqp/Decoder.h|2 1
Modified: src/qpid/amqp/Descriptor.cpp|1 1
Modified: src/qpid/amqp/ListReader.h|4 4
Modified: src/qpid/amqp/MapReader.cpp|2 2
Modified: src/qpid/amqp/MapReader.h|2 2
Modified: src/qpid/amqp/MessageReader.cpp|10 10
Modified: src/qpid/amqp/MessageReader.h|6 7
Modified: src/qpid/amqp/Reader.h|2 2
Modified: src/qpid/amqp/SaslClient.cpp|1 1
Modified: src/qpid/amqp/SaslClient.h|1 1
Modified: src/qpid/amqp/SaslServer.cpp|1 1
Modified: src/qpid/amqp/SaslServer.h|1 1
Modified: src/qpid/broker/amqp/DataReader.cpp|2 2
Modified: src/qpid/broker/amqp/Message.cpp|43 22
Modified: src/qpid/broker/amqp/Message.h|4 4
Modified: src/qpid/broker/amqp/Translation.cpp|3 2
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/ConnectionOptions.h|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 0
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|19 11
Modified: src/qpid/messaging/amqp/EncodedMessage.h|6 4
Modified: src/tests/failing-amqp1.0-python-tests|2 0
Modified: src/tests/swig_python_tests|1 1

Revision: 26428b0075b4740d8bf7dded48d6517f5e9c0083
Author: Gordon Sim <gsim@apache.org>
Date: 03/09/2013 01:16:13
Message:
QPID-5109: remove invalid options from qpid-config #MsgLength=51


----
Modified: src/tests/cli_tests.py|12 20

Revision: e79a9c99b4d4e4b2983395486c89d2844d76b289
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2013 13:31:11
Message:
NO-JIRA: Stop some messages from needlessly interupting ccmake flow #MsgLength=68


----
Modified: bindings/CMakeLists.txt|3 3

Revision: 8b6213530dab88fe67a657409a6005269a7cb0c1
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2013 00:07:20
Message:
NO-JIRA: HA minor cleanup of  disconnect logic. #MsgLength=48


----
Modified: src/qpid/ha/BrokerReplicator.cpp|19 32
Modified: src/qpid/ha/BrokerReplicator.h|1 3
Modified: src/qpid/ha/PrimaryTxObserver.cpp|1 4

Revision: 2c1b489ceb0f1889303e3be76e1a2152d3844856
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2013 00:07:29
Message:
NO-JIRA: Remove obsolete qpid-cluster and qpid-cluster-store tools. #MsgLength=68


----
Deleted: src/tests/qpid-cluster-lag.py|0 93
Modified: src/tests/test_env.ps1.in|0 1

Revision: 0b22fd1fabf5eba27da0b423ba23b750a3c8a5a5
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2013 03:31:42
Message:
NO-JIRA: Remove obsolete cluster_test.cpp test. #MsgLength=48


----
Deleted: src/tests/cluster_test.cpp|0 1231

Revision: e8d9870c105a1551e7d0f4118d31737f4d02e512
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 04/09/2013 04:36:52
Message:
QPID-5071: Swig bindings now rebuild if any descriptor has changed. #MsgLength=68


----
Modified: bindings/qpid/perl/CMakeLists.txt|4 0
Modified: bindings/qpid/python/CMakeLists.txt|4 0
Modified: bindings/qpid/ruby/CMakeLists.txt|4 0

Revision: b5406766e7cce20188f0161c1dd4e45779902abf
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2013 04:52:51
Message:
QPID:4327: HA support for TX transactions - fix cleanup at transaction end. #MsgLength=168


----
Modified: src/qpid/ha/PrimaryTxObserver.cpp|10 6
Modified: src/qpid/ha/PrimaryTxObserver.h|4 1
Modified: src/tests/ha_tests.py|34 14

Revision: 50a12e25cdbca730e3da7adc683792f977f36171
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2013 06:09:17
Message:
QPID-5111: Make library dependencies clearer in build system - Use -as-needed to link libraries to avoid unnecessary libraries - Tidyup mess with nss and qpid-proton libraries #MsgLength=176


----
Modified: bindings/qmf2/examples/cpp/CMakeLists.txt|2 2
Modified: examples/messaging/CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|79 60
Modified: src/amqp.cmake|11 17
Modified: src/qpid/store/CMakeLists.txt|1 1
Modified: src/rdma.cmake|2 2
Modified: src/tests/CMakeLists.txt|24 25

Revision: d1d60ab0530cf45d6f8814cb19720782b47400a2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2013 06:09:20
Message:
QPID-5112: Simplify windows/non windows checks #MsgLength=47


----
Modified: src/CMakeLists.txt|30 28

Revision: 5bff8c8641999906b60bb169c143148e93adc057
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2013 23:40:41
Message:
QPID-5111: Make this work with cmake 2.6 versions #MsgLength=50


----
Modified: src/CMakeLists.txt|12 15

Revision: ef33516c6630bec32a576d1eef95f1b33695fb29
Author: Gordon Sim <gsim@apache.org>
Date: 05/09/2013 01:00:45
Message:
QPID-5110: don't lose track of correct index even in the face of incorrectly typed properties #MsgLength=94


----
Modified: src/qpid/amqp/MessageReader.cpp|64 0
Modified: src/qpid/amqp/MessageReader.h|14 0

Revision: 375cef382cebd14be49c0ee21b164163df429beb
Author: Alan Conway <aconway@apache.org>
Date: 05/09/2013 03:01:18
Message:
NO-JIRA: HA minor fixes to test framework & comments. #MsgLength=54


----
Modified: src/qpid/ha/PrimaryTxObserver.cpp|2 1
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_test.py|4 2

Revision: ca7aad7c6d0de85b60dec1a538c3ae76d8bfdc15
Author: Charles E. Rolke <chug@apache.org>
Date: 05/09/2013 04:27:29
Message:
NO-JIRA: repair build for VisualStudio 2010 and newer Boost vector::push_back now has two signatures that confuse boost. Use an explicit callback and do the push_back there. This is a replay of r1418544. #MsgLength=204


----
Modified: src/qpid/ha/BrokerReplicator.cpp|8 1

Revision: 71c242b6fcd3ccb519bdd8ba994acc9f603030d6
Author: Pavel Moravec <pmoravec@apache.org>
Date: 05/09/2013 15:29:36
Message:
fixing QPID-5108 #MsgLength=17


----
Modified: src/qpid/broker/SemanticState.cpp|3 0
Modified: src/qpid/broker/SessionState.cpp|18 0
Modified: src/qpid/broker/SessionState.h|5 0

Revision: 03120a16a5e17e1e9c250826eba5bbcb9bb14fff
Author: Gordon Sim <gsim@apache.org>
Date: 06/09/2013 01:07:26
Message:
QPID-5106: initialise newly added option #MsgLength=41


----
Modified: src/qpid/messaging/ConnectionOptions.cpp|1 1

Revision: 922c4f2b0a942bd9af25b7234ff42c0c70004df2
Author: Gordon Sim <gsim@apache.org>
Date: 06/09/2013 04:38:15
Message:
QPID-5104: make handling of properties in swigged impl match the pure python impl more closely #MsgLength=95


----
Modified: bindings/qpid/python/python.i|36 12
Modified: include/qpid/messaging/Message.h|1 0
Modified: include/qpid/swig_python_typemaps.i|9 1
Modified: src/qpid/messaging/Message.cpp|1 0

Revision: 079a592b0345812d7b1ee74c2c21f09c851a5f79
Author: Charles E. Rolke <chug@apache.org>
Date: 06/09/2013 04:41:22
Message:
QPID-5114: WinSDK ships qpid-send.exe and qpid-receive.exe in bin\Release #MsgLength=76


----
Modified: bld-winsdk.ps1|3 1

Revision: 3fca5c31ec922f8a87ab3026be96ebfd05837d9e
Author: Gordon Sim <gsim@apache.org>
Date: 06/09/2013 19:55:38
Message:
QPID-5104: fix for python 2.4 #MsgLength=30


----
Modified: include/qpid/swig_python_typemaps.i|1 1

Revision: b598d26fe51dbd6b311f6785761ecf2f8421a9ba
Author: Pavel Moravec <pmoravec@apache.org>
Date: 06/09/2013 22:35:15
Message:
QPID-5107: Trace queue&session deletion statistics show zero values for some counters everytime #MsgLength=96


----
Modified: managementgen/qmfgen/templates/Class.cpp|12 7
Modified: managementgen/qmfgen/templates/Class.h|2 0
Modified: src/qpid/broker/Broker.cpp|2 0
Modified: src/qpid/broker/DirectExchange.cpp|4 1
Modified: src/qpid/broker/Exchange.cpp|1 0
Modified: src/qpid/broker/FanOutExchange.cpp|4 1
Modified: src/qpid/broker/HeadersExchange.cpp|4 1
Modified: src/qpid/broker/Queue.cpp|2 0
Modified: src/qpid/broker/SemanticState.cpp|3 1
Modified: src/qpid/broker/SessionState.cpp|2 0
Modified: src/qpid/broker/System.cpp|6 0
Modified: src/qpid/broker/System.h|2 0
Modified: src/qpid/broker/TopicExchange.cpp|4 1
Modified: src/qpid/broker/Vhost.cpp|5 0
Modified: src/qpid/broker/Vhost.h|2 0
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|1 0
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|2 0
Modified: src/qpid/xml/XmlExchange.cpp|2 0

Revision: 58f5e174f44fa72b573a6613513e9c58a689f75a
Author: Gordon Sim <gsim@apache.org>
Date: 07/09/2013 03:37:52
Message:
QPID-4932: expose reconnect&replay logic for application to control itself #MsgLength=75


----
Modified: examples/messaging/CMakeLists.txt|2 0
Added: examples/messaging/server_reconnect.cpp|97 0
Modified: include/qpid/messaging/Connection.h|27 0
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/Connection.h|1 1
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|43 4
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|4 1
Modified: src/qpid/messaging/Connection.cpp|14 0
Modified: src/qpid/messaging/ConnectionImpl.h|3 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|67 29
Modified: src/qpid/messaging/amqp/ConnectionContext.h|6 2
Modified: src/qpid/messaging/amqp/ConnectionHandle.cpp|13 0
Modified: src/qpid/messaging/amqp/ConnectionHandle.h|3 0

Revision: 2a3cbcc827e123685e20a1457a60cffbe3b0eea9
Author: Charles E. Rolke <chug@apache.org>
Date: 09/09/2013 09:05:14
Message:
QPID-4932: expose reconnect&replay logic QPID-5120: install on windows installs checked-in solution/project files #MsgLength=181


----
Added: examples/messaging/messaging_server_reconnect.vcproj|442 0

Revision: ef11c4aa5b39914d528f8006ae5b5747af9a6b1d
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2013 01:08:23
Message:
QPID-4327: HA support for TX transactions - fix auth bugs. #MsgLength=206


----
Modified: src/qpid/ha/Backup.cpp|1 3
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|1 4
Modified: src/qpid/ha/HaBroker.h|3 3
Modified: src/qpid/ha/PrimaryTxObserver.cpp|2 1
Modified: src/qpid/ha/StatusCheck.cpp|22 16
Modified: src/qpid/ha/StatusCheck.h|6 4
Modified: src/qpid/ha/TxReplicator.cpp|2 1
Modified: src/tests/ha_test.py|1 1
Modified: src/tests/ha_tests.py|12 6

Revision: 6e334c3ba2edc1f89b0d3ac5f661d33e52f4c98d
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2013 01:08:30
Message:
QPID-4327: HA support for TX transactions - consistent use of QueueRegistry::get #MsgLength=81


----
Modified: src/qpid/broker/SemanticState.cpp|1 3
Modified: src/qpid/broker/SessionAdapter.cpp|1 3

Revision: d9da34c7bb980ff4c677a774894920930ff84f79
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2013 01:08:39
Message:
QPID-4327: HA support for TX transactions - fix TX error messages. #MsgLength=318


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 5
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/PrimaryTxObserver.cpp|22 11
Modified: src/qpid/ha/PrimaryTxObserver.h|2 1
Modified: src/qpid/ha/QueueReplicator.cpp|3 13
Modified: src/qpid/ha/QueueReplicator.h|0 2
Modified: src/qpid/ha/ReplicationTest.h|7 0
Modified: src/qpid/ha/TxReplicator.cpp|9 6
Modified: src/tests/ha_test.py|2 2
Modified: src/tests/ha_tests.py|5 6

Revision: f1f662333b761c74169b9b6b028e7b1ec4566415
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/09/2013 09:48:58
Message:
QPID-5123: Changes to Fedora 19 packaging of libdb4 prevents legacystore from building #MsgLength=87


----
Modified: src/finddb.cmake|11 9
Modified: src/legacystore.cmake|2 2
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|1 1

Revision: 2685941b820750518218de3fe91de5de91813b92
Author: Pavel Moravec <pmoravec@apache.org>
Date: 10/09/2013 17:20:04
Message:
QPID-5124: durable LVQ raises journal error when only transient messages are sent #MsgLength=82


----
Modified: src/qpid/broker/Lvq.cpp|2 1

Revision: 8787ca939ef7adb5c05a4e230861f1d0ed2f61b5
Author: Gordon Sim <gsim@apache.org>
Date: 10/09/2013 19:03:20
Message:
QPID-5122: cleaner encoding of index for delivery tags #MsgLength=55


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|14 4
Modified: src/qpid/broker/amqp/Outgoing.h|3 0

Revision: 23ab1d6dcde16dfc1c8f99276528168a81149240
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 11/09/2013 04:24:29
Message:
QPID-5126: Fix for building legacy store on ARM platforms #MsgLength=116


----
Modified: src/qpid/legacystore/jrnl/jcfg.h|2 2

Revision: fa044b139ca830ccf4b4e781ae2f7785d838f4a2
Author: Alan Conway <aconway@apache.org>
Date: 11/09/2013 04:47:27
Message:
NO-JIRA: Demote fail over message from notice to info. #MsgLength=135


----
Modified: src/qpid/broker/Link.cpp|1 1

Revision: e4f88bb3c1dcd271d43027fce401e3a3019b3f04
Author: Gordon Sim <gsim@apache.org>
Date: 12/09/2013 00:05:46
Message:
QPID-5130: map type to exchange-type when translating old x-declare clause into node properties #MsgLength=96


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|14 0

Revision: 1a08f59d1f2ec3753b4553c0a54ae89e8876988f
Author: Gordon Sim <gsim@apache.org>
Date: 12/09/2013 00:40:08
Message:
QPID-5131: make 1.0 content available to xml exchange #MsgLength=54


----
Modified: src/qpid/broker/amqp/Message.cpp|6 2

Revision: 0f8470d25bb9fe965bdc703a6b3fc52b7522c7d3
Author: Alan Conway <aconway@apache.org>
Date: 12/09/2013 03:05:36
Message:
NO-JIRA: HA Rationalize naming of Membership functions #MsgLength=55


----
Modified: src/qpid/ha/HaBroker.cpp|2 2
Modified: src/qpid/ha/HaBroker.h|1 1
Modified: src/qpid/ha/Membership.cpp|3 14
Modified: src/qpid/ha/Membership.h|4 9
Modified: src/qpid/ha/TxReplicator.cpp|1 1

Revision: 2057061311018a7701dec15657ccda80035eb7fd
Author: Alan Conway <aconway@apache.org>
Date: 12/09/2013 04:53:22
Message:
QPID-5132: HA crash in test_tx_join_leave caused by double delete of queue. #MsgLength=457


----
Modified: src/qpid/broker/QueueRegistry.cpp|3 1
Modified: src/qpid/ha/BrokerReplicator.cpp|2 1
Modified: src/qpid/ha/PrimaryTxObserver.cpp|18 9
Modified: src/qpid/ha/PrimaryTxObserver.h|1 1
Modified: src/qpid/ha/TxReplicator.cpp|13 10
Modified: src/qpid/ha/TxReplicator.h|3 1
Modified: src/tests/ha_tests.py|2 5

Revision: 41f4f99ed4211639c51837a070559270df606a27
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 12/09/2013 05:13:06
Message:
QPID-5133: Add option to the spout examples to enable durable messages #MsgLength=248


----
Modified: bindings/qpid/examples/perl/spout.pl|5 0
Modified: bindings/qpid/ruby/examples/spout.rb|7 0
Modified: examples/messaging/spout.cpp|10 1

Revision: 3f274d16b6c502eb7d0e87fe094146d2c715cb1e
Author: Gordon Sim <gsim@apache.org>
Date: 12/09/2013 17:26:30
Message:
QPID-5122: QPID-5134: fix build on windows by avoiding use of templated Buffer method (don't need variable sized delivery tag) #MsgLength=127


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|9 6
Modified: src/qpid/broker/amqp/Outgoing.h|6 2

Revision: 3d2f558aaa541848a688aed8696d084bce2d11a8
Author: Charles E. Rolke <chug@apache.org>
Date: 13/09/2013 01:25:01
Message:
QPID-5103: Support for finding an installed proton that works on windows Use in conjunction with commit associated with PROTON-413. 1. In proton: cmake -DCMAKE_INSTALL_PREFIX=P:/install ... 2.            devenv proton.sln /build "Debug|Win32" /project INSTALL 3. In qpid:   cmake -DPROTON_ROOT=P:/install ... 4.            devenv qpid-cpp.sln /build "Debug|Win32 /project INSTALL #MsgLength=381


----
Modified: src/amqp.cmake|23 0

Revision: 09166bc031d6072b7ef1522bbee5fd9133087f99
Author: Charles E. Rolke <chug@apache.org>
Date: 13/09/2013 01:46:15
Message:
QPID-5122: windows cleanup #MsgLength=27


----
Modified: src/qpid/amqp/Encoder.h|1 1

Revision: 564dcf98adc977b262d179ca19bcab1f85c4ba2d
Author: Alan Conway <aconway@apache.org>
Date: 13/09/2013 04:14:17
Message:
QPID-4944: HA re-enable test_failover_send_receive #MsgLength=375


----
Modified: src/tests/brokertest.py|2 2
Modified: src/tests/ha_test.py|14 8
Modified: src/tests/ha_tests.py|19 16

Revision: fafa6dc496a3bd8fc3d681d4d493e115e485d8c1
Author: Alan Conway <aconway@apache.org>
Date: 14/09/2013 04:47:37
Message:
QPID-4944: HA fix failure of test_failover_send_receive on slow machines. #MsgLength=414


----
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_tests.py|1 1

Revision: 46a4f9d027164abee94364755f9cd90c9118c2a9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/09/2013 06:46:49
Message:
QPID-5134: Export specialized versions of qpid::framing::Buffer::getUInt from qpidcommon DLL #MsgLength=93


----
Modified: src/qpid/framing/Buffer.cpp|8 8

Revision: 59dff17282ecc6d840748d0ba442ab7722ed837a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/09/2013 06:46:53
Message:
NO-JIRA: missing includes that are really needed #MsgLength=49


----
Modified: src/qpid/ha/QueueReplicator.h|1 0
Modified: src/qpid/log/Logger.cpp|1 0
Modified: src/tests/ClientSessionTest.cpp|1 0
Modified: src/tests/MessageReplayTracker.cpp|2 0
Modified: src/tests/MessagingFixture.h|2 0
Modified: src/tests/QueuePolicyTest.cpp|2 0

Revision: ae48d943d3b4a2baf3cfe47d0aa0dc24760a80ce
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2013 02:01:54
Message:
QPID-5141: always set content object on 0-10 path (unless explicitly asked not to) #MsgLength=83


----
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|12 0

Revision: e5c07af3683172d05d770b20cf3f61594989fc6c
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2013 02:02:01
Message:
QPID-5143: don't include transport in default url as it overrides any connection option #MsgLength=88


----
Modified: src/qpid/messaging/Connection.cpp|1 1
Modified: src/tests/qpid-receive.cpp|1 1
Modified: src/tests/qpid-send.cpp|1 1

Revision: 2d7514e3012c5c9d2e72551e7acee6c60f9db16a
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 03:55:14
Message:
QPID-4952: Renamed the Swig Python binding module to qpid_messaging #MsgLength=68


----
Modified: bindings/qpid/python/CMakeLists.txt|9 9
Modified: bindings/qpid/python/extra_dist/CMakeLists.txt|9 9
Modified: bindings/qpid/python/python.i|7 6

Revision: bac58b98cbedfaefa3fa968c352d5d7b65077182
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 04:02:00
Message:
QPID-4952: Added ChangeLog entry for Python rename. #MsgLength=52


----
Modified: bindings/qpid/python/ChangeLog|3 1

Revision: 99fd0812ffa2b4ad5888feb983f3cc6002bfdc78
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 04:20:16
Message:
QPID-5140: Add get/set methods to MessageProperties #MsgLength=143


----
Modified: bindings/qpid/python/ChangeLog|1 0
Modified: bindings/qpid/python/python.i|7 0

Revision: 440833c91e2add54ee4ae00554ced092c4633888
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2013 05:13:12
Message:
NO-JIRA: added -l USER option to rsynchosts script. #MsgLength=52


----
Modified: src/tests/rsynchosts|10 2

Revision: e71747a34bd23797074364df3773ecb25780fc04
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2013 05:13:20
Message:
NO-JIRA: HA minor log improvement in StatusCheck #MsgLength=49


----
Modified: src/qpid/ha/StatusCheck.cpp|2 0

Revision: e5ce0fe2f874f8dd7859aef6e00cd41b8d20f580
Author: Alan Conway <aconway@apache.org>
Date: 19/09/2013 05:13:27
Message:
NO-JIRA: HA Primary should not log messages for unreplicated queues and exchanges. #MsgLength=83


----
Modified: src/qpid/ha/Primary.cpp|17 13

Revision: 5ea606769fd873bba6209f4b67dabbea4362d2e8
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 05:15:16
Message:
QPID-4924: Fixed the Python examples to use the new Python module #MsgLength=255


----
Modified: bindings/qpid/python/ChangeLog|2 1

Revision: 8b9e305d0c0ee6f118b4765a18d8fec6042e970b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 05:15:19
Message:
QPID-4924: Created the console Python example app. #MsgLength=137


----
Modified: bindings/qpid/python/ChangeLog|1 1

Revision: 5ba11ed4e210bb74468d66e8e063a02949d43397
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/09/2013 05:15:24
Message:
QPID-4924: Move the Python examples under the bindings directory. #MsgLength=112


----
Added: bindings/qpid/examples/python/console|99 0
Added: bindings/qpid/examples/python/drain|102 0
Added: bindings/qpid/examples/python/hello|56 0
Added: bindings/qpid/examples/python/hello_xml|81 0
Added: bindings/qpid/examples/python/server|100 0
Added: bindings/qpid/examples/python/spout|139 0
Added: bindings/qpid/examples/python/statistics.py|139 0

Revision: 6a740fcc43b85c569278fb9712f4ebd0b07d8418
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2013 17:32:13
Message:
QPID-4952: Fix swigged python tests which were disabled by previous commit #MsgLength=75


----
Modified: src/tests/test_env.sh.in|1 1

Revision: 7010eb2145f224f9275ae6109fa6f57e1c367cf2
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2013 23:43:34
Message:
QPID-5146: fix handling of capabilities #MsgLength=40


----
Modified: src/qpid/broker/amqp/Session.cpp|89 32
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|27 12
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 2

Revision: 5f220be5eedf96e89fbb78725b08fab0a2bc6e98
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2013 23:43:41
Message:
QPID-5147: improvements to error handling #MsgLength=42


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|16 8
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 1

Revision: 0e422f0b1a2ddc6a1a80cb526abd544ad0e87452
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2013 23:43:49
Message:
QPID-5148: proper handling of ttl on 1.0 path #MsgLength=46


----
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Message.h|1 1
Modified: src/qpid/broker/amqp/Incoming.cpp|3 1
Modified: src/qpid/broker/amqp/Incoming.h|1 0

Revision: 7549866c0b8651e5bda13f154b7a45cd039750bb
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2013 23:43:57
Message:
QPID-5149: truncate over large routing keys when translating from 1.0 to 0-10 #MsgLength=78


----
Modified: src/qpid/broker/amqp/Translation.cpp|6 1
Modified: src/tests/interlink_tests.py|3 0

Revision: 64614b56f624e72dac4efb571afcceaa737295bb
Author: Gordon Sim <gsim@apache.org>
Date: 20/09/2013 23:44:05
Message:
QPID-5150: fixes for QMFv2 over AMQP 1.0 #MsgLength=41


----
Modified: src/qpid/broker/amqp/Translation.cpp|5 0
Modified: src/qpid/management/ManagementAgent.cpp|11 8
Modified: src/qpid/management/ManagementAgent.h|2 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|2 1

Revision: 289f81f4e4dd4c439a29b8a259aa342a68d61829
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2013 00:10:06
Message:
QPID-5140: removed unnecessary and peculiar assignment #MsgLength=55


----
Modified: bindings/qpid/python/python.i|0 1

Revision: e61f314f15e33c6ff8b599f0d8bff4a8cfeabcdb
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2013 02:34:59
Message:
QPID-5151: reroute messages to alt exchange if not delievered to any queues #MsgLength=76


----
Modified: src/qpid/broker/amqp/Session.cpp|5 0

Revision: 97b928fd72c052e389c2317c626bd11c91816cab
Author: Gordon Sim <gsim@apache.org>
Date: 21/09/2013 02:35:07
Message:
QPID-5152: handling of exchange properties for create-on-demand with 1.0 #MsgLength=73


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|5 0
Modified: src/qpid/broker/amqp/NodeProperties.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|2 0

Revision: e6874ecbbec6dd5fddfce9de32e2d5d52fa17eff
Author: Gordon Sim <gsim@apache.org>
Date: 23/09/2013 17:24:41
Message:
QPID-5146: fix for older boost (or perhaps older compiler) #MsgLength=59


----
Modified: src/qpid/broker/amqp/Session.cpp|4 2

Revision: 890669a5e8a59256b803915e9e18d8e66752a2c6
Author: Gordon Sim <gsim@apache.org>
Date: 23/09/2013 21:25:32
Message:
QPID-5153: Implement Encoding::getPropertyAsString() for 1.0 format message #MsgLength=76


----
Modified: src/qpid/broker/amqp/Message.cpp|64 5
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 1

Revision: 3a4b5aad5cc1d03f10546e1babbbb8e96a7a8f2e
Author: Justin Ross <jross@apache.org>
Date: 23/09/2013 21:38:45
Message:
QPID-5084: Track durable queue ownership across restarts; a patch from Pavel Moravec and Ernie Allen #MsgLength=101


----
Modified: src/qpid/broker/Broker.cpp|5 0
Modified: src/qpid/broker/Queue.cpp|15 0
Modified: src/qpid/broker/Queue.h|5 0
Modified: src/qpid/broker/QueueRegistry.cpp|2 0

Revision: ec3e1b80ef9f2266e0ff8019f71eb0703d0c5e2e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/09/2013 05:18:25
Message:
QPID-2926: Better solution for instantiating qpid::messaging::Handle<> specialisations #MsgLength=87


----
Modified: include/qpid/messaging/Handle.h|5 4
Modified: src/CMakeLists.txt|0 8
Modified: src/qpid/messaging/Connection.cpp|3 0
Deleted: src/qpid/messaging/HandleInstantiator.cpp|0 64
Modified: src/qpid/messaging/Receiver.cpp|3 0
Modified: src/qpid/messaging/Sender.cpp|4 0
Modified: src/qpid/messaging/Session.cpp|3 0

Revision: 93a52a921d444041c9cac846c9db86c6bc33e2b9
Author: Gordon Sim <gsim@apache.org>
Date: 24/09/2013 19:26:07
Message:
QPID-5156: check node properties on assert #MsgLength=43


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|81 13
Modified: src/qpid/broker/amqp/NodeProperties.h|6 1
Modified: src/qpid/broker/amqp/Session.cpp|19 12
Modified: src/qpid/broker/amqp/Session.h|0 2
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|198 2

Revision: 17490934162d71f7ba51af4d59b63a94dc562bf0
Author: Gordon Sim <gsim@apache.org>
Date: 24/09/2013 19:26:14
Message:
QPID-5156: add tests for assert functionality #MsgLength=46


----
Added: src/tests/assertions.py|128 0
Modified: src/tests/swig_python_tests|1 1

Revision: 2326dd2b6b372e38ca2de0a1b23658a240649c28
Author: Gordon Sim <gsim@apache.org>
Date: 24/09/2013 21:10:59
Message:
QPID-5168: less restrictive treatment of reply to addresses #MsgLength=60


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|9 1

Revision: acb633abd1d3a92ae44fa2c83786f87780a8dcb9
Author: Gordon Sim <gsim@apache.org>
Date: 25/09/2013 00:27:32
Message:
QPID-5170: if peer settles without setting state, treat as accept #MsgLength=66


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|5 1

Revision: b2b69cb0d12430d69dd4cc51cf2707bea2eb46f2
Author: Charles E. Rolke <chug@apache.org>
Date: 25/09/2013 01:46:47
Message:
QPID-5155: Install proton library when included in windows build #MsgLength=67


----
Modified: src/amqp.cmake|13 0

Revision: 22dee2712762471bfb4acb5e165e13b87f04c2c2
Author: Gordon Sim <gsim@apache.org>
Date: 25/09/2013 02:43:44
Message:
QPID-5142: require swig client to be explicitly selected for tests #MsgLength=67


----
Modified: src/tests/swig_python_tests|1 0

Revision: e453677fcc114f71790c615661be78a423d9aa0c
Author: Charles E. Rolke <chug@apache.org>
Date: 25/09/2013 03:30:38
Message:
QPID-4604: C++ Broker queue creation limit bugfix - patch from Ernie Allen Don't count a queue creation against a queue that already exists. #MsgLength=143


----
Modified: src/qpid/broker/Broker.cpp|3 2

Revision: 5b41e2dad0f4132918d4331b0caf264c91c7756f
Author: Gordon Sim <gsim@apache.org>
Date: 25/09/2013 19:28:19
Message:
QPID-5150: further fixes for QMFv2 over AMQP 1.0; use content from converted 0-10 transfer rather than message as received #MsgLength=123


----
Modified: src/qpid/management/ManagementAgent.cpp|11 9

Revision: b92b4c8e7cbe2979d1cf3ffe9b7f9f02f654bc5a
Author: Gordon Sim <gsim@apache.org>
Date: 25/09/2013 20:40:17
Message:
QPID-5156: prevent tests for assert functionality with swigged client failing on RHEL5 #MsgLength=87


----
Modified: src/tests/assertions.py|13 0

Revision: cad4cf8094ee329c26c48447a91f3b4c3e4509e1
Author: Gordon Sim <gsim@apache.org>
Date: 25/09/2013 21:48:25
Message:
QPID-5156: export broker symbol now used in amqp module #MsgLength=56


----
Modified: src/qpid/broker/QueueSettings.h|1 1

Revision: 99fd570c26c713936013a00318185883edf40a11
Author: Justin Ross <jross@apache.org>
Date: 27/09/2013 02:19:17
Message:
QPID-5169: CRAM-MD5, not CRAM-MD; a patch from Ernie Allen #MsgLength=59


----
Modified: src/tests/ping_broker|1 1

Revision: 31d696726f01c1b04347d921e95aa0ff52a5bcc3
Author: Alan Conway <aconway@apache.org>
Date: 27/09/2013 06:20:04
Message:
NO-JIRA: HA Fix typo in qpid-cluster-benchmark. #MsgLength=48


----
Modified: src/tests/qpid-cluster-benchmark|1 1

Revision: 32874a339e7e485099060cc3fcb5a049b8d915dd
Author: Charles E. Rolke <chug@apache.org>
Date: 28/09/2013 01:14:56
Message:
QPID-5187: Properly distribute ampqc.dll and amqpcd.dll in WinSDK #MsgLength=66


----
Modified: bld-winsdk.ps1|3 1

Revision: c9afee75435a82bfd9d84211e261b98625d166f3
Author: Charles E. Rolke <chug@apache.org>
Date: 28/09/2013 02:53:15
Message:
QPID-5188: Discover path to qpid sources and don't use hard coded 'qpid'. #MsgLength=74


----
Modified: bld-winsdk.ps1|1 1

Revision: cdd4feecb36ea2fad457daaba0a6220b6602e659
Author: Charles E. Rolke <chug@apache.org>
Date: 28/09/2013 05:14:50
Message:
NO-JIRA: Show and save cmake command line #MsgLength=42


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|17 8

Revision: 49d92aff8c68dbd94a673952df9133bc6627165f
Author: Charles E. Rolke <chug@apache.org>
Date: 01/10/2013 06:20:34
Message:
QPID-5196: Messaging example hello_world core dumps when given a bad connection option Move connection constructor into try-catch block #MsgLength=138


----
Modified: examples/messaging/hello_world.cpp|4 5

Revision: b4d6d42d60d5ce56bdc64d961eaa2599f432b397
Author: Gordon Sim <gsim@apache.org>
Date: 01/10/2013 19:31:33
Message:
QPID-5200: Allow size limit to be disabled #MsgLength=43


----
Modified: src/qpid/broker/Queue.cpp|9 1
Modified: src/qpid/broker/QueueSettings.cpp|2 2

Revision: e9e40141e482e0ac6e6a57dba2cd112140281600
Author: Gordon Sim <gsim@apache.org>
Date: 01/10/2013 21:30:58
Message:
QPID-5198: ensure qpid::Exception does not leak out from qpid::messaging #MsgLength=73


----
Modified: src/qpid/messaging/ProtocolRegistry.cpp|2 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|92 79
Modified: src/qpid/messaging/amqp/SenderContext.cpp|56 50

Revision: 8ba85255bb7747cf216a9721221de06f15967267
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/10/2013 03:14:19
Message:
QPID-5176: Simplify CMake specification now that we don't need to compile different files in qpidmessaging differently. This also avoids some Visual Studio 2008 breakage. #MsgLength=175


----
Modified: src/CMakeLists.txt|3 14

Revision: 9312f9063d75819608f58d77527baea2107f392c
Author: Gordon Sim <gsim@apache.org>
Date: 03/10/2013 21:31:12
Message:
QPID-5199: take 0-10 header segment into account for message size #MsgLength=66


----
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Message.h|2 2
Modified: src/qpid/broker/Queue.cpp|10 10
Modified: src/qpid/broker/QueueFlowLimit.cpp|2 2
Modified: src/qpid/broker/ThresholdAlerts.cpp|2 2
Modified: src/qpid/broker/amqp/Message.cpp|1 5
Modified: src/qpid/broker/amqp/Message.h|1 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|5 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 0
Modified: src/tests/MessageTest.cpp|1 1
Modified: src/tests/QueueFlowLimitTest.cpp|88 82
Modified: src/tests/QueuePolicyTest.cpp|9 4

Revision: f13b4f8b1595f69131dbeb5079b4def519f6809c
Author: Alan Conway <aconway@apache.org>
Date: 04/10/2013 23:52:48
Message:
QPID-5197: Remove obsolete --cluster-durable/persistLastNode options in C++ and python. #MsgLength=88


----
Modified: src/qpid/client/QueueOptions.cpp|0 11
Modified: src/qpid/client/QueueOptions.h|0 12
Modified: src/tests/QueueOptionsTest.cpp|0 17

Revision: 198f78b660033d9d285bae469304c1158027f7a0
Author: Charles E. Rolke <chug@apache.org>
Date: 05/10/2013 01:41:50
Message:
QPID-5115: AMQP 1.0 client support built in to qpidmessaging for all platforms This commit disposes of the amqpc library and moves the functions into the qpidmessaging library. Now any client that loads qpidmessaging gets amqp0-10 and amqp1.0 selectable through the connection protocol option. C++ brokers still must load the amqp library to enable 1.0 support. #MsgLength=364


----
Modified: bld-winsdk.ps1|1 3
Modified: src/CMakeLists.txt|2 1
Modified: src/amqp.cmake|4 9
Modified: src/tests/brokertest.py|0 1
Modified: src/tests/interlink_tests.py|0 1
Modified: src/tests/swig_python_tests|1 2
Modified: src/tests/test_env.sh.in|0 1

Revision: 75ac23085bce2888e3657d8717457c044e462d7b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 05/10/2013 03:21:00
Message:
QPID-4730: Losing object references in Perl. #MsgLength=91


----
Modified: include/qpid/swig_perl_typemaps.i|8 4

Revision: 55960c6f57c5afd47b7c649e03fc30f8e0db4dee
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/10/2013 23:08:44
Message:
QPID-4582: Get legacystore unit tests working #MsgLength=46


----
Modified: src/CMakeLists.txt|1 0
Modified: src/legacystore.cmake|20 0
Modified: src/tests/legacystore/CMakeLists.txt|10 18
Modified: src/tests/legacystore/OrderingTest.cpp|10 7
Modified: src/tests/legacystore/SimpleTest.cpp|17 14
Modified: src/tests/legacystore/TransactionalTest.cpp|9 6
Modified: src/tests/legacystore/TwoPhaseCommitTest.cpp|9 6
Deleted: src/tests/legacystore/run_test|0 69

Revision: 9f7ad12f37fd8609e6fbcbe0f9c2ea0e5c70d72f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/10/2013 23:09:00
Message:
QPID-5215: Import rest of legacy store tests and utilities from original code #MsgLength=78


----
Modified: src/tests/legacystore/CMakeLists.txt|87 8
Added: src/tests/legacystore/federation/Makefile.am|46 0
Added: src/tests/legacystore/federation/federation_tests_env.sh|313 0
Added: src/tests/legacystore/federation/run_federation_sys_tests|96 0
Added: src/tests/legacystore/federation/run_long_federation_sys_tests|24 0
Added: src/tests/legacystore/jrnl/_st_auto_expand.cpp|140 0
Added: src/tests/legacystore/jrnl/_st_basic.cpp|558 0
Added: src/tests/legacystore/jrnl/_st_basic_txn.cpp|239 0
Added: src/tests/legacystore/jrnl/_st_helper_fns.h|882 0
Added: src/tests/legacystore/jrnl/_st_read.cpp|460 0
Added: src/tests/legacystore/jrnl/_st_read_txn.cpp|353 0
Added: src/tests/legacystore/jrnl/_ut_enq_map.cpp|320 0
Added: src/tests/legacystore/jrnl/_ut_jdir.cpp|416 0
Added: src/tests/legacystore/jrnl/_ut_jerrno.cpp|47 0
Added: src/tests/legacystore/jrnl/_ut_jexception.cpp|346 0
Added: src/tests/legacystore/jrnl/_ut_jinf.cpp|402 0
Added: src/tests/legacystore/jrnl/_ut_lpmgr.cpp|886 0
Added: src/tests/legacystore/jrnl/_ut_rec_hdr.cpp|438 0
Added: src/tests/legacystore/jrnl/_ut_time_ns.cpp|163 0
Added: src/tests/legacystore/jrnl/_ut_txn_map.cpp|106 0
Added: src/tests/legacystore/jrnl/chk_jdata|32 0
Added: src/tests/legacystore/jrnl/cp_rtest_jrnl|59 0
Added: src/tests/legacystore/jrnl/jhexdump|41 0
Added: src/tests/legacystore/jrnl/jtt/_ut_data_src.cpp|207 0
Added: src/tests/legacystore/jrnl/jtt/_ut_jrnl_init_params.cpp|100 0
Added: src/tests/legacystore/jrnl/jtt/_ut_jrnl_instance.cpp|178 0
Added: src/tests/legacystore/jrnl/jtt/_ut_read_arg.cpp|146 0
Added: src/tests/legacystore/jrnl/jtt/_ut_test_case.cpp|113 0
Added: src/tests/legacystore/jrnl/jtt/_ut_test_case_result.cpp|206 0
Added: src/tests/legacystore/jrnl/jtt/_ut_test_case_result_agregation.cpp|178 0
Added: src/tests/legacystore/jrnl/jtt/_ut_test_case_set.cpp|147 0
Added: src/tests/legacystore/jrnl/jtt/_ut_test_case_set.csv|74 0
Added: src/tests/legacystore/jrnl/jtt/args.cpp|226 0
Added: src/tests/legacystore/jrnl/jtt/args.h|66 0
Added: src/tests/legacystore/jrnl/jtt/data_src.cpp|87 0
Added: src/tests/legacystore/jrnl/jtt/data_src.h|66 0
Added: src/tests/legacystore/jrnl/jtt/jfile_chk.py|838 0
Added: src/tests/legacystore/jrnl/jtt/jrnl_init_params.cpp|77 0
Added: src/tests/legacystore/jrnl/jtt/jrnl_init_params.h|80 0
Added: src/tests/legacystore/jrnl/jtt/jrnl_instance.cpp|439 0
Added: src/tests/legacystore/jrnl/jtt/jrnl_instance.h|121 0
Added: src/tests/legacystore/jrnl/jtt/jtt.csv|234 0
Added: src/tests/legacystore/jrnl/jtt/main.cpp|57 0
Added: src/tests/legacystore/jrnl/jtt/read_arg.cpp|93 0
Added: src/tests/legacystore/jrnl/jtt/read_arg.h|62 0
Added: src/tests/legacystore/jrnl/jtt/test_case.cpp|179 0
Added: src/tests/legacystore/jrnl/jtt/test_case.h|110 0
Added: src/tests/legacystore/jrnl/jtt/test_case_result.cpp|201 0
Added: src/tests/legacystore/jrnl/jtt/test_case_result.h|100 0
Added: src/tests/legacystore/jrnl/jtt/test_case_result_agregation.cpp|185 0
Added: src/tests/legacystore/jrnl/jtt/test_case_result_agregation.h|81 0
Added: src/tests/legacystore/jrnl/jtt/test_case_set.cpp|169 0
Added: src/tests/legacystore/jrnl/jtt/test_case_set.h|99 0
Added: src/tests/legacystore/jrnl/jtt/test_mgr.cpp|218 0
Added: src/tests/legacystore/jrnl/jtt/test_mgr.h|68 0
Added: src/tests/legacystore/jrnl/prof|32 0
Added: src/tests/legacystore/jrnl/run-journal-tests|47 0
Added: src/tests/legacystore/jrnl/tests.ods|0 0
Added: src/tests/legacystore/python_tests/__init__.py|24 0
Added: src/tests/legacystore/python_tests/client_persistence.py|234 0
Added: src/tests/legacystore/python_tests/resize.py|167 0
Added: src/tests/legacystore/python_tests/store_test.py|416 0
Modified: src/tests/legacystore/run_python_tests|9 31

Revision: 819be254acb0ef64fa7fd99beda903176c871d1c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/10/2013 23:09:05
Message:
QPID-5129: Alignment issues on ARM #MsgLength=35


----
Modified: src/qpid/legacystore/jrnl/deq_rec.cpp|4 2
Modified: src/qpid/legacystore/jrnl/enq_rec.cpp|4 2
Modified: src/qpid/legacystore/jrnl/txn_rec.cpp|2 1

Revision: 412c77e64056b57f72b228328520af1320e4ffbc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2013 04:13:22
Message:
NO-JIRA: Stop compile warnings on RHEL5 #MsgLength=40


----
Modified: src/CMakeLists.txt|3 3

Revision: 0500019ca666062b30b25bf9a508dba34db72d0b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/10/2013 23:35:00
Message:
QPID-4582: Fixed unit legacystore unit test to remove warning under RHEL5 #MsgLength=74


----
Modified: src/tests/legacystore/SimpleTest.cpp|2 2

Revision: 6f60cb357aecfde4fd8dcf82a22125a7d392155b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/10/2013 04:06:14
Message:
QPID-5213: Fix QMF code to use qpid_messaging rather than cqpid. #MsgLength=65


----
Modified: bindings/qmf2/examples/python/agent.py|2 2
Modified: bindings/qmf2/examples/python/find_agents.py|2 2
Modified: bindings/qmf2/python/qmf2.py|8 8

Revision: 8537503fa0e45f9b14fe5c8c66c1d65b54b589a2
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:41:32
Message:
QPID-5227: correct setting of redelivered flag #MsgLength=47


----
Modified: src/qpid/broker/Message.h|1 1

Revision: d676480a0b661c9d798056fa225ea9bdf624987e
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:41:39
Message:
QPID-5230: request that explicitly released messages be marked as redelivered on subsequent delivery attempts #MsgLength=110


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1

Revision: 1ead4124b0a57f33d3b6139bf29b42fab86f3dfa
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:41:45
Message:
QPID-5228: allow alternate exchange to be set on 1.0 subscription queues #MsgLength=73


----
Modified: src/qpid/broker/amqp/Session.cpp|3 1
Modified: src/qpid/broker/amqp/Topic.cpp|11 4
Modified: src/qpid/broker/amqp/Topic.h|2 0

Revision: 2753c0c4aa1d6d70a25a071cd9b694fb34ec954e
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:41:53
Message:
QPID-5229: implement release and reject #MsgLength=40


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|3 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|8 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|17 0
Modified: src/qpid/messaging/amqp/SessionContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|4 5

Revision: 3d2d1f00d5da67bc61b105f7ec5c66eb014e817b
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:42:01
Message:
QPID-5232: make subscriptions unreliable and autodeleted by default #MsgLength=68


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|14 2
Modified: src/qpid/broker/amqp/Session.cpp|3 2
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|7 0

Revision: 08a7ab0ad6b2c4331f6d3c1fe6c4e76a2aff10ad
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:42:08
Message:
QPID-5233: match default sender capacity to that for 0-10 codepath #MsgLength=67


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 1

Revision: 4c5e34655a71588c755c7227e2ec3621ca1bab59
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:42:14
Message:
QPID-5227: QPID-5230: added tests for redelivered flag on browse and release #MsgLength=77


----
Modified: src/tests/MessagingSessionTests.cpp|9 0

Revision: acf8d19ffa4d13f6d5f970c7e8fac5d65450cf5f
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:42:20
Message:
QPID-5229: tests for reject and release over 1.0 #MsgLength=49


----
Added: src/tests/reject_release.py|65 0
Modified: src/tests/swig_python_tests|1 1

Revision: 5f4c0c8f26c4468002284d387f17eb99f5a2b109
Author: Gordon Sim <gsim@apache.org>
Date: 15/10/2013 20:42:27
Message:
QPID-5235: populate store settings for dynamically created queues #MsgLength=66


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|2 0

Revision: ee68599a8d8e57eaf83f0bc81215ee087f78a79e
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/10/2013 21:10:38
Message:
Revert "QPID-5213: Fix QMF code to use qpid_messaging rather than cqpid." #MsgLength=182


----
Modified: bindings/qmf2/examples/python/agent.py|2 2
Modified: bindings/qmf2/examples/python/find_agents.py|2 2
Modified: bindings/qmf2/python/qmf2.py|8 8

Revision: 06290a2f1fea020a534c2fb37f37b46feba79f56
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/10/2013 21:10:41
Message:
QPID-5231: Fix QMF code to use qpid_messaging rather than cqpid. #MsgLength=65


----
Modified: bindings/qmf2/examples/python/agent.py|2 2
Modified: bindings/qmf2/examples/python/find_agents.py|2 2
Modified: bindings/qmf2/python/qmf2.py|8 8

Revision: 67e62ec5dbeb3bf1dd3341539dcc54b495c2f218
Author: Gordon Sim <gsim@apache.org>
Date: 16/10/2013 00:05:54
Message:
QPID-4582, QPID-5215: fix linking errors for clock_gettime #MsgLength=59


----
Modified: src/legacystore.cmake|2 0
Modified: src/tests/legacystore/CMakeLists.txt|3 3

Revision: f582a1173cea47718a16554ee9802030466c6b5b
Author: Gordon Sim <gsim@apache.org>
Date: 16/10/2013 00:06:01
Message:
QPID-5236: correct symbolic descriptor for amqp value section #MsgLength=62


----
Modified: src/qpid/amqp/descriptors.h|1 1

Revision: 448c2a38cccdc5fba97ad51377e2c86dc3fd7859
Author: Justin Ross <jross@apache.org>
Date: 16/10/2013 05:28:49
Message:
QPID-5035: Revert change 1510657, which incorrectly altered the config precedence #MsgLength=82


----
Modified: etc/qpidd.in|2 1

Revision: 7f0736fcc11d59822e7e737789bb9fe7971c7330
Author: Gordon Sim <gsim@apache.org>
Date: 16/10/2013 19:05:06
Message:
QPID-5239: preserve type of 'annotations' i.e. application properties added by broker #MsgLength=86


----
Modified: src/qpid/amqp_0_10/Codecs.cpp|5 0
Modified: src/qpid/amqp_0_10/Codecs.h|1 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|2 2

Revision: 0c2672a54d4812fd398bbf8dd2024e1ec348191c
Author: Gordon Sim <gsim@apache.org>
Date: 21/10/2013 19:57:33
Message:
QPID-5247: implement Receiver::isClosed() #MsgLength=42


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|9 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|0 5
Modified: src/qpid/messaging/amqp/ReceiverContext.h|0 1
Modified: src/qpid/messaging/amqp/ReceiverHandle.cpp|1 1

Revision: edb3ef071d1fc4ab901be96e1925f44bba6d3947
Author: Ken Giusti <kgiusti@apache.org>
Date: 21/10/2013 20:37:27
Message:
QPID-5244: remove stale QMFv1 agent example #MsgLength=44


----
Modified: examples/README.txt|0 5
Modified: examples/examples.sln|0 24
Deleted: examples/qmf-agent/example.cpp|0 242
Deleted: examples/qmf-agent/example_gen.mak|0 29
Deleted: examples/qmf-agent/qmf_agent.vcproj|0 443
Deleted: examples/qmf-agent/schema.xml|0 75

Revision: d935fb17580d5d2f09afa47af8ffe0b5ae371118
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2013 18:43:19
Message:
QPID-5232: fix handling of autodelete for subscription queues of default reliability #MsgLength=85


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: faae8ec5c66798cdfa3f25828f24f86f48fda41c
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2013 18:43:26
Message:
QPID-5248: cleanup subscription queue if needed on explicit detach #MsgLength=67


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|6 0
Modified: src/qpid/broker/amqp/Outgoing.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|2 0

Revision: bb45a54a695c94bb437d8a6f5b8f7a6fac4781f6
Author: Gordon Sim <gsim@apache.org>
Date: 22/10/2013 20:24:40
Message:
QPID-5246: update ACL code to recognise self-destruct policy #MsgLength=61


----
Modified: src/qpid/acl/AclValidator.cpp|1 1
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/QueueSettings.cpp|6 0
Modified: src/qpid/broker/QueueSettings.h|1 0
Modified: src/tests/acl.py|13 2

Revision: 3564d5022e7c942fb912a1c2e47acdf797843f31
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 23/10/2013 02:10:49
Message:
QPID-3914: Windows C++ SSL client certificate authentication support #MsgLength=69


----
Modified: SSL|29 5
Modified: src/CMakeLists.txt|3 1
Modified: src/qpid/client/windows/SaslFactory.cpp|15 7
Modified: src/qpid/client/windows/SslConnector.cpp|188 4
Added: src/qpid/sys/windows/util.cpp|70 0
Added: src/qpid/sys/windows/util.h|50 0

Revision: 90a7415e0c7e7813375d92427d9a6d64d654b88c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 23/10/2013 03:09:56
Message:
QPID-4984: WIP: Copy of work over from branch to trunk. Non-tx works with some known bugs, tx not yet operational. #MsgLength=115


----
Modified: src/CMakeLists.txt|6 0
Added: src/linearstore.cmake|174 0
Added: src/qpid/linearstore/BindingDbt.cpp|50 0
Added: src/qpid/linearstore/BindingDbt.h|56 0
Added: src/qpid/linearstore/BufferValue.cpp|56 0
Added: src/qpid/linearstore/BufferValue.h|46 0
Added: src/qpid/linearstore/Cursor.h|50 0
Added: src/qpid/linearstore/DataTokenImpl.cpp|28 0
Added: src/qpid/linearstore/DataTokenImpl.h|47 0
Added: src/qpid/linearstore/IdDbt.cpp|42 0
Added: src/qpid/linearstore/IdDbt.h|42 0
Added: src/qpid/linearstore/IdSequence.cpp|40 0
Added: src/qpid/linearstore/IdSequence.h|43 0
Added: src/qpid/linearstore/JournalImpl.cpp|653 0
Added: src/qpid/linearstore/JournalImpl.h|244 0
Added: src/qpid/linearstore/JournalLogImpl.cpp|59 0
Added: src/qpid/linearstore/JournalLogImpl.h|48 0
Added: src/qpid/linearstore/MessageStoreImpl.cpp|1640 0
Added: src/qpid/linearstore/MessageStoreImpl.h|368 0
Added: src/qpid/linearstore/PreparedTransaction.cpp|81 0
Added: src/qpid/linearstore/PreparedTransaction.h|75 0
Added: src/qpid/linearstore/StoreException.h|56 0
Added: src/qpid/linearstore/StorePlugin.cpp|81 0
Added: src/qpid/linearstore/TxnCtxt.cpp|184 0
Added: src/qpid/linearstore/TxnCtxt.h|117 0
Added: src/qpid/linearstore/jrnl/AtomicCounter.h|125 0
Added: src/qpid/linearstore/jrnl/EmptyFilePool.cpp|326 0
Added: src/qpid/linearstore/jrnl/EmptyFilePool.h|95 0
Added: src/qpid/linearstore/jrnl/EmptyFilePoolManager.cpp|187 0
Added: src/qpid/linearstore/jrnl/EmptyFilePoolManager.h|67 0
Added: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.cpp|131 0
Added: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.h|77 0
Added: src/qpid/linearstore/jrnl/EmptyFilePoolTypes.h|41 0
Added: src/qpid/linearstore/jrnl/JournalFile.cpp|287 0
Added: src/qpid/linearstore/jrnl/JournalFile.h|114 0
Added: src/qpid/linearstore/jrnl/JournalLog.cpp|61 0
Added: src/qpid/linearstore/jrnl/JournalLog.h|59 0
Added: src/qpid/linearstore/jrnl/LinearFileController.cpp|304 0
Added: src/qpid/linearstore/jrnl/LinearFileController.h|136 0
Added: src/qpid/linearstore/jrnl/RecoveryManager.cpp|645 0
Added: src/qpid/linearstore/jrnl/RecoveryManager.h|134 0
Added: src/qpid/linearstore/jrnl/aio.h|140 0
Added: src/qpid/linearstore/jrnl/aio_callback.h|45 0
Added: src/qpid/linearstore/jrnl/cvar.h|76 0
Added: src/qpid/linearstore/jrnl/data_tok.cpp|188 0
Added: src/qpid/linearstore/jrnl/data_tok.h|160 0
Added: src/qpid/linearstore/jrnl/deq_rec.cpp|464 0
Added: src/qpid/linearstore/jrnl/deq_rec.h|91 0
Added: src/qpid/linearstore/jrnl/enq_map.cpp|186 0
Added: src/qpid/linearstore/jrnl/enq_map.h|112 0
Added: src/qpid/linearstore/jrnl/enq_rec.cpp|621 0
Added: src/qpid/linearstore/jrnl/enq_rec.h|104 0
Added: src/qpid/linearstore/jrnl/enums.h|99 0
Added: src/qpid/linearstore/jrnl/jcfg.h|58 0
Added: src/qpid/linearstore/jrnl/jcntl.cpp|549 0
Added: src/qpid/linearstore/jrnl/jcntl.h|575 0
Added: src/qpid/linearstore/jrnl/jdir.cpp|479 0
Added: src/qpid/linearstore/jrnl/jdir.h|369 0
Added: src/qpid/linearstore/jrnl/jerrno.cpp|227 0
Added: src/qpid/linearstore/jrnl/jerrno.h|154 0
Added: src/qpid/linearstore/jrnl/jexception.cpp|171 0
Added: src/qpid/linearstore/jrnl/jexception.h|126 0
Added: src/qpid/linearstore/jrnl/jrec.cpp|107 0
Added: src/qpid/linearstore/jrnl/jrec.h|170 0
Added: src/qpid/linearstore/jrnl/pmgr.cpp|202 0
Added: src/qpid/linearstore/jrnl/pmgr.h|127 0
Added: src/qpid/linearstore/jrnl/slock.h|73 0
Added: src/qpid/linearstore/jrnl/smutex.h|52 0
Added: src/qpid/linearstore/jrnl/time_ns.cpp|43 0
Added: src/qpid/linearstore/jrnl/time_ns.h|93 0
Added: src/qpid/linearstore/jrnl/txn_map.cpp|248 0
Added: src/qpid/linearstore/jrnl/txn_map.h|145 0
Added: src/qpid/linearstore/jrnl/txn_rec.cpp|440 0
Added: src/qpid/linearstore/jrnl/txn_rec.h|88 0
Added: src/qpid/linearstore/jrnl/utils/deq_hdr.c|46 0
Added: src/qpid/linearstore/jrnl/utils/deq_hdr.h|81 0
Added: src/qpid/linearstore/jrnl/utils/enq_hdr.c|63 0
Added: src/qpid/linearstore/jrnl/utils/enq_hdr.h|81 0
Added: src/qpid/linearstore/jrnl/utils/file_hdr.c|105 0
Added: src/qpid/linearstore/jrnl/utils/file_hdr.h|106 0
Added: src/qpid/linearstore/jrnl/utils/rec_hdr.c|15 0
Added: src/qpid/linearstore/jrnl/utils/rec_hdr.h|67 0
Added: src/qpid/linearstore/jrnl/utils/rec_tail.c|34 0
Added: src/qpid/linearstore/jrnl/utils/rec_tail.h|71 0
Added: src/qpid/linearstore/jrnl/utils/txn_hdr.c|33 0
Added: src/qpid/linearstore/jrnl/utils/txn_hdr.h|70 0
Added: src/qpid/linearstore/jrnl/wmgr.cpp|1031 0
Added: src/qpid/linearstore/jrnl/wmgr.h|159 0
Added: src/qpid/linearstore/management-schema.xml|99 0
Added: src/tests/linearstore/linearstoredirsetup.sh|24 0

Revision: e1da1ef5968e37431b1f2a1c3dfb33708ceed368
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/10/2013 04:53:03
Message:
QPID-4984: Make C++ tree build again #MsgLength=37


----
Modified: src/CMakeLists.txt|0 1

Revision: 6bd91dea1662811903977f2ebbf875c5da88bab3
Author: Gordon Sim <gsim@apache.org>
Date: 23/10/2013 23:04:04
Message:
QPID-5253: fix delivery count for browsed 1.0 message #MsgLength=54


----
Modified: src/qpid/broker/amqp/Header.cpp|1 1

Revision: e45b0b141ecfff273a4b4ee9d29700238f73be61
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2013 13:08:27
Message:
QPID-4984: Fix compiler warnings caused by questionable programming practices #MsgLength=78


----
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.cpp|7 6
Modified: src/qpid/linearstore/jrnl/RecoveryManager.cpp|4 4

Revision: 4ac46335230d560c2c720e0ba9f7bf44f42f5a56
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2013 20:37:47
Message:
QPID-4265: wakeup fetches on closed receiver #MsgLength=45


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|26 3
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|4 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|15 5

Revision: 0bdae2bcf931518804ec78a0f776303c8517aacd
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2013 20:37:53
Message:
QPID-4265: test closing of receiver with concurrent fetch #MsgLength=58


----
Modified: src/tests/MessagingSessionTests.cpp|47 2

Revision: 085fee35a7776e3ea7ba8b489fb6a74af2a74043
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2013 22:20:55
Message:
QPID-4265: fix broken windows build #MsgLength=36


----
Modified: src/tests/MessagingSessionTests.cpp|2 2

Revision: 37a93ee9433db75ab466b8603462d22dd2047d2c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/10/2013 23:00:11
Message:
QPID-4927: Get cmake testing working with valgrind [also remove unused files] #MsgLength=78


----
Modified: src/CMakeLists.txt|17 26
Modified: src/tests/CMakeLists.txt|86 104
Modified: src/tests/legacystore/CMakeLists.txt|2 36
Deleted: src/tests/legacystore/start_broker|0 25
Deleted: src/tests/legacystore/stop_broker|0 46
Modified: src/tests/run_test|9 18
Modified: src/tests/test_env.sh.in|7 1
Deleted: versions|0 31

Revision: 90dc6db0ac5b2cedaab082a38395b06ee94143c7
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2013 00:14:49
Message:
QPID-5256: check type before assuming it is string #MsgLength=51


----
Modified: src/qpid/messaging/MessageImpl.cpp|2 2

Revision: 36ac7695e45db409789d24ab2c5cb85d02799cc0
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2013 21:36:29
Message:
QPID-5248: fix regression caused by previous commit on this issue #MsgLength=66


----
Modified: src/qpid/broker/amqp/Session.cpp|3 1

Revision: ec69595c868bb39f022e4aa3f76e8e4089a499bf
Author: Fraser Adams <fadams@apache.org>
Date: 25/10/2013 22:03:36
Message:
JIRA: QPID-5259 cmake legacy store and linear store messages aren't very helpful if dependencies are missing. #MsgLength=110


----
Modified: src/legacystore.cmake|37 20
Modified: src/linearstore.cmake|37 20

Revision: d2eb39708fd850128b6d1fd5862de8375929a136
Author: Gordon Sim <gsim@apache.org>
Date: 25/10/2013 22:26:02
Message:
QPID-4927: paged queue tests take too long under valgrind, so run them separately #MsgLength=82


----
Modified: src/tests/CMakeLists.txt|4 4
Modified: src/tests/run_paged_queue_tests|11 4

Revision: 27d460f01b6ed5446bdd258f04353b3dcdf2a315
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/10/2013 01:35:47
Message:
QPID-5250: Raise all exceptions within Ruby bindings. #MsgLength=211


----
Modified: bindings/qpid/ruby/ChangeLog|1 0
Modified: bindings/qpid/ruby/ruby.i|86 3

Revision: 64d0bce4e665194306ce866e211dc874a40c33ca
Author: Alan Conway <aconway@apache.org>
Date: 26/10/2013 02:13:35
Message:
QPID-4287: Poor performance when a priority queue with a ring queue policy has a large backlog #MsgLength=386


----
Modified: src/qpid/broker/LossyQueue.cpp|13 2
Modified: src/qpid/broker/Queue.cpp|14 15
Modified: src/qpid/broker/Queue.h|16 1

Revision: 8517e3c925f63833c641a0c52447e5c3193ee9ba
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 26/10/2013 03:39:00
Message:
QPID-5250: Fixed the ordering of caught/throw Ruby exceptions. #MsgLength=142


----
Modified: bindings/qpid/ruby/ruby.i|40 40

Revision: e382909518c4e5a2d9b698a740f2bfa60ef82107
Author: Justin Ross <jross@apache.org>
Date: 26/10/2013 04:28:22
Message:
NO-JIRA: Correct pkg-config example vars #MsgLength=41


----
Modified: INSTALL|1 1

Revision: 35dd97637b3c9935ecb5176f6f388e7f90f44477
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/10/2013 20:39:56
Message:
QPID-5260: Significant tidy up of cmake build * Move to cmake 2.6 as minimum required version (2.4 is extremely long in the tooth now) * Add control over building individual language bindings * Make settings you don't usually want to change advanced so they are hidden by default * Changed to a uniform naming scheme for options: ** Options controlling what to build are all BUILD_ ** Options controlling features of he build are ENABLE_ ** Options controlling internal aspects of the qpid runtime are QPID_ * Respect the BUILD_TESTING option so that we won't build the tests unless it is set (it is by default) * If we don't find the boost_unit_test_framework then don't fail, just don't build the unit tests (this is motivated by one of the Apache Jenkins ubuntu builders which has this set up) * Tidied up some of the detection of external dependencies to make it more idiomatic cmake (but there is more to do here) #MsgLength=937


----
Modified: BuildInstallSettings.cmake|4 5
Modified: CMakeLists.txt|2 2
Modified: bindings/CMakeLists.txt|69 54
Modified: docs/api/CMakeLists.txt|2 2
Modified: docs/man/CMakeLists.txt|1 1
Modified: etc/CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|54 67
Modified: src/config.h.cmake|1 1
Modified: src/tests/CMakeLists.txt|17 12
Modified: src/tests/legacystore/CMakeLists.txt|24 23
Modified: src/tests/sasl_test_setup.sh|1 1
Modified: src/tests/test_env.sh.in|1 0

Revision: 06248152267e52804163297f47bf9cb3a5137032
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/10/2013 20:39:59
Message:
QPID-5261: Install DLLs and import Libs to more usual places for a windows SDK #MsgLength=79


----
Modified: BuildInstallSettings.cmake|1 1
Modified: src/CMakeLists.txt|26 10

Revision: f012ee40513146f24946fc689057fdb9672d4201
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/10/2013 20:40:02
Message:
QPID-5262: Install debug versions of MS runtime DLLs #MsgLength=53


----
Modified: CMakeLists.txt|1 0

Revision: ba6446d1995e768e11b3635bd22c74a10c67ee3c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/10/2013 20:40:05
Message:
QPID-5263: Fix boost files on windows. - As we no longer install any header files with boost dependencies we can stop shipping any boost includes files in the windows kit. - Install correct Boost DLLs. #MsgLength=204


----
Modified: src/CMakeLists.txt|7 58

Revision: c7049d8128e30b1ba1aa5020a24aa379bb1f3599
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/10/2013 22:40:39
Message:
QPID-5260: Get test for building Perl bindings correct #MsgLength=55


----
Modified: bindings/CMakeLists.txt|2 2

Revision: d3e408fe4e2ba5a01774bc047f5574ea47f486b4
Author: Alan Conway <aconway@apache.org>
Date: 29/10/2013 23:23:25
Message:
QPID-5139: Add unit test for deadlock caused by blocking HA commit. #MsgLength=68


----
Modified: src/tests/ha_test.py|1 0
Modified: src/tests/ha_tests.py|23 4

Revision: 6ae08b39742ea11edbb08e7a279903d80d3b1955
Author: Alan Conway <aconway@apache.org>
Date: 29/10/2013 23:23:36
Message:
QPID-5139: Make TxBuffer inherit from AsyncCompletion. #MsgLength=126


----
Modified: src/qpid/broker/BrokerObserver.h|2 2
Modified: src/qpid/broker/BrokerObservers.h|2 2
Modified: src/qpid/broker/DtxBuffer.h|2 3
Modified: src/qpid/broker/DtxManager.cpp|3 3
Modified: src/qpid/broker/DtxManager.h|3 3
Modified: src/qpid/broker/DtxWorkRecord.cpp|2 2
Modified: src/qpid/broker/DtxWorkRecord.h|3 3
Modified: src/qpid/broker/RecoverableMessageImpl.h|2 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|9 9
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SemanticState.h|7 7
Modified: src/qpid/broker/TxBuffer.h|18 14
Modified: src/qpid/ha/Primary.cpp|6 4
Modified: src/qpid/ha/Primary.h|2 2
Modified: src/qpid/ha/TxReplicator.h|1 1
Modified: src/tests/DtxWorkRecordTest.cpp|12 12
Modified: src/tests/TransactionObserverTest.cpp|1 1

Revision: c5bc7dbd7ffbfb87ed53de292b709a85c63d54da
Author: Alan Conway <aconway@apache.org>
Date: 29/10/2013 23:23:49
Message:
QPID-5139: HA transactions block a thread, can deadlock the broker #MsgLength=954


----
Modified: src/CMakeLists.txt|2 0
Added: src/qpid/broker/AsyncCommandCallback.cpp|66 0
Added: src/qpid/broker/AsyncCommandCallback.h|63 0
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|5 5
Modified: src/qpid/broker/SemanticState.cpp|26 9
Modified: src/qpid/broker/SessionState.cpp|50 53
Modified: src/qpid/broker/SessionState.h|77 33
Modified: src/qpid/broker/TxAccept.cpp|16 11
Modified: src/qpid/broker/TxAccept.h|0 2
Modified: src/qpid/broker/TxBuffer.cpp|41 22
Modified: src/qpid/broker/TxBuffer.h|17 4
Modified: src/qpid/ha/Primary.cpp|17 13
Modified: src/qpid/ha/Primary.h|6 1
Modified: src/qpid/ha/PrimaryTxObserver.cpp|58 35
Modified: src/qpid/ha/PrimaryTxObserver.h|10 4
Modified: src/tests/TransactionObserverTest.cpp|6 3
Modified: src/tests/TxBufferTest.cpp|9 2
Modified: src/tests/ha_tests.py|27 19

Revision: 25c0b6331e10b9cdb327bb50de772fd161e7c65a
Author: Alan Conway <aconway@apache.org>
Date: 30/10/2013 02:43:07
Message:
 QPID-5139: Add missing EXTERN decl in TxBuffer.h #MsgLength=50


----
Modified: src/qpid/broker/TxBuffer.h|1 1

Revision: 6d789cdb6f28f94c6559845b3c4dcee4d8e9ac95
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/10/2013 03:03:32
Message:
QPID-5263: Allow boost versions less than 1.47 not to have Boost.chrono library #MsgLength=80


----
Modified: src/CMakeLists.txt|23 15

Revision: 447a989a13f5c094295d0a459c5e68eb89971a74
Author: Charles E. Rolke <chug@apache.org>
Date: 30/10/2013 03:20:46
Message:
QPID-5274: Create separate cmake file for windows-specific functions. #MsgLength=71


----
Modified: src/CMakeLists.txt|2 127
Added: src/msvc.cmake|149 0

Revision: 9b0ab133a4683f5fd51ac915c3f8f2ffbf96c2f2
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/10/2013 04:07:58
Message:
QPID-5273: Fixed installing the qmfgen Python packages. #MsgLength=293


----
Modified: managementgen/CMakeLists.txt|2 1

Revision: 835577a314c336eaebc80cd5fd3fc095ec0d3383
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/10/2013 05:24:26
Message:
QPID-5237: Self-contained C++ source distribution #MsgLength=50


----
Modified: BuildInstallSettings.cmake|1 14
Modified: CMakeLists.txt|16 3
Added: specs/amqp.0-10-qpid-errata.stripped.xml|1203 0
Modified: src/CMakeLists.txt|61 62
Added: src/qpid/broker/management-schema.xml|597 0

Revision: 8da7ad52c3eee8dcc343a43fed577a1d8c1f9319
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/10/2013 05:53:36
Message:
QPID-4327: Include file moved to correct place #MsgLength=47


----
Renamed: src/qpid/framing/BufferTypes.h [from include/qpid/framing/BufferTypes.h]|0 0

Revision: 5035a32ec0ef1eff8c25730bd429951a87378193
Author: Gordon Sim <gsim@apache.org>
Date: 30/10/2013 19:30:31
Message:
QPID-5276: improve node resolution where specific capability is requested #MsgLength=74


----
Modified: src/qpid/broker/amqp/Session.cpp|39 10

Revision: 9ef3676d3ad0e95fa56648fdcc99c6793f9714fd
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2013 01:21:31
Message:
QPID-5139: HA correct compile error on older C++ compilers. #MsgLength=175


----
Modified: src/qpid/broker/AsyncCompletion.h|7 1
Modified: src/qpid/broker/SemanticState.cpp|6 6
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/SessionState.h|0 4
Modified: src/qpid/ha/PrimaryTxObserver.cpp|1 1

Revision: 554f7fe697d2dc157eb6923be5ed43ede275e559
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2013 01:21:38
Message:
NO-JIRA: Fix compile errors in legacystore on older compilers #MsgLength=62


----
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.cpp|4 4

Revision: c6b06b4d26bc24f799ca2597c2f34de54d2c907a
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2013 22:09:12
Message:
QPID-5279: checks for exclusivity in linking to queue #MsgLength=54


----
Modified: src/qpid/broker/amqp/Session.cpp|9 3

Revision: bd1b5ec6b42ce44cde087f20271289cd93bc763b
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2013 22:09:20
Message:
QPID-5279: test exclusivity checks in 1.0 #MsgLength=42


----
Added: src/tests/misc.py|52 0
Modified: src/tests/swig_python_tests|1 1

Revision: 8c605ebaefae07aa76d6cd40cd759f85a99414d1
Author: Gordon Sim <gsim@apache.org>
Date: 31/10/2013 22:09:29
Message:
QPID-5280: prevent bind/unbind of someone elses exclusive queue #MsgLength=64


----
Modified: src/qpid/broker/Broker.cpp|10 2
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/SemanticState.cpp|2 2
Modified: src/qpid/broker/SessionAdapter.cpp|2 2

Revision: 58fecec1946fe048370998e5333590e778477b40
Author: Alan Conway <aconway@apache.org>
Date: 31/10/2013 22:45:55
Message:
NO-JIRA: Removed reference to non-existent test. #MsgLength=122


----
Modified: src/tests/legacystore/CMakeLists.txt|0 2

Revision: 51bf45efec8069c0f7e3a7fd903c993a4458a706
Author: Gordon Sim <gsim@apache.org>
Date: 01/11/2013 02:37:49
Message:
QPID-5283: ensure queue has no consumers before granting exclusive ownership #MsgLength=77


----
Modified: src/qpid/broker/Queue.cpp|1 1
Modified: src/tests/acl.py|2 1

Revision: 166d69c82c2a1767174175deacdee731e024ca2b
Author: Gordon Sim <gsim@apache.org>
Date: 01/11/2013 18:33:30
Message:
QPID-5284: ensure timestamp is added to the data that is persisted #MsgLength=67


----
Modified: src/qpid/broker/Message.cpp|1 6
Modified: src/qpid/broker/Message.h|1 2
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|3 3
Modified: src/qpid/broker/SessionState.h|1 1
Modified: src/qpid/broker/amqp/Message.cpp|7 0
Modified: src/qpid/broker/amqp/Message.h|1 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|18 7
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|3 1
Modified: src/tests/legacystore/MessageUtils.h|1 1

Revision: f8ccf7d19b01764910d507bfd2b6bc727f1a0fd4
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2013 00:55:59
Message:
QPID-5286: replenish credit when using get #MsgLength=43


----
Modified: src/qpid/messaging/Receiver.cpp|5 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|4 5

Revision: d2b028cc90efd4e80e9904f88be8444284a7aec8
Author: Gordon Sim <gsim@apache.org>
Date: 02/11/2013 02:31:32
Message:
NO-JIRA: prevent scary error message when not actually appropriate #MsgLength=67


----
Modified: src/qpid/amqp/DataBuilder.cpp|3 1

Revision: e5bdada79659f83683b3be0d742a6e6090a0e6b6
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2013 22:38:53
Message:
QPID-5277: removed qpidt as qpid-config now offers similar functionality #MsgLength=73


----
Deleted: src/tests/qpidt|0 141

Revision: 4d80c1eeebb6ba43d5aad49834b35241d2f92eff
Author: Gordon Sim <gsim@apache.org>
Date: 04/11/2013 22:38:59
Message:
QPID-5288: add checking for connection/session close before waiting on Sender::close() #MsgLength=87


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|3 2

Revision: 12857f0c9bc595ed0dc4698b56d3220142593227
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2013 00:02:21
Message:
QPID-5277: remove install directive for qpidt #MsgLength=46


----
Modified: src/tests/CMakeLists.txt|0 2

Revision: bc0aba9cab445e239f695cb3b052f21deaf8ab99
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2013 00:02:28
Message:
QPID-5289: Improvements to error handling and reporting #MsgLength=56


----
Modified: src/qpid/broker/amqp/Session.cpp|5 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|8 1

Revision: 0becb6f3e60bcf26aaf633a2caeab8abc4997ea0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/11/2013 00:50:27
Message:
QPID-5237: Copy missed Qpid version file into C++ source tree #MsgLength=62


----
Modified: .gitignore|0 1
Added: QPID_VERSION.txt|1 0

Revision: f15a8c8d3db31ac9f4f8d91164964dddf2117336
Author: Charles E. Rolke <chug@apache.org>
Date: 05/11/2013 00:52:58
Message:
QPID-5287: .NET binding does not set AssemblyVersion to build version. The fix is 1. rename the AssemblyInfo.cpp to indicate that it is a template. 2. put replacement strings into the template (see sessionreceiver for correct pattern). 3. configure the template during cmake run. 4. Refer to generated file in projects that need it. #MsgLength=333


----
Renamed: bindings/qpid/dotnet/src/AssemblyInfo-template.cpp [from bindings/qpid/dotnet/src/AssemblyInfo.cpp]|3 2
Modified: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj|1 1
Modified: bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj|1 1
Modified: src/CMakeLists.txt|2 0

Revision: f6bc3e1671dc4df04734f13805f775bd37af4deb
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2013 01:06:54
Message:
QPID-5290: fix exception thrown in PagedQueue #MsgLength=46


----
Modified: src/qpid/broker/PagedQueue.cpp|2 1

Revision: 4fb204c2b05dd18bda43327bb30e1134f7ea3a57
Author: Alan Conway <aconway@apache.org>
Date: 05/11/2013 02:32:42
Message:
NO-JIRA: Add cmake install command for linearstoreutils library. #MsgLength=65


----
Modified: src/linearstore.cmake|9 3

Revision: c1bc6bdafd325c311a35cbbaa6e569a0e8b256b3
Author: Charles E. Rolke <chug@apache.org>
Date: 05/11/2013 03:38:35
Message:
NO-JIRA: track recent GEN_DOXYGEN to BUILD_DOCS change #MsgLength=55


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|4 4

Revision: 1ba4af68b5d89f5468a50285855bf9ba183fe057
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2013 04:38:04
Message:
QPID-5291: hook in specific connection properties to management schema #MsgLength=71


----
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|26 1

Revision: 67241171dcf019a79d50db7779d520ddd37b1a54
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2013 04:38:10
Message:
QPID-5292: restore raising of connection event and setting of authIdentity on mgmt object #MsgLength=90


----
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|11 0
Modified: src/qpid/broker/amqp_0_10/Connection.h|2 0

Revision: 1b2c4595a16bb7c995d1ec8610252b051ba859b6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/11/2013 06:15:14
Message:
QPID-4984: WIP. Basic enqueue/dequeue/txns work, still no EFP recycling. #MsgLength=73


----
Added: src/qpid/linearstore/ISSUES|36 0
Modified: src/qpid/linearstore/JournalImpl.cpp|6 161
Modified: src/qpid/linearstore/JournalImpl.h|0 9
Modified: src/qpid/linearstore/JournalLogImpl.h|1 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|26 56
Modified: src/qpid/linearstore/MessageStoreImpl.h|1 1
Modified: src/qpid/linearstore/jrnl/AtomicCounter.h|11 4
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.cpp|52 38
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.h|4 2
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolManager.cpp|55 31
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolManager.h|5 1
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.cpp|25 2
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.h|3 0
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolTypes.h|15 7
Modified: src/qpid/linearstore/jrnl/JournalFile.cpp|80 66
Modified: src/qpid/linearstore/jrnl/JournalFile.h|21 16
Modified: src/qpid/linearstore/jrnl/LinearFileController.cpp|36 118
Modified: src/qpid/linearstore/jrnl/LinearFileController.h|11 32
Modified: src/qpid/linearstore/jrnl/RecoveryManager.cpp|126 98
Modified: src/qpid/linearstore/jrnl/RecoveryManager.h|6 9
Modified: src/qpid/linearstore/jrnl/jcntl.cpp|4 120
Modified: src/qpid/linearstore/jrnl/jerrno.cpp|9 19
Modified: src/qpid/linearstore/jrnl/jerrno.h|52 57
Modified: src/qpid/linearstore/jrnl/txn_map.cpp|22 36
Modified: src/qpid/linearstore/jrnl/txn_map.h|17 16
Modified: src/qpid/linearstore/jrnl/utils/file_hdr.c|2 2
Modified: src/qpid/linearstore/jrnl/utils/file_hdr.h|1 1
Modified: src/qpid/linearstore/jrnl/wmgr.cpp|26 21

Revision: d42c07825890dc984f5dc9ddee81a772f8e22578
Author: Charles E. Rolke <chug@apache.org>
Date: 06/11/2013 03:59:34
Message:
QPID-5261: adjust winsdk packager to find objects in new places QPID-5262: don't ship Debug msvc runtime dlls #MsgLength=110


----
Modified: bld-winsdk.ps1|10 10

Revision: e172a27a33d8dd64a2a56d05c3e6cdbf56feb038
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 07/11/2013 05:59:30
Message:
QPID-3502: Windows SslConnector memory error from unititialized data #MsgLength=69


----
Modified: src/qpid/client/windows/SslConnector.cpp|6 3

Revision: 3d78095000179bb1a0a8ad02de89bd53ac49b1a6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 07:51:20
Message:
QPID-4640: Remove some files/directories rendered obsolete by autotools removal #MsgLength=81


----
Deleted: qpid-config.in|0 116
Deleted: xml/extra.xml|0 926

Revision: dba4a9901fa8003c2f15e63a87c55c499685a8e2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 08:23:50
Message:
QPID-5304: Allow c++ unit tests to run if XML_LIB env var not set (The tests for the xml exchange will obviously fail, but at least you can run anything else you might have been interested in) #MsgLength=193


----
Modified: src/tests/XmlClientSessionTest.cpp|9 4

Revision: 6cbf0bf9eff18a2f32c6fd70cd1ec5c1cba35a11
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 08:42:38
Message:
QPID-5305: Make legacystore fully initialise buffers to avoid undefined disk file contents (this silences a complaint from valgrind) NO-JIRA: Fix odd whitespace NO-JIRA: Remove unneeded include path mangling #MsgLength=210


----
Modified: src/legacystore.cmake|24 31

Revision: 4f3a44a775c8b2a335b5872b458e8e29780ff636
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 08:42:42
Message:
QPID-5306: Improve c++ tests some more: Add options to run_test script: --working-dir  - run the test in this directory --build-dir    - set the top of the build tree --source-dir   - set the top of the source tree --python       - run a python test --start-broker - start/stop broker before and after test --broker-options - allow non default broker options #MsgLength=421


----
Modified: src/tests/CMakeLists.txt|18 16
Modified: src/tests/legacystore/CMakeLists.txt|6 2
Deleted: src/tests/legacystore/tests_env.sh|0 260
Modified: src/tests/run_header_test|0 6
Modified: src/tests/run_msg_group_tests|0 9
Modified: src/tests/run_queue_flow_limit_tests|1 28
Modified: src/tests/run_test|70 19
Deleted: src/tests/start_broker|0 24
Deleted: src/tests/start_broker.ps1|0 60
Deleted: src/tests/stop_broker|0 41
Deleted: src/tests/stop_broker.ps1|0 56
Modified: src/tests/test_env.sh.in|1 0
Deleted: src/tests/test_wrap|0 48

Revision: 548b776be3f45431fc2c8af4c1141a5be16e9e4c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 08:49:26
Message:
QPID-5306: Python isn't optional in build, so don't need to test for it. #MsgLength=73


----
Modified: src/tests/CMakeLists.txt|11 17

Revision: 4ec4d303abda18edfa951798f61e1743728688a7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 07/11/2013 23:22:20
Message:
QPID-4984: Minor fix for ambiguous comparison error on some compilers #MsgLength=70


----
Modified: src/qpid/linearstore/jrnl/RecoveryManager.cpp|3 3

Revision: be7a8ec3c85a6ac539f7d9e35f917b5df8d93138
Author: Andrew Stitcher <astitcher@apache.org>
Date: 07/11/2013 23:32:06
Message:
QPID-5308: Allow various bits of the test outputs to be XML - This meshes nicely with the Jenkins CI system which can better display tests results generated in XML. #MsgLength=167


----
Modified: src/tests/CMakeLists.txt|1 1
Modified: src/tests/legacystore/CMakeLists.txt|3 3
Modified: src/tests/run_test|47 16

Revision: c0dbe12cc2c99ab221f9049451c0208f4b9b8b3c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 08/11/2013 03:37:39
Message:
QPID-5304: Alow this change to work with earlier versions of boost #MsgLength=67


----
Modified: src/tests/XmlClientSessionTest.cpp|8 9
Modified: src/tests/unit_test.h|4 0

Revision: ef928c6bfa542f9252a49527728d0f70d48a2862
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2013 22:08:01
Message:
QPID-5309: don't set executable flag on page file #MsgLength=50


----
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|1 1

Revision: 7e1e2e9767a3090a18bbf18eb91a87015ab03562
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2013 22:08:07
Message:
QPID-5300: correct error condition for certain unauthorized access errors #MsgLength=74


----
Modified: src/qpid/broker/amqp/Connection.cpp|6 0

Revision: 61a9278d52affff1ad5c3d823b7a33fe5980f451
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2013 22:08:14
Message:
QPID-5299: check access permissions before resolving node #MsgLength=58


----
Modified: src/qpid/broker/amqp/Authorise.cpp|18 0
Modified: src/qpid/broker/amqp/Authorise.h|7 0
Modified: src/qpid/broker/amqp/Session.cpp|17 6

Revision: 99df2d77405f7f226ddf69b0e192e7d8b69fccfb
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2013 01:41:19
Message:
QPID-5312: make sure page is loaded before attempting to find message in it #MsgLength=76


----
Modified: src/qpid/broker/PagedQueue.cpp|1 0
Modified: src/tests/run_paged_queue_tests|11 0

Revision: 15ebe099487befffaf21a14b63badc6f2992c54c
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2013 01:41:25
Message:
QPID-5314: exceptions should not contain full path for paging file #MsgLength=67


----
Modified: src/qpid/broker/PagedQueue.cpp|6 4
Modified: src/qpid/broker/PagedQueue.h|1 0

Revision: df9e9a2660e91a31e7dc27a584fedb06cc9e2eb3
Author: Gordon Sim <gsim@apache.org>
Date: 09/11/2013 01:41:31
Message:
QPID-5315: record persistence ids in paging file so they can be restored after paging out #MsgLength=90


----
Modified: src/qpid/broker/PagedQueue.cpp|6 2

Revision: ce974ddb18e9d748c078bbaecbcb0f8e6679533c
Author: Alan Conway <aconway@apache.org>
Date: 09/11/2013 04:18:58
Message:
QPID-5318: HA tests fail sporadically with "AttributeError: 'NoneType' object has no attribute 'name'" #MsgLength=203


----
Modified: src/tests/ha_test.py|3 2

Revision: 462ede0e970ab7baa9409e4b7db3f5399b96866b
Author: Gordon Sim <gsim@apache.org>
Date: 11/11/2013 19:52:49
Message:
QPID-5328: not-acquired implies no accept needed #MsgLength=49


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|5 5

Revision: 49aac954ed459da4b3f0848f848dcb4cc28e11b6
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 02:13:16
Message:
QPID-5324: don't ignore unrecognised filter, throw exception #MsgLength=61


----
Modified: src/qpid/broker/Queue.cpp|1 1

Revision: a26f0c677c667bb4952fbbccc5cfdd4dcf6bf136
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 02:33:55
Message:
NO-JIRA: added details of AMQP 1.0 support to installation notes and added separate readme for an overview of 1.0 support #MsgLength=122


----
Added: AMQP_1.0|266 0
Modified: INSTALL|5 0

Revision: 74ed02581769d4c001d3a09d50b5836f47110f9a
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 19:04:48
Message:
QPID-5331: don't wait for settlement on closing session if link has already been closed #MsgLength=88


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|5 0
Modified: src/qpid/messaging/amqp/SenderContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|1 1

Revision: 41600da9ada9b26138d6703144dddcc99a73b959
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 19:04:54
Message:
QPID-5324: log error for rejected filter (as well as throwing exception) #MsgLength=73


----
Modified: src/qpid/broker/Queue.cpp|1 0

Revision: d114abeeab66ae4173d17a8230535750926b086e
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 21:42:36
Message:
QPID-5301: support autodeleted exchanges #MsgLength=41


----
Modified: src/qpid/broker/Broker.cpp|13 8
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/DirectExchange.cpp|13 3
Modified: src/qpid/broker/DirectExchange.h|6 4
Modified: src/qpid/broker/Exchange.cpp|77 6
Modified: src/qpid/broker/Exchange.h|21 7
Modified: src/qpid/broker/ExchangeRegistry.cpp|7 7
Modified: src/qpid/broker/ExchangeRegistry.h|3 2
Modified: src/qpid/broker/FanOutExchange.cpp|10 3
Modified: src/qpid/broker/FanOutExchange.h|6 4
Modified: src/qpid/broker/HeadersExchange.cpp|8 2
Modified: src/qpid/broker/HeadersExchange.h|7 6
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|5 4
Modified: src/qpid/broker/TopicExchange.cpp|9 2
Modified: src/qpid/broker/TopicExchange.h|3 1
Modified: src/qpid/broker/amqp/NodeProperties.cpp|8 0
Modified: src/qpid/broker/amqp/NodeProperties.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|11 3
Modified: src/qpid/broker/amqp/Topic.cpp|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|7 2
Modified: src/qpid/ha/BrokerReplicator.h|2 0
Modified: src/qpid/ha/FailoverExchange.cpp|5 0
Modified: src/qpid/ha/FailoverExchange.h|1 0
Modified: src/qpid/ha/PrimaryTxObserver.cpp|1 0
Modified: src/qpid/ha/QueueReplicator.cpp|1 0
Modified: src/qpid/ha/QueueReplicator.h|1 0
Modified: src/qpid/management/ManagementDirectExchange.cpp|2 2
Modified: src/qpid/management/ManagementTopicExchange.cpp|2 2
Modified: src/qpid/management/ManagementTopicExchange.h|1 1
Modified: src/qpid/xml/XmlExchange.cpp|11 4
Modified: src/qpid/xml/XmlExchange.h|3 1
Modified: src/qpid/xml/XmlExchangePlugin.cpp|3 2
Modified: src/tests/ExchangeTest.cpp|10 10
Modified: src/tests/legacystore/SimpleTest.cpp|3 3
Modified: src/tests/misc.py|67 0

Revision: 890743cba4dfc02b0e6a4c1be67889c719d1f43d
Author: Gordon Sim <gsim@apache.org>
Date: 12/11/2013 21:42:50
Message:
QPID-5251: allow policies to be specified that will create topics or queues on demand if they match the specified pattern #MsgLength=122


----
Modified: src/amqp.cmake|2 0
Modified: src/qpid/broker/PersistableObject.cpp|1 0
Modified: src/qpid/broker/PersistableObject.h|1 0
Modified: src/qpid/broker/QueueSettings.cpp|5 0
Modified: src/qpid/broker/amqp/BrokerContext.cpp|3 2
Modified: src/qpid/broker/amqp/BrokerContext.h|4 1
Added: src/qpid/broker/amqp/NodePolicy.cpp|325 0
Added: src/qpid/broker/amqp/NodePolicy.h|117 0
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|26 5
Modified: src/qpid/broker/amqp/Session.cpp|31 13
Modified: src/qpid/broker/amqp/Topic.cpp|6 6
Modified: src/qpid/broker/amqp/Topic.h|2 2
Modified: src/qpid/broker/management-schema.xml|18 0
Modified: src/qpid/sys/regex.h|1 1
Added: src/tests/policies.py|209 0
Modified: src/tests/swig_python_tests|1 1

Revision: c6009d9495483c623d92933f0b49e58922562012
Author: Gordon Sim <gsim@apache.org>
Date: 13/11/2013 00:03:20
Message:
QPID-5316: add paging-dir option #MsgLength=33


----
Modified: src/qpid/DataDir.cpp|7 10
Modified: src/qpid/broker/Broker.cpp|10 0
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/QueueFactory.cpp|1 1

Revision: dfdbaed68496ca123a7bf8784c2d22ca30829045
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2013 00:58:29
Message:
QPID-5275: Segmentation fault in SaslFactory. #MsgLength=150


----
Modified: src/qpid/SaslFactory.cpp|2 0

Revision: bbb3cbe14e9dcb074d3ff47649bbdec71878cae7
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2013 00:58:36
Message:
QPID-5275: Add missing lock to ExchangeRegistry::registerExchange #MsgLength=233


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|1 0

Revision: 704c625ebf20fc3baebec16959051ca06c2c0fd0
Author: Alan Conway <aconway@apache.org>
Date: 13/11/2013 00:58:52
Message:
QPID-5275: HA transactions failing in qpid-cluster-benchmark #MsgLength=875


----
Modified: src/CMakeLists.txt|2 0
Modified: src/qpid/broker/Bridge.cpp|6 0
Modified: src/qpid/broker/Bridge.h|1 0
Modified: src/qpid/broker/Link.cpp|1 0
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SemanticState.h|3 1
Modified: src/qpid/broker/SessionAdapter.cpp|5 4
Modified: src/qpid/broker/SessionHandler.cpp|7 0
Modified: src/qpid/broker/SessionHandler.h|22 8
Modified: src/qpid/broker/SessionState.h|2 0
Modified: src/qpid/ha/BrokerReplicator.cpp|10 3
Modified: src/qpid/ha/Event.cpp|1 1
Modified: src/qpid/ha/Event.h|7 7
Modified: src/qpid/ha/PrimaryTxObserver.cpp|104 66
Modified: src/qpid/ha/PrimaryTxObserver.h|12 6
Modified: src/qpid/ha/QueueReplicator.cpp|30 20
Modified: src/qpid/ha/QueueReplicator.h|5 0
Modified: src/qpid/ha/QueueSnapshots.h|13 19
Modified: src/qpid/ha/ReplicatingSubscription.cpp|47 48
Modified: src/qpid/ha/ReplicatingSubscription.h|79 67
Added: src/qpid/ha/TxReplicatingSubscription.cpp|45 0
Added: src/qpid/ha/TxReplicatingSubscription.h|50 0
Modified: src/qpid/ha/TxReplicator.cpp|35 23
Modified: src/qpid/ha/TxReplicator.h|2 2
Modified: src/tests/brokertest.py|19 3
Modified: src/tests/ha_tests.py|43 20

Revision: cc54836060ddbd518b09ae8813ee1b7fc69ef835
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/11/2013 05:22:24
Message:
QPID-5330: Simplify testing for presence of python testing code - this makes it much easier not to call the python testing code when it isn't available #MsgLength=156


----
Modified: src/tests/CMakeLists.txt|12 8
Modified: src/tests/ipv6_test|19 23
Modified: src/tests/legacystore/CMakeLists.txt|1 1
Modified: src/tests/legacystore/run_python_tests|3 2
Modified: src/tests/python_tests|2 2
Modified: src/tests/run_header_test|6 6
Modified: src/tests/run_msg_group_tests|4 2
Modified: src/tests/run_queue_flow_limit_tests|4 1
Modified: src/tests/sasl_fed|2 4
Modified: src/tests/sasl_fed_ex|5 9
Deleted: src/tests/sasl_fed_ex_link|0 27
Deleted: src/tests/sasl_fed_ex_queue|0 27
Deleted: src/tests/sasl_fed_ex_route|0 27
Modified: src/tests/sasl_no_dir|2 114
Modified: src/tests/ssl_test|2 3
Modified: src/tests/swig_python_tests|4 2
Modified: src/tests/test_env.sh.in|4 0
Renamed: src/tests/test_env_common.sh [from src/tests/sasl_fed_ex_dynamic]|8 7

Revision: 9455e890fd43eaf8403aad69aaf8432834a5fb26
Author: Justin Ross <jross@apache.org>
Date: 13/11/2013 06:36:16
Message:
QPID-5255: Change trunk version to 0.27 #MsgLength=40


----
Modified: QPID_VERSION.txt|1 1

Revision: 503e72f12bd6f34728cb0ffa3734b861a1d47827
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/11/2013 08:02:20
Message:
QPID-5336: Don't hardcode location of bash in shell scripts As bash isn't specified by POSIX its location is variable. Specifically under BSDs it isn't found in /bin/bash. #MsgLength=176


----
Modified: etc/qpidd-primary.in|1 1
Modified: etc/qpidd.in|1 1
Modified: src/check-abi|1 1
Modified: src/prof|1 1
Modified: src/tests/allhosts|1 1
Modified: src/tests/dynamic_log_hires_timestamp|1 1
Modified: src/tests/dynamic_log_level_test|1 1
Modified: src/tests/fanout_perftest|1 1
Modified: src/tests/ipv6_test|1 1
Modified: src/tests/legacystore/clean.sh|1 1
Modified: src/tests/legacystore/federation/run_federation_sys_tests|1 1
Modified: src/tests/legacystore/federation/run_long_federation_sys_tests|1 1
Modified: src/tests/legacystore/jrnl/chk_jdata|1 1
Modified: src/tests/legacystore/jrnl/cp_rtest_jrnl|1 1
Modified: src/tests/legacystore/jrnl/jhexdump|1 1
Modified: src/tests/legacystore/jrnl/prof|1 1
Modified: src/tests/legacystore/jrnl/run-journal-tests|1 1
Modified: src/tests/legacystore/run_long_python_tests|1 1
Modified: src/tests/legacystore/run_python_tests|1 1
Modified: src/tests/legacystore/run_short_python_tests|1 1
Modified: src/tests/legacystore/system_test.sh|1 1
Modified: src/tests/linearstore/linearstoredirsetup.sh|1 1
Modified: src/tests/multiq_perftest|1 1
Modified: src/tests/perfdist|1 1
Modified: src/tests/python_tests|1 1
Modified: src/tests/qpid-build-rinstall|1 1
Modified: src/tests/qpid-src-rinstall|1 1
Modified: src/tests/quick_perftest|1 1
Modified: src/tests/quick_topictest|1 1
Modified: src/tests/quick_txtest|1 1
Modified: src/tests/ring_queue_test|1 1
Modified: src/tests/rsynchosts|1 1
Modified: src/tests/run_acl_tests|1 1
Modified: src/tests/run_cli_tests|1 1
Modified: src/tests/run_federation_sys_tests|1 1
Modified: src/tests/run_federation_tests|1 1
Modified: src/tests/run_ha_tests|1 1
Modified: src/tests/run_header_test|1 1
Modified: src/tests/run_interlink_tests|1 1
Modified: src/tests/run_long_federation_sys_tests|1 1
Modified: src/tests/run_msg_group_tests|1 1
Modified: src/tests/run_msg_group_tests_soak|1 1
Modified: src/tests/run_paged_queue_tests|1 1
Modified: src/tests/run_perftest|1 1
Modified: src/tests/run_queue_flow_limit_tests|1 1
Modified: src/tests/run_queue_redirect|1 1
Modified: src/tests/run_ring_queue_test|1 1
Modified: src/tests/run_test|1 1
Modified: src/tests/sasl_fed|1 1
Modified: src/tests/sasl_fed_ex|1 1
Modified: src/tests/sasl_no_dir|1 1
Modified: src/tests/sasl_test_setup.sh|1 1
Modified: src/tests/shared_perftest|1 1
Modified: src/tests/ssl_test|1 1
Modified: src/tests/swig_python_tests|1 1
Modified: src/tests/test_env_common.sh|1 1
Modified: src/tests/topic_perftest|1 1
Modified: src/tests/topictest|1 1

Revision: d2db502e271afb1fb36220f79c61f092eb927df7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/11/2013 08:02:28
Message:
QPID-5306: Improve test wrapper to avoid using getopt for long options Using getopt with long options is a gnu extension and so best avoided for portability reasons. #MsgLength=170


----
Modified: src/tests/CMakeLists.txt|1 1
Modified: src/tests/run_test|40 4

Revision: 8cd9653dddef0d1a74cb0ad30ccd6f610013a59a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/11/2013 08:02:34
Message:
QPID-5330: Typo in original checkin #MsgLength=36


----
Modified: src/tests/run_header_test|1 1

Revision: 8b9d3720539b3219e633b2eebbbffabc48301ec8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/11/2013 08:02:40
Message:
NO-JIRA: Don't need full trace for regular test runs #MsgLength=53


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: f125a269f65be44be61f0a0fc3e2d639f1a58562
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/11/2013 01:56:20
Message:
QPID-5336: Don't hardcode script interpreter location #MsgLength=54


----
Modified: bindings/qpid/perl/Makefile.PL|1 1
Modified: bindings/qpid/perl/Makefile.PL.in|1 1
Modified: rubygen/cppgen.rb|1 1

Revision: d4678f065003e4a4ad7344cae5bd4ca9d1e36b1c
Author: Gordon Sim <gsim@apache.org>
Date: 15/11/2013 02:32:29
Message:
QPID-5341: change maximum version of proton supported to 0.6 in anticipation of a release not too different from 0.6rc1 #MsgLength=120


----
Modified: src/amqp.cmake|1 1

Revision: 6ea351be1ebfaa69a8039b5be57f00212123f593
Author: Kim van der Riet <kpvdr@apache.org>
Date: 15/11/2013 04:39:32
Message:
QPID-4984: Fix for recovery ambiguity issue, other code tidy-ups #MsgLength=65


----
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|1 1
Modified: src/qpid/linearstore/BindingDbt.h|3 3
Modified: src/qpid/linearstore/BufferValue.h|3 3
Modified: src/qpid/linearstore/Cursor.h|3 3
Modified: src/qpid/linearstore/DataTokenImpl.h|4 4
Modified: src/qpid/linearstore/ISSUES|5 2
Modified: src/qpid/linearstore/IdDbt.h|3 3
Modified: src/qpid/linearstore/IdSequence.h|3 3
Modified: src/qpid/linearstore/JournalImpl.cpp|7 7
Modified: src/qpid/linearstore/JournalImpl.h|23 23
Modified: src/qpid/linearstore/JournalLogImpl.cpp|3 3
Modified: src/qpid/linearstore/JournalLogImpl.h|7 7
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|54 60
Modified: src/qpid/linearstore/MessageStoreImpl.h|12 12
Modified: src/qpid/linearstore/PreparedTransaction.h|3 3
Modified: src/qpid/linearstore/StoreException.h|3 3
Modified: src/qpid/linearstore/TxnCtxt.cpp|5 5
Modified: src/qpid/linearstore/TxnCtxt.h|3 3
Modified: src/qpid/linearstore/jrnl/AtomicCounter.h|6 5
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.cpp|3 2
Modified: src/qpid/linearstore/jrnl/EmptyFilePool.h|9 9
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolManager.cpp|7 6
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolManager.h|3 2
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.cpp|3 2
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolPartition.h|9 9
Modified: src/qpid/linearstore/jrnl/EmptyFilePoolTypes.h|7 5
Modified: src/qpid/linearstore/jrnl/JournalFile.cpp|50 9
Modified: src/qpid/linearstore/jrnl/JournalFile.h|20 8
Modified: src/qpid/linearstore/jrnl/JournalLog.cpp|3 2
Modified: src/qpid/linearstore/jrnl/JournalLog.h|6 5
Modified: src/qpid/linearstore/jrnl/LinearFileController.cpp|11 5
Modified: src/qpid/linearstore/jrnl/LinearFileController.h|8 6
Modified: src/qpid/linearstore/jrnl/RecoveryManager.cpp|173 96
Modified: src/qpid/linearstore/jrnl/RecoveryManager.h|12 7
Modified: src/qpid/linearstore/jrnl/aio.h|7 8
Modified: src/qpid/linearstore/jrnl/aio_callback.h|15 16
Modified: src/qpid/linearstore/jrnl/cvar.h|7 8
Modified: src/qpid/linearstore/jrnl/data_tok.cpp|4 53
Modified: src/qpid/linearstore/jrnl/data_tok.h|11 35
Modified: src/qpid/linearstore/jrnl/deq_rec.cpp|28 205
Modified: src/qpid/linearstore/jrnl/deq_rec.h|38 60
Modified: src/qpid/linearstore/jrnl/enq_map.cpp|4 5
Modified: src/qpid/linearstore/jrnl/enq_map.h|11 13
Modified: src/qpid/linearstore/jrnl/enq_rec.cpp|26 287
Modified: src/qpid/linearstore/jrnl/enq_rec.h|41 73
Modified: src/qpid/linearstore/jrnl/enums.h|7 48
Modified: src/qpid/linearstore/jrnl/jcfg.h|3 3
Modified: src/qpid/linearstore/jrnl/jcntl.cpp|6 7
Modified: src/qpid/linearstore/jrnl/jcntl.h|11 13
Modified: src/qpid/linearstore/jrnl/jdir.cpp|4 5
Modified: src/qpid/linearstore/jrnl/jdir.h|11 13
Modified: src/qpid/linearstore/jrnl/jerrno.cpp|4 5
Modified: src/qpid/linearstore/jrnl/jerrno.h|11 13
Modified: src/qpid/linearstore/jrnl/jexception.cpp|4 5
Modified: src/qpid/linearstore/jrnl/jexception.h|12 13
Modified: src/qpid/linearstore/jrnl/jrec.cpp|6 75
Modified: src/qpid/linearstore/jrnl/jrec.h|88 135
Modified: src/qpid/linearstore/jrnl/pmgr.cpp|4 5
Modified: src/qpid/linearstore/jrnl/pmgr.h|13 14
Modified: src/qpid/linearstore/jrnl/slock.h|7 8
Modified: src/qpid/linearstore/jrnl/smutex.h|7 8
Modified: src/qpid/linearstore/jrnl/time_ns.cpp|4 6
Modified: src/qpid/linearstore/jrnl/time_ns.h|7 8
Modified: src/qpid/linearstore/jrnl/txn_map.cpp|4 5
Modified: src/qpid/linearstore/jrnl/txn_map.h|11 13
Modified: src/qpid/linearstore/jrnl/txn_rec.cpp|30 190
Modified: src/qpid/linearstore/jrnl/txn_rec.h|35 56
Modified: src/qpid/linearstore/jrnl/utils/deq_hdr.c|3 3
Modified: src/qpid/linearstore/jrnl/utils/deq_hdr.h|8 6
Modified: src/qpid/linearstore/jrnl/utils/enq_hdr.c|2 2
Modified: src/qpid/linearstore/jrnl/utils/enq_hdr.h|8 6
Modified: src/qpid/linearstore/jrnl/utils/file_hdr.c|29 4
Modified: src/qpid/linearstore/jrnl/utils/file_hdr.h|14 11
Modified: src/qpid/linearstore/jrnl/utils/rec_hdr.c|16 1
Modified: src/qpid/linearstore/jrnl/utils/rec_hdr.h|11 6
Modified: src/qpid/linearstore/jrnl/utils/rec_tail.c|12 1
Modified: src/qpid/linearstore/jrnl/utils/rec_tail.h|14 8
Modified: src/qpid/linearstore/jrnl/utils/txn_hdr.c|2 2
Modified: src/qpid/linearstore/jrnl/utils/txn_hdr.h|9 7
Modified: src/qpid/linearstore/jrnl/wmgr.cpp|8 9
Modified: src/qpid/linearstore/jrnl/wmgr.h|125 126

Revision: 292f0e62734f375f1f5f5b5a418ddc0e3648147f
Author: Gordon Sim <gsim@apache.org>
Date: 16/11/2013 01:34:38
Message:
QPID-5348: add option to have to field populated automatically #MsgLength=63


----
Modified: src/qpid/messaging/ConnectionOptions.cpp|3 1
Modified: src/qpid/messaging/ConnectionOptions.h|1 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|13 9
Modified: src/qpid/messaging/amqp/SenderContext.h|3 2
Modified: src/qpid/messaging/amqp/SessionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/SessionContext.h|1 1
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|1 1

Revision: 938ba005aa7e874f3f7e2eeefa68f6943023ff47
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/11/2013 04:17:32
Message:
QPID-4984: Change jrnl directory to journal - aligns namespaces with journal structure #MsgLength=87


----
Modified: src/linearstore.cmake|26 27
Modified: src/qpid/linearstore/DataTokenImpl.h|1 1
Modified: src/qpid/linearstore/JournalImpl.cpp|3 3
Modified: src/qpid/linearstore/JournalImpl.h|3 3
Modified: src/qpid/linearstore/JournalLogImpl.h|1 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|2 2
Modified: src/qpid/linearstore/MessageStoreImpl.h|2 2
Modified: src/qpid/linearstore/TxnCtxt.cpp|1 1
Renamed: src/qpid/linearstore/journal/AtomicCounter.h [from src/qpid/linearstore/jrnl/AtomicCounter.h]|1 1
Renamed: src/qpid/linearstore/journal/EmptyFilePool.cpp [from src/qpid/linearstore/jrnl/EmptyFilePool.cpp]|7 7
Renamed: src/qpid/linearstore/journal/EmptyFilePool.h [from src/qpid/linearstore/jrnl/EmptyFilePool.h]|2 2
Renamed: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp [from src/qpid/linearstore/jrnl/EmptyFilePoolManager.cpp]|4 4
Renamed: src/qpid/linearstore/journal/EmptyFilePoolManager.h [from src/qpid/linearstore/jrnl/EmptyFilePoolManager.h]|2 2
Renamed: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp [from src/qpid/linearstore/jrnl/EmptyFilePoolPartition.cpp]|5 5
Renamed: src/qpid/linearstore/journal/EmptyFilePoolPartition.h [from src/qpid/linearstore/jrnl/EmptyFilePoolPartition.h]|3 3
Renamed: src/qpid/linearstore/journal/EmptyFilePoolTypes.h [from src/qpid/linearstore/jrnl/EmptyFilePoolTypes.h]|0 0
Renamed: src/qpid/linearstore/journal/JournalFile.cpp [from src/qpid/linearstore/jrnl/JournalFile.cpp]|5 5
Renamed: src/qpid/linearstore/journal/JournalFile.h [from src/qpid/linearstore/jrnl/JournalFile.h]|3 3
Renamed: src/qpid/linearstore/journal/JournalLog.cpp [from src/qpid/linearstore/jrnl/JournalLog.cpp]|1 1
Renamed: src/qpid/linearstore/journal/JournalLog.h [from src/qpid/linearstore/jrnl/JournalLog.h]|0 0
Renamed: src/qpid/linearstore/journal/LinearFileController.cpp [from src/qpid/linearstore/jrnl/LinearFileController.cpp]|7 7
Renamed: src/qpid/linearstore/journal/LinearFileController.h [from src/qpid/linearstore/jrnl/LinearFileController.h]|2 2
Renamed: src/qpid/linearstore/journal/RecoveryManager.cpp [from src/qpid/linearstore/jrnl/RecoveryManager.cpp]|16 16
Renamed: src/qpid/linearstore/journal/RecoveryManager.h [from src/qpid/linearstore/jrnl/RecoveryManager.h]|1 1
Renamed: src/qpid/linearstore/journal/aio.h [from src/qpid/linearstore/jrnl/aio.h]|0 0
Renamed: src/qpid/linearstore/journal/aio_callback.h [from src/qpid/linearstore/jrnl/aio_callback.h]|0 0
Renamed: src/qpid/linearstore/journal/cvar.h [from src/qpid/linearstore/jrnl/cvar.h]|4 4
Renamed: src/qpid/linearstore/journal/data_tok.cpp [from src/qpid/linearstore/jrnl/data_tok.cpp]|4 4
Renamed: src/qpid/linearstore/journal/data_tok.h [from src/qpid/linearstore/jrnl/data_tok.h]|1 1
Renamed: src/qpid/linearstore/journal/deq_rec.cpp [from src/qpid/linearstore/jrnl/deq_rec.cpp]|2 2
Renamed: src/qpid/linearstore/journal/deq_rec.h [from src/qpid/linearstore/jrnl/deq_rec.h]|3 3
Renamed: src/qpid/linearstore/journal/enq_map.cpp [from src/qpid/linearstore/jrnl/enq_map.cpp]|3 3
Renamed: src/qpid/linearstore/journal/enq_map.h [from src/qpid/linearstore/jrnl/enq_map.h]|2 2
Renamed: src/qpid/linearstore/journal/enq_rec.cpp [from src/qpid/linearstore/jrnl/enq_rec.cpp]|2 2
Renamed: src/qpid/linearstore/journal/enq_rec.h [from src/qpid/linearstore/jrnl/enq_rec.h]|3 3
Renamed: src/qpid/linearstore/journal/enums.h [from src/qpid/linearstore/jrnl/enums.h]|0 0
Renamed: src/qpid/linearstore/journal/jcfg.h [from src/qpid/linearstore/jrnl/jcfg.h]|0 0
Renamed: src/qpid/linearstore/journal/jcntl.cpp [from src/qpid/linearstore/jrnl/jcntl.cpp]|6 6
Renamed: src/qpid/linearstore/journal/jcntl.h [from src/qpid/linearstore/jrnl/jcntl.h]|6 6
Renamed: src/qpid/linearstore/journal/jdir.cpp [from src/qpid/linearstore/jrnl/jdir.cpp]|4 4
Renamed: src/qpid/linearstore/journal/jdir.h [from src/qpid/linearstore/jrnl/jdir.h]|0 0
Renamed: src/qpid/linearstore/journal/jerrno.cpp [from src/qpid/linearstore/jrnl/jerrno.cpp]|1 1
Renamed: src/qpid/linearstore/journal/jerrno.h [from src/qpid/linearstore/jrnl/jerrno.h]|0 0
Renamed: src/qpid/linearstore/journal/jexception.cpp [from src/qpid/linearstore/jrnl/jexception.cpp]|2 2
Renamed: src/qpid/linearstore/journal/jexception.h [from src/qpid/linearstore/jrnl/jexception.h]|1 1
Renamed: src/qpid/linearstore/journal/jrec.h [from src/qpid/linearstore/jrnl/jrec.h]|3 3
Renamed: src/qpid/linearstore/journal/pmgr.cpp [from src/qpid/linearstore/jrnl/pmgr.cpp]|4 4
Renamed: src/qpid/linearstore/journal/pmgr.h [from src/qpid/linearstore/jrnl/pmgr.h]|8 8
Renamed: src/qpid/linearstore/journal/slock.h [from src/qpid/linearstore/jrnl/slock.h]|2 2
Renamed: src/qpid/linearstore/journal/smutex.h [from src/qpid/linearstore/jrnl/smutex.h]|1 1
Renamed: src/qpid/linearstore/journal/time_ns.cpp [from src/qpid/linearstore/jrnl/time_ns.cpp]|1 1
Renamed: src/qpid/linearstore/journal/time_ns.h [from src/qpid/linearstore/jrnl/time_ns.h]|0 0
Renamed: src/qpid/linearstore/journal/txn_map.cpp [from src/qpid/linearstore/jrnl/txn_map.cpp]|4 4
Renamed: src/qpid/linearstore/journal/txn_map.h [from src/qpid/linearstore/jrnl/txn_map.h]|1 1
Renamed: src/qpid/linearstore/journal/txn_rec.cpp [from src/qpid/linearstore/jrnl/txn_rec.cpp]|2 2
Renamed: src/qpid/linearstore/journal/txn_rec.h [from src/qpid/linearstore/jrnl/txn_rec.h]|3 3
Renamed: src/qpid/linearstore/journal/utils/deq_hdr.c [from src/qpid/linearstore/jrnl/utils/deq_hdr.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/deq_hdr.h [from src/qpid/linearstore/jrnl/utils/deq_hdr.h]|0 0
Renamed: src/qpid/linearstore/journal/utils/enq_hdr.c [from src/qpid/linearstore/jrnl/utils/enq_hdr.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/enq_hdr.h [from src/qpid/linearstore/jrnl/utils/enq_hdr.h]|0 0
Renamed: src/qpid/linearstore/journal/utils/file_hdr.c [from src/qpid/linearstore/jrnl/utils/file_hdr.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/file_hdr.h [from src/qpid/linearstore/jrnl/utils/file_hdr.h]|0 0
Renamed: src/qpid/linearstore/journal/utils/rec_hdr.c [from src/qpid/linearstore/jrnl/utils/rec_hdr.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/rec_hdr.h [from src/qpid/linearstore/jrnl/utils/rec_hdr.h]|0 0
Renamed: src/qpid/linearstore/journal/utils/rec_tail.c [from src/qpid/linearstore/jrnl/utils/rec_tail.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/rec_tail.h [from src/qpid/linearstore/jrnl/utils/rec_tail.h]|0 0
Renamed: src/qpid/linearstore/journal/utils/txn_hdr.c [from src/qpid/linearstore/jrnl/utils/txn_hdr.c]|0 0
Renamed: src/qpid/linearstore/journal/utils/txn_hdr.h [from src/qpid/linearstore/jrnl/utils/txn_hdr.h]|0 0
Renamed: src/qpid/linearstore/journal/wmgr.cpp [from src/qpid/linearstore/jrnl/wmgr.cpp]|6 6
Renamed: src/qpid/linearstore/journal/wmgr.h [from src/qpid/linearstore/jrnl/wmgr.h]|3 3
Deleted: src/qpid/linearstore/jrnl/jrec.cpp|0 38

Revision: 2c22acdf6b0560151ee0a4eea2881b7433d2e692
Author: Charles E. Rolke <chug@apache.org>
Date: 18/11/2013 09:16:42
Message:
QPID-5349: qpid-proton.dll is not installed in \bin ampq.cmake installed the file in \lib and not in \bin with the rest of the dlls. #MsgLength=134


----
Modified: src/amqp.cmake|2 2

Revision: d568f4a8c1833b22210b2e076f45d9aed3afb5b6
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2013 20:42:26
Message:
QPID-5354: ensure requested durability for dynamically created node is communicated #MsgLength=84


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 1

Revision: 5ac46728a657759c9ff4ba45246fec6bdabc96a9
Author: Gordon Sim <gsim@apache.org>
Date: 18/11/2013 20:42:31
Message:
QPID-5354: added test #MsgLength=22


----
Modified: src/tests/assertions.py|6 1

Revision: af3ae1c88abd32388b0d12aba974232d0ba750ec
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/11/2013 01:44:32
Message:
QPID-4984: Cleanup of #includes #MsgLength=32


----
Modified: src/qpid/linearstore/JournalImpl.cpp|26 39
Modified: src/qpid/linearstore/JournalImpl.h|8 14
Modified: src/qpid/linearstore/JournalLogImpl.cpp|2 0
Modified: src/qpid/linearstore/JournalLogImpl.h|0 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|12 11
Modified: src/qpid/linearstore/MessageStoreImpl.h|21 16
Modified: src/qpid/linearstore/PreparedTransaction.cpp|3 3
Modified: src/qpid/linearstore/PreparedTransaction.h|2 4
Modified: src/qpid/linearstore/StoreException.h|1 1
Modified: src/qpid/linearstore/StorePlugin.cpp|1 0
Modified: src/qpid/linearstore/TxnCtxt.cpp|2 3
Modified: src/qpid/linearstore/TxnCtxt.h|10 12
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|0 2
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|0 1
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|1 2
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.h|6 1
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|1 3
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.h|3 8
Modified: src/qpid/linearstore/journal/EmptyFilePoolTypes.h|0 1
Modified: src/qpid/linearstore/journal/JournalFile.cpp|0 1
Modified: src/qpid/linearstore/journal/JournalFile.h|0 2
Modified: src/qpid/linearstore/journal/JournalLog.cpp|1 0
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|0 4
Modified: src/qpid/linearstore/journal/LinearFileController.h|1 4
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|1 0
Modified: src/qpid/linearstore/journal/aio.h|0 1
Deleted: src/qpid/linearstore/journal/cvar.h|0 75
Modified: src/qpid/linearstore/journal/data_tok.cpp|0 3
Modified: src/qpid/linearstore/journal/data_tok.h|0 3
Modified: src/qpid/linearstore/journal/deq_rec.cpp|0 1
Modified: src/qpid/linearstore/journal/enq_map.cpp|0 4
Modified: src/qpid/linearstore/journal/enq_map.h|62 71
Modified: src/qpid/linearstore/journal/enq_rec.cpp|0 1
Modified: src/qpid/linearstore/journal/enums.h|23 23
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 15
Modified: src/qpid/linearstore/journal/jcntl.h|516 524
Modified: src/qpid/linearstore/journal/jdir.cpp|0 4
Modified: src/qpid/linearstore/journal/jdir.h|0 7
Modified: src/qpid/linearstore/journal/jexception.cpp|0 2
Modified: src/qpid/linearstore/journal/jrec.h|0 3
Modified: src/qpid/linearstore/journal/pmgr.cpp|0 8
Modified: src/qpid/linearstore/journal/pmgr.h|69 75
Modified: src/qpid/linearstore/journal/slock.h|33 34
Modified: src/qpid/linearstore/journal/txn_map.cpp|0 4
Modified: src/qpid/linearstore/journal/txn_map.h|0 8
Modified: src/qpid/linearstore/journal/txn_rec.cpp|0 1
Modified: src/qpid/linearstore/journal/wmgr.cpp|4 8
Modified: src/qpid/linearstore/journal/wmgr.h|0 10

Revision: e7379270b0bd8c3f03e2c419ecc37c29bb75f3d8
Author: Charles E. Rolke <chug@apache.org>
Date: 19/11/2013 03:33:52
Message:
QPID-5355: Restore deleted management statistic. #MsgLength=51


----
Modified: src/qpid/broker/management-schema.xml|2 0

Revision: 477481aadf2d8c0e4aeeb37434590bfa3c3629b1
Author: Pavel Moravec <pmoravec@apache.org>
Date: 19/11/2013 23:16:11
Message:
QPID-5278 , QPID-5281: Queue flow limit validation ignores size parameters , Creating a queue with invalid settings results in no queue but only its management object exists #MsgLength=174


----
Modified: src/qpid/broker/QueueFactory.cpp|4 1
Modified: src/qpid/broker/QueueFlowLimit.cpp|56 55
Modified: src/qpid/broker/QueueFlowLimit.h|8 6
Modified: src/tests/QueueFlowLimitTest.cpp|17 26

Revision: 82bb43dcd472f1c5fc0571cf2d6263082a6ba8cd
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/11/2013 01:11:59
Message:
NO-JIRA: Update of ISSUES file to reflect latest JIRA numbers for outstanding issues #MsgLength=85


----
Modified: src/qpid/linearstore/ISSUES|17 19

Revision: 6cb9f3ee405b32b88f3353c919535a9647d663aa
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2013 02:02:25
Message:
QPID-5366: qpid segfaults in qpid::ha::BrokerReplicator::disconnected #MsgLength=733


----
Modified: src/qpid/ha/BrokerReplicator.cpp|7 28
Modified: src/qpid/ha/BrokerReplicator.h|12 6

Revision: a768c033970ca9e7483b256e7e51fb0c93c36826
Author: Alan Conway <aconway@apache.org>
Date: 21/11/2013 04:04:55
Message:
NO-JIRA: HA remove use of make_shared, not available in RHEL5 boost. #MsgLength=69


----
Modified: src/qpid/ha/QueueSnapshots.h|1 2

Revision: 8e6db669127bc2f714a72b1b4a3b90cee0495169
Author: Charles E. Rolke <chug@apache.org>
Date: 21/11/2013 04:24:15
Message:
QPID-5363: Add locks to prevent race condition in Amqp 1.0 transport handler. Windows clients occasionally crash on exit handling simultaneous eof() and close() on separate threads. #MsgLength=185


----
Modified: src/qpid/messaging/amqp/TcpTransport.cpp|33 16
Modified: src/qpid/messaging/amqp/TcpTransport.h|2 0

Revision: 2efb0a55b603dca8e5ad7cc36f68fb6d33c3be82
Author: Gordon Sim <gsim@apache.org>
Date: 23/11/2013 00:33:40
Message:
NO-JIRA: add a bit more visible logging to indicate progress in reconnect attempt #MsgLength=82


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 0

Revision: 2a094d6b0d5fdaa8cd41eedcf5ce4c3a3e742c94
Author: Ken Giusti <kgiusti@apache.org>
Date: 26/11/2013 02:47:16
Message:
QPID-5369: Issue compile-time error if deprecated QMF Agent or Console API used by applications #MsgLength=96


----
Modified: bindings/qmf2/examples/cpp/agent.cpp|2 0
Modified: bindings/qmf2/examples/cpp/event_driven_list_agents.cpp|2 0
Modified: bindings/qmf2/examples/cpp/list_agents.cpp|2 0
Modified: bindings/qmf2/examples/cpp/print_events.cpp|2 0
Modified: include/qmf/Agent.h|5 0
Modified: include/qmf/AgentEvent.h|5 0
Modified: include/qmf/AgentSession.h|5 0
Modified: include/qmf/ConsoleEvent.h|5 0
Modified: include/qmf/ConsoleSession.h|5 0
Modified: include/qmf/Data.h|5 0
Modified: include/qmf/DataAddr.h|5 0
Modified: include/qmf/Handle.h|5 0
Modified: include/qmf/Query.h|5 0
Modified: include/qmf/Schema.h|5 0
Modified: include/qmf/SchemaId.h|5 0
Modified: include/qmf/SchemaMethod.h|5 0
Modified: include/qmf/SchemaProperty.h|5 0
Modified: include/qmf/SchemaTypes.h|5 0
Modified: include/qmf/Subscription.h|5 0
Modified: include/qmf/exceptions.h|5 0
Modified: include/qmf/posix/EventNotifier.h|5 0
Modified: include/qmf/qmf2.i|1 0

Revision: 69176097a460f81e2386aca5d82dccb13fd4ad50
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/11/2013 16:13:30
Message:
QPID-5357 "Linearstore: Empty file recycling not functional": Fix which implements the empty file check for trailing empty files. #MsgLength=130


----
Modified: src/linearstore.cmake|2 2
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|11 2
Modified: src/qpid/linearstore/journal/LinearFileController.h|1 0

Revision: e0e3058a1bd4295e463614e2555ca87567899a8f
Author: Ken Giusti <kgiusti@apache.org>
Date: 27/11/2013 02:46:35
Message:
QPID-5369: add deprecation warnings to the QMF2 wrapped modules #MsgLength=64


----
Modified: bindings/qmf2/python/qmf2.py|4 0
Modified: bindings/qmf2/ruby/qmf2.rb|2 0

Revision: 7a649dd53e81a4f1ade68b192e87f6a2ef066d2d
Author: Alan Conway <aconway@apache.org>
Date: 29/11/2013 01:11:50
Message:
NO-JIRA: Fix use of intrusive_ptr.reset, not available on RHEL5. #MsgLength=65


----
Modified: src/qpid/ha/TxReplicator.cpp|1 1

Revision: 568d0ab5b3a348d7ba90413707e25a1084dc3be9
Author: Gordon Sim <gsim@apache.org>
Date: 29/11/2013 01:59:44
Message:
QPID-5378: track outstanding fetches and for receivers with zero capaicty, reissue credit correctly on reconnect #MsgLength=113


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|10 1
Modified: src/qpid/messaging/amqp/ReceiverContext.h|2 0

Revision: 58da0c0b5393ab61df288c0e066b86ddf0b7399a
Author: Gordon Sim <gsim@apache.org>
Date: 30/11/2013 03:17:59
Message:
QPID-5379: fix security layer for 1.0 client #MsgLength=45


----
Modified: src/qpid/amqp/Sasl.cpp|6 1
Modified: src/qpid/amqp/Sasl.h|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|22 1
Modified: src/qpid/messaging/amqp/ConnectionContext.h|13 0
Modified: src/qpid/messaging/amqp/Sasl.cpp|6 1
Modified: src/qpid/messaging/amqp/Sasl.h|2 0

Revision: abcbcba252ff352050ac528ffb198fb4de912004
Author: Gordon Sim <gsim@apache.org>
Date: 02/12/2013 18:43:43
Message:
QPID-5379: missing export directive for windows #MsgLength=48


----
Modified: src/qpid/amqp/Sasl.h|1 1

Revision: cc7b61691afd8ddc9bb159cb7454753c8586c776
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2013 01:52:49
Message:
QPID-5383: retain encoding information in queue properties #MsgLength=59


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|12 2

Revision: 9aeda89d100ddf6e27f487d02bb03e30861c1b03
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2013 01:52:57
Message:
QPID-5384: special asserting logic for autodelete #MsgLength=50


----
Modified: src/qpid/broker/Exchange.cpp|4 0
Modified: src/qpid/broker/Exchange.h|1 0
Modified: src/qpid/broker/amqp/NodeProperties.cpp|13 6
Modified: src/qpid/broker/amqp/NodeProperties.h|3 0
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|14 3

Revision: ae51a605f3ac6f23a4ca51f055d86692e44f9f8b
Author: Gordon Sim <gsim@apache.org>
Date: 04/12/2013 01:53:03
Message:
QPID-5383, QPID-5384: added some test cases for assertions #MsgLength=59


----
Modified: src/tests/assertions.py|35 2

Revision: 4b5bc8f5192fbf258a3178c7ee57253d11a4a73f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/12/2013 05:46:39
Message:
QPID-5358: Checksum not implemented in record tail, not checked during read. Implemented the Alder-32 algorithm to check every record from the start of the header to the start of the record tail. Upon recovery, the recovered record checksum is compared to the record tail checksum. This should detect the condition where a multi-page record may have its header and tail written, but one or more of its inbetween pages may not be fully written. #MsgLength=444


----
Modified: src/linearstore.cmake|1 0
Modified: src/qpid/linearstore/ISSUES|9 3
Added: src/qpid/linearstore/journal/Checksum.cpp|43 0
Added: src/qpid/linearstore/journal/Checksum.h|54 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|27 0
Modified: src/qpid/linearstore/journal/deq_rec.cpp|19 6
Modified: src/qpid/linearstore/journal/deq_rec.h|1 1
Modified: src/qpid/linearstore/journal/enq_rec.cpp|24 27
Modified: src/qpid/linearstore/journal/enq_rec.h|1 1
Modified: src/qpid/linearstore/journal/jrec.h|3 1
Modified: src/qpid/linearstore/journal/txn_rec.cpp|19 6
Modified: src/qpid/linearstore/journal/txn_rec.h|1 1
Modified: src/qpid/linearstore/journal/wmgr.cpp|9 4

Revision: c27e14860ee6e84b55f052b8d0029e2c5de7623b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/12/2013 07:22:38
Message:
QPID-5387: Segmentation fault when deleting queue. Incorrect order of operations on LinearFileController resulted in all JournalFile objects being deleted before they could be recycled to the EFP. #MsgLength=197


----
Modified: src/qpid/linearstore/ISSUES|1 1
Modified: src/qpid/linearstore/journal/jcntl.cpp|0 1

Revision: 4c57090d678eb959868a8c4eddf4502bce769665
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/12/2013 05:24:49
Message:
QPID-5388: Segmentation fault when recovering empty queue. The recovery could not handle uninitialized journal files, which exist prior to the first write of a record to the journal. The recovery now correctly utilizes the uninitialized file. #MsgLength=243


----
Modified: src/qpid/linearstore/ISSUES|4 4
Modified: src/qpid/linearstore/JournalLogImpl.cpp|7 7
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|4 0
Modified: src/qpid/linearstore/journal/LinearFileController.h|1 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|35 7
Modified: src/qpid/linearstore/journal/RecoveryManager.h|1 0
Modified: src/qpid/linearstore/journal/utils/file_hdr.c|1 1

Revision: 3e73bf96c0346f7dac1c0c99362d298aa3d2bb90
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/12/2013 06:19:02
Message:
QPID-5394: Fix the binding dependencies so that we no longer keep on rebuilding the python swig bindings unnecessarily #MsgLength=119


----
Modified: bindings/qmf2/python/CMakeLists.txt|18 7
Renamed: bindings/qmf2/python/cqmf2.i [from bindings/qmf2/python/python.i]|0 0
Modified: bindings/qmf2/ruby/CMakeLists.txt|7 1
Modified: bindings/qpid/python/CMakeLists.txt|11 7
Renamed: bindings/qpid/python/qpid_messaging.i [from bindings/qpid/python/python.i]|0 0
Modified: bindings/qpid/ruby/CMakeLists.txt|5 3

Revision: 5f23380291f89d089ea4b860329a88e56de5aaa9
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 05/12/2013 06:58:44
Message:
QPID-5356: stop default search for client certificate when not specified #MsgLength=73


----
Modified: src/qpid/client/windows/SslConnector.cpp|1 0
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|21 4
Modified: src/qpid/sys/windows/SslAsynchIO.h|2 1

Revision: 766b4b663df5521dce09cb212eba45a9c8ce5a1b
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 05/12/2013 07:12:01
Message:
QPID-5375: make Windows client certs more like their Posix counterpart, no longer restricted to SASL EXTERNAL #MsgLength=110


----
Modified: src/qpid/client/windows/SslConnector.cpp|87 37

Revision: 67335b32509f6e4714be1b9e4406d015d58fd2e6
Author: Gordon Sim <gsim@apache.org>
Date: 05/12/2013 23:53:52
Message:
QPID-5395: use newly added proton tracer callback to unify logging #MsgLength=67


----
Modified: src/amqp.cmake|4 0
Modified: src/config.h.cmake|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|30 1
Modified: src/qpid/broker/amqp/Connection.h|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|30 1
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0

Revision: 7f69b2744bab76e168ec2e33f4302d2b66f32c22
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 06/12/2013 00:04:47
Message:
QPID-5396: map confusing registry GUI name to its real name: Personal -> My #MsgLength=76


----
Modified: src/qpid/client/windows/SslConnector.cpp|7 3

Revision: 129c6fccbbdde34910e9ae731ac3b3fa40832063
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2013 04:21:30
Message:
QPID-3981: Windows C++ Broker fails ACL self tests #MsgLength=511


----
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|11 1

Revision: 3b361820972dc96438cf319ca6a655d68f60fb27
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2013 04:34:21
Message:
QPID-5398: qpidd --acl-file does not work with a drive-prefixed path on windows. #MsgLength=399


----
Modified: src/CMakeLists.txt|2 0
Modified: src/qpid/acl/AclPlugin.cpp|6 5
Added: src/qpid/sys/Path.h|61 0
Added: src/qpid/sys/posix/Path.cpp|64 0
Added: src/qpid/sys/windows/Path.cpp|65 0

Revision: 949d0794ad8c975f1816fba3f34f28eea9b51835
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2013 06:11:31
Message:
QPID-5398: Minor improvement to log message. #MsgLength=45


----
Modified: src/qpid/sys/windows/Path.cpp|1 1

Revision: 4578d2d805fbb80314f09c979745d596569e80a1
Author: Alan Conway <aconway@apache.org>
Date: 06/12/2013 06:49:48
Message:
QPID-5398: Minor improvement to log message. #MsgLength=75


----
Modified: src/qpid/sys/windows/Path.cpp|1 1

Revision: f21ce6753c3c841d5a10b7ca67d315275509cf61
Author: Alan Conway <aconway@apache.org>
Date: 07/12/2013 00:52:36
Message:
QPID-5398: Fix cut 'n paste error in sys/posix/Path.cpp #MsgLength=129


----
Modified: src/qpid/sys/posix/Path.cpp|1 5

Revision: 65d5deeefd269776964b87b5726306eb80b4b105
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/12/2013 02:34:38
Message:
NO-JIRA: Remove useless comments #MsgLength=33


----
Modified: src/tests/CMakeLists.txt|0 6

Revision: 96207ac96ae713a3fca466323f89c4426bc30974
Author: Alan Conway <aconway@apache.org>
Date: 10/12/2013 22:11:36
Message:
QPID-5404: HA broker message duplication when deleting a queue with an alt-exchange #MsgLength=529


----
Modified: src/qpid/ha/Backup.cpp|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|5 18
Modified: src/qpid/ha/BrokerReplicator.h|1 1
Modified: src/qpid/ha/Primary.cpp|9 0
Modified: src/qpid/ha/PrimaryTxObserver.cpp|3 3
Modified: src/qpid/ha/QueueReplicator.cpp|24 0
Modified: src/qpid/ha/QueueReplicator.h|6 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 1
Modified: src/tests/ha_tests.py|40 72

Revision: 6808bae4a6ff66700529cc88169a867ddd17db44
Author: Gordon Sim <gsim@apache.org>
Date: 11/12/2013 06:52:39
Message:
QPID-5416: esure message publisher is set #MsgLength=42


----
Modified: src/qpid/broker/amqp/Incoming.cpp|2 0

Revision: 3d0035881671803308afbd448ca89d342e1b1448
Author: Gordon Sim <gsim@apache.org>
Date: 12/12/2013 01:08:47
Message:
QPID-5416: added missing export for method now used in amqp 1.0 plugin #MsgLength=71


----
Modified: src/qpid/broker/Message.h|1 1

Revision: 6752dd89e99bd0116d40db1677996508e3fbf884
Author: Alan Conway <aconway@apache.org>
Date: 13/12/2013 04:09:20
Message:
NO-JIRA: Expanded the HA overview writeup, integrated with doxygen docs. #MsgLength=73


----
Modified: docs/api/doxygen_developer_mainpage.h|5 4
Added: src/qpid/ha/README.h|149 0
Modified: src/qpid/ha/ReplicatingSubscription.h|76 76

Revision: c71c71793c6cce3dd2c8728a6767f9f31a248120
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2013 03:30:01
Message:
QPID-5421: Refactor: clean up QueueObservers. #MsgLength=323


----
Modified: src/qpid/broker/BrokerObservers.h|7 11
Modified: src/qpid/broker/ConnectionObservers.h|1 4
Modified: src/qpid/broker/Observers.h|22 10
Modified: src/qpid/broker/Queue.cpp|14 64
Modified: src/qpid/broker/Queue.h|5 11
Modified: src/qpid/broker/QueueFactory.cpp|1 1
Modified: src/qpid/broker/QueueFlowLimit.cpp|1 1
Added: src/qpid/broker/QueueObservers.h|77 0
Modified: src/qpid/broker/ThresholdAlerts.cpp|1 1
Modified: src/qpid/ha/QueueGuard.cpp|3 3
Modified: src/qpid/ha/QueueReplicator.cpp|1 1
Modified: src/qpid/ha/QueueSnapshots.h|2 6
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 3

Revision: 439d5ed57ea45e4fbb583d02444108101cec2e69
Author: Alan Conway <aconway@apache.org>
Date: 14/12/2013 03:30:12
Message:
QPID-5421: HA replication error in stand-alone replication #MsgLength=677


----
Modified: src/qpid/broker/Observers.h|12 0
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1
Modified: src/qpid/ha/HaBroker.cpp|18 5
Modified: src/qpid/ha/HaBroker.h|2 5
Modified: src/qpid/ha/IdSetter.h|1 5
Modified: src/qpid/ha/Primary.cpp|0 12
Modified: src/qpid/ha/Primary.h|0 1
Modified: src/qpid/ha/QueueReplicator.cpp|24 16
Modified: src/qpid/ha/QueueReplicator.h|0 2
Modified: src/qpid/ha/QueueSnapshot.h|1 1
Deleted: src/qpid/ha/QueueSnapshots.h|0 70
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 14
Modified: src/tests/ha_tests.py|27 26

Revision: 99e448ba9ee135f53a2d830b8a80d9b476a6337f
Author: Alan Conway <aconway@apache.org>
Date: 16/12/2013 21:57:44
Message:
QPID-5421: Refactor: clean up QueueObservers - fix CMakelists.txt #MsgLength=143


----
Modified: src/CMakeLists.txt|0 1

Revision: a304265da84068323b88599b20b725b3ae908f60
Author: Charles E. Rolke <chug@apache.org>
Date: 17/12/2013 00:33:24
Message:
QPID-5421: Restore windows fix that got reverted on r1550819 #MsgLength=61


----
Modified: src/qpid/ha/BrokerReplicator.cpp|1 1

Revision: 33dc4357b30b2cf030c34c25ae701ff860f79fe9
Author: Charles E. Rolke <chug@apache.org>
Date: 17/12/2013 00:51:44
Message:
NO-JIRA: Add ASF license statements to dotnet binding solution and config files. Reported by RAT on qpid-0.26-rc1 Generated at: 2013-12-15T18:48:44+00:00 #MsgLength=154


----
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.direct.receiver/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.direct.sender/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.client/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.declare_queues/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.drain/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.helloworld/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.server/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.example.spout/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.receiver/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.sender/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.map.receiver/app.config|18 0
Modified: bindings/qpid/dotnet/examples/msvc10/csharp.map.sender/app.config|18 0
Modified: bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sessionreceiver.sln|20 0
Modified: bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sln|20 0
Modified: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj|18 0
Modified: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj.filters|18 0
Modified: bindings/qpid/dotnet/winsdk_sources/msvc10/winsdk_dotnet_examples.sln|20 0

Revision: e7650f2e190412600ed4cc59a4e5008154b6ea25
Author: Alan Conway <aconway@apache.org>
Date: 17/12/2013 02:41:20
Message:
NO-JIRA: Add missing apache copyright licence text. #MsgLength=52


----
Modified: AMQP_1.0|19 0
Modified: DESIGN|19 0
Modified: INSTALL-WINDOWS|19 0
Modified: README-HA.txt|18 0
Modified: README-winsdk.txt|20 1
Modified: README.txt|19 0
Modified: SSL|19 0
Modified: cmake_uninstall.cmake.in|19 0
Modified: design_docs/ha-transactions.md|19 0
Modified: design_docs/log-model-category-for-correlation.txt|19 0
Modified: design_docs/windows_clfs_store_design.txt|19 0
Modified: docs/man/generate_manpage|4 1
Modified: docs/man/qpidd.1|280 127
Modified: docs/man/qpidd.x|19 0
Modified: docs/src/CONTENTS|19 0
Modified: etc/cluster.conf-example.xml.in|20 0
Deleted: examples/test.txt|0 1
Modified: src/check-abi|19 0
Modified: src/libqpidmessaging-api-symbols.txt|19 0
Modified: src/libqpidtypes-api-symbols.txt|19 0
Modified: src/qpid/ha/README.md|18 0
Modified: src/qpid/linearstore/ISSUES|19 0
Modified: src/qpid/linearstore/journal/utils/rec_hdr.c|21 0
Modified: src/tests/config.null|21 1
Modified: src/tests/failing-amqp0-10-python-tests|19 0
Modified: src/tests/failing-amqp1.0-python-tests|19 0
Modified: src/tests/linearstore/linearstoredirsetup.sh|20 0
Modified: src/tests/policy.acl|19 0
Modified: src/tests/qpidd-empty.conf|19 0

Revision: 227dc165290946eae26874e5d6599b9861a9f267
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 17/12/2013 03:08:08
Message:
NO-JIRA: Added licensing prologs to the Ruby feature files and gemspec #MsgLength=71


----
Modified: bindings/qpid/ruby/features/closing_a_connection.feature|19 1
Modified: bindings/qpid/ruby/features/closing_a_session.feature|17 0
Modified: bindings/qpid/ruby/features/connecting_to_a_broker.feature|17 0
Modified: bindings/qpid/ruby/features/creating_a_receiver.feature|18 0
Modified: bindings/qpid/ruby/features/creating_a_sender.feature|17 0
Modified: bindings/qpid/ruby/features/creating_a_session.feature|17 0
Modified: bindings/qpid/ruby/features/getting_the_connections_authenticated_username.feature|17 0
Modified: bindings/qpid/ruby/features/receiving_a_message.feature|17 0
Modified: bindings/qpid/ruby/features/sending_a_message.feature|18 1
Modified: bindings/qpid/ruby/features/session_returns_its_connection.feature|17 0
Modified: bindings/qpid/ruby/features/sessions_have_names.feature|17 0
Modified: bindings/qpid/ruby/qpid_messaging.gemspec|17 0

Revision: c9a24aeada806c068878a857232b13c112fee055
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 17/12/2013 03:08:13
Message:
NO-JIRA: Added licensing prologs to the Perl Makefile #MsgLength=54


----
Modified: bindings/qpid/perl/Makefile.PL|16 0

Revision: f8f8ae7ee2600bc2fd9eeda4e5cc5d0770dbb5ae
Author: Alan Conway <aconway@apache.org>
Date: 17/12/2013 04:05:28
Message:
NO-JIRA: Fix compilation error, reference cannot be declared mutable. #MsgLength=70


----
Modified: src/qpid/broker/Observers.h|1 1

Revision: a87bd0367354a0c29c2b00a20c3e382884a0e6f5
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/12/2013 05:33:10
Message:
QPID-5425: TPL fails with JERR_JNLF_FILEOFFSOVFL #MsgLength=49


----
Modified: examples/messaging/CMakeLists.txt|4 0
Modified: src/qpid/linearstore/ISSUES|10 2
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 1
Modified: src/qpid/linearstore/journal/wmgr.cpp|4 4

Revision: 8e70cbbc333da6a2b22bfc916f37d3b070d65d9c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/12/2013 22:57:13
Message:
NO_JIRA: Roll back change to CMakeLists.txt in which a test example was added which is not part of the build. #MsgLength=110


----
Modified: examples/messaging/CMakeLists.txt|0 4

Revision: 2f77ba03e81d6a7ff37243eca6025abeb68f3431
Author: Alan Conway <aconway@apache.org>
Date: 18/12/2013 00:53:16
Message:
QPID-5255: Add missing licenses in qpid/cpp tree. #MsgLength=145


----
Modified: src/qmf2.pc.in|21 2
Modified: src/qpid.linkmap|21 0
Modified: src/qpid.pc.in|21 2

Revision: 4d227bae7d0b822188da2b0dab98b7eecb4535ed
Author: Alan Conway <aconway@apache.org>
Date: 19/12/2013 01:04:05
Message:
QPID-5430: HA primary broker does not go active if there are no replicated queues. #MsgLength=291


----
Modified: src/qpid/ha/Primary.cpp|1 0
Modified: src/tests/ha_tests.py|7 2

Revision: 64d724c9e21d5bc50313fd56e79cf106c0bd4ac6
Author: Gordon Sim <gsim@apache.org>
Date: 20/12/2013 03:22:37
Message:
QPID-5434: send timestamps with correct typecode #MsgLength=49


----
Modified: src/qpid/amqp/Encoder.cpp|6 0
Modified: src/qpid/amqp/Encoder.h|1 0
Modified: src/qpid/amqp/MessageEncoder.cpp|2 2

Revision: e236dc889132cc4f751ce9dd5bca95b801b5803b
Author: Gordon Sim <gsim@apache.org>
Date: 20/12/2013 03:22:43
Message:
QPID-5435: use the setContentObject() method to set string content (i.e. assume it is utf8) #MsgLength=92


----
Modified: src/tests/qpid-send.cpp|2 2

Revision: cbb4941621c1a7a3df0582ab1bdc7d53d000d999
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2013 10:01:56
Message:
NO-JIRA: Added ostream operator for qpid::Messaging::Message #MsgLength=61


----
Modified: examples/messaging/drain.cpp|2 11
Modified: examples/messaging/spout.cpp|4 1
Added: include/qpid/messaging/Message_ostream.h|34 0
Modified: src/CMakeLists.txt|1 0
Added: src/qpid/messaging/Message_ostream.cpp|45 0

Revision: f9346ac1b805367592479ea7e92c236a81d57917
Author: Gordon Sim <gsim@apache.org>
Date: 20/12/2013 21:48:44
Message:
QPID-5440: don't remove alternate-exchange from topic's management properties (just from queue arguments) #MsgLength=106


----
Modified: src/qpid/broker/amqp/Topic.cpp|4 4

Revision: 122560070060967def765d2dbea9cf06f5cae6a9
Author: Alan Conway <aconway@apache.org>
Date: 20/12/2013 23:06:35
Message:
QPID-5431: Qpid c++ client hangs / crashes during reception failover in HA environment (mutual recursion) #MsgLength=585


----
Modified: examples/messaging/drain.cpp|3 2
Modified: src/qpid/ha/BrokerReplicator.cpp|2 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|46 28
Modified: src/qpid/messaging/amqp/ConnectionContext.h|2 0

Revision: de9530b8b0c41502af753299a552df56e9ef73b3
Author: Kim van der Riet <kpvdr@apache.org>
Date: 21/12/2013 02:07:31
Message:
QPID-5422: DTX test failure, and some tidying up of code in JournalImpl.cpp/h #MsgLength=78


----
Modified: src/qpid/linearstore/ISSUES|1 1
Modified: src/qpid/linearstore/JournalImpl.cpp|79 48
Modified: src/qpid/linearstore/JournalImpl.h|86 63
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|109 127
Modified: src/qpid/linearstore/MessageStoreImpl.h|0 15
Modified: src/qpid/linearstore/TxnCtxt.cpp|1 1
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|4 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|76 23
Modified: src/qpid/linearstore/journal/RecoveryManager.h|12 2
Modified: src/qpid/linearstore/journal/jcntl.cpp|10 7
Modified: src/qpid/linearstore/journal/jcntl.h|13 10
Modified: src/qpid/linearstore/journal/jerrno.cpp|3 0
Modified: src/qpid/linearstore/journal/jerrno.h|1 0
Modified: src/qpid/linearstore/journal/txn_map.cpp|2 0
Modified: src/qpid/linearstore/journal/txn_map.h|3 1
Modified: src/qpid/linearstore/journal/txn_rec.cpp|1 3
Modified: src/qpid/linearstore/journal/wmgr.cpp|4 2
Modified: src/qpid/linearstore/journal/wmgr.h|2 0

Revision: 32c07840440583ee1e87e290bb1bf362b25218b9
Author: Alan Conway <aconway@apache.org>
Date: 21/12/2013 02:51:42
Message:
NO-JIRA: Rename Message_ostream.h/.cpp to Message_io.h/.cpp. #MsgLength=112


----
Modified: examples/messaging/drain.cpp|1 1
Modified: examples/messaging/spout.cpp|1 1
Renamed: include/qpid/messaging/Message_io.h [from include/qpid/messaging/Message_ostream.h]|3 3
Modified: src/CMakeLists.txt|1 1
Renamed: src/qpid/messaging/Message_io.cpp [from src/qpid/messaging/Message_ostream.cpp]|1 1

Revision: 19a913089d856322e886bea3d7966fddc7e85e4e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 24/12/2013 00:57:56
Message:
QPID-5444: Recovering from qpid-txtest fails with "Inconsisntent TPL 2PC count" error message #MsgLength=94


----
Modified: src/qpid/linearstore/ISSUES|1 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|3 3
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|2 2
Modified: src/qpid/linearstore/journal/txn_map.h|1 1
Modified: src/qpid/linearstore/journal/wmgr.cpp|2 2

Revision: b891eed4d4786e44ab6b0512caed112e272a8c40
Author: Gordon Sim <gsim@apache.org>
Date: 02/01/2014 18:47:03
Message:
QPID-5446: fix typo in special property name #MsgLength=45


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1

Revision: 83323f338e6d52e9164a5b269911c0da10c55ca5
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/01/2014 21:53:58
Message:
QPID-5445: qmfgen now honors the CMAKE_INSTALL_PREFIX #MsgLength=54


----
Modified: managementgen/CMakeLists.txt|1 1

Revision: 738355262dd6137e0a408f6dd7441c07ebda0bab
Author: Gordon Sim <gsim@apache.org>
Date: 03/01/2014 22:19:32
Message:
QPID-5447: check whether exchange type was actually specified before raising error #MsgLength=83


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|6 1
Modified: src/qpid/broker/amqp/NodeProperties.h|2 1
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: 754cf143db15ce04607cb744565007cc14899bbc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/01/2014 02:54:40
Message:
QPID-5427: Critical log messages should not ever be disabled #MsgLength=61


----
Modified: src/qpid/log/Selector.cpp|2 0

Revision: a630276618f8e93a85c529641b5a6a060f5eb510
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/01/2014 02:54:46
Message:
QPID-5415: Implement control of internal log output in qpid::messaging API #MsgLength=75


----
Added: include/qpid/messaging/Logger.h|165 0
Modified: src/CMakeLists.txt|2 1
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Options.cpp|22 16
Modified: src/qpid/log/Options.h|6 0
Modified: src/qpid/log/Statement.cpp|2 1
Modified: src/qpid/log/Statement.h|2 1
Added: src/qpid/messaging/Logger.cpp|200 0
Modified: src/tests/CMakeLists.txt|6 0
Added: src/tests/MessagingLogger.cpp|149 0

Revision: 82eac0dd036aa61c551e46768732b5e03fda1712
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/01/2014 04:25:56
Message:
QPID-5415: Fixes to correct API specification and exports - Correctly export LoggerOutput virtual destructor for Visual Studio - Add new APIs into the API specification #MsgLength=169


----
Modified: include/qpid/messaging/Logger.h|1 1
Modified: src/libqpidmessaging-api-symbols.txt|8 0

Revision: f5dfdeae5a71f4fa661e37454e3b273888752766
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2014 03:33:10
Message:
NO-JIRA: Install python code as part of cmake make phase #MsgLength=354


----
Modified: src/tests/CMakeLists.txt|5 9

Revision: 23510be7c37f0ab1b0facd76996ac4e08c86b085
Author: Charles E. Rolke <chug@apache.org>
Date: 07/01/2014 04:13:52
Message:
QPID-5418: Prevent qpidd from loading multiple store modules - Patch from Ernie Allen Approved in https://reviews.apache.org/r/16573/ #MsgLength=136


----
Modified: src/qpid/broker/Broker.cpp|6 0

Revision: c8218c2d26212ce3d5f2115d250a20b1a0c32d25
Author: Alan Conway <aconway@apache.org>
Date: 07/01/2014 05:10:07
Message:
NO-JIRA: Remove out of date qpid/cpp/src/qpid/ha/README.md #MsgLength=59


----
Deleted: src/qpid/ha/README.md|0 98

Revision: baddefa7712ad04e9f8c5a810164affe5d1a176b
Author: Gordon Sim <gsim@apache.org>
Date: 07/01/2014 17:50:33
Message:
QPID-5451: remove unnecessary notice logging #MsgLength=45


----
Modified: src/qpid/broker/amqp/Message.cpp|0 6

Revision: 47deac0a4438b82a1c96d54e92f44dafd56ef360
Author: Alan Conway <aconway@apache.org>
Date: 08/01/2014 04:33:52
Message:
NO-JIRA: Fix brokertest.py so it doesn't try to load two stores. #MsgLength=65


----
Modified: src/tests/brokertest.py|1 1

Revision: 6d8cbc92ebc46d2ce04e11356d139ef01cfc7d23
Author: Gordon Sim <gsim@apache.org>
Date: 09/01/2014 19:20:51
Message:
QPID-5457: support for messages composed of multiple transfers #MsgLength=63


----
Modified: src/qpid/amqp/Decoder.cpp|1 1
Modified: src/qpid/broker/amqp/Incoming.cpp|33 13
Modified: src/qpid/broker/amqp/Incoming.h|1 0

Revision: a66890d6ada1b4a8c378f01f02d4947e56b95bae
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/01/2014 01:26:10
Message:
QPID-5460: [linearstore] Recovery of store which contains prepared but incomplete transactions results in message loss #MsgLength=119


----
Modified: src/qpid/linearstore/ISSUES|3 2
Modified: src/qpid/linearstore/JournalImpl.cpp|3 2
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|40 75
Modified: src/qpid/linearstore/MessageStoreImpl.h|1 12
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|9 10
Modified: src/qpid/linearstore/journal/jcfg.h|2 2
Modified: src/qpid/linearstore/journal/txn_map.cpp|44 12
Modified: src/qpid/linearstore/journal/txn_map.h|20 8
Modified: src/qpid/linearstore/journal/utils/deq_hdr.c|2 2
Modified: src/qpid/linearstore/journal/utils/file_hdr.c|2 0
Modified: src/qpid/linearstore/journal/utils/file_hdr.h|2 2
Modified: src/qpid/linearstore/journal/wmgr.cpp|4 4

Revision: f44aed6258cc9b2183561329e5255db8bb63800e
Author: Alan Conway <aconway@apache.org>
Date: 10/01/2014 06:12:25
Message:
QPID-5454: Sporadic core dump in ha_tests.ReplicationTests.test_auto_delete_failover #MsgLength=351


----
Modified: src/qpid/broker/Bridge.cpp|3 2

Revision: 08fe5159f8b9f144ebcb790dfe9a2de54d2f307a
Author: Alan Conway <aconway@apache.org>
Date: 10/01/2014 06:30:26
Message:
QPID-5428: Heartbeats not in use when attempting to connect with python client. #MsgLength=1014


----
Modified: src/tests/ha_tests.py|27 0

Revision: c5aad271215aff90e549a352c4923b81d3a439d3
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2014 05:16:56
Message:
QPID-5463: make dynamic nodes auto deleted by default #MsgLength=54


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|5 2
Modified: src/qpid/broker/amqp/NodeProperties.h|2 1
Modified: src/qpid/broker/amqp/Session.cpp|1 1
Modified: src/qpid/broker/amqp/Session.h|1 0

Revision: 6d34ca8b29e502443d3b08fe4d2421537fc91bc7
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2014 06:22:54
Message:
QPID-5467: fix handling of delete-on-close #MsgLength=43


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|9 1
Modified: src/qpid/broker/amqp/Outgoing.h|2 0
Modified: src/qpid/broker/amqp/Session.cpp|12 6
Modified: src/qpid/broker/amqp/Session.h|2 1

Revision: 4bd551c58cf4f7810f58c21322c023b7c69549cd
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2014 07:12:33
Message:
QPID-5468: fix handling of delete-if-unused for sending links #MsgLength=62


----
Modified: src/qpid/broker/Queue.cpp|6 5

Revision: b9984e2f2fb82474e3b1837a83e8045f2196ba3b
Author: Gordon Sim <gsim@apache.org>
Date: 11/01/2014 07:12:40
Message:
QPID-5469: link should not override a topic policy specifying autodeletion #MsgLength=75


----
Modified: src/qpid/broker/amqp/Session.cpp|2 1

Revision: 72fd714051e197587b8728417670dabba0fc3d76
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/01/2014 06:41:32
Message:
QPID-5473: Recovery where last record in file is truncated (ie spans files), but following file is uninitialized causes crash #MsgLength=126


----
Modified: src/qpid/linearstore/ISSUES|2 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|1 2

Revision: d56d85c6767060fe42cbc05dcc43f41fb52ff27f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/01/2014 14:33:29
Message:
Don't use a linkmap to cut down the exported library symbols if the compiler if gcc 4.1.2 (as used in RHEL 5). This fixes a crash in the unit tests somehow triggered by adding the work in QPID-5415. #MsgLength=199


----
Modified: src/CMakeLists.txt|2 5

Revision: 981b1699fe46a97ba31338042f64f43e654b978d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/01/2014 05:11:29
Message:
QPID-5452: Change installation directory for qpid-send/qpid-receive qpid-send/qpid/receive are useful utilities in their own right and not just used for testing so install them in an easily accessible location. #MsgLength=238


----
Modified: src/tests/CMakeLists.txt|13 9

Revision: c43796b7cd030cbd39e538490d94a7b1f541120a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/01/2014 05:26:04
Message:
QPID-5476: Improve the robustness and portability of check-abi - Fix check-abi for BSD mktemp/sed command line syntax. - Make sure we fix sort to C locale to avoid any confusion. #MsgLength=179


----
Modified: src/check-abi|12 7

Revision: 7fc24e6696521e414155d162609f148478953b2b
Author: Charles E. Rolke <chug@apache.org>
Date: 16/01/2014 01:31:48
Message:
NO-JIRA: Reformat white space with Visual Studio 2010 ^K^F Format Selection. #MsgLength=77


----
Modified: bindings/qpid/dotnet/src/Duration.h|6 6
Modified: bindings/qpid/dotnet/src/QpidException.h|5 5
Modified: bindings/qpid/dotnet/src/Receiver.cpp|9 9
Modified: bindings/qpid/dotnet/src/Sender.cpp|2 2
Modified: bindings/qpid/dotnet/src/Session.cpp|2 2
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|15 9
Modified: bindings/qpid/dotnet/src/TypeTranslator.h|15 10

Revision: 3f6bb60180b2116844aebbf1f91da517cc1cdaee
Author: Alan Conway <aconway@apache.org>
Date: 16/01/2014 03:28:44
Message:
QPID-5482: HA Backup becomes useless if a connection-forced error is raised. #MsgLength=398


----
Modified: src/qpid/ha/BrokerReplicator.cpp|17 0
Modified: src/qpid/ha/BrokerReplicator.h|4 4
Modified: src/qpid/ha/Membership.cpp|1 1
Modified: src/qpid/ha/StatusCheck.cpp|14 14
Modified: src/qpid/ha/StatusCheck.h|3 1

Revision: b5a471ca76f57659e1e1e3a23321efe9765ae3f7
Author: Charles E. Rolke <chug@apache.org>
Date: 16/01/2014 03:41:38
Message:
QPID-5481: Messaging API Update - r1460198 QPID-4586 Receiver and Sender 'Address getAddress()' added #MsgLength=103


----
Modified: bindings/qpid/dotnet/src/Receiver.cpp|41 0
Modified: bindings/qpid/dotnet/src/Receiver.h|7 0
Modified: bindings/qpid/dotnet/src/Sender.cpp|42 0
Modified: bindings/qpid/dotnet/src/Sender.h|7 0

Revision: 19a92d82b9da44097ed958e11b3288ccce4a26bc
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/01/2014 06:07:30
Message:
QPID-5483: [linearstore] Recovery of journal with partly written record fails with "JERR_JREC_BADRECTAIL: Invalid data record tail" error message #MsgLength=146


----
Modified: src/qpid/linearstore/ISSUES|61 43
Modified: src/qpid/linearstore/journal/Checksum.cpp|5 3
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|24 16
Modified: src/qpid/linearstore/journal/deq_rec.cpp|40 26
Modified: src/qpid/linearstore/journal/deq_rec.h|2 1
Modified: src/qpid/linearstore/journal/enq_rec.cpp|57 16
Modified: src/qpid/linearstore/journal/enq_rec.h|3 1
Modified: src/qpid/linearstore/journal/txn_rec.cpp|40 25
Modified: src/qpid/linearstore/journal/txn_rec.h|2 1
Modified: src/qpid/linearstore/journal/utils/rec_tail.c|7 6
Modified: src/qpid/linearstore/journal/utils/rec_tail.h|6 1

Revision: 88cd9069ae65ee0037053b9ebe2ff5e92d09747d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/01/2014 06:31:53
Message:
NO-JIRA: Removed linear/legacy store CMake checks for uuid library - The stores do not directly depend on the library but rather use the platform indirection in qpid to get to uuid capabilities. #MsgLength=197


----
Modified: src/legacystore.cmake|3 23
Modified: src/linearstore.cmake|12 35
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|1 1

Revision: abd77bb4bbf213f327fdbf5222819639b181d0d6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/01/2014 06:33:26
Message:
QPID-5484 [linearstore] Poor performance relative to legacystore. Partial fix: The use of /dev/random exhausts the kernel's supply of non-deterministic random data, and calls to read from it block until enough is available. It has been determined that /dev/urandom is good enough for this use-case (Journal serial numbers), and does not suffer from blocking. #MsgLength=359


----
Modified: src/qpid/linearstore/ISSUES|8 1
Modified: src/qpid/linearstore/journal/JournalFile.cpp|1 1

Revision: 6fb853c9351faebaaa727ce21a320710f21e1cba
Author: Charles E. Rolke <chug@apache.org>
Date: 16/01/2014 07:58:54
Message:
QPID-5481: Messaging API Update - 1513536 Message constructor and content getters added #MsgLength=236


----
Modified: bindings/qpid/dotnet/src/Message.cpp|51 0
Modified: bindings/qpid/dotnet/src/Message.h|4 1
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|102 143
Modified: bindings/qpid/dotnet/src/TypeTranslator.h|5 0

Revision: ea5b64b75efad4d9b8f857d6dfcc9f8a912e1ae1
Author: Pavel Moravec <pmoravec@apache.org>
Date: 16/01/2014 21:45:07
Message:
QPID-5485  Deleting paged queue does not remove underlying file #MsgLength=64


----
Modified: src/qpid/broker/PagedQueue.cpp|5 0
Modified: src/qpid/broker/PagedQueue.h|1 0
Modified: src/qpid/sys/MemoryMappedFile.h|4 0
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|5 0
Modified: src/qpid/sys/windows/MemoryMappedFile.cpp|3 0

Revision: 1d3444f0650e1693e0ba0904eba6345a3cbf5dda
Author: Pavel Moravec <pmoravec@apache.org>
Date: 16/01/2014 22:19:39
Message:
QPID-5486  Creating paged queue can overwrite existing qpidd files #MsgLength=67


----
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|1 0

Revision: 9f7d4191172c72e8f333dc630baec5ce8654f0ef
Author: Charles E. Rolke <chug@apache.org>
Date: 17/01/2014 04:00:36
Message:
QPID-5481: Messaging API Update - 1520416 Message setProperties(Variant::Map&) added #MsgLength=469


----
Modified: bindings/qpid/dotnet/src/Message.h|35 11

Revision: 6f9143808672882b737278c2181eff01f4b10b32
Author: Charles E. Rolke <chug@apache.org>
Date: 17/01/2014 04:37:10
Message:
QPID-5481: Messaging API Update - 1520673 Connection reconnect() and getUrl() added #MsgLength=85


----
Modified: bindings/qpid/dotnet/src/Connection.cpp|50 0
Modified: bindings/qpid/dotnet/src/Connection.h|14 0

Revision: f4884c95192b4b4ca4652d72a5c1b256b1d5c91b
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/01/2014 04:46:24
Message:
QPID-5487: [linearstore] Replace use of /dev/urandom with c random generator calls #MsgLength=83


----
Modified: src/qpid/linearstore/ISSUES|6 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|7 1
Modified: src/qpid/linearstore/journal/JournalFile.cpp|2 12
Modified: src/qpid/linearstore/journal/jcfg.h|13 0
Modified: src/qpid/linearstore/journal/utils/file_hdr.c|0 17

Revision: b1f550b970e62d34cd384c634d59701a041ea9ec
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/01/2014 07:03:24
Message:
NO-JIRA: Turn off cmake warnings caused by change in recent cmake 2.8 versions #MsgLength=79


----
Modified: src/CMakeLists.txt|3 0

Revision: 8c8a9527ce7b0cd151ac7990dcece5325972c101
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/01/2014 07:17:43
Message:
NO-JIRA: fix to allow warning silencing to work on previous versions of cmake too #MsgLength=82


----
Modified: src/CMakeLists.txt|4 2

Revision: 5b64090c5cd2c908cfbff86ea36c3c0f1f5064dd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/01/2014 13:55:31
Message:
QPID-5489: Uuid code improvements - Don't use uuid_compare() as it will get the wrong version of the function under FreeBSD which has a uuid library build into libc with different function signatures from libuuid but some overlapping names. - Reorganise the uuid code to limit the used external symbols to uuid_generate(), uuid_parse(), uuid_unparse() - Minimise the framing::Uuid code so that it is a simple wrapper around types::Uuid - Use uuid_generate() as the symbol to search in CMake (uuid_compare() isn't used in qpid anymore). #MsgLength=544


----
Modified: src/CMakeLists.txt|2 2
Modified: src/qpid/broker/Selector.cpp|1 0
Modified: src/qpid/broker/System.cpp|1 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|1 1
Modified: src/qpid/framing/Uuid.cpp|8 62
Modified: src/qpid/framing/Uuid.h|7 44
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/sys/windows/uuid.cpp|0 45
Modified: src/qpid/sys/windows/uuid.h|0 4
Modified: src/qpid/types/Uuid.cpp|8 14
Modified: src/tests/CMakeLists.txt|2 2
Modified: src/tests/Uuid.cpp|4 7

Revision: 82eda1acd99e07a70aff1d0728d227b8256d52ee
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/01/2014 14:25:39
Message:
NO-JIRA: Fix switch statement not covering all cases warning #MsgLength=61


----
Modified: bindings/qmf2/examples/cpp/agent.cpp|2 0

Revision: 441a739336dc1f842b462300ad0746d346b8cbce
Author: Pavel Moravec <pmoravec@apache.org>
Date: 17/01/2014 20:32:29
Message:
QPID-5486: Creating paged queue can overwrite existing qpidd files #MsgLength=67


----
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|1 2

Revision: fe9c8555299517bf6ee02de211b522326cc59228
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/01/2014 01:28:14
Message:
NO-JIRA: Really fix the test for the correct previous versions of cmake (sorry, this is getting embarassing) #MsgLength=109


----
Modified: src/CMakeLists.txt|2 2

Revision: bf973fbd70c412e51ddf8acaf72f813d088eeb74
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/01/2014 04:58:18
Message:
QPID-5488: Fix Amqp protocol version printing #MsgLength=46


----
Modified: src/qpid/framing/ProtocolVersion.cpp|5 5
Modified: src/qpid/framing/ProtocolVersion.h|4 4

Revision: cf7052c4e7fd1dd48c5331de001f2662106b106a
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 02:27:32
Message:
QPID-5497: implement Session::sync() #MsgLength=37


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|11 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|4 2

Revision: c731034b19636251b059a25e216ea9c5d6eaa055
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 02:27:39
Message:
QPID-5498: restore expiration on paged messages #MsgLength=48


----
Modified: src/qpid/broker/Exchange.cpp|1 1
Modified: src/qpid/broker/PagedQueue.cpp|27 7
Modified: src/qpid/broker/PagedQueue.h|5 2
Modified: src/qpid/broker/QueueFactory.cpp|1 1

Revision: f5497e446cae533bb5fd7e089691ec1c6f274e88
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 17:50:34
Message:
NO-JIRA: Added some information about 'topic' type #MsgLength=51


----
Modified: AMQP_1.0|25 1

Revision: 48893f35361002094856cacdde574380540d923b
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 18:35:58
Message:
QPID-5501: raise error if topic of given name already exists #MsgLength=61


----
Modified: src/qpid/broker/amqp/Topic.cpp|1 1

Revision: 96ed925c81aa7a476411474d09f2b014d220aeb9
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 23:57:21
Message:
QPID-5501: implement missing qmf operations #MsgLength=44


----
Modified: src/qpid/amqp/descriptors.h|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|22 3
Modified: src/qpid/broker/amqp/Connection.h|2 0
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|32 0
Modified: src/qpid/broker/amqp/ManagedConnection.h|5 0
Modified: src/qpid/broker/amqp/ManagedSession.cpp|39 0
Modified: src/qpid/broker/amqp/ManagedSession.h|4 0
Modified: src/qpid/broker/amqp/Session.cpp|13 1
Modified: src/qpid/broker/amqp/Session.h|4 0

Revision: 908a15d1050a1d83ed18f27ae3df49b4541d180f
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 23:57:29
Message:
QPID-5503 implement nextReceiver() #MsgLength=35


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|17 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|5 0
Modified: src/qpid/messaging/amqp/ReceiverContext.h|1 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|7 1
Modified: src/qpid/messaging/amqp/SessionContext.h|1 1
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|1 1

Revision: 96c7e9ec015b94c91c840405b6758bb706d4c136
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2014 23:57:36
Message:
QPID-5503: expose next_receiver through swig wrapper, add test for both 1.0 and 0-10 #MsgLength=85


----
Modified: bindings/qpid/python/qpid_messaging.i|9 0

Revision: 20b6617fba2878b4a6eb4175f53e66e706ea2eeb
Author: Charles E. Rolke <chug@apache.org>
Date: 23/01/2014 05:54:25
Message:
QPID-5481: Messaging API Update - 1555202 Logger module added #MsgLength=63


----
Added: bindings/qpid/dotnet/src/Logger.cpp|224 0
Added: bindings/qpid/dotnet/src/Logger.h|134 0
Modified: bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj|2 0
Modified: bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj|8 0

Revision: a20c6549a33b8ed4876620c51fcc3454057a82fa
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/01/2014 11:09:28
Message:
QPID-5488: Allow for not enough bytes initially received by client for protocol init #MsgLength=85


----
Modified: src/qpid/client/SslConnector.cpp|3 1
Modified: src/qpid/client/TCPConnector.cpp|3 1

Revision: a280565e8a1b6f653f5d3e4c34497800bbf8efe2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 23/01/2014 22:25:23
Message:
QPID-5506: Use a randomness source to certutil that will definitely exist. #MsgLength=75


----
Modified: src/tests/sasl_fed_ex|1 1

Revision: ef158b756481b078b48519c430e4f59e7c993582
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2014 00:05:43
Message:
QPID-5509: release messages that have not yet been fetched when closing receiver #MsgLength=81


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|15 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|2 11

Revision: d0942dcd876e383215b03b5a9fb605a2810c49df
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/01/2014 07:34:14
Message:
NO-JIRA: Changes to python related build processes: - Use an intermediate build area in the build area not in the source. -- With this change the source tree is now completely untouched during a build. - Fiddle with CMake so that the python install into the build area doesn't happen on every build. #MsgLength=305


----
Modified: src/tests/CMakeLists.txt|16 4

Revision: 9939444ca3db7b1051980d7a249a86b533de8232
Author: Andrew Stitcher <astitcher@apache.org>
Date: 25/01/2014 03:40:19
Message:
NO-JIRA: Make the python test install depend on the python files. - So just after the previous checkin Gordon changed the python code. This made me think that the python install needs to have the dependencies! #MsgLength=214


----
Modified: src/tests/CMakeLists.txt|5 2

Revision: 573cff7d2b9095871de5a6dd1c987f31c4fb8d01
Author: Alan Conway <aconway@apache.org>
Date: 25/01/2014 05:54:59
Message:
QPID-5513: HA backup fails if number of replicated queues exceeds number of channels. #MsgLength=997


----
Modified: src/CMakeLists.txt|1 0
Modified: src/qpid/client/Connection.h|0 1
Modified: src/qpid/framing/amqp_types.h|2 3
Modified: src/qpid/ha/Backup.cpp|0 1
Modified: src/qpid/ha/Primary.cpp|8 3
Modified: src/qpid/ha/Primary.h|2 0
Added: src/qpid/ha/PrimaryQueueLimits.h|90 0
Modified: src/qpid/ha/QueueReplicator.cpp|0 1
Modified: src/tests/CMakeLists.txt|4 0
Modified: src/tests/brokertest.py|7 4
Modified: src/tests/ha_test.py|4 3
Added: src/tests/ha_test_max_queues.cpp|64 0
Modified: src/tests/ha_tests.py|13 0

Revision: b39cbcd55c697e88b2cddc65a69ea825237d5b26
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2014 01:09:37
Message:
QPID-5513: HA backup fails if number of replicated queues exceeds number of channels. #MsgLength=165


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: fafab11adaf30550c197a7b61361a54e49653882
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/01/2014 02:31:34
Message:
QPID-5516: Only enable Dtrace style probes on Linux #MsgLength=52


----
Modified: src/CMakeLists.txt|13 8

Revision: 07eb5619cb7193911ad276349328a71b95fbb6bd
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2014 04:09:25
Message:
NO-JIRA: Minor refactor to improve code safety: calling shared_from_this on creation. #MsgLength=472


----
Modified: src/qpid/ha/Backup.cpp|1 2
Modified: src/qpid/ha/BrokerReplicator.cpp|10 9
Modified: src/qpid/ha/BrokerReplicator.h|6 2
Modified: src/qpid/ha/HaBroker.cpp|1 3
Modified: src/qpid/ha/Primary.cpp|2 3
Modified: src/qpid/ha/PrimaryTxObserver.cpp|8 0
Modified: src/qpid/ha/PrimaryTxObserver.h|6 4
Modified: src/qpid/ha/QueueReplicator.cpp|9 3
Modified: src/qpid/ha/QueueReplicator.h|7 4
Modified: src/qpid/ha/TxReplicator.cpp|10 0
Modified: src/qpid/ha/TxReplicator.h|4 1

Revision: 9908dc5df3824c6dab89bbca7e9bb8ba6601440f
Author: Alan Conway <aconway@apache.org>
Date: 28/01/2014 04:35:02
Message:
NO-JIRA: Minor rationalization of log statement priorities. #MsgLength=263


----
Modified: src/qpid/ha/Backup.cpp|0 1
Modified: src/qpid/ha/BrokerReplicator.cpp|2 2
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/HaPlugin.cpp|1 1
Modified: src/qpid/ha/Primary.cpp|5 7
Modified: src/qpid/ha/QueueReplicator.cpp|1 1

Revision: 9cbcbb933c40355fd6a96352bebc65ce138923e8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/01/2014 05:25:10
Message:
NO-JIRA: Removed unused defines from config.h #MsgLength=46


----
Modified: src/config.h.cmake|0 5

Revision: 08b43c3b63d2c97204c523a235255113b000388c
Author: Charles E. Rolke <chug@apache.org>
Date: 30/01/2014 02:24:44
Message:
NO-JIRA: Update configuration script to handle a PROTON_ROOT. Expose the cmake command lines as they are executed. #MsgLength=116


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|85 17

Revision: fb0acb23025cd41f728c3f65de77956ed92e9c56
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/01/2014 07:10:08
Message:
QPID-5485: By default use a subdirectory of the data dir called "pq" for page queue files. If neither data dir nor paging dir are set then error on any attempt to create a paged queue. #MsgLength=185


----
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/PagedQueue.cpp|10 7
Modified: src/qpid/broker/PagedQueue.h|0 1
Modified: src/qpid/broker/posix/BrokerDefaults.cpp|1 0
Modified: src/qpid/broker/windows/BrokerDefaults.cpp|1 0
Modified: src/qpid/sys/MemoryMappedFile.h|2 2
Modified: src/qpid/sys/posix/MemoryMappedFile.cpp|22 9
Modified: src/tests/run_paged_queue_tests|1 1

Revision: f78a724861b0a516febe14b0c7a371eb8c8089f2
Author: Gordon Sim <gsim@apache.org>
Date: 31/01/2014 20:25:32
Message:
QPID-5529: remove failed send from delivery buffer #MsgLength=51


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|11 5

Revision: c86464eadca6987d2b626a095f195ec657c8a74a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 31/01/2014 23:51:15
Message:
QPID-5485: Fixes to broken original checkin - Fix signatures of dummy windows memory mapped file implementation - Fix detecting no data dir #MsgLength=140


----
Modified: src/qpid/broker/Broker.cpp|3 1
Modified: src/qpid/sys/windows/MemoryMappedFile.cpp|2 3

Revision: ad561aec4d35e4aee79f87f5442c705bc2215bf2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 01/02/2014 05:05:26
Message:
QPID-5485: If no directory for paging file is enabled print warning (as if memory mapped files were not supported) but still create a queue. - Also improve DataDir const correctness. #MsgLength=183


----
Modified: src/qpid/DataDir.cpp|1 1
Modified: src/qpid/DataDir.h|3 3
Modified: src/qpid/broker/Broker.cpp|0 5
Modified: src/qpid/broker/Broker.h|2 2
Modified: src/qpid/broker/QueueFactory.cpp|3 1
Modified: src/qpid/legacystore/StorePlugin.cpp|1 1
Modified: src/qpid/linearstore/StorePlugin.cpp|1 1
Modified: src/qpid/store/ms-clfs/MSSqlClfsProvider.cpp|1 1

Revision: b65e969aa878325649335f2659eaf31baae3b319
Author: Pavel Moravec <pmoravec@apache.org>
Date: 01/02/2014 20:03:30
Message:
QPID-5532: [C++ broker] Add debug log when timeouting DTX transaction #MsgLength=70


----
Modified: src/qpid/broker/DtxTimeout.cpp|2 0

Revision: 40d358758405f5ce7d2376a79d076e6825e2506c
Author: Pavel Moravec <pmoravec@apache.org>
Date: 02/02/2014 22:01:16
Message:
QPID-5121: Store module does not raise exception when attempting to enqueue a message bigger than the journal size #MsgLength=115


----
Modified: src/qpid/legacystore/jrnl/wrfc.cpp|4 2

Revision: 2d4284422dcd556708ba6b816bedbb098dbd6902
Author: Pavel Moravec <pmoravec@apache.org>
Date: 02/02/2014 22:51:12
Message:
QPID-5519: ACL property/properties for paged queues #MsgLength=52


----
Modified: src/qpid/acl/AclData.cpp|14 0
Modified: src/qpid/acl/AclValidator.cpp|16 0
Modified: src/qpid/broker/AclModule.h|28 1
Modified: src/qpid/broker/Broker.cpp|3 0

Revision: 9d722266a1b989a771b233f48a270bb8a240d83e
Author: Pavel Moravec <pmoravec@apache.org>
Date: 03/02/2014 20:49:01
Message:
QPID-5534: [C++ broker] Headers exchange can route a message to one queue multiple times #MsgLength=89


----
Modified: src/qpid/broker/HeadersExchange.cpp|6 1

Revision: 8590b46dbd3c4f01425d18775ddd2a2d74834e65
Author: Pavel Moravec <pmoravec@apache.org>
Date: 03/02/2014 20:59:37
Message:
QPID-5519: ACL property/properties for paged queues - fixed typo, added tests and documentation #MsgLength=96


----
Modified: design_docs/broker-acl-work.txt|14 10
Modified: src/qpid/broker/AclModule.h|2 2
Modified: src/tests/acl.py|223 0

Revision: b666776d1c8151cb0e00c4a6c54a95151ec84fab
Author: Gordon Sim <gsim@apache.org>
Date: 03/02/2014 23:24:14
Message:
NO-JIRA: minor additions to readme #MsgLength=35


----
Modified: AMQP_1.0|5 2

Revision: 62b0c4e726e34d44022601f18491b848c30d47ac
Author: Alan Conway <aconway@apache.org>
Date: 04/02/2014 03:17:02
Message:
QPID-5528: HA Clean up error messages around rolled-back transactions. #MsgLength=1973


----
Modified: src/qpid/Exception.cpp|8 4
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|7 10
Modified: src/qpid/broker/Broker.h|3 0
Modified: src/qpid/broker/SessionHandler.cpp|26 2
Added: src/qpid/broker/SessionHandlerObserver.h|51 0
Modified: src/qpid/ha/BrokerReplicator.cpp|12 18
Added: src/qpid/ha/ErrorListener.h|60 0
Modified: src/qpid/ha/Primary.cpp|46 0
Modified: src/qpid/ha/Primary.h|2 0
Modified: src/qpid/ha/PrimaryTxObserver.cpp|7 7
Modified: src/qpid/ha/PrimaryTxObserver.h|4 2
Modified: src/qpid/ha/QueueReplicator.cpp|30 15
Modified: src/qpid/ha/QueueReplicator.h|10 7
Modified: src/qpid/ha/TxReplicator.cpp|11 10
Modified: src/qpid/ha/TxReplicator.h|2 1

Revision: 2c4095c60cb4ada3b9c5e39d5a48bc38f19a90a6
Author: Alan Conway <aconway@apache.org>
Date: 04/02/2014 06:37:29
Message:
QPID-5528: HA add missing QPID_BROKER_EXTERN declarations. #MsgLength=172


----
Modified: src/qpid/broker/SessionHandler.h|4 4

Revision: c4c64484e91e00f8cd3b4892617b26eaac84b85a
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 05/02/2014 11:06:58
Message:
QPID-5539: Separate credential processing for re-use in AMQP1.0 SSL transport. #MsgLength=79


----
Modified: src/CMakeLists.txt|2 0
Modified: src/qpid/client/windows/SslConnector.cpp|9 255
Added: src/qpid/sys/windows/SslCredential.cpp|273 0
Added: src/qpid/sys/windows/SslCredential.h|81 0

Revision: 332ccb6995042aabaa6a1468611c88f7a53f4a90
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 05/02/2014 14:46:44
Message:
QPID-5540: use mutex to ensure single SCHANNEL_SHUTDOWN #MsgLength=56


----
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|10 6
Modified: src/qpid/sys/windows/SslAsynchIO.h|2 0

Revision: 24c8066ebd56b94c92b827d3b1c7ac09d98fa8f2
Author: Pavel Moravec <pmoravec@apache.org>
Date: 05/02/2014 17:58:15
Message:
QPID-5531: [C++ broker] Set timeout for every DTX transaction #MsgLength=62


----
Modified: src/qpid/broker/Broker.cpp|5 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/DtxManager.cpp|12 3
Modified: src/qpid/broker/DtxManager.h|2 1
Modified: src/qpid/broker/SessionAdapter.cpp|2 0

Revision: 6118459fab3aa1e9f2cbbfe0f5364febdccbce4f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/02/2014 02:49:32
Message:
QPID-5480: Recovery of store failure with "JERR_MAP_NOTFOUND: Key not found in map." error message. Fixed numerous recovery issues, particularly the handling of files at the end of the file list during recovery when the last file is not used or incompletely written. #MsgLength=267


----
Modified: src/qpid/linearstore/ISSUES|19 9
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|2 11
Modified: src/qpid/linearstore/MessageStoreImpl.h|0 2
Modified: src/qpid/linearstore/TxnCtxt.cpp|3 1
Modified: src/qpid/linearstore/journal/JournalFile.cpp|37 31
Modified: src/qpid/linearstore/journal/JournalFile.h|8 5
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|42 40
Modified: src/qpid/linearstore/journal/LinearFileController.h|8 5
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|123 72
Modified: src/qpid/linearstore/journal/RecoveryManager.h|17 7
Modified: src/qpid/linearstore/journal/deq_rec.cpp|4 4
Modified: src/qpid/linearstore/journal/deq_rec.h|2 2
Modified: src/qpid/linearstore/journal/enq_rec.cpp|4 4
Modified: src/qpid/linearstore/journal/enq_rec.h|2 2
Modified: src/qpid/linearstore/journal/jcntl.cpp|19 1
Modified: src/qpid/linearstore/journal/jcntl.h|2 0
Modified: src/qpid/linearstore/journal/jerrno.cpp|2 2
Modified: src/qpid/linearstore/journal/jrec.h|1 1
Modified: src/qpid/linearstore/journal/txn_rec.cpp|4 4
Modified: src/qpid/linearstore/journal/txn_rec.h|2 2
Modified: src/qpid/linearstore/journal/wmgr.cpp|61 39
Modified: src/qpid/linearstore/journal/wmgr.h|9 3

Revision: e63fa951de5c1a69159a184376eb677a8401c809
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/02/2014 03:31:16
Message:
QPID-5361: Added a bash script which allows for transactional soak testing. #MsgLength=76


----
Added: src/tests/linearstore/tx-test-soak.sh|234 0

Revision: 6935bccb6f5ca43581712083667abf684c909d53
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/02/2014 05:22:40
Message:
NO_JIRA: Added Apache license text to tx-text-soak.sh, updates to linearstore ISSUES file #MsgLength=90


----
Modified: src/qpid/linearstore/ISSUES|13 10
Modified: src/tests/linearstore/tx-test-soak.sh|20 0

Revision: 28ef88cc24e30002c55e6ca8363746ae1771acaa
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2014 00:49:15
Message:
QPID-5544: HA memory leak in backup broker after shutdown. #MsgLength=233


----
Modified: src/qpid/ha/Backup.cpp|3 5
Modified: src/qpid/ha/BrokerReplicator.cpp|26 30
Modified: src/qpid/ha/BrokerReplicator.h|1 3
Deleted: src/qpid/ha/ErrorListener.h|0 60
Modified: src/qpid/ha/QueueReplicator.cpp|14 10
Modified: src/qpid/ha/QueueReplicator.h|1 1

Revision: 3b4ac2c2a285dcc2bd9090d761d6fce279322d24
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 07/02/2014 02:01:36
Message:
QPID-5524: ssl-cert-name connection argument processing in AMQP 1.0. cpp client #MsgLength=80


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 0
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0
Modified: src/qpid/messaging/amqp/SslTransport.cpp|9 1
Modified: src/qpid/messaging/amqp/TransportContext.h|3 0

Revision: 09d31119608b195b011e5485b3df51a8a61e1d0f
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2014 02:14:53
Message:
Author: Alan Conway <aconway@redhat.com> --- log message follows this NO-JIRA: Remove use of python built-in 'next', not available before python 2.6. #MsgLength=150


----
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_test.py|1 1

Revision: b3ecce595052ea4b50c8c5c883eaf9ffa8102502
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2014 04:17:26
Message:
NO-JIRA: Get rid of valgrind "rechable" block in logging statements. #MsgLength=273


----
Modified: src/qpid/log/Logger.cpp|1 1
Modified: src/qpid/log/Statement.cpp|12 37
Modified: src/qpid/log/Statement.h|1 0

Revision: b8117484498ff4fb837504ae1513529463a95a8f
Author: Alan Conway <aconway@apache.org>
Date: 07/02/2014 05:36:03
Message:
NO-JIRA: Fix windows build problem introduced by r1565431 in log/Statement.cpp commit. #MsgLength=87


----
Modified: src/qpid/log/Statement.cpp|7 3

Revision: 1a2b1bc579d70bda1b3e37d4cc84e481faeafb1e
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 07/02/2014 21:44:03
Message:
QPID-5499: Fix Ruby/Perl bindings when built with -Werror=format-security #MsgLength=147


----
Modified: bindings/qmf2/ruby/ruby.i|1 1
Modified: bindings/qpid/perl/perl.i|1 1
Modified: bindings/qpid/ruby/ruby.i|21 21
Modified: include/qpid/swig_perl_typemaps.i|1 1
Modified: include/qpid/swig_ruby_typemaps.i|1 1

Revision: 9055214889e230879090c6aa04bfb5cecb15a210
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 11/02/2014 23:15:14
Message:
QPID-5546: Expose the get_content_object method in Perl. #MsgLength=171


----
Modified: bindings/qpid/examples/perl/drain.pl|2 2
Modified: bindings/qpid/examples/perl/spout.pl|1 1
Modified: bindings/qpid/perl/lib/qpid/messaging/Message.pm|33 0

Revision: 6c0cd408a9aeda45c154d16406f52c42bd81d4b6
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 18/02/2014 06:03:13
Message:
QPID-5556: Provide the right Perl packages in top-level modules. #MsgLength=65


----
Modified: bindings/qpid/perl/lib/qpid.pm|2 0
Modified: bindings/qpid/perl/lib/qpid_messaging.pm|2 0

Revision: 58a2bb66d9c6e258e6ee66a463c5e8300514abcf
Author: Alan Conway <aconway@apache.org>
Date: 19/02/2014 00:09:23
Message:
NO-JIRA: Fix build error in ha_test_max_queues for release builds. #MsgLength=151


----
Modified: src/tests/ha_test_max_queues.cpp|4 1

Revision: ac98587d68370c3cb1ddfdad180d5699f76de2b1
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 20/02/2014 04:52:23
Message:
QPID-5549: windows ssl over AMQP 1.0 #MsgLength=37


----
Modified: src/amqp.cmake|3 0
Modified: src/qpid/messaging/amqp/TcpTransport.h|7 4
Added: src/qpid/messaging/amqp/windows/SslTransport.cpp|133 0

Revision: 423bef3573abad3322eff9e8361e800134a6f153
Author: Alan Conway <aconway@apache.org>
Date: 20/02/2014 23:39:43
Message:
QPID-5568: HA C++ qpid::messaging AMQP 1.0 client failover logging is not clear #MsgLength=2012


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|0 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|69 103
Modified: src/qpid/messaging/amqp/ConnectionContext.h|7 5
Added: src/qpid/sys/urlAdd.h|59 0
Modified: src/tests/CMakeLists.txt|1 1
Modified: src/tests/qpid-ping.cpp|46 39
Modified: src/tests/ssl_test|1 1

Revision: cf7e7b2f2b8b06de4db0aacb09980c3014946a3e
Author: Charles E. Rolke <chug@apache.org>
Date: 21/02/2014 23:19:57
Message:
QPID-5575: csharp.map.receiver example throws referencing connectionOptions arg Dereference proper arg. #MsgLength=106


----
Modified: bindings/qpid/dotnet/examples/csharp.map.receiver/csharp.map.receiver.cs|1 1

Revision: a5eba80c570b31e08b8eceef697b156049e9bec0
Author: Alan Conway <aconway@apache.org>
Date: 22/02/2014 09:00:50
Message:
NO-JIRA: Fix compile error on RHEL5 in qpid-ping #MsgLength=49


----
Modified: src/tests/qpid-ping.cpp|1 1

Revision: 7ba76e5e0af0b74e25c86f196806995a89223ab1
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2014 05:46:46
Message:
NO-JIRA: add some info to readme #MsgLength=33


----
Modified: AMQP_1.0|10 0

Revision: 0bfb397bec5d13b4b66e9eb123049c5e7e53924d
Author: Charles E. Rolke <chug@apache.org>
Date: 25/02/2014 06:37:22
Message:
NO-JIRA: fix malformed install directory #MsgLength=41


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|4 4

Revision: fc058a396c552a70aac1a8d16e215d7fb98b8ab1
Author: Gordon Sim <gsim@apache.org>
Date: 25/02/2014 21:47:27
Message:
QPID-5584: use more specific exception types where appropriate #MsgLength=63


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|11 2

Revision: 33327cb6336c265df2ca5c9de9d9e607364efea6
Author: Pavel Moravec <pmoravec@apache.org>
Date: 26/02/2014 22:12:56
Message:
QPID-5561: QPID-5565: Broker->ACL module improvements #MsgLength=54


----
Modified: src/qpid/broker/Broker.cpp|14 6
Modified: src/qpid/broker/QueueFactory.cpp|2 2
Modified: src/qpid/broker/QueueFactory.h|3 0
Modified: src/tests/acl.py|8 8

Revision: 8639f77899d2832f1d1a58644907866d22ad0ac5
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2014 22:22:27
Message:
NO-JIRA: Fix Coverty "Uncaught exception" errors in test clients. #MsgLength=66


----
Modified: src/tests/qpid-ping.cpp|1 1
Modified: src/tests/qpid-send.cpp|1 1

Revision: 707a26c05465eb1f96a5135cd88c9655b110ffa5
Author: Pavel Moravec <pmoravec@apache.org>
Date: 28/02/2014 22:40:23
Message:
QPID-5587: QMF to track queue owner (userId) #MsgLength=45


----
Modified: src/qpid/broker/Queue.cpp|6 0
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/management-schema.xml|3 2

Revision: bcbbff74aef443380d3ed3cf4f2bf78f921d1da0
Author: Pavel Moravec <pmoravec@apache.org>
Date: 03/03/2014 20:46:30
Message:
QPID-5594: [amqp1.0] missing first-acquirer property support in C++ broker #MsgLength=75


----
Modified: src/qpid/broker/Message.cpp|2 2
Modified: src/qpid/broker/Message.h|4 2
Modified: src/qpid/broker/amqp/Header.cpp|1 1

Revision: 86909fd4ae612d343c5b71a8ef99f57e22c8970f
Author: Charles E. Rolke <chug@apache.org>
Date: 04/03/2014 06:29:30
Message:
QPID-5589: Add option for suppressing qmf/site-package installation; replace windows path separators before they are seen by cmake. #MsgLength=132


----
Modified: managementgen/CMakeLists.txt|19 13

Revision: 71fd84bd5f129b96a7273ed34f69997dc377f100
Author: Pavel Moravec <pmoravec@apache.org>
Date: 04/03/2014 22:50:53
Message:
QPID-5597: [C++ client] Topic subscriptions should not ignore auto-delete x-declare flag #MsgLength=89


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|3 1

Revision: 657842fdc3a3a4198619550bb0b69790dc9ceb01
Author: Alan Conway <aconway@apache.org>
Date: 05/03/2014 01:16:10
Message:
NO-JIRA: CMakelists.txt check that ../python exists before building it. #MsgLength=72


----
Modified: src/tests/CMakeLists.txt|11 20

Revision: c993d2d6a4dd01a83afd32eb5cded22de1dc1312
Author: Charles E. Rolke <chug@apache.org>
Date: 05/03/2014 05:18:15
Message:
QPID-5599: C++ Broker silently ignores --max-connections option when no ACL file is loaded. #MsgLength=199


----
Modified: src/qpid/acl/Acl.cpp|33 4
Modified: src/qpid/acl/Acl.h|1 0
Modified: src/qpid/acl/AclPlugin.cpp|7 8

Revision: 7ffdcae2e557e911f839a7976b92d7f73e2544fa
Author: Charles E. Rolke <chug@apache.org>
Date: 05/03/2014 05:46:24
Message:
QPID-5599: C++ Broker silently ignores --max-connections option when no ACL file is loaded #MsgLength=234


----
Modified: src/qpid/acl/AclPlugin.cpp|4 4

Revision: 75ab4f7c03d56153e620d75dc72e138d88917e7c
Author: Charles E. Rolke <chug@apache.org>
Date: 05/03/2014 10:33:46
Message:
QPID-5599: C++ Broker silently ignores --max-connections option when no ACL file is loaded #MsgLength=1008


----
Modified: src/qpid/acl/Acl.cpp|3 1
Modified: src/qpid/acl/Acl.h|5 0
Modified: src/qpid/acl/AclPlugin.cpp|11 14
Modified: src/qpid/broker/AclModule.h|2 0
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1
Modified: src/qpid/broker/amqp/Authorise.cpp|1 1

Revision: 850f6016099869b8afec3b8dc354595447300ed0
Author: Charles E. Rolke <chug@apache.org>
Date: 05/03/2014 21:54:06
Message:
QPID-5599: C++ Broker silently ignores --max-connections option when no ACL file is loaded #MsgLength=195


----
Modified: src/qpid/acl/Acl.cpp|2 2

Revision: 50959234c388b26e9b9b146937c09849c1e79337
Author: Kim van der Riet <kpvdr@apache.org>
Date: 05/03/2014 22:51:06
Message:
QPID-5603: Broker recovery fails with JERR_JREC_BADRECTAIL when record tail is partly or fully separated from rest of record by file boundary #MsgLength=142


----
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|1 1

Revision: 0ff686ac3867822a8c312efb139a0778a93d4410
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2014 04:54:27
Message:
Revert "NO-JIRA: CMakelists.txt check that ../python exists before building it." #MsgLength=799


----
Modified: src/tests/CMakeLists.txt|16 6

Revision: e0fa5f8cc23bdd02e9df226afe688710c142460f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 07/03/2014 03:07:24
Message:
QPID-5607: [linearstore] Recovery of store results in jexception 0x010b LinearFileController::getCurrentSerial() threw JERR_NULL #MsgLength=129


----
Modified: src/qpid/linearstore/ISSUES|64 24
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|7 2
Modified: src/qpid/linearstore/journal/jerrno.cpp|11 9
Modified: src/qpid/linearstore/journal/jerrno.h|1 0

Revision: fd2aef360b43cfe94853b2a3b8580aac35d94898
Author: Pavel Moravec <pmoravec@apache.org>
Date: 07/03/2014 18:33:29
Message:
QPID-5608: [amqp1.0] delete-on-close policy do not work for producers to exchanges #MsgLength=83


----
Modified: src/qpid/broker/Exchange.cpp|8 2
Modified: src/qpid/broker/Exchange.h|1 1
Modified: src/qpid/broker/amqp/Session.cpp|7 4

Revision: 6a62ebeed1d536666ed588b5117dab5962223d6d
Author: Charles E. Rolke <chug@apache.org>
Date: 08/03/2014 06:40:30
Message:
QPID-5608: [amqp1.0] delete-on-close: typo in r1575225 #MsgLength=57


----
Modified: src/qpid/broker/Exchange.cpp|1 1

Revision: 154e4bca161445e3176ea1ce5758e12f2265ddc1
Author: Charles E. Rolke <chug@apache.org>
Date: 08/03/2014 06:51:24
Message:
QPID-5613: Self test broker start command fails without --interface option. #MsgLength=78


----
Modified: src/tests/run_acl_tests|1 1

Revision: abaafd79bd2a9a4bae97448bc7cdc3ae0b01ec00
Author: Pavel Moravec <pmoravec@apache.org>
Date: 11/03/2014 17:40:08
Message:
QPID-5621: [C++ broker] userId is not passed to ACL when DIGEST-MD5 is used while creating link #MsgLength=96


----
Modified: src/qpid/broker/ConnectionHandler.cpp|21 21

Revision: b5d7517565b1f23c8a6699ec0ba079ce1b54cb80
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 11/03/2014 22:12:03
Message:
QPID-5622: Expose {get,set}ContentObject in Ruby bindings. #MsgLength=162


----
Modified: bindings/qpid/ruby/examples/client.rb|1 1
Modified: bindings/qpid/ruby/examples/drain.rb|4 4
Modified: bindings/qpid/ruby/examples/hello_world.rb|1 1
Modified: bindings/qpid/ruby/examples/map_receiver.rb|1 1
Modified: bindings/qpid/ruby/examples/map_sender.rb|4 3
Modified: bindings/qpid/ruby/examples/server.rb|3 3
Modified: bindings/qpid/ruby/examples/spout.rb|3 3
Modified: bindings/qpid/ruby/lib/qpid_messaging/message.rb|24 2
Modified: bindings/qpid/ruby/spec/qpid_messaging/message_spec.rb|30 0
Modified: bindings/qpid/ruby/spec/spec_helper.rb|6 0

Revision: d4048485087c5406c9ece71ae6a7de1bc3bcdd0d
Author: Charles E. Rolke <chug@apache.org>
Date: 14/03/2014 05:12:32
Message:
QPID-5623: [C++ Messaging Client - amqp1.0] throws qpid::Exception instead of qpid::types::Exception #MsgLength=153


----
Modified: src/qpid/messaging/amqp/ConnectionHandle.cpp|7 1

Revision: 408310e50b9ca7c638b8c210ffa8b9c088a0a928
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/03/2014 06:14:50
Message:
QPID-5630: Windows C++ broker never loads modules using --module-dir - Need to use full path to load modules instead of just the filename. #MsgLength=139


----
Modified: src/qpid/sys/windows/FileSysDir.cpp|3 1

Revision: 4f17a783cbfec28deb9f88c3c04b7af528bc814f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2014 12:15:02
Message:
QPID-5632: Added cmake config files to the install area For use by other projects using cmake that want to simply detect qpid libraries #MsgLength=136


----
Modified: src/CMakeLists.txt|21 1
Added: src/QpidConfig.cmake.in|30 0
Added: src/QpidConfigVersion.cmake.in|30 0

Revision: ff0bb710befab2203555984a5ecb54e6a342205f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 16/03/2014 12:15:05
Message:
QPID-5631: Adjust for changes in Proton detection files exported by proton. #MsgLength=76


----
Modified: src/CMakeLists.txt|1 1
Modified: src/amqp.cmake|17 61

Revision: 28679f2973d027cef60b87ea29a64633af58e711
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/03/2014 21:54:46
Message:
QPID-5362: No store tools exist for examining the journals - Bugfix and reorganization of qls python modules. #MsgLength=110


----
Modified: src/qpid/linearstore/ISSUES|16 14
Modified: src/qpid/linearstore/journal/jdir.cpp|67 85
Modified: src/qpid/linearstore/journal/jdir.h|2 0
Modified: src/tests/linearstore/linearstoredirsetup.sh|31 20
Modified: src/tests/linearstore/tx-test-soak.sh|26 5

Revision: f6ab1095e5eb0f5201a6bb270d3cfb37faf17734
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 19/03/2014 23:26:56
Message:
NO-JIRA: Removed not about using only Ruby < 2.0 #MsgLength=95


----
Modified: INSTALL|1 2

Revision: f2a31261d7221eaebea70fa9dbf90f96a0ad1857
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/03/2014 03:40:40
Message:
QPID-5586: Introduce SessionClosed exception - use it for qpid::messaging::Session::nextReceiver to ensure that closing a connection/session can be distinguished. #MsgLength=165


----
Modified: include/qpid/messaging/exceptions.h|10 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|2 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1
Modified: src/qpid/messaging/exceptions.cpp|2 0

Revision: d62836d12ad85d0b2488854007df5da695e9437f
Author: Justin Ross <jross@apache.org>
Date: 21/03/2014 01:29:51
Message:
QPID-5600: Advance the version number on trunk to 0.29 #MsgLength=55


----
Modified: QPID_VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1

Revision: 92df2c825ba962c94b5417f8eeb11f7d007f13e3
Author: Charles E. Rolke <chug@apache.org>
Date: 21/03/2014 04:58:51
Message:
QPID-5631: Adjust for changes to Qpid CMake detection of Proton. #MsgLength=2373


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|286 375

Revision: e36cf16ae82265625e12e22408d6a1446c389272
Author: Kim van der Riet <kpvdr@apache.org>
Date: 21/03/2014 23:50:56
Message:
QPID-5641: [legacystore] Valgrind reports memory leaks on older store tests #MsgLength=76


----
Modified: src/tests/legacystore/CMakeLists.txt|0 24
Deleted: src/tests/legacystore/OrderingTest.cpp|0 171
Deleted: src/tests/legacystore/SimpleTest.cpp|0 500
Deleted: src/tests/legacystore/TransactionalTest.cpp|0 354
Deleted: src/tests/legacystore/TwoPhaseCommitTest.cpp|0 678

Revision: 25d8b865631fd2e21aacf712ea8f9b002945b58a
Author: Charles E. Rolke <chug@apache.org>
Date: 22/03/2014 21:57:52
Message:
NO-JIRA: Use better logic to locate Visual Studio vcvars on 32-/64-bit systems Emit a make-install.bat. Install failures from within VS gui are hidden but are in plain sight from the command line. Fix a couple of bad references to boost root directory. Turn off INSTALL_QMFGEN to preclude install failures Replace hard tabs with spaces. #MsgLength=337


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|62 14

Revision: 0e5a8858a2715b470df8551fcdb6fb55b2b4e415
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/03/2014 08:25:43
Message:
QPID-5646: Detect and build against earlier versions of Proton. - This should detect any version of Proton that either uses pkg-config or native cmake config files. #MsgLength=167


----
Modified: CMakeLists.txt|2 0
Added: CMakeModules/FindProton.cmake|61 0

Revision: c8ac0477acb3332cf7af9611b7588b83f0a9ef79
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/03/2014 13:01:49
Message:
QPID-5646: Fixes Proton detection to work with cmake 2.6 #MsgLength=57


----
Modified: CMakeModules/FindProton.cmake|13 6

Revision: 71a5669fd8cb50d4273ad5f1231241b1e2aeacea
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/03/2014 23:01:56
Message:
QPID-5646: Fixes Proton detection to work with non standard pkg-config location #MsgLength=80


----
Modified: CMakeModules/FindProton.cmake|2 0

Revision: 55851cf36e6cd606d786937602de8723b7481068
Author: Pavel Moravec <pmoravec@apache.org>
Date: 28/03/2014 20:38:10
Message:
QPID-5651: [C++ broker] segfault in qpid::linearstore::journal::jdir::clear_dir when declaring durable queue #MsgLength=109


----
Modified: src/qpid/linearstore/journal/jdir.cpp|1 0

Revision: 225760a4d4ce5941c39177735c81183abaea2aba
Author: Keith Wall <kwall@apache.org>
Date: 01/04/2014 18:35:33
Message:
QPID-5653, QPID-5624: Remove support for virtual host xml and make message and configuration stores stateless. This commit will temporarily break the UI #MsgLength=155


----

Revision: e0eb79529a7be34dd637a8548a475db5449ced22
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/04/2014 04:33:15
Message:
QPID-5362: Bugfix for qpid_qls_analyze #MsgLength=39


----
Modified: src/linearstore.cmake|3 0
Modified: src/qpid/linearstore/ISSUES|19 11

Revision: a2f61327981989a9b5962db711b4ff2f1036bc18
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 02/04/2014 15:03:57
Message:
QPID-5648: restore processing the ConnectionSettings protocol, lost inadvertently in QPID-5568 #MsgLength=95


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|3 2
Modified: src/qpid/sys/urlAdd.h|6 3

Revision: bb17217070cad80c8d47c28bec2ba3a18f85ddcc
Author: Stephen D. Huston <shuston@apache.org>
Date: 02/04/2014 22:33:10
Message:
Change CMake version check from 2.8.0 to 2.8.3 per QPID-5646 #MsgLength=61


----
Modified: CMakeModules/FindProton.cmake|1 1

Revision: 052a990a71d168e77e18fed7b6f6a66e1f075c08
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2014 05:23:40
Message:
QPID-5658: Small changes to compile with clang's libc++ #MsgLength=56


----
Modified: src/qpid/RangeSet.h|2 0
Modified: src/qpid/broker/MessageBuilder.h|2 0
Modified: src/qpid/broker/SelectorToken.cpp|2 1
Modified: src/qpid/sys/unordered_map.h|5 1

Revision: 3887d903bb937f32f5319cf78b5201ffe341631f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/04/2014 05:23:45
Message:
QPID-5659: Fixes to compile with C++11 (needed to compile with clang on FreeBSD 10) - shared_ptr no longer has a default conversion to bool. - Change in default destructor semantics: by default destructors are now not allowed to throw exceptions. - stringstream no longer has a default conversion to string. #MsgLength=310


----
Modified: src/qpid/broker/DirectExchange.cpp|1 1
Modified: src/qpid/broker/Exchange.cpp|2 2
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/Observers.h|1 1
Modified: src/qpid/client/SessionBase_0_10.cpp|1 1
Modified: src/qpid/ha/hash.h|4 0
Modified: src/qpid/sys/Waitable.h|7 1
Modified: src/qpid/sys/posix/Thread.cpp|1 1
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|1 1
Modified: src/tests/legacystore/jrnl/_ut_jdir.cpp|1 1
Modified: src/tests/legacystore/jrnl/_ut_jinf.cpp|2 2
Modified: src/tests/msg_group_test.cpp|1 2
Modified: src/tests/qpid-receive.cpp|1 2
Modified: src/tests/qpid-send.cpp|2 3

Revision: fb6990ba000f44af89e39b69c11be75a3c68baea
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/04/2014 03:41:40
Message:
QPID-5660: [legacystore] Python tests fail with syntax error on Python 2.4 #MsgLength=75


----
Modified: src/qpid/linearstore/ISSUES|2 0
Modified: src/tests/qpid-analyze-trace|1 1

Revision: 10592265ec5ba37037297300648b7db122401102
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/04/2014 04:24:03
Message:
QPID-5661: Set default cmake build to exclude linearstore #MsgLength=58


----
Modified: src/linearstore.cmake|2 2

Revision: 27f7eec9a49bd0185c4fe7a8a6cfdc2ab9143271
Author: Alan Conway <aconway@apache.org>
Date: 07/04/2014 23:39:19
Message:
QPID-5666: HA fails with resource-limit-exceeded: Exceeded replicated queue limit #MsgLength=381


----
Modified: src/qpid/ha/Primary.cpp|1 1
Modified: src/qpid/ha/PrimaryQueueLimits.h|22 5
Modified: src/qpid/ha/RemoteBackup.cpp|1 1
Modified: src/qpid/ha/ReplicationTest.cpp|7 8
Modified: src/qpid/ha/ReplicationTest.h|9 9
Modified: src/tests/ha_test.py|2 2
Modified: src/tests/ha_tests.py|13 0

Revision: 6d4a66050f828862f8251bc1e8ab184060a8f5d7
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2014 05:22:32
Message:
QPID-5667: C++ broker: QMF subscribe events are not raised with AMQP 1.0 #MsgLength=228


----
Modified: src/qpid/broker/Consumer.h|6 2
Modified: src/qpid/broker/Queue.cpp|14 2
Modified: src/qpid/broker/Queue.h|8 2
Modified: src/qpid/broker/SemanticState.cpp|3 4
Modified: src/qpid/broker/SemanticState.h|0 2
Modified: src/qpid/broker/SessionAdapter.cpp|1 18
Modified: src/qpid/broker/amqp/Outgoing.cpp|1 1
Modified: src/tests/QueueTest.cpp|1 1

Revision: 1cb6a14a02faac66bcd1356212f56b1639633069
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2014 05:22:55
Message:
QPID-5560: HA tests do not use AMQP 1.0 #MsgLength=1332


----
Modified: bindings/qpid/python/qpid_messaging.i|73 10
Modified: include/qpid/messaging/Logger.h|1 1
Modified: include/qpid/qpid.i|2 0
Modified: include/qpid/swig_python_typemaps.i|7 0
Modified: src/amqp.cmake|2 0
Modified: src/qpid/broker/Broker.cpp|6 1
Modified: src/qpid/broker/Queue.cpp|15 12
Modified: src/qpid/broker/Queue.h|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|0 2
Modified: src/qpid/broker/amqp/Session.cpp|1 1
Modified: src/qpid/ha/QueueReplicator.cpp|4 4
Modified: src/qpid/ha/ReplicationTest.h|0 2
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/ConnectionOptions.h|1 0
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|7 177
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|13 11
Added: src/qpid/messaging/amqp/PnData.cpp|218 0
Added: src/qpid/messaging/amqp/PnData.h|60 0
Modified: src/tests/brokertest.py|91 43
Modified: src/tests/ha_test.py|20 21
Modified: src/tests/ha_tests.py|235 226
Modified: src/tests/interlink_tests.py|5 5
Modified: src/tests/legacystore/python_tests/client_persistence.py|25 20
Modified: src/tests/legacystore/python_tests/resize.py|24 21
Modified: src/tests/legacystore/python_tests/store_test.py|40 39
Modified: src/tests/qpidd_qmfv2_tests.py|2 0
Modified: src/tests/test_env.sh.in|2 2

Revision: d43023aad462d8538480d2273c54f03756f0f058
Author: Alan Conway <aconway@apache.org>
Date: 08/04/2014 23:10:12
Message:
Author: Alan Conway <aconway@redhat.com> --- log message follows this QPID-5560: Remove use of python if expression, not available in older python (2.4) #MsgLength=153


----
Modified: src/tests/brokertest.py|3 2

Revision: 8e23a29db0c8285d4560c6a3d3a98a5b8ef7b26b
Author: Alan Conway <aconway@apache.org>
Date: 09/04/2014 22:55:10
Message:
QPID-5560: Fix ReplicationTests.test_reject to work with SWIG and native clients. #MsgLength=186


----
Modified: src/tests/ha_tests.py|1 1

Revision: 6003a9a6363a3d719eafecc40c779bd3a29e98f0
Author: Alan Conway <aconway@apache.org>
Date: 11/04/2014 21:18:23
Message:
QPID-5681: Fix core dump in interlink_tests. #MsgLength=109


----
Modified: src/tests/interlink_tests.py|6 1
Modified: src/tests/test_env.sh.in|3 0

Revision: cc7aa549fedd91e1f0e4f7471ec55b16eac38217
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/04/2014 06:32:58
Message:
Updated build instructions also added RDMA prerequisites fixing QPID-5652 #MsgLength=74


----
Modified: INSTALL|65 16

Revision: f156270a3baa4dfe0d7d5e19e42f4d9f94ebc8e0
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 14/04/2014 22:57:19
Message:
QPID-5669: spurious error on connection close (Windows C++): SSL negotiation failed #MsgLength=84


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|16 4
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|46 36
Modified: src/qpid/sys/windows/SslAsynchIO.h|5 2

Revision: fb6436adaefc4bf6183be5deaff99814a69ecb83
Author: Gordon Sim <gsim@apache.org>
Date: 14/04/2014 23:03:53
Message:
NO-JIRA: added some notes on dynamic node policies and broker initiated links in qpidd's AMQP 1.0 support #MsgLength=106


----
Modified: AMQP_1.0|54 0

Revision: 8b9a4d8ad2658a897618bb4a5e96522bbe397b1e
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 15/04/2014 02:08:25
Message:
QPID-5696: Floats losing their fractional part. #MsgLength=151


----
Modified: include/qpid/swig_perl_typemaps.i|1 1

Revision: f4976c1cb31273b268b770743a267213a2efa2d5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/04/2014 04:13:31
Message:
NO-JIRA: Make qpid-receive print a bit more info for message headers/content #MsgLength=77


----
Modified: src/tests/qpid-receive.cpp|8 2

Revision: 6572dc3f727fbbccd080a2da1c571d028dc3a791
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 15/04/2014 14:21:51
Message:
QPID-5694: Windows C++ broker SSL: do not send non-existent negotiation token on shutdown #MsgLength=90


----
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|1 1

Revision: 5008d289696655676c3f06e9855b26b8f3f27e6b
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 00:52:29
Message:
NO-JIRA: make new output introduced in r1587304 optional, as it breaks several tests #MsgLength=85


----
Modified: src/tests/qpid-receive.cpp|9 5

Revision: 8bf70dff5132dc6ef5058f1d45bc3333b05e83ea
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 01:58:44
Message:
QPID-5704: use shared pointer to avoid dangling referece to domain #MsgLength=67


----
Modified: src/qpid/broker/amqp/Domain.cpp|15 15
Modified: src/qpid/broker/amqp/Domain.h|2 1
Modified: src/qpid/broker/amqp/Interconnect.cpp|2 2
Modified: src/qpid/broker/amqp/Interconnect.h|1 2

Revision: f8dc0935060982904b7aa7f08fc17da55ddb34d6
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 01:58:50
Message:
QPID-5705: throw exception when domain already exists #MsgLength=54


----
Modified: src/qpid/broker/amqp/Interconnects.cpp|1 1

Revision: eb48e970e607ee8504b63b21e419c8285b320fd1
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 01:58:58
Message:
QPID-5706: add optional domain to incoming and outgoing link objects #MsgLength=69


----
Modified: src/qpid/broker/amqp/Connection.cpp|2 2
Modified: src/qpid/broker/amqp/Connection.h|1 1
Modified: src/qpid/broker/amqp/Domain.cpp|5 2
Modified: src/qpid/broker/amqp/Interconnect.cpp|47 5
Modified: src/qpid/broker/amqp/Interconnect.h|4 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|11 2
Modified: src/qpid/broker/amqp/ManagedConnection.h|4 1
Modified: src/qpid/broker/amqp/ManagedIncomingLink.cpp|2 1
Modified: src/qpid/broker/amqp/ManagedOutgoingLink.cpp|2 1
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|1 1
Modified: src/qpid/broker/amqp/Sasl.cpp|1 1
Modified: src/qpid/broker/management-schema.xml|2 0

Revision: bb97f63e54629381d306c96babe4554edd934fe9
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 01:59:04
Message:
QPID-5707: treat '#' as implying create for exchange as well as queue #MsgLength=70


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|18 3

Revision: 2744e231dc5f9a661d8dde6d74164a667485c29e
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 02:00:21
Message:
QPID-5708: only set 'queue' type if routing-key is not empty #MsgLength=61


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 2

Revision: 7e7b03074c1a7b943d0937f2124e1feaee95fde4
Author: Gordon Sim <gsim@apache.org>
Date: 17/04/2014 19:17:16
Message:
NO-JIRA: older versions of boost get confused when one option is a substring of another see r1587304 and r1587976 #MsgLength=114


----
Modified: src/tests/qpid-receive.cpp|1 1

Revision: 4f3cf7a43b2f7e7c59bfacbd9277a1ea5b369b44
Author: Justin Ross <jross@apache.org>
Date: 21/04/2014 22:13:29
Message:
QPID-5714: Skip python tests if test code is missing #MsgLength=53


----
Modified: src/tests/python_tests|5 0
Modified: src/tests/swig_python_tests|1 0

Revision: 859320d53d5c4a4d3227e8faf4c45f50160d0bd0
Author: Charles E. Rolke <chug@apache.org>
Date: 22/04/2014 03:07:04
Message:
QPID-5663: [C++ Messaging] Windows AMQP 1.0 map_receiver fails MSVC's generated copy constructor for DataBuilder failed to copy the map correctly. #MsgLength=147


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 1

Revision: 53f0691a596827450298de704ea5c0b023c5d076
Author: Charles E. Rolke <chug@apache.org>
Date: 23/04/2014 02:10:00
Message:
QPID-5663: [C++ Messaging] Windows AMQP 1.0 map_receiver fails Updated patch from Gordon Sim. #MsgLength=94


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|2 1

Revision: ac8599377a1c7faaef1885b946d4c50da526bacc
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2014 20:42:35
Message:
QPID-5711: HA cannot promote primary if SASL security is enabled. #MsgLength=559


----
Modified: etc/CMakeLists.txt|2 1
Modified: etc/qpidd-primary.in|20 19
Modified: etc/qpidd.in|7 3

Revision: 1e395d4dfbd6fafd347df7a328a0879898cead28
Author: Alan Conway <aconway@apache.org>
Date: 23/04/2014 22:45:13
Message:
QPID-5718: Dead code in the HA codebase #MsgLength=252


----
Modified: src/qpid/ha/RemoteBackup.cpp|0 15

Revision: 0ef34d4d265820461aab020664531122dee2c47a
Author: Charles E. Rolke <chug@apache.org>
Date: 24/04/2014 03:14:09
Message:
QPID-5716: Messaging C++ .NET binding fails to return GetContentObject data Changes function signature to: object = message.GetContentObject() Adds self tests using SetContentObject and GetContentObject. #MsgLength=205


----
Modified: bindings/qpid/dotnet/src/Message.cpp|2 2
Modified: bindings/qpid/dotnet/src/Message.h|1 1
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.connection.cs|3 10
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.message.cs|90 4

Revision: 18b05e8f73d2c3d919d6dd5f51713849e46835bd
Author: Alan Conway <aconway@apache.org>
Date: 24/04/2014 05:11:08
Message:
QPID-5720: HA exception raised by the store for durable transactions #MsgLength=803


----
Modified: src/tests/brokertest.py|3 0
Modified: src/tests/ha_tests.py|6 8
Modified: src/tests/qpid-txtest.cpp|1 0

Revision: 6d4d4ac831123840bec24f4434900dd8b730e613
Author: Justin Ross <jross@apache.org>
Date: 24/04/2014 22:52:54
Message:
QPID-5714: In ha_tests, skip if the target test code is missing #MsgLength=64


----
Modified: src/tests/ha_tests.py|5 0

Revision: 6db54aa615ba05f24a31077cd5fe478c17894f9d
Author: Alan Conway <aconway@apache.org>
Date: 25/04/2014 01:54:05
Message:
QPID-5719: HA becomes unresponsive once any of the brokers are SIGSTOPed #MsgLength=1068


----
Modified: etc/qpidd-primary.in|1 2
Modified: etc/qpidd.in|19 15
Modified: src/tests/ha_test.py|3 1
Modified: src/tests/ha_tests.py|8 0

Revision: 887627cff87ba13eecb01abea7d1dd5ec2430c18
Author: Alan Conway <aconway@apache.org>
Date: 25/04/2014 02:59:03
Message:
NO-JIRA: HA minor cleanup of qpid-ha tool #MsgLength=280


----
Modified: src/tests/ha_test.py|0 8
Modified: src/tests/ha_tests.py|0 49

Revision: 6e1115f2238ac28e50cec45c09a218f9b2b1806a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/04/2014 06:22:08
Message:
QPID-5725: Use correct comparison function to match property keys #MsgLength=66


----
Modified: src/qpid/broker/Message.cpp|2 1
Modified: src/tests/MessageTest.cpp|12 0

Revision: f2dcf53d1d56be6738715591054a2b426401435e
Author: Alan Conway <aconway@apache.org>
Date: 29/04/2014 04:21:11
Message:
QPID-5719: Fix unintentional dependency on qpid-ha for non-HA installations. #MsgLength=143


----
Modified: etc/qpidd.in|8 3

Revision: 5d70dad128bd34a715cb0cfdb7597346c93a4b5c
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2014 05:24:31
Message:
QPID-5729: handle concurrent triggering of topic policy #MsgLength=56


----
Modified: src/qpid/broker/amqp/NodePolicy.cpp|1 1
Modified: src/qpid/broker/amqp/Topic.cpp|14 0
Modified: src/qpid/broker/amqp/Topic.h|1 0

Revision: 8497c65d936fb9df1cfc8decf10a80745f24832b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2014 21:29:45
Message:
QPID-5489: More cleaning up of the Uuid code - Rewrite the Uuid iosteam extractor and insertor operators to not require any underlying uuid library. - Create a specific uuid implementation for FreeBSD #MsgLength=203


----
Modified: src/qpid/legacystore/TxnCtxt.cpp|2 2
Modified: src/qpid/legacystore/TxnCtxt.h|1 1
Modified: src/qpid/linearstore/TxnCtxt.cpp|2 2
Modified: src/qpid/linearstore/TxnCtxt.h|1 1
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|3 6
Renamed: src/qpid/sys/FreeBSD/uuid.cpp [from src/qpid/sys/windows/uuid.h]|21 12
Modified: src/qpid/sys/uuid.h|14 5
Modified: src/qpid/sys/windows/uuid.cpp|6 30
Modified: src/qpid/types/Uuid.cpp|61 7
Modified: src/tests/Uuid.cpp|15 3

Revision: 051ae6352bb2d355702ef1041a5274c66f76dc41
Author: Andrew Stitcher <astitcher@apache.org>
Date: 29/04/2014 21:29:48
Message:
QPID-5489: Change uuid detection code to the code that proton uses #MsgLength=67


----
Modified: src/CMakeLists.txt|28 22

Revision: 7005f2a703c5b27ec3a35886dfd8386cbf47a4e5
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 29/04/2014 23:46:34
Message:
QPID-5732: Perl examples getting the wrong cmdline arguments #MsgLength=264


----
Modified: bindings/qpid/examples/perl/hello_world.pl|3 3
Modified: bindings/qpid/examples/perl/map_receiver.pl|2 2

Revision: bc57deb99d9a9d074e8d5be2a1deb02ef957a133
Author: Andrew Stitcher <astitcher@apache.org>
Date: 30/04/2014 11:41:23
Message:
QPID-5735: Correct calculation of amqp.redelivered #MsgLength=51


----
Modified: src/qpid/broker/Selector.cpp|3 1

Revision: e453b8137232647f814323fbd8411d99781a6900
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2014 22:10:00
Message:
QPID-5736: only block until sent message is settled; signal rejection by throwing exception #MsgLength=92


----
Modified: include/qpid/messaging/exceptions.h|9 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 1
Modified: src/qpid/messaging/exceptions.cpp|1 0

Revision: 4e25d17cb72b26c8f626451e31787ceee3c11a2e
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2014 04:14:50
Message:
QPID-5737: wakeup driver for output which may be necessary if sessions outgoing window has been moved forward by peer #MsgLength=118


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 0

Revision: 2fab7a0d1c10eb54665aa0d9b3d47b24a4dfc51e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/05/2014 05:07:17
Message:
QPID-5741: No longer warn when building Qpid with Proton 0.7 #MsgLength=61


----
Modified: src/amqp.cmake|1 1

Revision: 5013b59f6d54a2a132fcf09be3095977b4431778
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2014 06:20:26
Message:
NO-JIRA: HA fix hanging ha_tests.test_failover_send_receive on RHEL5 #MsgLength=532


----
Modified: src/tests/brokertest.py|22 24
Modified: src/tests/ha_test.py|6 6

Revision: 08bc96062fc1e34931ed092375c390e812d6b442
Author: Alan Conway <aconway@apache.org>
Date: 02/05/2014 23:13:57
Message:
QPID-5743: Explain how to use pkg-config to locate proton #MsgLength=81


----
Modified: INSTALL|5 4

Revision: e458933d9b1d93073b5e1af429e8bbb0c4b4040f
Author: Charles E. Rolke <chug@apache.org>
Date: 08/05/2014 03:21:39
Message:
QPID-5751: RELEASE_NOTES file has stale content #MsgLength=50


----
Modified: RELEASE_NOTES|5 7

Revision: 5ef65dc01fdae15b1cc2182dbfd054d7708fda35
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/05/2014 20:45:11
Message:
QPID-5750: [linearstore] Broker fails with JERR__AIO: AIO error. (AIO write operation failed: Invalid argument (-22) #MsgLength=117


----
Modified: src/qpid/linearstore/ISSUES|6 1
Modified: src/qpid/linearstore/journal/JournalFile.cpp|10 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|18 5
Modified: src/qpid/linearstore/journal/aio.h|67 4
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 1
Modified: src/qpid/linearstore/journal/jerrno.cpp|3 2
Modified: src/qpid/linearstore/journal/jerrno.h|1 0
Modified: src/qpid/linearstore/journal/pmgr.cpp|0 1
Modified: src/qpid/linearstore/journal/pmgr.h|0 1
Modified: src/qpid/linearstore/journal/wmgr.cpp|35 9
Modified: src/qpid/linearstore/journal/wmgr.h|1 1

Revision: 09a1408486512792fa0fa374cd9c2f0e60e3cca3
Author: Gordon Sim <gsim@apache.org>
Date: 13/05/2014 21:03:08
Message:
QPID-5758: Move purging of expired messages from timer thread to worker thread #MsgLength=79


----
Modified: src/qpid/broker/Broker.cpp|1 1
Modified: src/qpid/broker/QueueCleaner.cpp|14 18
Modified: src/qpid/broker/QueueCleaner.h|10 1
Modified: src/tests/QueueTest.cpp|6 1

Revision: 4d6df238b27b76d4d411992f593654c56b77c786
Author: Gordon Sim <gsim@apache.org>
Date: 14/05/2014 00:46:01
Message:
QPID-5747: create codec for outgoing connections on establishing the connection, so that any disconnect before we try to write can still be communicated to upper layers #MsgLength=169


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|17 12
Modified: src/qpid/sys/AsynchIOHandler.h|1 0

Revision: 648db2d07efac21b7d06f30c8315b4b8045bdf29
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2014 00:25:12
Message:
QPID-5765: don't invoke on dangling pointer #MsgLength=305


----
Modified: src/qpid/broker/Connection.h|2 4
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|0 4
Modified: src/qpid/broker/amqp/ManagedConnection.h|1 3
Modified: src/qpid/broker/amqp_0_10/Connection.h|1 2
Modified: src/tests/failing-amqp1.0-python-tests|1 0

Revision: b286645c1f0e943b3c1e87202c2c9c3057e33d68
Author: Pavel Moravec <pmoravec@apache.org>
Date: 21/05/2014 16:31:35
Message:
QPID-5767: [C++ broker][linearstore] broker segfaults when recovering journal file with damaged header (Kim's patch) #MsgLength=117


----
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|2 2
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|1 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|20 9
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 0
Modified: src/qpid/linearstore/journal/jerrno.cpp|2 0
Modified: src/qpid/linearstore/journal/jerrno.h|1 0

Revision: cc4e3c1eeb5aebcb54d913806c6dabd9c8c34389
Author: Pavel Moravec <pmoravec@apache.org>
Date: 21/05/2014 20:51:01
Message:
no JIRA: [C++ broker] have more descriptive error on parse error of SASL config file #MsgLength=85


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 1

Revision: 0040d14b99f55052c506111212b6bd2d7a987a25
Author: Kim van der Riet <kpvdr@apache.org>
Date: 22/05/2014 01:33:51
Message:
NO_JIRA: [linearstore] Update to ISSUES; whitespace fix from last checkin #MsgLength=74


----
Modified: src/qpid/linearstore/ISSUES|11 6
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|1 1

Revision: 365f464ef76c46e13ccfc6061f6a2509e217070b
Author: Gordon Sim <gsim@apache.org>
Date: 24/05/2014 00:10:27
Message:
QPID-5783: Share immutable state between copies of a message. Avoid using memory for annotations unless actually required. #MsgLength=123


----
Modified: src/qpid/broker/Message.cpp|111 64
Modified: src/qpid/broker/Message.h|80 17
Modified: src/qpid/broker/PagedQueue.cpp|2 2
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|1 1
Modified: src/qpid/broker/SemanticState.cpp|0 2
Modified: src/qpid/broker/SessionState.cpp|2 1
Modified: src/qpid/broker/amqp/Incoming.cpp|2 2
Modified: src/qpid/broker/amqp/Message.h|1 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|2 2
Modified: src/qpid/management/ManagementAgent.cpp|3 3
Modified: src/tests/MessageUtils.h|1 0
Modified: src/tests/QueueTest.cpp|0 1

Revision: cd5f5e240c0281f3b9c33f02a17dd09542efaf8f
Author: Pavel Moravec <pmoravec@apache.org>
Date: 28/05/2014 15:16:57
Message:
QPID-5748:  [C++ broker] Make Queue::purgeExpired more efficient; remove ExpiryPolicy #MsgLength=86


----
Modified: src/CMakeLists.txt|0 1
Modified: src/qpid/broker/Broker.cpp|0 2
Modified: src/qpid/broker/Broker.h|0 5
Deleted: src/qpid/broker/ExpiryPolicy.cpp|0 38
Deleted: src/qpid/broker/ExpiryPolicy.h|0 50
Modified: src/qpid/broker/Message.cpp|7 26
Modified: src/qpid/broker/Message.h|2 9
Modified: src/qpid/broker/PagedQueue.cpp|6 10
Modified: src/qpid/broker/PagedQueue.h|2 5
Modified: src/qpid/broker/Queue.cpp|10 2
Modified: src/qpid/broker/QueueFactory.cpp|1 1
Modified: src/qpid/broker/RecoverableMessage.h|1 2
Modified: src/qpid/broker/RecoverableMessageImpl.h|1 1
Modified: src/qpid/broker/RecoveryManagerImpl.cpp|2 2
Modified: src/qpid/broker/SessionState.cpp|1 1
Modified: src/qpid/broker/amqp/Incoming.cpp|2 2
Modified: src/qpid/broker/amqp/Incoming.h|0 1
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|1 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|1 1
Modified: src/qpid/management/ManagementAgent.cpp|1 1
Modified: src/tests/MessageUtils.h|1 1
Modified: src/tests/QueueTest.cpp|0 1

Revision: 2849a81c03565d8b2841ba13f9ee3c52f74b7e3b
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 30/05/2014 23:21:56
Message:
QPID-5794: Fix the regex in spout.rb #MsgLength=140


----
Modified: bindings/qpid/ruby/examples/spout.rb|2 2

Revision: 44ccb8ae4559629840450db4312de3c37b6387fd
Author: Charles E. Rolke <chug@apache.org>
Date: 01/06/2014 10:34:33
Message:
QPID-5783: Share immutable state EXTERN #MsgLength=40


----
Modified: src/qpid/broker/Message.h|1 1

Revision: e82f7de2de2715047ba07a9cb49ee4cd48ca8824
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/06/2014 23:38:56
Message:
QPID-5767: [linearstore] broker segfaults when recovering journal file with damaged header #MsgLength=91


----
Modified: src/qpid/linearstore/ISSUES|2 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|7 6
Modified: src/qpid/linearstore/journal/RecoveryManager.h|1 1
Modified: src/qpid/linearstore/journal/jcfg.h|1 0
Modified: src/qpid/linearstore/journal/utils/file_hdr.c|5 5
Modified: src/qpid/linearstore/journal/utils/file_hdr.h|4 2
Modified: src/qpid/linearstore/journal/utils/rec_hdr.c|7 7

Revision: 27384abf99e9f59dac1af8cbe48f06bfb720d5fc
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2014 03:04:39
Message:
QPID-5793: prevent deadlock between timer and consume #MsgLength=54


----
Modified: src/qpid/broker/Queue.cpp|3 1

Revision: edd0131fb3e89a6d84552f0075221774d1604c66
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2014 03:04:45
Message:
QPID-5793: prevent leak due to concurrent bind and delete #MsgLength=58


----
Modified: src/qpid/broker/Queue.cpp|13 3

Revision: f7573bb27360eeb7bd5cff60a19ef293f47c6e9a
Author: Gordon Sim <gsim@apache.org>
Date: 04/06/2014 21:15:02
Message:
QPID-5788: delayed initiation of nss #MsgLength=37


----
Modified: src/qpid/client/SslConnector.cpp|34 13

Revision: a680526a98e84b86e9d456911450df8d4e7aa4cc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/06/2014 21:23:44
Message:
QPID-5804: Fix broken selector parsing of unary '+' #MsgLength=52


----
Modified: src/qpid/broker/SelectorExpression.cpp|1 1
Modified: src/tests/Selector.cpp|2 0

Revision: c546de62fab2a5227be6be35b7ee8a74c53411df
Author: Andrew Stitcher <astitcher@apache.org>
Date: 09/06/2014 21:23:47
Message:
QPID-5805: Disallow % and _ characters as escapes in selector LIKE expression #MsgLength=78


----
Modified: src/qpid/broker/SelectorExpression.cpp|3 0
Modified: src/tests/Selector.cpp|1 0

Revision: 34cd7d8dbe1ed29113aadf913261a382a81ed0f7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/06/2014 05:55:45
Message:
QPID-3650: Avoid unaligned memory access #MsgLength=41


----
Modified: src/qpid/sys/rdma/RdmaIO.cpp|5 1

Revision: 1fa803bb59adf6f9aea886f262e227eed3e1ff4a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/06/2014 01:47:37
Message:
QPID-3650: Avoid unaligned memory access #MsgLength=41


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|4 4
Modified: src/qpid/sys/rdma/rdma_wrap.h|11 0

Revision: 42ac014dbafc3ffbc34a3cd62abb33201d8946fc
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/06/2014 05:35:09
Message:
QPID-5807: Remove boost::program_options as a header file dependency of qpid/Options.h - The intent here is to remove the necessity for things using qpid::Options to need to link boost::program_options directly. #MsgLength=214


----
Modified: bindings/qmf2/examples/cpp/CMakeLists.txt|0 5
Modified: examples/CMakeLists.txt|0 5
Modified: src/CMakeLists.txt|3 5
Modified: src/amqp.cmake|1 1
Modified: src/legacystore.cmake|0 1
Modified: src/qpid/Options.cpp|87 18
Modified: src/qpid/Options.h|41 31
Added: src/qpid/OptionsTemplates.h|52 0
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/ha/HaPlugin.cpp|4 0
Modified: src/qpid/log/posix/SinkOptions.cpp|4 0
Modified: src/qpid/store/CMakeLists.txt|3 5
Modified: src/tests/CMakeLists.txt|23 23
Modified: src/tests/qpid-perftest.cpp|6 3
Modified: src/tests/test_tools.h|1 0

Revision: f6e408d96e2d7e193c765dddb9b304bdf17ec299
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/06/2014 06:00:13
Message:
NO-JIRA: Removed obsolete/unused store code #MsgLength=44


----
Modified: src/qpid/broker/MessageStoreModule.cpp|0 2
Modified: src/qpid/broker/MessageStoreModule.h|0 1
Modified: src/qpid/broker/NullMessageStore.cpp|0 2
Modified: src/qpid/broker/NullMessageStore.h|0 1

Revision: 4c5cbdb8ebd69736328026c4d5cf9a5942e9435b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/06/2014 06:00:16
Message:
NO-JIRA: We never want to accidentally convert a string to an Options object #MsgLength=77


----
Modified: src/qpid/Options.h|1 1

Revision: 65af6784a2b38127072fa55ac239c5f02ee8518f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/06/2014 06:00:21
Message:
QPID-3921: Don't leak use qpid/Options.h header unnecessarily. #MsgLength=63


----
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/MessageStore.h|0 2
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|3 0
Modified: src/qpid/broker/posix/SocketFDPlugin.cpp|1 0
Modified: src/qpid/legacystore/MessageStoreImpl.h|8 5
Modified: src/qpid/linearstore/MessageStoreImpl.h|4 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 0

Revision: 8981461f5e4f821ce4cc1ba38d21917c7fcc793b
Author: Gordon Sim <gsim@apache.org>
Date: 13/06/2014 19:50:56
Message:
QPID-5814: default to utf8 in Variant::parse() #MsgLength=47


----
Modified: src/qpid/types/Variant.cpp|2 0

Revision: edd36a4c9ce44231a713abe29dec9006328954fe
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/06/2014 13:58:34
Message:
QPID-5829: Rearrange CMake files to centralise some flags - This means they can be used in the bindings. - It also means that individual modules do not have to specify to catch undefined symbols as this is the default beahviour now. #MsgLength=235


----
Modified: CMakeLists.txt|93 0
Modified: bindings/qmf2/python/CMakeLists.txt|2 2
Modified: bindings/qmf2/ruby/CMakeLists.txt|1 1
Modified: bindings/qpid/perl/CMakeLists.txt|2 2
Modified: bindings/qpid/python/CMakeLists.txt|1 1
Modified: bindings/qpid/ruby/CMakeLists.txt|2 2
Modified: src/CMakeLists.txt|2 94
Modified: src/amqp.cmake|0 1
Modified: src/rdma.cmake|0 3

Revision: 1993d2988f8c6e8864b944435ad56ca0c041c2d8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/06/2014 14:18:20
Message:
QPID-5829: Oops - fix mistaken change to actually work on Windows #MsgLength=66


----
Modified: CMakeLists.txt|1 1

Revision: 47c55ba7a99a6c2fff30708352098bef20273d00
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/06/2014 14:22:30
Message:
QPID-5829: Properly fix the CMake conditional #MsgLength=46


----
Modified: CMakeLists.txt|1 1

Revision: 2f2631843c63ee09e0f77a5000915a9f52620ba5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 18/06/2014 06:44:15
Message:
NO-JIRA: Make bindings install on windows #MsgLength=42


----
Modified: bindings/qmf2/python/CMakeLists.txt|1 1
Modified: bindings/qmf2/ruby/CMakeLists.txt|5 13
Modified: bindings/qpid/perl/CMakeLists.txt|2 9
Modified: bindings/qpid/python/CMakeLists.txt|1 1
Modified: bindings/qpid/ruby/CMakeLists.txt|5 13

Revision: 05c529caaddccf7e878efb6612de05ef1cc4c7ed
Author: Pavel Moravec <pmoravec@apache.org>
Date: 18/06/2014 15:40:22
Message:
QPID-5817: [C++ broker] Improve ACL authorisation of QMF methods and queries #MsgLength=77


----
Modified: src/qpid/broker/AclModule.h|66 27
Modified: src/qpid/broker/Broker.cpp|28 4
Modified: src/qpid/broker/Broker.h|3 2
Modified: src/qpid/broker/Queue.cpp|15 0
Modified: src/qpid/management/ManagementAgent.cpp|39 5
Modified: src/qpid/management/ManagementAgent.h|2 2
Modified: src/tests/acl.py|158 5
Modified: src/tests/ha_tests.py|1 0

Revision: 891cdfe98f68ec835ad9d10ab5eebaf1f46997a6
Author: Charles E. Rolke <chug@apache.org>
Date: 19/06/2014 03:10:19
Message:
QPID-5829: Rearrange CMake - repair original commit that breaks the .NET binding r1603064 fails to define some CMake version variables before using them for template processing. #MsgLength=178


----
Modified: CMakeLists.txt|3 0
Modified: src/CMakeLists.txt|0 3

Revision: 9e3a38e355b481009c53639b93db4ac7866c7b4b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2014 03:57:29
Message:
QPID-5829: One more CMake rearrangement and all will be good... #MsgLength=64


----
Modified: CMakeLists.txt|3 3

Revision: 6566cc225020b1f07a5631743f95c11e9cb315a2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2014 05:00:14
Message:
QPID-5829: This rearrangement is really it... #MsgLength=46


----
Modified: CMakeLists.txt|3 3

Revision: e7f86d6d6df8ac6f6da102d3548194ec504b86bb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2014 06:42:17
Message:
NO-JIRA: Fix some MSVC warnings #MsgLength=32


----
Modified: src/qpid/broker/amqp/Filter.h|1 1
Modified: src/qpid/messaging/amqp/Sasl.h|1 1
Modified: src/qpid/messaging/amqp/TcpTransport.h|1 1
Modified: src/qpid/messaging/amqp/TransportContext.h|1 1

Revision: 2ad872c37e6e7958cf87592ff9fa84d643e0e4d3
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2014 06:42:20
Message:
QPID-5807: Fix inconsistent DLL linkage #MsgLength=40


----
Modified: src/qpid/Options.h|1 1

Revision: a464c67d105805f18b06df5809f3598dc9de4609
Author: Pavel Moravec <pmoravec@apache.org>
Date: 22/06/2014 04:48:01
Message:
QPID-5835: [C++ broker] Broker recovery forgets auto-delete flag on queues and exchanges #MsgLength=89


----
Modified: src/qpid/broker/Exchange.cpp|6 2
Modified: src/qpid/broker/Queue.cpp|22 8

Revision: 2a54f5e7a30c5763113dc364ebc5a7dba4e2c950
Author: Gordon Sim <gsim@apache.org>
Date: 23/06/2014 20:46:58
Message:
QPID-5828: Ensure that we don't try to check status of null completion handle #MsgLength=78


----
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|1 1

Revision: 2f7f435981d7e1a5846dc567e82665eb993f878e
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2014 07:02:26
Message:
QPID-5828: Check and adjust ttl on resend attempt #MsgLength=50


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|2 6
Modified: src/qpid/client/amqp0_10/MessageSink.h|1 1
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|43 0
Modified: src/qpid/client/amqp0_10/OutgoingMessage.h|12 1
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|2 2

Revision: 7f5cce8e03b4b31b6208232f6074201f6bdfe1f7
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2014 07:02:33
Message:
QPID-5828: Drop expired incoming messages #MsgLength=42


----
Modified: src/qpid/client/SessionImpl.cpp|1 0
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|19 3
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|1 0
Modified: src/qpid/client/amqp0_10/OutgoingMessage.cpp|1 0
Modified: src/qpid/framing/FrameSet.cpp|22 2
Modified: src/qpid/framing/FrameSet.h|7 2

Revision: 00b6cf3e2476224cb567d05231318d3bb964929c
Author: Pavel Moravec <pmoravec@apache.org>
Date: 24/06/2014 18:36:36
Message:
QPID-5839: [C++ broker] Broker does not set lifetime-policy in AMQP1.0 attach performative #MsgLength=91


----
Modified: src/qpid/broker/amqp/NodeProperties.cpp|1 1

Revision: bfccf372168827e170b659079ceb800b01e92302
Author: Charles E. Rolke <chug@apache.org>
Date: 24/06/2014 23:31:38
Message:
PQID-5840: .NET Binding example.server confuses argument indexing Don't require an unused argument just to keep connectionOptions as arg[2] #MsgLength=140


----
Modified: bindings/qpid/dotnet/examples/csharp.example.server/csharp.example.server.cs|3 3

Revision: 9f20af8b5cfdc038d9559cd141562fa3cf6d9d31
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2014 00:15:34
Message:
QPID-5841: allow SSL hostname verification failure to be ignored (with NSS) #MsgLength=76


----
Modified: src/qpid/client/ConnectionSettings.cpp|2 1
Modified: src/qpid/client/ConnectionSettings.h|5 0
Modified: src/qpid/client/SslConnector.cpp|3 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 0
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/amqp/SslTransport.cpp|3 0
Modified: src/qpid/sys/ssl/SslSocket.cpp|22 1
Modified: src/qpid/sys/ssl/SslSocket.h|4 0

Revision: a37746517a4aa77ef960544d0544fb001e18c0ea
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2014 18:17:18
Message:
QPID-5845: topic policy's auto delete delay should not be overridden by link specific timeout #MsgLength=94


----
Modified: src/qpid/broker/amqp/Session.cpp|5 2

Revision: 8a13e9548d8b3faaa4e05221e6ad667cc2d29677
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2014 22:41:57
Message:
QPID-5848: update reference doc for connection options #MsgLength=55


----
Modified: include/qpid/messaging/Connection.h|32 1

Revision: a2eca96513b8015cac2b5eee4c014d84ad85c025
Author: Gordon Sim <gsim@apache.org>
Date: 25/06/2014 22:47:51
Message:
QPID-5828: more consistent behaviour os send() when disconnected #MsgLength=65


----
Modified: include/qpid/messaging/exceptions.h|10 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|4 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.h|1 0
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|33 17
Modified: src/qpid/client/amqp0_10/SenderImpl.h|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/qpid/messaging/exceptions.cpp|1 0

Revision: d2af209315ee847abb348ba257402a56434db17a
Author: Gordon Sim <gsim@apache.org>
Date: 26/06/2014 01:27:29
Message:
QPID-5849: set mechanism on management connection even if auth=no #MsgLength=66


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|4 0

Revision: 527e09590e6207770767008ea8c47191d7516d26
Author: Alan Conway <aconway@apache.org>
Date: 26/06/2014 12:34:12
Message:
QPID-5843: Producing to many queues locks I/O threads for new connections #MsgLength=294


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 2

Revision: 7d261024730fe3e0047b4bae3dff7dc9b8dcdd4a
Author: Pavel Moravec <pmoravec@apache.org>
Date: 26/06/2014 14:41:56
Message:
[no JIRA]: mark flow-to-disk stats as deprecated #MsgLength=49


----
Modified: src/qpid/broker/management-schema.xml|13 13

Revision: 6778af38352023af17550309e2b18c4158ea0b43
Author: Pavel Moravec <pmoravec@apache.org>
Date: 26/06/2014 16:41:05
Message:
[no JIRA]: brokertest to set connection option 'protocol' only for SWIG client on AMQP1.0 #MsgLength=90


----
Modified: src/tests/brokertest.py|4 2

Revision: 5b45fe1f697551966f07e16481a3f3215519c2bf
Author: Alan Conway <aconway@apache.org>
Date: 27/06/2014 06:31:49
Message:
NO-JIRA: Error handling in swig_python_typemaps: don't core dump if qpid.datatypes is not found. #MsgLength=97


----
Modified: include/qpid/swig_python_typemaps.i|11 8

Revision: f51806dbb988fe9c88471edc00349c38f7fd40a9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 28/06/2014 03:58:32
Message:
QPID-5859: Make qpidd listen to all protocol addresses when it starts up. #MsgLength=74


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|2 2

Revision: 47b5b53a648110cc02071cdd7cbd5ac442a3827b
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2014 06:14:14
Message:
QPID-5858: prevent leakage of old exception types #MsgLength=50


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|15 1
Modified: src/tests/MessagingSessionTests.cpp|19 0

Revision: 8d3fa1c1481138091a8b208abe67a50d2f32cb87
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2014 06:14:21
Message:
QPID-5860: release sender lock before invoking on session #MsgLength=58


----
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|5 3

Revision: 14b956af116c431510b45e2ea96ff261c92bb3cd
Author: Ted Ross <tross@apache.org>
Date: 01/07/2014 04:54:54
Message:
NO-JIRA - Fixed typo in a comment. #MsgLength=36


----
Modified: include/qpid/messaging/Connection.h|1 1

Revision: 76e47c1f33c5386a2d58e17cd2fe54891d1f9683
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2014 00:55:43
Message:
QPID-5865: Be more robust in face of system clock being changed: - Separate Wall clock time uses from other time * (assumed that any time with respect to the epoch is wallclock) - For Posix use CLOCK_MONOTONIC for all non wall clock purposes so that changing system time doesn't affect internal timekeeping - For Windows kept the same time keeping scheme. #MsgLength=360


----
Modified: src/CMakeLists.txt|1 0
Modified: src/qmf/AgentSession.cpp|6 6
Modified: src/qmf/ConsoleSession.cpp|1 1
Modified: src/qpid/acl/Acl.cpp|2 6
Modified: src/qpid/broker/PagedQueue.cpp|4 3
Modified: src/qpid/broker/Selector.cpp|1 1
Modified: src/qpid/broker/SessionManager.cpp|2 2
Modified: src/qpid/management/ManagementAgent.cpp|5 5
Modified: src/qpid/management/ManagementObject.cpp|6 6
Modified: src/qpid/sys/Time.h|12 7
Added: src/qpid/sys/posix/Condition.cpp|45 0
Modified: src/qpid/sys/posix/Condition.h|12 16
Modified: src/qpid/sys/posix/PrivatePosix.h|1 1
Modified: src/qpid/sys/posix/Time.cpp|14 3
Modified: src/qpid/sys/windows/Time.cpp|12 1
Modified: src/tests/Statistics.cpp|1 1
Modified: src/tests/echotest.cpp|1 2
Modified: src/tests/qpid-latency-test.cpp|2 3
Modified: src/tests/qpid-send.cpp|1 1

Revision: 232cd0df0a49d72ce87352b79ec8e918e423b5a0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2014 03:12:38
Message:
QPID-3921: Refactored Broker::Options into its own independent class - Now called BrokerOptions - Added extra getters to Broker so that nothing else needs to know about BrokerOptions - Significantly reduces header coupling as lots of files include Broker.h, but now don't need Options.h #MsgLength=291


----
Modified: src/qpid/broker/Broker.cpp|76 10
Modified: src/qpid/broker/Broker.h|24 62
Added: src/qpid/broker/BrokerOptions.h|86 0
Modified: src/qpid/broker/ConnectionHandler.cpp|2 3
Modified: src/qpid/broker/Link.cpp|1 1
Modified: src/qpid/broker/LinkRegistry.cpp|1 1
Modified: src/qpid/broker/Queue.cpp|4 4
Modified: src/qpid/broker/QueueFactory.cpp|1 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|5 5
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionAdapter.cpp|2 2
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|4 4
Modified: src/qpid/broker/amqp/Session.cpp|2 2
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/broker/posix/BrokerDefaults.cpp|5 4
Modified: src/qpid/broker/posix/SocketFDPlugin.cpp|1 2
Modified: src/qpid/broker/windows/BrokerDefaults.cpp|6 5
Modified: src/qpid/broker/windows/SaslAuthenticator.cpp|2 2
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|8 9
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/StatusCheck.cpp|1 1
Modified: src/qpid/sys/RdmaIOPlugin.cpp|1 2
Modified: src/qpid/sys/SslPlugin.cpp|5 8
Modified: src/qpid/sys/TCPIOPlugin.cpp|4 6
Modified: src/qpidd.h|2 2
Modified: src/tests/BrokerFixture.h|13 9
Modified: src/tests/ClientSessionTest.cpp|3 3
Modified: src/tests/MessagingFixture.h|1 1
Modified: src/tests/MessagingSessionTests.cpp|2 2

Revision: 942d758d6ec66daca4541a43d6553c3fc047799c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2014 03:12:42
Message:
QPID-5859: Fix to allow listening to some interfaces to fail - but still listen to the succeeding ones #MsgLength=103


----
Modified: src/qpid/sys/SocketTransport.cpp|17 21

Revision: ce64201e4125158485e535b5a2a7820532850ea8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/07/2014 03:55:51
Message:
QPID-3921: Deleted unnecessary header file includes #MsgLength=52


----
Modified: src/qpid/acl/AclConnectionCounter.h|0 1
Modified: src/qpid/acl/AclResourceCounter.h|0 1

Revision: f26fd17510d4da56784634da00590184c8754bc9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/07/2014 03:16:42
Message:
QPID-3921: Removed unused header includes #MsgLength=42


----
Modified: src/qpid/broker/DtxManager.h|0 1
Modified: src/qpid/broker/amqp_0_10/Connection.h|0 1
Modified: src/qpid/framing/Handler.h|0 3

Revision: 4072febf29819e5ac47029fef4e721f3357ae80f
Author: Rajith Muditha Attapattu <rajith@apache.org>
Date: 03/07/2014 05:55:28
Message:
QPID-5869 Added a check to see if agent is null before firing the event. There are other places in the code where this check is missing. Chuck will take care of them. #MsgLength=167


----
Modified: src/qpid/acl/Acl.cpp|3 1

Revision: 56de4aef05ac860398a36d1148c88e3837ff8b3f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/07/2014 11:00:18
Message:
QPID-5871: Remove unused generated code and dependent code #MsgLength=59


----
Deleted: rubygen/0-10/allsegmenttypes.rb|0 52
Deleted: rubygen/0-10/exceptions.rb|0 73
Deleted: rubygen/0-10/handlers.rb|0 47
Deleted: rubygen/0-10/specification.rb|0 389
Deleted: rubygen/0-10/typecode.rb|0 117
Modified: rubygen/generate|0 15
Deleted: src/qpid/amqp_0_10/Array.cpp|0 34
Deleted: src/qpid/amqp_0_10/Array.h|0 124
Deleted: src/qpid/amqp_0_10/Body.h|0 55
Deleted: src/qpid/amqp_0_10/Codec.h|0 213
Deleted: src/qpid/amqp_0_10/Command.h|0 62
Deleted: src/qpid/amqp_0_10/CommmandPacker.h|0 60
Modified: src/qpid/amqp_0_10/Connection.cpp|2 1
Deleted: src/qpid/amqp_0_10/Control.h|0 70
Deleted: src/qpid/amqp_0_10/Decimal.h|0 51
Deleted: src/qpid/amqp_0_10/Exception.h|0 96
Deleted: src/qpid/amqp_0_10/FrameHeader.cpp|0 50
Deleted: src/qpid/amqp_0_10/FrameHeader.h|0 90
Deleted: src/qpid/amqp_0_10/Header.cpp|0 34
Deleted: src/qpid/amqp_0_10/Header.h|0 53
Deleted: src/qpid/amqp_0_10/Holder.h|0 103
Deleted: src/qpid/amqp_0_10/Map.cpp|0 66
Deleted: src/qpid/amqp_0_10/Map.h|0 188
Deleted: src/qpid/amqp_0_10/Packer.h|0 195
Deleted: src/qpid/amqp_0_10/SerializableString.h|0 62
Deleted: src/qpid/amqp_0_10/Struct.h|0 60
Deleted: src/qpid/amqp_0_10/Struct32.cpp|0 36
Deleted: src/qpid/amqp_0_10/Struct32.h|0 64
Deleted: src/qpid/amqp_0_10/Unit.cpp|0 65
Deleted: src/qpid/amqp_0_10/Unit.h|0 82
Deleted: src/qpid/amqp_0_10/UnitHandler.h|0 35
Deleted: src/qpid/amqp_0_10/UnknownStruct.cpp|0 34
Deleted: src/qpid/amqp_0_10/UnknownStruct.h|0 55
Deleted: src/qpid/amqp_0_10/UnknownType.cpp|0 56
Deleted: src/qpid/amqp_0_10/UnknownType.h|0 87
Deleted: src/qpid/amqp_0_10/apply.h|0 86
Deleted: src/qpid/amqp_0_10/built_in_types.h|0 171
Deleted: src/qpid/amqp_0_10/complex_types.cpp|0 84
Deleted: src/qpid/framing/TemplateVisitor.h|0 89
Deleted: src/qpid/framing/Visitor.h|0 92

Revision: 6c4658a9361ed8090e3131295c0c239b4a6043a3
Author: Pavel Moravec <pmoravec@apache.org>
Date: 03/07/2014 16:15:04
Message:
[QPID-5866]: [C++ client] AMQP 1.0 closing session without closing receiver first marks further messages as redelivered #MsgLength=120


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|8 0

Revision: 29fa919565203e439be5cd0bbbf2945ebde79795
Author: Pavel Moravec <pmoravec@apache.org>
Date: 03/07/2014 20:56:51
Message:
[QPID-5866]: [C++ client] AMQP 1.0 closing session without closing receiver first marks further messages as redelivered (previous commit not complete) #MsgLength=151


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|10 9
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0

Revision: 081879073ffd8765721f39f766f68b5fa307990b
Author: Charles E. Rolke <chug@apache.org>
Date: 03/07/2014 21:07:53
Message:
QPID-5869: Check that agent is not null before firing event. Propagate Rajith's logic to the rest of the cases in Acl code. #MsgLength=126


----
Modified: src/qpid/acl/Acl.cpp|24 12

Revision: 61b09b5714474215d0756dd41eb5053d96b292cb
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/07/2014 04:25:24
Message:
QPID-5806: Allow quoted syntax for non standard selector identifiers - This matches the Java broker syntax for selectors #MsgLength=121


----
Modified: src/qpid/broker/SelectorToken.cpp|8 7
Modified: src/tests/Selector.cpp|2 1

Revision: 87802f68015c5b5109b09315f8175f50b2a5e8b5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/07/2014 04:25:28
Message:
QPID-5874: Treat all empty selectors sensibly #MsgLength=46


----
Modified: src/qpid/broker/Selector.cpp|0 5
Modified: src/qpid/broker/SelectorExpression.cpp|11 1
Modified: src/qpid/broker/SelectorToken.cpp|1 10
Modified: src/tests/Selector.cpp|3 0

Revision: 5e5b32c031453925d2c6f4b7dfb756c59a2c5778
Author: Alan Conway <aconway@apache.org>
Date: 07/07/2014 23:24:11
Message:
NO-JIRA: Fix defects found by coverity. #MsgLength=1010


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 2
Modified: src/tests/BrokerFixture.h|1 1
Modified: src/tests/ClientSessionTest.cpp|1 1
Modified: src/tests/MessagingFixture.h|1 1

Revision: f9bdf0c8c968cac29492d54ce1dc34b34de55606
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2014 03:44:42
Message:
QPID-5882: fix authentication failure on 1.0 codepath #MsgLength=54


----
Modified: include/qpid/messaging/exceptions.h|5 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|30 17
Modified: src/qpid/messaging/amqp/Sasl.cpp|36 13
Modified: src/qpid/messaging/amqp/Sasl.h|2 0
Modified: src/qpid/messaging/exceptions.cpp|1 0

Revision: 09f52b4956bc782de20e940e4e3dc35b03c2b803
Author: Gordon Sim <gsim@apache.org>
Date: 08/07/2014 18:40:14
Message:
QPID-5883: improve error message a little for 'no-mech' sasl error #MsgLength=67


----
Modified: src/qpid/SaslFactory.cpp|9 3

Revision: 7fdc9132236621829847990b127461e16a32ecd1
Author: Pavel Moravec <pmoravec@apache.org>
Date: 09/07/2014 19:04:03
Message:
NO-JIRA: qpid-send help: copy&paste typo fixed #MsgLength=47


----
Modified: src/tests/qpid-send.cpp|1 1

Revision: 19db6a93c80b57c5b2ac8a4e60d6c92db1320d10
Author: Charles E. Rolke <chug@apache.org>
Date: 10/07/2014 19:15:03
Message:
QPID-5886: Get windows to export the Handle<CompletonImpl> methods. #MsgLength=70


----
Modified: src/CMakeLists.txt|1 0
Modified: src/qpid/client/Completion.cpp|3 0
Added: src/qpid/client/CompletionImpl.cpp|34 0
Modified: src/qpid/client/CompletionImpl.h|7 6

Revision: 88b57e570839841e0bcfc55afa3c1193e1a38ebe
Author: Charles E. Rolke <chug@apache.org>
Date: 11/07/2014 23:14:05
Message:
QPID-5858: Remove unneeded line that generates a warning on Windows VS2010. #MsgLength=280


----
Modified: src/tests/MessagingSessionTests.cpp|0 1

Revision: 049bc68405dc6f74d0983444e997651b3117683b
Author: Charles E. Rolke <chug@apache.org>
Date: 11/07/2014 23:27:19
Message:
QPID-5890: Refactor AclModule.h Move code from .h file into AclLexer source module. Does not change basic function structure. #MsgLength=128


----
Modified: src/CMakeLists.txt|2 0
Added: src/qpid/acl/AclLexer.cpp|313 0
Added: src/qpid/acl/AclLexer.h|194 0
Modified: src/qpid/broker/AclModule.h|2 437

Revision: 20e93e9a203b7218dc423d6f1c443c1dee71c850
Author: Gordon Sim <gsim@apache.org>
Date: 12/07/2014 01:19:13
Message:
QPID-5887: abort transactional session on failover; added equivalent of txtest using messaging API #MsgLength=99


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|16 9
Modified: src/tests/CMakeLists.txt|5 1
Added: src/tests/qpid-txtest2.cpp|314 0
Modified: src/tests/quick_txtest|1 0

Revision: 95fa67c377d0b8b5d67bb3ed663088762599e1a0
Author: Charles E. Rolke <chug@apache.org>
Date: 12/07/2014 02:32:12
Message:
QPID-5887: abort transactional session of failover. qpid-txtest2.cpp requires new EXTERN #MsgLength=89


----
Modified: src/qpid/client/SessionImpl.h|1 1

Revision: b71f58e133921bb03b6ebed0da3c2e6cc4637787
Author: Charles E. Rolke <chug@apache.org>
Date: 12/07/2014 04:43:51
Message:
QPID-5890: Refactoring AclModule.h * make single instances of strings associated with enums * make more compact search functions * make string definitions const * return 'const string&' instead of copies of temporaries * add self test as string defs sanity check * export AclHelper to satisfy tests (!!) #MsgLength=306


----
Modified: src/qpid/acl/AclLexer.cpp|81 163
Modified: src/qpid/acl/AclLexer.h|18 13
Added: src/tests/Acl.cpp|157 0
Modified: src/tests/CMakeLists.txt|1 0

Revision: 1fba421f27b3bca6c7c8f9d4f65db0d2a21d0889
Author: Charles E. Rolke <chug@apache.org>
Date: 12/07/2014 18:04:33
Message:
QPID-5890: Improve Acl enum verification #MsgLength=43


----
Modified: src/tests/Acl.cpp|5 13

Revision: 5698d0077b72b8a78a9f1d4c2ffc6d2d3499bb3a
Author: Charles E. Rolke <chug@apache.org>
Date: 13/07/2014 21:36:50
Message:
QPID-5890: Refactor AclModule Remove AclHelper::loaValidationMap() function from AclLexer and replace it with new logic in AclValidator. #MsgLength=213


----
Modified: src/qpid/acl/AclLexer.cpp|5 100
Modified: src/qpid/acl/AclLexer.h|0 4
Modified: src/qpid/acl/AclReader.cpp|0 1
Modified: src/qpid/acl/AclValidator.cpp|94 0
Modified: src/qpid/acl/AclValidator.h|26 16

Revision: f1394a0b0f46ac9ed3dd68491486cb4930d47774
Author: Charles E. Rolke <chug@apache.org>
Date: 15/07/2014 21:40:51
Message:
QPID-5890: Add missing "queuename" property for MOVE QUEUE and REDIRECT QUEUE #MsgLength=78


----
Modified: src/qpid/acl/AclValidator.cpp|3 3

Revision: 094a73ee205f4fb9e9a98890e9a8b6aca66ffaa5
Author: Charles E. Rolke <chug@apache.org>
Date: 15/07/2014 21:59:43
Message:
QPID-5890: Add missing "queuename" property to Security doc. Rearrange entries in AclValidator for better automated doc generation. #MsgLength=132


----
Modified: src/qpid/acl/AclValidator.cpp|25 25

Revision: 28593d5edb0d155325cfa30f42c61a1dc2337a03
Author: Charles E. Rolke <chug@apache.org>
Date: 16/07/2014 06:54:51
Message:
QPID-4947: C++ Broker ACL restricts hosts from which users may connect. This commit adds: * Acl rule file "create connection host=hostname" support for allowing and denying connections. * AclHost class to represent a host specified in the rule file. * Global and user-specific lists of AclHost rules. Created by AclReader and consumed by AclConnectionCounter. * Address range checks and other giblets in SocketAddress: ** asString support to hide IPv6 decoration and service (port) details. ** binary comparison of network addresses. ** new firstAddress function to complement existing nextAddress. Socket addrinfo for AclHost objects is computed once only for lifetime of Acl file load. ** Posix and Windows implementations are identical. * New unit test for address comparisons. Testing a live broker is great but forcing connections to be from some arbitrary IPv4 or IPv6 address is hard. So there's a unit test for that. #MsgLength=1005


----
Modified: src/CMakeLists.txt|1 0
Added: src/qpid/AclHost.cpp|151 0
Added: src/qpid/AclHost.h|95 0
Modified: src/qpid/acl/Acl.cpp|10 1
Modified: src/qpid/acl/Acl.h|1 0
Modified: src/qpid/acl/AclConnectionCounter.cpp|74 2
Modified: src/qpid/acl/AclConnectionCounter.h|6 1
Modified: src/qpid/acl/AclData.cpp|34 13
Modified: src/qpid/acl/AclData.h|56 8
Modified: src/qpid/acl/AclLexer.cpp|3 3
Modified: src/qpid/acl/AclLexer.h|3 0
Modified: src/qpid/acl/AclReader.cpp|60 4
Modified: src/qpid/acl/AclReader.h|9 0
Modified: src/qpid/acl/AclValidator.cpp|1 0
Modified: src/qpid/broker/AclModule.h|1 1
Modified: src/qpid/sys/SocketAddress.h|24 3
Modified: src/qpid/sys/posix/SocketAddress.cpp|199 8
Modified: src/qpid/sys/windows/SocketAddress.cpp|197 8
Modified: src/tests/Acl.cpp|12 9
Added: src/tests/AclHost.cpp|119 0
Modified: src/tests/CMakeLists.txt|1 0

Revision: 2e3a3eb1d8fc3d83d3615559c49c0a6043b13524
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2014 18:19:30
Message:
QPID-5887: fix to new txtest2, acknowledge messages in the check phase to ensure queues remain drained for any subsequent runs #MsgLength=127


----
Modified: src/tests/qpid-txtest2.cpp|1 0

Revision: db2c635b8e0cc7f498052bc933111eccc692bd5c
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2014 18:19:38
Message:
QPID-5887: allow qpid-txtest2 to be run by make test #MsgLength=53


----
Modified: src/tests/CMakeLists.txt|1 0
Modified: src/tests/qpid-txtest2.cpp|15 1
Modified: src/tests/quick_txtest|0 1

Revision: 83b56e2d389d4d42946594b73ef9f5154c425bfc
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2014 18:19:44
Message:
QPID-4947: ensure member variable is always initialised #MsgLength=56


----
Modified: src/qpid/AclHost.h|1 1

Revision: 36fa861bfb7e0f95502628700c82d324bd522bdd
Author: Charles E. Rolke <chug@apache.org>
Date: 16/07/2014 21:09:30
Message:
QPID-5898: Self tests fail on systems with IPv6 disabled. Temporarily disable tests that assume IPv6 to restore automated testing. #MsgLength=132


----
Modified: src/tests/AclHost.cpp|30 30

Revision: a6a5f9217c53f6f1368ad1a6e2d65915bbc3e63c
Author: Gordon Sim <gsim@apache.org>
Date: 16/07/2014 22:09:41
Message:
QPID-5850: Support for long session names (patch from Ernie Allen) #MsgLength=67


----
Modified: src/qpid/broker/SessionState.cpp|6 2
Modified: src/qpid/broker/amqp/ManagedSession.cpp|6 1
Modified: src/qpid/broker/management-schema.xml|1 0

Revision: 8803c868551309010e681e5a14bf664ebff2a66a
Author: Charles E. Rolke <chug@apache.org>
Date: 16/07/2014 23:47:12
Message:
QPID-5898: AclHost unit test fails on systems with no IPv6 * In SocketAddress::isComparable catch exceptions thrown by getAddrInfo when address family is not supported. * Delete self test that expects hosts to have 127.0.0.1 and ::1 as valid addresses for localhost. * In self tests sense whether IPv4 and IPv6 are supported and skip running tests that use those families accordingly. #MsgLength=393


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|35 25
Modified: src/qpid/sys/windows/SocketAddress.cpp|35 25
Modified: src/tests/AclHost.cpp|105 58

Revision: ba33d0c8ed792229d743311a739f2d01f6c097b1
Author: Gordon Sim <gsim@apache.org>
Date: 17/07/2014 21:19:51
Message:
QPID-5887: revised approach to implict abort #MsgLength=45


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|3 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|39 19
Modified: src/qpid/client/amqp0_10/SessionImpl.h|6 0
Modified: src/tests/qpid-txtest2.cpp|19 10

Revision: 6554daa75fb7f57f1e551544bbaa7ed9775c91d6
Author: Charles E. Rolke <chug@apache.org>
Date: 18/07/2014 01:35:01
Message:
QPID-5902: Replace boost::make_shared with boost::shared_ptr #MsgLength=63


----
Modified: src/qpid/acl/AclData.cpp|1 2

Revision: 42e504fdf057b2caddab7d9bb8b02f94ecfabdfb
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2014 02:15:45
Message:
No-JIRA: Get rid of throw in destructor for ~Waitable. #MsgLength=55


----
Modified: src/qpid/sys/Waitable.h|8 18

Revision: 61dc0903fab4ba6844b4a4ba43d558757bfdc555
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2014 02:18:42
Message:
QPID-5888: transaction should always be aborted on failover #MsgLength=1229


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/tests/ha_tests.py|20 13
Modified: src/tests/qpid-txtest2.cpp|15 7

Revision: 572d169db48ed56275ab73fac2758956dd3e8a2c
Author: Charles E. Rolke <chug@apache.org>
Date: 19/07/2014 03:28:10
Message:
QPID-4947: Injecting derived host address failed to strip IPv6 [] decoration #MsgLength=79


----
Modified: src/qpid/acl/AclConnectionCounter.cpp|8 3

Revision: b2e390cd9ebd14efa0c056573a6c70412fa581c3
Author: Alan Conway <aconway@apache.org>
Date: 19/07/2014 04:17:08
Message:
QPID-5719: HA becomes unresponsive once any of the brokers are SIGSTOPed #MsgLength=234


----
Modified: etc/qpidd.in|14 2

Revision: 0f2c3f6355be47896dbd38b1a2b9fe9ca2af7205
Author: Gordon Sim <gsim@apache.org>
Date: 21/07/2014 20:44:19
Message:
QPID-5908: merge annotations into properties, don't replace existing elements #MsgLength=78


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|17 2

Revision: 2e2da24d036157160f24cde52dee8517a8272e0b
Author: Alan Conway <aconway@apache.org>
Date: 22/07/2014 00:15:42
Message:
NO-JIRA: Fix unreachable code in Waitable.cpp #MsgLength=46


----
Modified: src/qpid/sys/Waitable.h|2 1

Revision: 033d5c1044286975bdb96c9544c4ff30a0992ad0
Author: Michael Goulish <mgoulish@apache.org>
Date: 22/07/2014 20:34:26
Message:
QPID-5910 The previous way of computing required credit was apparently pretty slow -- perhaps because it is doing some  unnceessary copying down in its guts.  (Which theory I did not prove.) And it was running while a lock was held, which caused a significant throughput regression (which was reported as an enormous latency regression.) The simpler means of calculating credit in this diff removes most of the problem. #MsgLength=421


----
Modified: src/qpid/broker/SessionState.cpp|2 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|16 6
Modified: src/qpid/framing/FrameSet.h|3 0

Revision: 90a3ef5c932f53e685470ef6953716d7d8402df6
Author: Michael Goulish <mgoulish@apache.org>
Date: 23/07/2014 22:02:42
Message:
QPID-5815 Checkin for Irina Boverman. #MsgLength=39


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|5 0

Revision: 24e275ece0fa728d7732e986354cbb288efe41bb
Author: Alan Conway <aconway@apache.org>
Date: 24/07/2014 00:09:34
Message:
NO-JIRA: Fix typo in swig_python_typemaps. #MsgLength=43


----
Modified: include/qpid/swig_python_typemaps.i|1 1

Revision: 7b441d217e5bac47753193c82b00a9bf53b9da19
Author: Charles E. Rolke <chug@apache.org>
Date: 24/07/2014 01:01:40
Message:
QPID-4123: C++ Broker ACL creates too many rules #MsgLength=680


----
Modified: src/qpid/acl/Acl.cpp|27 17
Modified: src/qpid/acl/AclConnectionCounter.cpp|16 69
Modified: src/qpid/acl/AclConnectionCounter.h|1 2
Modified: src/qpid/acl/AclData.cpp|105 13
Modified: src/qpid/acl/AclData.h|42 4
Modified: src/qpid/acl/AclLexer.cpp|9 4
Modified: src/qpid/acl/AclLexer.h|14 12
Modified: src/qpid/acl/AclReader.cpp|70 34
Modified: src/qpid/acl/AclReader.h|4 3
Modified: src/qpid/acl/AclValidator.cpp|263 55
Modified: src/qpid/acl/AclValidator.h|15 2
Modified: src/qpid/broker/Broker.cpp|2 2
Modified: src/tests/Acl.cpp|14 0
Modified: src/tests/acl.py|177 3

Revision: 0c578c02cb90d4efcf4379e15dff72efcaae26ec
Author: Gordon Sim <gsim@apache.org>
Date: 24/07/2014 21:48:37
Message:
QPID-5921, QPID-5923: adjustments and exclusions for new tests using swigged client #MsgLength=84


----
Modified: src/tests/failing-amqp0-10-python-tests|6 0
Modified: src/tests/failing-amqp1.0-python-tests|3 0

Revision: 9aa75770e7132ca3f66f3fccb09af5108fefeeec
Author: Charles E. Rolke <chug@apache.org>
Date: 28/07/2014 21:48:57
Message:
QPID-5890: Validation refactoring. Fix Coverity MIXED_ENUM complaint. #MsgLength=72


----
Modified: src/qpid/acl/AclValidator.cpp|48 4

Revision: 5805f884d22b7b970b8676c76cfd7faf31d45614
Author: Pavel Moravec <pmoravec@apache.org>
Date: 29/07/2014 18:22:17
Message:
[QPID-5929]: Mark deprecated QMF fields as Deprecated and do some relevant code cleanup #MsgLength=88


----
Modified: src/qpid/broker/Queue.cpp|0 33
Modified: src/qpid/broker/Queue.h|0 2
Modified: src/qpid/broker/SemanticState.cpp|1 1
Modified: src/qpid/broker/SessionState.cpp|0 1
Modified: src/qpid/broker/amqp/ManagedConnection.cpp|1 3
Modified: src/qpid/broker/amqp/ManagedSession.cpp|0 1
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|0 8
Modified: src/qpid/broker/amqp_0_10/Connection.h|0 3
Modified: src/qpid/broker/management-schema.xml|13 13
Modified: src/qpid/legacystore/management-schema.xml|11 11
Modified: src/qpid/linearstore/management-schema.xml|14 14

Revision: e350ad49565466160c352c0c44e013063dc47412
Author: Alan Conway <aconway@apache.org>
Date: 29/07/2014 20:56:40
Message:
QPID-5888: Fix test to ignore occasional TransactionAborted failures on connection.close. #MsgLength=90


----
Modified: src/tests/ha_tests.py|2 1

Revision: 2128691a840809700db163ea579322ee1943b7d1
Author: Alan Conway <aconway@apache.org>
Date: 30/07/2014 03:59:19
Message:
QPID-5941: Set sensible default build type: default is RelWithDebInfo. #MsgLength=71


----
Modified: CMakeLists.txt|12 0

Revision: c7ca67b2901969b252d1b78f2f5421e9eabc4766
Author: Kim van der Riet <kpvdr@apache.org>
Date: 30/07/2014 22:24:55
Message:
QPID-5924 [linearstore] Qpidd Will Not Start with Large Number of Queues #MsgLength=73


----
Modified: src/qpid/linearstore/journal/JournalFile.cpp|2 0
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|0 1
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|6 0
Modified: src/qpid/linearstore/journal/RecoveryManager.h|1 0
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 0

Revision: 911d98f22f6cc0a3d2e0753220c1063d681c3e4d
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 31/07/2014 21:46:25
Message:
QPID-5939: Add get_address to Perl Sender/Receiver classes. #MsgLength=102


----
Modified: bindings/qpid/examples/perl/client.pl|2 4
Modified: bindings/qpid/perl/lib/qpid/messaging/Receiver.pm|20 0
Modified: bindings/qpid/perl/lib/qpid/messaging/Sender.pm|22 0

Revision: ebf476451679e3ed3abf9f0b7a542d4ce63932c8
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 31/07/2014 21:46:29
Message:
NO-JIRA: Perl Receiver returning an unwrapped Message object. #MsgLength=62


----
Modified: bindings/qpid/perl/lib/qpid/messaging/Receiver.pm|2 0

Revision: 909577e561d130bdae03c5fc2d49fbeb3eea4f73
Author: Alan Conway <aconway@apache.org>
Date: 31/07/2014 21:55:11
Message:
QPID-5942: qpid HA cluster may end-up in joining state after HA primary is killed #MsgLength=1828


----
Modified: etc/qpidd-primary.in|18 7
Modified: etc/qpidd.in|58 35
Modified: src/posix/QpiddBroker.cpp|17 9
Modified: src/qpid/broker/Broker.cpp|7 2
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/Daemon.cpp|1 1

Revision: 45a9122c075b08d2a0a1df3e08f2cbcb38387380
Author: Gordon Sim <gsim@apache.org>
Date: 05/08/2014 01:31:03
Message:
QPID-5959: allow content encoding to be read #MsgLength=45


----
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|3 0

Revision: 02a28828e563e83eb090a1781f0d104de99d486a
Author: Gordon Sim <gsim@apache.org>
Date: 06/08/2014 03:50:47
Message:
QPID-5963: fix from Chris Richardson to prevent broker incorrecctly thinking it has decoded protocol header when it has not #MsgLength=124


----
Modified: src/qpid/amqp_0_10/Connection.cpp|1 1

Revision: 0f57dada5f614804ea343f03fdd885388cf2998f
Author: Charles E. Rolke <chug@apache.org>
Date: 06/08/2014 03:58:15
Message:
QPID-5964: Add SetContentObject support for list and map. Fix GetContentObject return value warning. #MsgLength=101


----
Modified: bindings/qpid/dotnet/src/Message.cpp|4 1
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|12 0
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.message.cs|44 0

Revision: 523630007579228404e6cc44a04f65ea29fe013d
Author: Gordon Sim <gsim@apache.org>
Date: 07/08/2014 01:11:56
Message:
QPID-5948: prevent creation of durable topic backed by non-durable exchange; add exception handling to object recovery. (Based on patch from Kim van der Riet). #MsgLength=171


----
Modified: src/qpid/broker/ObjectFactory.cpp|6 1
Modified: src/qpid/broker/amqp/Topic.cpp|1 0

Revision: e69b0ff4ffebe5c3522a4bda91245cb0236d6037
Author: Justin Ross <jross@apache.org>
Date: 08/08/2014 04:18:36
Message:
QPID-5813: Advance version numbers on trunk to 0.29 #MsgLength=52


----
Modified: QPID_VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1

Revision: 73870f32b9b065866bf8374477c3cb51eea18062
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2014 17:23:54
Message:
QPID-5973: HA cluster state may get stuck in recovering #MsgLength=1181


----
Modified: src/qpid/broker/Consumer.h|3 0
Modified: src/qpid/broker/Queue.cpp|1 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|16 2
Modified: src/qpid/ha/ReplicatingSubscription.h|3 0
Modified: src/tests/ha_tests.py|3 2

Revision: d6be6a1e2250e41a112536e03dd793b642e476ee
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2014 17:24:03
Message:
QPID-5974: HA qpid-txtest2 can bring down a cluster (JERR_MAP_LOCKED)) #MsgLength=506


----
Modified: src/qpid/ha/Primary.cpp|12 2
Modified: src/qpid/ha/Primary.h|8 3
Modified: src/qpid/ha/PrimaryTxObserver.cpp|21 14
Modified: src/qpid/ha/PrimaryTxObserver.h|2 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|14 6
Modified: src/qpid/ha/ReplicatingSubscription.h|4 3

Revision: f75d8d35b7c7a59746c39fd084b638015dd86cae
Author: Alan Conway <aconway@apache.org>
Date: 08/08/2014 17:24:15
Message:
QPID-5966: HA mixing tx enqueue and non-tx dequeue leaves extra messages on backup. #MsgLength=696


----
Modified: src/qpid/broker/Message.cpp|14 4
Modified: src/qpid/broker/Message.h|2 0
Modified: src/qpid/ha/HaBroker.cpp|1 1
Modified: src/qpid/ha/IdSetter.h|23 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|2 2
Modified: src/qpid/ha/QueueGuard.cpp|2 2
Modified: src/qpid/ha/QueueReplicator.cpp|63 25
Modified: src/qpid/ha/QueueReplicator.h|4 0
Modified: src/qpid/ha/ReplicatingSubscription.cpp|4 4
Modified: src/qpid/ha/ReplicatingSubscription.h|2 2
Modified: src/qpid/ha/TxReplicator.cpp|11 12
Modified: src/qpid/ha/TxReplicator.h|0 1
Modified: src/qpid/ha/types.cpp|17 10
Modified: src/qpid/ha/types.h|7 11
Modified: src/tests/brokertest.py|11 6
Modified: src/tests/ha_tests.py|54 3
Modified: src/tests/qpid-txtest2.cpp|11 1

Revision: bdd2d247857858735f010b58976087c92fa34027
Author: Gordon Sim <gsim@apache.org>
Date: 11/08/2014 19:27:30
Message:
QPID-5985: check for incoming messages - without waiting - even when timout is 0 #MsgLength=81


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|25 0

Revision: 390a269f965b6e1c3b67aabebfb780e3cdb9512a
Author: Alan Conway <aconway@apache.org>
Date: 11/08/2014 22:23:01
Message:
NO-JIRA: Clean up excessive "notice" level log messages, add start-up/shut-down messages. #MsgLength=282


----
Modified: src/qpid/broker/Broker.cpp|13 8
Modified: src/qpid/broker/Broker.h|9 1
Modified: src/qpid/broker/Daemon.cpp|2 3
Modified: src/qpid/linearstore/JournalImpl.cpp|3 3
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|2 2
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|1 1

Revision: 3be03f6a6bf68bc8f9bad45218cb55b0a3630b7e
Author: Alan Conway <aconway@apache.org>
Date: 11/08/2014 22:44:08
Message:
NO-JIRA: Remove annoying '*' in cmake build type message. #MsgLength=58


----
Modified: CMakeLists.txt|3 2

Revision: 9f389878a365b13770ba1e322c374e7c9f628ed4
Author: Kim van der Riet <kpvdr@apache.org>
Date: 12/08/2014 21:50:55
Message:
NO-JIRA: Updated ISSUES file #MsgLength=29


----
Modified: src/qpid/linearstore/ISSUES|15 2

Revision: b3aa78ecb3f90f422a6f6bce67d9a059fd375b86
Author: Charles E. Rolke <chug@apache.org>
Date: 14/08/2014 05:36:48
Message:
QPID-5995: Initialize messaging SenderContext delivery tag #MsgLength=59


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 0

Revision: ea8b4def73cde7db6f6af5b4d873a6418e55d41c
Author: Pavel Moravec <pmoravec@apache.org>
Date: 14/08/2014 16:30:30
Message:
[no jira]: fixing commit 1617841 that broke building (unreliable to be initialized after nextId) #MsgLength=97


----
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 2

Revision: 424637c97d476fe08f8b097de3cda5492569b869
Author: Gordon Sim <gsim@apache.org>
Date: 14/08/2014 20:46:46
Message:
QPID-5985: fixed regression introduced by previous commit (r1617256), ensuring that call does not block indefinitely #MsgLength=117


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 0
Modified: src/tests/MessagingSessionTests.cpp|15 0

Revision: f71aa112e14a7f0a66b9adccd2ace0938f6b9789
Author: Andrew Stitcher <astitcher@apache.org>
Date: 15/08/2014 01:43:59
Message:
QPID-5999: Update selector syntax documentation to reflect the implementation #MsgLength=78


----
Modified: src/qpid/broker/SelectorExpression.cpp|20 18

Revision: 0ee077f246d43a9940cd79bdb26a1214d6d277c6
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2014 18:01:28
Message:
NO-JIRA: HA Account for TX primary replication queues as HA user. #MsgLength=136


----
Modified: src/qpid/ha/PrimaryTxObserver.cpp|7 2

Revision: 9ff881f0981b4f08247313ee68b090f1484ea43e
Author: Alan Conway <aconway@apache.org>
Date: 15/08/2014 20:00:39
Message:
NO-JIRA: HA documentation improvements. #MsgLength=407


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: d534c823f1924f61501426e35f87c3e2f17f3b6a
Author: Gordon Sim <gsim@apache.org>
Date: 15/08/2014 23:02:34
Message:
Removed empty directories from cpp tree #MsgLength=40


----

Revision: f88e2f2c9957c8882bf53840fbdc3a3182e206c4
Author: Robert Gemmell <robbie@apache.org>
Date: 16/08/2014 00:39:21
Message:
NO-JIRA: remove straggling empty directories in extras and cpp tree #MsgLength=68


----

Revision: 37fdedb0944d4a847e05f8dfacf85f572301e6cf
Author: Alan Conway <aconway@apache.org>
Date: 19/08/2014 03:18:31
Message:
QPID-6015: HA Python QMF console raises exception due to HA subscriptions. #MsgLength=394


----
Modified: src/qpid/ha/QueueReplicator.cpp|4 1

Revision: 6e9809d9118f17bfca827393770add1eb7d21d2d
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2014 01:42:39
Message:
QPID-6021: increase initial credit granted to producers #MsgLength=56


----
Modified: src/qpid/broker/amqp/Incoming.cpp|1 1

Revision: a97fdee6696d4ad1ea446fe5bb93c0f0686e1b06
Author: Gordon Sim <gsim@apache.org>
Date: 20/08/2014 01:42:46
Message:
QPID-6021: avoid waking up the io thread unnecessarily, improves receive rate a bit #MsgLength=84


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 1
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|11 1
Modified: src/qpid/messaging/amqp/ReceiverContext.h|2 0

Revision: 202c0eed56cdb85202bd2a6a96c58ddbba4ed750
Author: Alan Conway <aconway@apache.org>
Date: 20/08/2014 06:34:15
Message:
QPID-6020: HA logging improvements - log prefix with status and ID. #MsgLength=690


----
Modified: src/CMakeLists.txt|11 9
Modified: src/qpid/broker/TxBuffer.cpp|2 1
Modified: src/qpid/ha/Backup.cpp|3 5
Modified: src/qpid/ha/Backup.h|2 3
Modified: src/qpid/ha/BackupConnectionExcluder.h|7 1
Modified: src/qpid/ha/BrokerInfo.cpp|1 1
Modified: src/qpid/ha/BrokerInfo.h|7 2
Modified: src/qpid/ha/BrokerReplicator.cpp|31 35
Modified: src/qpid/ha/BrokerReplicator.h|2 1
Modified: src/qpid/ha/ConnectionObserver.cpp|8 8
Modified: src/qpid/ha/ConnectionObserver.h|3 2
Modified: src/qpid/ha/FailoverExchange.cpp|1 2
Modified: src/qpid/ha/HaBroker.cpp|17 13
Modified: src/qpid/ha/HaBroker.h|4 0
Modified: src/qpid/ha/HaPlugin.cpp|1 1
Modified: src/qpid/ha/IdSetter.h|7 5
Added: src/qpid/ha/LogPrefix.cpp|35 0
Added: src/qpid/ha/LogPrefix.h|75 0
Modified: src/qpid/ha/Membership.cpp|16 9
Modified: src/qpid/ha/Membership.h|2 1
Modified: src/qpid/ha/Primary.cpp|41 23
Modified: src/qpid/ha/Primary.h|2 2
Modified: src/qpid/ha/PrimaryQueueLimits.h|3 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|9 10
Modified: src/qpid/ha/PrimaryTxObserver.h|3 2
Modified: src/qpid/ha/QueueGuard.cpp|5 3
Modified: src/qpid/ha/QueueGuard.h|3 2
Modified: src/qpid/ha/QueueReplicator.cpp|16 13
Modified: src/qpid/ha/QueueReplicator.h|4 1
Modified: src/qpid/ha/RemoteBackup.cpp|6 11
Modified: src/qpid/ha/RemoteBackup.h|3 2
Modified: src/qpid/ha/ReplicatingSubscription.cpp|13 8
Modified: src/qpid/ha/ReplicatingSubscription.h|2 1
Modified: src/qpid/ha/Role.h|0 3
Modified: src/qpid/ha/StandAlone.h|0 4
Modified: src/qpid/ha/TxReplicator.cpp|17 13
Modified: src/qpid/ha/TxReplicator.h|4 2
Modified: src/tests/qpid-txtest2.cpp|2 2

Revision: d8b3908eccb051d67448a2d7bb38fde313dcd4f9
Author: Charles E. Rolke <chug@apache.org>
Date: 21/08/2014 01:29:25
Message:
QPID-6026: add server_reconnect example to WinSDK cmake solution generator #MsgLength=75


----
Modified: examples/winsdk-cmake/CMakeLists.txt|1 0

Revision: ec93ace57b036dc077f46dd352344c9a2deff572
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 21/08/2014 01:46:29
Message:
QPID-5893: Perl unit tests now find the utils module. #MsgLength=361


----
Modified: bindings/qpid/perl/t/Address.t|4 1
Modified: bindings/qpid/perl/t/Duration.t|4 1
Modified: bindings/qpid/perl/t/Message.t|11 28

Revision: 055056786286248a8191559b57a4b20aa348e189
Author: Alan Conway <aconway@apache.org>
Date: 21/08/2014 05:30:30
Message:
NO-JIRA: test_env.sh to pick up whichever of linearstore.so or legacystore.so is built. #MsgLength=88


----
Modified: src/tests/test_env.sh.in|2 1

Revision: 4e5d29e4afc98057926983d278c3e780c1304dce
Author: Gordon Sim <gsim@apache.org>
Date: 21/08/2014 06:11:38
Message:
QPID-6021: better batching #MsgLength=27


----
Modified: src/qpid/broker/amqp/Connection.cpp|61 40
Modified: src/qpid/broker/amqp/Connection.h|3 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|21 27
Modified: src/qpid/broker/amqp/Outgoing.h|0 1

Revision: f0394c2defd30469b346731e913b7abc082ac100
Author: Gordon Sim <gsim@apache.org>
Date: 21/08/2014 17:08:46
Message:
QPID-6021: fix compile error on windows #MsgLength=40


----
Modified: src/qpid/broker/amqp/Connection.cpp|2 2
Modified: src/qpid/broker/amqp/Connection.h|1 1

Revision: ce74ee4a9d49f40c1c735536c332b2d5d2af5e43
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2014 04:55:46
Message:
NO-JIRA: Reduce "No EFP Partition" log message from warning to info. #MsgLength=193


----
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|2 2

Revision: d68ce0855c30c6601dd8bb84ef1525cae97fb064
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2014 04:55:51
Message:
QPID-6020: HA logging improvements - log prefix with status and ID. #MsgLength=179


----
Modified: src/qpid/ha/Primary.cpp|2 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|0 1
Modified: src/qpid/ha/RemoteBackup.cpp|2 2
Modified: src/qpid/ha/types.cpp|2 1

Revision: 9b5fcf5dc9d93c50809e1d86cd935454bc50b0ad
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2014 19:18:26
Message:
QPID-6032: throw aborted error before reconnect attempt when a transactional session discovers transport failure #MsgLength=113


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 0

Revision: 684b7dffe38c6377ca9401a11569e8b587a7a07b
Author: Gordon Sim <gsim@apache.org>
Date: 22/08/2014 19:18:31
Message:
NO-JIRA: remove redundant and confusing statement; the record is already marked ended and this invocation is on the copy that is not stored anyway #MsgLength=147


----
Modified: src/qpid/broker/SemanticState.cpp|0 1

Revision: e092f904f2ac54a5fe8dad09947e425c69811f8f
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2014 22:13:09
Message:
NO-JIRA: Clean up test_store.cpp async functionality. #MsgLength=132


----
Modified: src/tests/brokertest.py|1 1
Modified: src/tests/ha_tests.py|4 5
Modified: src/tests/test_store.cpp|135 64

Revision: 76935e2d822440a555ab05c06b598c540a62d9b8
Author: Alan Conway <aconway@apache.org>
Date: 22/08/2014 22:13:14
Message:
QPID-5855: JAVA Client Can not recieve message with qpid ha cluster "Session exception occured while trying to commit" #MsgLength=944


----
Modified: src/qpid/broker/AsyncCommandCallback.cpp|7 4
Modified: src/qpid/broker/AsyncCommandCallback.h|6 1
Modified: src/qpid/broker/SemanticState.cpp|3 1
Modified: src/qpid/broker/SessionContext.h|1 1
Modified: src/qpid/broker/SessionState.cpp|22 10
Modified: src/qpid/broker/SessionState.h|13 3
Modified: src/tests/AsyncCompletion.cpp|34 1

Revision: 8fedd60ef4890defffbeaac32c0c830e21fbcc01
Author: Alan Conway <aconway@apache.org>
Date: 23/08/2014 02:06:20
Message:
QPID-6035: HA clearly distinguish qpid-ha commands intended for cluster manager. #MsgLength=1198


----
Modified: etc/qpidd-primary.in|1 1
Modified: src/tests/ha_test.py|1 1

Revision: 15f425dedde549b34e43b3e6a44764ce53c7fb4d
Author: Gordon Sim <gsim@apache.org>
Date: 23/08/2014 07:07:54
Message:
QPID-6021: prevent protons internal output buffer growing too large #MsgLength=68


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|10 1
Modified: src/qpid/messaging/amqp/ConnectionContext.h|1 0

Revision: d00e8fb545cfb4cd4a65f62e0528b93f4b4309fb
Author: Alan Conway <aconway@apache.org>
Date: 26/08/2014 04:10:52
Message:
NO-JIRA: Work-around bug in older cmake, finds static python library instead of shared. #MsgLength=659


----
Modified: bindings/CMakeLists.txt|20 2

Revision: f5e6cd31fb71b205f358916f054f9c7aeb05f030
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/08/2014 04:25:09
Message:
QPID-6043: Add a configuration option to overwrite files returned to the EFP #MsgLength=77


----
Modified: src/qpid/linearstore/ISSUES|24 24
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|15 4
Modified: src/qpid/linearstore/MessageStoreImpl.h|5 2
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|20 10
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|1 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|3 1
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.h|2 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|6 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.h|3 0

Revision: 23d7931ecfb6bcd16b29d1e5e9f2b2ce7b7b0b72
Author: Gordon Sim <gsim@apache.org>
Date: 26/08/2014 23:18:58
Message:
QPID-6045: adjust the reported filter to make clear that wildcard subject filtering is not supported with xml exchange #MsgLength=119


----
Modified: src/qpid/broker/amqp/Filter.cpp|3 1

Revision: aa53a43fad6ad04d41e0aaafb2e4f8329a82ffc0
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2014 05:22:10
Message:
Revert "NO-JIRA: Work-around bug in older cmake, finds static python library instead of shared." #MsgLength=1089


----
Modified: bindings/CMakeLists.txt|2 20

Revision: ed5678f5c97e088fbb24c9d325edbfe49445f94d
Author: Robert Gemmell <robbie@apache.org>
Date: 27/08/2014 18:11:31
Message:
QPID-5813: fix up LICENSE + NOTICE etc files #MsgLength=45


----
Modified: LICENSE|0 31
Modified: NOTICE|4 20

Revision: e7140f513ccef1bdc5e62494efca1bb8f439520e
Author: Alan Conway <aconway@apache.org>
Date: 27/08/2014 21:23:21
Message:
NO-JIRA: Work-around bug in older cmake, finds static python library instead of shared. #MsgLength=659


----
Modified: bindings/CMakeLists.txt|25 2

Revision: 8d8f40bb9cb796b33a9de2395850ec6d316a9369
Author: Gordon Sim <gsim@apache.org>
Date: 28/08/2014 01:27:45
Message:
QPID-6049: ensure nss is initialised (and shutdown) for 1.0 connections; add 1.0 based ssl test #MsgLength=96


----
Modified: src/qpid/client/SslConnector.cpp|10 0
Added: src/qpid/client/ssl.h|30 0
Modified: src/qpid/messaging/amqp/SslTransport.cpp|7 0
Modified: src/tests/ssl_test|13 2

Revision: fd5ad52cc5bb87aa6e7df2b8789753154bc4b8b1
Author: Alan Conway <aconway@apache.org>
Date: 29/08/2014 05:47:44
Message:
QPID-5975: HA extra/missing messages when running qpid-txtest2 in a loop with failover. #MsgLength=2831


----
Modified: bindings/qpid/python/qpid_messaging.i|2 0
Modified: bindings/qpid/ruby/ruby.i|4 0
Modified: include/qpid/messaging/Session.h|2 1
Modified: include/qpid/messaging/exceptions.h|14 2
Modified: src/libqpidmessaging-api-symbols.txt|2 0
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|25 26
Modified: src/qpid/client/amqp0_10/SessionImpl.h|4 5
Modified: src/qpid/messaging/exceptions.cpp|1 0
Modified: src/tests/ha_test.py|3 1
Modified: src/tests/ha_tests.py|58 8
Modified: src/tests/qpid-txtest2.cpp|8 4

Revision: 74540274571ab9bd81a466d6e108dde4532bebd0
Author: Alan Conway <aconway@apache.org>
Date: 29/08/2014 05:47:50
Message:
NO-JIRA: brokertest.py: don't use AMQP 1.0 if not available, ignore connection close teardown errors. #MsgLength=102


----
Modified: src/tests/brokertest.py|5 4

Revision: 7a7aa5ba15a5066ffcc26e3e2f7e01e5f1929397
Author: Alan Conway <aconway@apache.org>
Date: 30/08/2014 03:29:06
Message:
QPID-5855: Fix to JAVA Client Can not recieve message with qpid ha cluster. #MsgLength=627


----
Modified: src/qpid/broker/AsyncCommandCallback.cpp|3 2
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|10 3
Modified: src/qpid/ha/IdSetter.h|0 2
Modified: src/qpid/ha/PrimaryTxObserver.cpp|1 1
Modified: src/tests/qpid-txtest2.cpp|4 2

Revision: 0c3b6cc908ddc519a907a9251849a70c0b7ec16e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2014 05:59:32
Message:
QPID-6069: FreeBSD compilation problems #MsgLength=40


----
Modified: src/qpid/broker/Message.h|1 1
Modified: src/tests/BrokerFixture.h|2 2

Revision: c851f3da856794bd66f69c5a79602eb95237d7ef
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2014 06:39:37
Message:
NO-JIRA: Explictily convert double to uint64_t in qpid-txtest2 to avoid warnings on some compilers. #MsgLength=100


----
Modified: src/tests/qpid-txtest2.cpp|1 1

Revision: 8fbe3cabecf33977a57be156fcdc37800e2dffbd
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2014 11:52:30
Message:
QPID-6069: Extra fix to FreeBSD compile fixes #MsgLength=46


----
Modified: src/tests/BrokerFixture.h|1 1

Revision: 08e75d7a65ce20b94d9a216e6ba68b9066f59016
Author: Alan Conway <aconway@apache.org>
Date: 05/09/2014 00:00:37
Message:
[AMQP 1.0] tcp-nodelay not supported yet on 1.0 connections #MsgLength=68


----
Modified: src/qpid/messaging/amqp/SslTransport.cpp|1 0
Modified: src/qpid/messaging/amqp/TcpTransport.cpp|2 0

Revision: 9e2420722db5d1e5212df2420e054b7d94d838cc
Author: Alan Conway <aconway@apache.org>
Date: 05/09/2014 04:48:27
Message:
NO-JIRA: Fix qpid/cpp/src/tests/ha_tests.py to work on python 2.4. #MsgLength=68


----
Modified: src/tests/ha_tests.py|1 1

Revision: 72de131774d765e582ef94cf4a81f70c026b04e4
Author: Alan Conway <aconway@apache.org>
Date: 05/09/2014 09:39:01
Message:
NO-JIRA: HA Fix ha_tests.py failures with SWIG 0.10 client. #MsgLength=314


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1
Modified: src/qpid/client/amqp0_10/SenderImpl.cpp|2 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|18 3
Modified: src/qpid/client/amqp0_10/SessionImpl.h|7 1
Modified: src/tests/ha_test.py|17 24
Modified: src/tests/ha_tests.py|12 15

Revision: 783ceb164a114dfa3c0e219da4980d2d7ec30c61
Author: Alan Conway <aconway@apache.org>
Date: 05/09/2014 09:39:08
Message:
NO-JIRA: Fix minor bug in run_paged_queue_tests handling a failure to start broker. #MsgLength=84


----
Modified: src/tests/run_paged_queue_tests|1 1

Revision: 2fd0ec7b92e0f53708c512602afc75578408428b
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 09/09/2014 10:19:38
Message:
QPID-5033: Bad buffer accounting leading to spurious SSL errors on Windows #MsgLength=75


----
Modified: src/qpid/sys/AsynchIO.h|2 3
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 6
Modified: src/qpid/sys/windows/AsynchIO.cpp|38 174
Added: src/qpid/sys/windows/AsynchIO.h|235 0
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|56 34

Revision: 22a3b2d44a5003d3b1bf9079312a4083d2d1a032
Author: Alan Conway <aconway@apache.org>
Date: 10/09/2014 00:39:18
Message:
NO-JIRA: Fix error message test in acl.py, on older python versions error code is '7L' instead of '7' #MsgLength=102


----
Modified: src/tests/acl.py|10 10

Revision: e4fa95c404d9ab406d60dd6ee7491bbb4826e89e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/09/2014 06:16:16
Message:
QPID-6089: Need to register transports with the Url parser. #MsgLength=60


----
Modified: src/qpid/broker/Broker.cpp|1 0

Revision: de96b1165f3ac3e574a2f0a537368211398b0410
Author: Alan Conway <aconway@apache.org>
Date: 12/09/2014 07:19:52
Message:
NO-JIRA: Fix typo in qpid/cpp/BuildInstallSettings.cmake #MsgLength=57


----
Modified: BuildInstallSettings.cmake|1 1

Revision: 4fc628bce0a3098d8f97e200e6d2793ee624822a
Author: Pavel Moravec <pmoravec@apache.org>
Date: 12/09/2014 15:54:13
Message:
QPID-6087: QMF Session name to contain user ID for AMQP 0-10 #MsgLength=61


----
Modified: src/qpid/broker/SessionState.cpp|1 1

Revision: eeede817543dddf989fa3602dc7a95b59b99a387
Author: Charles E. Rolke <chug@apache.org>
Date: 12/09/2014 23:24:21
Message:
Test commit using git-svn #MsgLength=26


----
Modified: bindings/qpid/dotnet/ReadMe.txt|1 4

Revision: eadd289a50e16e947eff9791ba4106b7e31120fa
Author: Charles E. Rolke <chug@apache.org>
Date: 13/09/2014 02:23:31
Message:
QPID-4575: C++ Messaging .NET Binding fixes for Visual Studio 2012 Rename msvc10 folders to msvcx as they hold files 2010, 2012, ... Change projects/solutions to .in templates and cmake configure them. Collapse common example csproj files into common template. Add cmake BUILD_BINDING_DOTNET option setting. Fix up various scripts to accomodate new studio version. #MsgLength=370


----
Modified: CMakeLists.txt|3 0
Modified: bindings/CMakeLists.txt|12 0
Added: bindings/qpid/dotnet/CMakeLists.txt|196 0
Modified: bindings/qpid/dotnet/configure-windows.ps1|7 3
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.direct.sender/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.direct.sender/csharp.direct.sender.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.client/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.client/csharp.example.client.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.declare_queues/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.declare_queues/csharp.example.declare_queues.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.drain/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.helloworld/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.helloworld/csharp.example.helloworld.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.server/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.server/csharp.example.server.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.example.spout/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.receiver/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.sender/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.receiver/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.receiver/csharp.map.receiver.csproj|0 110
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.sender/app.config|0 21
Deleted: bindings/qpid/dotnet/examples/msvc10/csharp.map.sender/csharp.map.sender.csproj|0 110
Renamed: bindings/qpid/dotnet/examples/msvc9/anyproject.csproj.in [from bindings/qpid/dotnet/examples/msvc9/csharp.direct.receiver/csharp.direct.receiver.csproj]|101 101
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.direct.sender/csharp.direct.sender.csproj|0 102
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.example.client/csharp.example.client.csproj|0 102
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.example.declare_queues/csharp.example.declare_queues.csproj|0 102
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.drain/csharp.example.drain.csproj.in [from bindings/qpid/dotnet/examples/msvc9/csharp.example.drain/csharp.example.drain.csproj]|11 11
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.example.helloworld/csharp.example.helloworld.csproj|0 102
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.example.server/csharp.example.server.csproj|0 102
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.example.spout/csharp.example.spout.csproj.in [from bindings/qpid/dotnet/examples/msvc9/csharp.example.spout/csharp.example.spout.csproj]|11 11
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj.in [from bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|11 11
Renamed: bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.sender/csharp.map.callback.sender.csproj.in [from bindings/qpid/dotnet/examples/msvc9/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|10 10
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.map.receiver/csharp.map.receiver.csproj|0 102
Deleted: bindings/qpid/dotnet/examples/msvc9/csharp.map.sender/csharp.map.sender.csproj|0 102
Renamed: bindings/qpid/dotnet/examples/msvcx/anyproject.csproj.in [from bindings/qpid/dotnet/examples/msvc10/csharp.direct.receiver/csharp.direct.receiver.csproj]|115 109
Renamed: bindings/qpid/dotnet/examples/msvcx/app.config [from bindings/qpid/dotnet/examples/msvc10/csharp.direct.receiver/app.config]|0 0
Renamed: bindings/qpid/dotnet/examples/msvcx/csharp.example.drain/csharp.example.drain.csproj.in [from bindings/qpid/dotnet/examples/msvc10/csharp.example.drain/csharp.example.drain.csproj]|20 12
Renamed: bindings/qpid/dotnet/examples/msvcx/csharp.example.spout/csharp.example.spout.csproj.in [from bindings/qpid/dotnet/examples/msvc10/csharp.example.spout/csharp.example.spout.csproj]|20 12
Renamed: bindings/qpid/dotnet/examples/msvcx/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj.in [from bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|18 12
Renamed: bindings/qpid/dotnet/examples/msvcx/csharp.map.callback.sender/csharp.map.callback.sender.csproj.in [from bindings/qpid/dotnet/examples/msvc10/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|17 11
Renamed: bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sessionreceiver.sln.in [from bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sessionreceiver.sln]|4 4
Renamed: bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sln.in [from bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sln]|28 26
Renamed: bindings/qpid/dotnet/msvcx/org.apache.qpid.messaging.sessionreceiver.sln.in [from bindings/qpid/dotnet/msvc10/org.apache.qpid.messaging.sessionreceiver.sln]|4 4
Renamed: bindings/qpid/dotnet/msvcx/org.apache.qpid.messaging.sln.in [from bindings/qpid/dotnet/msvc9/org.apache.qpid.messaging.sln]|26 28
Renamed: bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj.in [from bindings/qpid/dotnet/src/msvc9/org.apache.qpid.messaging.vcproj]|63 63
Renamed: bindings/qpid/dotnet/src/msvcx/org.apache.qpid.messaging.vcxproj.filters.in [from bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj.filters]|25 25
Renamed: bindings/qpid/dotnet/src/msvcx/org.apache.qpid.messaging.vcxproj.in [from bindings/qpid/dotnet/src/msvc10/org.apache.qpid.messaging.vcxproj]|77 71
Modified: bindings/qpid/dotnet/src/org.apache.qpid.messaging.template.rc|2 2
Renamed: bindings/qpid/dotnet/src/sessionreceiver/msvc9/org.apache.qpid.messaging.sessionreceiver.csproj.in [from bindings/qpid/dotnet/src/sessionreceiver/msvc10/org.apache.qpid.messaging.sessionreceiver.csproj]|16 21
Renamed: bindings/qpid/dotnet/src/sessionreceiver/msvcx/org.apache.qpid.messaging.sessionreceiver.csproj.in [from bindings/qpid/dotnet/src/sessionreceiver/msvc9/org.apache.qpid.messaging.sessionreceiver.csproj]|27 16
Renamed: bindings/qpid/dotnet/test/messaging.test/msvc9/messaging.test.csproj.in [from bindings/qpid/dotnet/test/messaging.test/msvc10/messaging.test.csproj]|15 20
Renamed: bindings/qpid/dotnet/test/messaging.test/msvcx/messaging.test.csproj.in [from bindings/qpid/dotnet/test/messaging.test/msvc9/messaging.test.csproj]|35 18
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.receiver/csharp.direct.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.receiver/csharp.direct.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.sender/csharp.direct.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.direct.sender/csharp.direct.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.client/csharp.example.client.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.client/csharp.example.client.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.drain/csharp.example.drain.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.drain/csharp.example.drain.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.helloworld/csharp.example.helloworld.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.helloworld/csharp.example.helloworld.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.server/csharp.example.server.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.server/csharp.example.server.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.spout/csharp.example.spout.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.example.spout/csharp.example.spout.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.receiver/csharp.map.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.receiver/csharp.map.receiver.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.sender/csharp.map.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/examples/csharp.map.sender/csharp.map.sender.csproj]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvc9/winsdk_dotnet_examples.sln.in [from bindings/qpid/dotnet/winsdk_sources/msvc9/winsdk_dotnet_examples.sln]|0 0
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.direct.receiver/csharp.direct.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.receiver/csharp.direct.receiver.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.direct.sender/csharp.direct.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.direct.sender/csharp.direct.sender.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.client/csharp.example.client.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.client/csharp.example.client.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.declare_queues/csharp.example.declare_queues.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.drain/csharp.example.drain.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.drain/csharp.example.drain.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.helloworld/csharp.example.helloworld.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.helloworld/csharp.example.helloworld.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.server/csharp.example.server.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.server/csharp.example.server.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.example.spout/csharp.example.spout.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.example.spout/csharp.example.spout.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.receiver/csharp.map.callback.receiver.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.callback.sender/csharp.map.callback.sender.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.map.receiver/csharp.map.receiver.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.receiver/csharp.map.receiver.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/examples/csharp.map.sender/csharp.map.sender.csproj.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/examples/csharp.map.sender/csharp.map.sender.csproj]|1 1
Renamed: bindings/qpid/dotnet/winsdk_sources/msvcx/winsdk_dotnet_examples.sln.in [from bindings/qpid/dotnet/winsdk_sources/msvc10/winsdk_dotnet_examples.sln]|2 2
Modified: bld-winsdk.ps1|28 10

Revision: d8bbea55050cb5ef81c174da131926a72651586a
Author: Charles E. Rolke <chug@apache.org>
Date: 13/09/2014 02:44:36
Message:
QPID-4575: Remove empty directories created by r1624604 #MsgLength=57


----

Revision: f62f23a57b410029af37140a4ba9af72d0b3b6a6
Author: Charles E. Rolke <chug@apache.org>
Date: 14/09/2014 09:15:53
Message:
QPID-4575: VS2012 - fix cmake to allow in-source build where dirs source == binary #MsgLength=84


----
Modified: bindings/qpid/dotnet/CMakeLists.txt|6 2

Revision: e082a8bd3dc18ab2608f07d6d9f1e7b95c1f0512
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/09/2014 21:47:02
Message:
QPID-5361: No tests for linearstore functionality currently exist - basic tests from the legacystore suite ported to linearstore #MsgLength=129


----
Modified: src/CMakeLists.txt|1 0
Modified: src/qpid/linearstore/ISSUES|4 1
Added: src/tests/linearstore/CMakeLists.txt|29 0
Added: src/tests/linearstore/python_tests/__init__.py|23 0
Added: src/tests/linearstore/python_tests/client_persistence.py|239 0
Added: src/tests/linearstore/python_tests/store_test.py|417 0
Added: src/tests/linearstore/run_long_python_tests|21 0
Added: src/tests/linearstore/run_python_tests|42 0
Added: src/tests/linearstore/run_short_python_tests|21 0

Revision: 37b272018e3b15eb5e403c568bbbd0dae3bf0c0e
Author: Gordon Sim <gsim@apache.org>
Date: 19/09/2014 21:28:17
Message:
QPID-5590: handle unknown exchange type for topic policy #MsgLength=57


----
Modified: src/qpid/broker/ExchangeRegistry.cpp|11 1
Modified: src/qpid/broker/ExchangeRegistry.h|16 2
Modified: src/qpid/broker/amqp/NodePolicy.cpp|2 1

Revision: efdb56be93254d58154332440cd5a2eeec7d4c59
Author: Pavel Moravec <pmoravec@apache.org>
Date: 22/09/2014 23:30:44
Message:
QPID-6112: Incoming QMF objects dont update transfers counter #MsgLength=62


----
Modified: src/qpid/broker/amqp/Incoming.cpp|1 0

Revision: b28550852d4b0bbc288a024296b1c348c885d305
Author: Alan Conway <aconway@apache.org>
Date: 23/09/2014 03:57:33
Message:
NO-JIRA: HA Remove dead code in ReplicatingSubscription. #MsgLength=57


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 7

Revision: 11786c612abe805c124d2a9aa623451c788bd3f1
Author: Alan Conway <aconway@apache.org>
Date: 23/09/2014 04:10:54
Message:
QPID-6107: Python Swig wrapped bindings consistently fail with spout and drain #MsgLength=155


----
Modified: include/qpid/swig_python_typemaps.i|1 0

Revision: eed7fd7d8a3c2d28105ac20dc9e3252ca389bd90
Author: Andrew Stitcher <astitcher@apache.org>
Date: 24/09/2014 02:01:58
Message:
QPID-6008: Fixed up FreeBSD 10 build instructions to work #MsgLength=58


----
Modified: INSTALL|9 1

Revision: 8c3252295daaf8a026eaf1efb58638e45632b858
Author: Gordon Sim <gsim@apache.org>
Date: 26/09/2014 23:27:22
Message:
QPID-6123: allow for change in engine API introduced in 0.8 #MsgLength=60


----
Modified: src/amqp.cmake|3 0
Modified: src/config.h.cmake|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|24 6
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|24 6

Revision: b4fcf5479e5b86ebf0930fa03b8b2de0040072ed
Author: Alan Conway <aconway@apache.org>
Date: 26/09/2014 23:38:02
Message:
QPID-6118: Add qmf shutdown command to the broker #MsgLength=227


----
Modified: src/qpid/broker/Broker.cpp|5 1
Modified: src/qpid/broker/management-schema.xml|3 0

Revision: f57459b4bd86936718c41de4c8e4a7c4e01af0ab
Author: Gordon Sim <gsim@apache.org>
Date: 30/09/2014 22:01:41
Message:
QPID-6127: avoid using negative durations with sys::BlockingQueue.pop() as it will not throw when expected #MsgLength=107


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|20 2

Revision: 6dd1704866c634bcf6cf2a5a83d105725d910a56
Author: Gordon Sim <gsim@apache.org>
Date: 30/09/2014 23:02:05
Message:
QPID-6127: slight refactoring of previous solution for brevity; suggested by Andrew Stitcher. #MsgLength=94


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|2 8

Revision: 04ab0b456e98c57e7ebba499779d7989925ea563
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 02/10/2014 21:55:36
Message:
QPID-6128: Fix compiling SocketAddress on ARM #MsgLength=46


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|12 4

Revision: bfcad6f92a5dc4f492b01c6541babc1e405ac6e5
Author: Charles E. Rolke <chug@apache.org>
Date: 11/10/2014 01:51:23
Message:
QPID-6140: [C++ Messaging] hello_world does not define Messaging i/f completely Add qpidtypes to hello_world and hello_xml example link library list so that users can execute any Messaging function straight away. #MsgLength=216


----
Modified: examples/messaging/CMakeLists.txt|2 2
Modified: examples/messaging/extra_dist/CMakeLists.txt|2 2

Revision: 4e815ae1c6e3eccc51b945e00b8327390ba621d6
Author: Pavel Moravec <pmoravec@apache.org>
Date: 13/10/2014 20:24:26
Message:
QPID-6147: missing journal id in "trace Mgmt create journal." log #MsgLength=66


----
Modified: src/qpid/linearstore/JournalImpl.cpp|1 2
Modified: src/qpid/linearstore/management-schema.xml|1 1

Revision: 3c072176c3fb624796a02e68ab515bc80c5c1e44
Author: Pavel Moravec <pmoravec@apache.org>
Date: 13/10/2014 22:00:56
Message:
QPID-6148: purging TTL expired messages via purge task should not increase acquires counters #MsgLength=93


----
Modified: src/qpid/broker/Queue.cpp|0 2

Revision: 96a572ee7b0f59b4a6502dfad7c13b94ea9f6ac9
Author: Pavel Moravec <pmoravec@apache.org>
Date: 17/10/2014 16:21:58
Message:
QPID-6157: linearstore: segfault when 2 journals request new journal file from empty EFP #MsgLength=89


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|5 9

Revision: 22b4f844e53c6830d088fcc28e6ff73742ba4e77
Author: Ken Giusti <kgiusti@apache.org>
Date: 20/10/2014 21:07:15
Message:
QPID-6160: disable SSLv3 in CPP broker and client #MsgLength=50


----
Modified: src/qpid/sys/ssl/util.cpp|10 0

Revision: 7e879d04b82a7cc8bba88ed3b5550eb35c8c0cbb
Author: Charles E. Rolke <chug@apache.org>
Date: 23/10/2014 01:54:40
Message:
QPID-6178: [C++ Broker] Fix compile issue with VS2008 and Boost 1.55 #MsgLength=71


----
Modified: src/CMakeLists.txt|2 1
Modified: src/qpid/broker/ExchangeRegistry.cpp|2 2
Modified: src/qpid/broker/MessageAdapter.cpp|3 3

Revision: 745a9de820274fa1d32c89eb9855013df5c01c77
Author: Pavel Moravec <pmoravec@apache.org>
Date: 23/10/2014 20:20:35
Message:
QPID-6182: AMQP 1.0 consumer should be able to get messages from browse-only queue #MsgLength=83


----
Modified: src/qpid/broker/amqp/Session.cpp|2 1

Revision: f32b5da3058989d8ee61d341f96a0e53fc268aad
Author: Pavel Moravec <pmoravec@apache.org>
Date: 23/10/2014 22:09:11
Message:
QPID-6182: AMQP 1.0 consumer should be able to get messages from browse-only queue (2/2) #MsgLength=89


----
Modified: src/qpid/broker/Queue.h|1 0

Revision: 0486eac91408f61a0a8dd610bc82978d8bba5815
Author: Gordon Sim <gsim@apache.org>
Date: 24/10/2014 02:06:40
Message:
QPID-2374: Ensure --require-encryption works as expected for ssl even when sasl support libs are not available #MsgLength=111


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|1 4

Revision: 263735b8dfc5b9455eccc11b8b05734b971c5fcd
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2014 01:00:16
Message:
QPID-4710: Handle nested descriptors i.e. described types where the value is itself a described type. Required for sending transaction control messages. #MsgLength=153


----
Modified: src/qpid/amqp/Decoder.cpp|3 0
Modified: src/qpid/amqp/Descriptor.cpp|10 0
Modified: src/qpid/amqp/Descriptor.h|3 0
Modified: src/qpid/amqp/descriptors.h|16 0

Revision: 1c432ecdcdd08cad7e0ac595a183b45d78866350
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2014 01:00:24
Message:
QPID-4710: Update message decoding logic to handle nested descriptors also #MsgLength=75


----
Modified: src/qpid/amqp/MessageReader.cpp|26 20
Modified: src/qpid/amqp/MessageReader.h|2 2
Modified: src/qpid/broker/amqp/Message.cpp|16 3
Modified: src/qpid/broker/amqp/Message.h|5 2
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|2 2
Modified: src/qpid/messaging/amqp/EncodedMessage.h|2 2

Revision: fabcc09b0e8b3a9f90da29ca557a012df51465d0
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2014 01:00:33
Message:
QPID-4710: Add generic support for transactional dequeue to Queue class itself #MsgLength=79


----
Modified: src/CMakeLists.txt|2 0
Modified: src/qpid/broker/Queue.cpp|19 0
Modified: src/qpid/broker/Queue.h|7 0
Added: src/qpid/broker/TxDequeue.cpp|65 0
Added: src/qpid/broker/TxDequeue.h|52 0

Revision: 8fb5fa68492c0cd52fcdae1f94fa5ff99d63dacc
Author: Gordon Sim <gsim@apache.org>
Date: 28/10/2014 01:00:41
Message:
QPID-4710: Initial support for broker side AMQP 1.0 local transactions (single txn per session, single session per txn to begin with) #MsgLength=134


----
Modified: src/qpid/broker/amqp/Incoming.cpp|13 9
Modified: src/qpid/broker/amqp/Incoming.h|4 2
Modified: src/qpid/broker/amqp/ManagedSession.cpp|23 0
Modified: src/qpid/broker/amqp/ManagedSession.h|3 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|7 1
Modified: src/qpid/broker/amqp/Outgoing.h|1 1
Modified: src/qpid/broker/amqp/Session.cpp|169 7
Modified: src/qpid/broker/amqp/Session.h|16 0

Revision: 60b7c88d6f1bbe068a0a34f5eba0f42771914cf0
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 29/10/2014 03:47:41
Message:
QPID-6187: Disable SSL v3 for Windows SChannel #MsgLength=47


----
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|29 1

Revision: 68a9df1111d9a4b19f1090423d56eb4522587877
Author: Gordon Sim <gsim@apache.org>
Date: 30/10/2014 06:24:41
Message:
QPID-5538: simple heartbeat enablement over 1.0 for broker #MsgLength=59


----
Modified: src/qpid/broker/amqp/Connection.cpp|45 4
Modified: src/qpid/broker/amqp/Connection.h|6 0

Revision: d456d60ded91f04ac746415b32f3d24f923eccfc
Author: Kim van der Riet <kpvdr@apache.org>
Date: 04/11/2014 22:58:47
Message:
QPID-5671: [linearstore] Add ability to use disk partitions and select per-queue EFPs. This is the first part of resolving this issue and changes the journal directory structure to use symlinks instead of moving the actual files. This opens the way to having files from multiple partitions in the same journal. Other small improvements and tidy-ups also included. #MsgLength=364


----
Modified: src/qpid/linearstore/ISSUES|27 16
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|5 6
Modified: src/qpid/linearstore/MessageStoreImpl.h|1 1
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|122 40
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|18 6
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|31 35
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.h|4 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|36 26
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.h|3 3
Modified: src/qpid/linearstore/journal/EmptyFilePoolTypes.h|8 1
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|2 2
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|11 40
Modified: src/qpid/linearstore/journal/RecoveryManager.h|1 2
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 1
Modified: src/qpid/linearstore/journal/jerrno.cpp|2 0
Modified: src/qpid/linearstore/journal/jerrno.h|1 0

Revision: 7fea652c1d7b37a88a72e3cdce269e0570723cd2
Author: Gordon Sim <gsim@apache.org>
Date: 05/11/2014 18:33:59
Message:
QPID-6213: only restart timer once all queues have been purged #MsgLength=63


----
Modified: src/qpid/broker/QueueCleaner.cpp|7 2

Revision: ee20434d251f17e74ad6fc7be482582a728faaae
Author: Charles E. Rolke <chug@apache.org>
Date: 06/11/2014 06:06:28
Message:
QPID-6212: WinSDK build script - add hooks for specifying shared Proton install dir #MsgLength=86


----
Modified: bld-winsdk.ps1|48 15

Revision: 963ae29f3da335e8c8921d537b0eff617c1d0ef8
Author: Justin Ross <jross@apache.org>
Date: 06/11/2014 22:36:10
Message:
QPID-6203: Prevent broker startup when invalid directory is passed to --sasl-config; this is a patch from Ernie Allen #MsgLength=118


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|39 2

Revision: 71259f2d7e6ade418a8d67adf05241a5faedad40
Author: Gordon Sim <gsim@apache.org>
Date: 08/11/2014 00:26:30
Message:
QPID-6218: no need to retreieve external resources #MsgLength=51


----
Modified: src/qpid/xml/XmlExchange.cpp|20 1
Modified: src/qpid/xml/XmlExchange.h|3 0

Revision: 0f425fa317568e32e9a8a0a8ccd7477919154e68
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2014 19:48:32
Message:
QPID-5927: allow for whitespace in password #MsgLength=44


----
Modified: src/qpid/sys/ssl/util.cpp|1 1

Revision: 2e8ff6ebdae30ff7eb06c53383e304832f1bd24d
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2014 19:48:38
Message:
QPID-5538: remove log statement inadvertently added #MsgLength=52


----
Modified: src/qpid/broker/amqp/Connection.cpp|0 1

Revision: 22e4cc15763395959af24543d845f1ecb02b7af1
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2014 19:48:48
Message:
QPID-6167: allow 0-10 to be disabled #MsgLength=37


----
Modified: src/CMakeLists.txt|0 1
Modified: src/qpid/broker/Broker.cpp|5 4
Modified: src/qpid/broker/Broker.h|0 1
Modified: src/qpid/broker/BrokerOptions.h|1 0
Modified: src/qpid/broker/Protocol.cpp|43 2
Modified: src/qpid/broker/Protocol.h|12 2
Deleted: src/qpid/broker/SecureConnectionFactory.cpp|0 75
Deleted: src/qpid/broker/SecureConnectionFactory.h|0 52
Modified: src/qpid/broker/amqp/Domain.cpp|2 2
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|1 1
Modified: src/qpid/sys/ConnectionCodec.h|1 1
Modified: src/tests/MessageTest.cpp|1 1

Revision: 08062327de4850bbe09f76f66a5ca83d6c067e4c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 11/11/2014 05:49:24
Message:
QPID-5671: [linearstore] Add ability to use disk partitions and select per-queue EFPs. Modified previous code and added new code to allow a seamless updrade of the modified EFP and journal directory structure from the old to the new. The "efp" directory is removed from the directory tree containing the EFPs in a partition and all directories are moved up a level. The journal files are replaced with symlinks as they are used and replaced into the EFP. #MsgLength=455


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|32 1
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|2 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|42 4
Modified: src/qpid/linearstore/journal/jerrno.cpp|4 0
Modified: src/qpid/linearstore/journal/jerrno.h|2 0

Revision: defb284a5aa231f3852104cdc01bbf3246772c1c
Author: Justin Ross <jross@apache.org>
Date: 14/11/2014 03:31:37
Message:
QPID-6203: Fix a test failure introduced by revision 1637122 #MsgLength=61


----
Modified: src/qpid/broker/SaslAuthenticator.cpp|4 1

Revision: e685a1fdb21bcf95a0b0bfdaf2abb52bb2d24954
Author: Pavel Moravec <pmoravec@apache.org>
Date: 18/11/2014 23:01:31
Message:
QPID-6232: [C++ broker] Linearstore segfaults when ulimit prevents creating new file in EFP #MsgLength=92


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|3 1
Modified: src/qpid/linearstore/journal/jerrno.cpp|2 0
Modified: src/qpid/linearstore/journal/jerrno.h|1 0

Revision: 7b7b58eaa93d46eaae333707bfcacd61500a0a26
Author: Gordon Sim <gsim@apache.org>
Date: 20/11/2014 23:23:08
Message:
QPID-4710: release messages on rollback #MsgLength=40


----
Modified: src/qpid/amqp/descriptors.h|1 1
Modified: src/qpid/broker/TxDequeue.cpp|5 2
Modified: src/qpid/broker/TxDequeue.h|2 0
Modified: src/qpid/broker/amqp/Session.cpp|1 0

Revision: c5c99b7cbf5bbc5f5a8f6e5cc40dbee72acd0992
Author: Gordon Sim <gsim@apache.org>
Date: 21/11/2014 05:50:23
Message:
QPID-4710: fix decoding of transtional outcome #MsgLength=47


----
Modified: src/qpid/broker/amqp/Session.cpp|3 1

Revision: 33583e4d9627934e77e8e049992e2efe0924b11c
Author: Alan Conway <aconway@apache.org>
Date: 22/11/2014 02:46:35
Message:
NO-JIRA: Fix qpid-cpp-benchmark to support AMQP 1.0. #MsgLength=53


----
Modified: src/tests/qpid-cpp-benchmark|63 22

Revision: 8a90cc409ca46fe5fa995b27dda4147ad35b181b
Author: Charles E. Rolke <chug@apache.org>
Date: 22/11/2014 06:38:01
Message:
QPID-6241: Windows build fails. Add c-style cast to 0 for creating a null pointer. #MsgLength=84


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: b91e3e9da0b9ef6cb11875ed9be940dc260b5bc4
Author: Alan Conway <aconway@apache.org>
Date: 22/11/2014 10:54:59
Message:
NO-JIRA: Fix qpid-cpp-benchmark to work with activemq broker. #MsgLength=225


----
Modified: bindings/qpid/python/qpid_messaging.i|11 0
Modified: src/tests/qpid-cpp-benchmark|8 2

Revision: befe23fb395312b797faca9a745895da510b515a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/11/2014 01:39:54
Message:
NO-JIRA: Improve the Timer/TimerTask documentation. #MsgLength=52


----
Modified: src/qpid/sys/Timer.h|56 0

Revision: ec0f8f6cc48fe1c96027fe98f12edbc329e8e696
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/11/2014 04:39:38
Message:
QPID-6248 [linearstore] Symlink creation fails if store dir path is not absolute #MsgLength=81


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|1 1
Modified: src/qpid/linearstore/StorePlugin.cpp|15 0

Revision: 84b67121785e73d38448cf27d343374a7a8e00e7
Author: Alan Conway <aconway@apache.org>
Date: 28/11/2014 07:14:18
Message:
NO-JIRA: Use absolute path for store directory in brokertest.py #MsgLength=137


----
Modified: src/tests/brokertest.py|1 1

Revision: 3a8e970c3fc9dbb57a6a6e6084e4f5889360b1c8
Author: Charles E. Rolke <chug@apache.org>
Date: 01/12/2014 21:32:48
Message:
QPID-6213: qpidd misses heartbeats #MsgLength=240


----
Modified: src/qpid/broker/QueueCleaner.cpp|14 10
Modified: src/qpid/sys/PollableQueue.h|1 1

Revision: 8f7514e99353736e4a71f6ea95d1d104ad0722c2
Author: Alan Conway <aconway@apache.org>
Date: 02/12/2014 01:41:09
Message:
QPID-6252: AMQP 1.0 browsing client generates large number of errors on broker. #MsgLength=483


----
Modified: src/qpid/messaging/amqp/AddressHelper.h|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|3 1
Modified: src/qpid/messaging/amqp/ReceiverContext.h|2 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/SessionContext.h|1 1

Revision: ff75177877467cc5d8ce195381d5027597748558
Author: Kim van der Riet <kpvdr@apache.org>
Date: 02/12/2014 02:40:45
Message:
NO_JIRA: Update of ISSUES file #MsgLength=31


----
Modified: src/qpid/linearstore/ISSUES|11 2

Revision: 8ecdcf526275488b21ec257258374f39977985e6
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2014 21:39:23
Message:
Revert "QPID-6252: AMQP 1.0 browsing client generates large number of errors on broker." #MsgLength=152


----
Modified: src/qpid/messaging/amqp/AddressHelper.h|0 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|1 3
Modified: src/qpid/messaging/amqp/ReceiverContext.h|0 2
Modified: src/qpid/messaging/amqp/SessionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/SessionContext.h|1 1

Revision: 652a4f7f35e2d295d0a69b262c7cb1236c89b4fc
Author: Alan Conway <aconway@apache.org>
Date: 05/12/2014 21:39:28
Message:
QPID-6252: AMQP 1.0 browsing client generates large number of errors on broker (better fix) #MsgLength=1279


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|2 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|2 1

Revision: a60ffb25b06183f0a24dd5a4e7e9a6bfd94128ac
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:13
Message:
QPID-5003: Use correct property for delayed auto-delete. Explicit 0 timeout should override default. #MsgLength=101


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 3

Revision: 1b6670ed95c3a2b50897ca53cf81f035e8122c60
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:19
Message:
QPID-6267: honour policy timeout even if it is 0 #MsgLength=49


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: 38228603cee861bedffdf882e8811421e820dec8
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:24
Message:
QPID-6269: trigger autodelete timer on queue recovery #MsgLength=54


----
Modified: src/qpid/broker/Queue.cpp|4 0

Revision: 8879ebf704f2b61560c6186e0e6aed95d9974a20
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:31
Message:
QPID-6167: ensure broker responds with a header for an enabled protocol #MsgLength=72


----
Modified: src/qpid/broker/Protocol.cpp|20 3
Modified: src/qpid/broker/Protocol.h|3 1
Modified: src/qpid/broker/amqp/Domain.cpp|4 0
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|6 0
Modified: src/qpid/sys/AsynchIOHandler.cpp|1 1
Modified: src/qpid/sys/ConnectionCodec.h|2 0

Revision: f953a495b49e5683f50a7a14834c8cdfbbd499d3
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:37
Message:
QPID-6273: ensure requests and responses are sent as textual strings rather than binary data #MsgLength=93


----
Modified: examples/messaging/client.cpp|3 3
Modified: examples/messaging/server.cpp|7 6

Revision: b52ed103d276bbbd4241fc5266fa96d133d428f0
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:44
Message:
QPID-6274: Delete subscription queue immediately on link close #MsgLength=63


----
Modified: src/qpid/broker/Queue.cpp|4 4
Modified: src/qpid/broker/Queue.h|2 2
Modified: src/qpid/broker/amqp/Incoming.cpp|1 1
Modified: src/qpid/broker/amqp/Incoming.h|1 1
Modified: src/qpid/broker/amqp/Outgoing.cpp|6 4
Modified: src/qpid/broker/amqp/Outgoing.h|2 2
Modified: src/qpid/broker/amqp/Relay.cpp|2 2
Modified: src/qpid/broker/amqp/Relay.h|2 2
Modified: src/qpid/broker/amqp/Session.cpp|6 6

Revision: 681ab2e0db97da8010ba0cf833e584cf76af40dd
Author: Gordon Sim <gsim@apache.org>
Date: 17/12/2014 22:29:50
Message:
QPID-6275: reduce default autodelete timeout for durable subscriptions #MsgLength=71


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|1 1
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 1

Revision: 707386a6c9b3d4bfbee0d01796bf6f7dc9e731eb
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/12/2014 06:37:37
Message:
QPID-6255: Use Proton event model in qpidd when available. #MsgLength=59


----
Modified: src/amqp.cmake|2 1
Modified: src/config.h.cmake|1 0
Modified: src/qpid/broker/amqp/Connection.cpp|200 89
Modified: src/qpid/broker/amqp/Connection.h|15 0
Modified: src/qpid/broker/amqp/Relay.cpp|7 1

Revision: bc07f5d0735f5886d64d78d0f3ff84619801286a
Author: Alan Conway <aconway@apache.org>
Date: 19/12/2014 11:18:57
Message:
QPID-6278: HA broker abort in TXN soak test #MsgLength=1349


----
Modified: src/qpid/broker/AsyncCompletion.h|3 2
Modified: src/qpid/ha/Primary.cpp|1 0

Revision: 9c9e417e722e22848bfc12c242d9e3d14bf14d0e
Author: Charles E. Rolke <chug@apache.org>
Date: 20/12/2014 03:41:38
Message:
QPID-6280: C++ Messaging example server resource leak #MsgLength=56


----
Modified: examples/messaging/server.cpp|1 0

Revision: ab6d52c6524e52278ffdc51db6b9bc4c7d1ab0c6
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/01/2015 01:43:14
Message:
QPID-5671 [linearstore] Add ability to use disk partitions and select per-queue EFPs: WIP, but mostly complete. Needs additional testing. It is now possible to add queues which use a partition other than the broker default by using qpid-config --durable together with --efp--partition-num and/or --efp-pool-file-size #MsgLength=317


----
Modified: src/qpid/linearstore/ISSUES|10 6
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|6 6
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|59 40
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|10 3
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|4 3
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|42 27
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.h|3 1
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|30 4
Modified: src/qpid/linearstore/journal/jerrno.cpp|9 5
Modified: src/qpid/linearstore/journal/jerrno.h|3 1
Modified: src/qpid/linearstore/management-schema.xml|2 47

Revision: 34a74e0309389995801404b5d083c4f8afa46c83
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/01/2015 01:45:30
Message:
NO-JIRA: [linearstore] Update of ISSUES file #MsgLength=45


----
Modified: src/qpid/linearstore/ISSUES|10 9

Revision: ecca02e426f6c3bd795c0327e21e5c8dd537aeb0
Author: Gordon Sim <gsim@apache.org>
Date: 08/01/2015 07:28:54
Message:
QPID-6299: allow ring and lvq behaviours to be combined #MsgLength=56


----
Modified: src/CMakeLists.txt|1 0
Modified: src/qpid/broker/LossyQueue.h|1 1
Modified: src/qpid/broker/Lvq.h|1 1
Modified: src/qpid/broker/QueueFactory.cpp|10 2

Revision: df538665cc4d2d03348bfff073a82abca5ccb47f
Author: Gordon Sim <gsim@apache.org>
Date: 08/01/2015 20:04:09
Message:
QPID-6299: add files missed out from last commit #MsgLength=49


----
Added: src/qpid/broker/LossyLvq.cpp|29 0
Added: src/qpid/broker/LossyLvq.h|41 0

Revision: 6b76885eab8ca1511736a8c54138e555478480fe
Author: Charles E. Rolke <chug@apache.org>
Date: 09/01/2015 03:28:51
Message:
QPID-6301: [C++ Messaging] Client example acks responses #MsgLength=59


----
Modified: examples/messaging/client.cpp|3 2

Revision: db9f2f2d4e516d9448a406dfb4a348fb17353578
Author: Charles E. Rolke <chug@apache.org>
Date: 09/01/2015 05:51:49
Message:
QPID-6298: [C++ Messaging] Closing sender/receiver frees proton link. Tested with proton 0.9, 0.7, and 0.6. #MsgLength=110


----
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|1 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 1

Revision: 861906e9a1d90ca7e2a79d8687678b608bc681f9
Author: Gordon Sim <gsim@apache.org>
Date: 13/01/2015 02:42:15
Message:
NO-JIRA: ensure MapMessage is fully defined when used #MsgLength=54


----
Modified: src/qpid/broker/LossyLvq.cpp|1 0

Revision: cd54b5ddb556a27d32901c4acc49c5bd498083b2
Author: Gordon Sim <gsim@apache.org>
Date: 13/01/2015 18:25:02
Message:
QPID-6310 ensure session is attached even for unsupported controls #MsgLength=67


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|1 0

Revision: 8b3f9f991740fbc2730fa293a11fb33bf5688db9
Author: Gordon Sim <gsim@apache.org>
Date: 13/01/2015 18:25:08
Message:
QPID-6310: handle case where content bearing method is not in fact a message-transfer, which is the only one currently supported by qpidd #MsgLength=138


----
Modified: src/qpid/broker/MessageBuilder.cpp|3 0

Revision: dee0bf63f4c91c3e03371d3c7037b5d7896c4e5e
Author: Gordon Sim <gsim@apache.org>
Date: 13/01/2015 18:25:15
Message:
QPID-6310: check validity of ranges when decoding sequence set #MsgLength=63


----
Modified: src/qpid/framing/SequenceSet.cpp|5 1

Revision: 6bdac2785b3b9502c2202f1d727eb0a96cadf94a
Author: Charles E. Rolke <chug@apache.org>
Date: 15/01/2015 02:54:00
Message:
QPID-6308: Preserve request string encoding in response string. Non-string requests are echoed as utf8 strings. #MsgLength=114


----
Modified: examples/messaging/server.cpp|17 3

Revision: 97517a294dd16c2bfc5c961bd4494a6839c6e466
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/01/2015 02:38:19
Message:
QPID-6303 [linearstore] Roll back auto-upgrade of store directory structure #MsgLength=76


----
Modified: src/qpid/linearstore/ISSUES|23 20
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|3 3
Modified: src/qpid/linearstore/journal/EmptyFilePoolManager.cpp|1 0
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|16 39
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.h|2 0
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|1 1

Revision: 69c9a91ea6b35b0b542810d1b815676a6b37bb25
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2015 22:12:54
Message:
QPID-6321: handle change to pn_delivery_tag_t in 0.9 #MsgLength=53


----
Modified: src/amqp.cmake|4 1
Modified: src/config.h.cmake|1 1
Modified: src/qpid/broker/amqp/Connection.cpp|4 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|9 0
Modified: src/qpid/broker/amqp/Relay.cpp|9 0
Modified: src/qpid/broker/amqp/Session.cpp|5 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|5 0

Revision: 2d9031fa89c113c29b4d652a258285d70f88cc7b
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2015 22:13:00
Message:
QPID-6322: avoid setting qpid.auto_delete_timeout unnecessarily #MsgLength=64


----
Modified: src/qpid/broker/amqp/Session.cpp|2 1

Revision: dd66f29dc20e50486bb9f5e91bd899a59a29401f
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2015 22:13:06
Message:
QPID-6323: align default timeout behaviour with 0-10 codepath #MsgLength=62


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 1

Revision: 097b1bd5500eda3c6b0476c02ae3e6d38747c698
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2015 22:13:11
Message:
QPID-5597: honour explicit auto-delete when True (as well as when False) #MsgLength=73


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|2 2

Revision: be28d13e2a82b44c5ca4f5db0ebc2eedaed1c39d
Author: Gordon Sim <gsim@apache.org>
Date: 19/01/2015 22:13:17
Message:
QPID-6324: fix when default timeout applies #MsgLength=44


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|4 5

Revision: f8b3103ba2b8efaedd351ad419178a39e4f6d52b
Author: Gordon Sim <gsim@apache.org>
Date: 20/01/2015 18:00:17
Message:
QPID-6325: improve 0-10 connection handling logic #MsgLength=50


----
Modified: src/qpid/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/broker/ConnectionHandler.cpp|24 3

Revision: e0ddc26dfedcbeb23427c31d14056f1660df3d4c
Author: Gordon Sim <gsim@apache.org>
Date: 21/01/2015 22:50:52
Message:
QPID-6325: further improve 0-10 connection handling logic #MsgLength=58


----
Modified: src/qpid/broker/ConnectionHandler.cpp|7 7
Modified: src/qpid/broker/ConnectionHandler.h|2 1

Revision: 80ed7b9b54326c2ee59392f42f4332dc2e867193
Author: Gordon Sim <gsim@apache.org>
Date: 21/01/2015 22:50:59
Message:
QPID-6329: slightly more forgiving equivalence check on fieldvalues in assertions on 0-10 path #MsgLength=95


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|8 2
Modified: src/tests/assertions.py|15 0

Revision: 9379c742b2d33afc225bd2f341134c0b501ea924
Author: Darryl L. Pierce <mcpierce@apache.org>
Date: 22/01/2015 03:26:51
Message:
txshift: switch to uint for workers #MsgLength=348


----
Modified: src/tests/txshift.cpp|2 2

Revision: 579b6aab4a45a28232c3af4595a73cbe5ac4fc6a
Author: Gordon Sim <gsim@apache.org>
Date: 24/01/2015 04:25:45
Message:
QPID-6310: handle maximal range #MsgLength=32


----
Modified: src/qpid/framing/SequenceSet.cpp|23 2

Revision: 6e300584e7bcf8806b87dff68847e64e236d123c
Author: Clifford Jansen <cliffjansen@apache.org>
Date: 30/01/2015 03:47:37
Message:
QPID-5842: Allow SSL hostname verification to be disabled on windows client.  Windows related changes for QPID-5841 and https://reviews.apache.org/r/22890 #MsgLength=155


----
Modified: src/qpid/client/windows/SslConnector.cpp|3 1
Modified: src/qpid/messaging/amqp/windows/SslTransport.cpp|3 0
Modified: src/qpid/sys/windows/SslCredential.cpp|7 1
Modified: src/qpid/sys/windows/SslCredential.h|3 0

Revision: 7529d47890da600fb2ba11b2499c61ec72e5f999
Author: Ken Giusti <kgiusti@apache.org>
Date: 03/02/2015 00:05:43
Message:
QPID-5538: Implement AMQP 1.0 connection idle-timeout. #MsgLength=86


----
Modified: src/qpid/broker/amqp/Connection.cpp|62 8
Modified: src/qpid/broker/amqp/Connection.h|4 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|114 23
Modified: src/qpid/messaging/amqp/ConnectionContext.h|6 1
Modified: src/qpid/messaging/amqp/DriverImpl.cpp|3 1
Modified: src/qpid/messaging/amqp/DriverImpl.h|4 0
Modified: src/qpid/messaging/amqp/Transport.h|1 0
Modified: src/tests/CMakeLists.txt|1 0
Added: src/tests/idle_timeout_tests.py|95 0

Revision: 6fbdd5fba17722ba8b38f1e3daaf00acf5529fcd
Author: Gordon Sim <gsim@apache.org>
Date: 04/02/2015 05:51:25
Message:
QPID-6358: detect detached session on fetch #MsgLength=44


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1

Revision: abb885c250e4ab6267104c3a64a244dd297060ff
Author: Gordon Sim <gsim@apache.org>
Date: 05/02/2015 01:05:02
Message:
QPID-6358: detect detached session on fetch #MsgLength=177


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|15 10
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|2 1

Revision: f4e131cbbab6b7985812c6dc3bda1addc06eaf86
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/02/2015 01:37:19
Message:
Apply patches for QPID-6312 to get Qpid building on AIX with XL C++ 13.1 #MsgLength=73


----
Modified: CMakeLists.txt|5 0
Modified: INSTALL|18 1
Modified: src/CMakeLists.txt|12 0
Modified: src/config.h.cmake|1 0
Modified: src/qpid/InlineAllocator.h|1 1
Modified: src/qpid/Options.cpp|4 0
Modified: src/qpid/RangeSet.h|3 3
Modified: src/qpid/RefCounted.h|1 1
Modified: src/qpid/SessionId.h|1 1
Modified: src/qpid/amqp/MapEncoder.h|1 1
Modified: src/qpid/broker/QueueRegistry.h|1 1
Modified: src/qpid/broker/TopicKeyNode.h|1 1
Modified: src/qpid/broker/amqp/Filter.h|1 1
Modified: src/qpid/store/MessageStorePlugin.h|1 1
Modified: src/qpid/sys/FreeBSD/uuid.cpp|1 1
Modified: src/qpid/sys/Thread.h|2 0
Modified: src/qpid/sys/posix/AsynchIO.cpp|3 3
Modified: src/qpid/sys/posix/Thread.cpp|1 1
Modified: src/qpid/sys/posix/Time.cpp|8 6
Modified: src/qpid/sys/unordered_map.h|1 1
Modified: src/qpid/types/Variant.cpp|5 5
Modified: src/tests/TimerTest.cpp|1 1

Revision: 613bd1e333d439485604af341d33292e1cd37d59
Author: Stephen D. Huston <shuston@apache.org>
Date: 05/02/2015 12:46:38
Message:
Add cmake module for checking size_t native; should have been with the rest of the patch for QPID-6312 #MsgLength=103


----
Added: CMakeModules/CheckSizeTNativeType.cmake|59 0

Revision: c08f4b3471b37bb770080a130f539d7205b3c25a
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/02/2015 02:26:15
Message:
Fix operator bool() to work with Visual Studio 2013 #MsgLength=52


----
Modified: src/qpid/sys/windows/Thread.cpp|1 1

Revision: d3810bc10dc28e7a538b4025475770360698b927
Author: Ken Giusti <kgiusti@apache.org>
Date: 07/02/2015 05:10:24
Message:
QPID-5538: patch to work with older version of proton (0.7) #MsgLength=60


----
Modified: src/qpid/broker/amqp/Connection.cpp|10 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|10 2

Revision: 4de95c56e2b94d2870d4f519a9297ca7fb9f6260
Author: Stephen D. Huston <shuston@apache.org>
Date: 07/02/2015 05:55:36
Message:
NO-JIRA - fix compile warning 4250 "inheritance by dominance" on Windows Visual Studio 2013. #MsgLength=93


----
Modified: src/qpid/broker/LossyLvq.h|11 0

Revision: 9b12345081c952d4f32fafde5409d7bed4808d59
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2015 05:49:43
Message:
QPID-6324: refine previous fix such that no explicit reliability setting on durable subscription results in timeout by default #MsgLength=127


----
Modified: src/qpid/client/amqp0_10/AddressResolution.cpp|2 2

Revision: a5976c01865706e973270626028baad89fbb8854
Author: Gordon Sim <gsim@apache.org>
Date: 10/02/2015 05:49:49
Message:
NON_JIRA: remove over-cautious assertion #MsgLength=41


----
Modified: src/qpid/NullSaslServer.cpp|0 1

Revision: bee794dfa56acb95c579f76a9992ccc44b653e26
Author: Stephen D. Huston <shuston@apache.org>
Date: 11/02/2015 00:32:52
Message:
NO-JIRA - refer to OutgoingMessage as 'class' not 'struct' to match its actual definition. Fixes VC12 compile warning. #MsgLength=119


----
Modified: src/qpid/client/amqp0_10/SenderImpl.h|1 1

Revision: 6dafb16d9f76ae04008b4feb24ae5178cd93d414
Author: Justin Ross <jross@apache.org>
Date: 11/02/2015 03:10:49
Message:
QPID-5703: Quiet the code generators #MsgLength=37


----
Modified: managementgen/qmfgen/generate.py|5 1
Modified: rubygen/amqpgen.rb|7 2

Revision: 80070618a0e22c05751a998011741f616536a61f
Author: Justin Ross <jross@apache.org>
Date: 12/02/2015 04:43:53
Message:
QPID-6347: Remove the now obsolete queue_event_generation option; this is a patch from Irina Boverman #MsgLength=102


----
Modified: src/qpid/client/QueueOptions.cpp|0 7
Modified: src/qpid/client/QueueOptions.h|0 22

Revision: 9ccd25768fcc1c3171bb57aacb2e1dfa9227a9de
Author: Kim van der Riet <kpvdr@apache.org>
Date: 17/02/2015 23:59:50
Message:
QPID-6394 Make linearstore the default store for linux builds #MsgLength=62


----
Modified: src/legacystore.cmake|1 1
Modified: src/linearstore.cmake|1 1

Revision: 75f0c03ef20afb8bd41864d26c3729eb31502985
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/02/2015 03:18:00
Message:
QPID-6394 [linearstore] Make linearstore the default store for linux builds - Fixed incorrect status messages #MsgLength=110


----
Modified: src/legacystore.cmake|1 1
Modified: src/linearstore.cmake|1 1

Revision: f582f1662f8074799e085050688711a8efeb8b8d
Author: Gordon Sim <gsim@apache.org>
Date: 19/02/2015 07:19:12
Message:
QPID-6389: ensure source/target is null when responding to attach requests in which they are also null #MsgLength=103


----
Modified: src/qpid/broker/amqp/Session.cpp|2 0

Revision: adf0f4238c809d2518ab941b0e0ef01d31d2becb
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/02/2015 08:24:31
Message:
Add missing AIX-needed SystemInfo.cpp source; relates to QPID-6312, 0003 attachment #MsgLength=84


----
Added: src/qpid/sys/aix/SystemInfo.cpp|205 0

Revision: b2351c6093017cb2746e34e44a3f0ec0b9542613
Author: Stephen D. Huston <shuston@apache.org>
Date: 22/02/2015 08:27:37
Message:
Replace non-Apache licensed CheckSizeTNativeType.cmake with ASF-licensed and more correct for our needs, CheckSizetDistinct.cmake. Resolves QPID-6312. #MsgLength=151


----
Deleted: CMakeModules/CheckSizeTNativeType.cmake|0 59
Added: CMakeModules/CheckSizetDistinct.cmake|56 0
Modified: src/CMakeLists.txt|2 2
Modified: src/config.h.cmake|1 1
Modified: src/qpid/Options.cpp|1 1

Revision: c9e840d3dbc501654b1143f045b7379bac77c2b2
Author: Stephen D. Huston <shuston@apache.org>
Date: 24/02/2015 09:51:14
Message:
Don't take the address of a 0-length vector. Fixes QPID-6409. #MsgLength=62


----
Modified: src/tests/BrokerFixture.h|7 5

Revision: 9b12753451ceab110e71eb69641b4755cc34ff5a
Author: Stephen D. Huston <shuston@apache.org>
Date: 25/02/2015 00:59:31
Message:
Fix up/remove pasted comments re Linux per Andrew's review comments in review for QPID-6312 #MsgLength=92


----
Modified: src/qpid/sys/aix/SystemInfo.cpp|0 4

Revision: 5bbd5902ba54cb9cc37c6bd7c6213431e2f27f17
Author: Alan Conway <aconway@apache.org>
Date: 25/02/2015 23:49:53
Message:
QPID-6413: Sporadic failure of HA tests causd by maxNegotiateTimeout #MsgLength=1258


----
Modified: src/qpid/sys/AsynchIOHandler.cpp|7 4
Modified: src/tests/ha_test.py|11 11

Revision: d9a2acb8cf46caccdc9abcdeebea385484786019
Author: Alan Conway <aconway@apache.org>
Date: 26/02/2015 01:17:15
Message:
QPID-6414: Skip HA tests if qpid-ha or qpid-config tools are not available. #MsgLength=76


----
Modified: src/tests/brokertest.py|0 1
Modified: src/tests/ha_test.py|16 7
Modified: src/tests/ha_tests.py|8 6

Revision: 8e6f34e3ae91ddc0bbb36200f2b598b426b98b78
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2015 01:52:40
Message:
QPID-6415: Core dump in ha_tests and interlink_tests with proton 0.9 #MsgLength=144


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1

Revision: 75a4fae11b8c9d73c9a0b02e5e9393bfa94f8b23
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2015 02:23:34
Message:
QPID-6415: Core dump in ha_tests and interlink_tests with proton 0.9 (missed) #MsgLength=193


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 1
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1

Revision: 6c4b14db5e51622b81beb212788e821b110cc604
Author: Alan Conway <aconway@apache.org>
Date: 27/02/2015 05:57:57
Message:
QPID-6415: Core dump in ha_tests and interlink_tests with proton 0.9 (test fix) #MsgLength=116


----
Modified: src/tests/interlink_tests.py|1 0

Revision: ffd9c3c660b1a785fa70eb80791b60e73a5821a5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 27/02/2015 07:06:31
Message:
NO-JIRA: Avoid outputting the build type more than once #MsgLength=56


----
Modified: CMakeLists.txt|1 2

Revision: c790a682d828587fede1358be5634132dff5f8fe
Author: Alan Conway <aconway@apache.org>
Date: 28/02/2015 00:37:06
Message:
QPID-4710: [AMQP 1.0] Support for transactions in qpid::messaging C++ client. #MsgLength=2540


----
Modified: include/qpid/types/Variant.h|42 3
Modified: src/amqp.cmake|2 0
Modified: src/qpid/Url.cpp|4 2
Modified: src/qpid/amqp/CharSequence.cpp|1 1
Modified: src/qpid/amqp/Descriptor.cpp|84 13
Modified: src/qpid/amqp/Descriptor.h|2 0
Modified: src/qpid/amqp/Encoder.cpp|33 4
Modified: src/qpid/amqp/Encoder.h|23 2
Modified: src/qpid/amqp/descriptors.h|5 0
Modified: src/qpid/broker/Queue.cpp|2 0
Modified: src/qpid/broker/amqp/Exception.h|2 1
Modified: src/qpid/broker/amqp/Incoming.cpp|2 1
Modified: src/qpid/broker/amqp/Outgoing.cpp|3 2
Modified: src/qpid/broker/amqp/Session.cpp|76 44
Modified: src/qpid/broker/amqp/Session.h|13 4
Modified: src/qpid/client/ConnectionHandler.cpp|1 1
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|4 4
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|148 92
Modified: src/qpid/messaging/amqp/ConnectionContext.h|29 4
Modified: src/qpid/messaging/amqp/PnData.cpp|56 28
Modified: src/qpid/messaging/amqp/PnData.h|15 14
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|8 6
Modified: src/qpid/messaging/amqp/SenderContext.cpp|44 17
Modified: src/qpid/messaging/amqp/SenderContext.h|34 20
Modified: src/qpid/messaging/amqp/SenderHandle.cpp|2 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|61 8
Modified: src/qpid/messaging/amqp/SessionContext.h|10 1
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|2 2
Added: src/qpid/messaging/amqp/Transaction.cpp|155 0
Added: src/qpid/messaging/amqp/Transaction.h|95 0
Modified: src/qpid/types/Variant.cpp|156 110
Modified: src/qpid/types/encodings.h|2 0
Modified: src/tests/CMakeLists.txt|5 0
Modified: src/tests/Variant.cpp|21 3
Modified: src/tests/brokertest.py|36 9
Modified: src/tests/ha_test.py|1 1
Modified: src/tests/ha_tests.py|12 9
Added: src/tests/interop_tests.py|220 0
Modified: src/tests/qpid-receive.cpp|5 4
Modified: src/tests/qpid-send.cpp|11 10
Modified: src/tests/qpid-txtest2.cpp|3 2
Modified: src/tests/swig_python_tests|4 3
Modified: src/tests/test_env.sh.in|8 8
Modified: src/tests/test_store.cpp|5 14

Revision: 4a9de4669fd786c7e5c5dd52b6a5b7e9adcc939e
Author: Stephen D. Huston <shuston@apache.org>
Date: 04/03/2015 07:09:54
Message:
Fix possible double-free discussed in QPID-6368 #MsgLength=48


----
Modified: src/qpid/broker/PersistableQueue.h|3 4

Revision: 42b674d6807f76d2043f81ca654e79d9aa646e4a
Author: Gordon Sim <gsim@apache.org>
Date: 05/03/2015 05:02:16
Message:
QPID-4710: adjust version checking used by new tx interop tests so as not to fail existing tests when either ptoron python lib is not on path or is 0.7 or earlier #MsgLength=163


----
Modified: src/tests/brokertest.py|16 3

Revision: 21ce3b97dd38ee7c016635e12ea1e7a9642d389f
Author: Pavel Moravec <pmoravec@apache.org>
Date: 05/03/2015 19:37:35
Message:
QPID-6397: [C++ broker] segfault when processing QMF method during periodic processing #MsgLength=87


----
Modified: src/qpid/management/ManagementAgent.cpp|3 1

Revision: 5dd600a18327122d32609607b5f7bfdcb209933c
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2015 04:44:49
Message:
QPID-6427: Fixed unit test build problem on RHEL 5. #MsgLength=126


----
Modified: src/tests/Variant.cpp|7 3

Revision: 83c3a3ad6b542537e48d797e21097ed83bccc67d
Author: Alan Conway <aconway@apache.org>
Date: 06/03/2015 06:32:00
Message:
QPID-6427: Problem building trunk qpid cpp on RHEL 5 #MsgLength=149


----
Modified: src/qpid/broker/amqp/Session.cpp|2 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 2
Modified: src/qpid/messaging/amqp/ReceiverContext.h|1 1
Modified: src/qpid/messaging/amqp/SenderContext.h|1 1

Revision: 23ac0ed3d12c7f10dbe5fbd920fcfda748450dea
Author: Gordon Sim <gsim@apache.org>
Date: 12/03/2015 01:58:52
Message:
QPID-6444: remove unused functions #MsgLength=35


----
Modified: src/qpid/broker/amqp/Connection.cpp|0 10
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|0 7

Revision: 9e4de2c42c9b9bc133abb8a236456c81fa1b3ce8
Author: Keith Wall <kwall@apache.org>
Date: 12/03/2015 23:41:46
Message:
QPID-6429, QPID-6262, QPID-5818: [Java Broker] Utilise NIO, service connections using a thread pool, AMQP model mutating actions should use task executors #MsgLength=190


----

Revision: 0a400668faae9ad7bcfe5e9f56374f40064c3c8a
Author: Stephen D. Huston <shuston@apache.org>
Date: 18/03/2015 00:15:37
Message:
Align run_test shell and Powershell versions. Changes the option syntax from two-hyphen to one. Fixes QPID-6399. #MsgLength=113


----
Modified: src/tests/CMakeLists.txt|12 12
Modified: src/tests/run_test|23 23
Modified: src/tests/run_test.ps1|123 29
Modified: src/tests/test_env.ps1.in|7 5

Revision: e5c5cc3e8a390c0ca497e7f72177a4493d60a093
Author: Charles E. Rolke <chug@apache.org>
Date: 26/03/2015 02:59:46
Message:
QPID-6463: Adjust for changes between proton 0.8 and 0.9: test that items exist before trying to delete them #MsgLength=110


----
Modified: bld-winsdk.ps1|4 1

Revision: 0d4da75e71c35a0752e8f2acbc3a47bac04c11f1
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2015 02:47:00
Message:
NO-JIRA: Fix race condition in HA tests, remove useless test. #MsgLength=62


----
Modified: src/tests/ha_tests.py|6 21

Revision: 6275d510ae2570fe55b649fed792eefb2b9b0936
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2015 02:47:03
Message:
QPID-6470: FieldValue::getFloatingPointValue() converts endian each time it is called. #MsgLength=761


----
Modified: src/qpid/framing/Endian.cpp|1 1
Modified: src/qpid/framing/Endian.h|1 1
Modified: src/qpid/framing/FieldValue.cpp|1 1
Modified: src/qpid/framing/FieldValue.h|6 6
Modified: src/tests/FieldValue.cpp|36 34

Revision: 9045762f50cc667d036cc3f3c756b4a74843e09e
Author: Alan Conway <aconway@apache.org>
Date: 04/04/2015 02:59:47
Message:
QPID-6399: Fix store tests for run_test option syntax change. #MsgLength=62


----
Modified: src/tests/legacystore/CMakeLists.txt|3 3
Modified: src/tests/linearstore/CMakeLists.txt|1 1

Revision: 227fcd6bfbf8ad451f01be3708f0e646aff008bc
Author: Charles E. Rolke <chug@apache.org>
Date: 06/04/2015 20:50:11
Message:
QPID-6470: fix stray letters from commit 1671125 #MsgLength=51


----
Modified: src/tests/FieldValue.cpp|1 1

Revision: 1744b10d37878a6d27b76cb11d2e404ec9aa3358
Author: Gordon Sim <gsim@apache.org>
Date: 10/04/2015 21:06:52
Message:
QPID-6484: check for non-existent error description #MsgLength=52


----
Modified: src/amqp.cmake|2 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|12 30
Modified: src/qpid/messaging/amqp/SenderContext.cpp|4 9
Added: src/qpid/messaging/amqp/util.cpp|43 0
Added: src/qpid/messaging/amqp/util.h|36 0

Revision: 324fcf42ad8c3b4f5820a66469413dcc40958fd4
Author: Charles E. Rolke <chug@apache.org>
Date: 16/04/2015 01:52:32
Message:
QPID-6493: cmake install TARGET component syntax error. Patch from Scott M Stark. Reviewed at https://reviews.apache.org/r/33195 #MsgLength=437


----
Modified: BuildInstallSettings.cmake|1 2
Modified: src/CMakeLists.txt|25 32

Revision: b789aeb3736ae1d86850e90d20cd93433ac6bfd6
Author: Gordon Sim <gsim@apache.org>
Date: 16/04/2015 04:18:55
Message:
QPID-6492: make sure local terminus is null in the attache we send back if it will be immediately followed by a detach due to error #MsgLength=132


----
Modified: src/qpid/broker/amqp/Session.cpp|12 2

Revision: 47f070a1c7aec7e2c8cd58ef23f7ae54631c1e3d
Author: Alan Conway <aconway@apache.org>
Date: 17/04/2015 03:04:23
Message:
QPID-6470: Fix float conversion problems. #MsgLength=367


----
Modified: src/CMakeLists.txt|0 1
Deleted: src/qpid/framing/Endian.cpp|0 52
Modified: src/qpid/framing/Endian.h|47 15
Modified: src/qpid/framing/FieldTable.cpp|0 1
Modified: src/qpid/framing/FieldValue.cpp|49 22
Modified: src/qpid/framing/FieldValue.h|49 51
Modified: src/tests/FieldTable.cpp|4 4
Modified: src/tests/FieldValue.cpp|18 17

Revision: 3a4cfbab58fde2c0800d44f144f3ddfbf10d9ee8
Author: Alan Conway <aconway@apache.org>
Date: 28/04/2015 00:52:27
Message:
NO-JIRA: Add log command to qpid-config to set log levels. #MsgLength=204


----
Modified: src/qpid/log/Logger.cpp|6 4

Revision: ef9048d611a6d1cc86542c7ebe2bd532ebe29c3d
Author: Pavel Moravec <pmoravec@apache.org>
Date: 30/04/2015 21:29:34
Message:
QPID-6524:  [C++ broker]: Fix for QPID-5107 incomplete for queues #MsgLength=66


----
Modified: src/qpid/broker/Queue.cpp|3 0

Revision: e8ca49e223a0d99c211b05aeb44d9f7bcb3c7af4
Author: Gordon Sim <gsim@apache.org>
Date: 30/04/2015 23:42:28
Message:
QPID-6521: ensure messages received presettled by peer are settled locally; thanks to Alan Conway for the working patch! #MsgLength=121


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|0 1
Modified: src/qpid/messaging/amqp/SessionContext.cpp|6 2

Revision: 6cfc8d2a7e8a9d56c305e7f63d2f35cc1e539921
Author: Gordon Sim <gsim@apache.org>
Date: 01/05/2015 04:39:39
Message:
QPID-6526: make sure that the creation of proton links is done with the lock held #MsgLength=82


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|37 2
Modified: src/qpid/messaging/amqp/ConnectionContext.h|7 2
Modified: src/qpid/messaging/amqp/SessionHandle.cpp|6 18

Revision: 8f9ab0fc88460acd3dc4e26d41ded5274f1185b6
Author: Gordon Sim <gsim@apache.org>
Date: 02/05/2015 02:00:04
Message:
QPID-6526: fix to last commit, lock needs to be held for attach #MsgLength=64


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|4 1

Revision: fec8496a7ace8d53d3fb80ef7668917c84156fb0
Author: Charles E. Rolke <chug@apache.org>
Date: 02/05/2015 04:48:56
Message:
QPID-6511: AMQP 0.10 windows clients cannot connect to no-auth qpidd broker. #MsgLength=386


----
Modified: src/qpid/client/windows/SaslFactory.cpp|14 4

Revision: 8177b3c95258e0f07fea48e88df5d3b68c373526
Author: Charles E. Rolke <chug@apache.org>
Date: 05/05/2015 04:41:59
Message:
QPID-6529: Fix version number comparison for 0.9 -> 0.10 transition. #MsgLength=71


----
Modified: src/amqp.cmake|6 6

Revision: d8894cffbdd8e9233501622ade1e5f04f43bbba7
Author: Gordon Sim <gsim@apache.org>
Date: 07/05/2015 05:11:45
Message:
QPID-6532: make sasl service name configurable #MsgLength=47


----
Modified: src/qpid/SaslFactory.cpp|7 6
Modified: src/qpid/SaslFactory.h|1 1
Modified: src/qpid/broker/Broker.cpp|8 0
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/BrokerOptions.h|1 0
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 1
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|1 1
Modified: src/qpid/client/windows/SaslFactory.cpp|1 1

Revision: b56ad892898e7ca473314fb7d97124952466a263
Author: Alan Conway <aconway@apache.org>
Date: 08/05/2015 02:07:02
Message:
NO-JIRA: Fix floating point FieldValue tests to work on older compilers/boost versions. #MsgLength=278


----
Modified: src/tests/FieldValue.cpp|8 8

Revision: 1771160992d1ee4535b74ef97581b8233d13ad57
Author: Charles E. Rolke <chug@apache.org>
Date: 13/05/2015 01:31:20
Message:
QPID-6537: [Windows warning] avoid implicit conversion double->float #MsgLength=71


----
Modified: src/tests/FieldValue.cpp|3 3

Revision: fc5bd95fa2a616bae23388a0de10c50ecc62e95d
Author: Charles E. Rolke <chug@apache.org>
Date: 13/05/2015 02:14:52
Message:
QPID-6537: [windows warning] adjust definition of Handle operators #MsgLength=289


----
Modified: src/qpid/client/Handle.h|5 4

Revision: faafdaac2a58641ca263abfacd0f641518eadc95
Author: Gordon Sim <gsim@apache.org>
Date: 15/05/2015 20:54:49
Message:
NO-JIRA: make qpid-send send as string not binary #MsgLength=50


----
Modified: src/tests/qpid-send.cpp|11 2

Revision: 14bda75f0c38d3b1210a28aa707e49c67d8bf3a9
Author: Alan Conway <aconway@apache.org>
Date: 20/05/2015 07:27:36
Message:
NO-JIRA: Fix test bugs in ha_tests and interop_test #MsgLength=152


----
Modified: src/tests/ha_tests.py|2 0
Modified: src/tests/interop_tests.py|1 1

Revision: b37a2ec984610747bfe89bed72e98f2bb82627d8
Author: Gordon Sim <gsim@apache.org>
Date: 20/05/2015 15:58:04
Message:
NO-JIRA: fix tests for python 2.4 #MsgLength=34


----
Modified: src/tests/idle_timeout_tests.py|2 2

Revision: d5707af8d74c5ef1bfd48c5c83fe688b19b93080
Author: Alan Conway <aconway@apache.org>
Date: 20/05/2015 20:59:46
Message:
QPID-6548: SYSV init scripts do not work properly wiht SSL-only broker. #MsgLength=519


----
Modified: etc/qpidd.in|4 7
Modified: src/posix/QpiddBroker.cpp|43 17

Revision: 0988069f071b761758218fd7cfd887a1989e1896
Author: Alan Conway <aconway@apache.org>
Date: 20/05/2015 20:59:52
Message:
QPID-6549: `service qpidd status` returns 1 - hidden error is "ConnectionError: connection-forced: Connection must be encrypted.(320)" #MsgLength=426


----
Modified: etc/qpidd.in|26 22

Revision: bbc5ffef528684f1cb50e1a6df2014eebf3371a3
Author: Pavel Moravec <pmoravec@apache.org>
Date: 21/05/2015 20:48:30
Message:
QPID-6551: [C++ broker]: linearstore raising JERR_LFCR_SEQNUMNOTFOUND after sending many DTX transactions #MsgLength=106


----
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|8 8
Modified: src/qpid/linearstore/journal/LinearFileController.h|7 7
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|6 6
Modified: src/qpid/linearstore/journal/txn_map.cpp|2 2
Modified: src/qpid/linearstore/journal/txn_map.h|2 2
Modified: src/qpid/linearstore/journal/wmgr.cpp|4 4

Revision: fef2b7bbe0114f8bd43ccf5a886bee82cc484a95
Author: Gordon Sim <gsim@apache.org>
Date: 27/05/2015 21:02:52
Message:
NO-JIRA: relax check when auth=no #MsgLength=34


----
Modified: src/qpid/broker/ConnectionHandler.cpp|1 1

Revision: 2a634c58c73fab517dc141cb0ce69d0ac54bd04f
Author: Gordon Sim <gsim@apache.org>
Date: 29/05/2015 20:25:00
Message:
QPID-6559: add PLAIN support for NullSaslClient #MsgLength=48


----
Modified: src/qpid/NullSaslClient.cpp|16 6
Modified: src/qpid/NullSaslClient.h|4 0
Modified: src/qpid/SaslFactory.cpp|2 2

Revision: f771e5814e3748d4ec4c52ff8724b9ec3da3a045
Author: Charles E. Rolke <chug@apache.org>
Date: 29/05/2015 21:53:19
Message:
NO-JIRA: remove unused strings. ConnectionHandler no longer (since 2008-05-21) deals directly with auth. #MsgLength=107


----
Modified: src/qpid/broker/ConnectionHandler.cpp|0 2

Revision: 4996befe66b8b3b4b0a27d9c639603bcbabe2949
Author: Ken Giusti <kgiusti@apache.org>
Date: 04/06/2015 00:04:07
Message:
QPID-6563: free sessions and links that have completely closed #MsgLength=63


----
Modified: src/qpid/broker/amqp/Connection.cpp|8 2

Revision: 023cc8e57a36313af198a20af7efd25d6bb8fe9e
Author: Gordon Sim <gsim@apache.org>
Date: 10/06/2015 22:21:53
Message:
QPID-6392: handle detach event #MsgLength=31


----
Modified: src/qpid/broker/amqp/Connection.cpp|12 3
Modified: src/qpid/broker/amqp/Connection.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|3 3
Modified: src/qpid/broker/amqp/Session.h|1 1

Revision: 91aa6224e68aad9e52cece25489eebe1cec5ab15
Author: Ernest Allen <eallen@apache.org>
Date: 11/06/2015 01:11:49
Message:
QPID-6297: Python client should reconnect after network glitch #MsgLength=63


----
Modified: src/qpid/broker/SessionManager.cpp|2 3

Revision: a0478be199514dacc69094ec01fd556f69132c70
Author: Robert Gemmell <robbie@apache.org>
Date: 13/06/2015 00:13:54
Message:
NO-JIRA: bump the version file numbers #MsgLength=39


----
Modified: QPID_VERSION.txt|1 1

Revision: 7d336fea05f3ab65a5b5d7fd38cb27e7e228aba8
Author: Ken Giusti <kgiusti@apache.org>
Date: 15/06/2015 22:17:00
Message:
QPID-6568: bump the minimum supported proton to 0.7 #MsgLength=52


----
Modified: src/amqp.cmake|1 5
Modified: src/config.h.cmake|0 1
Modified: src/qpid/broker/amqp/Connection.cpp|1 7
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 7

Revision: 032d62c0fee2b50dc23d9f73bbbd1ade51a974ad
Author: Gordon Sim <gsim@apache.org>
Date: 15/06/2015 23:16:31
Message:
QPID-6392: detach not support until after proton 0.7 #MsgLength=53


----
Modified: src/qpid/broker/amqp/Connection.cpp|3 0

Revision: 5647a66a079c7710dd2b8bb938e8815b2cd62fd5
Author: Ken Giusti <kgiusti@apache.org>
Date: 17/06/2015 20:08:35
Message:
QPID-6592: include identifying information in the connection handshake #MsgLength=320


----
Modified: src/qpid/broker/ConnectionHandler.cpp|6 0
Modified: src/qpid/broker/ConnectionHandler.h|2 0
Modified: src/qpid/broker/amqp/Connection.cpp|26 0

Revision: 0702f992c136391e2c404684d79be3419675c50d
Author: Gordon Sim <gsim@apache.org>
Date: 18/06/2015 01:08:55
Message:
QPID-6256: Improved handling of protocol version incompatibilities #MsgLength=728


----
Modified: etc/qpidc.conf|3 0
Modified: include/qpid/messaging/exceptions.h|5 0
Modified: src/qpid/Exception.h|4 0
Modified: src/qpid/client/Connection.cpp|1 1
Modified: src/qpid/client/ConnectionImpl.cpp|7 2
Modified: src/qpid/client/Connector.cpp|22 0
Modified: src/qpid/client/Connector.h|7 0
Modified: src/qpid/client/RdmaConnector.cpp|10 11
Modified: src/qpid/client/SslConnector.cpp|9 15
Modified: src/qpid/client/TCPConnector.cpp|9 15
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 0
Modified: src/qpid/framing/ProtocolInitiation.h|1 0
Modified: src/qpid/messaging/Connection.cpp|15 14
Modified: src/qpid/messaging/ConnectionImpl.h|5 0
Modified: src/qpid/messaging/ProtocolRegistry.cpp|134 7
Modified: src/qpid/messaging/ProtocolRegistry.h|3 1
Modified: src/qpid/messaging/exceptions.cpp|1 0

Revision: d420d7b1838fdd45a1fc939ec406630ea20f7cc6
Author: Robert Gemmell <robbie@apache.org>
Date: 19/06/2015 23:59:58
Message:
NO-JIRA: update the year in NOTICE file #MsgLength=40


----
Modified: NOTICE|1 1

Revision: 3cfa571c1ce6de4d5b99c70685f5b532841fcb24
Author: Gordon Sim <gsim@apache.org>
Date: 20/06/2015 02:09:33
Message:
QPID-6602: remove extraneous replenishment of credit (that is done by the call to get already) #MsgLength=95


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|0 5

Revision: 41e72104feaccea3be8252375d8f4686c190c052
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2015 00:51:14
Message:
QPID-6256: fix for conversion error on some versions of boost #MsgLength=62


----
Modified: src/qpid/client/Connector.cpp|1 1

Revision: c91d74ebe97fde6bf9c3ef31623ed13eb2a1500c
Author: Robert Gemmell <robbie@apache.org>
Date: 25/06/2015 19:00:15
Message:
NO-JIRA: update version numbers/dates #MsgLength=38


----
Modified: QPID_VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1

Revision: b1325f2e34428bf6b4080715ea9b81f5a0353b15
Author: Charles E. Rolke <chug@apache.org>
Date: 02/07/2015 05:17:40
Message:
QPID-6611: Getting Visual Studio executables to run from where they are built. Leaving cmake as-is, this patch adds current VS build folder to the PATH. It further adds an arg to make-install.bat to select a build configuration: #MsgLength=231


----
Modified: bindings/qpid/dotnet/configure-windows.ps1|10 3

Revision: a669bd9c47615a08f39cfa9b4f3a8b4650a44da5
Author: Charles E. Rolke <chug@apache.org>
Date: 14/07/2015 02:24:41
Message:
QPID-6640: Adjust cmake 3.x generator name detection #MsgLength=53


----
Modified: bindings/qpid/dotnet/CMakeLists.txt|3 6

Revision: 9e2ff7e028be2c1dc1670acf5e8500139769bbea
Author: Charles E. Rolke <chug@apache.org>
Date: 14/07/2015 04:49:48
Message:
QPID-6641: Update Windows SDK build for VS2013, Boost 1.58 Relax requirement for boost/include dir. Boost.org upstream builds don't have them. #MsgLength=144


----
Modified: bindings/qpid/dotnet/CMakeLists.txt|9 0
Modified: bindings/qpid/dotnet/configure-windows.ps1|13 3
Modified: bld-winsdk.ps1|13 4
Modified: src/CMakeLists.txt|2 1

Revision: e5b9f53323407741c0ca9e84a654e617645aee4d
Author: Gordon Sim <gsim@apache.org>
Date: 14/07/2015 16:23:37
Message:
QPID-6256: prevent unused local variable warning #MsgLength=49


----
Modified: src/qpid/client/ConnectionImpl.cpp|1 1

Revision: 73635e10f87f82ce69505042ecaa672ebf479f67
Author: Gordon Sim <gsim@apache.org>
Date: 14/07/2015 16:23:43
Message:
QPID-6639: delegate input as soon as authentication has succeeded (even if that has not yet been communicated to peer) #MsgLength=119


----
Modified: src/qpid/broker/amqp/Sasl.cpp|1 1

Revision: 19bc4ab677074e65c15472df1292633f0fee29f0
Author: Charles E. Rolke <chug@apache.org>
Date: 15/07/2015 04:13:07
Message:
QPID-6641: Step to Visual Studio 2012, Boost 1.55, CMake 2.8.11 #MsgLength=64


----
Modified: README-winsdk.txt|14 8

Revision: fd0d272181956d6e04311fa7a6e287a48077f7a0
Author: Stephen D. Huston <shuston@apache.org>
Date: 17/07/2015 05:54:11
Message:
Doc fixes per QPID-6648. #MsgLength=25


----
Modified: include/qpid/messaging/Receiver.h|23 23

Revision: e5b56767a68bd7d303e0ba3a05e8572a8423ab17
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2015 03:59:36
Message:
QPID-6654, QPID-6592: ensure system info ptr is valid before using it, and ensure it is valid even if management is disabled #MsgLength=125


----
Modified: src/qpid/broker/Broker.cpp|2 3
Modified: src/qpid/broker/ConnectionHandler.cpp|4 2
Modified: src/qpid/broker/amqp/Connection.cpp|8 6

Revision: 45fefa6593aefc5f893ab00d2080f0b51a861cca
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2015 03:59:42
Message:
QPID-6659: wait for full message before processing #MsgLength=51


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 1

Revision: 2ca510c8eea799f5fad6e3fe9e055b246e100db5
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2015 03:59:48
Message:
QPID-6660: don't try to process incoming delivery events for link that has been closed #MsgLength=87


----
Modified: src/qpid/broker/amqp/Connection.cpp|2 0

Revision: 91a58991710053e9145441c0e57e6480d171a649
Author: Gordon Sim <gsim@apache.org>
Date: 28/07/2015 19:06:41
Message:
QPID-6661: address some anomalies with heartbeats on the AMQP 1.0 path #MsgLength=235


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|2 1

Revision: 3c6780685e4568aaa3229d320bad3b1c838a8a6a
Author: Gordon Sim <gsim@apache.org>
Date: 29/07/2015 02:42:39
Message:
NO-JIRA: update hello world example to use recommended api for content manipulation #MsgLength=84


----
Modified: examples/messaging/hello_world.cpp|5 2

Revision: 7d25d1768eaa71d5aac2084d60d68eda45662059
Author: Charles E. Rolke <chug@apache.org>
Date: 29/07/2015 05:41:52
Message:
NO-JIRA: update hello world example to use recommended api for content manipulation Mirrors C++ example URL: http://svn.apache.org/r1693139 #MsgLength=140


----
Modified: bindings/qpid/dotnet/examples/csharp.example.helloworld/csharp.example.helloworld.cs|56 55

Revision: ff766d7df74d320062533fbb15d6fd491d475320
Author: Charles E. Rolke <chug@apache.org>
Date: 31/07/2015 03:46:36
Message:
QPID-6668: Update INSTALL-WINDOWS #MsgLength=184


----
Modified: INSTALL-WINDOWS|134 73

Revision: 66a64e37493e190c3a0b704d795414749dc9f9ae
Author: Alan Conway <aconway@apache.org>
Date: 05/08/2015 02:38:38
Message:
QPID-6577: HA - backup broker messages are larger than primary messages. #MsgLength=436


----
Modified: src/qpid/broker/MessageBuilder.cpp|5 2
Modified: src/qpid/broker/MessageBuilder.h|3 0
Modified: src/qpid/broker/SessionState.h|3 0
Modified: src/qpid/ha/QueueReplicator.cpp|5 0

Revision: fba3bbf8690036f1133381d721e81bcd9d8a88a7
Author: Charles E. Rolke <chug@apache.org>
Date: 06/08/2015 04:44:18
Message:
QPID-6680: .NET Binding allows UTF-8 string messages - patch from https://github.com/gaborsulyok #MsgLength=115


----
Modified: bindings/qpid/dotnet/src/Message.cpp|1 1
Modified: bindings/qpid/dotnet/src/QpidMarshal.h|17 0
Modified: bindings/qpid/dotnet/src/TypeTranslator.cpp|2 2
Modified: bindings/qpid/dotnet/test/messaging.test/messaging.test.message.cs|9 0

Revision: 6a90a3f1fa248fb3ebc4245c4d76b89c7acb5fa5
Author: Ken Giusti <kgiusti@apache.org>
Date: 18/08/2015 21:29:56
Message:
QPID-6698: use the monotonic clock for AMQP 1.0 idle timeout #MsgLength=61


----
Modified: src/qpid/broker/amqp/Connection.cpp|6 2
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|7 2

Revision: dae1e35f6dbd618c595f913a467a75d0f8d31cd8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/08/2015 15:32:48
Message:
QPID-6435: Restore decent error messages to the SSL code #MsgLength=57


----
Modified: src/qpid/sys/Socket.h|21 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|2 2
Modified: src/qpid/sys/posix/BSDSocket.cpp|19 4
Modified: src/qpid/sys/posix/BSDSocket.h|7 30
Modified: src/qpid/sys/ssl/SslSocket.cpp|11 4
Modified: src/qpid/sys/ssl/SslSocket.h|6 21
Modified: src/qpid/sys/windows/WinSocket.cpp|5 0
Modified: src/qpid/sys/windows/WinSocket.h|2 0

Revision: 82c22e6bf926c12d06cd1d7447818b8a4297c514
Author: Andrew Stitcher <astitcher@apache.org>
Date: 20/08/2015 15:32:52
Message:
NO-JIRA: Trivial update to work with changed Boost 1.59 Test library. #MsgLength=70


----
Modified: src/tests/exception_test.cpp|1 1

Revision: 07b6997d217dd733a49c4773bf593e4da6a4435b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 22/08/2015 07:08:54
Message:
NO-JIRA: Fix RPATH setting for rpm builds which set absolute paths - specifically matters for the LIB_INSTALL_DIR which is also used to set the RPATH in some circumstances. #MsgLength=175


----
Modified: BuildInstallSettings.cmake|4 3

Revision: ac6c2a2993be1a2f68d238bf20f6967365c4635c
Author: Gordon Sim <gsim@apache.org>
Date: 29/08/2015 06:16:27
Message:
QPID-6714: support for JMS header names in selectors, plus support for to, replyto and subject #MsgLength=95


----
Modified: src/qpid/broker/Message.cpp|13 0
Modified: src/qpid/broker/Message.h|8 0
Modified: src/qpid/broker/Selector.cpp|47 4
Modified: src/qpid/broker/amqp/Message.cpp|23 5
Modified: src/qpid/broker/amqp/Message.h|5 1
Modified: src/qpid/broker/amqp/Translation.cpp|1 1
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|38 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|4 0

Revision: aa4f1df4cf22295cdc9bebdc4dcccfc5e53b25d1
Author: Gordon Sim <gsim@apache.org>
Date: 29/08/2015 06:16:34
Message:
QPID-6391: add support for no-local filter #MsgLength=43


----
Modified: src/qpid/amqp/descriptors.h|2 0
Modified: src/qpid/broker/amqp/Filter.cpp|16 1
Modified: src/qpid/broker/amqp/Filter.h|2 0

Revision: 898314389f99650467a24b74df6f23df7c9fb7cd
Author: Gordon Sim <gsim@apache.org>
Date: 29/08/2015 06:16:40
Message:
QPID-6717: fix evaluation of BETWEEN and NOT IN when types are mismatched #MsgLength=74


----
Modified: src/qpid/broker/SelectorExpression.cpp|2 1

Revision: 92f2bc8e9ca7026a2f4999c743ffe635369b770d
Author: Gordon Sim <gsim@apache.org>
Date: 02/09/2015 06:27:52
Message:
QPID-6639: ensure all available data is decoded #MsgLength=48


----
Modified: src/qpid/broker/amqp/Sasl.cpp|13 9

Revision: 7078879376b8c5b930f09ae2035a16ff445e162e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2015 02:53:32
Message:
NO-JIRA: Remove unused function #MsgLength=32


----
Modified: src/qpid/broker/amqp/Translation.cpp|0 4

Revision: f49714d4224834bcc547a91c632fa31709f9afd2
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2015 02:53:36
Message:
QPID-6717: Unit tests to demonstrate the issue (or not!) #MsgLength=57


----
Modified: src/tests/Selector.cpp|17 0

Revision: 977e6c7d4341610600b43d825aa4606264fdfc4b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2015 02:53:39
Message:
Revert "QPID-6717: fix evaluation of BETWEEN and NOT IN when types are mismatched" #MsgLength=197


----
Modified: src/qpid/broker/SelectorExpression.cpp|1 2

Revision: ac9d77c099ee19f21b773c8e5565ac32a794de34
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2015 02:53:43
Message:
QPID-6717: Fix issue with BETWEEN comparisons when types don't match #MsgLength=69


----
Modified: src/qpid/broker/SelectorExpression.cpp|2 5

Revision: d9ecaca98d93ed033a3888964d97f07feb15eb85
Author: Andrew Stitcher <astitcher@apache.org>
Date: 03/09/2015 06:22:13
Message:
QPID-6718: Complete parsing for all styles of numeric literals #MsgLength=63


----
Modified: src/qpid/broker/SelectorExpression.cpp|63 8
Modified: src/qpid/broker/SelectorToken.cpp|50 3
Modified: src/tests/Selector.cpp|36 2

Revision: 2d6540fe75e179923f24ac85961c1a30e5514998
Author: Alan Conway <aconway@apache.org>
Date: 04/09/2015 02:59:05
Message:
QPID-5855 - Simplified HA transaction logic. #MsgLength=940


----
Modified: CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|0 6
Modified: src/qpid/broker/QueueFlowLimit.cpp|1 1
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|1 1
Modified: src/qpid/broker/windows/SslProtocolFactory.cpp|1 2
Modified: src/qpid/client/ConnectionSettings.cpp|1 1
Modified: src/qpid/ha/BrokerReplicator.cpp|1 9
Modified: src/qpid/ha/Event.cpp|0 8
Modified: src/qpid/ha/Event.h|0 94
Modified: src/qpid/ha/Primary.cpp|1 53
Modified: src/qpid/ha/Primary.h|0 22
Deleted: src/qpid/ha/PrimaryTxObserver.cpp|0 307
Deleted: src/qpid/ha/PrimaryTxObserver.h|0 133
Modified: src/qpid/ha/QueueReplicator.cpp|7 8
Modified: src/qpid/ha/RemoteBackup.cpp|0 1
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 21
Modified: src/qpid/ha/ReplicatingSubscription.h|1 6
Deleted: src/qpid/ha/TxReplicatingSubscription.cpp|0 45
Deleted: src/qpid/ha/TxReplicatingSubscription.h|0 50
Deleted: src/qpid/ha/TxReplicator.cpp|0 273
Deleted: src/qpid/ha/TxReplicator.h|0 136
Modified: src/qpid/ha/types.cpp|0 1
Modified: src/qpid/sys/SocketTransport.cpp|1 1
Modified: src/tests/ha_test.py|2 0
Modified: src/tests/ha_tests.py|18 188

Revision: 19a0981f4335284c14d1aab7d5f4b803b6e43eb6
Author: Andrew Stitcher <astitcher@apache.org>
Date: 04/09/2015 04:45:52
Message:
QPID-6718: Small fixes to compile on slightly older versions of G++ and Visual Studio #MsgLength=86


----
Modified: include/qpid/sys/posix/IntegerTypes.h|3 0
Modified: include/qpid/sys/windows/IntegerTypes.h|9 2
Modified: src/qpid/broker/SelectorExpression.cpp|3 2

Revision: 89debeb5036aee48d71883638fd7be072c37e232
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/09/2015 01:47:35
Message:
QPID-6717: Change Selector beaviour and tests to accord with consensus semantics - It seems to be the consensus amongst JMS Selector implementations that the NOT IN expression should return false if none of the types match #MsgLength=225


----
Modified: src/qpid/broker/SelectorExpression.cpp|53 8
Modified: src/qpid/broker/SelectorValue.cpp|3 3
Modified: src/qpid/broker/SelectorValue.h|4 0
Modified: src/tests/Selector.cpp|9 1

Revision: cf48f462c50ff760511eedf77ca4a05a3bf33c74
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/09/2015 01:47:40
Message:
NO-JIRA: Remove CMake warning message due to now deprecated if() construct #MsgLength=75


----
Modified: CMakeModules/CheckSizetDistinct.cmake|5 6

Revision: 93e190043488cb22f24290e9b8e135accfab300b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 10/09/2015 06:47:53
Message:
QPID-6730: Make the linearstore journal timeout configurable #MsgLength=61


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|10 7
Modified: src/qpid/linearstore/MessageStoreImpl.h|7 3

Revision: d3e3ec53f5a5be256c8e91b3ea81c4ddf53d3dd7
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/09/2015 22:14:01
Message:
NO-JIRA: Improve iostreams error reporting by passing errno to the function that checks the outcome of iostream operations. It is hard to find the value of errno in a core trace, but trivial to print it out at the time the error is detected. #MsgLength=242


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|8 6
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|2 1

Revision: 96413098d72fddc26b274600246a8d53dac893d5
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/09/2015 23:13:03
Message:
NO_JIRA: Updates to ISSUES file #MsgLength=32


----
Modified: src/qpid/linearstore/ISSUES|63 27

Revision: b210adfe0dbaeaf5892e2e84693dfcd19faee897
Author: Ken Giusti <kgiusti@apache.org>
Date: 13/10/2015 04:09:37
Message:
QPID-6783: dynamically determine SASL service name based on protocol #MsgLength=69


----
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/SaslAuthenticator.cpp|2 3
Modified: src/qpid/broker/amqp/Domain.cpp|5 1
Modified: src/qpid/broker/amqp/ProtocolPlugin.cpp|4 1
Modified: src/qpid/messaging/ConnectionOptions.cpp|4 0

Revision: ed85e2f5dce0010fba22f20b113e358b80528fa0
Author: Gordon Sim <gsim@apache.org>
Date: 27/10/2015 03:32:42
Message:
QPID-6790: ensure that asynchronous completion of incoming transfers does not result in trying to settle deliveries implicitly settled by the freeing of their link #MsgLength=164


----
Modified: src/qpid/broker/amqp/Incoming.cpp|1 0
Modified: src/qpid/broker/amqp/Session.cpp|41 5
Modified: src/qpid/broker/amqp/Session.h|6 1

Revision: dbb2e19b4972a25d4769c9a3f4b5399a0d74a8ad
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2015 04:31:55
Message:
QPID-6754: add support for null target #MsgLength=39


----
Modified: src/qpid/broker/amqp/Authorise.cpp|8 0
Modified: src/qpid/broker/amqp/Authorise.h|1 0
Modified: src/qpid/broker/amqp/Session.cpp|56 1
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|9 0
Modified: src/qpid/messaging/amqp/AddressHelper.h|1 0
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|1 1
Modified: src/qpid/messaging/amqp/SenderContext.cpp|1 1

Revision: 93096eabc87377c716220788d7c685f1ab81fcdb
Author: Gordon Sim <gsim@apache.org>
Date: 07/11/2015 04:32:27
Message:
QPID-6834: allow delete-on-close in queue policies #MsgLength=51


----
Modified: src/qpid/broker/QueueSettings.cpp|4 0
Modified: src/qpid/broker/amqp/Session.cpp|9 3
Modified: src/qpid/broker/amqp/Session.h|1 0

Revision: fb0e2bb49d44d70df117f2ec1d2fcec030c116fc
Author: Gordon Sim <gsim@apache.org>
Date: 10/11/2015 04:19:18
Message:
QPID-6754: distinguish between null target and null address (depends on PROTON-1043); add some docs; fix client to set address to null, not the whole target. #MsgLength=158


----
Modified: AMQP_1.0|17 0
Modified: src/qpid/broker/amqp/Connection.cpp|10 0
Modified: src/qpid/broker/amqp/Session.cpp|9 7
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|1 3

Revision: cfdcec82204e7ee57b8bb0262cfe4095711e468d
Author: Gordon Sim <gsim@apache.org>
Date: 19/11/2015 23:43:10
Message:
QPID-6870: qpidd does not at present have facility to track deliverability to individual links, so treat undeliverable-here as rejection #MsgLength=137


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|9 2

Revision: 913da45ef1962b621ab1b48a7f544813e68601d9
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2015 06:47:47
Message:
QPID-6754: some AMQP 1.0 based acl tests including for 'anonymous relay' pseudo-exchange #MsgLength=89


----
Added: src/tests/acl_1.py|378 0
Added: src/tests/mgmt_1.py|99 0
Modified: src/tests/policies.py|1 74
Modified: src/tests/swig_python_tests|4 2

Revision: 2aade693330c8c116402ceffd7a8cf251d6f8be9
Author: Gordon Sim <gsim@apache.org>
Date: 27/11/2015 06:48:55
Message:
QPID-6754: ensure anonymous-relay doesn't expose ability to detect whether or not entity exists for those without permissions #MsgLength=126


----
Modified: src/qpid/broker/amqp/Session.cpp|1 0
Modified: src/tests/acl_1.py|18 0

Revision: c804b2bb9b38ab52c557d7161e617e10fa01b68c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 02/12/2015 05:35:41
Message:
QPID-6924: Add in a case for PN_INVALID, but carry on doing nothing if we have no data #MsgLength=87


----
Modified: src/qpid/broker/amqp/DataReader.cpp|2 2

Revision: da340c79f8004375abafaf559e9d266cad4faa2c
Author: Gordon Sim <gsim@apache.org>
Date: 03/12/2015 03:38:15
Message:
QPID-6858: update swig type mapping to compile with both python 2 and 3 #MsgLength=72


----
Modified: include/qpid/swig_python_typemaps.i|19 15

Revision: 1a95044c692b7601a84ccc2e007e2d9538fbd6f8
Author: Andrew Stitcher <astitcher@apache.org>
Date: 05/12/2015 01:24:37
Message:
Fixup QPID-6924 to work if PN_INVALID is not legal as a case label #MsgLength=67


----
Modified: src/qpid/broker/amqp/DataReader.cpp|1 1

Revision: 1caa1d1cf464234f67f08b647ff227ce13ac12a7
Author: Pavel Moravec <pmoravec@apache.org>
Date: 05/01/2016 20:59:09
Message:
QPID-6966: C++ broker and client to support TLS1.1 and TLS1.2 by default #MsgLength=73


----
Modified: src/qpid/sys/ssl/util.cpp|10 5

Revision: b17718a367b4eae4c1c642aea8c785245a61b333
Author: Robert Gemmell <robbie@apache.org>
Date: 07/01/2016 00:08:41
Message:
NO-JIRA: update year in NOTICE files (for bits perhaps looking to get released soon, rest needs a tidy up). #MsgLength=108


----
Modified: NOTICE|1 1

Revision: 82e3f73e1a4d1a61e941529e9a713cad981806f2
Author: Gordon Sim <gsim@apache.org>
Date: 12/01/2016 18:00:49
Message:
NO-JIRA: initialise 'print' option to false #MsgLength=44


----
Modified: examples/messaging/spout.cpp|2 1

Revision: dbd1539261f53a355aea624d07c7bd1e6b87d037
Author: Gordon Sim <gsim@apache.org>
Date: 12/01/2016 18:00:56
Message:
NO-JIRA: remove trailing whitespace #MsgLength=36


----
Modified: examples/messaging/spout.cpp|3 3

Revision: 5931a8d4ec6d699c9b3a2d8372c419d361925fd5
Author: Gordon Sim <gsim@apache.org>
Date: 22/01/2016 05:06:01
Message:
QPID-7010: ignore updates on deliveries we have already settled #MsgLength=64


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|1 1

Revision: cdee8d7fbdf202f054685b1b5b8c38f24b66f2aa
Author: Pavel Moravec <pmoravec@apache.org>
Date: 24/01/2016 20:54:04
Message:
QPID-7020: uint16 AMQP0-10 message properties decoded as uint8 #MsgLength=63


----
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|1 1

Revision: 1bb6b6f588751a30a038aa810072acd43e4c41e0
Author: Kim van der Riet <kpvdr@apache.org>
Date: 26/01/2016 22:36:43
Message:
NO-JIRA: Added ability to build using Proton from built but not installed location #MsgLength=83


----
Modified: CMakeModules/FindProton.cmake|12 0

Revision: 03107348c800a8eb7b9a6f64c601146ea28836d4
Author: Gordon Sim <gsim@apache.org>
Date: 20/02/2016 07:00:25
Message:
QPID-7076: Avoid error with qpid-cpp-benchmark with 0 senders. Patch from yuelongguang@letv.com #MsgLength=96


----
Modified: src/tests/qpid-cpp-benchmark|6 3

Revision: 59e78f9916afebdec25628d10a1039bb7a92ca5a
Author: Gordon Sim <gsim@apache.org>
Date: 02/03/2016 20:36:08
Message:
QPID-7100: Don't divide by zero when nsubs is 0 in shared mode. Patch from yuelongguang@letv.com #MsgLength=97


----
Modified: src/tests/qpid-perftest.cpp|2 2

Revision: 56b8be352a0789fc86a35a4b89a5145faecb50e2
Author: Pavel Moravec <pmoravec@apache.org>
Date: 08/03/2016 03:48:18
Message:
QPID-7127: setting idle timeout to ffffffff fires ConnectionTicker with zero timeout #MsgLength=85


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 1

Revision: b7d0333889746e42ba623183f2ed83d4e0eb1b05
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:27:56
Message:
QPID-7130: [PATCH 1/5] qpid::messaging::Connection::getAuthenticatedUsername() now returns certificate nickname as authenticated username instead of dummy hardcoded string when using SSL authentication. #MsgLength=256


----
Modified: src/qpid/client/SslConnector.cpp|1 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|43 20
Modified: src/qpid/sys/ssl/SslSocket.h|1 0

Revision: 4f700a3f3b547f3db9a12108cd784cb83b6a1ca6
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:03
Message:
QPID-7130: [PATCH 2/5] Added getLocalAuthId to all socket classes. #MsgLength=119


----
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/posix/BSDSocket.cpp|5 0
Modified: src/qpid/sys/posix/BSDSocket.h|1 0
Modified: src/qpid/sys/windows/WinSocket.cpp|5 0
Modified: src/qpid/sys/windows/WinSocket.h|1 0

Revision: e20f8d679cda80287c3e354548e38fe139d4a68c
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:09
Message:
QPID-7130: [PATCH 3/5] Added virtual keyword to functions ~BSDSocket, getKeyLen and getClientAuthId to BSDSocket class since it is used as SslSocket parent class. #MsgLength=217


----
Modified: src/qpid/sys/posix/BSDSocket.h|3 3

Revision: 550cfdbf27cea9bfd33569a223ac7657bcc3bdef
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:16
Message:
QPID-7130: [PATCH 4/5] Added getPeerAuthId as an alias for getClientAuthId since the function returns client auth id on server side and server auth id on client side so the new name is more appropriate. #MsgLength=258


----
Modified: src/qpid/sys/Socket.h|1 0
Modified: src/qpid/sys/posix/BSDSocket.cpp|5 0
Modified: src/qpid/sys/posix/BSDSocket.h|1 0
Modified: src/qpid/sys/ssl/SslSocket.cpp|5 0
Modified: src/qpid/sys/ssl/SslSocket.h|1 0
Modified: src/qpid/sys/windows/WinSocket.cpp|5 0
Modified: src/qpid/sys/windows/WinSocket.h|1 0

Revision: 44bafa93b3881dc7f2d82061220226c394728af2
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:25
Message:
QPID-7130: [PATCH 5/5] Deleted old getClientAuthId function that was replaced by getPeerAuthId. #MsgLength=149


----
Modified: src/qpid/sys/Socket.h|0 1
Modified: src/qpid/sys/posix/AsynchIO.cpp|1 1
Modified: src/qpid/sys/posix/BSDSocket.cpp|0 5
Modified: src/qpid/sys/posix/BSDSocket.h|0 1
Modified: src/qpid/sys/ssl/SslSocket.cpp|0 5
Modified: src/qpid/sys/ssl/SslSocket.h|0 1
Modified: src/qpid/sys/windows/AsynchIO.cpp|1 1
Modified: src/qpid/sys/windows/WinSocket.cpp|0 5
Modified: src/qpid/sys/windows/WinSocket.h|0 1

Revision: f6a63f22cc80a8075ce872e52e3593350d6224bc
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:30
Message:
QPID-7130: added test for retrieving authenticated username when using ssl #MsgLength=75


----
Modified: src/tests/qpid-send.cpp|4 0
Modified: src/tests/ssl_test|6 0

Revision: 12c38f542afb59e418492ee36220060608cd91dd
Author: Gordon Sim <gsim@apache.org>
Date: 09/03/2016 05:28:36
Message:
QPID-7131: echo the snd-settle-mode requested by subscribers #MsgLength=61


----
Modified: src/qpid/broker/amqp/Session.cpp|1 0

Revision: 3537bdf363a740036c3253f5afbedb44443375d9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/03/2016 05:44:13
Message:
QPID-7137: Fix symbol export check to allow for new libstdc++ ABI #MsgLength=66


----
Modified: src/CMakeLists.txt|23 17
Modified: src/check-abi|3 46
Added: src/cppabi.cpp|32 0
Added: src/expand_types.cpp|58 0

Revision: de3f78a5215817d912cd318c05b6160e4f6b39ea
Author: Gordon Sim <gsim@apache.org>
Date: 11/03/2016 06:53:42
Message:
QPID-7134: ensure content object is reset when bytes are set #MsgLength=61


----
Modified: src/qpid/messaging/Message.cpp|10 4
Modified: src/tests/MessagingSessionTests.cpp|18 0

Revision: 5fb76fe7b6355ba122f28264c5e7bc0207d01b03
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:24
Message:
QPID-7148: Update CMake files to use better more modern style and features - This is already the way we do this stuff in Qpid Proton - Upgrade minimum version of CMake to 2.8.7 #MsgLength=177


----
Modified: CMakeLists.txt|19 28
Modified: bindings/qmf2/examples/cpp/CMakeLists.txt|1 4
Modified: docs/api/CMakeLists.txt|1 1
Modified: examples/CMakeLists.txt|1 4
Modified: examples/messaging/extra_dist/CMakeLists.txt|1 1
Modified: examples/winsdk-cmake/CMakeLists.txt|94 95
Modified: managementgen/CMakeLists.txt|2 2
Modified: src/msvc.cmake|138 149
Modified: src/tests/CMakeLists.txt|17 48
Modified: src/tests/legacystore/CMakeLists.txt|1 2

Revision: 75fe6ab6e36a9b3d4dbfbc9e84346ba95e10c5b5
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:28
Message:
QPID-7146: Fix function binding error #MsgLength=38


----
Modified: src/qpid/sys/rdma/RdmaClient.cpp|4 4
Modified: src/qpid/sys/rdma/RdmaServer.cpp|4 4

Revision: 730fef0a069a0c2552c5c2b5ffa3c1214494dcff
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:32
Message:
QPID-7146: Remove (via preprocessor) unused code #MsgLength=49


----
Modified: src/qpid/broker/DtxManager.cpp|2 0

Revision: 14b1755e7628fea62d860b19d30272bc1d58d43a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:35
Message:
QPID-7146: Fix indentation error picked up by compiler #MsgLength=55


----
Modified: src/qpid/broker/SessionManager.cpp|6 5

Revision: c2b6182386d680fc93ee9f5c04b78fd52cda032b
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:38
Message:
QPID-7145: Don't warn for using deprecated declarations (auto_ptr is now deprecated) #MsgLength=85


----
Modified: CMakeLists.txt|1 1

Revision: c9e1e3118a718a03ebdfb7cde201d895fe5a0f9d
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/03/2016 06:36:42
Message:
QPID-7147: Renamed bind to avoid clash with (new for C++11/14) std::bind - The compiler was finding std::bind in preference due to argument dependent lookup. #MsgLength=158


----
Modified: src/qpid/messaging/amqp/AddressHelper.cpp|17 17

Revision: 7857f0bdcf583ba3c7ab3f38ac0fc184b8d35b8f
Author: Alan Conway <aconway@apache.org>
Date: 17/03/2016 22:47:32
Message:
Bug 1318180 - HA memory leak in primary broker when overwriting messages in a ring queue #MsgLength=537


----
Modified: src/qpid/ha/ReplicatingSubscription.cpp|3 2

Revision: 14619e3b0c52a20a70175ce5b89f6fe18e580438
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2016 18:33:29
Message:
QPID-7134: ensure content object is reset when bytes are set #MsgLength=61


----
Modified: src/qpid/messaging/Message.cpp|2 2
Modified: src/tests/MessagingSessionTests.cpp|24 0

Revision: ff746fc2db402d8af92f1ca22abe2c2e4dcf7952
Author: Gordon Sim <gsim@apache.org>
Date: 30/03/2016 18:33:35
Message:
QPID-7171: allow disable-auto-decode to be set via env var or conf file #MsgLength=72


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|29 1

Revision: 753a9e4ebf604080bc06420371c3de7bf0938b52
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2016 00:13:24
Message:
QPID-7149: Active HA broker memory leak #MsgLength=511


----
Added: include/qpid/messaging/shutdown.h|38 0
Modified: src/CMakeLists.txt|1 0
Modified: src/qpid/client/ConnectionImpl.cpp|3 0
Modified: src/qpid/client/ConnectionImpl.h|3 0
Modified: src/qpid/ha/StatusCheck.cpp|18 5
Modified: src/qpid/ha/StatusCheck.h|4 1
Modified: src/qpid/messaging/amqp/DriverImpl.cpp|5 3
Added: src/qpid/messaging/shutdown.cpp|32 0

Revision: 2806a452719fe3ed3889ccaecec100ff0bbeb5db
Author: Alan Conway <aconway@apache.org>
Date: 06/04/2016 05:50:04
Message:
QPID-7149: Fixed messaging client shutdown. #MsgLength=133


----
Deleted: include/qpid/messaging/shutdown.h|0 38
Modified: src/CMakeLists.txt|0 1
Modified: src/qpid/client/ConnectionImpl.h|1 1
Modified: src/qpid/ha/StatusCheck.cpp|2 2
Modified: src/qpid/messaging/ProtocolRegistry.cpp|22 3
Modified: src/qpid/messaging/ProtocolRegistry.h|4 1
Modified: src/qpid/messaging/amqp/ConnectionHandle.cpp|6 1
Deleted: src/qpid/messaging/shutdown.cpp|0 32

Revision: d70ea81f29799caf4865ebdd93e0a87a609b29e2
Author: Justin Ross <jross@apache.org>
Date: 20/04/2016 07:11:13
Message:
QPID-7207: Remove files and components that are obsolete or no longer in use; move doc and packaging pieces to the cpp subtree #MsgLength=127


----
Added: docs/book/.gitignore|21 0
Added: docs/book/Makefile|38 0
Added: docs/book/src/Makefile.inc|63 0
Added: docs/book/src/common/css/style.css|279 0
Added: docs/book/src/cpp-broker/.gitignore|20 0
Added: docs/book/src/cpp-broker/AMQP-Compatibility.xml|713 0
Added: docs/book/src/cpp-broker/AMQP-Messaging-Broker-CPP-Book.xml|74 0
Added: docs/book/src/cpp-broker/Active-Passive-Cluster.xml|1229 0
Added: docs/book/src/cpp-broker/Cheat-Sheet-for-configuring-Exchange-Options.xml|144 0
Added: docs/book/src/cpp-broker/Cheat-Sheet-for-configuring-Queue-Options.xml|198 0
Added: docs/book/src/cpp-broker/HA-Queue-Replication.xml|126 0
Added: docs/book/src/cpp-broker/LVQ.xml|181 0
Added: docs/book/src/cpp-broker/Makefile|20 0
Added: docs/book/src/cpp-broker/Managing-CPP-Broker.xml|480 0
Added: docs/book/src/cpp-broker/QMF-Python-Console-Tutorial.xml|894 0
Added: docs/book/src/cpp-broker/Qpid-Interoperability-Documentation.xml|377 0
Added: docs/book/src/cpp-broker/Qpid-Management-Framework.xml|944 0
Added: docs/book/src/cpp-broker/Running-CPP-Broker.xml|846 0
Added: docs/book/src/cpp-broker/Security.xml|2516 0
Added: docs/book/src/cpp-broker/Using-Broker-Federation.xml|715 0
Added: docs/book/src/cpp-broker/Using-message-groups.xml|295 0
Added: docs/book/src/cpp-broker/producer-flow-control.xml|351 0
Added: docs/book/src/cpp-broker/queue-state-replication.xml|333 0
Added: docs/book/src/images/qpid-logo.png|0 0
Added: docs/book/src/old/ACL.xml|800 0
Added: docs/book/src/old/AMQP-.NET-Messaging-Client.xml|108 0
Added: docs/book/src/old/AMQP-C++-Messaging-Client.xml|61 0
Added: docs/book/src/old/AMQP-Java-JMS-Messaging-Client.xml|94 0
Added: docs/book/src/old/AMQP-Messaging-Broker-CPP.xml|70 0
Added: docs/book/src/old/AMQP-Python-Messaging-Client.xml|62 0
Added: docs/book/src/old/AMQP-Ruby-Messaging-Client.xml|40 0
Added: docs/book/src/old/AMQP.xml|98 0
Added: docs/book/src/old/Binding-URL-Format.xml|174 0
Added: docs/book/src/old/Book-Info.xml|68 0
Added: docs/book/src/old/Book.xml|93 0
Added: docs/book/src/old/Broker-CPP.xml|40 0
Added: docs/book/src/old/Broker-Java.xml|45 0
Added: docs/book/src/old/Clients.xml|25 0
Added: docs/book/src/old/Connection-URL-Format.xml|387 0
Added: docs/book/src/old/Download.xml|174 0
Added: docs/book/src/old/Excel-AddIn.xml|169 0
Added: docs/book/src/old/FAQ.xml|524 0
Added: docs/book/src/old/Getting-Started.xml|90 0
Added: docs/book/src/old/How-to-Use-JNDI.xml|175 0
Added: docs/book/src/old/InfoPlugin.xml|261 0
Added: docs/book/src/old/Introduction.xml|106 0
Added: docs/book/src/old/Java-Broker-StatusLogMessages.xml|294 0
Added: docs/book/src/old/Java-JMS-Selector-Syntax.xml|96 0
Added: docs/book/src/old/Management-Design-notes.xml|2136 0
Added: docs/book/src/old/NET-User-Guide.xml|1383 0
Added: docs/book/src/old/PythonBrokerTest.xml|98 0
Added: docs/book/src/old/QMan-Qpid-Management-bridge.xml|166 0
Added: docs/book/src/old/Qpid-ACLs.xml|49 0
Added: docs/book/src/old/Qpid-Book.xml|93 0
Added: docs/book/src/old/Qpid-Compatibility-And-Interoperability-Book.xml|36 0
Added: docs/book/src/old/SASL-Compatibility.xml|70 0
Added: docs/book/src/old/SSL.xml|180 0
Added: docs/book/src/old/Security-Plugins.xml|611 0
Added: docs/book/src/old/System-Properties.xml|357 0
Added: docs/book/src/old/Using-Qpid-with-other-JNDI-Providers.xml|215 0
Added: docs/book/src/old/WCF.xml|137 0
Added: docs/book/src/old/schemas.xml|102 0
Added: docs/book/src/programming/Makefile|20 0
Added: docs/book/src/programming/Message-Groups-Guide.xml|163 0
Added: docs/book/src/programming/Programming-In-Apache-Qpid.xml|6594 0
Added: docs/book/src/qmf/QmfBook.xml|101 0
Added: docs/book/src/qmf/QmfIntroduction.xml|45 0
Added: docs/book/xsl/html-custom.xsl|188 0
Added: packaging/windows/INSTALL_NOTES.html|100 0
Added: packaging/windows/LICENSE.rtf|110 0
Added: packaging/windows/build_installer.bat|55 0
Added: packaging/windows/installer.proj|243 0
Added: packaging/windows/qpid-icon.ico|0 0
Added: packaging/windows/qpid-install-background.bmp|0 0
Added: packaging/windows/qpid-install-banner.bmp|0 0
Added: packaging/windows/qpidc.wxs|343 0

Revision: 8ced224987c08ffb893db62f3f93c8823c2b68b9
Author: Justin Ross <jross@apache.org>
Date: 20/04/2016 08:02:02
Message:
QPID-7207: Rename and relocate files inside the cpp subtree #MsgLength=60


----
Modified: CMakeLists.txt|3 11
Renamed: INSTALL-WINDOWS.txt [from INSTALL-WINDOWS]|0 0
Renamed: INSTALL.txt [from INSTALL]|0 0
Renamed: LICENSE.txt [from LICENSE]|0 0
Renamed: NOTICE.txt [from NOTICE]|0 0
Added: README.md|59 0
Deleted: README.txt|0 68
Deleted: RELEASE_NOTES|0 9
Renamed: VERSION.txt [from QPID_VERSION.txt]|0 0
Renamed: docs/amqp-1.0.txt [from AMQP_1.0]|0 0
Renamed: docs/design/CONTENTS [from docs/src/CONTENTS]|0 0
Renamed: docs/design/DispatchHandle.odg [from docs/src/DispatchHandle.odg]|0 0
Renamed: docs/design/broker-acl-work.txt [from design_docs/broker-acl-work.txt]|0 0
Renamed: docs/design/ha-transactions.md [from design_docs/ha-transactions.md]|0 0
Renamed: docs/design/log-model-category-for-correlation.txt [from design_docs/log-model-category-for-correlation.txt]|0 0
Renamed: docs/design/new-ha-design.txt [from design_docs/new-ha-design.txt]|0 0
Renamed: docs/design/old-cluster-issues.txt [from design_docs/old-cluster-issues.txt]|0 0
Renamed: docs/design/overview.txt [from DESIGN]|0 0
Renamed: docs/design/windows_clfs_store_design.txt [from design_docs/windows_clfs_store_design.txt]|0 0
Renamed: docs/ha.txt [from README-HA.txt]|0 0
Renamed: docs/ssl.txt [from SSL]|0 0
Renamed: packaging/winsdk/README.txt [from README-winsdk.txt]|0 0
Renamed: packaging/winsdk/bld-winsdk.ps1 [from bld-winsdk.ps1]|0 0

Revision: 8f929136ffee9f66f5b1caabe09f275ac6687795
Author: Justin Ross <jross@apache.org>
Date: 21/04/2016 20:31:34
Message:
QPID-7207: Create independent cpp and python subtrees, with content from tools and extras #MsgLength=90


----
Modified: CMakeLists.txt|3 1
Added: CTestCustom.cmake|1 0
Modified: INSTALL.txt|2 2
Added: management/python/.gitignore|3 0
Added: management/python/CMakeLists.txt|32 0
Added: management/python/LICENSE.txt|203 0
Added: management/python/MANIFEST.in|1 0
Added: management/python/NOTICE.txt|5 0
Added: management/python/bin/.gitignore|13 0
Added: management/python/bin/qmf-tool|775 0
Added: management/python/bin/qpid-config|878 0
Added: management/python/bin/qpid-config.bat|2 0
Added: management/python/bin/qpid-ha|299 0
Added: management/python/bin/qpid-ha.bat|2 0
Added: management/python/bin/qpid-printevents|191 0
Added: management/python/bin/qpid-printevents.bat|2 0
Added: management/python/bin/qpid-qls-analyze|114 0
Added: management/python/bin/qpid-queue-stats|159 0
Added: management/python/bin/qpid-queue-stats.bat|3 0
Added: management/python/bin/qpid-receive|194 0
Added: management/python/bin/qpid-route|635 0
Added: management/python/bin/qpid-route.bat|2 0
Added: management/python/bin/qpid-send|281 0
Added: management/python/bin/qpid-stat|514 0
Added: management/python/bin/qpid-stat.bat|2 0
Added: management/python/bin/qpid-store-chk|332 0
Added: management/python/bin/qpid-store-resize|350 0
Added: management/python/bin/qpid-tool|799 0
Added: management/python/bin/qpid-tool.bat|2 0
Renamed: management/python/lib/.gitignore [from src/tests/quick_txtest]|14 14
Added: management/python/lib/README.txt|4 0
Renamed: management/python/lib/qlslibs/__init__.py [from src/tests/config.null]|0 2
Added: management/python/lib/qlslibs/analyze.py|606 0
Added: management/python/lib/qlslibs/efp.py|327 0
Added: management/python/lib/qlslibs/err.py|261 0
Added: management/python/lib/qlslibs/jrnl.py|394 0
Added: management/python/lib/qlslibs/utils.py|216 0
Renamed: management/python/lib/qmf/__init__.py [from src/tests/multiq_perftest]|0 4
Added: management/python/lib/qmf/console.py|4054 0
Renamed: management/python/lib/qpidstore/__init__.py [from src/tests/install_env.sh.in]|0 7
Added: management/python/lib/qpidstore/janal.py|617 0
Added: management/python/lib/qpidstore/jerr.py|219 0
Added: management/python/lib/qpidstore/jrnl.py|794 0
Renamed: management/python/lib/qpidtoollibs/__init__.py [from src/tests/quick_perftest]|3 3
Added: management/python/lib/qpidtoollibs/broker.py|486 0
Added: management/python/lib/qpidtoollibs/config.py|36 0
Added: management/python/lib/qpidtoollibs/disp.py|270 0
Added: management/python/setup.py|78 0
Renamed: management/ruby/.gitignore [from src/tests/qpid-build-rinstall]|5 10
Added: management/ruby/.rspec|1 0
Added: management/ruby/Gemfile|30 0
Added: management/ruby/Gemfile.lock|55 0
Renamed: management/ruby/Rakefile [from src/tests/quick_topictest.ps1]|10 13
Added: management/ruby/lib/qpid_management.rb|81 0
Added: management/ruby/lib/qpid_management/acl.rb|38 0
Added: management/ruby/lib/qpid_management/binding.rb|31 0
Added: management/ruby/lib/qpid_management/bridge.rb|39 0
Added: management/ruby/lib/qpid_management/broker.rb|278 0
Added: management/ruby/lib/qpid_management/broker_agent.rb|173 0
Added: management/ruby/lib/qpid_management/broker_object.rb|126 0
Added: management/ruby/lib/qpid_management/cluster.rb|26 0
Added: management/ruby/lib/qpid_management/connection.rb|51 0
Added: management/ruby/lib/qpid_management/errors.rb|28 0
Added: management/ruby/lib/qpid_management/exchange.rb|44 0
Renamed: management/ruby/lib/qpid_management/ha_broker.rb [from src/tests/vg_check]|7 24
Added: management/ruby/lib/qpid_management/link.rb|35 0
Added: management/ruby/lib/qpid_management/memory.rb|34 0
Added: management/ruby/lib/qpid_management/queue.rb|97 0
Added: management/ruby/lib/qpid_management/session.rb|38 0
Added: management/ruby/lib/qpid_management/subscription.rb|35 0
Added: management/ruby/qpid_management.gemspec|36 0
Added: management/ruby/spec/broker_agent_spec.rb|43 0
Added: management/ruby/spec/broker_spec.rb|373 0
Renamed: management/ruby/spec/spec_helper.rb [from docs/design/CONTENTS]|2 12
Modified: src/CMakeLists.txt|17 24
Modified: src/tests/CMakeLists.txt|155 196
Modified: src/tests/README.txt|6 13
Deleted: src/tests/ais_test.cpp|0 23
Deleted: src/tests/allhosts|0 79
Modified: src/tests/brokertest.py|7 19
Added: src/tests/check_dependencies.py.in|53 0
Modified: src/tests/cli_tests.py|8 3
Added: src/tests/common.py|297 0
Modified: src/tests/dynamic_log_hires_timestamp|11 11
Modified: src/tests/dynamic_log_level_test|15 15
Renamed: src/tests/env.ps1.in [from src/tests/test_env.ps1.in]|0 0
Added: src/tests/env.py.in|100 0
Added: src/tests/env.sh.in|74 0
Modified: src/tests/federated_topic_test|22 23
Modified: src/tests/ha_test.py|3 7
Modified: src/tests/ha_tests.py|5 11
Modified: src/tests/interlink_tests.py|1 6
Modified: src/tests/interop_tests.py|1 4
Modified: src/tests/legacystore/CMakeLists.txt|3 5
Modified: src/tests/legacystore/federation/federation_tests_env.sh|1 1
Modified: src/tests/legacystore/run_python_tests|18 14
Modified: src/tests/linearstore/CMakeLists.txt|2 5
Modified: src/tests/linearstore/run_python_tests|18 13
Added: src/tests/plano.py|543 0
Deleted: src/tests/rsynchosts|0 57
Added: src/tests/run.py|6 0
Modified: src/tests/run_acl_tests|37 133
Deleted: src/tests/run_acl_tests.ps1|0 99
Modified: src/tests/run_cli_tests|35 53
Renamed: src/tests/run_client_tests [from src/tests/fanout_perftest]|10 2
Deleted: src/tests/run_federation_sys_tests|0 71
Modified: src/tests/run_federation_tests|40 41
Deleted: src/tests/run_federation_tests.ps1|0 83
Renamed: src/tests/run_flow_control_tests [from src/tests/run_queue_flow_limit_tests]|6 5
Modified: src/tests/run_ha_tests|16 8
Deleted: src/tests/run_header_test.ps1|0 48
Deleted: src/tests/run_headers_federation_tests|0 49
Renamed: src/tests/run_idle_timeout_tests [from src/tests/run_ring_queue_test]|4 14
Modified: src/tests/run_interlink_tests|4 4
Renamed: src/tests/run_interop_tests [from src/tests/python_tests]|10 14
Renamed: src/tests/run_ipv6_tests [from src/tests/ipv6_test]|17 21
Renamed: src/tests/run_logging_tests [from src/tests/test_env_common.sh]|17 7
Modified: src/tests/run_long_federation_sys_tests|1 1
Modified: src/tests/run_msg_group_tests|22 37
Deleted: src/tests/run_msg_group_tests.ps1|0 71
Modified: src/tests/run_msg_group_tests_soak|3 5
Modified: src/tests/run_paged_queue_tests|25 30
Renamed: src/tests/run_performance_tests [from src/tests/shared_perftest]|8 2
Added: src/tests/run_python_tests|62 0
Renamed: src/tests/run_qmf_tests [from src/tests/quick_topictest]|7 11
Deleted: src/tests/run_queue_redirect|0 56
Renamed: src/tests/run_queue_redirect_tests [from src/tests/run_header_test]|7 8
Renamed: src/tests/run_ring_queue_tests [from src/tests/python_tests.ps1]|10 22
Added: src/tests/run_sasl_tests|64 0
Added: src/tests/run_ssl_tests|329 0
Modified: src/tests/run_store_tests.ps1|1 1
Deleted: src/tests/run_test|0 191
Deleted: src/tests/run_test.ps1|0 162
Renamed: src/tests/run_topic_tests [from src/tests/topic_perftest]|10 2
Renamed: src/tests/run_transaction_tests [from src/tests/run_perftest]|10 8
Added: src/tests/run_unit_tests|39 0
Modified: src/tests/sasl_fed|53 100
Modified: src/tests/sasl_fed_ex|74 134
Modified: src/tests/sasl_no_dir|23 71
Modified: src/tests/sasl_test_setup.sh|6 5
Modified: src/tests/ssl_test|69 71
Deleted: src/tests/swig_python_tests|0 68
Deleted: src/tests/test.xquery|0 6
Deleted: src/tests/test_env.sh.in|0 100
Modified: src/tests/topictest|2 2

Revision: 37a175699a1b8f74dfb9445eb3587d7584a7c185
Author: Gordon Sim <gsim@apache.org>
Date: 22/04/2016 06:25:35
Message:
QPID-7225: ensure message to be released is acquired #MsgLength=53


----
Modified: src/qpid/broker/IndexedDeque.h|1 1

Revision: e443871ea9e5afeeca982bbdad83c7e594e3a1c1
Author: Justin Ross <jross@apache.org>
Date: 22/04/2016 06:29:16
Message:
QPID-7207: Use Python 2.6 compatible string formats #MsgLength=52


----
Modified: src/tests/common.py|19 19
Modified: src/tests/env.py.in|5 5
Modified: src/tests/legacystore/run_python_tests|3 3
Modified: src/tests/linearstore/run_python_tests|3 3
Modified: src/tests/plano.py|13 13
Modified: src/tests/run_acl_tests|10 10
Modified: src/tests/run_cli_tests|4 4
Modified: src/tests/run_federation_tests|6 6
Modified: src/tests/run_ha_tests|1 1
Modified: src/tests/run_idle_timeout_tests|1 1
Modified: src/tests/run_interlink_tests|1 1
Modified: src/tests/run_interop_tests|3 3
Modified: src/tests/run_msg_group_tests|14 14
Modified: src/tests/run_paged_queue_tests|6 6
Modified: src/tests/run_performance_tests|1 1
Modified: src/tests/run_python_tests|5 5
Modified: src/tests/run_qmf_tests|1 1
Modified: src/tests/run_queue_redirect_tests|2 2
Modified: src/tests/run_transaction_tests|2 2

Revision: 8aa7aa1c0fab1bd69a8b4daf4d764a11132cbb37
Author: Justin Ross <jross@apache.org>
Date: 22/04/2016 07:22:05
Message:
QPID-7207: Avoid use of Popen with shell=True; on some platforms it prevents process termination #MsgLength=97


----
Modified: src/tests/common.py|17 14

Revision: 24be2b7357eb03be1de7975a04fc0a9dc5f4434b
Author: Justin Ross <jross@apache.org>
Date: 22/04/2016 07:59:29
Message:
QPID-7207: Explicitly set the Python build lib dir #MsgLength=51


----
Modified: management/python/CMakeLists.txt|1 0

Revision: 0140129e1b8ef9cf33f0a986eaf5a6abaa76b54c
Author: Justin Ross <jross@apache.org>
Date: 26/04/2016 21:12:18
Message:
QPID-7207: Use Python 2.6 compatible string formats #MsgLength=52


----
Modified: src/tests/check_dependencies.py.in|1 1

Revision: 241055ccc7d6be52ea2abfed73494fb7c445ed8c
Author: Justin Ross <jross@apache.org>
Date: 26/04/2016 22:54:48
Message:
QPID-7207: Make env.sh compatible with -e scripts #MsgLength=50


----
Modified: src/tests/env.sh.in|3 1

Revision: 70d0e747becc3db2d9f4435e38b72ca4af9337ab
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 03:54:19
Message:
QPID-7207: Work around a cmake bug #MsgLength=35


----
Modified: CTestCustom.cmake|1 1

Revision: 921989cd3f768ebbdafe6f1b855aa1c2e98e6f00
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 04:04:53
Message:
QPID-7207: Make the test-time dependency check script executable #MsgLength=65


----
Modified: src/tests/check_dependencies.py.in|0 0

Revision: 591aed2b3e5c6b09dd999d7d362e15a77ccf9d0a
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 07:58:20
Message:
QPID-7207: Add provisional valgrind suppressions #MsgLength=49


----
Modified: src/tests/.valgrind.supp|73 0
Modified: src/tests/common.py|1 0

Revision: 8af5c30b58dd019a9b6962f31258fef7f1496540
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 21:11:51
Message:
QPID-7207: Make the suppressions general wrt starting as a thread or the main process #MsgLength=86


----
Modified: src/tests/.valgrind.supp|0 7

Revision: 13f716b42568d3c16f0d5eea81edec90740d760b
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 21:48:16
Message:
QPID-7207: Skip some tests when the swigged python client is not available #MsgLength=75


----
Modified: src/tests/run_interop_tests|8 3
Modified: src/tests/run_python_tests|21 16

Revision: 922487c2775775cf67313574d440085458dd6866
Author: Justin Ross <jross@apache.org>
Date: 27/04/2016 22:26:05
Message:
QPID-7207: Add a missing import #MsgLength=32


----
Modified: src/tests/idle_timeout_tests.py|1 0

Revision: 56150fd0bab1b07079f7d3cafbdc23e88a0be555
Author: Justin Ross <jross@apache.org>
Date: 28/04/2016 05:19:30
Message:
QPID-7207: Make the provisional suppressions even more permissive #MsgLength=66


----
Modified: src/tests/.valgrind.supp|8 8

Revision: ee19e76cd4b5a5675e705ff6dee60c751c6a9f11
Author: Justin Ross <jross@apache.org>
Date: 29/04/2016 01:03:50
Message:
QPID-7207: Remove match-leak-kinds from suppressions; it's supported only in newer valgrinds #MsgLength=93


----
Modified: src/tests/.valgrind.supp|0 5

Revision: 4f1ff088b76bbc2e9d7533d5cf53d6ce69a15c5d
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 03:01:29
Message:
QPID-7234: allow proper credit processing to happen even for expired messages #MsgLength=78


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|5 3
Modified: src/qpid/client/amqp0_10/IncomingMessages.h|1 0
Modified: src/qpid/client/amqp0_10/ReceiverImpl.cpp|1 1
Modified: src/qpid/client/amqp0_10/ReceiverImpl.h|1 1
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|11 1

Revision: c87ceddfdc336b0e5cfdecfe9c908ed887ce4dc9
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 03:01:34
Message:
QPID-7233: limit capacity to messages only if message count is non-zero #MsgLength=72


----
Modified: src/tests/qpid-receive.cpp|1 1

Revision: 9321214879d6255360a9c5d670959af4858eed3c
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 03:01:39
Message:
NO-JIRA: increase the auto-delete timeout to ensure that it never fires even when running under valgrind #MsgLength=105


----
Modified: src/tests/assertions.py|5 5

Revision: 7e487660be6c6b4ff1f532060b6b4bd57ffb9d91
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 03:01:44
Message:
QPID-7235: add virtual destructor to Observers to ensure cleanup if subclassed #MsgLength=79


----
Modified: src/qpid/broker/Observers.h|1 0

Revision: abe6eba07990b86c57ebff6636fdd58fec78e84b
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 03:01:49
Message:
QPID-7236: set action and object in acl rule even when actionAll is true #MsgLength=73


----
Modified: src/qpid/acl/AclReader.cpp|1 1

Revision: 7e3ba879e2aebc3b9cda17811563c918779bd061
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 04:11:54
Message:
QPID-7234: add test #MsgLength=20


----
Modified: src/tests/MessagingSessionTests.cpp|30 0

Revision: 64d82c73e7725cbdc21f28420e370e0bc6f09f1f
Author: Justin Ross <jross@apache.org>
Date: 29/04/2016 05:24:07
Message:
QPID-7207: More valgrind suppressions #MsgLength=38


----
Modified: src/tests/.valgrind.supp|27 0

Revision: 13a709d33c99d66b8c371346e1066b9977675bc2
Author: Justin Ross <jross@apache.org>
Date: 29/04/2016 06:38:49
Message:
QPID-7207: Keep going if CERTUTIL is not set #MsgLength=45


----
Modified: src/tests/sasl_fed_ex|1 1

Revision: 74db8cfa8df298633c71a5a3932f9382f201a014
Author: Justin Ross <jross@apache.org>
Date: 29/04/2016 08:02:15
Message:
QPID-7207: Even more liberal suppressions #MsgLength=42


----
Modified: src/tests/.valgrind.supp|1 12

Revision: 6f49f77349029531f3c0c0202b4ba407cbbda3fc
Author: Justin Ross <jross@apache.org>
Date: 29/04/2016 20:35:51
Message:
QPID-7207: Remove a duplicate suppression and expand the applicability of another #MsgLength=82


----
Modified: src/tests/.valgrind.supp|2 11

Revision: 3bb62abaf221ddeffbb9c0955f36d75500b979c1
Author: Gordon Sim <gsim@apache.org>
Date: 29/04/2016 22:16:42
Message:
QPID-7240: use protper cursor type when purging priority levels #MsgLength=64


----
Modified: src/qpid/broker/PriorityQueue.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|40 0

Revision: 64d380c8c0edcc08ad2a4fd47553c795a7150b8a
Author: Justin Ross <jross@apache.org>
Date: 02/05/2016 07:27:40
Message:
QPID-7207: Account for another variant of the createQueue leak #MsgLength=63


----
Modified: src/tests/.valgrind.supp|0 1

Revision: 29aaa918baefaf23fb749357d3dd040c51a027f5
Author: Gordon Sim <gsim@apache.org>
Date: 03/05/2016 02:42:43
Message:
QPID-7250: check that message can fit in a page before writing to disk #MsgLength=71


----
Modified: src/qpid/broker/Messages.h|8 1
Modified: src/qpid/broker/PagedQueue.cpp|6 1
Modified: src/qpid/broker/PagedQueue.h|3 0
Modified: src/qpid/broker/Queue.cpp|6 3

Revision: f9e69d3481ebe190ce3b9bfed2a6928b32d075da
Author: Justin Ross <jross@apache.org>
Date: 03/05/2016 21:51:51
Message:
QPID-7207: Found another variant of this leak #MsgLength=46


----
Modified: src/tests/.valgrind.supp|0 4

Revision: be5d9ccd4f61e62600fb999875512e07af4c4c1e
Author: Justin Ross <jross@apache.org>
Date: 12/05/2016 02:45:26
Message:
QPID-7207: Make call_for_output Python 2.6 compatible #MsgLength=54


----
Modified: src/tests/plano.py|19 3

Revision: 4abb5034e601d7a9916bbdc63a2afb1632a255c6
Author: Gordon Sim <gsim@apache.org>
Date: 23/05/2016 21:20:01
Message:
QPID-7234: check handler is not null (as it will be when releasing unused prefetch on close) #MsgLength=93


----
Modified: src/qpid/client/amqp0_10/IncomingMessages.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|21 0

Revision: 04d655772d14daa8e38cee020bb652652025efba
Author: Gordon Sim <gsim@apache.org>
Date: 25/05/2016 15:02:56
Message:
QPID-4397: log more detail for expired messages when debug enabled #MsgLength=67


----
Modified: src/qpid/broker/Message.cpp|5 0
Modified: src/qpid/broker/Message.h|2 0
Modified: src/qpid/broker/Queue.cpp|9 6
Modified: src/qpid/broker/Queue.h|1 0
Modified: src/qpid/broker/amqp/Message.cpp|79 0
Modified: src/qpid/broker/amqp/Message.h|1 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|9 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 0

Revision: 800e44edf1352a52510f3c7b90943fa4c6dbbb58
Author: Justin Ross <jross@apache.org>
Date: 27/05/2016 05:52:56
Message:
QPID-7281: Relocate the find_package invocation for python; use the resulting config to run the test-time dependency check #MsgLength=123


----
Modified: CMakeLists.txt|2 0
Modified: CTestCustom.cmake|1 1
Modified: src/CMakeLists.txt|0 1

Revision: b1fdf287319edc9d281e3df8e500d44a2bb2e86a
Author: Justin Ross <jross@apache.org>
Date: 27/05/2016 05:55:38
Message:
QPID-7281: Prevent shlex.split from removing backslashes #MsgLength=57


----
Modified: src/tests/common.py|1 1

Revision: ed0aebb987e8c57a139bf882248b8ede16734ec2
Author: Justin Ross <jross@apache.org>
Date: 01/06/2016 12:01:58
Message:
QPID-7281: Various fixes for the tests on windows #MsgLength=245


----
Modified: src/tests/CMakeLists.txt|4 9
Modified: src/tests/brokertest.py|0 1
Modified: src/tests/common.py|0 3
Modified: src/tests/env.py.in|26 10
Added: src/tests/run_windows_store_tests|61 0

Revision: fbbc2b854e98bc7d50be23335c6fc57559b1e193
Author: Gordon Sim <gsim@apache.org>
Date: 15/06/2016 16:47:59
Message:
QPID-7302: Restart delayed auto-delete timer if the queue is declared #MsgLength=70


----
Modified: src/qpid/broker/Queue.cpp|19 10
Modified: src/qpid/broker/Queue.h|4 1
Modified: src/qpid/broker/QueueRegistry.cpp|34 9
Modified: src/qpid/broker/QueueRegistry.h|5 9

Revision: 988471b874fb34909b8b51ecb71daf3af8e705ef
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2016 04:41:43
Message:
QPID-7306: Memory management error in Link/Bridge #MsgLength=551


----
Modified: src/qpid/broker/Bridge.cpp|11 4
Modified: src/qpid/broker/Link.cpp|9 5
Modified: src/qpid/broker/Link.h|4 1
Modified: src/qpid/broker/amqp_0_10/Connection.h|19 1

Revision: f41c4bf026a7166f45441e9668101b6c0cfbe711
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2016 04:41:49
Message:
QPID-7306: Conditional compile mismatch in broker and common libs. #MsgLength=842


----
Modified: src/CMakeLists.txt|4 7
Modified: src/amqp.cmake|1 2
Modified: src/legacystore.cmake|1 1
Modified: src/linearstore.cmake|0 1
Modified: src/qpid/management/Manageable.h|0 4
Modified: src/qpid/management/ManagementObject.h|0 6
Modified: src/qpid/store/CMakeLists.txt|0 4
Modified: src/rdma.cmake|0 1
Modified: src/tests/CMakeLists.txt|0 2

Revision: 83ca9150ba2f85bd9bc97ffad49550341ceb194e
Author: Alan Conway <aconway@apache.org>
Date: 23/06/2016 04:41:55
Message:
QPID-7306: Fix race conditions during Queue destruction. #MsgLength=964


----
Modified: managementgen/qmfgen/schema.py|4 4
Modified: src/qpid/broker/Broker.cpp|0 1
Modified: src/qpid/broker/Queue.cpp|3 2
Modified: src/qpid/broker/Queue.h|3 1
Modified: src/qpid/broker/QueueRegistry.cpp|15 2
Modified: src/qpid/broker/SelfDestructQueue.cpp|0 1
Modified: src/qpid/management/Manageable.h|4 2
Modified: src/qpid/management/ManagementObject.cpp|29 1
Modified: src/qpid/management/ManagementObject.h|18 2

Revision: 3368849cab70570d3775c041d40cd04f221c0fb5
Author: Gordon Sim <gsim@apache.org>
Date: 24/06/2016 23:20:35
Message:
QPID-7306: fix compilation error in previous commit #MsgLength=52


----
Modified: src/qpid/broker/Queue.h|0 1

Revision: c6594ab605473dff3000cbb5b9ba1aa931280388
Author: Gordon Sim <gsim@apache.org>
Date: 27/06/2016 23:56:42
Message:
feat(disposition): support undeliverable-here in modified outcomes #MsgLength=347


----
Modified: src/qpid/broker/amqp/Outgoing.cpp|26 5
Modified: src/qpid/broker/amqp/Outgoing.h|24 2

Revision: 97e889a4e617ac757f80969f765b309e50bbe735
Author: Gordon Sim <gsim@apache.org>
Date: 28/06/2016 01:09:25
Message:
QPID-7306: fix regression in earlier commit #MsgLength=44


----
Modified: src/qpid/broker/QueueRegistry.cpp|2 2

Revision: 0585aed6bfe21d2e19220c268870645d55dbd0e4
Author: Alan Conway <aconway@apache.org>
Date: 28/06/2016 05:55:53
Message:
QPID-7326: Memory bloat on HA primary broker #MsgLength=111


----
Modified: src/qpid/ha/Primary.cpp|0 7
Modified: src/qpid/ha/Primary.h|0 4
Modified: src/qpid/ha/ReplicatingSubscription.cpp|0 2

Revision: 71e2be8372ffad33e954ff6975cbed218d3d884d
Author: Gordon Sim <gsim@apache.org>
Date: 29/06/2016 05:32:06
Message:
QPID-7329: Merge branch 'github/pr/10' into trunk #MsgLength=62


----
Modified: src/qpid/broker/Queue.cpp|13 0
Modified: src/qpid/broker/Queue.h|7 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|15 1
Modified: src/qpid/broker/amqp/Outgoing.h|2 0

Revision: 28055db9cdd3bb368238ae8dd09da4788b02dd78
Author: Robert Gemmell <robbie@apache.org>
Date: 11/07/2016 16:57:51
Message:
QPID-7207: some trivial changes following move to git, mainly testing out the JIRA integration #MsgLength=95


----
Modified: INSTALL.txt|4 4

Revision: 45f0f96555dc824eb5944709c7068b6223ba0c3a
Author: Robert Gemmell <robbie@apache.org>
Date: 11/07/2016 17:15:18
Message:
QPID-7207: further small tweak, testing out GitHub integration #MsgLength=63


----
Modified: README.md|1 1


Revision: 57e8b4a6bb2da5701804d988b875f335f64c64a5
Author: Alan Conway <aconway@redhat.com>
Date: 15/07/2016 08:10:44
Message:
QPID-7357: c++ HA Backup crash during re-connect in failover #MsgLength=549


----
Modified: src/qpid/ha/BrokerReplicator.cpp|8 13

Revision: af2bec7de64ff017e1953946726ef7363bd8142d
Author: Alan Conway <aconway@redhat.com>
Date: 19/07/2016 01:14:34
Message:
NO-JIRA: Remove unused code. #MsgLength=29


----
Modified: src/qpid/ha/Primary.h|0 2

Revision: b92ee09cf65db171e635d97fe1428ee650c617c6
Author: Gordon Sim <gsim@redhat.com>
Date: 26/07/2016 03:20:54
Message:
QPID-7361: before waiting for credit, wakeup drive if we have stuff to write out #MsgLength=81


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|1 0

Revision: 1c510d06f326614f5912a269daff5132912c01e1
Author: Gordon Sim <gsim@redhat.com>
Date: 03/08/2016 17:02:19
Message:
QPID-7306: apparently visual studio compiler cannot convert the queue pointer to a bool #MsgLength=88


----
Modified: src/qpid/broker/QueueRegistry.cpp|5 2

Revision: 5272790a5ddd65a44ad711f37e1965df358edebf
Author: Gordon Sim <gsim@redhat.com>
Date: 04/08/2016 00:58:53
Message:
QPID-7376: don't expire messages if prefetch is 0 #MsgLength=50


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1
Modified: src/tests/MessagingSessionTests.cpp|30 0

Revision: 47d89fe985594d36c8f0f44a2dfe79f73cf31f30
Author: Gordon Sim <gsim@redhat.com>
Date: 04/08/2016 03:07:39
Message:
QPID-7376: don't expire messages if prefetch is 0; correction to previous commit #MsgLength=81


----
Modified: src/qpid/client/amqp0_10/SessionImpl.cpp|1 1

Revision: f3270ef391e6a47e8eaacd57d5f48c49e30ec067
Author: Chuck Rolke <crolke@redhat.com>
Date: 05/08/2016 01:53:31
Message:
QPID-7306: windows build of commit 83ca915 requires externs #MsgLength=60


----
Modified: src/qpid/management/ManagementObject.h|3 3

Revision: 54cd0842d4273e69644c0fd25fadefee408a1019
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 05/08/2016 03:13:14
Message:
QPID-7373: force all EpollPoller threads to periodically clean DeletionManager resources #MsgLength=89


----
Modified: src/qpid/sys/epoll/EpollPoller.cpp|15 2

Revision: 61361614703a459483aa5f2135637daf15e1864a
Author: Kim van der Riet <kpvdr@apache.org>
Date: 06/08/2016 00:29:15
Message:
QPID-7306: Fixed compile problem on linux #MsgLength=42


----
Modified: src/qpid/management/ManagementObject.h|1 1

Revision: 2dc01547ba5481bfa7ad8e31c183f3ecf18704cd
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/08/2016 04:56:20
Message:
QPID-7383: Fix for excessive time taken to overwrite files when overwrite-before-return option is in use. Also improves time taken to create new journal files for the pool. #MsgLength=173


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|46 17
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|8 0

Revision: 7c54578c699a299b5ac7c228bba324183418f046
Author: Gordon Sim <gsim@redhat.com>
Date: 06/08/2016 02:37:51
Message:
NO-JIRA: use unsigned literals #MsgLength=31


----
Modified: src/tests/MessagingSessionTests.cpp|2 2


Revision: f62cc628bc7c28455a3cc107d466b87be773f5c7
Author: Justin Ross <jross@apache.org>
Date: 11/08/2016 05:42:34
Message:
QPID-7281: Make tests that use --socket-fd unix only; add the python binding to the path for windows #MsgLength=101


----
Modified: src/tests/CMakeLists.txt|4 1
Modified: src/tests/env.py.in|4 0

Revision: 7bb2d289a8d6c3e898848e2a66e71ed41ea6fe0c
Author: Justin Ross <jross@apache.org>
Date: 11/08/2016 05:48:47
Message:
NO-JIRA: Git ignore some more pyc files #MsgLength=40


----
Modified: management/python/.gitignore|1 0
Added: managementgen/.gitignore|1 0

Revision: ef7c46ad4f59e828493f94a3a4bc068a27c1ff11
Author: Jakub Scholz <www@scholzj.com>
Date: 12/08/2016 03:15:26
Message:
QPID-7391: Fix the routing key / subject handling when responsing to received messages #MsgLength=104


----
Modified: src/tests/qpid-receive.cpp|9 0

Revision: 69ff9551ca5abd62a54f55ce28a8d2c833498e4c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2016 01:58:16
Message:
QPID-7389: Fix Cyrus SASL lib detection so it works more portably #MsgLength=66


----
Modified: src/CMakeLists.txt|14 11

Revision: 0587ab3f13edabea04dc9f4c765911e29f67b1ba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 11/08/2016 07:35:45
Message:
QPID-7390: Work around libc++ oddity in ostream& operator>>(ostream&, double) - libc++ on FreeBSD errors when seeing an 'n' character after numerics rather than just stopping the conversion. Probably related to processing "nan", but still different from libstdc++ and strtod behaviour. #MsgLength=290


----
Modified: src/qpid/sys/posix/Time.cpp|18 11

Revision: 63625706844ec5c76ce729c87cae5c90e092f90a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/08/2016 10:56:10
Message:
NO-JIRA: Add TravisCI and Appveyor configuration files #MsgLength=55


----
Added: .travis.yml|30 0
Added: appveyor.yml|12 0

Revision: 484843fcfb974e6217a976098988d34ef8290850
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/08/2016 11:55:03
Message:
QPID-7390: strtod isn't really in std namespace(!) - This trips up older versions of gcc #MsgLength=89


----
Modified: src/qpid/sys/posix/Time.cpp|1 1

Revision: 868caf5420653a5536a343f1745535dceb3461a0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/08/2016 13:52:17
Message:
QPID-7392: Judicious use of template specialisations to avoid code which generates warnings on instantiation #MsgLength=109


----
Modified: src/qpid/framing/FieldValue.cpp|16 2
Modified: src/qpid/framing/FieldValue.h|9 9

Revision: 74329bf589e04f44828f4bdbec1f049bbf788973
Author: Andrew Stitcher <astitcher@apache.org>
Date: 12/08/2016 14:28:01
Message:
NO-JIRA: Get qpid-python into the travis build so we can run tests #MsgLength=67


----
Modified: .travis.yml|6 0

Revision: 610fad131738bfe1bf588326362772c49cea7eba
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2016 05:05:38
Message:
NO-JIRA: Remove unused variable warning #MsgLength=40


----
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|1 1

Revision: e65f39fe5d0ae68552b19a2571c3d4d943da6327
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2016 05:07:06
Message:
QPID-7395: Avoid infinite recursion in SocketAddress::operator= #MsgLength=64


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|5 1
Modified: src/qpid/sys/windows/SocketAddress.cpp|5 1

Revision: 2a9e20b688d130b1e9cbddf1ee4ac9d24434bb4c
Author: Andrew Stitcher <astitcher@apache.org>
Date: 13/08/2016 05:59:24
Message:
QPID-7392: More judicious templates (stolen from c++11) to avoid warnings #MsgLength=74


----
Modified: src/qpid/framing/FieldValue.cpp|14 14
Modified: src/qpid/types/Variant.cpp|42 7

Revision: 4012fdbbc439c69c3f9aa2e4877f45bf95ef29ba
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 16/08/2016 07:13:52
Message:
QPID-7393: fix windows SslAsynchIO to not generate but also ignore empty SSL packets #MsgLength=85


----
Modified: src/qpid/sys/windows/AsynchIO.cpp|6 0
Modified: src/qpid/sys/windows/SslAsynchIO.cpp|83 55

Revision: 04efcd908b10830dda525041c2b8eedc78b7f468
Author: Andrew Stitcher <astitcher@apache.org>
Date: 17/08/2016 00:50:42
Message:
QPID-7389: Need to use all caps CYRUSSASL_FOUND for earlier versions of cmake #MsgLength=78


----
Modified: src/CMakeLists.txt|3 3

Revision: 4c31daafa91174e2a5bdce782003b6aeafe45f01
Author: Justin Ross <jross@apache.org>
Date: 17/08/2016 23:42:24
Message:
QPID-7353: Update master versions for the 1.36.0 cycle; adapt the cmake version handling to X.Y.Z-QUALIFIER versions #MsgLength=117


----
Modified: CMakeLists.txt|13 5
Modified: VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1
Modified: management/python/setup.py|1 1

Revision: 09324a7b16a622c91f853f658b2f26d79dbda391
Author: Andrew Stitcher <astitcher@apache.org>
Date: 26/08/2016 02:28:31
Message:
QPID-7400: Allow Proton 0.14 to be used without warning. #MsgLength=57


----
Modified: src/amqp.cmake|1 1

Revision: 3b9b412e6519d7e653a2b75dfdcbcb090af1d92d
Author: Gordon Sim <gsim@redhat.com>
Date: 29/08/2016 20:27:00
Message:
QPID-7406: reset cursors for cosnumers if message is released #MsgLength=62


----
Modified: src/qpid/broker/MessageMap.cpp|7 1
Modified: src/qpid/broker/MessageMap.h|1 0
Modified: src/tests/MessagingSessionTests.cpp|41 0

Revision: 7ca027022830646ddeb65f137086aba2f98cf5a7
Author: Gordon Sim <gsim@redhat.com>
Date: 07/09/2016 05:41:54
Message:
QPID-7430: Allow address to be passed through unparsed to server #MsgLength=65


----
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/ConnectionOptions.h|2 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|58 2
Modified: src/qpid/messaging/amqp/ConnectionContext.h|4 0

Revision: 550b62723bb6b80035961c93c05de4cbd0ab170e
Author: Alan Conway <aconway@redhat.com>
Date: 22/09/2016 03:54:08
Message:
QPID-7432: Make python management tools work over AMQP 1.0 #MsgLength=968


----
Modified: bindings/qpid/python/qpid_messaging.i|2 1
Modified: include/qpid/swig_python_typemaps.i|4 1
Modified: management/python/bin/qpid-config|6 3
Modified: management/python/bin/qpid-ha|4 2
Modified: management/python/bin/qpid-printevents|6 4
Modified: management/python/bin/qpid-receive|4 1
Modified: management/python/bin/qpid-send|5 3
Modified: management/python/bin/qpid-stat|5 1
Added: management/python/test.sh|32 0

Revision: a3bc7cd6389c24c001570b3501225336e9f7ba88
Author: Alan Conway <aconway@redhat.com>
Date: 27/09/2016 05:14:10
Message:
QPID-7439: Proton-based library for QMF management. #MsgLength=128


----
Added: management/python/lib/qmf/client.py|458 0
Modified: src/tests/CMakeLists.txt|1 0
Added: src/tests/qmf_client_tests.py|99 0
Added: src/tests/run_qmf_client_tests|34 0

Revision: e7400a0e0aa3413291a5e8d3652e26780bcf6b59
Author: Alan Conway <aconway@redhat.com>
Date: 28/09/2016 02:06:33
Message:
NO-JIRA: Fix valgrind error with gcc in c++11 mode. #MsgLength=3166


----
Modified: src/qpid/broker/SessionAdapter.cpp|6 6

Revision: 74902a52d93215705d0538067a07184c99b70206
Author: Gordon Sim <gsim@redhat.com>
Date: 06/09/2016 03:50:22
Message:
QPID-7415: introduce special handling for different delivery statuses #MsgLength=773


----
Modified: src/qpid/messaging/ConnectionOptions.cpp|8 1
Modified: src/qpid/messaging/ConnectionOptions.h|3 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|8 6
Modified: src/qpid/messaging/amqp/EncodedMessage.cpp|1 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|135 21
Modified: src/qpid/messaging/amqp/SenderContext.h|30 5
Modified: src/qpid/messaging/amqp/SessionContext.cpp|6 2
Modified: src/qpid/messaging/amqp/SessionContext.h|2 1
Modified: src/qpid/messaging/amqp/Transaction.cpp|1 1

Revision: debc6e9585daf8cea9ce035913a84689f17e2c03
Author: Justin Ross <jross@apache.org>
Date: 04/11/2016 08:06:04
Message:
QPID-7494: To work around a problem in CMake 2.8.11, avoid use of a space in the check_depencies invocation; rely on shebang handling on unixes and file-extension handling on windows #MsgLength=183


----
Modified: CTestCustom.cmake|1 1

Revision: db6ba28a96c900c9706aa9a20d6a8f0231cad7db
Author: Gordon Sim <gsim@redhat.com>
Date: 08/11/2016 17:26:27
Message:
QPID-7500: ensure closing session blocks until complete #MsgLength=56


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 1

Revision: 5f5790e7cd1c80a3ae28cb291679f6faaaa3ffc1
Author: Gordon Sim <gsim@redhat.com>
Date: 08/11/2016 18:07:09
Message:
QPID-7501: free sessions and links under connection lock #MsgLength=57


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|4 1
Modified: src/qpid/messaging/amqp/ReceiverContext.cpp|19 1
Modified: src/qpid/messaging/amqp/ReceiverContext.h|3 0
Modified: src/qpid/messaging/amqp/SenderContext.cpp|26 2
Modified: src/qpid/messaging/amqp/SenderContext.h|3 0
Modified: src/qpid/messaging/amqp/SessionContext.cpp|29 2
Modified: src/qpid/messaging/amqp/SessionContext.h|1 0

Revision: d092e5295cda5d0932eefba2fce9948fffc8d5e4
Author: Robert Gemmell <robbie@apache.org>
Date: 08/12/2016 22:33:24
Message:
QPID-7581: update check for proton version to avoid warnings with 0.16.0 release #MsgLength=81


----
Modified: src/amqp.cmake|1 1

Revision: 1f8acbd9893bb503512451c3e92e776a612153c0
Author: Robert Gemmell <robbie@apache.org>
Date: 10/12/2016 00:39:48
Message:
QPID-7584: add some details/helpers for doing qpid-cpp release #MsgLength=63


----
Added: RELEASE.md|31 0
Added: bin/export.sh|81 0

Revision: 97afe01e2b621d8e241be0bc74e035635d86f923
Author: Robert Gemmell <robbie@apache.org>
Date: 10/12/2016 01:18:19
Message:
QPID-7584: update versions etc for 1.37.0(-SNAPSHOT) on master #MsgLength=63


----
Modified: VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1
Modified: management/python/setup.py|1 1

Revision: 70ef8c91a73fb8df1ce35bbdc643fd8011c7728e
Author: Chuck Rolke <crolke@redhat.com>
Date: 21/12/2016 01:57:23
Message:
QPID-7595: Higher required cmake version for Windows #MsgLength=53


----
Modified: src/msvc.cmake|5 0

Revision: 3e1746577ad54cce2cecc4c6c83ca363482ea34a
Author: Chuck Rolke <crolke@redhat.com>
Date: 21/12/2016 02:17:51
Message:
Revert "QPID-7595: Higher required cmake version for Windows" #MsgLength=125


----
Modified: src/msvc.cmake|0 5

Revision: dd8e5b350b6d89263754b8bf781376d78d150490
Author: Chuck Rolke <crolke@redhat.com>
Date: 21/12/2016 02:28:11
Message:
QPID-7595: Raise minimum cmake version for windows #MsgLength=51


----
Modified: CMakeLists.txt|6 1

Revision: 1b795687374bb826271e0b29f386ac02a32f2aee
Author: Robert Gemmell <robbie@apache.org>
Date: 17/01/2017 20:22:42
Message:
NO-JIRA: update year in NOTICE file #MsgLength=36


----
Modified: NOTICE.txt|1 1

Revision: a619d4549d102f9709b59814cf839e408bf4ed16
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/02/2017 22:25:28
Message:
QPID-7651: Fixed incorrect parameter handling for --wcache-num-pages parameter #MsgLength=79


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|3 5
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|1 1

Revision: 34cfb7f0a82283fce6cea7b882712ed0929de629
Author: Kim van der Riet <kpvdr@apache.org>
Date: 09/02/2017 05:05:10
Message:
QPID-7666: Added wcache-num-pages (and tpl-wcache-num-pages) to linearstore. Changed defaults for regular queues to wcache-page-size=16 (kiB) and set wcache-num-pages default to 16. Added wcache-page-size and wcache-num-pages to qpid-config. #MsgLength=242


----
Modified: management/python/bin/qpid-config|17 0
Modified: src/qpid/linearstore/JournalImpl.cpp|8 11
Modified: src/qpid/linearstore/JournalImpl.h|6 4
Modified: src/qpid/linearstore/JournalLogImpl.h|1 1
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|62 38
Modified: src/qpid/linearstore/MessageStoreImpl.h|11 5
Modified: src/qpid/linearstore/journal/jcfg.h|4 3

Revision: 13f0fe591a5ac025f98bb45f7084462ab2788f6e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 10/02/2017 02:41:45
Message:
QPID-7666: Fixed minor inconsistency with journal-flush-timeout parameter not being scaled from ms to ns correctly #MsgLength=115


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|9 11
Modified: src/qpid/linearstore/MessageStoreImpl.h|3 3

Revision: 6716fb4345907184f0953caa3d9feb34aac49818
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/02/2017 01:33:06
Message:
QPID-7676: Fixed C++11 dependency introduced when std::round(f) was used rahter than std::floor(f + 0.5) #MsgLength=105


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|1 1

Revision: 2e08b7cae09e7326240e75829da4676746905eee
Author: Alan Conway <aconway@redhat.com>
Date: 15/02/2017 02:51:33
Message:
QPID-7674: Broker bulid problem with GCC 7 #MsgLength=204


----
Modified: CMakeLists.txt|1 1

Revision: fa27fd689d196219841771c6f9f1c30dd135dd57
Author: Alan Conway <aconway@redhat.com>
Date: 15/02/2017 02:53:12
Message:
QPID-7669: Unintended UI changes from switch to swigged Python client for management tools #MsgLength=454


----
Modified: management/python/bin/qpid-config|1 5
Modified: management/python/bin/qpid-ha|1 4
Modified: management/python/bin/qpid-printevents|1 4
Modified: management/python/bin/qpid-receive|1 4
Modified: management/python/bin/qpid-send|3 5
Modified: management/python/bin/qpid-stat|1 5

Revision: 3d18b1ddbfacb2b8cb6672d5193960bd29077540
Author: Alan Conway <aconway@redhat.com>
Date: 15/02/2017 05:11:39
Message:
QPID-7671: Problem building on debian (unstable) distribution #MsgLength=177


----
Modified: src/qpid/log/Logger.cpp|8 12
Modified: src/qpid/sys/posix/Mutex.h|1 1
Modified: src/qpid/sys/windows/Mutex.h|1 1
Modified: src/qpid/sys/windows/WinSocket.cpp|0 1


Revision: 59fd5fd75eb305835edf02ec0f172eb1a36ebd05
Author: Kim van der Riet <kpvdr@apache.org>
Date: 16/02/2017 05:19:30
Message:
QPID-7676: C++11 dependency for std::log2() fixed #MsgLength=50


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|3 1

Revision: 25e73e5a4c33783ff3e25f24c78a3608b7c32ea6
Author: Alan Conway <aconway@redhat.com>
Date: 16/02/2017 07:29:12
Message:
QPID-7674: Broker bulid problem with GCC 7, add version check #MsgLength=124


----
Modified: CMakeLists.txt|6 1

Revision: f0eaf298d3b54116cd6ac22fa26d15af5a19b9e0
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 22/02/2017 09:46:33
Message:
QPID-7679: fix DirectExchange memory leak on unbind #MsgLength=52


----
Modified: src/qpid/broker/DirectExchange.cpp|4 2

Revision: 4e393bdfaba0b52cf5d9ee9b254b7814ee43e4ba
Author: Alan Conway <aconway@redhat.com>
Date: 24/02/2017 01:49:38
Message:
QPID-7677: C++ broker AMQP 1.0 subscription uses more memory than 0-10 #MsgLength=1019


----
Modified: src/qpid/broker/Broker.cpp|8 1
Modified: src/qpid/broker/Broker.h|1 0
Modified: src/qpid/broker/BrokerOptions.h|1 0
Modified: src/qpid/broker/amqp/Outgoing.cpp|2 1

Revision: a82bd5450e3698bd0f442ed496f8c6dfd635c7fe
Author: Gordon Sim <gsim@redhat.com>
Date: 08/03/2017 16:59:24
Message:
QPID-7693: avoid creating prototype until listen() is called #MsgLength=61


----
Modified: src/qpid/sys/ssl/SslSocket.cpp|9 9
Modified: src/qpid/sys/ssl/SslSocket.h|1 0

Revision: 2ee9f79ed9371a7858e150c96a87fe051782afa7
Author: Justin Ross <jross@apache.org>
Date: 11/03/2017 23:41:27
Message:
QPID-7629: Update build metadata for compiler and library changes #MsgLength=283


----
Modified: CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|2 2

Revision: 4a5567d4351c72774b9dd6bb1e13fac6992cff75
Author: Justin Ross <jross@apache.org>
Date: 12/03/2017 04:04:11
Message:
QPID-7574: Make management libraries Python 3 compatible #MsgLength=115


----
Modified: CMakeLists.txt|1 1
Modified: management/python/lib/qmf/console.py|26 25
Modified: management/python/lib/qpidtoollibs/disp.py|6 4

Revision: 8054f71cedb29b88e43a5294a348a6a133e3a87c
Author: Justin Ross <jross@apache.org>
Date: 12/03/2017 04:08:42
Message:
QPID-7698: Correct the qpid-python version printed in the dependency check script #MsgLength=82


----
Modified: src/tests/check_dependencies.py.in|1 1

Revision: d2b80d40107b8ef29e51031dbc119017a15b1b6b
Author: Justin Ross <jross@apache.org>
Date: 12/03/2017 04:10:24
Message:
QPID-7698: Add yum instructions for RDMA support; tidy up the related section #MsgLength=78


----
Modified: INSTALL.txt|12 6

Revision: c77fcc2a3f11c2dc7c850a3625bbed9218317f93
Author: Robert Gemmell <robbie@apache.org>
Date: 15/03/2017 01:26:09
Message:
NO-JIRA: update notes on releasing #MsgLength=35


----
Modified: RELEASE.md|7 5

Revision: bf81059bc162b15a49a828d97fa7fa37eeb43dc9
Author: Robert Gemmell <robbie@apache.org>
Date: 15/03/2017 01:29:13
Message:
NO-JIRA: update notes on releasing #MsgLength=35


----
Modified: RELEASE.md|1 1

Revision: c7a3e9834236a0eeba1e20b63c81e4107bd93804
Author: Robert Gemmell <robbie@apache.org>
Date: 17/03/2017 20:41:37
Message:
QPID-7712: update check for proton version to avoid warnings with 0.17.0 release #MsgLength=81


----
Modified: src/amqp.cmake|1 1

Revision: 2a3fd5630673634888f8507c1eaab4b1e3c77864
Author: Kim van der Riet <kpvdr@apache.org>
Date: 21/03/2017 01:55:06
Message:
QPID-7715: Added documentation on upgrading from pre-partition to partitioned version of linearstore #MsgLength=101


----
Added: docs/linearstore-partition-upgrade-procedure.txt|273 0

Revision: 93dfd397bcf2cdf425a162d93c0c4a09b0ba5522
Author: Justin Ross <jross@apache.org>
Date: 22/03/2017 20:39:16
Message:
QPID-7629: Revert the use of SYSTEM for now; there is a concern that it will impact portability #MsgLength=96


----
Modified: src/CMakeLists.txt|2 2

Revision: 874ecfaa2c168e211ee1f250d880e9d06cbad8ef
Author: Justin Ross <jross@apache.org>
Date: 22/03/2017 20:41:08
Message:
QPID-7714: Suppress very verbose warnings #MsgLength=42


----
Modified: CMakeLists.txt|2 2

Revision: f04bc169f11c99be50399341905186b3405a3130
Author: Justin Ross <jross@apache.org>
Date: 23/03/2017 20:53:51
Message:
QPID-7629: Use the CMake SYSTEM keyword when including headers for nss and sasl #MsgLength=80


----
Modified: src/CMakeLists.txt|2 2

Revision: f91a23c59e18fcdc1560687e14813346468fec3d
Author: Kenneth Giusti <kgiusti@apache.org>
Date: 14/03/2017 03:07:25
Message:
QPID-7702: Fix some minor memory leaks detected by Coverity scan #MsgLength=159


----
Modified: bindings/qmf2/python/cqmf2.i|7 3
Modified: bindings/qpid/python/qpid_messaging.i|7 3

Revision: e7f533f0df63510094cb220fa0894b6a4ddaac2a
Author: Pavel Moravec <pmoravec@redhat.com>
Date: 18/05/2017 18:13:21
Message:
QPID-7786: qpidd segfaults during startup when SSL certificate cant be read #MsgLength=263


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|1 1

Revision: cbc50981ba477ce4074e5e676100daaec3169627
Author: Pavel Moravec <pmoravec@redhat.com>
Date: 18/05/2017 19:21:47
Message:
QPID-7788: Linearstore doesnt move to EFP latest journal files when deleting a durable queue #MsgLength=294


----
Modified: src/qpid/linearstore/journal/LinearFileController.cpp|11 6
Modified: src/qpid/linearstore/journal/LinearFileController.h|2 1
Modified: src/qpid/linearstore/journal/jcntl.cpp|2 1

Revision: 57cbe59b5a46a620553d28306b0da648a1272895
Author: Robert Gemmell <robbie@apache.org>
Date: 24/05/2017 22:45:04
Message:
QPID-7756: remove stale AMQP 0-10 JMS client content, a seperate book for that client was based on it via QPID-7265 #MsgLength=116


----
Modified: docs/book/src/programming/Programming-In-Apache-Qpid.xml|0 1256

Revision: 753d03c1dca2461bbbf01300c4c00759fff5470b
Author: Robert Gemmell <robbie@apache.org>
Date: 24/05/2017 22:45:33
Message:
QPID-7756: remove stale WCF related content, the WCF binding is no longer #MsgLength=74


----
Modified: docs/book/src/programming/Programming-In-Apache-Qpid.xml|0 451

Revision: 6ef38e82047d0201e49ff23999b0ea3716baf5a3
Author: Robert Gemmell <robbie@apache.org>
Date: 24/05/2017 22:45:52
Message:
QPID-7756: remove stale introduction that we link past anyway #MsgLength=62


----
Modified: docs/book/src/programming/Programming-In-Apache-Qpid.xml|0 37

Revision: 99dd7d3874fdad4a853cdea5a8535a0d2e6491b3
Author: Robert Gemmell <robbie@apache.org>
Date: 24/05/2017 22:46:00
Message:
QPID-7756: rename the book to better reflect its content #MsgLength=57


----
Modified: docs/book/Makefile|1 1
Modified: docs/book/src/Makefile.inc|1 1
Renamed: docs/book/src/messaging-api/Makefile [from docs/book/src/programming/Makefile]|0 0
Renamed: docs/book/src/messaging-api/Message-Groups-Guide.xml [from docs/book/src/programming/Message-Groups-Guide.xml]|0 0
Renamed: docs/book/src/messaging-api/Qpid-Messaging-API.xml [from docs/book/src/programming/Programming-In-Apache-Qpid.xml]|2 2

Revision: e7ab5476c81ed393aa8c24b7f2422afe4306ba28
Author: Robert Gemmell <robbie@apache.org>
Date: 24/05/2017 22:46:12
Message:
QPID-7756: give the chapter an ID to control its output filename #MsgLength=65


----
Modified: docs/book/src/messaging-api/Qpid-Messaging-API.xml|1 1

Revision: 0ffa89e177346e68bdeb5a24b9f25190c983bd34
Author: Alan Conway <aconway@redhat.com>
Date: 06/07/2017 23:32:03
Message:
QPID-7847: qmf.client.BrokerAgent does not provide reconnect support #MsgLength=554


----
Modified: management/python/lib/qmf/client.py|100 24
Modified: src/tests/qmf_client_tests.py|196 3

Revision: b371bd86d1026ba922eca8fb6b3b920af0b4a6a8
Author: Gordon Sim <gsim@redhat.com>
Date: 14/07/2017 23:43:38
Message:
QPID-7859: fix exception handling #MsgLength=34


----
Modified: src/qpid/broker/amqp/Connection.cpp|1 0
Modified: src/qpid/broker/amqp/Session.cpp|10 6

Revision: ecfbc6a27e065d35da4e6c312278885aa1ec38e9
Author: Justin Ross <jross@apache.org>
Date: 15/07/2017 01:06:13
Message:
QPID-7861: Provide systemd scripts for Fedora.  Thanks to Irina Boverman for the patch. #MsgLength=88


----
Added: etc/fedora/qpidd-primary.service|15 0
Added: etc/fedora/qpidd.service|14 0

Revision: 0e1cef52d6d445d06602d57611eb8c7591ca571c
Author: Kim van der Riet <kpvdr@apache.org>
Date: 03/08/2017 03:56:15
Message:
QPID-7877: Rolled back changes to linearstore journal-flush-timeout option made in QPID-7666. The original qpid::sys::Duration implementation which is more flexible and allows the use of units is restored. #MsgLength=206


----
Modified: src/qpid/linearstore/MessageStoreImpl.cpp|10 9
Modified: src/qpid/linearstore/MessageStoreImpl.h|3 3

Revision: 4e98f6c08ef531e15217f812f6624f18cf2d50fb
Author: Kim van der Riet <kpvdr@apache.org>
Date: 22/08/2017 23:04:37
Message:
QPID-7895: Update to linearstore to make the flush timer more intelligent and only run when there is flushable content in the write buffers #MsgLength=140


----
Modified: .gitignore|1 1
Modified: src/qpid/linearstore/JournalImpl.cpp|65 27
Modified: src/qpid/linearstore/JournalImpl.h|9 6

Revision: a8d392efe30ef763d2e93c6ce733976ac786c0f0
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 01/08/2017 22:12:59
Message:
QPID-7875 qpid-route fetches links multiple times when deleting routes #MsgLength=71


----
Modified: management/python/bin/qpid-route|0 6

Revision: edccbc9e1737603a1d1f66f0df8499dbba07e93b
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 02/08/2017 04:03:30
Message:
QPID-7876 qpid-route does not properly consider src-local when matching bridges #MsgLength=80


----
Modified: management/python/bin/qpid-route|51 33

Revision: f676974d0dcf4c4fb35ac7fc685be08ff91806d5
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 03/08/2017 04:54:46
Message:
QPID-7874 Use qpid-route quiet option to suppress extra link checks #MsgLength=68


----
Modified: management/python/bin/qpid-route|6 5

Revision: 55d4171a8155d9f6a07a48507e33d43b8cb6d904
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 04/08/2017 22:16:57
Message:
QPID-7876 qpid-route does not properly consider src-local when matching bridges #MsgLength=80


----
Modified: management/python/bin/qpid-route|8 5

Revision: 76a6d71fd723fd60b0f9aed86688fcbc8ffbe221
Author: Gordon Sim <gsim@redhat.com>
Date: 21/08/2017 23:28:05
Message:
QPID-7859: remove unintended log statement #MsgLength=43


----
Modified: src/qpid/broker/amqp/Connection.cpp|0 1

Revision: fd4e8319e230d35b7abcf670404778c844d0a053
Author: Gordon Sim <gsim@redhat.com>
Date: 21/08/2017 23:28:39
Message:
NO-JIRA: add hostname to debug log statement for sasl-init #MsgLength=59


----
Modified: src/qpid/broker/amqp/Sasl.cpp|2 2


Revision: b3559ee9c66f791c39a4e86f87bc1533b7eb0ba5
Author: Alan Conway <aconway@redhat.com>
Date: 28/08/2017 21:47:39
Message:
QPID-7901: Prevent endless detach cycle #MsgLength=195


----
Modified: src/qpid/amqp_0_10/SessionHandler.cpp|9 1

Revision: 0ec965f37c063cb954fb331340c091813b64501d
Author: Kim van der Riet <kpvdr@apache.org>
Date: 29/08/2017 22:51:23
Message:
QPID-7895: Further improvement of previous checkin to solve some additional possible race conditions #MsgLength=101


----
Modified: src/qpid/linearstore/JournalImpl.cpp|8 23
Modified: src/qpid/linearstore/JournalImpl.h|1 2

Revision: a7c9d1baf4a26bed13c75efcf808cb7ce686560a
Author: Chuck Rolke <crolke@redhat.com>
Date: 27/09/2017 20:57:40
Message:
QPID-7929: add extern for windows build #MsgLength=40


----
Modified: src/qpid/broker/Broker.h|1 1

Revision: 81739de5a368cef2826054f7ff7962b60e4e564e
Author: Kim van der Riet <kpvdr@apache.org>
Date: 30/09/2017 01:57:45
Message:
QPID-7895: Additional race condition fixed #MsgLength=43


----
Modified: src/qpid/linearstore/JournalImpl.cpp|6 6

Revision: 9b3014adcbd65fedfba9ba4f6797fc46cbb0062f
Author: Kim van der Riet <kpvdr@apache.org>
Date: 18/10/2017 21:58:02
Message:
QPID-7975: Fix for InactivityFireEvent state machine #MsgLength=53


----
Modified: src/qpid/linearstore/JournalImpl.cpp|31 26
Modified: src/qpid/linearstore/JournalImpl.h|3 4

Revision: fc377333e4d3b666df750c090e12e608dce8012d
Author: Kim van der Riet <kpvdr@apache.org>
Date: 19/10/2017 03:02:44
Message:
QPID-7975: Fixed a syntax error that affects earlier c++ compilers #MsgLength=67


----
Modified: src/qpid/linearstore/JournalImpl.cpp|1 1

Revision: c5363a48acc43949e74ae8d85a20858d2313de11
Author: Justin Ross <jross@apache.org>
Date: 21/09/2017 07:11:58
Message:
QPID-7893: Dubious fixes for initialization warnings #MsgLength=53


----
Modified: src/qpid/broker/Selector.cpp|1 3
Modified: src/qpid/broker/SelectorExpression.cpp|1 1
Modified: src/qpid/broker/SelectorToken.h|2 1

Revision: 3b789332cc5ca02a7bddee04751b8f229d4603a5
Author: Justin Ross <jross@apache.org>
Date: 22/09/2017 07:46:55
Message:
QPID-7713: The proximate fix for the clang linking problem #MsgLength=59


----
Modified: src/tests/CMakeLists.txt|2 1

Revision: 2349e0b79c9204b5ed37ec2a1b44625e1c46cc6d
Author: Justin Ross <jross@apache.org>
Date: 22/09/2017 08:09:37
Message:
QPID-7860: Fix swig deprecation warnings #MsgLength=41


----
Added: CMakeModules/FindSWIG.cmake|43 0
Modified: bindings/qmf2/python/CMakeLists.txt|1 1
Modified: bindings/qmf2/ruby/CMakeLists.txt|1 1
Modified: bindings/qpid/perl/CMakeLists.txt|1 1
Modified: bindings/qpid/python/CMakeLists.txt|1 1
Modified: bindings/qpid/ruby/CMakeLists.txt|1 1

Revision: bacf5bee03665a7009ba824b65f5d9dc60547a78
Author: Justin Ross <jross@apache.org>
Date: 22/09/2017 08:24:38
Message:
QPID-7920: Increment the max safe proton version #MsgLength=49


----
Modified: src/amqp.cmake|1 1

Revision: e2c8ff452b6a0456f0ce12d94e9ce7143d212c57
Author: Justin Ross <jross@apache.org>
Date: 29/09/2017 01:21:32
Message:
QPID-7936: Allow overriding Perl and Ruby install prefixes #MsgLength=59


----
Modified: bindings/CMakeLists.txt|16 10
Modified: bindings/qpid/perl/CMakeLists.txt|8 3
Modified: bindings/qpid/ruby/CMakeLists.txt|5 0

Revision: 2787235079659126474e24c285823c69bb31119d
Author: Justin Ross <jross@apache.org>
Date: 12/10/2017 07:07:46
Message:
QPID-7893: Improvements to initialzation fixes from review #MsgLength=59


----
Modified: src/qpid/broker/Selector.cpp|1 1
Modified: src/qpid/broker/SelectorToken.h|1 1

Revision: 1a44364f30e5941f09372383ce46c1c36fd15859
Author: Robbie Gemmell <robbie@apache.org>
Date: 03/11/2017 01:00:49
Message:
QPID-7712: update check for proton version to avoid warnings with 0.18.1 #MsgLength=73


----
Modified: src/amqp.cmake|1 1

Revision: 8ca906bc34678563e033b910e96cfa7524899f21
Author: Chuck Rolke <crolke@redhat.com>
Date: 16/11/2017 07:11:56
Message:
QPID-8037: Compile error on Visual Studio 2017: auto_ptr definition #MsgLength=68


----
Modified: src/qpid/store/ms-clfs/Log.h|1 0

Revision: ab748b4d4c03703556e850f821e872bb0f03a004
Author: Alan Conway <aconway@redhat.com>
Date: 17/11/2017 01:20:10
Message:
QPID-7991: Segfault in broker while processing active bridges #MsgLength=137


----
Modified: src/qpid/broker/Link.cpp|8 6

Revision: 598ce6b3d06b8cc041013a6d3e86dcf8d9c432f2
Author: Alan Conway <aconway@redhat.com>
Date: 17/11/2017 04:41:55
Message:
NO-JIRA: Better error reporting from run_ssl_tests #MsgLength=492


----
Modified: CMakeLists.txt|0 1
Modified: src/tests/CMakeLists.txt|1 1
Modified: src/tests/run_ssl_tests|46 42
Deleted: src/tests/ssl_test|0 335

Revision: 278da4e665ce3f9c4ca58ff767f1a02011df9a76
Author: Alan Conway <aconway@redhat.com>
Date: 17/11/2017 06:42:49
Message:
NO-JIRA: Remove unwanted output from run_ssl_tests #MsgLength=51


----
Modified: src/tests/run_ssl_tests|5 4

Revision: 5a8b4a40672740c28a5c90c54adae128df0e271c
Author: Keith Wall <kwall@apache.org>
Date: 17/11/2017 21:09:33
Message:
QPID-8041: Allow virtualhost field to be specified when forming an AMQP 0-10 connection. #MsgLength=89


----
Modified: include/qpid/messaging/Connection.h|4 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 0

Revision: ffe468c0343a82667682953cac388c26a1451748
Author: Robbie Gemmell <robbie@apache.org>
Date: 20/11/2017 23:09:29
Message:
QPID-8043: update cert generation to add extension indicating cert signing, allows test clients to verify the signed server key #MsgLength=128


----
Modified: src/tests/run_ssl_tests|1 1

Revision: b6371eaa694414f3fc37fe5a531b1a72b719cadb
Author: Robbie Gemmell <robbie@apache.org>
Date: 21/11/2017 20:59:33
Message:
QPID-8043: relax -e for availability checks, allows them to work and indicate whats happening. #MsgLength=257


----
Modified: src/tests/run_ssl_tests|6 1

Revision: 6370e1b232b9f62ce26505ebfaee7753f6e30d29
Author: Robbie Gemmell <robbie@apache.org>
Date: 21/11/2017 21:01:16
Message:
QPID-8043: some tweaks made to the Travis config during debug, gets the ssl tests running #MsgLength=90


----
Modified: .travis.yml|2 1

Revision: 4bc94bbbaf1714d4c836e756ccb07fe3ff999ec4
Author: Irina Boverman <iboverma@redhat.com>
Date: 27/07/2017 08:22:13
Message:
QPID-7871: always include .bat files in setup package #MsgLength=54


----
Modified: management/python/setup.py|7 9

Revision: 851e5b198f0f232a104046f593d157cb0256a969
Author: Robbie Gemmell <robbie@apache.org>
Date: 22/11/2017 00:49:52
Message:
QPID-7920: update notes and helper script for releases #MsgLength=55


----
Modified: RELEASE.md|6 7
Modified: bin/export.sh|1 1

Revision: 725ccbd954c14b92b577fb5c4250ef8fa709c7e1
Author: Robbie Gemmell <robbie@apache.org>
Date: 22/11/2017 01:22:36
Message:
QPID-7920: update versions for 1.37.0-rc1 #MsgLength=42


----
Modified: VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1

Revision: c191859fc2192903e6154207826945539c9d2adf
Author: Robbie Gemmell <robbie@apache.org>
Date: 22/11/2017 01:32:03
Message:
QPID-8048, QPID-7920: update versions for 1.38.0-SNAPSHOT #MsgLength=58


----
Modified: VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1
Modified: management/python/setup.py|1 1

Revision: 02b828af66b7fae052e29c30ac20bfd930a0ccfc
Author: Justin Ross <jross@apache.org>
Date: 10/01/2018 07:26:50
Message:
QPID-8072: Remove the obsolete Ruby management API #MsgLength=51


----
Deleted: management/ruby/.gitignore|0 23
Deleted: management/ruby/.rspec|0 1
Deleted: management/ruby/Gemfile|0 30
Deleted: management/ruby/Gemfile.lock|0 55
Deleted: management/ruby/Rakefile|0 27
Deleted: management/ruby/lib/qpid_management.rb|0 81
Deleted: management/ruby/lib/qpid_management/acl.rb|0 38
Deleted: management/ruby/lib/qpid_management/binding.rb|0 31
Deleted: management/ruby/lib/qpid_management/bridge.rb|0 39
Deleted: management/ruby/lib/qpid_management/broker.rb|0 278
Deleted: management/ruby/lib/qpid_management/broker_agent.rb|0 173
Deleted: management/ruby/lib/qpid_management/broker_object.rb|0 126
Deleted: management/ruby/lib/qpid_management/cluster.rb|0 26
Deleted: management/ruby/lib/qpid_management/connection.rb|0 51
Deleted: management/ruby/lib/qpid_management/errors.rb|0 28
Deleted: management/ruby/lib/qpid_management/exchange.rb|0 44
Deleted: management/ruby/lib/qpid_management/ha_broker.rb|0 26
Deleted: management/ruby/lib/qpid_management/link.rb|0 35
Deleted: management/ruby/lib/qpid_management/memory.rb|0 34
Deleted: management/ruby/lib/qpid_management/queue.rb|0 97
Deleted: management/ruby/lib/qpid_management/session.rb|0 38
Deleted: management/ruby/lib/qpid_management/subscription.rb|0 35
Deleted: management/ruby/qpid_management.gemspec|0 36
Deleted: management/ruby/spec/broker_agent_spec.rb|0 43
Deleted: management/ruby/spec/broker_spec.rb|0 373
Deleted: management/ruby/spec/spec_helper.rb|0 21

Revision: 1e3668653ad4598326bed5bf82c3a00e6ab4ef63
Author: Robbie Gemmell <robbie@apache.org>
Date: 17/01/2018 18:22:31
Message:
NO-JIRA: update year in NOTICE file #MsgLength=36


----
Modified: NOTICE.txt|1 1

Revision: e37969a8c19da7aa1c6400af2facecfec6b5f702
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 25/01/2018 07:05:19
Message:
QPID-8075: Fixed issue by changing the correlation-id sent to QMF from a 8-byte binary to a 4-byte string. Now works in Python 2 and Python 3. #MsgLength=143


----
Modified: management/python/lib/qmf/client.py|1 1

Revision: 88f105c93150ca25ebe2f45fb92565d547063951
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 03/02/2018 04:18:01
Message:
QPID-8084: Change QMF client to use unicode string literals when encoding message application properties. Solves a Python 2 issue where the keys are encoded as binary rather as string types, which is contrarary to the AMQP 1.0 spec. #MsgLength=233


----
Modified: management/python/lib/qmf/client.py|12 12

Revision: 790d0fc849ba9e45c26c381557d7813967eaa325
Author: Gordon Sim <gsim@redhat.com>
Date: 08/03/2018 18:38:31
Message:
QPID-8118: check device list before freeing #MsgLength=91


----
Modified: src/qpid/sys/rdma/rdma_wrap.cpp|4 1

Revision: 2cafedd9b3e65983aed23c516293597869ca1541
Author: Robbie Gemmell <robbie@apache.org>
Date: 14/03/2018 20:43:02
Message:
NO-JIRA: update release helper notes #MsgLength=37


----
Modified: RELEASE.md|1 2

Revision: 24c4a37837616b0898773ee1a369c2dc41568d0b
Author: Justin Ross <jross@apache.org>
Date: 10/01/2018 07:34:43
Message:
QPID-8073: Add missing package to help text #MsgLength=44


----
Modified: src/tests/check_dependencies.py.in|1 1

Revision: b18583a6c05d0bb8cb9502f0823d902e17b2410e
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 02:32:28
Message:
QPID-8128: Link to libqpid-proton-core, not libqpid-proton; remove an obsolete way to find the proton config #MsgLength=109


----
Modified: CMakeModules/FindProton.cmake|10 23
Modified: src/CMakeLists.txt|1 1
Modified: src/amqp.cmake|1 1

Revision: b569b4d6447408c451fc3167af25c41efce81fd1
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 03:41:15
Message:
QPID-8072, QPID-8129: Remove the long deprecated Ruby and Python bindings to QMF2 #MsgLength=82


----
Modified: bindings/CMakeLists.txt|0 2
Deleted: bindings/qmf2/examples/python/agent.py|0 196
Deleted: bindings/qmf2/examples/python/find_agents.py|0 57
Deleted: bindings/qmf2/examples/ruby/agent_external.rb|0 84
Deleted: bindings/qmf2/examples/ruby/agent_internal.rb|0 77
Deleted: bindings/qmf2/examples/ruby/find_agents.rb|0 63
Deleted: bindings/qmf2/python/CMakeLists.txt|0 74
Deleted: bindings/qmf2/python/cqmf2.i|0 45
Deleted: bindings/qmf2/python/qmf2.py|0 937
Deleted: bindings/qmf2/ruby/CMakeLists.txt|0 50
Deleted: bindings/qmf2/ruby/qmf2.rb|0 857
Deleted: bindings/qmf2/ruby/ruby.i|0 37

Revision: 2fda1139ae93018d4a3c2bd5571c02512ad7ebe8
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 04:15:04
Message:
QPID-7051: Fix crash after reconnect with transactional session.  This is a patch from Hkan Johansson #MsgLength=103


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|5 0

Revision: 88d08be32de9b6233fcad02539b9dcf303e4b16b
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 04:49:23
Message:
QPID-7999: Move Fedora-specific init scripts to the fedora dir; disable their installation, but keep them in the build output so packagers can pick them up as needed #MsgLength=166


----
Modified: etc/CMakeLists.txt|4 10
Renamed: etc/fedora/cluster.conf-example.xml [from etc/cluster.conf-example.xml.in]|0 0
Renamed: etc/fedora/qpidd-primary.in [from etc/qpidd-primary.in]|0 0
Renamed: etc/fedora/qpidd.in [from etc/qpidd.in]|0 0

Revision: 26b6c3730a3672e39fe436811f417e5b04687858
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 06:05:50
Message:
QPID-7089: Add a note linking to OS packages #MsgLength=45


----
Modified: INSTALL.txt|5 0

Revision: cd6cad7364afd2ed78a21c2cad42c85304d8080e
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 06:37:45
Message:
QPID-7821: Add man pages for all executables.  Adapted from a patch from Irina Boverman. #MsgLength=89


----
Modified: docs/man/CMakeLists.txt|2 2
Renamed: docs/man/generate-manpages.sh [from docs/man/groffify_template.sed]|22 3
Deleted: docs/man/generate_manpage|0 27
Deleted: docs/man/groffify_options.sed|0 25
Added: docs/man/qmf-gen.1|51 0
Added: docs/man/qmf-gen.x|38 0
Added: docs/man/qpid-config.1|204 0
Added: docs/man/qpid-config.x|89 0
Added: docs/man/qpid-ha.1|35 0
Added: docs/man/qpid-ha.x|38 0
Added: docs/man/qpid-printevents.1|57 0
Added: docs/man/qpid-printevents.x|44 0
Added: docs/man/qpid-queue-stats.1|41 0
Added: docs/man/qpid-queue-stats.x|38 0
Added: docs/man/qpid-receive.1|223 0
Added: docs/man/qpid-receive.x|38 0
Added: docs/man/qpid-route.1|99 0
Added: docs/man/qpid-route.x|38 0
Added: docs/man/qpid-send.1|255 0
Added: docs/man/qpid-send.x|38 0
Added: docs/man/qpid-stat.1|88 0
Added: docs/man/qpid-stat.x|47 0
Added: docs/man/qpid-tool.1|37 0
Added: docs/man/qpid-tool.x|38 0
Modified: docs/man/qpidd.1|365 225
Modified: docs/man/qpidd.x|1 1

Revision: 5d28224e6108136284ebef9a23a01d1e226d1404
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 07:37:14
Message:
QPID-7630: Add a CMake switch to allow -Werror to be switched off #MsgLength=66


----
Modified: CMakeLists.txt|1 1
Modified: src/CMakeLists.txt|4 4

Revision: 3b6f718deb0d71e194e9ccdd276caea854c97d5d
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 07:52:42
Message:
QPID-8128: Remove the Proton version warning and raise the minimum version #MsgLength=75


----
Modified: src/amqp.cmake|2 5

Revision: b2bfd9b2a46d4d4529d9588df762c4a524a3f6a7
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 09:08:20
Message:
QPID-7054: Fix crash when closing a sender after the connection has been closed.  Thanks to Hkan Johansson for the patch. #MsgLength=123


----
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|9 3

Revision: 8ceb65eb9c7e6e1c988d9edea5b5539a7559c3d0
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 21:43:16
Message:
QPID-7499: Copy test scripts in a way that preserves dependencies #MsgLength=66


----
Modified: src/tests/CMakeLists.txt|29 10

Revision: 186657838631cf18c4f5ad9039522fdc2385cb00
Author: Justin Ross <jross@apache.org>
Date: 13/03/2018 21:44:15
Message:
NO-JIRA: Suppress a valgrind warning about an invalid free on exit #MsgLength=67


----
Modified: src/tests/.valgrind.supp|11 0

Revision: 646c3b1b501d5ec701c72d4d34b7caea733a97fa
Author: Justin Ross <jross@apache.org>
Date: 15/03/2018 01:46:12
Message:
QPID-8131: Fix a legacytest build failure and make sure the right tools are on the path for its tests #MsgLength=102


----
Modified: src/tests/legacystore/jrnl/jtt/_ut_read_arg.cpp|2 2
Modified: src/tests/legacystore/run_python_tests|4 0

Revision: 58c0d36310b4c23a009cdbc7ef7a621976e351a2
Author: Justin Ross <jross@apache.org>
Date: 15/03/2018 04:28:08
Message:
QPID-7499: Fix a cmake syntax error #MsgLength=36


----
Modified: src/tests/CMakeLists.txt|1 1

Revision: f14f1bc162c4f4249d6397cbf1ee2522074dc17a
Author: Justin Ross <jross@apache.org>
Date: 22/03/2018 06:06:25
Message:
QPID-8128: Fix pkg-config based builds #MsgLength=39


----
Modified: CMakeModules/FindProton.cmake|1 1

Revision: d541e4833ffbabf45a840676effd68310a4b5c88
Author: Justin Ross <jross@apache.org>
Date: 22/03/2018 07:16:10
Message:
QPID-8048: Update versions for 1.38.0-rc1 #MsgLength=42


----
Modified: VERSION.txt|1 1

Revision: dd7a21cc39bfdfe72a422d1aee4fda87619ea807
Author: Justin Ross <jross@apache.org>
Date: 22/03/2018 07:21:45
Message:
QPID-8048: Update to snapshot version #MsgLength=38


----
Modified: VERSION.txt|1 1

Revision: 4e8b1de32c487dde825308f4a35ad32354557452
Author: Justin Ross <jross@apache.org>
Date: 28/03/2018 21:40:03
Message:
QPID-8048: Update versions for the next release #MsgLength=48


----
Modified: VERSION.txt|1 1
Modified: docs/man/qpidd.1|1 1
Modified: management/python/setup.py|1 1

Revision: 9f823d4df8346e9bf91faeaeeba7896a3a5d332b
Author: Justin Ross <jross@apache.org>
Date: 28/03/2018 21:40:03
Message:
QPID-7926: [c++ broker] Windows build error "cannot convert from 'int' to 'qpid::sys::PODMutex'" #MsgLength=483


----
Modified: src/qpid/log/Logger.cpp|2 2
Modified: src/qpid/sys/posix/Mutex.h|9 9
Modified: src/qpid/sys/windows/Mutex.h|9 26

Revision: 800028f4f6d362a2b76ef575ce72981b07c72282
Author: Justin Ross <jross@apache.org>
Date: 20/04/2018 09:10:57
Message:
QPID-7360: Only add the option for gcc to avoid a build fail on windows #MsgLength=72


----
Modified: src/CMakeLists.txt|6 4

Revision: 29d76b97f1dc8ebe0dbbe7c3264428d727ba3258
Author: Justin Ross <jross@apache.org>
Date: 21/04/2018 04:32:24
Message:
QPID-8169: Don't link to pthread on Windows #MsgLength=44


----
Modified: src/tests/CMakeLists.txt|5 2

Revision: 4a5d8aeab136df3d35b92e0e39146ba3ee66dab4
Author: Justin Ross <jross@apache.org>
Date: 21/04/2018 07:32:23
Message:
NO-JIRA: Add CI badges to the readme #MsgLength=37


----
Modified: README.md|2 0

Revision: dfb1f43067d111e97f3ab0c09f87065c6e959c77
Author: Justin Ross <jross@apache.org>
Date: 07/05/2018 21:54:18
Message:
QPID-8183: Remove examples for the deprecated QMF API #MsgLength=54


----
Modified: bindings/CMakeLists.txt|0 2
Deleted: bindings/qmf2/examples/cpp/CMakeLists.txt|0 81
Deleted: bindings/qmf2/examples/cpp/README.txt|0 41
Deleted: bindings/qmf2/examples/cpp/agent.cpp|0 254
Deleted: bindings/qmf2/examples/cpp/event_driven_list_agents.cpp|0 109
Deleted: bindings/qmf2/examples/cpp/list_agents.cpp|0 75
Deleted: bindings/qmf2/examples/cpp/print_events.cpp|0 66

Revision: 3a37ceed5faf667c6a0e45e023bb1d4fced66b75
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 08/05/2018 05:01:54
Message:
QPID-8184: Recovery intermittently produces JERR_EFP_BADEFPDIRNAME error followed by core: Fix by Pavel Moravec #MsgLength=112


----
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|2 1

Revision: 51b9ae56dd57745e983abce6e860ee462ef38840
Author: Chris Richardson <chrisr@apache.org>
Date: 10/05/2018 23:08:08
Message:
QPID-8188 Invalid type qualifiers causes build failure on GCC 8 #MsgLength=64


----
Modified: src/qpid/log/Statement.cpp|1 1

Revision: 2b462eb330fc863d12e6135933627addcbe1275b
Author: Chris Richardson <chrisr@apache.org>
Date: 10/05/2018 22:07:38
Message:
QPID-8187 CMakeLists.txt indent corrections #MsgLength=44


----
Modified: CMakeLists.txt|35 35

Revision: 706b5f3fb2fd4bb89ef8268575a8592b7b66272e
Author: Chris Richardson <chrisr@apache.org>
Date: 10/05/2018 22:08:12
Message:
QPID-8187 Allow incompatible function casts for SASL compatibility (GCC 8 onwards) #MsgLength=83


----
Modified: CMakeLists.txt|3 0

Revision: 8b09d246f2529ea59809cac743e55af3920b4895
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 10/05/2018 17:45:42
Message:
QPID-8186 Use const ref when catching exceptions #MsgLength=49


----
Modified: src/qpid/sys/posix/SocketAddress.cpp|2 2
Modified: src/tests/AclHost.cpp|2 2

Revision: 3ae9f03bed53e62d4b62c0ac342b3a44894ecea7
Author: Justin Ross <jross@apache.org>
Date: 14/05/2018 01:36:09
Message:
NO-JIRA: Add cyrus mech packages for test-time dependencies #MsgLength=60


----
Modified: INSTALL.txt|1 1

Revision: d490824a6d63841876ecc8b92b26f46622bf1f2f
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 15/05/2018 21:54:06
Message:
QPID-8184: Second part of fix: Change error handling for EFP exceptions such that the broker shuts down more cleanly without a spurious segfault. Also addeed tests to the linearstore test suite which forces such errors and checks that they are handles correctly. A minor update to brokertest.py fixes tests which use the EXPECT_EXIT_FAIL flag. #MsgLength=344


----
Modified: src/qpid/linearstore/journal/EmptyFilePool.cpp|5 9
Modified: src/qpid/linearstore/journal/EmptyFilePool.h|1 1
Modified: src/qpid/linearstore/journal/EmptyFilePoolPartition.cpp|4 15
Modified: src/qpid/linearstore/journal/jerrno.cpp|1 1
Modified: src/tests/brokertest.py|4 1
Modified: src/tests/linearstore/python_tests/client_persistence.py|45 1
Modified: src/tests/linearstore/python_tests/store_test.py|46 0

Revision: a3a77949ec491ad9f7ef7c4c0261be6d032d5974
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 26/05/2018 01:36:15
Message:
QPID-8200: Fix for -Wclass-memaccess compile error on Fedora 28 #MsgLength=64


----
Modified: src/qpid/linearstore/journal/pmgr.cpp|0 10
Modified: src/qpid/linearstore/journal/pmgr.h|0 1

Revision: fcfd6759f13419f1e74a5e7efd0c81fbd0c25e48
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 06/06/2018 23:25:17
Message:
QPID-8200: Fix for legacystore compiling under Fedora 28. Similar to that on linearstore, plus some additional cleanup. Also fixed a linker issue on F28 through adding the rec_hdr.cpp file. #MsgLength=190


----
Modified: src/legacystore.cmake|1 0
Modified: src/qpid/legacystore/jrnl/pmgr.cpp|0 11
Modified: src/qpid/legacystore/jrnl/pmgr.h|0 1
Added: src/qpid/legacystore/jrnl/rec_hdr.cpp|36 0
Modified: src/tests/legacystore/CMakeLists.txt|1 1
Modified: src/tests/legacystore/jrnl/_ut_rec_hdr.cpp|15 15

Revision: ccacb5c7eb0ed9b2e4bc4735d3fb0aef332e8d28
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 08/06/2018 22:10:34
Message:
QPID-8206: Deadlock in InactivityFireEvent cancel() and fire(): propoesed fix for deadlock #MsgLength=91


----
Modified: src/qpid/linearstore/JournalImpl.cpp|4 2

Revision: 91ed1489de7ab74d99f9d7198b90583454e96c5e
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 20/06/2018 23:26:54
Message:
QPID-8211: Placed a deprecation notice into the cmake script, also into the log file at warning level when the store is intialized on broker startup. #MsgLength=150


----
Modified: src/legacystore.cmake|5 0
Modified: src/qpid/legacystore/MessageStoreImpl.cpp|1 0

Revision: 428eafa1f65e22e04ea63b73aebcc192282df72c
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 24/07/2018 21:32:47
Message:
QPID-8220: Proposed fix for timer error message issue, also minor change to error message itself to make less confusing #MsgLength=120


----
Modified: src/qpid/linearstore/JournalImpl.cpp|2 2

Revision: 5d0565ab605d2508d72fe46371a9c2401d514d22
Author: Gordon Sim <gsim@redhat.com>
Date: 08/08/2018 05:23:00
Message:
QPID-8226: mark delivery record as 'ended' if acquire mode is not-acquired and accept mode is none #MsgLength=250


----
Modified: src/qpid/broker/DeliveryRecord.cpp|1 1

Revision: 5aa1080981a657bd6f01483d6b24469e6e838ab5
Author: Gordon Sim <gsim@redhat.com>
Date: 08/08/2018 15:12:21
Message:
QPID-8221: patch from Chen Wan to add connection timeout to client #MsgLength=67


----
Modified: src/qpid/client/ConnectionHandler.cpp|10 1
Modified: src/qpid/client/ConnectionSettings.cpp|2 1
Modified: src/qpid/client/ConnectionSettings.h|6 0
Modified: src/qpid/client/amqp0_10/ConnectionImpl.cpp|2 0

Revision: 07673b0b3b5e902f3b6784cdb1ff29a3418f234b
Author: Gordon Sim <gsim@redhat.com>
Date: 11/10/2018 05:28:20
Message:
QPID-8248: delete management object when exchange is destroyed from the registry #MsgLength=81


----
Modified: src/qpid/broker/Exchange.cpp|4 0

Revision: f264cc6c0f27635b784d602d6ff85df09742cbe0
Author: Gordon Sim <gsim@redhat.com>
Date: 13/10/2018 02:05:49
Message:
QPID-8248: fix resetting of pointer for certain compilers #MsgLength=58


----
Modified: src/qpid/broker/Exchange.cpp|1 1

Revision: 87fb2b01fe8ed5251ff8f1a4f052d589f0748c23
Author: Gordon Sim <gsim@redhat.com>
Date: 17/10/2018 00:54:23
Message:
NO-JIRA: only run sasl and acl tests if test sasldb was created #MsgLength=64


----
Modified: src/tests/CMakeLists.txt|3 3

Revision: 0ba019b73fdab9bce537d9aeede298e49fa9a349
Author: Gordon Sim <gsim@redhat.com>
Date: 17/10/2018 00:54:47
Message:
QPID-8249: add server_reconnect example to the installed makefile #MsgLength=66


----
Modified: examples/messaging/extra_dist/CMakeLists.txt|1 0

Revision: f20220f70fcaf8c6b7efb6e24b35b033aaba5a32
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 18/10/2018 06:55:49
Message:
QPID-8209: race in queue deletion causes infinite recursion in autodelete #MsgLength=74


----
Modified: src/qpid/broker/Broker.cpp|30 22
Modified: src/qpid/broker/Broker.h|6 0
Modified: src/qpid/broker/Queue.cpp|10 14
Modified: src/qpid/broker/Queue.h|2 1
Modified: src/qpid/broker/QueueRegistry.cpp|16 8
Modified: src/qpid/broker/QueueRegistry.h|2 2
Modified: src/qpid/broker/SelfDestructQueue.cpp|1 1
Modified: src/qpid/broker/amqp/Session.cpp|1 1
Modified: src/tests/QueueRegistryTest.cpp|1 1

Revision: 0f5d21861f6935ed2e4eb6e21f1d3cef19e22aa5
Author: Justin Ross <jross@apache.org>
Date: 22/10/2018 06:43:10
Message:
QPID-8250: Update versions for 1.39.0-rc1 #MsgLength=42


----
Modified: VERSION.txt|1 1

Revision: 936183a80990e2c02089bfa9ee563d94213e9909
Author: Justin Ross <jross@apache.org>
Date: 22/10/2018 20:31:51
Message:
QPID-8250: Back to the snapshot version #MsgLength=40


----
Modified: VERSION.txt|1 1

Revision: 23040b4ec9d577f9f8e9058f1b6ce1b9fd135a08
Author: Justin Ross <jross@apache.org>
Date: 27/10/2018 08:16:54
Message:
QPID-8250: Update versions for the next release and regen the man pages #MsgLength=72


----
Modified: VERSION.txt|1 1
Modified: docs/man/qmf-gen.1|4 3
Modified: docs/man/qpid-config.1|46 24
Modified: docs/man/qpid-ha.1|2 2
Modified: docs/man/qpid-printevents.1|6 4
Modified: docs/man/qpid-queue-stats.1|12 7
Modified: docs/man/qpid-receive.1|2 2
Modified: docs/man/qpid-route.1|14 8
Modified: docs/man/qpid-send.1|2 2
Modified: docs/man/qpid-stat.1|8 5
Modified: docs/man/qpid-tool.1|8 5
Modified: docs/man/qpidd.1|7 7
Modified: management/python/setup.py|1 1

Revision: 6635215b6b4788b29270cd32c3a87672c87d7d17
Author: Robbie Gemmell <robbie@apache.org>
Date: 14/12/2018 18:47:01
Message:
NO-JIRA: update repository details and overview text #MsgLength=53


----
Modified: INSTALL.txt|3 2

Revision: 599869d3e1af7d95eab8e4885c9bf2d69899b242
Author: porrafabrizio <45757896+porrafabrizio@users.noreply.github.com>
Date: 07/01/2019 22:24:15
Message:
QPID-5285: closes #20 #MsgLength=240


----
Modified: src/qpid/broker/amqp/Incoming.cpp|7 1
Modified: src/qpid/broker/amqp/Incoming.h|1 0

Revision: 4ab3f90096e1137a5b0836313f44fc939dc34d1b
Author: Robbie Gemmell <robbie@apache.org>
Date: 29/01/2019 19:33:59
Message:
NO-JIRA: update year in NOTICE files #MsgLength=37


----
Modified: NOTICE.txt|1 1
Modified: management/python/NOTICE.txt|1 1

Revision: c5b29de77e1daf241a371590266c98d4e768c637
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 18/02/2019 15:10:29
Message:
QPID-8278: fix missing extern symbol for Windows builds #MsgLength=56


----
Modified: src/qpid/broker/Broker.h|1 1

Revision: b1f7154e183d90083a79dbe6ba9b58d2e3134def
Author: Gordon Sim <gsim@redhat.com>
Date: 26/03/2019 03:00:10
Message:
QPID-8287: avoid call holding lock #MsgLength=35


----
Modified: src/qpid/ha/QueueReplicator.cpp|17 1
Modified: src/qpid/ha/QueueReplicator.h|2 0

Revision: 8ed016c6bba566e257d72ae3938b4cab34e8778f
Author: Gordon Sim <gsim@redhat.com>
Date: 19/03/2019 22:06:59
Message:
QPID-8288: ensure closed is notified without waiting for deletion of connection #MsgLength=80


----
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|9 1
Modified: src/qpid/broker/amqp_0_10/Connection.h|1 0

Revision: aca4aa3c180b5abc46040b527a8bf6fbb415f1cc
Author: Gordon Sim <gsim@redhat.com>
Date: 26/03/2019 04:30:04
Message:
NO-JIRA: fix test to not prompt for password #MsgLength=45


----
Modified: src/tests/run_ssl_tests|2 2

Revision: 05de76684862914880f3bdf58e73518502499903
Author: Gordon Sim <gsim@redhat.com>
Date: 01/04/2019 17:09:20
Message:
QPID-8292: ensure bridge is marked detached on error #MsgLength=53


----
Modified: src/qpid/broker/Bridge.cpp|4 0

Revision: ea8e59de0e4f6dd3513549befee362c9af1f98ca
Author: Gordon Sim <gsim@redhat.com>
Date: 01/04/2019 19:32:56
Message:
QPID-8293: limit the number of messages that can be purged in a single sweep #MsgLength=77


----
Modified: src/qpid/broker/Broker.cpp|10 1
Modified: src/qpid/broker/Broker.h|2 0
Modified: src/qpid/broker/BrokerOptions.h|1 0
Modified: src/qpid/broker/Queue.cpp|15 11
Modified: src/qpid/broker/Queue.h|1 0

Revision: c7d9b7b825c6a35a7db26774d85248f1311f4539
Author: Gordon Sim <gsim@redhat.com>
Date: 24/04/2019 16:55:23
Message:
QPID-8300: add support for virtualhost option to 1.0 path #MsgLength=58


----
Modified: src/qpid/messaging/ConnectionOptions.cpp|2 0
Modified: src/qpid/messaging/amqp/ConnectionContext.cpp|3 0

Revision: 2c4691b04aab7b1c1a7c3d1596966bc187aa436e
Author: Gordon Sim <gsim@redhat.com>
Date: 09/05/2019 06:03:28
Message:
QPID-8310: fix determination of autodelete for subscription queues #MsgLength=67


----
Modified: src/qpid/broker/amqp/Session.cpp|1 1

Revision: 680cc0ff48a6b1ed5e7271ac1f9d2fe62766bc1b
Author: Gordon Sim <gsim@redhat.com>
Date: 15/05/2019 01:57:44
Message:
QPID-8313: truncate connection error message if necessary to fit in str8 #MsgLength=73


----
Modified: src/qpid/broker/amqp_0_10/Connection.cpp|10 1

Revision: 5d549d8409f19707f68ca0fbf24ee4e0d3ae8de6
Author: Kim van der Riet <kvdr@localhost.localdomain>
Date: 08/06/2019 00:39:40
Message:
QPID-8320: Fix for empty journal file leak when linearstore recovers #MsgLength=69


----
Modified: management/python/lib/qlslibs/analyze.py|1 1
Modified: src/qpid/linearstore/journal/RecoveryManager.cpp|26 6
Modified: src/qpid/linearstore/journal/RecoveryManager.h|2 0
Modified: src/qpid/linearstore/journal/jcntl.cpp|1 0

Revision: 230cac5f57621ed963082bab08a0670b8dbe9da5
Author: Gordon Sim <gsim@redhat.com>
Date: 10/06/2019 23:04:09
Message:
QPID-8319: Avoid dangling pointer to connection in message #MsgLength=59


----
Modified: src/qpid/broker/Broker.cpp|7 7
Modified: src/qpid/broker/Broker.h|7 7
Modified: src/qpid/broker/Connection.h|9 3
Modified: src/qpid/broker/Message.cpp|34 6
Modified: src/qpid/broker/Message.h|22 6
Modified: src/qpid/management/ManagementAgent.cpp|7 11
Modified: src/qpid/management/ManagementAgent.h|2 2

Revision: 47c701cac9d59690bce21d10375103fcad9dfceb
Author: Gordon Sim <gsim@redhat.com>
Date: 11/06/2019 04:17:48
Message:
QPID-8321: stop timer before shutting down poller and freeing plugins #MsgLength=70


----
Modified: src/qpid/broker/Broker.cpp|1 1

Revision: 0af09c9b6f407cde08222ec15b4eb167cd7f0c1a
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 04:24:14
Message:
NO-JIRA: Update appveyor definition for current builder image #MsgLength=62


----
Modified: appveyor.yml|2 1

Revision: c1afea7d6be060bcceaf3644bdeec4842854b68e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:00:34
Message:
QPID-7360: Neater way to turn warnings to errors that supports multiple compilers #MsgLength=82


----
Modified: CMakeLists.txt|1 0
Modified: src/CMakeLists.txt|4 6

Revision: 502d0f3a018fe97e2a62aa7dbe827a0c9690bbcf
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:08:44
Message:
QPID-8324: Fix CMake based warnings - Up minium CMake version not on Windows - Fix some policy settings - More correctly use target_link_libraries #MsgLength=147


----
Modified: CMakeLists.txt|3 10
Modified: bindings/CMakeLists.txt|6 0
Modified: src/CMakeLists.txt|13 8

Revision: 499634db653e7ec846938a42b3a8d3a6c81f4ec9
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:13:33
Message:
QPID-8324, QPID-7674: Fix all the implicit fallthrough warnings (Don't just cover them up!) - Including what seems like an actual bug #MsgLength=134


----
Modified: CMakeLists.txt|2 5
Modified: src/qpid/SaslFactory.cpp|1 0
Modified: src/qpid/amqp_0_10/Codecs.cpp|5 5
Modified: src/qpid/broker/Broker.cpp|1 0
Modified: src/qpid/broker/SelectorExpression.cpp|1 0
Modified: src/qpid/broker/SelectorToken.cpp|1 0
Modified: src/qpid/broker/amqp/Translation.cpp|1 0

Revision: 356b4f14774ac0c7ef59b6fa609bc56409794ad7
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:17:06
Message:
QPID-8324: Fix warning from Python setup.py #MsgLength=44


----
Modified: management/python/setup.py|1 1

Revision: 500af4f89f5f17cfa9a72b7737bea3734b430c9f
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:20:37
Message:
QPID-7893: Correct fix for potentially uninitialised value #MsgLength=59


----
Modified: src/qpid/broker/SelectorExpression.cpp|11 9
Modified: src/qpid/broker/SelectorValue.h|1 1

Revision: 5446ba36f8e8b39c735254c0b787422e3f76db3e
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:26:15
Message:
QPID-8325: Fix synthesised inherited operator= deprecation warnings #MsgLength=68


----
Modified: src/qpid/InlineVector.h|5 0
Modified: src/qpid/framing/ProtocolVersion.cpp|0 7
Modified: src/qpid/framing/ProtocolVersion.h|0 2
Modified: src/qpid/sys/ssl/util.cpp|1 10
Modified: src/qpid/sys/ssl/util.h|0 1

Revision: 0f04eb606dba43e08421b3f2050a8f7071640c81
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:28:00
Message:
QPID-8324: Fix NSS include file deprecation warning #MsgLength=52


----
Modified: src/qpid/sys/ssl/SslSocket.cpp|1 1

Revision: e0a836bde06ab8315ceee72fd35d69213c25b204
Author: Andrew Stitcher <astitcher@apache.org>
Date: 14/06/2019 14:28:42
Message:
QPID-8326: Remove unused code/data in Linearstore #MsgLength=50


----
Modified: src/qpid/linearstore/journal/pmgr.cpp|0 20
Modified: src/qpid/linearstore/journal/pmgr.h|2 6
Modified: src/qpid/linearstore/journal/wmgr.cpp|3 4

Revision: c58d88b32d294d048ae064e7948f703bed3a7fa0
Author: Andrew Stitcher <astitcher@apache.org>
Date: 19/06/2019 05:42:13
Message:
QPID-8327: Add Qpid::qpid imported target to cmake config file - This allows CMake users to just do target_link_libraries(xxx Qpid::qpid) #MsgLength=138


----
Modified: src/QpidConfig.cmake.in|8 0

Revision: 71529aa005493c176f173714d1b2605b53535643
Author: Robbie Gemmell <robbie@apache.org>
Date: 01/10/2019 17:46:39
Message:
NO-JIRA: add .asf.yaml file with github repo metadata #MsgLength=54


----
Added: .asf.yaml|31 0

Revision: 0ef8dd0188727f2561c6fc6c696cbfc0cdece8e1
Author: Robbie Gemmell <robbie@apache.org>
Date: 09/01/2020 20:58:33
Message:
update year in NOTICE files #MsgLength=28


----
Modified: NOTICE.txt|1 1
Modified: management/python/NOTICE.txt|1 1

Revision: 79234737332c4605e2b5bd1e8e31ead45f81deca
Author: Kim van der Riet <kpvdr@apache.org>
Date: 13/03/2020 00:26:11
Message:
QPID-8425: Fix for channel leak on federation links #MsgLength=52


----
Modified: src/qpid/broker/Link.cpp|4 0

Revision: 8b1a3dc1c9f0708685a9a515536f2ae2e4d37807
Author: Kim van der Riet <kpvdr@apache.org>
Date: 20/03/2020 22:18:57
Message:
QPID-8430: Excessive memory use when rerouting messages #MsgLength=56


----
Modified: src/qpid/broker/Message.cpp|3 1

Revision: c17d978d02dc0f1624970f447e2d1e3572b62f35
Author: Kim van der Riet <kpvdr@apache.org>
Date: 01/04/2020 00:32:31
Message:
QPID-8430: Reduce memory consumption of AMQP 0-10 messages when rerouted by preventing deep copy of non-persistent messages. AMQP 1.0 memory consumption is unchanged. #MsgLength=167


----
Modified: src/qpid/broker/Message.cpp|1 1
Modified: src/qpid/broker/PersistableMessage.h|1 0
Modified: src/qpid/broker/amqp/Message.cpp|4 0
Modified: src/qpid/broker/amqp/Message.h|1 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.cpp|4 0
Modified: src/qpid/broker/amqp_0_10/MessageTransfer.h|1 0

Revision: 9be8db506b10584872dd14f8fef5cc8c53118f79
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 14/07/2020 01:18:14
Message:
QPID-8453: fix boundary test between map8 and map32 encodings for AMQP 1.0 messages #MsgLength=84


----
Modified: src/qpid/amqp/MapEncoder.cpp|3 1
Modified: src/qpid/amqp/MapSizeCalculator.cpp|1 1

Revision: 09ec3c93ee6a19a6a678139b033ae14a4c51b535
Author: Gordon Sim <gsim@redhat.com>
Date: 16/07/2020 00:58:02
Message:
minor doc fixes #MsgLength=16


----
Modified: docs/book/src/cpp-broker/Security.xml|3 3
Modified: src/qpid/acl/AclConnectionCounter.cpp|1 1
Modified: src/qpid/acl/AclData.cpp|1 1
Modified: src/qpid/acl/AclData.h|5 5

Revision: f273d159714dcdd2217a7e59e3537261c309a91a
Author: Franz Hollerer <f.hollerer@gmx.net>
Date: 05/10/2020 18:09:19
Message:
QPID-8476: Fix order within member initializer list (#23) #MsgLength=59


----
Modified: examples/messaging/spout.cpp|1 1

Revision: 8e054e04e76ab24183ce7551f5e34a4ccfe8186e
Author: Chris Richardson <chris.richardson@fourc.eu>
Date: 19/12/2020 03:07:50
Message:
QPID-8390> Corrected FindProton.cmake relative path search (#22) #MsgLength=66


----
Modified: CMakeModules/FindProton.cmake|6 6

Revision: 039ba9ecdb12d8533cea3b693c6687ab6b58fc9a
Author: Robbie Gemmell <robbie@apache.org>
Date: 19/01/2021 00:28:25
Message:
NO-JIRA: bump years in NOTICE files #MsgLength=36


----
Modified: NOTICE.txt|1 1
Modified: management/python/NOTICE.txt|1 1

Revision: 0e558866e90ef3d5becbd2f6d5630a6a6dc43a5d
Author: Jiri Dank <jdanek@redhat.com>
Date: 15/03/2021 18:53:00
Message:
QPID-8413: Python 3 support in managementgen (#24) #MsgLength=52


----
Modified: managementgen/qmf-gen|3 1
Modified: managementgen/qmfgen/generate.py|11 4
Modified: managementgen/qmfgen/schema.py|24 15

Revision: 8029971c328020221d5bbc548bb75bb6442c4f75
Author: Robbie Gemmell <robbie@apache.org>
Date: 31/03/2021 20:09:24
Message:
NO-JIRA: update build status badges after branch renamed to main #MsgLength=65


----
Modified: INSTALL.txt|1 1
Modified: README.md|1 1

Revision: 9a6919cc3a776d237bdca0df5dacf614c2d50f23
Author: Chris Richardson <chris.richardson2@dyson.com>
Date: 09/04/2021 00:43:07
Message:
QPID-8516 Fix use of python2 in CMakeFiles excerpts #MsgLength=52


----
Modified: bindings/CMakeLists.txt|1 1
Modified: bindings/qpid/python/extra_dist/CMakeLists.txt|1 1
Modified: managementgen/CMakeLists.txt|1 1


Revision: 21a866749828aa2354234e4c5d3d1cc8ef2b9a80
Author: Cliff Jansen <cliffjansen@apache.org>
Date: 20/05/2021 22:34:11
Message:
QPID-8527: Fix hang in qpidd with TLS connections. #MsgLength=51


----
Modified: src/qpid/sys/posix/AsynchIO.cpp|7 0

Revision: 085744f20d02a3a7a3a183d5eeb022db1a85fc97
Author: Pete Fawcett <pete@fawcett.co.uk>
Date: 26/10/2021 22:53:47
Message:
Safety check that link is not NULL when processing pending delivery messages on session (AMQP 1.0) Queue creation - don't update QMF until all validation done (Re-push) #MsgLength=169


----
Modified: src/qpid/broker/Queue.cpp|9 7
Modified: src/qpid/broker/amqp/Session.cpp|5 1

Revision: 462e9568f81241ac4924d75bf7e551bea185e82d
Author: Pete Fawcett <pete@fawcett.co.uk>
Date: 27/05/2022 20:47:29
Message:
If cannot deliver incoming message due to queue limit then RELEASE message #MsgLength=75


----
Modified: src/qpid/broker/Queue.cpp|5 1
Modified: src/qpid/broker/amqp/Incoming.cpp|12 4
Modified: src/qpid/broker/amqp/Session.cpp|22 28

Revision: 772311f54c00bae23a46c7125c7763a27cccfb69
Author: Chris Richardson <chrisr@apache.org>
Date: 02/08/2022 00:04:09
Message:
QPID-8521 Fix assignment in comparison error (#26) #MsgLength=114


----
Modified: src/qpid/broker/amqp/Translation.cpp|1 1

